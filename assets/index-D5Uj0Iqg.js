(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function e(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=e(r);fetch(r.href,o)}})();function D0(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Wm={exports:{}},Qc={};var ME;function X2(){if(ME)return Qc;ME=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,r,o){var l=null;if(o!==void 0&&(l=""+o),r.key!==void 0&&(l=""+r.key),"key"in r){o={};for(var u in r)u!=="key"&&(o[u]=r[u])}else o=r;return r=o.ref,{$$typeof:n,type:i,key:l,ref:r!==void 0?r:null,props:o}}return Qc.Fragment=t,Qc.jsx=e,Qc.jsxs=e,Qc}var PE;function J2(){return PE||(PE=1,Wm.exports=X2()),Wm.exports}var C=J2(),Ym={exports:{}},kt={};var zE;function Z2(){if(zE)return kt;zE=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),_=Symbol.iterator;function x(U){return U===null||typeof U!="object"?null:(U=_&&U[_]||U["@@iterator"],typeof U=="function"?U:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,S={};function M(U,et,lt){this.props=U,this.context=et,this.refs=S,this.updater=lt||w}M.prototype.isReactComponent={},M.prototype.setState=function(U,et){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,et,"setState")},M.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function V(){}V.prototype=M.prototype;function F(U,et,lt){this.props=U,this.context=et,this.refs=S,this.updater=lt||w}var G=F.prototype=new V;G.constructor=F,A(G,M.prototype),G.isPureReactComponent=!0;var H=Array.isArray;function Y(){}var D={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function N(U,et,lt){var ut=lt.ref;return{$$typeof:n,type:U,key:et,ref:ut!==void 0?ut:null,props:lt}}function z(U,et){return N(U.type,et,U.props)}function O(U){return typeof U=="object"&&U!==null&&U.$$typeof===n}function L(U){var et={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(lt){return et[lt]})}var P=/\/+/g;function It(U,et){return typeof U=="object"&&U!==null&&U.key!=null?L(""+U.key):et.toString(36)}function bt(U){switch(U.status){case"fulfilled":return U.value;case"rejected":throw U.reason;default:switch(typeof U.status=="string"?U.then(Y,Y):(U.status="pending",U.then(function(et){U.status==="pending"&&(U.status="fulfilled",U.value=et)},function(et){U.status==="pending"&&(U.status="rejected",U.reason=et)})),U.status){case"fulfilled":return U.value;case"rejected":throw U.reason}}throw U}function X(U,et,lt,ut,mt){var _t=typeof U;(_t==="undefined"||_t==="boolean")&&(U=null);var ct=!1;if(U===null)ct=!0;else switch(_t){case"bigint":case"string":case"number":ct=!0;break;case"object":switch(U.$$typeof){case n:case t:ct=!0;break;case p:return ct=U._init,X(ct(U._payload),et,lt,ut,mt)}}if(ct)return mt=mt(U),ct=ut===""?"."+It(U,0):ut,H(mt)?(lt="",ct!=null&&(lt=ct.replace(P,"$&/")+"/"),X(mt,et,lt,"",function(Je){return Je})):mt!=null&&(O(mt)&&(mt=z(mt,lt+(mt.key==null||U&&U.key===mt.key?"":(""+mt.key).replace(P,"$&/")+"/")+ct)),et.push(mt)),1;ct=0;var Lt=ut===""?".":ut+":";if(H(U))for(var Wt=0;Wt<U.length;Wt++)ut=U[Wt],_t=Lt+It(ut,Wt),ct+=X(ut,et,lt,_t,mt);else if(Wt=x(U),typeof Wt=="function")for(U=Wt.call(U),Wt=0;!(ut=U.next()).done;)ut=ut.value,_t=Lt+It(ut,Wt++),ct+=X(ut,et,lt,_t,mt);else if(_t==="object"){if(typeof U.then=="function")return X(bt(U),et,lt,ut,mt);throw et=String(U),Error("Objects are not valid as a React child (found: "+(et==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":et)+"). If you meant to render a collection of children, use an array instead.")}return ct}function ot(U,et,lt){if(U==null)return U;var ut=[],mt=0;return X(U,ut,"","",function(_t){return et.call(lt,_t,mt++)}),ut}function gt(U){if(U._status===-1){var et=U._result;et=et(),et.then(function(lt){(U._status===0||U._status===-1)&&(U._status=1,U._result=lt)},function(lt){(U._status===0||U._status===-1)&&(U._status=2,U._result=lt)}),U._status===-1&&(U._status=0,U._result=et)}if(U._status===1)return U._result.default;throw U._result}var Rt=typeof reportError=="function"?reportError:function(U){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var et=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof U=="object"&&U!==null&&typeof U.message=="string"?String(U.message):String(U),error:U});if(!window.dispatchEvent(et))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",U);return}console.error(U)},Dt={map:ot,forEach:function(U,et,lt){ot(U,function(){et.apply(this,arguments)},lt)},count:function(U){var et=0;return ot(U,function(){et++}),et},toArray:function(U){return ot(U,function(et){return et})||[]},only:function(U){if(!O(U))throw Error("React.Children.only expected to receive a single React element child.");return U}};return kt.Activity=y,kt.Children=Dt,kt.Component=M,kt.Fragment=e,kt.Profiler=r,kt.PureComponent=F,kt.StrictMode=i,kt.Suspense=d,kt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,kt.__COMPILER_RUNTIME={__proto__:null,c:function(U){return D.H.useMemoCache(U)}},kt.cache=function(U){return function(){return U.apply(null,arguments)}},kt.cacheSignal=function(){return null},kt.cloneElement=function(U,et,lt){if(U==null)throw Error("The argument must be a React element, but you passed "+U+".");var ut=A({},U.props),mt=U.key;if(et!=null)for(_t in et.key!==void 0&&(mt=""+et.key),et)!I.call(et,_t)||_t==="key"||_t==="__self"||_t==="__source"||_t==="ref"&&et.ref===void 0||(ut[_t]=et[_t]);var _t=arguments.length-2;if(_t===1)ut.children=lt;else if(1<_t){for(var ct=Array(_t),Lt=0;Lt<_t;Lt++)ct[Lt]=arguments[Lt+2];ut.children=ct}return N(U.type,mt,ut)},kt.createContext=function(U){return U={$$typeof:l,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null},U.Provider=U,U.Consumer={$$typeof:o,_context:U},U},kt.createElement=function(U,et,lt){var ut,mt={},_t=null;if(et!=null)for(ut in et.key!==void 0&&(_t=""+et.key),et)I.call(et,ut)&&ut!=="key"&&ut!=="__self"&&ut!=="__source"&&(mt[ut]=et[ut]);var ct=arguments.length-2;if(ct===1)mt.children=lt;else if(1<ct){for(var Lt=Array(ct),Wt=0;Wt<ct;Wt++)Lt[Wt]=arguments[Wt+2];mt.children=Lt}if(U&&U.defaultProps)for(ut in ct=U.defaultProps,ct)mt[ut]===void 0&&(mt[ut]=ct[ut]);return N(U,_t,mt)},kt.createRef=function(){return{current:null}},kt.forwardRef=function(U){return{$$typeof:u,render:U}},kt.isValidElement=O,kt.lazy=function(U){return{$$typeof:p,_payload:{_status:-1,_result:U},_init:gt}},kt.memo=function(U,et){return{$$typeof:f,type:U,compare:et===void 0?null:et}},kt.startTransition=function(U){var et=D.T,lt={};D.T=lt;try{var ut=U(),mt=D.S;mt!==null&&mt(lt,ut),typeof ut=="object"&&ut!==null&&typeof ut.then=="function"&&ut.then(Y,Rt)}catch(_t){Rt(_t)}finally{et!==null&&lt.types!==null&&(et.types=lt.types),D.T=et}},kt.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},kt.use=function(U){return D.H.use(U)},kt.useActionState=function(U,et,lt){return D.H.useActionState(U,et,lt)},kt.useCallback=function(U,et){return D.H.useCallback(U,et)},kt.useContext=function(U){return D.H.useContext(U)},kt.useDebugValue=function(){},kt.useDeferredValue=function(U,et){return D.H.useDeferredValue(U,et)},kt.useEffect=function(U,et){return D.H.useEffect(U,et)},kt.useEffectEvent=function(U){return D.H.useEffectEvent(U)},kt.useId=function(){return D.H.useId()},kt.useImperativeHandle=function(U,et,lt){return D.H.useImperativeHandle(U,et,lt)},kt.useInsertionEffect=function(U,et){return D.H.useInsertionEffect(U,et)},kt.useLayoutEffect=function(U,et){return D.H.useLayoutEffect(U,et)},kt.useMemo=function(U,et){return D.H.useMemo(U,et)},kt.useOptimistic=function(U,et){return D.H.useOptimistic(U,et)},kt.useReducer=function(U,et,lt){return D.H.useReducer(U,et,lt)},kt.useRef=function(U){return D.H.useRef(U)},kt.useState=function(U){return D.H.useState(U)},kt.useSyncExternalStore=function(U,et,lt){return D.H.useSyncExternalStore(U,et,lt)},kt.useTransition=function(){return D.H.useTransition()},kt.version="19.2.1",kt}var LE;function dg(){return LE||(LE=1,Ym.exports=Z2()),Ym.exports}var $=dg();const we=D0($);var Km={exports:{}},Xc={},Qm={exports:{}},Xm={};var VE;function tN(){return VE||(VE=1,(function(n){function t(X,ot){var gt=X.length;X.push(ot);t:for(;0<gt;){var Rt=gt-1>>>1,Dt=X[Rt];if(0<r(Dt,ot))X[Rt]=ot,X[gt]=Dt,gt=Rt;else break t}}function e(X){return X.length===0?null:X[0]}function i(X){if(X.length===0)return null;var ot=X[0],gt=X.pop();if(gt!==ot){X[0]=gt;t:for(var Rt=0,Dt=X.length,U=Dt>>>1;Rt<U;){var et=2*(Rt+1)-1,lt=X[et],ut=et+1,mt=X[ut];if(0>r(lt,gt))ut<Dt&&0>r(mt,lt)?(X[Rt]=mt,X[ut]=gt,Rt=ut):(X[Rt]=lt,X[et]=gt,Rt=et);else if(ut<Dt&&0>r(mt,gt))X[Rt]=mt,X[ut]=gt,Rt=ut;else break t}}return ot}function r(X,ot){var gt=X.sortIndex-ot.sortIndex;return gt!==0?gt:X.id-ot.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var d=[],f=[],p=1,y=null,_=3,x=!1,w=!1,A=!1,S=!1,M=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,F=typeof setImmediate<"u"?setImmediate:null;function G(X){for(var ot=e(f);ot!==null;){if(ot.callback===null)i(f);else if(ot.startTime<=X)i(f),ot.sortIndex=ot.expirationTime,t(d,ot);else break;ot=e(f)}}function H(X){if(A=!1,G(X),!w)if(e(d)!==null)w=!0,Y||(Y=!0,L());else{var ot=e(f);ot!==null&&bt(H,ot.startTime-X)}}var Y=!1,D=-1,I=5,N=-1;function z(){return S?!0:!(n.unstable_now()-N<I)}function O(){if(S=!1,Y){var X=n.unstable_now();N=X;var ot=!0;try{t:{w=!1,A&&(A=!1,V(D),D=-1),x=!0;var gt=_;try{e:{for(G(X),y=e(d);y!==null&&!(y.expirationTime>X&&z());){var Rt=y.callback;if(typeof Rt=="function"){y.callback=null,_=y.priorityLevel;var Dt=Rt(y.expirationTime<=X);if(X=n.unstable_now(),typeof Dt=="function"){y.callback=Dt,G(X),ot=!0;break e}y===e(d)&&i(d),G(X)}else i(d);y=e(d)}if(y!==null)ot=!0;else{var U=e(f);U!==null&&bt(H,U.startTime-X),ot=!1}}break t}finally{y=null,_=gt,x=!1}ot=void 0}}finally{ot?L():Y=!1}}}var L;if(typeof F=="function")L=function(){F(O)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,It=P.port2;P.port1.onmessage=O,L=function(){It.postMessage(null)}}else L=function(){M(O,0)};function bt(X,ot){D=M(function(){X(n.unstable_now())},ot)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(X){X.callback=null},n.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<X?Math.floor(1e3/X):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_next=function(X){switch(_){case 1:case 2:case 3:var ot=3;break;default:ot=_}var gt=_;_=ot;try{return X()}finally{_=gt}},n.unstable_requestPaint=function(){S=!0},n.unstable_runWithPriority=function(X,ot){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var gt=_;_=X;try{return ot()}finally{_=gt}},n.unstable_scheduleCallback=function(X,ot,gt){var Rt=n.unstable_now();switch(typeof gt=="object"&&gt!==null?(gt=gt.delay,gt=typeof gt=="number"&&0<gt?Rt+gt:Rt):gt=Rt,X){case 1:var Dt=-1;break;case 2:Dt=250;break;case 5:Dt=1073741823;break;case 4:Dt=1e4;break;default:Dt=5e3}return Dt=gt+Dt,X={id:p++,callback:ot,priorityLevel:X,startTime:gt,expirationTime:Dt,sortIndex:-1},gt>Rt?(X.sortIndex=gt,t(f,X),e(d)===null&&X===e(f)&&(A?(V(D),D=-1):A=!0,bt(H,gt-Rt))):(X.sortIndex=Dt,t(d,X),w||x||(w=!0,Y||(Y=!0,L()))),X},n.unstable_shouldYield=z,n.unstable_wrapCallback=function(X){var ot=_;return function(){var gt=_;_=ot;try{return X.apply(this,arguments)}finally{_=gt}}}})(Xm)),Xm}var BE;function eN(){return BE||(BE=1,Qm.exports=tN()),Qm.exports}var Jm={exports:{}},_n={};var UE;function nN(){if(UE)return _n;UE=1;var n=dg();function t(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(d,f,p){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:y==null?null:""+y,children:d,containerInfo:f,implementation:p}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return _n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,_n.createPortal=function(d,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return o(d,f,null,p)},_n.flushSync=function(d){var f=l.T,p=i.p;try{if(l.T=null,i.p=2,d)return d()}finally{l.T=f,i.p=p,i.d.f()}},_n.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(d,f))},_n.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},_n.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var p=f.as,y=u(p,f.crossOrigin),_=typeof f.integrity=="string"?f.integrity:void 0,x=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?i.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:y,integrity:_,fetchPriority:x}):p==="script"&&i.d.X(d,{crossOrigin:y,integrity:_,fetchPriority:x,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},_n.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=u(f.as,f.crossOrigin);i.d.M(d,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(d)},_n.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,y=u(p,f.crossOrigin);i.d.L(d,p,{crossOrigin:y,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},_n.preloadModule=function(d,f){if(typeof d=="string")if(f){var p=u(f.as,f.crossOrigin);i.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(d)},_n.requestFormReset=function(d){i.d.r(d)},_n.unstable_batchedUpdates=function(d,f){return d(f)},_n.useFormState=function(d,f,p){return l.H.useFormState(d,f,p)},_n.useFormStatus=function(){return l.H.useHostTransitionStatus()},_n.version="19.2.1",_n}var jE;function A1(){if(jE)return Jm.exports;jE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Jm.exports=nN(),Jm.exports}var FE;function iN(){if(FE)return Xc;FE=1;var n=eN(),t=dg(),e=A1();function i(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var a=s,c=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(c=a.return),s=a.return;while(s)}return a.tag===3?c:null}function l(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function u(s){if(s.tag===31){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function d(s){if(o(s)!==s)throw Error(i(188))}function f(s){var a=s.alternate;if(!a){if(a=o(s),a===null)throw Error(i(188));return a!==s?null:s}for(var c=s,h=a;;){var m=c.return;if(m===null)break;var b=m.alternate;if(b===null){if(h=m.return,h!==null){c=h;continue}break}if(m.child===b.child){for(b=m.child;b;){if(b===c)return d(m),s;if(b===h)return d(m),a;b=b.sibling}throw Error(i(188))}if(c.return!==h.return)c=m,h=b;else{for(var E=!1,R=m.child;R;){if(R===c){E=!0,c=m,h=b;break}if(R===h){E=!0,h=m,c=b;break}R=R.sibling}if(!E){for(R=b.child;R;){if(R===c){E=!0,c=b,h=m;break}if(R===h){E=!0,h=b,c=m;break}R=R.sibling}if(!E)throw Error(i(189))}}if(c.alternate!==h)throw Error(i(190))}if(c.tag!==3)throw Error(i(188));return c.stateNode.current===c?s:a}function p(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=p(s),a!==null)return a;s=s.sibling}return null}var y=Object.assign,_=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),S=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),V=Symbol.for("react.consumer"),F=Symbol.for("react.context"),G=Symbol.for("react.forward_ref"),H=Symbol.for("react.suspense"),Y=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),O=Symbol.iterator;function L(s){return s===null||typeof s!="object"?null:(s=O&&s[O]||s["@@iterator"],typeof s=="function"?s:null)}var P=Symbol.for("react.client.reference");function It(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===P?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case A:return"Fragment";case M:return"Profiler";case S:return"StrictMode";case H:return"Suspense";case Y:return"SuspenseList";case N:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case w:return"Portal";case F:return s.displayName||"Context";case V:return(s._context.displayName||"Context")+".Consumer";case G:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case D:return a=s.displayName||null,a!==null?a:It(s.type)||"Memo";case I:a=s._payload,s=s._init;try{return It(s(a))}catch{}}return null}var bt=Array.isArray,X=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,gt={pending:!1,data:null,method:null,action:null},Rt=[],Dt=-1;function U(s){return{current:s}}function et(s){0>Dt||(s.current=Rt[Dt],Rt[Dt]=null,Dt--)}function lt(s,a){Dt++,Rt[Dt]=s.current,s.current=a}var ut=U(null),mt=U(null),_t=U(null),ct=U(null);function Lt(s,a){switch(lt(_t,a),lt(mt,s),lt(ut,null),a.nodeType){case 9:case 11:s=(s=a.documentElement)&&(s=s.namespaceURI)?iE(s):0;break;default:if(s=a.tagName,a=a.namespaceURI)a=iE(a),s=sE(a,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}et(ut),lt(ut,s)}function Wt(){et(ut),et(mt),et(_t)}function Je(s){s.memoizedState!==null&&lt(ct,s);var a=ut.current,c=sE(a,s.type);a!==c&&(lt(mt,s),lt(ut,c))}function ln(s){mt.current===s&&(et(ut),et(mt)),ct.current===s&&(et(ct),$c._currentValue=gt)}var _e,On;function xt(s){if(_e===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);_e=a&&a[1]||"",On=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+_e+s+On}var Pe=!1;function Ze(s,a){if(!s||Pe)return"";Pe=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(a){var rt=function(){throw Error()};if(Object.defineProperty(rt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(rt,[])}catch(tt){var J=tt}Reflect.construct(s,[],rt)}else{try{rt.call()}catch(tt){J=tt}s.call(rt.prototype)}}else{try{throw Error()}catch(tt){J=tt}(rt=s())&&typeof rt.catch=="function"&&rt.catch(function(){})}}catch(tt){if(tt&&J&&typeof tt.stack=="string")return[tt.stack,J.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=h.DetermineComponentFrameRoot(),E=b[0],R=b[1];if(E&&R){var B=E.split(`
`),Q=R.split(`
`);for(m=h=0;h<B.length&&!B[h].includes("DetermineComponentFrameRoot");)h++;for(;m<Q.length&&!Q[m].includes("DetermineComponentFrameRoot");)m++;if(h===B.length||m===Q.length)for(h=B.length-1,m=Q.length-1;1<=h&&0<=m&&B[h]!==Q[m];)m--;for(;1<=h&&0<=m;h--,m--)if(B[h]!==Q[m]){if(h!==1||m!==1)do if(h--,m--,0>m||B[h]!==Q[m]){var nt=`
`+B[h].replace(" at new "," at ");return s.displayName&&nt.includes("<anonymous>")&&(nt=nt.replace("<anonymous>",s.displayName)),nt}while(1<=h&&0<=m);break}}}finally{Pe=!1,Error.prepareStackTrace=c}return(c=s?s.displayName||s.name:"")?xt(c):""}function Wl(s,a){switch(s.tag){case 26:case 27:case 5:return xt(s.type);case 16:return xt("Lazy");case 13:return s.child!==a&&a!==null?xt("Suspense Fallback"):xt("Suspense");case 19:return xt("SuspenseList");case 0:case 15:return Ze(s.type,!1);case 11:return Ze(s.type.render,!1);case 1:return Ze(s.type,!0);case 31:return xt("Activity");default:return""}}function Yl(s){try{var a="",c=null;do a+=Wl(s,c),c=s,s=s.return;while(s);return a}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var ze=Object.prototype.hasOwnProperty,Ye=n.unstable_scheduleCallback,cr=n.unstable_cancelCallback,Kg=n.unstable_shouldYield,bh=n.unstable_requestPaint,Cn=n.unstable_now,_a=n.unstable_getCurrentPriorityLevel,Kl=n.unstable_ImmediatePriority,Ql=n.unstable_UserBlockingPriority,ur=n.unstable_NormalPriority,Qg=n.unstable_LowPriority,_h=n.unstable_IdlePriority,vh=n.log,xh=n.unstable_setDisableYieldValue,Ri=null,cn=null;function oi(s){if(typeof vh=="function"&&xh(s),cn&&typeof cn.setStrictMode=="function")try{cn.setStrictMode(Ri,s)}catch{}}var Ce=Math.clz32?Math.clz32:Th,Eh=Math.log,Eo=Math.LN2;function Th(s){return s>>>=0,s===0?32:31-(Eh(s)/Eo|0)|0}var Ki=256,va=262144,Le=4194304;function Qi(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Xi(s,a,c){var h=s.pendingLanes;if(h===0)return 0;var m=0,b=s.suspendedLanes,E=s.pingedLanes;s=s.warmLanes;var R=h&134217727;return R!==0?(h=R&~b,h!==0?m=Qi(h):(E&=R,E!==0?m=Qi(E):c||(c=R&~s,c!==0&&(m=Qi(c))))):(R=h&~b,R!==0?m=Qi(R):E!==0?m=Qi(E):c||(c=h&~s,c!==0&&(m=Qi(c)))),m===0?0:a!==0&&a!==m&&(a&b)===0&&(b=m&-m,c=a&-a,b>=c||b===32&&(c&4194048)!==0)?a:m}function Di(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function Xg(s,a){switch(s){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Sh(){var s=Le;return Le<<=1,(Le&62914560)===0&&(Le=4194304),s}function Ji(s){for(var a=[],c=0;31>c;c++)a.push(s);return a}function xa(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Jg(s,a,c,h,m,b){var E=s.pendingLanes;s.pendingLanes=c,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=c,s.entangledLanes&=c,s.errorRecoveryDisabledLanes&=c,s.shellSuspendCounter=0;var R=s.entanglements,B=s.expirationTimes,Q=s.hiddenUpdates;for(c=E&~c;0<c;){var nt=31-Ce(c),rt=1<<nt;R[nt]=0,B[nt]=-1;var J=Q[nt];if(J!==null)for(Q[nt]=null,nt=0;nt<J.length;nt++){var tt=J[nt];tt!==null&&(tt.lane&=-536870913)}c&=~rt}h!==0&&Ea(s,h,0),b!==0&&m===0&&s.tag!==0&&(s.suspendedLanes|=b&~(E&~a))}function Ea(s,a,c){s.pendingLanes|=a,s.suspendedLanes&=~a;var h=31-Ce(a);s.entangledLanes|=a,s.entanglements[h]=s.entanglements[h]|1073741824|c&261930}function Xl(s,a){var c=s.entangledLanes|=a;for(s=s.entanglements;c;){var h=31-Ce(c),m=1<<h;m&a|s[h]&a&&(s[h]|=a),c&=~m}}function Jl(s,a){var c=a&-a;return c=(c&42)!==0?1:Ta(c),(c&(s.suspendedLanes|a))!==0?0:c}function Ta(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Rs(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function wh(){var s=ot.p;return s!==0?s:(s=window.event,s===void 0?32:CE(s.type))}function Ni(s,a){var c=ot.p;try{return ot.p=s,a()}finally{ot.p=c}}var ki=Math.random().toString(36).slice(2),Ve="__reactFiber$"+ki,tn="__reactProps$"+ki,Zi="__reactContainer$"+ki,To="__reactEvents$"+ki,Zg="__reactListeners$"+ki,Ah="__reactHandles$"+ki,Ch="__reactResources$"+ki,ts="__reactMarker$"+ki;function So(s){delete s[Ve],delete s[tn],delete s[To],delete s[Zg],delete s[Ah]}function es(s){var a=s[Ve];if(a)return a;for(var c=s.parentNode;c;){if(a=c[Zi]||c[Ve]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(s=hE(s);s!==null;){if(c=s[Ve])return c;s=hE(s)}return a}s=c,c=s.parentNode}return null}function li(s){if(s=s[Ve]||s[Zi]){var a=s.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return s}return null}function Gn(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(i(33))}function ns(s){var a=s[Ch];return a||(a=s[Ch]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function Be(s){s[ts]=!0}var Zl=new Set,tc={};function is(s,a){ss(s,a),ss(s+"Capture",a)}function ss(s,a){for(tc[s]=a,s=0;s<a.length;s++)Zl.add(a[s])}var ec=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),nc={},ic={};function Ih(s){return ze.call(ic,s)?!0:ze.call(nc,s)?!1:ec.test(s)?ic[s]=!0:(nc[s]=!0,!1)}function wo(s,a,c){if(Ih(a))if(c===null)s.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var h=a.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+c)}}function $n(s,a,c){if(c===null)s.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+c)}}function Ue(s,a,c,h){if(h===null)s.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(c);return}s.setAttributeNS(a,c,""+h)}}function en(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function hr(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function sc(s,a,c){var h=Object.getOwnPropertyDescriptor(s.constructor.prototype,a);if(!s.hasOwnProperty(a)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var m=h.get,b=h.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return m.call(this)},set:function(E){c=""+E,b.call(this,E)}}),Object.defineProperty(s,a,{enumerable:h.enumerable}),{getValue:function(){return c},setValue:function(E){c=""+E},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function se(s){if(!s._valueTracker){var a=hr(s)?"checked":"value";s._valueTracker=sc(s,a,""+s[a])}}function Sa(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var c=a.getValue(),h="";return s&&(h=hr(s)?s.checked?"true":"false":s.value),s=h,s!==c?(a.setValue(s),!0):!1}function rs(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var wa=/[\n"\\]/g;function Mn(s){return s.replace(wa,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Ao(s,a,c,h,m,b,E,R){s.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?s.type=E:s.removeAttribute("type"),a!=null?E==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+en(a)):s.value!==""+en(a)&&(s.value=""+en(a)):E!=="submit"&&E!=="reset"||s.removeAttribute("value"),a!=null?rc(s,E,en(a)):c!=null?rc(s,E,en(c)):h!=null&&s.removeAttribute("value"),m==null&&b!=null&&(s.defaultChecked=!!b),m!=null&&(s.checked=m&&typeof m!="function"&&typeof m!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?s.name=""+en(R):s.removeAttribute("name")}function Rh(s,a,c,h,m,b,E,R){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(s.type=b),a!=null||c!=null){if(!(b!=="submit"&&b!=="reset"||a!=null)){se(s);return}c=c!=null?""+en(c):"",a=a!=null?""+en(a):c,R||a===s.value||(s.value=a),s.defaultValue=a}h=h??m,h=typeof h!="function"&&typeof h!="symbol"&&!!h,s.checked=R?s.checked:!!h,s.defaultChecked=!!h,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(s.name=E),se(s)}function rc(s,a,c){a==="number"&&rs(s.ownerDocument)===s||s.defaultValue===""+c||(s.defaultValue=""+c)}function dr(s,a,c,h){if(s=s.options,a){a={};for(var m=0;m<c.length;m++)a["$"+c[m]]=!0;for(c=0;c<s.length;c++)m=a.hasOwnProperty("$"+s[c].value),s[c].selected!==m&&(s[c].selected=m),m&&h&&(s[c].defaultSelected=!0)}else{for(c=""+en(c),a=null,m=0;m<s.length;m++){if(s[m].value===c){s[m].selected=!0,h&&(s[m].defaultSelected=!0);return}a!==null||s[m].disabled||(a=s[m])}a!==null&&(a.selected=!0)}}function Dh(s,a,c){if(a!=null&&(a=""+en(a),a!==s.value&&(s.value=a),c==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=c!=null?""+en(c):""}function fr(s,a,c,h){if(a==null){if(h!=null){if(c!=null)throw Error(i(92));if(bt(h)){if(1<h.length)throw Error(i(93));h=h[0]}c=h}c==null&&(c=""),a=c}c=en(a),s.defaultValue=c,h=s.textContent,h===c&&h!==""&&h!==null&&(s.value=h),se(s)}function Pn(s,a){if(a){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=a;return}}s.textContent=a}var Nh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ac(s,a,c){var h=a.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?h?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":h?s.setProperty(a,c):typeof c!="number"||c===0||Nh.has(a)?a==="float"?s.cssFloat=c:s[a]=(""+c).trim():s[a]=c+"px"}function oc(s,a,c){if(a!=null&&typeof a!="object")throw Error(i(62));if(s=s.style,c!=null){for(var h in c)!c.hasOwnProperty(h)||a!=null&&a.hasOwnProperty(h)||(h.indexOf("--")===0?s.setProperty(h,""):h==="float"?s.cssFloat="":s[h]="");for(var m in a)h=a[m],a.hasOwnProperty(m)&&c[m]!==h&&ac(s,m,h)}else for(var b in a)a.hasOwnProperty(b)&&ac(s,b,a[b])}function Co(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Io(s){return gr.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Oi(){}var lc=null;function ci(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var pr=null,as=null;function Aa(s){var a=li(s);if(a&&(s=a.stateNode)){var c=s[tn]||null;t:switch(s=a.stateNode,a.type){case"input":if(Ao(s,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),a=c.name,c.type==="radio"&&a!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+Mn(""+a)+'"][type="radio"]'),a=0;a<c.length;a++){var h=c[a];if(h!==s&&h.form===s.form){var m=h[tn]||null;if(!m)throw Error(i(90));Ao(h,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(a=0;a<c.length;a++)h=c[a],h.form===s.form&&Sa(h)}break t;case"textarea":Dh(s,c.value,c.defaultValue);break t;case"select":a=c.value,a!=null&&dr(s,!!c.multiple,a,!1)}}}var Ro=!1;function mr(s,a,c){if(Ro)return s(a,c);Ro=!0;try{var h=s(a);return h}finally{if(Ro=!1,(pr!==null||as!==null)&&(wd(),pr&&(a=pr,s=as,as=pr=null,Aa(a),s)))for(a=0;a<s.length;a++)Aa(s[a])}}function Mi(s,a){var c=s.stateNode;if(c===null)return null;var h=c[tn]||null;if(h===null)return null;c=h[a];t:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break t;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(i(231,a,typeof c));return c}var ui=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ca=!1;if(ui)try{var le={};Object.defineProperty(le,"passive",{get:function(){Ca=!0}}),window.addEventListener("test",le,le),window.removeEventListener("test",le,le)}catch{Ca=!1}var os=null,cc=null,Ia=null;function uc(){if(Ia)return Ia;var s,a=cc,c=a.length,h,m="value"in os?os.value:os.textContent,b=m.length;for(s=0;s<c&&a[s]===m[s];s++);var E=c-s;for(h=1;h<=E&&a[c-h]===m[b-h];h++);return Ia=m.slice(s,1<h?1-h:void 0)}function Ra(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function Ds(){return!0}function Pi(){return!1}function un(s){function a(c,h,m,b,E){this._reactName=c,this._targetInst=m,this.type=h,this.nativeEvent=b,this.target=E,this.currentTarget=null;for(var R in s)s.hasOwnProperty(R)&&(c=s[R],this[R]=c?c(b):b[R]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Ds:Pi,this.isPropagationStopped=Pi,this}return y(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Ds)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Ds)},persist:function(){},isPersistent:Ds}),a}var Ns={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ls=un(Ns),yr=y({},Ns,{view:0,detail:0}),hc=un(yr),br,Do,cs,No=y({},yr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_r,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==cs&&(cs&&s.type==="mousemove"?(br=s.screenX-cs.screenX,Do=s.screenY-cs.screenY):Do=br=0,cs=s),br)},movementY:function(s){return"movementY"in s?s.movementY:Do}}),dc=un(No),Da=y({},No,{dataTransfer:0}),Oh=un(Da),Mh=y({},yr,{relatedTarget:0}),Na=un(Mh),fc=y({},Ns,{animationName:0,elapsedTime:0,pseudoElement:0}),Ph=un(fc),ko=y({},Ns,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),zh=un(ko),Lh=y({},Ns,{data:0}),us=un(Lh),Vh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Uh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jh(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=Uh[s])?!!a[s]:!1}function _r(){return jh}var In=y({},yr,{key:function(s){if(s.key){var a=Vh[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=Ra(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Bh[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_r,charCode:function(s){return s.type==="keypress"?Ra(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Ra(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Fh=un(In),Hh=y({},No,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ks=un(Hh),g=y({},yr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_r}),v=un(g),T=y({},Ns,{propertyName:0,elapsedTime:0,pseudoElement:0}),k=un(T),W=y({},No,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Z=un(W),dt=y({},Ns,{newState:0,oldState:0}),Mt=un(dt),Ie=[9,13,27,32],te=ui&&"CompositionEvent"in window,ve=null;ui&&"documentMode"in document&&(ve=document.documentMode);var hi=ui&&"TextEvent"in window&&!ve,hs=ui&&(!te||ve&&8<ve&&11>=ve),zi=" ",Li=!1;function ka(s,a){switch(s){case"keyup":return Ie.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Oo(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Mo=!1;function xD(s,a){switch(s){case"compositionend":return Oo(a);case"keypress":return a.which!==32?null:(Li=!0,zi);case"textInput":return s=a.data,s===zi&&Li?null:s;default:return null}}function ED(s,a){if(Mo)return s==="compositionend"||!te&&ka(s,a)?(s=uc(),Ia=cc=os=null,Mo=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return hs&&a.locale!=="ko"?null:a.data;default:return null}}var TD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function g_(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!TD[s.type]:a==="textarea"}function p_(s,a,c,h){pr?as?as.push(h):as=[h]:pr=h,a=kd(a,"onChange"),0<a.length&&(c=new ls("onChange","change",null,c,h),s.push({event:c,listeners:a}))}var gc=null,pc=null;function SD(s){Xx(s,0)}function qh(s){var a=Gn(s);if(Sa(a))return s}function m_(s,a){if(s==="change")return a}var y_=!1;if(ui){var tp;if(ui){var ep="oninput"in document;if(!ep){var b_=document.createElement("div");b_.setAttribute("oninput","return;"),ep=typeof b_.oninput=="function"}tp=ep}else tp=!1;y_=tp&&(!document.documentMode||9<document.documentMode)}function __(){gc&&(gc.detachEvent("onpropertychange",v_),pc=gc=null)}function v_(s){if(s.propertyName==="value"&&qh(pc)){var a=[];p_(a,pc,s,ci(s)),mr(SD,a)}}function wD(s,a,c){s==="focusin"?(__(),gc=a,pc=c,gc.attachEvent("onpropertychange",v_)):s==="focusout"&&__()}function AD(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return qh(pc)}function CD(s,a){if(s==="click")return qh(a)}function ID(s,a){if(s==="input"||s==="change")return qh(a)}function RD(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var Wn=typeof Object.is=="function"?Object.is:RD;function mc(s,a){if(Wn(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var c=Object.keys(s),h=Object.keys(a);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var m=c[h];if(!ze.call(a,m)||!Wn(s[m],a[m]))return!1}return!0}function x_(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function E_(s,a){var c=x_(s);s=0;for(var h;c;){if(c.nodeType===3){if(h=s+c.textContent.length,s<=a&&h>=a)return{node:c,offset:a-s};s=h}t:{for(;c;){if(c.nextSibling){c=c.nextSibling;break t}c=c.parentNode}c=void 0}c=x_(c)}}function T_(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?T_(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function S_(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=rs(s.document);a instanceof s.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)s=a.contentWindow;else break;a=rs(s.document)}return a}function np(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}var DD=ui&&"documentMode"in document&&11>=document.documentMode,Po=null,ip=null,yc=null,sp=!1;function w_(s,a,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;sp||Po==null||Po!==rs(h)||(h=Po,"selectionStart"in h&&np(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),yc&&mc(yc,h)||(yc=h,h=kd(ip,"onSelect"),0<h.length&&(a=new ls("onSelect","select",null,a,c),s.push({event:a,listeners:h}),a.target=Po)))}function Oa(s,a){var c={};return c[s.toLowerCase()]=a.toLowerCase(),c["Webkit"+s]="webkit"+a,c["Moz"+s]="moz"+a,c}var zo={animationend:Oa("Animation","AnimationEnd"),animationiteration:Oa("Animation","AnimationIteration"),animationstart:Oa("Animation","AnimationStart"),transitionrun:Oa("Transition","TransitionRun"),transitionstart:Oa("Transition","TransitionStart"),transitioncancel:Oa("Transition","TransitionCancel"),transitionend:Oa("Transition","TransitionEnd")},rp={},A_={};ui&&(A_=document.createElement("div").style,"AnimationEvent"in window||(delete zo.animationend.animation,delete zo.animationiteration.animation,delete zo.animationstart.animation),"TransitionEvent"in window||delete zo.transitionend.transition);function Ma(s){if(rp[s])return rp[s];if(!zo[s])return s;var a=zo[s],c;for(c in a)if(a.hasOwnProperty(c)&&c in A_)return rp[s]=a[c];return s}var C_=Ma("animationend"),I_=Ma("animationiteration"),R_=Ma("animationstart"),ND=Ma("transitionrun"),kD=Ma("transitionstart"),OD=Ma("transitioncancel"),D_=Ma("transitionend"),N_=new Map,ap="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");ap.push("scrollEnd");function Vi(s,a){N_.set(s,a),is(a,[s])}var Gh=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},di=[],Lo=0,op=0;function $h(){for(var s=Lo,a=op=Lo=0;a<s;){var c=di[a];di[a++]=null;var h=di[a];di[a++]=null;var m=di[a];di[a++]=null;var b=di[a];if(di[a++]=null,h!==null&&m!==null){var E=h.pending;E===null?m.next=m:(m.next=E.next,E.next=m),h.pending=m}b!==0&&k_(c,m,b)}}function Wh(s,a,c,h){di[Lo++]=s,di[Lo++]=a,di[Lo++]=c,di[Lo++]=h,op|=h,s.lanes|=h,s=s.alternate,s!==null&&(s.lanes|=h)}function lp(s,a,c,h){return Wh(s,a,c,h),Yh(s)}function Pa(s,a){return Wh(s,null,null,a),Yh(s)}function k_(s,a,c){s.lanes|=c;var h=s.alternate;h!==null&&(h.lanes|=c);for(var m=!1,b=s.return;b!==null;)b.childLanes|=c,h=b.alternate,h!==null&&(h.childLanes|=c),b.tag===22&&(s=b.stateNode,s===null||s._visibility&1||(m=!0)),s=b,b=b.return;return s.tag===3?(b=s.stateNode,m&&a!==null&&(m=31-Ce(c),s=b.hiddenUpdates,h=s[m],h===null?s[m]=[a]:h.push(a),a.lane=c|536870912),b):null}function Yh(s){if(50<Bc)throw Bc=0,ym=null,Error(i(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var Vo={};function MD(s,a,c,h){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Yn(s,a,c,h){return new MD(s,a,c,h)}function cp(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Os(s,a){var c=s.alternate;return c===null?(c=Yn(s.tag,a,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=a,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&65011712,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,a=s.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c.refCleanup=s.refCleanup,c}function O_(s,a){s.flags&=65011714;var c=s.alternate;return c===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,a=c.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function Kh(s,a,c,h,m,b){var E=0;if(h=s,typeof s=="function")cp(s)&&(E=1);else if(typeof s=="string")E=B2(s,c,ut.current)?26:s==="html"||s==="head"||s==="body"?27:5;else t:switch(s){case N:return s=Yn(31,c,a,m),s.elementType=N,s.lanes=b,s;case A:return za(c.children,m,b,a);case S:E=8,m|=24;break;case M:return s=Yn(12,c,a,m|2),s.elementType=M,s.lanes=b,s;case H:return s=Yn(13,c,a,m),s.elementType=H,s.lanes=b,s;case Y:return s=Yn(19,c,a,m),s.elementType=Y,s.lanes=b,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case F:E=10;break t;case V:E=9;break t;case G:E=11;break t;case D:E=14;break t;case I:E=16,h=null;break t}E=29,c=Error(i(130,s===null?"null":typeof s,"")),h=null}return a=Yn(E,c,a,m),a.elementType=s,a.type=h,a.lanes=b,a}function za(s,a,c,h){return s=Yn(7,s,h,a),s.lanes=c,s}function up(s,a,c){return s=Yn(6,s,null,a),s.lanes=c,s}function M_(s){var a=Yn(18,null,null,0);return a.stateNode=s,a}function hp(s,a,c){return a=Yn(4,s.children!==null?s.children:[],s.key,a),a.lanes=c,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}var P_=new WeakMap;function fi(s,a){if(typeof s=="object"&&s!==null){var c=P_.get(s);return c!==void 0?c:(a={value:s,source:a,stack:Yl(a)},P_.set(s,a),a)}return{value:s,source:a,stack:Yl(a)}}var Bo=[],Uo=0,Qh=null,bc=0,gi=[],pi=0,vr=null,ds=1,fs="";function Ms(s,a){Bo[Uo++]=bc,Bo[Uo++]=Qh,Qh=s,bc=a}function z_(s,a,c){gi[pi++]=ds,gi[pi++]=fs,gi[pi++]=vr,vr=s;var h=ds;s=fs;var m=32-Ce(h)-1;h&=~(1<<m),c+=1;var b=32-Ce(a)+m;if(30<b){var E=m-m%5;b=(h&(1<<E)-1).toString(32),h>>=E,m-=E,ds=1<<32-Ce(a)+m|c<<m|h,fs=b+s}else ds=1<<b|c<<m|h,fs=s}function dp(s){s.return!==null&&(Ms(s,1),z_(s,1,0))}function fp(s){for(;s===Qh;)Qh=Bo[--Uo],Bo[Uo]=null,bc=Bo[--Uo],Bo[Uo]=null;for(;s===vr;)vr=gi[--pi],gi[pi]=null,fs=gi[--pi],gi[pi]=null,ds=gi[--pi],gi[pi]=null}function L_(s,a){gi[pi++]=ds,gi[pi++]=fs,gi[pi++]=vr,ds=a.id,fs=a.overflow,vr=s}var hn=null,pe=null,Gt=!1,xr=null,mi=!1,gp=Error(i(519));function Er(s){var a=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw _c(fi(a,s)),gp}function V_(s){var a=s.stateNode,c=s.type,h=s.memoizedProps;switch(a[Ve]=s,a[tn]=h,c){case"dialog":Bt("cancel",a),Bt("close",a);break;case"iframe":case"object":case"embed":Bt("load",a);break;case"video":case"audio":for(c=0;c<jc.length;c++)Bt(jc[c],a);break;case"source":Bt("error",a);break;case"img":case"image":case"link":Bt("error",a),Bt("load",a);break;case"details":Bt("toggle",a);break;case"input":Bt("invalid",a),Rh(a,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":Bt("invalid",a);break;case"textarea":Bt("invalid",a),fr(a,h.value,h.defaultValue,h.children)}c=h.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||a.textContent===""+c||h.suppressHydrationWarning===!0||eE(a.textContent,c)?(h.popover!=null&&(Bt("beforetoggle",a),Bt("toggle",a)),h.onScroll!=null&&Bt("scroll",a),h.onScrollEnd!=null&&Bt("scrollend",a),h.onClick!=null&&(a.onclick=Oi),a=!0):a=!1,a||Er(s,!0)}function B_(s){for(hn=s.return;hn;)switch(hn.tag){case 5:case 31:case 13:mi=!1;return;case 27:case 3:mi=!0;return;default:hn=hn.return}}function jo(s){if(s!==hn)return!1;if(!Gt)return B_(s),Gt=!0,!1;var a=s.tag,c;if((c=a!==3&&a!==27)&&((c=a===5)&&(c=s.type,c=!(c!=="form"&&c!=="button")||km(s.type,s.memoizedProps)),c=!c),c&&pe&&Er(s),B_(s),a===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));pe=uE(s)}else if(a===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));pe=uE(s)}else a===27?(a=pe,zr(s.type)?(s=Lm,Lm=null,pe=s):pe=a):pe=hn?bi(s.stateNode.nextSibling):null;return!0}function La(){pe=hn=null,Gt=!1}function pp(){var s=xr;return s!==null&&(Bn===null?Bn=s:Bn.push.apply(Bn,s),xr=null),s}function _c(s){xr===null?xr=[s]:xr.push(s)}var mp=U(null),Va=null,Ps=null;function Tr(s,a,c){lt(mp,a._currentValue),a._currentValue=c}function zs(s){s._currentValue=mp.current,et(mp)}function yp(s,a,c){for(;s!==null;){var h=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,h!==null&&(h.childLanes|=a)):h!==null&&(h.childLanes&a)!==a&&(h.childLanes|=a),s===c)break;s=s.return}}function bp(s,a,c,h){var m=s.child;for(m!==null&&(m.return=s);m!==null;){var b=m.dependencies;if(b!==null){var E=m.child;b=b.firstContext;t:for(;b!==null;){var R=b;b=m;for(var B=0;B<a.length;B++)if(R.context===a[B]){b.lanes|=c,R=b.alternate,R!==null&&(R.lanes|=c),yp(b.return,c,s),h||(E=null);break t}b=R.next}}else if(m.tag===18){if(E=m.return,E===null)throw Error(i(341));E.lanes|=c,b=E.alternate,b!==null&&(b.lanes|=c),yp(E,c,s),E=null}else E=m.child;if(E!==null)E.return=m;else for(E=m;E!==null;){if(E===s){E=null;break}if(m=E.sibling,m!==null){m.return=E.return,E=m;break}E=E.return}m=E}}function Fo(s,a,c,h){s=null;for(var m=a,b=!1;m!==null;){if(!b){if((m.flags&524288)!==0)b=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var E=m.alternate;if(E===null)throw Error(i(387));if(E=E.memoizedProps,E!==null){var R=m.type;Wn(m.pendingProps.value,E.value)||(s!==null?s.push(R):s=[R])}}else if(m===ct.current){if(E=m.alternate,E===null)throw Error(i(387));E.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(s!==null?s.push($c):s=[$c])}m=m.return}s!==null&&bp(a,s,c,h),a.flags|=262144}function Xh(s){for(s=s.firstContext;s!==null;){if(!Wn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Ba(s){Va=s,Ps=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function dn(s){return U_(Va,s)}function Jh(s,a){return Va===null&&Ba(s),U_(s,a)}function U_(s,a){var c=a._currentValue;if(a={context:a,memoizedValue:c,next:null},Ps===null){if(s===null)throw Error(i(308));Ps=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else Ps=Ps.next=a;return c}var PD=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(c,h){s.push(h)}};this.abort=function(){a.aborted=!0,s.forEach(function(c){return c()})}},zD=n.unstable_scheduleCallback,LD=n.unstable_NormalPriority,je={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function _p(){return{controller:new PD,data:new Map,refCount:0}}function vc(s){s.refCount--,s.refCount===0&&zD(LD,function(){s.controller.abort()})}var xc=null,vp=0,Ho=0,qo=null;function VD(s,a){if(xc===null){var c=xc=[];vp=0,Ho=Tm(),qo={status:"pending",value:void 0,then:function(h){c.push(h)}}}return vp++,a.then(j_,j_),a}function j_(){if(--vp===0&&xc!==null){qo!==null&&(qo.status="fulfilled");var s=xc;xc=null,Ho=0,qo=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function BD(s,a){var c=[],h={status:"pending",value:null,reason:null,then:function(m){c.push(m)}};return s.then(function(){h.status="fulfilled",h.value=a;for(var m=0;m<c.length;m++)(0,c[m])(a)},function(m){for(h.status="rejected",h.reason=m,m=0;m<c.length;m++)(0,c[m])(void 0)}),h}var F_=X.S;X.S=function(s,a){wx=Cn(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&VD(s,a),F_!==null&&F_(s,a)};var Ua=U(null);function xp(){var s=Ua.current;return s!==null?s:de.pooledCache}function Zh(s,a){a===null?lt(Ua,Ua.current):lt(Ua,a.pool)}function H_(){var s=xp();return s===null?null:{parent:je._currentValue,pool:s}}var Go=Error(i(460)),Ep=Error(i(474)),td=Error(i(542)),ed={then:function(){}};function q_(s){return s=s.status,s==="fulfilled"||s==="rejected"}function G_(s,a,c){switch(c=s[c],c===void 0?s.push(a):c!==a&&(a.then(Oi,Oi),a=c),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,W_(s),s;default:if(typeof a.status=="string")a.then(Oi,Oi);else{if(s=de,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=a,s.status="pending",s.then(function(h){if(a.status==="pending"){var m=a;m.status="fulfilled",m.value=h}},function(h){if(a.status==="pending"){var m=a;m.status="rejected",m.reason=h}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,W_(s),s}throw Fa=a,Go}}function ja(s){try{var a=s._init;return a(s._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(Fa=c,Go):c}}var Fa=null;function $_(){if(Fa===null)throw Error(i(459));var s=Fa;return Fa=null,s}function W_(s){if(s===Go||s===td)throw Error(i(483))}var $o=null,Ec=0;function nd(s){var a=Ec;return Ec+=1,$o===null&&($o=[]),G_($o,s,a)}function Tc(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function id(s,a){throw a.$$typeof===_?Error(i(525)):(s=Object.prototype.toString.call(a),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function Y_(s){function a(q,j){if(s){var K=q.deletions;K===null?(q.deletions=[j],q.flags|=16):K.push(j)}}function c(q,j){if(!s)return null;for(;j!==null;)a(q,j),j=j.sibling;return null}function h(q){for(var j=new Map;q!==null;)q.key!==null?j.set(q.key,q):j.set(q.index,q),q=q.sibling;return j}function m(q,j){return q=Os(q,j),q.index=0,q.sibling=null,q}function b(q,j,K){return q.index=K,s?(K=q.alternate,K!==null?(K=K.index,K<j?(q.flags|=67108866,j):K):(q.flags|=67108866,j)):(q.flags|=1048576,j)}function E(q){return s&&q.alternate===null&&(q.flags|=67108866),q}function R(q,j,K,it){return j===null||j.tag!==6?(j=up(K,q.mode,it),j.return=q,j):(j=m(j,K),j.return=q,j)}function B(q,j,K,it){var Tt=K.type;return Tt===A?nt(q,j,K.props.children,it,K.key):j!==null&&(j.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===I&&ja(Tt)===j.type)?(j=m(j,K.props),Tc(j,K),j.return=q,j):(j=Kh(K.type,K.key,K.props,null,q.mode,it),Tc(j,K),j.return=q,j)}function Q(q,j,K,it){return j===null||j.tag!==4||j.stateNode.containerInfo!==K.containerInfo||j.stateNode.implementation!==K.implementation?(j=hp(K,q.mode,it),j.return=q,j):(j=m(j,K.children||[]),j.return=q,j)}function nt(q,j,K,it,Tt){return j===null||j.tag!==7?(j=za(K,q.mode,it,Tt),j.return=q,j):(j=m(j,K),j.return=q,j)}function rt(q,j,K){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=up(""+j,q.mode,K),j.return=q,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case x:return K=Kh(j.type,j.key,j.props,null,q.mode,K),Tc(K,j),K.return=q,K;case w:return j=hp(j,q.mode,K),j.return=q,j;case I:return j=ja(j),rt(q,j,K)}if(bt(j)||L(j))return j=za(j,q.mode,K,null),j.return=q,j;if(typeof j.then=="function")return rt(q,nd(j),K);if(j.$$typeof===F)return rt(q,Jh(q,j),K);id(q,j)}return null}function J(q,j,K,it){var Tt=j!==null?j.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return Tt!==null?null:R(q,j,""+K,it);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case x:return K.key===Tt?B(q,j,K,it):null;case w:return K.key===Tt?Q(q,j,K,it):null;case I:return K=ja(K),J(q,j,K,it)}if(bt(K)||L(K))return Tt!==null?null:nt(q,j,K,it,null);if(typeof K.then=="function")return J(q,j,nd(K),it);if(K.$$typeof===F)return J(q,j,Jh(q,K),it);id(q,K)}return null}function tt(q,j,K,it,Tt){if(typeof it=="string"&&it!==""||typeof it=="number"||typeof it=="bigint")return q=q.get(K)||null,R(j,q,""+it,Tt);if(typeof it=="object"&&it!==null){switch(it.$$typeof){case x:return q=q.get(it.key===null?K:it.key)||null,B(j,q,it,Tt);case w:return q=q.get(it.key===null?K:it.key)||null,Q(j,q,it,Tt);case I:return it=ja(it),tt(q,j,K,it,Tt)}if(bt(it)||L(it))return q=q.get(K)||null,nt(j,q,it,Tt,null);if(typeof it.then=="function")return tt(q,j,K,nd(it),Tt);if(it.$$typeof===F)return tt(q,j,K,Jh(j,it),Tt);id(j,it)}return null}function yt(q,j,K,it){for(var Tt=null,Xt=null,vt=j,zt=j=0,jt=null;vt!==null&&zt<K.length;zt++){vt.index>zt?(jt=vt,vt=null):jt=vt.sibling;var Jt=J(q,vt,K[zt],it);if(Jt===null){vt===null&&(vt=jt);break}s&&vt&&Jt.alternate===null&&a(q,vt),j=b(Jt,j,zt),Xt===null?Tt=Jt:Xt.sibling=Jt,Xt=Jt,vt=jt}if(zt===K.length)return c(q,vt),Gt&&Ms(q,zt),Tt;if(vt===null){for(;zt<K.length;zt++)vt=rt(q,K[zt],it),vt!==null&&(j=b(vt,j,zt),Xt===null?Tt=vt:Xt.sibling=vt,Xt=vt);return Gt&&Ms(q,zt),Tt}for(vt=h(vt);zt<K.length;zt++)jt=tt(vt,q,zt,K[zt],it),jt!==null&&(s&&jt.alternate!==null&&vt.delete(jt.key===null?zt:jt.key),j=b(jt,j,zt),Xt===null?Tt=jt:Xt.sibling=jt,Xt=jt);return s&&vt.forEach(function(jr){return a(q,jr)}),Gt&&Ms(q,zt),Tt}function wt(q,j,K,it){if(K==null)throw Error(i(151));for(var Tt=null,Xt=null,vt=j,zt=j=0,jt=null,Jt=K.next();vt!==null&&!Jt.done;zt++,Jt=K.next()){vt.index>zt?(jt=vt,vt=null):jt=vt.sibling;var jr=J(q,vt,Jt.value,it);if(jr===null){vt===null&&(vt=jt);break}s&&vt&&jr.alternate===null&&a(q,vt),j=b(jr,j,zt),Xt===null?Tt=jr:Xt.sibling=jr,Xt=jr,vt=jt}if(Jt.done)return c(q,vt),Gt&&Ms(q,zt),Tt;if(vt===null){for(;!Jt.done;zt++,Jt=K.next())Jt=rt(q,Jt.value,it),Jt!==null&&(j=b(Jt,j,zt),Xt===null?Tt=Jt:Xt.sibling=Jt,Xt=Jt);return Gt&&Ms(q,zt),Tt}for(vt=h(vt);!Jt.done;zt++,Jt=K.next())Jt=tt(vt,q,zt,Jt.value,it),Jt!==null&&(s&&Jt.alternate!==null&&vt.delete(Jt.key===null?zt:Jt.key),j=b(Jt,j,zt),Xt===null?Tt=Jt:Xt.sibling=Jt,Xt=Jt);return s&&vt.forEach(function(Q2){return a(q,Q2)}),Gt&&Ms(q,zt),Tt}function he(q,j,K,it){if(typeof K=="object"&&K!==null&&K.type===A&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case x:t:{for(var Tt=K.key;j!==null;){if(j.key===Tt){if(Tt=K.type,Tt===A){if(j.tag===7){c(q,j.sibling),it=m(j,K.props.children),it.return=q,q=it;break t}}else if(j.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===I&&ja(Tt)===j.type){c(q,j.sibling),it=m(j,K.props),Tc(it,K),it.return=q,q=it;break t}c(q,j);break}else a(q,j);j=j.sibling}K.type===A?(it=za(K.props.children,q.mode,it,K.key),it.return=q,q=it):(it=Kh(K.type,K.key,K.props,null,q.mode,it),Tc(it,K),it.return=q,q=it)}return E(q);case w:t:{for(Tt=K.key;j!==null;){if(j.key===Tt)if(j.tag===4&&j.stateNode.containerInfo===K.containerInfo&&j.stateNode.implementation===K.implementation){c(q,j.sibling),it=m(j,K.children||[]),it.return=q,q=it;break t}else{c(q,j);break}else a(q,j);j=j.sibling}it=hp(K,q.mode,it),it.return=q,q=it}return E(q);case I:return K=ja(K),he(q,j,K,it)}if(bt(K))return yt(q,j,K,it);if(L(K)){if(Tt=L(K),typeof Tt!="function")throw Error(i(150));return K=Tt.call(K),wt(q,j,K,it)}if(typeof K.then=="function")return he(q,j,nd(K),it);if(K.$$typeof===F)return he(q,j,Jh(q,K),it);id(q,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,j!==null&&j.tag===6?(c(q,j.sibling),it=m(j,K),it.return=q,q=it):(c(q,j),it=up(K,q.mode,it),it.return=q,q=it),E(q)):c(q,j)}return function(q,j,K,it){try{Ec=0;var Tt=he(q,j,K,it);return $o=null,Tt}catch(vt){if(vt===Go||vt===td)throw vt;var Xt=Yn(29,vt,null,q.mode);return Xt.lanes=it,Xt.return=q,Xt}finally{}}}var Ha=Y_(!0),K_=Y_(!1),Sr=!1;function Tp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Sp(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function wr(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Ar(s,a,c){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,(ee&2)!==0){var m=h.pending;return m===null?a.next=a:(a.next=m.next,m.next=a),h.pending=a,a=Yh(s),k_(s,null,c),a}return Wh(s,h,a,c),Yh(s)}function Sc(s,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194048)!==0)){var h=a.lanes;h&=s.pendingLanes,c|=h,a.lanes=c,Xl(s,c)}}function wp(s,a){var c=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var m=null,b=null;if(c=c.firstBaseUpdate,c!==null){do{var E={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};b===null?m=b=E:b=b.next=E,c=c.next}while(c!==null);b===null?m=b=a:b=b.next=a}else m=b=a;c={baseState:h.baseState,firstBaseUpdate:m,lastBaseUpdate:b,shared:h.shared,callbacks:h.callbacks},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=a:s.next=a,c.lastBaseUpdate=a}var Ap=!1;function wc(){if(Ap){var s=qo;if(s!==null)throw s}}function Ac(s,a,c,h){Ap=!1;var m=s.updateQueue;Sr=!1;var b=m.firstBaseUpdate,E=m.lastBaseUpdate,R=m.shared.pending;if(R!==null){m.shared.pending=null;var B=R,Q=B.next;B.next=null,E===null?b=Q:E.next=Q,E=B;var nt=s.alternate;nt!==null&&(nt=nt.updateQueue,R=nt.lastBaseUpdate,R!==E&&(R===null?nt.firstBaseUpdate=Q:R.next=Q,nt.lastBaseUpdate=B))}if(b!==null){var rt=m.baseState;E=0,nt=Q=B=null,R=b;do{var J=R.lane&-536870913,tt=J!==R.lane;if(tt?(Ut&J)===J:(h&J)===J){J!==0&&J===Ho&&(Ap=!0),nt!==null&&(nt=nt.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});t:{var yt=s,wt=R;J=a;var he=c;switch(wt.tag){case 1:if(yt=wt.payload,typeof yt=="function"){rt=yt.call(he,rt,J);break t}rt=yt;break t;case 3:yt.flags=yt.flags&-65537|128;case 0:if(yt=wt.payload,J=typeof yt=="function"?yt.call(he,rt,J):yt,J==null)break t;rt=y({},rt,J);break t;case 2:Sr=!0}}J=R.callback,J!==null&&(s.flags|=64,tt&&(s.flags|=8192),tt=m.callbacks,tt===null?m.callbacks=[J]:tt.push(J))}else tt={lane:J,tag:R.tag,payload:R.payload,callback:R.callback,next:null},nt===null?(Q=nt=tt,B=rt):nt=nt.next=tt,E|=J;if(R=R.next,R===null){if(R=m.shared.pending,R===null)break;tt=R,R=tt.next,tt.next=null,m.lastBaseUpdate=tt,m.shared.pending=null}}while(!0);nt===null&&(B=rt),m.baseState=B,m.firstBaseUpdate=Q,m.lastBaseUpdate=nt,b===null&&(m.shared.lanes=0),Nr|=E,s.lanes=E,s.memoizedState=rt}}function Q_(s,a){if(typeof s!="function")throw Error(i(191,s));s.call(a)}function X_(s,a){var c=s.callbacks;if(c!==null)for(s.callbacks=null,s=0;s<c.length;s++)Q_(c[s],a)}var Wo=U(null),sd=U(0);function J_(s,a){s=Gs,lt(sd,s),lt(Wo,a),Gs=s|a.baseLanes}function Cp(){lt(sd,Gs),lt(Wo,Wo.current)}function Ip(){Gs=sd.current,et(Wo),et(sd)}var Kn=U(null),yi=null;function Cr(s){var a=s.alternate;lt(Re,Re.current&1),lt(Kn,s),yi===null&&(a===null||Wo.current!==null||a.memoizedState!==null)&&(yi=s)}function Rp(s){lt(Re,Re.current),lt(Kn,s),yi===null&&(yi=s)}function Z_(s){s.tag===22?(lt(Re,Re.current),lt(Kn,s),yi===null&&(yi=s)):Ir()}function Ir(){lt(Re,Re.current),lt(Kn,Kn.current)}function Qn(s){et(Kn),yi===s&&(yi=null),et(Re)}var Re=U(0);function rd(s){for(var a=s;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||Pm(c)||zm(c)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Ls=0,Pt=null,ce=null,Fe=null,ad=!1,Yo=!1,qa=!1,od=0,Cc=0,Ko=null,UD=0;function Te(){throw Error(i(321))}function Dp(s,a){if(a===null)return!1;for(var c=0;c<a.length&&c<s.length;c++)if(!Wn(s[c],a[c]))return!1;return!0}function Np(s,a,c,h,m,b){return Ls=b,Pt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,X.H=s===null||s.memoizedState===null?zv:$p,qa=!1,b=c(h,m),qa=!1,Yo&&(b=ev(a,c,h,m)),tv(s),b}function tv(s){X.H=Dc;var a=ce!==null&&ce.next!==null;if(Ls=0,Fe=ce=Pt=null,ad=!1,Cc=0,Ko=null,a)throw Error(i(300));s===null||He||(s=s.dependencies,s!==null&&Xh(s)&&(He=!0))}function ev(s,a,c,h){Pt=s;var m=0;do{if(Yo&&(Ko=null),Cc=0,Yo=!1,25<=m)throw Error(i(301));if(m+=1,Fe=ce=null,s.updateQueue!=null){var b=s.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}X.H=Lv,b=a(c,h)}while(Yo);return b}function jD(){var s=X.H,a=s.useState()[0];return a=typeof a.then=="function"?Ic(a):a,s=s.useState()[0],(ce!==null?ce.memoizedState:null)!==s&&(Pt.flags|=1024),a}function kp(){var s=od!==0;return od=0,s}function Op(s,a,c){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~c}function Mp(s){if(ad){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}ad=!1}Ls=0,Fe=ce=Pt=null,Yo=!1,Cc=od=0,Ko=null}function Rn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fe===null?Pt.memoizedState=Fe=s:Fe=Fe.next=s,Fe}function De(){if(ce===null){var s=Pt.alternate;s=s!==null?s.memoizedState:null}else s=ce.next;var a=Fe===null?Pt.memoizedState:Fe.next;if(a!==null)Fe=a,ce=s;else{if(s===null)throw Pt.alternate===null?Error(i(467)):Error(i(310));ce=s,s={memoizedState:ce.memoizedState,baseState:ce.baseState,baseQueue:ce.baseQueue,queue:ce.queue,next:null},Fe===null?Pt.memoizedState=Fe=s:Fe=Fe.next=s}return Fe}function ld(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Ic(s){var a=Cc;return Cc+=1,Ko===null&&(Ko=[]),s=G_(Ko,s,a),a=Pt,(Fe===null?a.memoizedState:Fe.next)===null&&(a=a.alternate,X.H=a===null||a.memoizedState===null?zv:$p),s}function cd(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Ic(s);if(s.$$typeof===F)return dn(s)}throw Error(i(438,String(s)))}function Pp(s){var a=null,c=Pt.updateQueue;if(c!==null&&(a=c.memoCache),a==null){var h=Pt.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(a={data:h.data.map(function(m){return m.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),c===null&&(c=ld(),Pt.updateQueue=c),c.memoCache=a,c=a.data[a.index],c===void 0)for(c=a.data[a.index]=Array(s),h=0;h<s;h++)c[h]=z;return a.index++,c}function Vs(s,a){return typeof a=="function"?a(s):a}function ud(s){var a=De();return zp(a,ce,s)}function zp(s,a,c){var h=s.queue;if(h===null)throw Error(i(311));h.lastRenderedReducer=c;var m=s.baseQueue,b=h.pending;if(b!==null){if(m!==null){var E=m.next;m.next=b.next,b.next=E}a.baseQueue=m=b,h.pending=null}if(b=s.baseState,m===null)s.memoizedState=b;else{a=m.next;var R=E=null,B=null,Q=a,nt=!1;do{var rt=Q.lane&-536870913;if(rt!==Q.lane?(Ut&rt)===rt:(Ls&rt)===rt){var J=Q.revertLane;if(J===0)B!==null&&(B=B.next={lane:0,revertLane:0,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),rt===Ho&&(nt=!0);else if((Ls&J)===J){Q=Q.next,J===Ho&&(nt=!0);continue}else rt={lane:0,revertLane:Q.revertLane,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},B===null?(R=B=rt,E=b):B=B.next=rt,Pt.lanes|=J,Nr|=J;rt=Q.action,qa&&c(b,rt),b=Q.hasEagerState?Q.eagerState:c(b,rt)}else J={lane:rt,revertLane:Q.revertLane,gesture:Q.gesture,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},B===null?(R=B=J,E=b):B=B.next=J,Pt.lanes|=rt,Nr|=rt;Q=Q.next}while(Q!==null&&Q!==a);if(B===null?E=b:B.next=R,!Wn(b,s.memoizedState)&&(He=!0,nt&&(c=qo,c!==null)))throw c;s.memoizedState=b,s.baseState=E,s.baseQueue=B,h.lastRenderedState=b}return m===null&&(h.lanes=0),[s.memoizedState,h.dispatch]}function Lp(s){var a=De(),c=a.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=s;var h=c.dispatch,m=c.pending,b=a.memoizedState;if(m!==null){c.pending=null;var E=m=m.next;do b=s(b,E.action),E=E.next;while(E!==m);Wn(b,a.memoizedState)||(He=!0),a.memoizedState=b,a.baseQueue===null&&(a.baseState=b),c.lastRenderedState=b}return[b,h]}function nv(s,a,c){var h=Pt,m=De(),b=Gt;if(b){if(c===void 0)throw Error(i(407));c=c()}else c=a();var E=!Wn((ce||m).memoizedState,c);if(E&&(m.memoizedState=c,He=!0),m=m.queue,Up(rv.bind(null,h,m,s),[s]),m.getSnapshot!==a||E||Fe!==null&&Fe.memoizedState.tag&1){if(h.flags|=2048,Qo(9,{destroy:void 0},sv.bind(null,h,m,c,a),null),de===null)throw Error(i(349));b||(Ls&127)!==0||iv(h,a,c)}return c}function iv(s,a,c){s.flags|=16384,s={getSnapshot:a,value:c},a=Pt.updateQueue,a===null?(a=ld(),Pt.updateQueue=a,a.stores=[s]):(c=a.stores,c===null?a.stores=[s]:c.push(s))}function sv(s,a,c,h){a.value=c,a.getSnapshot=h,av(a)&&ov(s)}function rv(s,a,c){return c(function(){av(a)&&ov(s)})}function av(s){var a=s.getSnapshot;s=s.value;try{var c=a();return!Wn(s,c)}catch{return!0}}function ov(s){var a=Pa(s,2);a!==null&&Un(a,s,2)}function Vp(s){var a=Rn();if(typeof s=="function"){var c=s;if(s=c(),qa){oi(!0);try{c()}finally{oi(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vs,lastRenderedState:s},a}function lv(s,a,c,h){return s.baseState=c,zp(s,ce,typeof h=="function"?h:Vs)}function FD(s,a,c,h,m){if(fd(s))throw Error(i(485));if(s=a.action,s!==null){var b={payload:m,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){b.listeners.push(E)}};X.T!==null?c(!0):b.isTransition=!1,h(b),c=a.pending,c===null?(b.next=a.pending=b,cv(a,b)):(b.next=c.next,a.pending=c.next=b)}}function cv(s,a){var c=a.action,h=a.payload,m=s.state;if(a.isTransition){var b=X.T,E={};X.T=E;try{var R=c(m,h),B=X.S;B!==null&&B(E,R),uv(s,a,R)}catch(Q){Bp(s,a,Q)}finally{b!==null&&E.types!==null&&(b.types=E.types),X.T=b}}else try{b=c(m,h),uv(s,a,b)}catch(Q){Bp(s,a,Q)}}function uv(s,a,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(h){hv(s,a,h)},function(h){return Bp(s,a,h)}):hv(s,a,c)}function hv(s,a,c){a.status="fulfilled",a.value=c,dv(a),s.state=c,a=s.pending,a!==null&&(c=a.next,c===a?s.pending=null:(c=c.next,a.next=c,cv(s,c)))}function Bp(s,a,c){var h=s.pending;if(s.pending=null,h!==null){h=h.next;do a.status="rejected",a.reason=c,dv(a),a=a.next;while(a!==h)}s.action=null}function dv(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function fv(s,a){return a}function gv(s,a){if(Gt){var c=de.formState;if(c!==null){t:{var h=Pt;if(Gt){if(pe){e:{for(var m=pe,b=mi;m.nodeType!==8;){if(!b){m=null;break e}if(m=bi(m.nextSibling),m===null){m=null;break e}}b=m.data,m=b==="F!"||b==="F"?m:null}if(m){pe=bi(m.nextSibling),h=m.data==="F!";break t}}Er(h)}h=!1}h&&(a=c[0])}}return c=Rn(),c.memoizedState=c.baseState=a,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:fv,lastRenderedState:a},c.queue=h,c=Ov.bind(null,Pt,h),h.dispatch=c,h=Vp(!1),b=Gp.bind(null,Pt,!1,h.queue),h=Rn(),m={state:a,dispatch:null,action:s,pending:null},h.queue=m,c=FD.bind(null,Pt,m,b,c),m.dispatch=c,h.memoizedState=s,[a,c,!1]}function pv(s){var a=De();return mv(a,ce,s)}function mv(s,a,c){if(a=zp(s,a,fv)[0],s=ud(Vs)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var h=Ic(a)}catch(E){throw E===Go?td:E}else h=a;a=De();var m=a.queue,b=m.dispatch;return c!==a.memoizedState&&(Pt.flags|=2048,Qo(9,{destroy:void 0},HD.bind(null,m,c),null)),[h,b,s]}function HD(s,a){s.action=a}function yv(s){var a=De(),c=ce;if(c!==null)return mv(a,c,s);De(),a=a.memoizedState,c=De();var h=c.queue.dispatch;return c.memoizedState=s,[a,h,!1]}function Qo(s,a,c,h){return s={tag:s,create:c,deps:h,inst:a,next:null},a=Pt.updateQueue,a===null&&(a=ld(),Pt.updateQueue=a),c=a.lastEffect,c===null?a.lastEffect=s.next=s:(h=c.next,c.next=s,s.next=h,a.lastEffect=s),s}function bv(){return De().memoizedState}function hd(s,a,c,h){var m=Rn();Pt.flags|=s,m.memoizedState=Qo(1|a,{destroy:void 0},c,h===void 0?null:h)}function dd(s,a,c,h){var m=De();h=h===void 0?null:h;var b=m.memoizedState.inst;ce!==null&&h!==null&&Dp(h,ce.memoizedState.deps)?m.memoizedState=Qo(a,b,c,h):(Pt.flags|=s,m.memoizedState=Qo(1|a,b,c,h))}function _v(s,a){hd(8390656,8,s,a)}function Up(s,a){dd(2048,8,s,a)}function qD(s){Pt.flags|=4;var a=Pt.updateQueue;if(a===null)a=ld(),Pt.updateQueue=a,a.events=[s];else{var c=a.events;c===null?a.events=[s]:c.push(s)}}function vv(s){var a=De().memoizedState;return qD({ref:a,nextImpl:s}),function(){if((ee&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}function xv(s,a){return dd(4,2,s,a)}function Ev(s,a){return dd(4,4,s,a)}function Tv(s,a){if(typeof a=="function"){s=s();var c=a(s);return function(){typeof c=="function"?c():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function Sv(s,a,c){c=c!=null?c.concat([s]):null,dd(4,4,Tv.bind(null,a,s),c)}function jp(){}function wv(s,a){var c=De();a=a===void 0?null:a;var h=c.memoizedState;return a!==null&&Dp(a,h[1])?h[0]:(c.memoizedState=[s,a],s)}function Av(s,a){var c=De();a=a===void 0?null:a;var h=c.memoizedState;if(a!==null&&Dp(a,h[1]))return h[0];if(h=s(),qa){oi(!0);try{s()}finally{oi(!1)}}return c.memoizedState=[h,a],h}function Fp(s,a,c){return c===void 0||(Ls&1073741824)!==0&&(Ut&261930)===0?s.memoizedState=a:(s.memoizedState=c,s=Cx(),Pt.lanes|=s,Nr|=s,c)}function Cv(s,a,c,h){return Wn(c,a)?c:Wo.current!==null?(s=Fp(s,c,h),Wn(s,a)||(He=!0),s):(Ls&42)===0||(Ls&1073741824)!==0&&(Ut&261930)===0?(He=!0,s.memoizedState=c):(s=Cx(),Pt.lanes|=s,Nr|=s,a)}function Iv(s,a,c,h,m){var b=ot.p;ot.p=b!==0&&8>b?b:8;var E=X.T,R={};X.T=R,Gp(s,!1,a,c);try{var B=m(),Q=X.S;if(Q!==null&&Q(R,B),B!==null&&typeof B=="object"&&typeof B.then=="function"){var nt=BD(B,h);Rc(s,a,nt,Zn(s))}else Rc(s,a,h,Zn(s))}catch(rt){Rc(s,a,{then:function(){},status:"rejected",reason:rt},Zn())}finally{ot.p=b,E!==null&&R.types!==null&&(E.types=R.types),X.T=E}}function GD(){}function Hp(s,a,c,h){if(s.tag!==5)throw Error(i(476));var m=Rv(s).queue;Iv(s,m,a,gt,c===null?GD:function(){return Dv(s),c(h)})}function Rv(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:gt,baseState:gt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vs,lastRenderedState:gt},next:null};var c={};return a.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vs,lastRenderedState:c},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function Dv(s){var a=Rv(s);a.next===null&&(a=s.alternate.memoizedState),Rc(s,a.next.queue,{},Zn())}function qp(){return dn($c)}function Nv(){return De().memoizedState}function kv(){return De().memoizedState}function $D(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var c=Zn();s=wr(c);var h=Ar(a,s,c);h!==null&&(Un(h,a,c),Sc(h,a,c)),a={cache:_p()},s.payload=a;return}a=a.return}}function WD(s,a,c){var h=Zn();c={lane:h,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},fd(s)?Mv(a,c):(c=lp(s,a,c,h),c!==null&&(Un(c,s,h),Pv(c,a,h)))}function Ov(s,a,c){var h=Zn();Rc(s,a,c,h)}function Rc(s,a,c,h){var m={lane:h,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(fd(s))Mv(a,m);else{var b=s.alternate;if(s.lanes===0&&(b===null||b.lanes===0)&&(b=a.lastRenderedReducer,b!==null))try{var E=a.lastRenderedState,R=b(E,c);if(m.hasEagerState=!0,m.eagerState=R,Wn(R,E))return Wh(s,a,m,0),de===null&&$h(),!1}catch{}finally{}if(c=lp(s,a,m,h),c!==null)return Un(c,s,h),Pv(c,a,h),!0}return!1}function Gp(s,a,c,h){if(h={lane:2,revertLane:Tm(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},fd(s)){if(a)throw Error(i(479))}else a=lp(s,c,h,2),a!==null&&Un(a,s,2)}function fd(s){var a=s.alternate;return s===Pt||a!==null&&a===Pt}function Mv(s,a){Yo=ad=!0;var c=s.pending;c===null?a.next=a:(a.next=c.next,c.next=a),s.pending=a}function Pv(s,a,c){if((c&4194048)!==0){var h=a.lanes;h&=s.pendingLanes,c|=h,a.lanes=c,Xl(s,c)}}var Dc={readContext:dn,use:cd,useCallback:Te,useContext:Te,useEffect:Te,useImperativeHandle:Te,useLayoutEffect:Te,useInsertionEffect:Te,useMemo:Te,useReducer:Te,useRef:Te,useState:Te,useDebugValue:Te,useDeferredValue:Te,useTransition:Te,useSyncExternalStore:Te,useId:Te,useHostTransitionStatus:Te,useFormState:Te,useActionState:Te,useOptimistic:Te,useMemoCache:Te,useCacheRefresh:Te};Dc.useEffectEvent=Te;var zv={readContext:dn,use:cd,useCallback:function(s,a){return Rn().memoizedState=[s,a===void 0?null:a],s},useContext:dn,useEffect:_v,useImperativeHandle:function(s,a,c){c=c!=null?c.concat([s]):null,hd(4194308,4,Tv.bind(null,a,s),c)},useLayoutEffect:function(s,a){return hd(4194308,4,s,a)},useInsertionEffect:function(s,a){hd(4,2,s,a)},useMemo:function(s,a){var c=Rn();a=a===void 0?null:a;var h=s();if(qa){oi(!0);try{s()}finally{oi(!1)}}return c.memoizedState=[h,a],h},useReducer:function(s,a,c){var h=Rn();if(c!==void 0){var m=c(a);if(qa){oi(!0);try{c(a)}finally{oi(!1)}}}else m=a;return h.memoizedState=h.baseState=m,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:m},h.queue=s,s=s.dispatch=WD.bind(null,Pt,s),[h.memoizedState,s]},useRef:function(s){var a=Rn();return s={current:s},a.memoizedState=s},useState:function(s){s=Vp(s);var a=s.queue,c=Ov.bind(null,Pt,a);return a.dispatch=c,[s.memoizedState,c]},useDebugValue:jp,useDeferredValue:function(s,a){var c=Rn();return Fp(c,s,a)},useTransition:function(){var s=Vp(!1);return s=Iv.bind(null,Pt,s.queue,!0,!1),Rn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,c){var h=Pt,m=Rn();if(Gt){if(c===void 0)throw Error(i(407));c=c()}else{if(c=a(),de===null)throw Error(i(349));(Ut&127)!==0||iv(h,a,c)}m.memoizedState=c;var b={value:c,getSnapshot:a};return m.queue=b,_v(rv.bind(null,h,b,s),[s]),h.flags|=2048,Qo(9,{destroy:void 0},sv.bind(null,h,b,c,a),null),c},useId:function(){var s=Rn(),a=de.identifierPrefix;if(Gt){var c=fs,h=ds;c=(h&~(1<<32-Ce(h)-1)).toString(32)+c,a="_"+a+"R_"+c,c=od++,0<c&&(a+="H"+c.toString(32)),a+="_"}else c=UD++,a="_"+a+"r_"+c.toString(32)+"_";return s.memoizedState=a},useHostTransitionStatus:qp,useFormState:gv,useActionState:gv,useOptimistic:function(s){var a=Rn();a.memoizedState=a.baseState=s;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=c,a=Gp.bind(null,Pt,!0,c),c.dispatch=a,[s,a]},useMemoCache:Pp,useCacheRefresh:function(){return Rn().memoizedState=$D.bind(null,Pt)},useEffectEvent:function(s){var a=Rn(),c={impl:s};return a.memoizedState=c,function(){if((ee&2)!==0)throw Error(i(440));return c.impl.apply(void 0,arguments)}}},$p={readContext:dn,use:cd,useCallback:wv,useContext:dn,useEffect:Up,useImperativeHandle:Sv,useInsertionEffect:xv,useLayoutEffect:Ev,useMemo:Av,useReducer:ud,useRef:bv,useState:function(){return ud(Vs)},useDebugValue:jp,useDeferredValue:function(s,a){var c=De();return Cv(c,ce.memoizedState,s,a)},useTransition:function(){var s=ud(Vs)[0],a=De().memoizedState;return[typeof s=="boolean"?s:Ic(s),a]},useSyncExternalStore:nv,useId:Nv,useHostTransitionStatus:qp,useFormState:pv,useActionState:pv,useOptimistic:function(s,a){var c=De();return lv(c,ce,s,a)},useMemoCache:Pp,useCacheRefresh:kv};$p.useEffectEvent=vv;var Lv={readContext:dn,use:cd,useCallback:wv,useContext:dn,useEffect:Up,useImperativeHandle:Sv,useInsertionEffect:xv,useLayoutEffect:Ev,useMemo:Av,useReducer:Lp,useRef:bv,useState:function(){return Lp(Vs)},useDebugValue:jp,useDeferredValue:function(s,a){var c=De();return ce===null?Fp(c,s,a):Cv(c,ce.memoizedState,s,a)},useTransition:function(){var s=Lp(Vs)[0],a=De().memoizedState;return[typeof s=="boolean"?s:Ic(s),a]},useSyncExternalStore:nv,useId:Nv,useHostTransitionStatus:qp,useFormState:yv,useActionState:yv,useOptimistic:function(s,a){var c=De();return ce!==null?lv(c,ce,s,a):(c.baseState=s,[s,c.queue.dispatch])},useMemoCache:Pp,useCacheRefresh:kv};Lv.useEffectEvent=vv;function Wp(s,a,c,h){a=s.memoizedState,c=c(h,a),c=c==null?a:y({},a,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var Yp={enqueueSetState:function(s,a,c){s=s._reactInternals;var h=Zn(),m=wr(h);m.payload=a,c!=null&&(m.callback=c),a=Ar(s,m,h),a!==null&&(Un(a,s,h),Sc(a,s,h))},enqueueReplaceState:function(s,a,c){s=s._reactInternals;var h=Zn(),m=wr(h);m.tag=1,m.payload=a,c!=null&&(m.callback=c),a=Ar(s,m,h),a!==null&&(Un(a,s,h),Sc(a,s,h))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var c=Zn(),h=wr(c);h.tag=2,a!=null&&(h.callback=a),a=Ar(s,h,c),a!==null&&(Un(a,s,c),Sc(a,s,c))}};function Vv(s,a,c,h,m,b,E){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,b,E):a.prototype&&a.prototype.isPureReactComponent?!mc(c,h)||!mc(m,b):!0}function Bv(s,a,c,h){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,h),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,h),a.state!==s&&Yp.enqueueReplaceState(a,a.state,null)}function Ga(s,a){var c=a;if("ref"in a){c={};for(var h in a)h!=="ref"&&(c[h]=a[h])}if(s=s.defaultProps){c===a&&(c=y({},c));for(var m in s)c[m]===void 0&&(c[m]=s[m])}return c}function Uv(s){Gh(s)}function jv(s){console.error(s)}function Fv(s){Gh(s)}function gd(s,a){try{var c=s.onUncaughtError;c(a.value,{componentStack:a.stack})}catch(h){setTimeout(function(){throw h})}}function Hv(s,a,c){try{var h=s.onCaughtError;h(c.value,{componentStack:c.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Kp(s,a,c){return c=wr(c),c.tag=3,c.payload={element:null},c.callback=function(){gd(s,a)},c}function qv(s){return s=wr(s),s.tag=3,s}function Gv(s,a,c,h){var m=c.type.getDerivedStateFromError;if(typeof m=="function"){var b=h.value;s.payload=function(){return m(b)},s.callback=function(){Hv(a,c,h)}}var E=c.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(s.callback=function(){Hv(a,c,h),typeof m!="function"&&(kr===null?kr=new Set([this]):kr.add(this));var R=h.stack;this.componentDidCatch(h.value,{componentStack:R!==null?R:""})})}function YD(s,a,c,h,m){if(c.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(a=c.alternate,a!==null&&Fo(a,c,m,!0),c=Kn.current,c!==null){switch(c.tag){case 31:case 13:return yi===null?Ad():c.alternate===null&&Se===0&&(Se=3),c.flags&=-257,c.flags|=65536,c.lanes=m,h===ed?c.flags|=16384:(a=c.updateQueue,a===null?c.updateQueue=new Set([h]):a.add(h),vm(s,h,m)),!1;case 22:return c.flags|=65536,h===ed?c.flags|=16384:(a=c.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([h])},c.updateQueue=a):(c=a.retryQueue,c===null?a.retryQueue=new Set([h]):c.add(h)),vm(s,h,m)),!1}throw Error(i(435,c.tag))}return vm(s,h,m),Ad(),!1}if(Gt)return a=Kn.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=m,h!==gp&&(s=Error(i(422),{cause:h}),_c(fi(s,c)))):(h!==gp&&(a=Error(i(423),{cause:h}),_c(fi(a,c))),s=s.current.alternate,s.flags|=65536,m&=-m,s.lanes|=m,h=fi(h,c),m=Kp(s.stateNode,h,m),wp(s,m),Se!==4&&(Se=2)),!1;var b=Error(i(520),{cause:h});if(b=fi(b,c),Vc===null?Vc=[b]:Vc.push(b),Se!==4&&(Se=2),a===null)return!0;h=fi(h,c),c=a;do{switch(c.tag){case 3:return c.flags|=65536,s=m&-m,c.lanes|=s,s=Kp(c.stateNode,h,s),wp(c,s),!1;case 1:if(a=c.type,b=c.stateNode,(c.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(kr===null||!kr.has(b))))return c.flags|=65536,m&=-m,c.lanes|=m,m=qv(m),Gv(m,s,c,h),wp(c,m),!1}c=c.return}while(c!==null);return!1}var Qp=Error(i(461)),He=!1;function fn(s,a,c,h){a.child=s===null?K_(a,null,c,h):Ha(a,s.child,c,h)}function $v(s,a,c,h,m){c=c.render;var b=a.ref;if("ref"in h){var E={};for(var R in h)R!=="ref"&&(E[R]=h[R])}else E=h;return Ba(a),h=Np(s,a,c,E,b,m),R=kp(),s!==null&&!He?(Op(s,a,m),Bs(s,a,m)):(Gt&&R&&dp(a),a.flags|=1,fn(s,a,h,m),a.child)}function Wv(s,a,c,h,m){if(s===null){var b=c.type;return typeof b=="function"&&!cp(b)&&b.defaultProps===void 0&&c.compare===null?(a.tag=15,a.type=b,Yv(s,a,b,h,m)):(s=Kh(c.type,null,h,a,a.mode,m),s.ref=a.ref,s.return=a,a.child=s)}if(b=s.child,!sm(s,m)){var E=b.memoizedProps;if(c=c.compare,c=c!==null?c:mc,c(E,h)&&s.ref===a.ref)return Bs(s,a,m)}return a.flags|=1,s=Os(b,h),s.ref=a.ref,s.return=a,a.child=s}function Yv(s,a,c,h,m){if(s!==null){var b=s.memoizedProps;if(mc(b,h)&&s.ref===a.ref)if(He=!1,a.pendingProps=h=b,sm(s,m))(s.flags&131072)!==0&&(He=!0);else return a.lanes=s.lanes,Bs(s,a,m)}return Xp(s,a,c,h,m)}function Kv(s,a,c,h){var m=h.children,b=s!==null?s.memoizedState:null;if(s===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((a.flags&128)!==0){if(b=b!==null?b.baseLanes|c:c,s!==null){for(h=a.child=s.child,m=0;h!==null;)m=m|h.lanes|h.childLanes,h=h.sibling;h=m&~b}else h=0,a.child=null;return Qv(s,a,b,c,h)}if((c&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&Zh(a,b!==null?b.cachePool:null),b!==null?J_(a,b):Cp(),Z_(a);else return h=a.lanes=536870912,Qv(s,a,b!==null?b.baseLanes|c:c,c,h)}else b!==null?(Zh(a,b.cachePool),J_(a,b),Ir(),a.memoizedState=null):(s!==null&&Zh(a,null),Cp(),Ir());return fn(s,a,m,c),a.child}function Nc(s,a){return s!==null&&s.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function Qv(s,a,c,h,m){var b=xp();return b=b===null?null:{parent:je._currentValue,pool:b},a.memoizedState={baseLanes:c,cachePool:b},s!==null&&Zh(a,null),Cp(),Z_(a),s!==null&&Fo(s,a,h,!0),a.childLanes=m,null}function pd(s,a){return a=yd({mode:a.mode,children:a.children},s.mode),a.ref=s.ref,s.child=a,a.return=s,a}function Xv(s,a,c){return Ha(a,s.child,null,c),s=pd(a,a.pendingProps),s.flags|=2,Qn(a),a.memoizedState=null,s}function KD(s,a,c){var h=a.pendingProps,m=(a.flags&128)!==0;if(a.flags&=-129,s===null){if(Gt){if(h.mode==="hidden")return s=pd(a,h),a.lanes=536870912,Nc(null,s);if(Rp(a),(s=pe)?(s=cE(s,mi),s=s!==null&&s.data==="&"?s:null,s!==null&&(a.memoizedState={dehydrated:s,treeContext:vr!==null?{id:ds,overflow:fs}:null,retryLane:536870912,hydrationErrors:null},c=M_(s),c.return=a,a.child=c,hn=a,pe=null)):s=null,s===null)throw Er(a);return a.lanes=536870912,null}return pd(a,h)}var b=s.memoizedState;if(b!==null){var E=b.dehydrated;if(Rp(a),m)if(a.flags&256)a.flags&=-257,a=Xv(s,a,c);else if(a.memoizedState!==null)a.child=s.child,a.flags|=128,a=null;else throw Error(i(558));else if(He||Fo(s,a,c,!1),m=(c&s.childLanes)!==0,He||m){if(h=de,h!==null&&(E=Jl(h,c),E!==0&&E!==b.retryLane))throw b.retryLane=E,Pa(s,E),Un(h,s,E),Qp;Ad(),a=Xv(s,a,c)}else s=b.treeContext,pe=bi(E.nextSibling),hn=a,Gt=!0,xr=null,mi=!1,s!==null&&L_(a,s),a=pd(a,h),a.flags|=4096;return a}return s=Os(s.child,{mode:h.mode,children:h.children}),s.ref=a.ref,a.child=s,s.return=a,s}function md(s,a){var c=a.ref;if(c===null)s!==null&&s.ref!==null&&(a.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(i(284));(s===null||s.ref!==c)&&(a.flags|=4194816)}}function Xp(s,a,c,h,m){return Ba(a),c=Np(s,a,c,h,void 0,m),h=kp(),s!==null&&!He?(Op(s,a,m),Bs(s,a,m)):(Gt&&h&&dp(a),a.flags|=1,fn(s,a,c,m),a.child)}function Jv(s,a,c,h,m,b){return Ba(a),a.updateQueue=null,c=ev(a,h,c,m),tv(s),h=kp(),s!==null&&!He?(Op(s,a,b),Bs(s,a,b)):(Gt&&h&&dp(a),a.flags|=1,fn(s,a,c,b),a.child)}function Zv(s,a,c,h,m){if(Ba(a),a.stateNode===null){var b=Vo,E=c.contextType;typeof E=="object"&&E!==null&&(b=dn(E)),b=new c(h,b),a.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=Yp,a.stateNode=b,b._reactInternals=a,b=a.stateNode,b.props=h,b.state=a.memoizedState,b.refs={},Tp(a),E=c.contextType,b.context=typeof E=="object"&&E!==null?dn(E):Vo,b.state=a.memoizedState,E=c.getDerivedStateFromProps,typeof E=="function"&&(Wp(a,c,E,h),b.state=a.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(E=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),E!==b.state&&Yp.enqueueReplaceState(b,b.state,null),Ac(a,h,b,m),wc(),b.state=a.memoizedState),typeof b.componentDidMount=="function"&&(a.flags|=4194308),h=!0}else if(s===null){b=a.stateNode;var R=a.memoizedProps,B=Ga(c,R);b.props=B;var Q=b.context,nt=c.contextType;E=Vo,typeof nt=="object"&&nt!==null&&(E=dn(nt));var rt=c.getDerivedStateFromProps;nt=typeof rt=="function"||typeof b.getSnapshotBeforeUpdate=="function",R=a.pendingProps!==R,nt||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(R||Q!==E)&&Bv(a,b,h,E),Sr=!1;var J=a.memoizedState;b.state=J,Ac(a,h,b,m),wc(),Q=a.memoizedState,R||J!==Q||Sr?(typeof rt=="function"&&(Wp(a,c,rt,h),Q=a.memoizedState),(B=Sr||Vv(a,c,B,h,J,Q,E))?(nt||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(a.flags|=4194308)):(typeof b.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=h,a.memoizedState=Q),b.props=h,b.state=Q,b.context=E,h=B):(typeof b.componentDidMount=="function"&&(a.flags|=4194308),h=!1)}else{b=a.stateNode,Sp(s,a),E=a.memoizedProps,nt=Ga(c,E),b.props=nt,rt=a.pendingProps,J=b.context,Q=c.contextType,B=Vo,typeof Q=="object"&&Q!==null&&(B=dn(Q)),R=c.getDerivedStateFromProps,(Q=typeof R=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(E!==rt||J!==B)&&Bv(a,b,h,B),Sr=!1,J=a.memoizedState,b.state=J,Ac(a,h,b,m),wc();var tt=a.memoizedState;E!==rt||J!==tt||Sr||s!==null&&s.dependencies!==null&&Xh(s.dependencies)?(typeof R=="function"&&(Wp(a,c,R,h),tt=a.memoizedState),(nt=Sr||Vv(a,c,nt,h,J,tt,B)||s!==null&&s.dependencies!==null&&Xh(s.dependencies))?(Q||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(h,tt,B),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(h,tt,B)),typeof b.componentDidUpdate=="function"&&(a.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof b.componentDidUpdate!="function"||E===s.memoizedProps&&J===s.memoizedState||(a.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||E===s.memoizedProps&&J===s.memoizedState||(a.flags|=1024),a.memoizedProps=h,a.memoizedState=tt),b.props=h,b.state=tt,b.context=B,h=nt):(typeof b.componentDidUpdate!="function"||E===s.memoizedProps&&J===s.memoizedState||(a.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||E===s.memoizedProps&&J===s.memoizedState||(a.flags|=1024),h=!1)}return b=h,md(s,a),h=(a.flags&128)!==0,b||h?(b=a.stateNode,c=h&&typeof c.getDerivedStateFromError!="function"?null:b.render(),a.flags|=1,s!==null&&h?(a.child=Ha(a,s.child,null,m),a.child=Ha(a,null,c,m)):fn(s,a,c,m),a.memoizedState=b.state,s=a.child):s=Bs(s,a,m),s}function tx(s,a,c,h){return La(),a.flags|=256,fn(s,a,c,h),a.child}var Jp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Zp(s){return{baseLanes:s,cachePool:H_()}}function tm(s,a,c){return s=s!==null?s.childLanes&~c:0,a&&(s|=Jn),s}function ex(s,a,c){var h=a.pendingProps,m=!1,b=(a.flags&128)!==0,E;if((E=b)||(E=s!==null&&s.memoizedState===null?!1:(Re.current&2)!==0),E&&(m=!0,a.flags&=-129),E=(a.flags&32)!==0,a.flags&=-33,s===null){if(Gt){if(m?Cr(a):Ir(),(s=pe)?(s=cE(s,mi),s=s!==null&&s.data!=="&"?s:null,s!==null&&(a.memoizedState={dehydrated:s,treeContext:vr!==null?{id:ds,overflow:fs}:null,retryLane:536870912,hydrationErrors:null},c=M_(s),c.return=a,a.child=c,hn=a,pe=null)):s=null,s===null)throw Er(a);return zm(s)?a.lanes=32:a.lanes=536870912,null}var R=h.children;return h=h.fallback,m?(Ir(),m=a.mode,R=yd({mode:"hidden",children:R},m),h=za(h,m,c,null),R.return=a,h.return=a,R.sibling=h,a.child=R,h=a.child,h.memoizedState=Zp(c),h.childLanes=tm(s,E,c),a.memoizedState=Jp,Nc(null,h)):(Cr(a),em(a,R))}var B=s.memoizedState;if(B!==null&&(R=B.dehydrated,R!==null)){if(b)a.flags&256?(Cr(a),a.flags&=-257,a=nm(s,a,c)):a.memoizedState!==null?(Ir(),a.child=s.child,a.flags|=128,a=null):(Ir(),R=h.fallback,m=a.mode,h=yd({mode:"visible",children:h.children},m),R=za(R,m,c,null),R.flags|=2,h.return=a,R.return=a,h.sibling=R,a.child=h,Ha(a,s.child,null,c),h=a.child,h.memoizedState=Zp(c),h.childLanes=tm(s,E,c),a.memoizedState=Jp,a=Nc(null,h));else if(Cr(a),zm(R)){if(E=R.nextSibling&&R.nextSibling.dataset,E)var Q=E.dgst;E=Q,h=Error(i(419)),h.stack="",h.digest=E,_c({value:h,source:null,stack:null}),a=nm(s,a,c)}else if(He||Fo(s,a,c,!1),E=(c&s.childLanes)!==0,He||E){if(E=de,E!==null&&(h=Jl(E,c),h!==0&&h!==B.retryLane))throw B.retryLane=h,Pa(s,h),Un(E,s,h),Qp;Pm(R)||Ad(),a=nm(s,a,c)}else Pm(R)?(a.flags|=192,a.child=s.child,a=null):(s=B.treeContext,pe=bi(R.nextSibling),hn=a,Gt=!0,xr=null,mi=!1,s!==null&&L_(a,s),a=em(a,h.children),a.flags|=4096);return a}return m?(Ir(),R=h.fallback,m=a.mode,B=s.child,Q=B.sibling,h=Os(B,{mode:"hidden",children:h.children}),h.subtreeFlags=B.subtreeFlags&65011712,Q!==null?R=Os(Q,R):(R=za(R,m,c,null),R.flags|=2),R.return=a,h.return=a,h.sibling=R,a.child=h,Nc(null,h),h=a.child,R=s.child.memoizedState,R===null?R=Zp(c):(m=R.cachePool,m!==null?(B=je._currentValue,m=m.parent!==B?{parent:B,pool:B}:m):m=H_(),R={baseLanes:R.baseLanes|c,cachePool:m}),h.memoizedState=R,h.childLanes=tm(s,E,c),a.memoizedState=Jp,Nc(s.child,h)):(Cr(a),c=s.child,s=c.sibling,c=Os(c,{mode:"visible",children:h.children}),c.return=a,c.sibling=null,s!==null&&(E=a.deletions,E===null?(a.deletions=[s],a.flags|=16):E.push(s)),a.child=c,a.memoizedState=null,c)}function em(s,a){return a=yd({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function yd(s,a){return s=Yn(22,s,null,a),s.lanes=0,s}function nm(s,a,c){return Ha(a,s.child,null,c),s=em(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function nx(s,a,c){s.lanes|=a;var h=s.alternate;h!==null&&(h.lanes|=a),yp(s.return,a,c)}function im(s,a,c,h,m,b){var E=s.memoizedState;E===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:m,treeForkCount:b}:(E.isBackwards=a,E.rendering=null,E.renderingStartTime=0,E.last=h,E.tail=c,E.tailMode=m,E.treeForkCount=b)}function ix(s,a,c){var h=a.pendingProps,m=h.revealOrder,b=h.tail;h=h.children;var E=Re.current,R=(E&2)!==0;if(R?(E=E&1|2,a.flags|=128):E&=1,lt(Re,E),fn(s,a,h,c),h=Gt?bc:0,!R&&s!==null&&(s.flags&128)!==0)t:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&nx(s,c,a);else if(s.tag===19)nx(s,c,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break t;for(;s.sibling===null;){if(s.return===null||s.return===a)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(m){case"forwards":for(c=a.child,m=null;c!==null;)s=c.alternate,s!==null&&rd(s)===null&&(m=c),c=c.sibling;c=m,c===null?(m=a.child,a.child=null):(m=c.sibling,c.sibling=null),im(a,!1,m,c,b,h);break;case"backwards":case"unstable_legacy-backwards":for(c=null,m=a.child,a.child=null;m!==null;){if(s=m.alternate,s!==null&&rd(s)===null){a.child=m;break}s=m.sibling,m.sibling=c,c=m,m=s}im(a,!0,c,null,b,h);break;case"together":im(a,!1,null,null,void 0,h);break;default:a.memoizedState=null}return a.child}function Bs(s,a,c){if(s!==null&&(a.dependencies=s.dependencies),Nr|=a.lanes,(c&a.childLanes)===0)if(s!==null){if(Fo(s,a,c,!1),(c&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(i(153));if(a.child!==null){for(s=a.child,c=Os(s,s.pendingProps),a.child=c,c.return=a;s.sibling!==null;)s=s.sibling,c=c.sibling=Os(s,s.pendingProps),c.return=a;c.sibling=null}return a.child}function sm(s,a){return(s.lanes&a)!==0?!0:(s=s.dependencies,!!(s!==null&&Xh(s)))}function QD(s,a,c){switch(a.tag){case 3:Lt(a,a.stateNode.containerInfo),Tr(a,je,s.memoizedState.cache),La();break;case 27:case 5:Je(a);break;case 4:Lt(a,a.stateNode.containerInfo);break;case 10:Tr(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,Rp(a),null;break;case 13:var h=a.memoizedState;if(h!==null)return h.dehydrated!==null?(Cr(a),a.flags|=128,null):(c&a.child.childLanes)!==0?ex(s,a,c):(Cr(a),s=Bs(s,a,c),s!==null?s.sibling:null);Cr(a);break;case 19:var m=(s.flags&128)!==0;if(h=(c&a.childLanes)!==0,h||(Fo(s,a,c,!1),h=(c&a.childLanes)!==0),m){if(h)return ix(s,a,c);a.flags|=128}if(m=a.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),lt(Re,Re.current),h)break;return null;case 22:return a.lanes=0,Kv(s,a,c,a.pendingProps);case 24:Tr(a,je,s.memoizedState.cache)}return Bs(s,a,c)}function sx(s,a,c){if(s!==null)if(s.memoizedProps!==a.pendingProps)He=!0;else{if(!sm(s,c)&&(a.flags&128)===0)return He=!1,QD(s,a,c);He=(s.flags&131072)!==0}else He=!1,Gt&&(a.flags&1048576)!==0&&z_(a,bc,a.index);switch(a.lanes=0,a.tag){case 16:t:{var h=a.pendingProps;if(s=ja(a.elementType),a.type=s,typeof s=="function")cp(s)?(h=Ga(s,h),a.tag=1,a=Zv(null,a,s,h,c)):(a.tag=0,a=Xp(null,a,s,h,c));else{if(s!=null){var m=s.$$typeof;if(m===G){a.tag=11,a=$v(null,a,s,h,c);break t}else if(m===D){a.tag=14,a=Wv(null,a,s,h,c);break t}}throw a=It(s)||s,Error(i(306,a,""))}}return a;case 0:return Xp(s,a,a.type,a.pendingProps,c);case 1:return h=a.type,m=Ga(h,a.pendingProps),Zv(s,a,h,m,c);case 3:t:{if(Lt(a,a.stateNode.containerInfo),s===null)throw Error(i(387));h=a.pendingProps;var b=a.memoizedState;m=b.element,Sp(s,a),Ac(a,h,null,c);var E=a.memoizedState;if(h=E.cache,Tr(a,je,h),h!==b.cache&&bp(a,[je],c,!0),wc(),h=E.element,b.isDehydrated)if(b={element:h,isDehydrated:!1,cache:E.cache},a.updateQueue.baseState=b,a.memoizedState=b,a.flags&256){a=tx(s,a,h,c);break t}else if(h!==m){m=fi(Error(i(424)),a),_c(m),a=tx(s,a,h,c);break t}else{switch(s=a.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(pe=bi(s.firstChild),hn=a,Gt=!0,xr=null,mi=!0,c=K_(a,null,h,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(La(),h===m){a=Bs(s,a,c);break t}fn(s,a,h,c)}a=a.child}return a;case 26:return md(s,a),s===null?(c=pE(a.type,null,a.pendingProps,null))?a.memoizedState=c:Gt||(c=a.type,s=a.pendingProps,h=Od(_t.current).createElement(c),h[Ve]=a,h[tn]=s,gn(h,c,s),Be(h),a.stateNode=h):a.memoizedState=pE(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return Je(a),s===null&&Gt&&(h=a.stateNode=dE(a.type,a.pendingProps,_t.current),hn=a,mi=!0,m=pe,zr(a.type)?(Lm=m,pe=bi(h.firstChild)):pe=m),fn(s,a,a.pendingProps.children,c),md(s,a),s===null&&(a.flags|=4194304),a.child;case 5:return s===null&&Gt&&((m=h=pe)&&(h=A2(h,a.type,a.pendingProps,mi),h!==null?(a.stateNode=h,hn=a,pe=bi(h.firstChild),mi=!1,m=!0):m=!1),m||Er(a)),Je(a),m=a.type,b=a.pendingProps,E=s!==null?s.memoizedProps:null,h=b.children,km(m,b)?h=null:E!==null&&km(m,E)&&(a.flags|=32),a.memoizedState!==null&&(m=Np(s,a,jD,null,null,c),$c._currentValue=m),md(s,a),fn(s,a,h,c),a.child;case 6:return s===null&&Gt&&((s=c=pe)&&(c=C2(c,a.pendingProps,mi),c!==null?(a.stateNode=c,hn=a,pe=null,s=!0):s=!1),s||Er(a)),null;case 13:return ex(s,a,c);case 4:return Lt(a,a.stateNode.containerInfo),h=a.pendingProps,s===null?a.child=Ha(a,null,h,c):fn(s,a,h,c),a.child;case 11:return $v(s,a,a.type,a.pendingProps,c);case 7:return fn(s,a,a.pendingProps,c),a.child;case 8:return fn(s,a,a.pendingProps.children,c),a.child;case 12:return fn(s,a,a.pendingProps.children,c),a.child;case 10:return h=a.pendingProps,Tr(a,a.type,h.value),fn(s,a,h.children,c),a.child;case 9:return m=a.type._context,h=a.pendingProps.children,Ba(a),m=dn(m),h=h(m),a.flags|=1,fn(s,a,h,c),a.child;case 14:return Wv(s,a,a.type,a.pendingProps,c);case 15:return Yv(s,a,a.type,a.pendingProps,c);case 19:return ix(s,a,c);case 31:return KD(s,a,c);case 22:return Kv(s,a,c,a.pendingProps);case 24:return Ba(a),h=dn(je),s===null?(m=xp(),m===null&&(m=de,b=_p(),m.pooledCache=b,b.refCount++,b!==null&&(m.pooledCacheLanes|=c),m=b),a.memoizedState={parent:h,cache:m},Tp(a),Tr(a,je,m)):((s.lanes&c)!==0&&(Sp(s,a),Ac(a,null,null,c),wc()),m=s.memoizedState,b=a.memoizedState,m.parent!==h?(m={parent:h,cache:h},a.memoizedState=m,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=m),Tr(a,je,h)):(h=b.cache,Tr(a,je,h),h!==m.cache&&bp(a,[je],c,!0))),fn(s,a,a.pendingProps.children,c),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function Us(s){s.flags|=4}function rm(s,a,c,h,m){if((a=(s.mode&32)!==0)&&(a=!1),a){if(s.flags|=16777216,(m&335544128)===m)if(s.stateNode.complete)s.flags|=8192;else if(Nx())s.flags|=8192;else throw Fa=ed,Ep}else s.flags&=-16777217}function rx(s,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!vE(a))if(Nx())s.flags|=8192;else throw Fa=ed,Ep}function bd(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?Sh():536870912,s.lanes|=a,tl|=a)}function kc(s,a){if(!Gt)switch(s.tailMode){case"hidden":a=s.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function me(s){var a=s.alternate!==null&&s.alternate.child===s.child,c=0,h=0;if(a)for(var m=s.child;m!==null;)c|=m.lanes|m.childLanes,h|=m.subtreeFlags&65011712,h|=m.flags&65011712,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)c|=m.lanes|m.childLanes,h|=m.subtreeFlags,h|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=h,s.childLanes=c,a}function XD(s,a,c){var h=a.pendingProps;switch(fp(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return me(a),null;case 1:return me(a),null;case 3:return c=a.stateNode,h=null,s!==null&&(h=s.memoizedState.cache),a.memoizedState.cache!==h&&(a.flags|=2048),zs(je),Wt(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(s===null||s.child===null)&&(jo(a)?Us(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,pp())),me(a),null;case 26:var m=a.type,b=a.memoizedState;return s===null?(Us(a),b!==null?(me(a),rx(a,b)):(me(a),rm(a,m,null,h,c))):b?b!==s.memoizedState?(Us(a),me(a),rx(a,b)):(me(a),a.flags&=-16777217):(s=s.memoizedProps,s!==h&&Us(a),me(a),rm(a,m,s,h,c)),null;case 27:if(ln(a),c=_t.current,m=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==h&&Us(a);else{if(!h){if(a.stateNode===null)throw Error(i(166));return me(a),null}s=ut.current,jo(a)?V_(a):(s=dE(m,h,c),a.stateNode=s,Us(a))}return me(a),null;case 5:if(ln(a),m=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==h&&Us(a);else{if(!h){if(a.stateNode===null)throw Error(i(166));return me(a),null}if(b=ut.current,jo(a))V_(a);else{var E=Od(_t.current);switch(b){case 1:b=E.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:b=E.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":b=E.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":b=E.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":b=E.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof h.is=="string"?E.createElement("select",{is:h.is}):E.createElement("select"),h.multiple?b.multiple=!0:h.size&&(b.size=h.size);break;default:b=typeof h.is=="string"?E.createElement(m,{is:h.is}):E.createElement(m)}}b[Ve]=a,b[tn]=h;t:for(E=a.child;E!==null;){if(E.tag===5||E.tag===6)b.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===a)break t;for(;E.sibling===null;){if(E.return===null||E.return===a)break t;E=E.return}E.sibling.return=E.return,E=E.sibling}a.stateNode=b;t:switch(gn(b,m,h),m){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break t;case"img":h=!0;break t;default:h=!1}h&&Us(a)}}return me(a),rm(a,a.type,s===null?null:s.memoizedProps,a.pendingProps,c),null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==h&&Us(a);else{if(typeof h!="string"&&a.stateNode===null)throw Error(i(166));if(s=_t.current,jo(a)){if(s=a.stateNode,c=a.memoizedProps,h=null,m=hn,m!==null)switch(m.tag){case 27:case 5:h=m.memoizedProps}s[Ve]=a,s=!!(s.nodeValue===c||h!==null&&h.suppressHydrationWarning===!0||eE(s.nodeValue,c)),s||Er(a,!0)}else s=Od(s).createTextNode(h),s[Ve]=a,a.stateNode=s}return me(a),null;case 31:if(c=a.memoizedState,s===null||s.memoizedState!==null){if(h=jo(a),c!==null){if(s===null){if(!h)throw Error(i(318));if(s=a.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(557));s[Ve]=a}else La(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;me(a),s=!1}else c=pp(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=c),s=!0;if(!s)return a.flags&256?(Qn(a),a):(Qn(a),null);if((a.flags&128)!==0)throw Error(i(558))}return me(a),null;case 13:if(h=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(m=jo(a),h!==null&&h.dehydrated!==null){if(s===null){if(!m)throw Error(i(318));if(m=a.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[Ve]=a}else La(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;me(a),m=!1}else m=pp(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=m),m=!0;if(!m)return a.flags&256?(Qn(a),a):(Qn(a),null)}return Qn(a),(a.flags&128)!==0?(a.lanes=c,a):(c=h!==null,s=s!==null&&s.memoizedState!==null,c&&(h=a.child,m=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(m=h.alternate.memoizedState.cachePool.pool),b=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(b=h.memoizedState.cachePool.pool),b!==m&&(h.flags|=2048)),c!==s&&c&&(a.child.flags|=8192),bd(a,a.updateQueue),me(a),null);case 4:return Wt(),s===null&&Cm(a.stateNode.containerInfo),me(a),null;case 10:return zs(a.type),me(a),null;case 19:if(et(Re),h=a.memoizedState,h===null)return me(a),null;if(m=(a.flags&128)!==0,b=h.rendering,b===null)if(m)kc(h,!1);else{if(Se!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(b=rd(s),b!==null){for(a.flags|=128,kc(h,!1),s=b.updateQueue,a.updateQueue=s,bd(a,s),a.subtreeFlags=0,s=c,c=a.child;c!==null;)O_(c,s),c=c.sibling;return lt(Re,Re.current&1|2),Gt&&Ms(a,h.treeForkCount),a.child}s=s.sibling}h.tail!==null&&Cn()>Td&&(a.flags|=128,m=!0,kc(h,!1),a.lanes=4194304)}else{if(!m)if(s=rd(b),s!==null){if(a.flags|=128,m=!0,s=s.updateQueue,a.updateQueue=s,bd(a,s),kc(h,!0),h.tail===null&&h.tailMode==="hidden"&&!b.alternate&&!Gt)return me(a),null}else 2*Cn()-h.renderingStartTime>Td&&c!==536870912&&(a.flags|=128,m=!0,kc(h,!1),a.lanes=4194304);h.isBackwards?(b.sibling=a.child,a.child=b):(s=h.last,s!==null?s.sibling=b:a.child=b,h.last=b)}return h.tail!==null?(s=h.tail,h.rendering=s,h.tail=s.sibling,h.renderingStartTime=Cn(),s.sibling=null,c=Re.current,lt(Re,m?c&1|2:c&1),Gt&&Ms(a,h.treeForkCount),s):(me(a),null);case 22:case 23:return Qn(a),Ip(),h=a.memoizedState!==null,s!==null?s.memoizedState!==null!==h&&(a.flags|=8192):h&&(a.flags|=8192),h?(c&536870912)!==0&&(a.flags&128)===0&&(me(a),a.subtreeFlags&6&&(a.flags|=8192)):me(a),c=a.updateQueue,c!==null&&bd(a,c.retryQueue),c=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),h=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),h!==c&&(a.flags|=2048),s!==null&&et(Ua),null;case 24:return c=null,s!==null&&(c=s.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),zs(je),me(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function JD(s,a){switch(fp(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return zs(je),Wt(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return ln(a),null;case 31:if(a.memoizedState!==null){if(Qn(a),a.alternate===null)throw Error(i(340));La()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 13:if(Qn(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(i(340));La()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return et(Re),null;case 4:return Wt(),null;case 10:return zs(a.type),null;case 22:case 23:return Qn(a),Ip(),s!==null&&et(Ua),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return zs(je),null;case 25:return null;default:return null}}function ax(s,a){switch(fp(a),a.tag){case 3:zs(je),Wt();break;case 26:case 27:case 5:ln(a);break;case 4:Wt();break;case 31:a.memoizedState!==null&&Qn(a);break;case 13:Qn(a);break;case 19:et(Re);break;case 10:zs(a.type);break;case 22:case 23:Qn(a),Ip(),s!==null&&et(Ua);break;case 24:zs(je)}}function Oc(s,a){try{var c=a.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var m=h.next;c=m;do{if((c.tag&s)===s){h=void 0;var b=c.create,E=c.inst;h=b(),E.destroy=h}c=c.next}while(c!==m)}}catch(R){ae(a,a.return,R)}}function Rr(s,a,c){try{var h=a.updateQueue,m=h!==null?h.lastEffect:null;if(m!==null){var b=m.next;h=b;do{if((h.tag&s)===s){var E=h.inst,R=E.destroy;if(R!==void 0){E.destroy=void 0,m=a;var B=c,Q=R;try{Q()}catch(nt){ae(m,B,nt)}}}h=h.next}while(h!==b)}}catch(nt){ae(a,a.return,nt)}}function ox(s){var a=s.updateQueue;if(a!==null){var c=s.stateNode;try{X_(a,c)}catch(h){ae(s,s.return,h)}}}function lx(s,a,c){c.props=Ga(s.type,s.memoizedProps),c.state=s.memoizedState;try{c.componentWillUnmount()}catch(h){ae(s,a,h)}}function Mc(s,a){try{var c=s.ref;if(c!==null){switch(s.tag){case 26:case 27:case 5:var h=s.stateNode;break;case 30:h=s.stateNode;break;default:h=s.stateNode}typeof c=="function"?s.refCleanup=c(h):c.current=h}}catch(m){ae(s,a,m)}}function gs(s,a){var c=s.ref,h=s.refCleanup;if(c!==null)if(typeof h=="function")try{h()}catch(m){ae(s,a,m)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(m){ae(s,a,m)}else c.current=null}function cx(s){var a=s.type,c=s.memoizedProps,h=s.stateNode;try{t:switch(a){case"button":case"input":case"select":case"textarea":c.autoFocus&&h.focus();break t;case"img":c.src?h.src=c.src:c.srcSet&&(h.srcset=c.srcSet)}}catch(m){ae(s,s.return,m)}}function am(s,a,c){try{var h=s.stateNode;v2(h,s.type,c,a),h[tn]=a}catch(m){ae(s,s.return,m)}}function ux(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&zr(s.type)||s.tag===4}function om(s){t:for(;;){for(;s.sibling===null;){if(s.return===null||ux(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&zr(s.type)||s.flags&2||s.child===null||s.tag===4)continue t;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function lm(s,a,c){var h=s.tag;if(h===5||h===6)s=s.stateNode,a?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(s,a):(a=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,a.appendChild(s),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=Oi));else if(h!==4&&(h===27&&zr(s.type)&&(c=s.stateNode,a=null),s=s.child,s!==null))for(lm(s,a,c),s=s.sibling;s!==null;)lm(s,a,c),s=s.sibling}function _d(s,a,c){var h=s.tag;if(h===5||h===6)s=s.stateNode,a?c.insertBefore(s,a):c.appendChild(s);else if(h!==4&&(h===27&&zr(s.type)&&(c=s.stateNode),s=s.child,s!==null))for(_d(s,a,c),s=s.sibling;s!==null;)_d(s,a,c),s=s.sibling}function hx(s){var a=s.stateNode,c=s.memoizedProps;try{for(var h=s.type,m=a.attributes;m.length;)a.removeAttributeNode(m[0]);gn(a,h,c),a[Ve]=s,a[tn]=c}catch(b){ae(s,s.return,b)}}var js=!1,qe=!1,cm=!1,dx=typeof WeakSet=="function"?WeakSet:Set,nn=null;function ZD(s,a){if(s=s.containerInfo,Dm=Ud,s=S_(s),np(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else t:{c=(c=s.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var m=h.anchorOffset,b=h.focusNode;h=h.focusOffset;try{c.nodeType,b.nodeType}catch{c=null;break t}var E=0,R=-1,B=-1,Q=0,nt=0,rt=s,J=null;e:for(;;){for(var tt;rt!==c||m!==0&&rt.nodeType!==3||(R=E+m),rt!==b||h!==0&&rt.nodeType!==3||(B=E+h),rt.nodeType===3&&(E+=rt.nodeValue.length),(tt=rt.firstChild)!==null;)J=rt,rt=tt;for(;;){if(rt===s)break e;if(J===c&&++Q===m&&(R=E),J===b&&++nt===h&&(B=E),(tt=rt.nextSibling)!==null)break;rt=J,J=rt.parentNode}rt=tt}c=R===-1||B===-1?null:{start:R,end:B}}else c=null}c=c||{start:0,end:0}}else c=null;for(Nm={focusedElem:s,selectionRange:c},Ud=!1,nn=a;nn!==null;)if(a=nn,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,nn=s;else for(;nn!==null;){switch(a=nn,b=a.alternate,s=a.flags,a.tag){case 0:if((s&4)!==0&&(s=a.updateQueue,s=s!==null?s.events:null,s!==null))for(c=0;c<s.length;c++)m=s[c],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&b!==null){s=void 0,c=a,m=b.memoizedProps,b=b.memoizedState,h=c.stateNode;try{var yt=Ga(c.type,m);s=h.getSnapshotBeforeUpdate(yt,b),h.__reactInternalSnapshotBeforeUpdate=s}catch(wt){ae(c,c.return,wt)}}break;case 3:if((s&1024)!==0){if(s=a.stateNode.containerInfo,c=s.nodeType,c===9)Mm(s);else if(c===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Mm(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=a.sibling,s!==null){s.return=a.return,nn=s;break}nn=a.return}}function fx(s,a,c){var h=c.flags;switch(c.tag){case 0:case 11:case 15:Hs(s,c),h&4&&Oc(5,c);break;case 1:if(Hs(s,c),h&4)if(s=c.stateNode,a===null)try{s.componentDidMount()}catch(E){ae(c,c.return,E)}else{var m=Ga(c.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(m,a,s.__reactInternalSnapshotBeforeUpdate)}catch(E){ae(c,c.return,E)}}h&64&&ox(c),h&512&&Mc(c,c.return);break;case 3:if(Hs(s,c),h&64&&(s=c.updateQueue,s!==null)){if(a=null,c.child!==null)switch(c.child.tag){case 27:case 5:a=c.child.stateNode;break;case 1:a=c.child.stateNode}try{X_(s,a)}catch(E){ae(c,c.return,E)}}break;case 27:a===null&&h&4&&hx(c);case 26:case 5:Hs(s,c),a===null&&h&4&&cx(c),h&512&&Mc(c,c.return);break;case 12:Hs(s,c);break;case 31:Hs(s,c),h&4&&mx(s,c);break;case 13:Hs(s,c),h&4&&yx(s,c),h&64&&(s=c.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(c=l2.bind(null,c),I2(s,c))));break;case 22:if(h=c.memoizedState!==null||js,!h){a=a!==null&&a.memoizedState!==null||qe,m=js;var b=qe;js=h,(qe=a)&&!b?qs(s,c,(c.subtreeFlags&8772)!==0):Hs(s,c),js=m,qe=b}break;case 30:break;default:Hs(s,c)}}function gx(s){var a=s.alternate;a!==null&&(s.alternate=null,gx(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&So(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var xe=null,zn=!1;function Fs(s,a,c){for(c=c.child;c!==null;)px(s,a,c),c=c.sibling}function px(s,a,c){if(cn&&typeof cn.onCommitFiberUnmount=="function")try{cn.onCommitFiberUnmount(Ri,c)}catch{}switch(c.tag){case 26:qe||gs(c,a),Fs(s,a,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:qe||gs(c,a);var h=xe,m=zn;zr(c.type)&&(xe=c.stateNode,zn=!1),Fs(s,a,c),Hc(c.stateNode),xe=h,zn=m;break;case 5:qe||gs(c,a);case 6:if(h=xe,m=zn,xe=null,Fs(s,a,c),xe=h,zn=m,xe!==null)if(zn)try{(xe.nodeType===9?xe.body:xe.nodeName==="HTML"?xe.ownerDocument.body:xe).removeChild(c.stateNode)}catch(b){ae(c,a,b)}else try{xe.removeChild(c.stateNode)}catch(b){ae(c,a,b)}break;case 18:xe!==null&&(zn?(s=xe,oE(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,c.stateNode),ll(s)):oE(xe,c.stateNode));break;case 4:h=xe,m=zn,xe=c.stateNode.containerInfo,zn=!0,Fs(s,a,c),xe=h,zn=m;break;case 0:case 11:case 14:case 15:Rr(2,c,a),qe||Rr(4,c,a),Fs(s,a,c);break;case 1:qe||(gs(c,a),h=c.stateNode,typeof h.componentWillUnmount=="function"&&lx(c,a,h)),Fs(s,a,c);break;case 21:Fs(s,a,c);break;case 22:qe=(h=qe)||c.memoizedState!==null,Fs(s,a,c),qe=h;break;default:Fs(s,a,c)}}function mx(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{ll(s)}catch(c){ae(a,a.return,c)}}}function yx(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{ll(s)}catch(c){ae(a,a.return,c)}}function t2(s){switch(s.tag){case 31:case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new dx),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new dx),a;default:throw Error(i(435,s.tag))}}function vd(s,a){var c=t2(s);a.forEach(function(h){if(!c.has(h)){c.add(h);var m=c2.bind(null,s,h);h.then(m,m)}})}function Ln(s,a){var c=a.deletions;if(c!==null)for(var h=0;h<c.length;h++){var m=c[h],b=s,E=a,R=E;t:for(;R!==null;){switch(R.tag){case 27:if(zr(R.type)){xe=R.stateNode,zn=!1;break t}break;case 5:xe=R.stateNode,zn=!1;break t;case 3:case 4:xe=R.stateNode.containerInfo,zn=!0;break t}R=R.return}if(xe===null)throw Error(i(160));px(b,E,m),xe=null,zn=!1,b=m.alternate,b!==null&&(b.return=null),m.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)bx(a,s),a=a.sibling}var Bi=null;function bx(s,a){var c=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Ln(a,s),Vn(s),h&4&&(Rr(3,s,s.return),Oc(3,s),Rr(5,s,s.return));break;case 1:Ln(a,s),Vn(s),h&512&&(qe||c===null||gs(c,c.return)),h&64&&js&&(s=s.updateQueue,s!==null&&(h=s.callbacks,h!==null&&(c=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=c===null?h:c.concat(h))));break;case 26:var m=Bi;if(Ln(a,s),Vn(s),h&512&&(qe||c===null||gs(c,c.return)),h&4){var b=c!==null?c.memoizedState:null;if(h=s.memoizedState,c===null)if(h===null)if(s.stateNode===null){t:{h=s.type,c=s.memoizedProps,m=m.ownerDocument||m;e:switch(h){case"title":b=m.getElementsByTagName("title")[0],(!b||b[ts]||b[Ve]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=m.createElement(h),m.head.insertBefore(b,m.querySelector("head > title"))),gn(b,h,c),b[Ve]=s,Be(b),h=b;break t;case"link":var E=bE("link","href",m).get(h+(c.href||""));if(E){for(var R=0;R<E.length;R++)if(b=E[R],b.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&b.getAttribute("rel")===(c.rel==null?null:c.rel)&&b.getAttribute("title")===(c.title==null?null:c.title)&&b.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){E.splice(R,1);break e}}b=m.createElement(h),gn(b,h,c),m.head.appendChild(b);break;case"meta":if(E=bE("meta","content",m).get(h+(c.content||""))){for(R=0;R<E.length;R++)if(b=E[R],b.getAttribute("content")===(c.content==null?null:""+c.content)&&b.getAttribute("name")===(c.name==null?null:c.name)&&b.getAttribute("property")===(c.property==null?null:c.property)&&b.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&b.getAttribute("charset")===(c.charSet==null?null:c.charSet)){E.splice(R,1);break e}}b=m.createElement(h),gn(b,h,c),m.head.appendChild(b);break;default:throw Error(i(468,h))}b[Ve]=s,Be(b),h=b}s.stateNode=h}else _E(m,s.type,s.stateNode);else s.stateNode=yE(m,h,s.memoizedProps);else b!==h?(b===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):b.count--,h===null?_E(m,s.type,s.stateNode):yE(m,h,s.memoizedProps)):h===null&&s.stateNode!==null&&am(s,s.memoizedProps,c.memoizedProps)}break;case 27:Ln(a,s),Vn(s),h&512&&(qe||c===null||gs(c,c.return)),c!==null&&h&4&&am(s,s.memoizedProps,c.memoizedProps);break;case 5:if(Ln(a,s),Vn(s),h&512&&(qe||c===null||gs(c,c.return)),s.flags&32){m=s.stateNode;try{Pn(m,"")}catch(yt){ae(s,s.return,yt)}}h&4&&s.stateNode!=null&&(m=s.memoizedProps,am(s,m,c!==null?c.memoizedProps:m)),h&1024&&(cm=!0);break;case 6:if(Ln(a,s),Vn(s),h&4){if(s.stateNode===null)throw Error(i(162));h=s.memoizedProps,c=s.stateNode;try{c.nodeValue=h}catch(yt){ae(s,s.return,yt)}}break;case 3:if(zd=null,m=Bi,Bi=Md(a.containerInfo),Ln(a,s),Bi=m,Vn(s),h&4&&c!==null&&c.memoizedState.isDehydrated)try{ll(a.containerInfo)}catch(yt){ae(s,s.return,yt)}cm&&(cm=!1,_x(s));break;case 4:h=Bi,Bi=Md(s.stateNode.containerInfo),Ln(a,s),Vn(s),Bi=h;break;case 12:Ln(a,s),Vn(s);break;case 31:Ln(a,s),Vn(s),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,vd(s,h)));break;case 13:Ln(a,s),Vn(s),s.child.flags&8192&&s.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Ed=Cn()),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,vd(s,h)));break;case 22:m=s.memoizedState!==null;var B=c!==null&&c.memoizedState!==null,Q=js,nt=qe;if(js=Q||m,qe=nt||B,Ln(a,s),qe=nt,js=Q,Vn(s),h&8192)t:for(a=s.stateNode,a._visibility=m?a._visibility&-2:a._visibility|1,m&&(c===null||B||js||qe||$a(s)),c=null,a=s;;){if(a.tag===5||a.tag===26){if(c===null){B=c=a;try{if(b=B.stateNode,m)E=b.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{R=B.stateNode;var rt=B.memoizedProps.style,J=rt!=null&&rt.hasOwnProperty("display")?rt.display:null;R.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(yt){ae(B,B.return,yt)}}}else if(a.tag===6){if(c===null){B=a;try{B.stateNode.nodeValue=m?"":B.memoizedProps}catch(yt){ae(B,B.return,yt)}}}else if(a.tag===18){if(c===null){B=a;try{var tt=B.stateNode;m?lE(tt,!0):lE(B.stateNode,!1)}catch(yt){ae(B,B.return,yt)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break t;for(;a.sibling===null;){if(a.return===null||a.return===s)break t;c===a&&(c=null),a=a.return}c===a&&(c=null),a.sibling.return=a.return,a=a.sibling}h&4&&(h=s.updateQueue,h!==null&&(c=h.retryQueue,c!==null&&(h.retryQueue=null,vd(s,c))));break;case 19:Ln(a,s),Vn(s),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,vd(s,h)));break;case 30:break;case 21:break;default:Ln(a,s),Vn(s)}}function Vn(s){var a=s.flags;if(a&2){try{for(var c,h=s.return;h!==null;){if(ux(h)){c=h;break}h=h.return}if(c==null)throw Error(i(160));switch(c.tag){case 27:var m=c.stateNode,b=om(s);_d(s,b,m);break;case 5:var E=c.stateNode;c.flags&32&&(Pn(E,""),c.flags&=-33);var R=om(s);_d(s,R,E);break;case 3:case 4:var B=c.stateNode.containerInfo,Q=om(s);lm(s,Q,B);break;default:throw Error(i(161))}}catch(nt){ae(s,s.return,nt)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function _x(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;_x(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function Hs(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)fx(s,a.alternate,a),a=a.sibling}function $a(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:Rr(4,a,a.return),$a(a);break;case 1:gs(a,a.return);var c=a.stateNode;typeof c.componentWillUnmount=="function"&&lx(a,a.return,c),$a(a);break;case 27:Hc(a.stateNode);case 26:case 5:gs(a,a.return),$a(a);break;case 22:a.memoizedState===null&&$a(a);break;case 30:$a(a);break;default:$a(a)}s=s.sibling}}function qs(s,a,c){for(c=c&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var h=a.alternate,m=s,b=a,E=b.flags;switch(b.tag){case 0:case 11:case 15:qs(m,b,c),Oc(4,b);break;case 1:if(qs(m,b,c),h=b,m=h.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(Q){ae(h,h.return,Q)}if(h=b,m=h.updateQueue,m!==null){var R=h.stateNode;try{var B=m.shared.hiddenCallbacks;if(B!==null)for(m.shared.hiddenCallbacks=null,m=0;m<B.length;m++)Q_(B[m],R)}catch(Q){ae(h,h.return,Q)}}c&&E&64&&ox(b),Mc(b,b.return);break;case 27:hx(b);case 26:case 5:qs(m,b,c),c&&h===null&&E&4&&cx(b),Mc(b,b.return);break;case 12:qs(m,b,c);break;case 31:qs(m,b,c),c&&E&4&&mx(m,b);break;case 13:qs(m,b,c),c&&E&4&&yx(m,b);break;case 22:b.memoizedState===null&&qs(m,b,c),Mc(b,b.return);break;case 30:break;default:qs(m,b,c)}a=a.sibling}}function um(s,a){var c=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==c&&(s!=null&&s.refCount++,c!=null&&vc(c))}function hm(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&vc(s))}function Ui(s,a,c,h){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)vx(s,a,c,h),a=a.sibling}function vx(s,a,c,h){var m=a.flags;switch(a.tag){case 0:case 11:case 15:Ui(s,a,c,h),m&2048&&Oc(9,a);break;case 1:Ui(s,a,c,h);break;case 3:Ui(s,a,c,h),m&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&vc(s)));break;case 12:if(m&2048){Ui(s,a,c,h),s=a.stateNode;try{var b=a.memoizedProps,E=b.id,R=b.onPostCommit;typeof R=="function"&&R(E,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(B){ae(a,a.return,B)}}else Ui(s,a,c,h);break;case 31:Ui(s,a,c,h);break;case 13:Ui(s,a,c,h);break;case 23:break;case 22:b=a.stateNode,E=a.alternate,a.memoizedState!==null?b._visibility&2?Ui(s,a,c,h):Pc(s,a):b._visibility&2?Ui(s,a,c,h):(b._visibility|=2,Xo(s,a,c,h,(a.subtreeFlags&10256)!==0||!1)),m&2048&&um(E,a);break;case 24:Ui(s,a,c,h),m&2048&&hm(a.alternate,a);break;default:Ui(s,a,c,h)}}function Xo(s,a,c,h,m){for(m=m&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var b=s,E=a,R=c,B=h,Q=E.flags;switch(E.tag){case 0:case 11:case 15:Xo(b,E,R,B,m),Oc(8,E);break;case 23:break;case 22:var nt=E.stateNode;E.memoizedState!==null?nt._visibility&2?Xo(b,E,R,B,m):Pc(b,E):(nt._visibility|=2,Xo(b,E,R,B,m)),m&&Q&2048&&um(E.alternate,E);break;case 24:Xo(b,E,R,B,m),m&&Q&2048&&hm(E.alternate,E);break;default:Xo(b,E,R,B,m)}a=a.sibling}}function Pc(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var c=s,h=a,m=h.flags;switch(h.tag){case 22:Pc(c,h),m&2048&&um(h.alternate,h);break;case 24:Pc(c,h),m&2048&&hm(h.alternate,h);break;default:Pc(c,h)}a=a.sibling}}var zc=8192;function Jo(s,a,c){if(s.subtreeFlags&zc)for(s=s.child;s!==null;)xx(s,a,c),s=s.sibling}function xx(s,a,c){switch(s.tag){case 26:Jo(s,a,c),s.flags&zc&&s.memoizedState!==null&&U2(c,Bi,s.memoizedState,s.memoizedProps);break;case 5:Jo(s,a,c);break;case 3:case 4:var h=Bi;Bi=Md(s.stateNode.containerInfo),Jo(s,a,c),Bi=h;break;case 22:s.memoizedState===null&&(h=s.alternate,h!==null&&h.memoizedState!==null?(h=zc,zc=16777216,Jo(s,a,c),zc=h):Jo(s,a,c));break;default:Jo(s,a,c)}}function Ex(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function Lc(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var c=0;c<a.length;c++){var h=a[c];nn=h,Sx(h,s)}Ex(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Tx(s),s=s.sibling}function Tx(s){switch(s.tag){case 0:case 11:case 15:Lc(s),s.flags&2048&&Rr(9,s,s.return);break;case 3:Lc(s);break;case 12:Lc(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&2&&(s.return===null||s.return.tag!==13)?(a._visibility&=-3,xd(s)):Lc(s);break;default:Lc(s)}}function xd(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var c=0;c<a.length;c++){var h=a[c];nn=h,Sx(h,s)}Ex(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:Rr(8,a,a.return),xd(a);break;case 22:c=a.stateNode,c._visibility&2&&(c._visibility&=-3,xd(a));break;default:xd(a)}s=s.sibling}}function Sx(s,a){for(;nn!==null;){var c=nn;switch(c.tag){case 0:case 11:case 15:Rr(8,c,a);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var h=c.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:vc(c.memoizedState.cache)}if(h=c.child,h!==null)h.return=c,nn=h;else t:for(c=s;nn!==null;){h=nn;var m=h.sibling,b=h.return;if(gx(h),h===c){nn=null;break t}if(m!==null){m.return=b,nn=m;break t}nn=b}}}var e2={getCacheForType:function(s){var a=dn(je),c=a.data.get(s);return c===void 0&&(c=s(),a.data.set(s,c)),c},cacheSignal:function(){return dn(je).controller.signal}},n2=typeof WeakMap=="function"?WeakMap:Map,ee=0,de=null,Vt=null,Ut=0,re=0,Xn=null,Dr=!1,Zo=!1,dm=!1,Gs=0,Se=0,Nr=0,Wa=0,fm=0,Jn=0,tl=0,Vc=null,Bn=null,gm=!1,Ed=0,wx=0,Td=1/0,Sd=null,kr=null,Ke=0,Or=null,el=null,$s=0,pm=0,mm=null,Ax=null,Bc=0,ym=null;function Zn(){return(ee&2)!==0&&Ut!==0?Ut&-Ut:X.T!==null?Tm():wh()}function Cx(){if(Jn===0)if((Ut&536870912)===0||Gt){var s=va;va<<=1,(va&3932160)===0&&(va=262144),Jn=s}else Jn=536870912;return s=Kn.current,s!==null&&(s.flags|=32),Jn}function Un(s,a,c){(s===de&&(re===2||re===9)||s.cancelPendingCommit!==null)&&(nl(s,0),Mr(s,Ut,Jn,!1)),xa(s,c),((ee&2)===0||s!==de)&&(s===de&&((ee&2)===0&&(Wa|=c),Se===4&&Mr(s,Ut,Jn,!1)),ps(s))}function Ix(s,a,c){if((ee&6)!==0)throw Error(i(327));var h=!c&&(a&127)===0&&(a&s.expiredLanes)===0||Di(s,a),m=h?r2(s,a):_m(s,a,!0),b=h;do{if(m===0){Zo&&!h&&Mr(s,a,0,!1);break}else{if(c=s.current.alternate,b&&!i2(c)){m=_m(s,a,!1),b=!1;continue}if(m===2){if(b=a,s.errorRecoveryDisabledLanes&b)var E=0;else E=s.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){a=E;t:{var R=s;m=Vc;var B=R.current.memoizedState.isDehydrated;if(B&&(nl(R,E).flags|=256),E=_m(R,E,!1),E!==2){if(dm&&!B){R.errorRecoveryDisabledLanes|=b,Wa|=b,m=4;break t}b=Bn,Bn=m,b!==null&&(Bn===null?Bn=b:Bn.push.apply(Bn,b))}m=E}if(b=!1,m!==2)continue}}if(m===1){nl(s,0),Mr(s,a,0,!0);break}t:{switch(h=s,b=m,b){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:Mr(h,a,Jn,!Dr);break t;case 2:Bn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(m=Ed+300-Cn(),10<m)){if(Mr(h,a,Jn,!Dr),Xi(h,0,!0)!==0)break t;$s=a,h.timeoutHandle=rE(Rx.bind(null,h,c,Bn,Sd,gm,a,Jn,Wa,tl,Dr,b,"Throttled",-0,0),m);break t}Rx(h,c,Bn,Sd,gm,a,Jn,Wa,tl,Dr,b,null,-0,0)}}break}while(!0);ps(s)}function Rx(s,a,c,h,m,b,E,R,B,Q,nt,rt,J,tt){if(s.timeoutHandle=-1,rt=a.subtreeFlags,rt&8192||(rt&16785408)===16785408){rt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Oi},xx(a,b,rt);var yt=(b&62914560)===b?Ed-Cn():(b&4194048)===b?wx-Cn():0;if(yt=j2(rt,yt),yt!==null){$s=b,s.cancelPendingCommit=yt(Lx.bind(null,s,a,b,c,h,m,E,R,B,nt,rt,null,J,tt)),Mr(s,b,E,!Q);return}}Lx(s,a,b,c,h,m,E,R,B)}function i2(s){for(var a=s;;){var c=a.tag;if((c===0||c===11||c===15)&&a.flags&16384&&(c=a.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var h=0;h<c.length;h++){var m=c[h],b=m.getSnapshot;m=m.value;try{if(!Wn(b(),m))return!1}catch{return!1}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Mr(s,a,c,h){a&=~fm,a&=~Wa,s.suspendedLanes|=a,s.pingedLanes&=~a,h&&(s.warmLanes|=a),h=s.expirationTimes;for(var m=a;0<m;){var b=31-Ce(m),E=1<<b;h[b]=-1,m&=~E}c!==0&&Ea(s,c,a)}function wd(){return(ee&6)===0?(Uc(0),!1):!0}function bm(){if(Vt!==null){if(re===0)var s=Vt.return;else s=Vt,Ps=Va=null,Mp(s),$o=null,Ec=0,s=Vt;for(;s!==null;)ax(s.alternate,s),s=s.return;Vt=null}}function nl(s,a){var c=s.timeoutHandle;c!==-1&&(s.timeoutHandle=-1,T2(c)),c=s.cancelPendingCommit,c!==null&&(s.cancelPendingCommit=null,c()),$s=0,bm(),de=s,Vt=c=Os(s.current,null),Ut=a,re=0,Xn=null,Dr=!1,Zo=Di(s,a),dm=!1,tl=Jn=fm=Wa=Nr=Se=0,Bn=Vc=null,gm=!1,(a&8)!==0&&(a|=a&32);var h=s.entangledLanes;if(h!==0)for(s=s.entanglements,h&=a;0<h;){var m=31-Ce(h),b=1<<m;a|=s[m],h&=~b}return Gs=a,$h(),c}function Dx(s,a){Pt=null,X.H=Dc,a===Go||a===td?(a=$_(),re=3):a===Ep?(a=$_(),re=4):re=a===Qp?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Xn=a,Vt===null&&(Se=1,gd(s,fi(a,s.current)))}function Nx(){var s=Kn.current;return s===null?!0:(Ut&4194048)===Ut?yi===null:(Ut&62914560)===Ut||(Ut&536870912)!==0?s===yi:!1}function kx(){var s=X.H;return X.H=Dc,s===null?Dc:s}function Ox(){var s=X.A;return X.A=e2,s}function Ad(){Se=4,Dr||(Ut&4194048)!==Ut&&Kn.current!==null||(Zo=!0),(Nr&134217727)===0&&(Wa&134217727)===0||de===null||Mr(de,Ut,Jn,!1)}function _m(s,a,c){var h=ee;ee|=2;var m=kx(),b=Ox();(de!==s||Ut!==a)&&(Sd=null,nl(s,a)),a=!1;var E=Se;t:do try{if(re!==0&&Vt!==null){var R=Vt,B=Xn;switch(re){case 8:bm(),E=6;break t;case 3:case 2:case 9:case 6:Kn.current===null&&(a=!0);var Q=re;if(re=0,Xn=null,il(s,R,B,Q),c&&Zo){E=0;break t}break;default:Q=re,re=0,Xn=null,il(s,R,B,Q)}}s2(),E=Se;break}catch(nt){Dx(s,nt)}while(!0);return a&&s.shellSuspendCounter++,Ps=Va=null,ee=h,X.H=m,X.A=b,Vt===null&&(de=null,Ut=0,$h()),E}function s2(){for(;Vt!==null;)Mx(Vt)}function r2(s,a){var c=ee;ee|=2;var h=kx(),m=Ox();de!==s||Ut!==a?(Sd=null,Td=Cn()+500,nl(s,a)):Zo=Di(s,a);t:do try{if(re!==0&&Vt!==null){a=Vt;var b=Xn;e:switch(re){case 1:re=0,Xn=null,il(s,a,b,1);break;case 2:case 9:if(q_(b)){re=0,Xn=null,Px(a);break}a=function(){re!==2&&re!==9||de!==s||(re=7),ps(s)},b.then(a,a);break t;case 3:re=7;break t;case 4:re=5;break t;case 7:q_(b)?(re=0,Xn=null,Px(a)):(re=0,Xn=null,il(s,a,b,7));break;case 5:var E=null;switch(Vt.tag){case 26:E=Vt.memoizedState;case 5:case 27:var R=Vt;if(E?vE(E):R.stateNode.complete){re=0,Xn=null;var B=R.sibling;if(B!==null)Vt=B;else{var Q=R.return;Q!==null?(Vt=Q,Cd(Q)):Vt=null}break e}}re=0,Xn=null,il(s,a,b,5);break;case 6:re=0,Xn=null,il(s,a,b,6);break;case 8:bm(),Se=6;break t;default:throw Error(i(462))}}a2();break}catch(nt){Dx(s,nt)}while(!0);return Ps=Va=null,X.H=h,X.A=m,ee=c,Vt!==null?0:(de=null,Ut=0,$h(),Se)}function a2(){for(;Vt!==null&&!Kg();)Mx(Vt)}function Mx(s){var a=sx(s.alternate,s,Gs);s.memoizedProps=s.pendingProps,a===null?Cd(s):Vt=a}function Px(s){var a=s,c=a.alternate;switch(a.tag){case 15:case 0:a=Jv(c,a,a.pendingProps,a.type,void 0,Ut);break;case 11:a=Jv(c,a,a.pendingProps,a.type.render,a.ref,Ut);break;case 5:Mp(a);default:ax(c,a),a=Vt=O_(a,Gs),a=sx(c,a,Gs)}s.memoizedProps=s.pendingProps,a===null?Cd(s):Vt=a}function il(s,a,c,h){Ps=Va=null,Mp(a),$o=null,Ec=0;var m=a.return;try{if(YD(s,m,a,c,Ut)){Se=1,gd(s,fi(c,s.current)),Vt=null;return}}catch(b){if(m!==null)throw Vt=m,b;Se=1,gd(s,fi(c,s.current)),Vt=null;return}a.flags&32768?(Gt||h===1?s=!0:Zo||(Ut&536870912)!==0?s=!1:(Dr=s=!0,(h===2||h===9||h===3||h===6)&&(h=Kn.current,h!==null&&h.tag===13&&(h.flags|=16384))),zx(a,s)):Cd(a)}function Cd(s){var a=s;do{if((a.flags&32768)!==0){zx(a,Dr);return}s=a.return;var c=XD(a.alternate,a,Gs);if(c!==null){Vt=c;return}if(a=a.sibling,a!==null){Vt=a;return}Vt=a=s}while(a!==null);Se===0&&(Se=5)}function zx(s,a){do{var c=JD(s.alternate,s);if(c!==null){c.flags&=32767,Vt=c;return}if(c=s.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!a&&(s=s.sibling,s!==null)){Vt=s;return}Vt=s=c}while(s!==null);Se=6,Vt=null}function Lx(s,a,c,h,m,b,E,R,B){s.cancelPendingCommit=null;do Id();while(Ke!==0);if((ee&6)!==0)throw Error(i(327));if(a!==null){if(a===s.current)throw Error(i(177));if(b=a.lanes|a.childLanes,b|=op,Jg(s,c,b,E,R,B),s===de&&(Vt=de=null,Ut=0),el=a,Or=s,$s=c,pm=b,mm=m,Ax=h,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,u2(ur,function(){return Fx(),null})):(s.callbackNode=null,s.callbackPriority=0),h=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||h){h=X.T,X.T=null,m=ot.p,ot.p=2,E=ee,ee|=4;try{ZD(s,a,c)}finally{ee=E,ot.p=m,X.T=h}}Ke=1,Vx(),Bx(),Ux()}}function Vx(){if(Ke===1){Ke=0;var s=Or,a=el,c=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||c){c=X.T,X.T=null;var h=ot.p;ot.p=2;var m=ee;ee|=4;try{bx(a,s);var b=Nm,E=S_(s.containerInfo),R=b.focusedElem,B=b.selectionRange;if(E!==R&&R&&R.ownerDocument&&T_(R.ownerDocument.documentElement,R)){if(B!==null&&np(R)){var Q=B.start,nt=B.end;if(nt===void 0&&(nt=Q),"selectionStart"in R)R.selectionStart=Q,R.selectionEnd=Math.min(nt,R.value.length);else{var rt=R.ownerDocument||document,J=rt&&rt.defaultView||window;if(J.getSelection){var tt=J.getSelection(),yt=R.textContent.length,wt=Math.min(B.start,yt),he=B.end===void 0?wt:Math.min(B.end,yt);!tt.extend&&wt>he&&(E=he,he=wt,wt=E);var q=E_(R,wt),j=E_(R,he);if(q&&j&&(tt.rangeCount!==1||tt.anchorNode!==q.node||tt.anchorOffset!==q.offset||tt.focusNode!==j.node||tt.focusOffset!==j.offset)){var K=rt.createRange();K.setStart(q.node,q.offset),tt.removeAllRanges(),wt>he?(tt.addRange(K),tt.extend(j.node,j.offset)):(K.setEnd(j.node,j.offset),tt.addRange(K))}}}}for(rt=[],tt=R;tt=tt.parentNode;)tt.nodeType===1&&rt.push({element:tt,left:tt.scrollLeft,top:tt.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<rt.length;R++){var it=rt[R];it.element.scrollLeft=it.left,it.element.scrollTop=it.top}}Ud=!!Dm,Nm=Dm=null}finally{ee=m,ot.p=h,X.T=c}}s.current=a,Ke=2}}function Bx(){if(Ke===2){Ke=0;var s=Or,a=el,c=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||c){c=X.T,X.T=null;var h=ot.p;ot.p=2;var m=ee;ee|=4;try{fx(s,a.alternate,a)}finally{ee=m,ot.p=h,X.T=c}}Ke=3}}function Ux(){if(Ke===4||Ke===3){Ke=0,bh();var s=Or,a=el,c=$s,h=Ax;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Ke=5:(Ke=0,el=Or=null,jx(s,s.pendingLanes));var m=s.pendingLanes;if(m===0&&(kr=null),Rs(c),a=a.stateNode,cn&&typeof cn.onCommitFiberRoot=="function")try{cn.onCommitFiberRoot(Ri,a,void 0,(a.current.flags&128)===128)}catch{}if(h!==null){a=X.T,m=ot.p,ot.p=2,X.T=null;try{for(var b=s.onRecoverableError,E=0;E<h.length;E++){var R=h[E];b(R.value,{componentStack:R.stack})}}finally{X.T=a,ot.p=m}}($s&3)!==0&&Id(),ps(s),m=s.pendingLanes,(c&261930)!==0&&(m&42)!==0?s===ym?Bc++:(Bc=0,ym=s):Bc=0,Uc(0)}}function jx(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,vc(a)))}function Id(){return Vx(),Bx(),Ux(),Fx()}function Fx(){if(Ke!==5)return!1;var s=Or,a=pm;pm=0;var c=Rs($s),h=X.T,m=ot.p;try{ot.p=32>c?32:c,X.T=null,c=mm,mm=null;var b=Or,E=$s;if(Ke=0,el=Or=null,$s=0,(ee&6)!==0)throw Error(i(331));var R=ee;if(ee|=4,Tx(b.current),vx(b,b.current,E,c),ee=R,Uc(0,!1),cn&&typeof cn.onPostCommitFiberRoot=="function")try{cn.onPostCommitFiberRoot(Ri,b)}catch{}return!0}finally{ot.p=m,X.T=h,jx(s,a)}}function Hx(s,a,c){a=fi(c,a),a=Kp(s.stateNode,a,2),s=Ar(s,a,2),s!==null&&(xa(s,2),ps(s))}function ae(s,a,c){if(s.tag===3)Hx(s,s,c);else for(;a!==null;){if(a.tag===3){Hx(a,s,c);break}else if(a.tag===1){var h=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(kr===null||!kr.has(h))){s=fi(c,s),c=qv(2),h=Ar(a,c,2),h!==null&&(Gv(c,h,a,s),xa(h,2),ps(h));break}}a=a.return}}function vm(s,a,c){var h=s.pingCache;if(h===null){h=s.pingCache=new n2;var m=new Set;h.set(a,m)}else m=h.get(a),m===void 0&&(m=new Set,h.set(a,m));m.has(c)||(dm=!0,m.add(c),s=o2.bind(null,s,a,c),a.then(s,s))}function o2(s,a,c){var h=s.pingCache;h!==null&&h.delete(a),s.pingedLanes|=s.suspendedLanes&c,s.warmLanes&=~c,de===s&&(Ut&c)===c&&(Se===4||Se===3&&(Ut&62914560)===Ut&&300>Cn()-Ed?(ee&2)===0&&nl(s,0):fm|=c,tl===Ut&&(tl=0)),ps(s)}function qx(s,a){a===0&&(a=Sh()),s=Pa(s,a),s!==null&&(xa(s,a),ps(s))}function l2(s){var a=s.memoizedState,c=0;a!==null&&(c=a.retryLane),qx(s,c)}function c2(s,a){var c=0;switch(s.tag){case 31:case 13:var h=s.stateNode,m=s.memoizedState;m!==null&&(c=m.retryLane);break;case 19:h=s.stateNode;break;case 22:h=s.stateNode._retryCache;break;default:throw Error(i(314))}h!==null&&h.delete(a),qx(s,c)}function u2(s,a){return Ye(s,a)}var Rd=null,sl=null,xm=!1,Dd=!1,Em=!1,Pr=0;function ps(s){s!==sl&&s.next===null&&(sl===null?Rd=sl=s:sl=sl.next=s),Dd=!0,xm||(xm=!0,d2())}function Uc(s,a){if(!Em&&Dd){Em=!0;do for(var c=!1,h=Rd;h!==null;){if(s!==0){var m=h.pendingLanes;if(m===0)var b=0;else{var E=h.suspendedLanes,R=h.pingedLanes;b=(1<<31-Ce(42|s)+1)-1,b&=m&~(E&~R),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(c=!0,Yx(h,b))}else b=Ut,b=Xi(h,h===de?b:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(b&3)===0||Di(h,b)||(c=!0,Yx(h,b));h=h.next}while(c);Em=!1}}function h2(){Gx()}function Gx(){Dd=xm=!1;var s=0;Pr!==0&&E2()&&(s=Pr);for(var a=Cn(),c=null,h=Rd;h!==null;){var m=h.next,b=$x(h,a);b===0?(h.next=null,c===null?Rd=m:c.next=m,m===null&&(sl=c)):(c=h,(s!==0||(b&3)!==0)&&(Dd=!0)),h=m}Ke!==0&&Ke!==5||Uc(s),Pr!==0&&(Pr=0)}function $x(s,a){for(var c=s.suspendedLanes,h=s.pingedLanes,m=s.expirationTimes,b=s.pendingLanes&-62914561;0<b;){var E=31-Ce(b),R=1<<E,B=m[E];B===-1?((R&c)===0||(R&h)!==0)&&(m[E]=Xg(R,a)):B<=a&&(s.expiredLanes|=R),b&=~R}if(a=de,c=Ut,c=Xi(s,s===a?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),h=s.callbackNode,c===0||s===a&&(re===2||re===9)||s.cancelPendingCommit!==null)return h!==null&&h!==null&&cr(h),s.callbackNode=null,s.callbackPriority=0;if((c&3)===0||Di(s,c)){if(a=c&-c,a===s.callbackPriority)return a;switch(h!==null&&cr(h),Rs(c)){case 2:case 8:c=Ql;break;case 32:c=ur;break;case 268435456:c=_h;break;default:c=ur}return h=Wx.bind(null,s),c=Ye(c,h),s.callbackPriority=a,s.callbackNode=c,a}return h!==null&&h!==null&&cr(h),s.callbackPriority=2,s.callbackNode=null,2}function Wx(s,a){if(Ke!==0&&Ke!==5)return s.callbackNode=null,s.callbackPriority=0,null;var c=s.callbackNode;if(Id()&&s.callbackNode!==c)return null;var h=Ut;return h=Xi(s,s===de?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),h===0?null:(Ix(s,h,a),$x(s,Cn()),s.callbackNode!=null&&s.callbackNode===c?Wx.bind(null,s):null)}function Yx(s,a){if(Id())return null;Ix(s,a,!0)}function d2(){S2(function(){(ee&6)!==0?Ye(Kl,h2):Gx()})}function Tm(){if(Pr===0){var s=Ho;s===0&&(s=Ki,Ki<<=1,(Ki&261888)===0&&(Ki=256)),Pr=s}return Pr}function Kx(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Io(""+s)}function Qx(s,a){var c=a.ownerDocument.createElement("input");return c.name=a.name,c.value=a.value,s.id&&c.setAttribute("form",s.id),a.parentNode.insertBefore(c,a),s=new FormData(s),c.parentNode.removeChild(c),s}function f2(s,a,c,h,m){if(a==="submit"&&c&&c.stateNode===m){var b=Kx((m[tn]||null).action),E=h.submitter;E&&(a=(a=E[tn]||null)?Kx(a.formAction):E.getAttribute("formAction"),a!==null&&(b=a,E=null));var R=new ls("action","action",null,h,m);s.push({event:R,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Pr!==0){var B=E?Qx(m,E):new FormData(m);Hp(c,{pending:!0,data:B,method:m.method,action:b},null,B)}}else typeof b=="function"&&(R.preventDefault(),B=E?Qx(m,E):new FormData(m),Hp(c,{pending:!0,data:B,method:m.method,action:b},b,B))},currentTarget:m}]})}}for(var Sm=0;Sm<ap.length;Sm++){var wm=ap[Sm],g2=wm.toLowerCase(),p2=wm[0].toUpperCase()+wm.slice(1);Vi(g2,"on"+p2)}Vi(C_,"onAnimationEnd"),Vi(I_,"onAnimationIteration"),Vi(R_,"onAnimationStart"),Vi("dblclick","onDoubleClick"),Vi("focusin","onFocus"),Vi("focusout","onBlur"),Vi(ND,"onTransitionRun"),Vi(kD,"onTransitionStart"),Vi(OD,"onTransitionCancel"),Vi(D_,"onTransitionEnd"),ss("onMouseEnter",["mouseout","mouseover"]),ss("onMouseLeave",["mouseout","mouseover"]),ss("onPointerEnter",["pointerout","pointerover"]),ss("onPointerLeave",["pointerout","pointerover"]),is("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),is("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),is("onBeforeInput",["compositionend","keypress","textInput","paste"]),is("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),is("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),is("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var jc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),m2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(jc));function Xx(s,a){a=(a&4)!==0;for(var c=0;c<s.length;c++){var h=s[c],m=h.event;h=h.listeners;t:{var b=void 0;if(a)for(var E=h.length-1;0<=E;E--){var R=h[E],B=R.instance,Q=R.currentTarget;if(R=R.listener,B!==b&&m.isPropagationStopped())break t;b=R,m.currentTarget=Q;try{b(m)}catch(nt){Gh(nt)}m.currentTarget=null,b=B}else for(E=0;E<h.length;E++){if(R=h[E],B=R.instance,Q=R.currentTarget,R=R.listener,B!==b&&m.isPropagationStopped())break t;b=R,m.currentTarget=Q;try{b(m)}catch(nt){Gh(nt)}m.currentTarget=null,b=B}}}}function Bt(s,a){var c=a[To];c===void 0&&(c=a[To]=new Set);var h=s+"__bubble";c.has(h)||(Jx(a,s,2,!1),c.add(h))}function Am(s,a,c){var h=0;a&&(h|=4),Jx(c,s,h,a)}var Nd="_reactListening"+Math.random().toString(36).slice(2);function Cm(s){if(!s[Nd]){s[Nd]=!0,Zl.forEach(function(c){c!=="selectionchange"&&(m2.has(c)||Am(c,!1,s),Am(c,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[Nd]||(a[Nd]=!0,Am("selectionchange",!1,a))}}function Jx(s,a,c,h){switch(CE(a)){case 2:var m=q2;break;case 8:m=G2;break;default:m=Fm}c=m.bind(null,a,c,s),m=void 0,!Ca||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(m=!0),h?m!==void 0?s.addEventListener(a,c,{capture:!0,passive:m}):s.addEventListener(a,c,!0):m!==void 0?s.addEventListener(a,c,{passive:m}):s.addEventListener(a,c,!1)}function Im(s,a,c,h,m){var b=h;if((a&1)===0&&(a&2)===0&&h!==null)t:for(;;){if(h===null)return;var E=h.tag;if(E===3||E===4){var R=h.stateNode.containerInfo;if(R===m)break;if(E===4)for(E=h.return;E!==null;){var B=E.tag;if((B===3||B===4)&&E.stateNode.containerInfo===m)return;E=E.return}for(;R!==null;){if(E=es(R),E===null)return;if(B=E.tag,B===5||B===6||B===26||B===27){h=b=E;continue t}R=R.parentNode}}h=h.return}mr(function(){var Q=b,nt=ci(c),rt=[];t:{var J=N_.get(s);if(J!==void 0){var tt=ls,yt=s;switch(s){case"keypress":if(Ra(c)===0)break t;case"keydown":case"keyup":tt=Fh;break;case"focusin":yt="focus",tt=Na;break;case"focusout":yt="blur",tt=Na;break;case"beforeblur":case"afterblur":tt=Na;break;case"click":if(c.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":tt=dc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":tt=Oh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":tt=v;break;case C_:case I_:case R_:tt=Ph;break;case D_:tt=k;break;case"scroll":case"scrollend":tt=hc;break;case"wheel":tt=Z;break;case"copy":case"cut":case"paste":tt=zh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":tt=ks;break;case"toggle":case"beforetoggle":tt=Mt}var wt=(a&4)!==0,he=!wt&&(s==="scroll"||s==="scrollend"),q=wt?J!==null?J+"Capture":null:J;wt=[];for(var j=Q,K;j!==null;){var it=j;if(K=it.stateNode,it=it.tag,it!==5&&it!==26&&it!==27||K===null||q===null||(it=Mi(j,q),it!=null&&wt.push(Fc(j,it,K))),he)break;j=j.return}0<wt.length&&(J=new tt(J,yt,null,c,nt),rt.push({event:J,listeners:wt}))}}if((a&7)===0){t:{if(J=s==="mouseover"||s==="pointerover",tt=s==="mouseout"||s==="pointerout",J&&c!==lc&&(yt=c.relatedTarget||c.fromElement)&&(es(yt)||yt[Zi]))break t;if((tt||J)&&(J=nt.window===nt?nt:(J=nt.ownerDocument)?J.defaultView||J.parentWindow:window,tt?(yt=c.relatedTarget||c.toElement,tt=Q,yt=yt?es(yt):null,yt!==null&&(he=o(yt),wt=yt.tag,yt!==he||wt!==5&&wt!==27&&wt!==6)&&(yt=null)):(tt=null,yt=Q),tt!==yt)){if(wt=dc,it="onMouseLeave",q="onMouseEnter",j="mouse",(s==="pointerout"||s==="pointerover")&&(wt=ks,it="onPointerLeave",q="onPointerEnter",j="pointer"),he=tt==null?J:Gn(tt),K=yt==null?J:Gn(yt),J=new wt(it,j+"leave",tt,c,nt),J.target=he,J.relatedTarget=K,it=null,es(nt)===Q&&(wt=new wt(q,j+"enter",yt,c,nt),wt.target=K,wt.relatedTarget=he,it=wt),he=it,tt&&yt)e:{for(wt=y2,q=tt,j=yt,K=0,it=q;it;it=wt(it))K++;it=0;for(var Tt=j;Tt;Tt=wt(Tt))it++;for(;0<K-it;)q=wt(q),K--;for(;0<it-K;)j=wt(j),it--;for(;K--;){if(q===j||j!==null&&q===j.alternate){wt=q;break e}q=wt(q),j=wt(j)}wt=null}else wt=null;tt!==null&&Zx(rt,J,tt,wt,!1),yt!==null&&he!==null&&Zx(rt,he,yt,wt,!0)}}t:{if(J=Q?Gn(Q):window,tt=J.nodeName&&J.nodeName.toLowerCase(),tt==="select"||tt==="input"&&J.type==="file")var Xt=m_;else if(g_(J))if(y_)Xt=ID;else{Xt=AD;var vt=wD}else tt=J.nodeName,!tt||tt.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?Q&&Co(Q.elementType)&&(Xt=m_):Xt=CD;if(Xt&&(Xt=Xt(s,Q))){p_(rt,Xt,c,nt);break t}vt&&vt(s,J,Q),s==="focusout"&&Q&&J.type==="number"&&Q.memoizedProps.value!=null&&rc(J,"number",J.value)}switch(vt=Q?Gn(Q):window,s){case"focusin":(g_(vt)||vt.contentEditable==="true")&&(Po=vt,ip=Q,yc=null);break;case"focusout":yc=ip=Po=null;break;case"mousedown":sp=!0;break;case"contextmenu":case"mouseup":case"dragend":sp=!1,w_(rt,c,nt);break;case"selectionchange":if(DD)break;case"keydown":case"keyup":w_(rt,c,nt)}var zt;if(te)t:{switch(s){case"compositionstart":var jt="onCompositionStart";break t;case"compositionend":jt="onCompositionEnd";break t;case"compositionupdate":jt="onCompositionUpdate";break t}jt=void 0}else Mo?ka(s,c)&&(jt="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(jt="onCompositionStart");jt&&(hs&&c.locale!=="ko"&&(Mo||jt!=="onCompositionStart"?jt==="onCompositionEnd"&&Mo&&(zt=uc()):(os=nt,cc="value"in os?os.value:os.textContent,Mo=!0)),vt=kd(Q,jt),0<vt.length&&(jt=new us(jt,s,null,c,nt),rt.push({event:jt,listeners:vt}),zt?jt.data=zt:(zt=Oo(c),zt!==null&&(jt.data=zt)))),(zt=hi?xD(s,c):ED(s,c))&&(jt=kd(Q,"onBeforeInput"),0<jt.length&&(vt=new us("onBeforeInput","beforeinput",null,c,nt),rt.push({event:vt,listeners:jt}),vt.data=zt)),f2(rt,s,Q,c,nt)}Xx(rt,a)})}function Fc(s,a,c){return{instance:s,listener:a,currentTarget:c}}function kd(s,a){for(var c=a+"Capture",h=[];s!==null;){var m=s,b=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||b===null||(m=Mi(s,c),m!=null&&h.unshift(Fc(s,m,b)),m=Mi(s,a),m!=null&&h.push(Fc(s,m,b))),s.tag===3)return h;s=s.return}return[]}function y2(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function Zx(s,a,c,h,m){for(var b=a._reactName,E=[];c!==null&&c!==h;){var R=c,B=R.alternate,Q=R.stateNode;if(R=R.tag,B!==null&&B===h)break;R!==5&&R!==26&&R!==27||Q===null||(B=Q,m?(Q=Mi(c,b),Q!=null&&E.unshift(Fc(c,Q,B))):m||(Q=Mi(c,b),Q!=null&&E.push(Fc(c,Q,B)))),c=c.return}E.length!==0&&s.push({event:a,listeners:E})}var b2=/\r\n?/g,_2=/\u0000|\uFFFD/g;function tE(s){return(typeof s=="string"?s:""+s).replace(b2,`
`).replace(_2,"")}function eE(s,a){return a=tE(a),tE(s)===a}function ue(s,a,c,h,m,b){switch(c){case"children":typeof h=="string"?a==="body"||a==="textarea"&&h===""||Pn(s,h):(typeof h=="number"||typeof h=="bigint")&&a!=="body"&&Pn(s,""+h);break;case"className":$n(s,"class",h);break;case"tabIndex":$n(s,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":$n(s,c,h);break;case"style":oc(s,h,b);break;case"data":if(a!=="object"){$n(s,"data",h);break}case"src":case"href":if(h===""&&(a!=="a"||c!=="href")){s.removeAttribute(c);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){s.removeAttribute(c);break}h=Io(""+h),s.setAttribute(c,h);break;case"action":case"formAction":if(typeof h=="function"){s.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(c==="formAction"?(a!=="input"&&ue(s,a,"name",m.name,m,null),ue(s,a,"formEncType",m.formEncType,m,null),ue(s,a,"formMethod",m.formMethod,m,null),ue(s,a,"formTarget",m.formTarget,m,null)):(ue(s,a,"encType",m.encType,m,null),ue(s,a,"method",m.method,m,null),ue(s,a,"target",m.target,m,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){s.removeAttribute(c);break}h=Io(""+h),s.setAttribute(c,h);break;case"onClick":h!=null&&(s.onclick=Oi);break;case"onScroll":h!=null&&Bt("scroll",s);break;case"onScrollEnd":h!=null&&Bt("scrollend",s);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(i(61));if(c=h.__html,c!=null){if(m.children!=null)throw Error(i(60));s.innerHTML=c}}break;case"multiple":s.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":s.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){s.removeAttribute("xlink:href");break}c=Io(""+h),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(c,""+h):s.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(c,""):s.removeAttribute(c);break;case"capture":case"download":h===!0?s.setAttribute(c,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(c,h):s.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?s.setAttribute(c,h):s.removeAttribute(c);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?s.removeAttribute(c):s.setAttribute(c,h);break;case"popover":Bt("beforetoggle",s),Bt("toggle",s),wo(s,"popover",h);break;case"xlinkActuate":Ue(s,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Ue(s,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Ue(s,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Ue(s,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Ue(s,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Ue(s,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Ue(s,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Ue(s,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Ue(s,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":wo(s,"is",h);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=kh.get(c)||c,wo(s,c,h))}}function Rm(s,a,c,h,m,b){switch(c){case"style":oc(s,h,b);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(i(61));if(c=h.__html,c!=null){if(m.children!=null)throw Error(i(60));s.innerHTML=c}}break;case"children":typeof h=="string"?Pn(s,h):(typeof h=="number"||typeof h=="bigint")&&Pn(s,""+h);break;case"onScroll":h!=null&&Bt("scroll",s);break;case"onScrollEnd":h!=null&&Bt("scrollend",s);break;case"onClick":h!=null&&(s.onclick=Oi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!tc.hasOwnProperty(c))t:{if(c[0]==="o"&&c[1]==="n"&&(m=c.endsWith("Capture"),a=c.slice(2,m?c.length-7:void 0),b=s[tn]||null,b=b!=null?b[c]:null,typeof b=="function"&&s.removeEventListener(a,b,m),typeof h=="function")){typeof b!="function"&&b!==null&&(c in s?s[c]=null:s.hasAttribute(c)&&s.removeAttribute(c)),s.addEventListener(a,h,m);break t}c in s?s[c]=h:h===!0?s.setAttribute(c,""):wo(s,c,h)}}}function gn(s,a,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Bt("error",s),Bt("load",s);var h=!1,m=!1,b;for(b in c)if(c.hasOwnProperty(b)){var E=c[b];if(E!=null)switch(b){case"src":h=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:ue(s,a,b,E,c,null)}}m&&ue(s,a,"srcSet",c.srcSet,c,null),h&&ue(s,a,"src",c.src,c,null);return;case"input":Bt("invalid",s);var R=b=E=m=null,B=null,Q=null;for(h in c)if(c.hasOwnProperty(h)){var nt=c[h];if(nt!=null)switch(h){case"name":m=nt;break;case"type":E=nt;break;case"checked":B=nt;break;case"defaultChecked":Q=nt;break;case"value":b=nt;break;case"defaultValue":R=nt;break;case"children":case"dangerouslySetInnerHTML":if(nt!=null)throw Error(i(137,a));break;default:ue(s,a,h,nt,c,null)}}Rh(s,b,R,B,Q,E,m,!1);return;case"select":Bt("invalid",s),h=E=b=null;for(m in c)if(c.hasOwnProperty(m)&&(R=c[m],R!=null))switch(m){case"value":b=R;break;case"defaultValue":E=R;break;case"multiple":h=R;default:ue(s,a,m,R,c,null)}a=b,c=E,s.multiple=!!h,a!=null?dr(s,!!h,a,!1):c!=null&&dr(s,!!h,c,!0);return;case"textarea":Bt("invalid",s),b=m=h=null;for(E in c)if(c.hasOwnProperty(E)&&(R=c[E],R!=null))switch(E){case"value":h=R;break;case"defaultValue":m=R;break;case"children":b=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(i(91));break;default:ue(s,a,E,R,c,null)}fr(s,h,m,b);return;case"option":for(B in c)if(c.hasOwnProperty(B)&&(h=c[B],h!=null))switch(B){case"selected":s.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:ue(s,a,B,h,c,null)}return;case"dialog":Bt("beforetoggle",s),Bt("toggle",s),Bt("cancel",s),Bt("close",s);break;case"iframe":case"object":Bt("load",s);break;case"video":case"audio":for(h=0;h<jc.length;h++)Bt(jc[h],s);break;case"image":Bt("error",s),Bt("load",s);break;case"details":Bt("toggle",s);break;case"embed":case"source":case"link":Bt("error",s),Bt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in c)if(c.hasOwnProperty(Q)&&(h=c[Q],h!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:ue(s,a,Q,h,c,null)}return;default:if(Co(a)){for(nt in c)c.hasOwnProperty(nt)&&(h=c[nt],h!==void 0&&Rm(s,a,nt,h,c,void 0));return}}for(R in c)c.hasOwnProperty(R)&&(h=c[R],h!=null&&ue(s,a,R,h,c,null))}function v2(s,a,c,h){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,b=null,E=null,R=null,B=null,Q=null,nt=null;for(tt in c){var rt=c[tt];if(c.hasOwnProperty(tt)&&rt!=null)switch(tt){case"checked":break;case"value":break;case"defaultValue":B=rt;default:h.hasOwnProperty(tt)||ue(s,a,tt,null,h,rt)}}for(var J in h){var tt=h[J];if(rt=c[J],h.hasOwnProperty(J)&&(tt!=null||rt!=null))switch(J){case"type":b=tt;break;case"name":m=tt;break;case"checked":Q=tt;break;case"defaultChecked":nt=tt;break;case"value":E=tt;break;case"defaultValue":R=tt;break;case"children":case"dangerouslySetInnerHTML":if(tt!=null)throw Error(i(137,a));break;default:tt!==rt&&ue(s,a,J,tt,h,rt)}}Ao(s,E,R,B,Q,nt,b,m);return;case"select":tt=E=R=J=null;for(b in c)if(B=c[b],c.hasOwnProperty(b)&&B!=null)switch(b){case"value":break;case"multiple":tt=B;default:h.hasOwnProperty(b)||ue(s,a,b,null,h,B)}for(m in h)if(b=h[m],B=c[m],h.hasOwnProperty(m)&&(b!=null||B!=null))switch(m){case"value":J=b;break;case"defaultValue":R=b;break;case"multiple":E=b;default:b!==B&&ue(s,a,m,b,h,B)}a=R,c=E,h=tt,J!=null?dr(s,!!c,J,!1):!!h!=!!c&&(a!=null?dr(s,!!c,a,!0):dr(s,!!c,c?[]:"",!1));return;case"textarea":tt=J=null;for(R in c)if(m=c[R],c.hasOwnProperty(R)&&m!=null&&!h.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:ue(s,a,R,null,h,m)}for(E in h)if(m=h[E],b=c[E],h.hasOwnProperty(E)&&(m!=null||b!=null))switch(E){case"value":J=m;break;case"defaultValue":tt=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==b&&ue(s,a,E,m,h,b)}Dh(s,J,tt);return;case"option":for(var yt in c)if(J=c[yt],c.hasOwnProperty(yt)&&J!=null&&!h.hasOwnProperty(yt))switch(yt){case"selected":s.selected=!1;break;default:ue(s,a,yt,null,h,J)}for(B in h)if(J=h[B],tt=c[B],h.hasOwnProperty(B)&&J!==tt&&(J!=null||tt!=null))switch(B){case"selected":s.selected=J&&typeof J!="function"&&typeof J!="symbol";break;default:ue(s,a,B,J,h,tt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var wt in c)J=c[wt],c.hasOwnProperty(wt)&&J!=null&&!h.hasOwnProperty(wt)&&ue(s,a,wt,null,h,J);for(Q in h)if(J=h[Q],tt=c[Q],h.hasOwnProperty(Q)&&J!==tt&&(J!=null||tt!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,a));break;default:ue(s,a,Q,J,h,tt)}return;default:if(Co(a)){for(var he in c)J=c[he],c.hasOwnProperty(he)&&J!==void 0&&!h.hasOwnProperty(he)&&Rm(s,a,he,void 0,h,J);for(nt in h)J=h[nt],tt=c[nt],!h.hasOwnProperty(nt)||J===tt||J===void 0&&tt===void 0||Rm(s,a,nt,J,h,tt);return}}for(var q in c)J=c[q],c.hasOwnProperty(q)&&J!=null&&!h.hasOwnProperty(q)&&ue(s,a,q,null,h,J);for(rt in h)J=h[rt],tt=c[rt],!h.hasOwnProperty(rt)||J===tt||J==null&&tt==null||ue(s,a,rt,J,h,tt)}function nE(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function x2(){if(typeof performance.getEntriesByType=="function"){for(var s=0,a=0,c=performance.getEntriesByType("resource"),h=0;h<c.length;h++){var m=c[h],b=m.transferSize,E=m.initiatorType,R=m.duration;if(b&&R&&nE(E)){for(E=0,R=m.responseEnd,h+=1;h<c.length;h++){var B=c[h],Q=B.startTime;if(Q>R)break;var nt=B.transferSize,rt=B.initiatorType;nt&&nE(rt)&&(B=B.responseEnd,E+=nt*(B<R?1:(R-Q)/(B-Q)))}if(--h,a+=8*(b+E)/(m.duration/1e3),s++,10<s)break}}if(0<s)return a/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var Dm=null,Nm=null;function Od(s){return s.nodeType===9?s:s.ownerDocument}function iE(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function sE(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function km(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Om=null;function E2(){var s=window.event;return s&&s.type==="popstate"?s===Om?!1:(Om=s,!0):(Om=null,!1)}var rE=typeof setTimeout=="function"?setTimeout:void 0,T2=typeof clearTimeout=="function"?clearTimeout:void 0,aE=typeof Promise=="function"?Promise:void 0,S2=typeof queueMicrotask=="function"?queueMicrotask:typeof aE<"u"?function(s){return aE.resolve(null).then(s).catch(w2)}:rE;function w2(s){setTimeout(function(){throw s})}function zr(s){return s==="head"}function oE(s,a){var c=a,h=0;do{var m=c.nextSibling;if(s.removeChild(c),m&&m.nodeType===8)if(c=m.data,c==="/$"||c==="/&"){if(h===0){s.removeChild(m),ll(a);return}h--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")h++;else if(c==="html")Hc(s.ownerDocument.documentElement);else if(c==="head"){c=s.ownerDocument.head,Hc(c);for(var b=c.firstChild;b;){var E=b.nextSibling,R=b.nodeName;b[ts]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&b.rel.toLowerCase()==="stylesheet"||c.removeChild(b),b=E}}else c==="body"&&Hc(s.ownerDocument.body);c=m}while(c);ll(a)}function lE(s,a){var c=s;s=0;do{var h=c.nextSibling;if(c.nodeType===1?a?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(a?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),h&&h.nodeType===8)if(c=h.data,c==="/$"){if(s===0)break;s--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||s++;c=h}while(c)}function Mm(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var c=a;switch(a=a.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":Mm(c),So(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}s.removeChild(c)}}function A2(s,a,c,h){for(;s.nodeType===1;){var m=c;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!h&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(h){if(!s[ts])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(b=s.getAttribute("rel"),b==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(b!==m.rel||s.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||s.getAttribute("title")!==(m.title==null?null:m.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(b=s.getAttribute("src"),(b!==(m.src==null?null:m.src)||s.getAttribute("type")!==(m.type==null?null:m.type)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&b&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var b=m.name==null?null:""+m.name;if(m.type==="hidden"&&s.getAttribute("name")===b)return s}else return s;if(s=bi(s.nextSibling),s===null)break}return null}function C2(s,a,c){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!c||(s=bi(s.nextSibling),s===null))return null;return s}function cE(s,a){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!a||(s=bi(s.nextSibling),s===null))return null;return s}function Pm(s){return s.data==="$?"||s.data==="$~"}function zm(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function I2(s,a){var c=s.ownerDocument;if(s.data==="$~")s._reactRetry=a;else if(s.data!=="$?"||c.readyState!=="loading")a();else{var h=function(){a(),c.removeEventListener("DOMContentLoaded",h)};c.addEventListener("DOMContentLoaded",h),s._reactRetry=h}}function bi(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return s}var Lm=null;function uE(s){s=s.nextSibling;for(var a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"||c==="/&"){if(a===0)return bi(s.nextSibling);a--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||a++}s=s.nextSibling}return null}function hE(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(a===0)return s;a--}else c!=="/$"&&c!=="/&"||a++}s=s.previousSibling}return null}function dE(s,a,c){switch(a=Od(c),s){case"html":if(s=a.documentElement,!s)throw Error(i(452));return s;case"head":if(s=a.head,!s)throw Error(i(453));return s;case"body":if(s=a.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function Hc(s){for(var a=s.attributes;a.length;)s.removeAttributeNode(a[0]);So(s)}var _i=new Map,fE=new Set;function Md(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Ws=ot.d;ot.d={f:R2,r:D2,D:N2,C:k2,L:O2,m:M2,X:z2,S:P2,M:L2};function R2(){var s=Ws.f(),a=wd();return s||a}function D2(s){var a=li(s);a!==null&&a.tag===5&&a.type==="form"?Dv(a):Ws.r(s)}var rl=typeof document>"u"?null:document;function gE(s,a,c){var h=rl;if(h&&typeof a=="string"&&a){var m=Mn(a);m='link[rel="'+s+'"][href="'+m+'"]',typeof c=="string"&&(m+='[crossorigin="'+c+'"]'),fE.has(m)||(fE.add(m),s={rel:s,crossOrigin:c,href:a},h.querySelector(m)===null&&(a=h.createElement("link"),gn(a,"link",s),Be(a),h.head.appendChild(a)))}}function N2(s){Ws.D(s),gE("dns-prefetch",s,null)}function k2(s,a){Ws.C(s,a),gE("preconnect",s,a)}function O2(s,a,c){Ws.L(s,a,c);var h=rl;if(h&&s&&a){var m='link[rel="preload"][as="'+Mn(a)+'"]';a==="image"&&c&&c.imageSrcSet?(m+='[imagesrcset="'+Mn(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(m+='[imagesizes="'+Mn(c.imageSizes)+'"]')):m+='[href="'+Mn(s)+'"]';var b=m;switch(a){case"style":b=al(s);break;case"script":b=ol(s)}_i.has(b)||(s=y({rel:"preload",href:a==="image"&&c&&c.imageSrcSet?void 0:s,as:a},c),_i.set(b,s),h.querySelector(m)!==null||a==="style"&&h.querySelector(qc(b))||a==="script"&&h.querySelector(Gc(b))||(a=h.createElement("link"),gn(a,"link",s),Be(a),h.head.appendChild(a)))}}function M2(s,a){Ws.m(s,a);var c=rl;if(c&&s){var h=a&&typeof a.as=="string"?a.as:"script",m='link[rel="modulepreload"][as="'+Mn(h)+'"][href="'+Mn(s)+'"]',b=m;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=ol(s)}if(!_i.has(b)&&(s=y({rel:"modulepreload",href:s},a),_i.set(b,s),c.querySelector(m)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Gc(b)))return}h=c.createElement("link"),gn(h,"link",s),Be(h),c.head.appendChild(h)}}}function P2(s,a,c){Ws.S(s,a,c);var h=rl;if(h&&s){var m=ns(h).hoistableStyles,b=al(s);a=a||"default";var E=m.get(b);if(!E){var R={loading:0,preload:null};if(E=h.querySelector(qc(b)))R.loading=5;else{s=y({rel:"stylesheet",href:s,"data-precedence":a},c),(c=_i.get(b))&&Vm(s,c);var B=E=h.createElement("link");Be(B),gn(B,"link",s),B._p=new Promise(function(Q,nt){B.onload=Q,B.onerror=nt}),B.addEventListener("load",function(){R.loading|=1}),B.addEventListener("error",function(){R.loading|=2}),R.loading|=4,Pd(E,a,h)}E={type:"stylesheet",instance:E,count:1,state:R},m.set(b,E)}}}function z2(s,a){Ws.X(s,a);var c=rl;if(c&&s){var h=ns(c).hoistableScripts,m=ol(s),b=h.get(m);b||(b=c.querySelector(Gc(m)),b||(s=y({src:s,async:!0},a),(a=_i.get(m))&&Bm(s,a),b=c.createElement("script"),Be(b),gn(b,"link",s),c.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},h.set(m,b))}}function L2(s,a){Ws.M(s,a);var c=rl;if(c&&s){var h=ns(c).hoistableScripts,m=ol(s),b=h.get(m);b||(b=c.querySelector(Gc(m)),b||(s=y({src:s,async:!0,type:"module"},a),(a=_i.get(m))&&Bm(s,a),b=c.createElement("script"),Be(b),gn(b,"link",s),c.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},h.set(m,b))}}function pE(s,a,c,h){var m=(m=_t.current)?Md(m):null;if(!m)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(a=al(c.href),c=ns(m).hoistableStyles,h=c.get(a),h||(h={type:"style",instance:null,count:0,state:null},c.set(a,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){s=al(c.href);var b=ns(m).hoistableStyles,E=b.get(s);if(E||(m=m.ownerDocument||m,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(s,E),(b=m.querySelector(qc(s)))&&!b._p&&(E.instance=b,E.state.loading=5),_i.has(s)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},_i.set(s,c),b||V2(m,s,c,E.state))),a&&h===null)throw Error(i(528,""));return E}if(a&&h!==null)throw Error(i(529,""));return null;case"script":return a=c.async,c=c.src,typeof c=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=ol(c),c=ns(m).hoistableScripts,h=c.get(a),h||(h={type:"script",instance:null,count:0,state:null},c.set(a,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function al(s){return'href="'+Mn(s)+'"'}function qc(s){return'link[rel="stylesheet"]['+s+"]"}function mE(s){return y({},s,{"data-precedence":s.precedence,precedence:null})}function V2(s,a,c,h){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?h.loading=1:(a=s.createElement("link"),h.preload=a,a.addEventListener("load",function(){return h.loading|=1}),a.addEventListener("error",function(){return h.loading|=2}),gn(a,"link",c),Be(a),s.head.appendChild(a))}function ol(s){return'[src="'+Mn(s)+'"]'}function Gc(s){return"script[async]"+s}function yE(s,a,c){if(a.count++,a.instance===null)switch(a.type){case"style":var h=s.querySelector('style[data-href~="'+Mn(c.href)+'"]');if(h)return a.instance=h,Be(h),h;var m=y({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return h=(s.ownerDocument||s).createElement("style"),Be(h),gn(h,"style",m),Pd(h,c.precedence,s),a.instance=h;case"stylesheet":m=al(c.href);var b=s.querySelector(qc(m));if(b)return a.state.loading|=4,a.instance=b,Be(b),b;h=mE(c),(m=_i.get(m))&&Vm(h,m),b=(s.ownerDocument||s).createElement("link"),Be(b);var E=b;return E._p=new Promise(function(R,B){E.onload=R,E.onerror=B}),gn(b,"link",h),a.state.loading|=4,Pd(b,c.precedence,s),a.instance=b;case"script":return b=ol(c.src),(m=s.querySelector(Gc(b)))?(a.instance=m,Be(m),m):(h=c,(m=_i.get(b))&&(h=y({},c),Bm(h,m)),s=s.ownerDocument||s,m=s.createElement("script"),Be(m),gn(m,"link",h),s.head.appendChild(m),a.instance=m);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(h=a.instance,a.state.loading|=4,Pd(h,c.precedence,s));return a.instance}function Pd(s,a,c){for(var h=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=h.length?h[h.length-1]:null,b=m,E=0;E<h.length;E++){var R=h[E];if(R.dataset.precedence===a)b=R;else if(b!==m)break}b?b.parentNode.insertBefore(s,b.nextSibling):(a=c.nodeType===9?c.head:c,a.insertBefore(s,a.firstChild))}function Vm(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function Bm(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var zd=null;function bE(s,a,c){if(zd===null){var h=new Map,m=zd=new Map;m.set(c,h)}else m=zd,h=m.get(c),h||(h=new Map,m.set(c,h));if(h.has(s))return h;for(h.set(s,null),c=c.getElementsByTagName(s),m=0;m<c.length;m++){var b=c[m];if(!(b[ts]||b[Ve]||s==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var E=b.getAttribute(a)||"";E=s+E;var R=h.get(E);R?R.push(b):h.set(E,[b])}}return h}function _E(s,a,c){s=s.ownerDocument||s,s.head.insertBefore(c,a==="title"?s.querySelector("head > title"):null)}function B2(s,a,c){if(c===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return s=a.disabled,typeof a.precedence=="string"&&s==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function vE(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function U2(s,a,c,h){if(c.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var m=al(h.href),b=a.querySelector(qc(m));if(b){a=b._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(s.count++,s=Ld.bind(s),a.then(s,s)),c.state.loading|=4,c.instance=b,Be(b);return}b=a.ownerDocument||a,h=mE(h),(m=_i.get(m))&&Vm(h,m),b=b.createElement("link"),Be(b);var E=b;E._p=new Promise(function(R,B){E.onload=R,E.onerror=B}),gn(b,"link",h),c.instance=b}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(c,a),(a=c.state.preload)&&(c.state.loading&3)===0&&(s.count++,c=Ld.bind(s),a.addEventListener("load",c),a.addEventListener("error",c))}}var Um=0;function j2(s,a){return s.stylesheets&&s.count===0&&Bd(s,s.stylesheets),0<s.count||0<s.imgCount?function(c){var h=setTimeout(function(){if(s.stylesheets&&Bd(s,s.stylesheets),s.unsuspend){var b=s.unsuspend;s.unsuspend=null,b()}},6e4+a);0<s.imgBytes&&Um===0&&(Um=62500*x2());var m=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Bd(s,s.stylesheets),s.unsuspend)){var b=s.unsuspend;s.unsuspend=null,b()}},(s.imgBytes>Um?50:800)+a);return s.unsuspend=c,function(){s.unsuspend=null,clearTimeout(h),clearTimeout(m)}}:null}function Ld(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Bd(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Vd=null;function Bd(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Vd=new Map,a.forEach(F2,s),Vd=null,Ld.call(s))}function F2(s,a){if(!(a.state.loading&4)){var c=Vd.get(s);if(c)var h=c.get(null);else{c=new Map,Vd.set(s,c);for(var m=s.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<m.length;b++){var E=m[b];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(c.set(E.dataset.precedence,E),h=E)}h&&c.set(null,h)}m=a.instance,E=m.getAttribute("data-precedence"),b=c.get(E)||h,b===h&&c.set(null,m),c.set(E,m),this.count++,h=Ld.bind(this),m.addEventListener("load",h),m.addEventListener("error",h),b?b.parentNode.insertBefore(m,b.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(m,s.firstChild)),a.state.loading|=4}}var $c={$$typeof:F,Provider:null,Consumer:null,_currentValue:gt,_currentValue2:gt,_threadCount:0};function H2(s,a,c,h,m,b,E,R,B){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ji(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ji(0),this.hiddenUpdates=Ji(null),this.identifierPrefix=h,this.onUncaughtError=m,this.onCaughtError=b,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=B,this.incompleteTransitions=new Map}function xE(s,a,c,h,m,b,E,R,B,Q,nt,rt){return s=new H2(s,a,c,E,B,Q,nt,rt,R),a=1,b===!0&&(a|=24),b=Yn(3,null,null,a),s.current=b,b.stateNode=s,a=_p(),a.refCount++,s.pooledCache=a,a.refCount++,b.memoizedState={element:h,isDehydrated:c,cache:a},Tp(b),s}function EE(s){return s?(s=Vo,s):Vo}function TE(s,a,c,h,m,b){m=EE(m),h.context===null?h.context=m:h.pendingContext=m,h=wr(a),h.payload={element:c},b=b===void 0?null:b,b!==null&&(h.callback=b),c=Ar(s,h,a),c!==null&&(Un(c,s,a),Sc(c,s,a))}function SE(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<a?c:a}}function jm(s,a){SE(s,a),(s=s.alternate)&&SE(s,a)}function wE(s){if(s.tag===13||s.tag===31){var a=Pa(s,67108864);a!==null&&Un(a,s,67108864),jm(s,67108864)}}function AE(s){if(s.tag===13||s.tag===31){var a=Zn();a=Ta(a);var c=Pa(s,a);c!==null&&Un(c,s,a),jm(s,a)}}var Ud=!0;function q2(s,a,c,h){var m=X.T;X.T=null;var b=ot.p;try{ot.p=2,Fm(s,a,c,h)}finally{ot.p=b,X.T=m}}function G2(s,a,c,h){var m=X.T;X.T=null;var b=ot.p;try{ot.p=8,Fm(s,a,c,h)}finally{ot.p=b,X.T=m}}function Fm(s,a,c,h){if(Ud){var m=Hm(h);if(m===null)Im(s,a,h,jd,c),IE(s,h);else if(W2(m,s,a,c,h))h.stopPropagation();else if(IE(s,h),a&4&&-1<$2.indexOf(s)){for(;m!==null;){var b=li(m);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var E=Qi(b.pendingLanes);if(E!==0){var R=b;for(R.pendingLanes|=2,R.entangledLanes|=2;E;){var B=1<<31-Ce(E);R.entanglements[1]|=B,E&=~B}ps(b),(ee&6)===0&&(Td=Cn()+500,Uc(0))}}break;case 31:case 13:R=Pa(b,2),R!==null&&Un(R,b,2),wd(),jm(b,2)}if(b=Hm(h),b===null&&Im(s,a,h,jd,c),b===m)break;m=b}m!==null&&h.stopPropagation()}else Im(s,a,h,null,c)}}function Hm(s){return s=ci(s),qm(s)}var jd=null;function qm(s){if(jd=null,s=es(s),s!==null){var a=o(s);if(a===null)s=null;else{var c=a.tag;if(c===13){if(s=l(a),s!==null)return s;s=null}else if(c===31){if(s=u(a),s!==null)return s;s=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return jd=s,null}function CE(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_a()){case Kl:return 2;case Ql:return 8;case ur:case Qg:return 32;case _h:return 268435456;default:return 32}default:return 32}}var Gm=!1,Lr=null,Vr=null,Br=null,Wc=new Map,Yc=new Map,Ur=[],$2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function IE(s,a){switch(s){case"focusin":case"focusout":Lr=null;break;case"dragenter":case"dragleave":Vr=null;break;case"mouseover":case"mouseout":Br=null;break;case"pointerover":case"pointerout":Wc.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yc.delete(a.pointerId)}}function Kc(s,a,c,h,m,b){return s===null||s.nativeEvent!==b?(s={blockedOn:a,domEventName:c,eventSystemFlags:h,nativeEvent:b,targetContainers:[m]},a!==null&&(a=li(a),a!==null&&wE(a)),s):(s.eventSystemFlags|=h,a=s.targetContainers,m!==null&&a.indexOf(m)===-1&&a.push(m),s)}function W2(s,a,c,h,m){switch(a){case"focusin":return Lr=Kc(Lr,s,a,c,h,m),!0;case"dragenter":return Vr=Kc(Vr,s,a,c,h,m),!0;case"mouseover":return Br=Kc(Br,s,a,c,h,m),!0;case"pointerover":var b=m.pointerId;return Wc.set(b,Kc(Wc.get(b)||null,s,a,c,h,m)),!0;case"gotpointercapture":return b=m.pointerId,Yc.set(b,Kc(Yc.get(b)||null,s,a,c,h,m)),!0}return!1}function RE(s){var a=es(s.target);if(a!==null){var c=o(a);if(c!==null){if(a=c.tag,a===13){if(a=l(c),a!==null){s.blockedOn=a,Ni(s.priority,function(){AE(c)});return}}else if(a===31){if(a=u(c),a!==null){s.blockedOn=a,Ni(s.priority,function(){AE(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Fd(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var c=Hm(s.nativeEvent);if(c===null){c=s.nativeEvent;var h=new c.constructor(c.type,c);lc=h,c.target.dispatchEvent(h),lc=null}else return a=li(c),a!==null&&wE(a),s.blockedOn=c,!1;a.shift()}return!0}function DE(s,a,c){Fd(s)&&c.delete(a)}function Y2(){Gm=!1,Lr!==null&&Fd(Lr)&&(Lr=null),Vr!==null&&Fd(Vr)&&(Vr=null),Br!==null&&Fd(Br)&&(Br=null),Wc.forEach(DE),Yc.forEach(DE)}function Hd(s,a){s.blockedOn===a&&(s.blockedOn=null,Gm||(Gm=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,Y2)))}var qd=null;function NE(s){qd!==s&&(qd=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){qd===s&&(qd=null);for(var a=0;a<s.length;a+=3){var c=s[a],h=s[a+1],m=s[a+2];if(typeof h!="function"){if(qm(h||c)===null)continue;break}var b=li(c);b!==null&&(s.splice(a,3),a-=3,Hp(b,{pending:!0,data:m,method:c.method,action:h},h,m))}}))}function ll(s){function a(B){return Hd(B,s)}Lr!==null&&Hd(Lr,s),Vr!==null&&Hd(Vr,s),Br!==null&&Hd(Br,s),Wc.forEach(a),Yc.forEach(a);for(var c=0;c<Ur.length;c++){var h=Ur[c];h.blockedOn===s&&(h.blockedOn=null)}for(;0<Ur.length&&(c=Ur[0],c.blockedOn===null);)RE(c),c.blockedOn===null&&Ur.shift();if(c=(s.ownerDocument||s).$$reactFormReplay,c!=null)for(h=0;h<c.length;h+=3){var m=c[h],b=c[h+1],E=m[tn]||null;if(typeof b=="function")E||NE(c);else if(E){var R=null;if(b&&b.hasAttribute("formAction")){if(m=b,E=b[tn]||null)R=E.formAction;else if(qm(m)!==null)continue}else R=E.action;typeof R=="function"?c[h+1]=R:(c.splice(h,3),h-=3),NE(c)}}}function kE(){function s(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(E){return m=E})},focusReset:"manual",scroll:"manual"})}function a(){m!==null&&(m(),m=null),h||setTimeout(c,20)}function c(){if(!h&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,m=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(c,100),function(){h=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),m!==null&&(m(),m=null)}}}function $m(s){this._internalRoot=s}Gd.prototype.render=$m.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(i(409));var c=a.current,h=Zn();TE(c,h,s,a,null,null)},Gd.prototype.unmount=$m.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;TE(s.current,2,null,s,null,null),wd(),a[Zi]=null}};function Gd(s){this._internalRoot=s}Gd.prototype.unstable_scheduleHydration=function(s){if(s){var a=wh();s={blockedOn:null,target:s,priority:a};for(var c=0;c<Ur.length&&a!==0&&a<Ur[c].priority;c++);Ur.splice(c,0,s),c===0&&RE(s)}};var OE=t.version;if(OE!=="19.2.1")throw Error(i(527,OE,"19.2.1"));ot.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=f(a),s=s!==null?p(s):null,s=s===null?null:s.stateNode,s};var K2={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $d=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$d.isDisabled&&$d.supportsFiber)try{Ri=$d.inject(K2),cn=$d}catch{}}return Xc.createRoot=function(s,a){if(!r(s))throw Error(i(299));var c=!1,h="",m=Uv,b=jv,E=Fv;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError)),a=xE(s,1,!1,null,null,c,h,null,m,b,E,kE),s[Zi]=a.current,Cm(s),new $m(a)},Xc.hydrateRoot=function(s,a,c){if(!r(s))throw Error(i(299));var h=!1,m="",b=Uv,E=jv,R=Fv,B=null;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(m=c.identifierPrefix),c.onUncaughtError!==void 0&&(b=c.onUncaughtError),c.onCaughtError!==void 0&&(E=c.onCaughtError),c.onRecoverableError!==void 0&&(R=c.onRecoverableError),c.formState!==void 0&&(B=c.formState)),a=xE(s,1,!0,a,c??null,h,m,B,b,E,R,kE),a.context=EE(null),c=a.current,h=Zn(),h=Ta(h),m=wr(h),m.callback=null,Ar(c,m,h),c=h,a.current.lanes=c,xa(a,c),ps(a),s[Zi]=a.current,Cm(s),new Gd(a)},Xc.version="19.2.1",Xc}var HE;function sN(){if(HE)return Km.exports;HE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Km.exports=iN(),Km.exports}var rN=sN();const aN=D0(rN),oN=()=>{};var qE={};const C1=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=r&63|128):(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=r&63|128)}return t},lN=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const r=n[e++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=n[e++];t[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=n[e++],l=n[e++],u=n[e++],d=((r&7)<<18|(o&63)<<12|(l&63)<<6|u&63)-65536;t[i++]=String.fromCharCode(55296+(d>>10)),t[i++]=String.fromCharCode(56320+(d&1023))}else{const o=n[e++],l=n[e++];t[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|l&63)}}return t.join("")},I1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const o=n[r],l=r+1<n.length,u=l?n[r+1]:0,d=r+2<n.length,f=d?n[r+2]:0,p=o>>2,y=(o&3)<<4|u>>4;let _=(u&15)<<2|f>>6,x=f&63;d||(x=64,l||(_=64)),i.push(e[p],e[y],e[_],e[x])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(C1(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):lN(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const o=e[n.charAt(r++)],u=r<n.length?e[n.charAt(r)]:0;++r;const f=r<n.length?e[n.charAt(r)]:64;++r;const y=r<n.length?e[n.charAt(r)]:64;if(++r,o==null||u==null||f==null||y==null)throw new cN;const _=o<<2|u>>4;if(i.push(_),f!==64){const x=u<<4&240|f>>2;if(i.push(x),y!==64){const w=f<<6&192|y;i.push(w)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class cN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const uN=function(n){const t=C1(n);return I1.encodeByteArray(t,!0)},Df=function(n){return uN(n).replace(/\./g,"")},R1=function(n){try{return I1.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function hN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const dN=()=>hN().__FIREBASE_DEFAULTS__,fN=()=>{if(typeof process>"u"||typeof qE>"u")return;const n=qE.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},gN=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&R1(n[1]);return t&&JSON.parse(t)},fg=()=>{try{return oN()||dN()||fN()||gN()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},D1=n=>fg()?.emulatorHosts?.[n],pN=n=>{const t=D1(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),i]:[t.substring(0,e),i]},N1=()=>fg()?.config,k1=n=>fg()?.[`_${n}`];class mN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}function Pl(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function O1(n){return(await fetch(n,{credentials:"include"})).ok}function yN(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},i=t||"demo-project",r=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Df(JSON.stringify(e)),Df(JSON.stringify(l)),""].join(".")}const pu={};function bN(){const n={prod:[],emulator:[]};for(const t of Object.keys(pu))pu[t]?n.emulator.push(t):n.prod.push(t);return n}function _N(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let GE=!1;function M1(n,t){if(typeof window>"u"||typeof document>"u"||!Pl(window.location.host)||pu[n]===t||pu[n]||GE)return;pu[n]=t;function e(_){return`__firebase__banner__${_}`}const i="__firebase__banner",o=bN().prod.length>0;function l(){const _=document.getElementById(i);_&&_.remove()}function u(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function d(_,x){_.setAttribute("width","24"),_.setAttribute("id",x),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function f(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{GE=!0,l()},_}function p(_,x){_.setAttribute("id",x),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function y(){const _=_N(i),x=e("text"),w=document.getElementById(x)||document.createElement("span"),A=e("learnmore"),S=document.getElementById(A)||document.createElement("a"),M=e("preprendIcon"),V=document.getElementById(M)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const F=_.element;u(F),p(S,A);const G=f();d(V,M),F.append(V,w,S,G),document.body.appendChild(F)}o?(w.innerText="Preview backend disconnected.",V.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(V.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}function wn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function vN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wn())}function xN(){const n=fg()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function EN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function TN(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function SN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function wN(){const n=wn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function AN(){return!xN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function CN(){try{return typeof indexedDB=="object"}catch{return!1}}function IN(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{e=!1},r.onerror=()=>{t(r.error?.message||"")}}catch(e){t(e)}})}const RN="FirebaseError";class ar extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=RN,Object.setPrototypeOf(this,ar.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,th.prototype.create)}}class th{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},r=`${this.service}/${t}`,o=this.errors[t],l=o?DN(o,i):"Error",u=`${this.serviceName}: ${l} (${r}).`;return new ar(r,u,i)}}function DN(n,t){return n.replace(NN,(e,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const NN=/\{\$([^}]+)}/g;function kN(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function co(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const r of e){if(!i.includes(r))return!1;const o=n[r],l=t[r];if($E(o)&&$E(l)){if(!co(o,l))return!1}else if(o!==l)return!1}for(const r of i)if(!e.includes(r))return!1;return!0}function $E(n){return n!==null&&typeof n=="object"}function eh(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function au(n){const t={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,o]=i.split("=");t[decodeURIComponent(r)]=decodeURIComponent(o)}}),t}function ou(n){const t=n.indexOf("?");if(!t)return"";const e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}function ON(n,t){const e=new MN(n,t);return e.subscribe.bind(e)}class MN{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let r;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");PN(t,["next","error","complete"])?r=t:r={next:t,error:e,complete:i},r.next===void 0&&(r.next=Zm),r.error===void 0&&(r.error=Zm),r.complete===void 0&&(r.complete=Zm);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function PN(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function Zm(){}function Ae(n){return n&&n._delegate?n._delegate:n}class uo{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Ja="[DEFAULT]";let zN=class{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new mN;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:e});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),i=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(VN(t))try{this.getOrInitializeService({instanceIdentifier:Ja})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(t=Ja){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ja){return this.instances.has(t)}getOptions(t=Ja){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[o,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);i===u&&l.resolve(r)}return r}onInit(t,e){const i=this.normalizeInstanceIdentifier(e),r=this.onInitCallbacks.get(i)??new Set;r.add(t),this.onInitCallbacks.set(i,r);const o=this.instances.get(i);return o&&t(o,i),()=>{r.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const r of i)try{r(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:LN(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Ja){return this.component?this.component.multipleInstances?t:Ja:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function LN(n){return n===Ja?void 0:n}function VN(n){return n.instantiationMode==="EAGER"}class BN{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new zN(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}var Ft;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ft||(Ft={}));const UN={debug:Ft.DEBUG,verbose:Ft.VERBOSE,info:Ft.INFO,warn:Ft.WARN,error:Ft.ERROR,silent:Ft.SILENT},jN=Ft.INFO,FN={[Ft.DEBUG]:"log",[Ft.VERBOSE]:"log",[Ft.INFO]:"info",[Ft.WARN]:"warn",[Ft.ERROR]:"error"},HN=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),r=FN[t];if(r)console[r](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class N0{constructor(t){this.name=t,this._logLevel=jN,this._logHandler=HN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ft))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?UN[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ft.DEBUG,...t),this._logHandler(this,Ft.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ft.VERBOSE,...t),this._logHandler(this,Ft.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ft.INFO,...t),this._logHandler(this,Ft.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ft.WARN,...t),this._logHandler(this,Ft.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ft.ERROR,...t),this._logHandler(this,Ft.ERROR,...t)}}const qN=(n,t)=>t.some(e=>n instanceof e);let WE,YE;function GN(){return WE||(WE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function $N(){return YE||(YE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const P1=new WeakMap,zy=new WeakMap,z1=new WeakMap,ty=new WeakMap,k0=new WeakMap;function WN(n){const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",l)},o=()=>{e(Xr(n.result)),r()},l=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",l)});return t.then(e=>{e instanceof IDBCursor&&P1.set(e,n)}).catch(()=>{}),k0.set(t,n),t}function YN(n){if(zy.has(n))return;const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",l),n.removeEventListener("abort",l)},o=()=>{e(),r()},l=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",l),n.addEventListener("abort",l)});zy.set(n,t)}let Ly={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return zy.get(n);if(t==="objectStoreNames")return n.objectStoreNames||z1.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Xr(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function KN(n){Ly=n(Ly)}function QN(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(ey(this),t,...e);return z1.set(i,t.sort?t.sort():[t]),Xr(i)}:$N().includes(n)?function(...t){return n.apply(ey(this),t),Xr(P1.get(this))}:function(...t){return Xr(n.apply(ey(this),t))}}function XN(n){return typeof n=="function"?QN(n):(n instanceof IDBTransaction&&YN(n),qN(n,GN())?new Proxy(n,Ly):n)}function Xr(n){if(n instanceof IDBRequest)return WN(n);if(ty.has(n))return ty.get(n);const t=XN(n);return t!==n&&(ty.set(n,t),k0.set(t,n)),t}const ey=n=>k0.get(n);function JN(n,t,{blocked:e,upgrade:i,blocking:r,terminated:o}={}){const l=indexedDB.open(n,t),u=Xr(l);return i&&l.addEventListener("upgradeneeded",d=>{i(Xr(l.result),d.oldVersion,d.newVersion,Xr(l.transaction),d)}),e&&l.addEventListener("blocked",d=>e(d.oldVersion,d.newVersion,d)),u.then(d=>{o&&d.addEventListener("close",()=>o()),r&&d.addEventListener("versionchange",f=>r(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const ZN=["get","getKey","getAll","getAllKeys","count"],tk=["put","add","delete","clear"],ny=new Map;function KE(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(ny.get(t))return ny.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,r=tk.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(r||ZN.includes(e)))return;const o=async function(l,...u){const d=this.transaction(l,r?"readwrite":"readonly");let f=d.store;return i&&(f=f.index(u.shift())),(await Promise.all([f[e](...u),r&&d.done]))[0]};return ny.set(t,o),o}KN(n=>({...n,get:(t,e,i)=>KE(t,e)||n.get(t,e,i),has:(t,e)=>!!KE(t,e)||n.has(t,e)}));class ek{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(nk(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function nk(n){return n.getComponent()?.type==="VERSION"}const Vy="@firebase/app",QE="0.14.6";const tr=new N0("@firebase/app"),ik="@firebase/app-compat",sk="@firebase/analytics-compat",rk="@firebase/analytics",ak="@firebase/app-check-compat",ok="@firebase/app-check",lk="@firebase/auth",ck="@firebase/auth-compat",uk="@firebase/database",hk="@firebase/data-connect",dk="@firebase/database-compat",fk="@firebase/functions",gk="@firebase/functions-compat",pk="@firebase/installations",mk="@firebase/installations-compat",yk="@firebase/messaging",bk="@firebase/messaging-compat",_k="@firebase/performance",vk="@firebase/performance-compat",xk="@firebase/remote-config",Ek="@firebase/remote-config-compat",Tk="@firebase/storage",Sk="@firebase/storage-compat",wk="@firebase/firestore",Ak="@firebase/ai",Ck="@firebase/firestore-compat",Ik="firebase",Rk="12.6.0";const By="[DEFAULT]",Dk={[Vy]:"fire-core",[ik]:"fire-core-compat",[rk]:"fire-analytics",[sk]:"fire-analytics-compat",[ok]:"fire-app-check",[ak]:"fire-app-check-compat",[lk]:"fire-auth",[ck]:"fire-auth-compat",[uk]:"fire-rtdb",[hk]:"fire-data-connect",[dk]:"fire-rtdb-compat",[fk]:"fire-fn",[gk]:"fire-fn-compat",[pk]:"fire-iid",[mk]:"fire-iid-compat",[yk]:"fire-fcm",[bk]:"fire-fcm-compat",[_k]:"fire-perf",[vk]:"fire-perf-compat",[xk]:"fire-rc",[Ek]:"fire-rc-compat",[Tk]:"fire-gcs",[Sk]:"fire-gcs-compat",[wk]:"fire-fst",[Ck]:"fire-fst-compat",[Ak]:"fire-vertex","fire-js":"fire-js",[Ik]:"fire-js-all"};const Nf=new Map,Nk=new Map,Uy=new Map;function XE(n,t){try{n.container.addComponent(t)}catch(e){tr.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function xl(n){const t=n.name;if(Uy.has(t))return tr.debug(`There were multiple attempts to register component ${t}.`),!1;Uy.set(t,n);for(const e of Nf.values())XE(e,n);for(const e of Nk.values())XE(e,n);return!0}function O0(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function ti(n){return n==null?!1:n.settings!==void 0}const kk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Jr=new th("app","Firebase",kk);class Ok{constructor(t,e,i){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new uo("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Jr.create("app-deleted",{appName:this._name})}}const zl=Rk;function L1(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const i={name:By,automaticDataCollectionEnabled:!0,...t},r=i.name;if(typeof r!="string"||!r)throw Jr.create("bad-app-name",{appName:String(r)});if(e||(e=N1()),!e)throw Jr.create("no-options");const o=Nf.get(r);if(o){if(co(e,o.options)&&co(i,o.config))return o;throw Jr.create("duplicate-app",{appName:r})}const l=new BN(r);for(const d of Uy.values())l.addComponent(d);const u=new Ok(e,i,l);return Nf.set(r,u),u}function V1(n=By){const t=Nf.get(n);if(!t&&n===By&&N1())return L1();if(!t)throw Jr.create("no-app",{appName:n});return t}function Zr(n,t,e){let i=Dk[n]??n;e&&(i+=`-${e}`);const r=i.match(/\s|\//),o=t.match(/\s|\//);if(r||o){const l=[`Unable to register library "${i}" with version "${t}":`];r&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&o&&l.push("and"),o&&l.push(`version name "${t}" contains illegal characters (whitespace or "/")`),tr.warn(l.join(" "));return}xl(new uo(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}const Mk="firebase-heartbeat-database",Pk=1,Ru="firebase-heartbeat-store";let iy=null;function B1(){return iy||(iy=JN(Mk,Pk,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Ru)}catch(e){console.warn(e)}}}}).catch(n=>{throw Jr.create("idb-open",{originalErrorMessage:n.message})})),iy}async function zk(n){try{const e=(await B1()).transaction(Ru),i=await e.objectStore(Ru).get(U1(n));return await e.done,i}catch(t){if(t instanceof ar)tr.warn(t.message);else{const e=Jr.create("idb-get",{originalErrorMessage:t?.message});tr.warn(e.message)}}}async function JE(n,t){try{const i=(await B1()).transaction(Ru,"readwrite");await i.objectStore(Ru).put(t,U1(n)),await i.done}catch(e){if(e instanceof ar)tr.warn(e.message);else{const i=Jr.create("idb-set",{originalErrorMessage:e?.message});tr.warn(i.message)}}}function U1(n){return`${n.name}!${n.options.appId}`}const Lk=1024,Vk=30;class Bk{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new jk(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=ZE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(r=>r.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:e}),this._heartbeatsCache.heartbeats.length>Vk){const r=Fk(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(r,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){tr.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=ZE(),{heartbeatsToSend:e,unsentEntries:i}=Uk(this._heartbeatsCache.heartbeats),r=Df(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(t){return tr.warn(t),""}}}function ZE(){return new Date().toISOString().substring(0,10)}function Uk(n,t=Lk){const e=[];let i=n.slice();for(const r of n){const o=e.find(l=>l.agent===r.agent);if(o){if(o.dates.push(r.date),tT(e)>t){o.dates.pop();break}}else if(e.push({agent:r.agent,dates:[r.date]}),tT(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class jk{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return CN()?IN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await zk(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return JE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return JE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function tT(n){return Df(JSON.stringify({version:2,heartbeats:n})).length}function Fk(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}function Hk(n){xl(new uo("platform-logger",t=>new ek(t),"PRIVATE")),xl(new uo("heartbeat",t=>new Bk(t),"PRIVATE")),Zr(Vy,QE,n),Zr(Vy,QE,"esm2020"),Zr("fire-js","")}Hk("");function j1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const qk=j1,F1=new th("auth","Firebase",j1());const kf=new N0("@firebase/auth");function Gk(n,...t){kf.logLevel<=Ft.WARN&&kf.warn(`Auth (${zl}): ${n}`,...t)}function yf(n,...t){kf.logLevel<=Ft.ERROR&&kf.error(`Auth (${zl}): ${n}`,...t)}function $i(n,...t){throw M0(n,...t)}function xs(n,...t){return M0(n,...t)}function H1(n,t,e){const i={...qk(),[t]:e};return new th("auth","Firebase",i).create(t,{appName:n.name})}function Es(n){return H1(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function M0(n,...t){if(typeof n!="string"){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return F1.create(n,...t)}function At(n,t,...e){if(!n)throw M0(t,...e)}function Js(n){const t="INTERNAL ASSERTION FAILED: "+n;throw yf(t),new Error(t)}function er(n,t){n||Js(t)}function jy(){return typeof self<"u"&&self.location?.href||""}function $k(){return eT()==="http:"||eT()==="https:"}function eT(){return typeof self<"u"&&self.location?.protocol||null}function Wk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&($k()||TN()||"connection"in navigator)?navigator.onLine:!0}function Yk(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class nh{constructor(t,e){this.shortDelay=t,this.longDelay=e,er(e>t,"Short delay should be less than long delay!"),this.isMobile=vN()||SN()}get(){return Wk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function P0(n,t){er(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}class q1{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Js("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Js("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Js("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Kk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const Qk=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Xk=new nh(3e4,6e4);function ga(n,t){return n.tenantId&&!t.tenantId?{...t,tenantId:n.tenantId}:t}async function or(n,t,e,i,r={}){return G1(n,r,async()=>{let o={},l={};i&&(t==="GET"?l=i:o={body:JSON.stringify(i)});const u=eh({key:n.config.apiKey,...l}).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const f={method:t,headers:d,...o};return EN()||(f.referrerPolicy="no-referrer"),n.emulatorConfig&&Pl(n.emulatorConfig.host)&&(f.credentials="include"),q1.fetch()(await $1(n,n.config.apiHost,e,u),f)})}async function G1(n,t,e){n._canInitEmulator=!1;const i={...Kk,...t};try{const r=new Zk(n),o=await Promise.race([e(),r.promise]);r.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw Wd(n,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const u=o.ok?l.errorMessage:l.error.message,[d,f]=u.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wd(n,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw Wd(n,"email-already-in-use",l);if(d==="USER_DISABLED")throw Wd(n,"user-disabled",l);const p=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw H1(n,p,f);$i(n,p)}}catch(r){if(r instanceof ar)throw r;$i(n,"network-request-failed",{message:String(r)})}}async function ih(n,t,e,i,r={}){const o=await or(n,t,e,i,r);return"mfaPendingCredential"in o&&$i(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function $1(n,t,e,i){const r=`${t}${e}?${i}`,o=n,l=o.config.emulator?P0(n.config,r):`${n.config.apiScheme}://${r}`;return Qk.includes(e)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(l).toString():l}function Jk(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Zk{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(xs(this.auth,"network-request-failed")),Xk.get())})}}function Wd(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const r=xs(n,t,i);return r.customData._tokenResponse=e,r}function nT(n){return n!==void 0&&n.enterprise!==void 0}class tO{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return Jk(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function eO(n,t){return or(n,"GET","/v2/recaptchaConfig",ga(n,t))}async function nO(n,t){return or(n,"POST","/v1/accounts:delete",t)}async function Of(n,t){return or(n,"POST","/v1/accounts:lookup",t)}function mu(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function iO(n,t=!1){const e=Ae(n),i=await e.getIdToken(t),r=z0(i);At(r&&r.exp&&r.auth_time&&r.iat,e.auth,"internal-error");const o=typeof r.firebase=="object"?r.firebase:void 0,l=o?.sign_in_provider;return{claims:r,token:i,authTime:mu(sy(r.auth_time)),issuedAtTime:mu(sy(r.iat)),expirationTime:mu(sy(r.exp)),signInProvider:l||null,signInSecondFactor:o?.sign_in_second_factor||null}}function sy(n){return Number(n)*1e3}function z0(n){const[t,e,i]=n.split(".");if(t===void 0||e===void 0||i===void 0)return yf("JWT malformed, contained fewer than 3 sections"),null;try{const r=R1(e);return r?JSON.parse(r):(yf("Failed to decode base64 JWT payload"),null)}catch(r){return yf("Caught error parsing JWT payload as JSON",r?.toString()),null}}function iT(n){const t=z0(n);return At(t,"internal-error"),At(typeof t.exp<"u","internal-error"),At(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function El(n,t,e=!1){if(e)return t;try{return await t}catch(i){throw i instanceof ar&&sO(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function sO({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class rO{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Fy{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=mu(this.lastLoginAt),this.creationTime=mu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Mf(n){const t=n.auth,e=await n.getIdToken(),i=await El(n,Of(t,{idToken:e}));At(i?.users.length,t,"internal-error");const r=i.users[0];n._notifyReloadListener(r);const o=r.providerUserInfo?.length?W1(r.providerUserInfo):[],l=oO(n.providerData,o),u=n.isAnonymous,d=!(n.email&&r.passwordHash)&&!l?.length,f=u?d:!1,p={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:l,metadata:new Fy(r.createdAt,r.lastLoginAt),isAnonymous:f};Object.assign(n,p)}async function aO(n){const t=Ae(n);await Mf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function oO(n,t){return[...n.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function W1(n){return n.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}async function lO(n,t){const e=await G1(n,{},async()=>{const i=eh({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:o}=n.config,l=await $1(n,r,"/v1/token",`key=${o}`),u=await n._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:u,body:i};return n.emulatorConfig&&Pl(n.emulatorConfig.host)&&(d.credentials="include"),q1.fetch()(l,d)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function cO(n,t){return or(n,"POST","/v2/accounts:revokeToken",ga(n,t))}class ml{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){At(t.idToken,"internal-error"),At(typeof t.idToken<"u","internal-error"),At(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):iT(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){At(t.length!==0,"internal-error");const e=iT(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(At(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:i,refreshToken:r,expiresIn:o}=await lO(t,e);this.updateTokensAndExpiration(i,r,Number(o))}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,e){const{refreshToken:i,accessToken:r,expirationTime:o}=e,l=new ml;return i&&(At(typeof i=="string","internal-error",{appName:t}),l.refreshToken=i),r&&(At(typeof r=="string","internal-error",{appName:t}),l.accessToken=r),o&&(At(typeof o=="number","internal-error",{appName:t}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new ml,this.toJSON())}_performRefresh(){return Js("not implemented")}}function Fr(n,t){At(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class Fi{constructor({uid:t,auth:e,stsTokenManager:i,...r}){this.providerId="firebase",this.proactiveRefresh=new rO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new Fy(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(t){const e=await El(this,this.stsTokenManager.getToken(this.auth,t));return At(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return iO(this,t)}reload(){return aO(this)}_assign(t){this!==t&&(At(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new Fi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){At(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&await Mf(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ti(this.auth.app))return Promise.reject(Es(this.auth));const t=await this.getIdToken();return await El(this,nO(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const i=e.displayName??void 0,r=e.email??void 0,o=e.phoneNumber??void 0,l=e.photoURL??void 0,u=e.tenantId??void 0,d=e._redirectEventId??void 0,f=e.createdAt??void 0,p=e.lastLoginAt??void 0,{uid:y,emailVerified:_,isAnonymous:x,providerData:w,stsTokenManager:A}=e;At(y&&A,t,"internal-error");const S=ml.fromJSON(this.name,A);At(typeof y=="string",t,"internal-error"),Fr(i,t.name),Fr(r,t.name),At(typeof _=="boolean",t,"internal-error"),At(typeof x=="boolean",t,"internal-error"),Fr(o,t.name),Fr(l,t.name),Fr(u,t.name),Fr(d,t.name),Fr(f,t.name),Fr(p,t.name);const M=new Fi({uid:y,auth:t,email:r,emailVerified:_,displayName:i,isAnonymous:x,photoURL:l,phoneNumber:o,tenantId:u,stsTokenManager:S,createdAt:f,lastLoginAt:p});return w&&Array.isArray(w)&&(M.providerData=w.map(V=>({...V}))),d&&(M._redirectEventId=d),M}static async _fromIdTokenResponse(t,e,i=!1){const r=new ml;r.updateFromServerResponse(e);const o=new Fi({uid:e.localId,auth:t,stsTokenManager:r,isAnonymous:i});return await Mf(o),o}static async _fromGetAccountInfoResponse(t,e,i){const r=e.users[0];At(r.localId!==void 0,"internal-error");const o=r.providerUserInfo!==void 0?W1(r.providerUserInfo):[],l=!(r.email&&r.passwordHash)&&!o?.length,u=new ml;u.updateFromIdToken(i);const d=new Fi({uid:r.localId,auth:t,stsTokenManager:u,isAnonymous:l}),f={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new Fy(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!o?.length};return Object.assign(d,f),d}}const sT=new Map;function Zs(n){er(n instanceof Function,"Expected a class definition");let t=sT.get(n);return t?(er(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,sT.set(n,t),t)}class Y1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}Y1.type="NONE";const rT=Y1;function bf(n,t,e){return`firebase:${n}:${t}:${e}`}class yl{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:r,name:o}=this.auth;this.fullUserKey=bf(this.userKey,r.apiKey,o),this.fullPersistenceKey=bf("persistence",r.apiKey,o),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await Of(this.auth,{idToken:t}).catch(()=>{});return e?Fi._fromGetAccountInfoResponse(this.auth,e,t):null}return Fi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,i="authUser"){if(!e.length)return new yl(Zs(rT),t,i);const r=(await Promise.all(e.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=r[0]||Zs(rT);const l=bf(i,t.config.apiKey,t.name);let u=null;for(const f of e)try{const p=await f._get(l);if(p){let y;if(typeof p=="string"){const _=await Of(t,{idToken:p}).catch(()=>{});if(!_)break;y=await Fi._fromGetAccountInfoResponse(t,_,p)}else y=Fi._fromJSON(t,p);f!==o&&(u=y),o=f;break}}catch{}const d=r.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new yl(o,t,i):(o=d[0],u&&await o._set(l,u.toJSON()),await Promise.all(e.map(async f=>{if(f!==o)try{await f._remove(l)}catch{}})),new yl(o,t,i))}}function aT(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(J1(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(K1(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(tA(t))return"Blackberry";if(eA(t))return"Webos";if(Q1(t))return"Safari";if((t.includes("chrome/")||X1(t))&&!t.includes("edge/"))return"Chrome";if(Z1(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(e);if(i?.length===2)return i[1]}return"Other"}function K1(n=wn()){return/firefox\//i.test(n)}function Q1(n=wn()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function X1(n=wn()){return/crios\//i.test(n)}function J1(n=wn()){return/iemobile/i.test(n)}function Z1(n=wn()){return/android/i.test(n)}function tA(n=wn()){return/blackberry/i.test(n)}function eA(n=wn()){return/webos/i.test(n)}function L0(n=wn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function uO(n=wn()){return L0(n)&&!!window.navigator?.standalone}function hO(){return wN()&&document.documentMode===10}function nA(n=wn()){return L0(n)||Z1(n)||eA(n)||tA(n)||/windows phone/i.test(n)||J1(n)}function iA(n,t=[]){let e;switch(n){case"Browser":e=aT(wn());break;case"Worker":e=`${aT(wn())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${zl}/${i}`}class dO{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=o=>new Promise((l,u)=>{try{const d=t(o);l(d)}catch(d){u(d)}});i.onAbort=e,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const i of this.queue)await i(t),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(const r of e)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function fO(n,t={}){return or(n,"GET","/v2/passwordPolicy",ga(n,t))}const gO=6;class pO{constructor(t){const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??gO,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),r&&(e.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let i;for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}class mO{constructor(t,e,i,r){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new oT(this),this.idTokenSubscription=new oT(this),this.beforeStateQueue=new dO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=F1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Zs(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await yl.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await Of(this,{idToken:t}),i=await Fi._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(ti(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let i=e,r=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,l=i?._redirectEventId,u=await this.tryRedirectSignIn(t);(!o||o===l)&&u?.user&&(i=u.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return At(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Mf(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Yk()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(ti(this.app))return Promise.reject(Es(this));const e=t?Ae(t):null;return e&&At(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&At(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return ti(this.app)?Promise.reject(Es(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return ti(this.app)?Promise.reject(Es(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Zs(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await fO(this),e=new pO(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new th("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(i.tenantId=this.tenantId),await cO(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){const i=await this.getOrInitRedirectPersistenceManager(e);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&Zs(t)||this._popupRedirectResolver;At(e,this,"argument-error"),this.redirectPersistenceManager=await yl.create(this,[Zs(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,r){if(this._deleted)return()=>{};const o=typeof e=="function"?e:e.next.bind(e);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(At(u,this,"internal-error"),u.then(()=>{l||o(this.currentUser)}),typeof e=="function"){const d=t.addObserver(e,i,r);return()=>{l=!0,d()}}else{const d=t.addObserver(e);return()=>{l=!0,d()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return At(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=iA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){if(ti(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&Gk(`Error while retrieving App Check token: ${t.error}`),t?.token}}function pa(n){return Ae(n)}class oT{constructor(t){this.auth=t,this.observer=null,this.addObserver=ON(e=>this.observer=e)}get next(){return At(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let gg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function yO(n){gg=n}function sA(n){return gg.loadJS(n)}function bO(){return gg.recaptchaEnterpriseScript}function _O(){return gg.gapiScript}function vO(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class xO{constructor(){this.enterprise=new EO}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class EO{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const TO="recaptcha-enterprise",rA="NO_RECAPTCHA";class SO{constructor(t){this.type=TO,this.auth=pa(t)}async verify(t="verify",e=!1){async function i(o){if(!e){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,u)=>{eO(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const f=new tO(d);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,l(f.siteKey)}}).catch(d=>{u(d)})})}function r(o,l,u){const d=window.grecaptcha;nT(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:t}).then(f=>{l(f)}).catch(()=>{l(rA)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new xO().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{i(this.auth).then(u=>{if(!e&&nT(window.grecaptcha))r(u,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=bO();d.length!==0&&(d+=u),sA(d).then(()=>{r(u,o,l)}).catch(f=>{l(f)})}}).catch(u=>{l(u)})})}}async function lT(n,t,e,i=!1,r=!1){const o=new SO(n);let l;if(r)l=rA;else try{l=await o.verify(e)}catch{l=await o.verify(e,!0)}const u={...t};if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const d=u.phoneEnrollmentInfo.phoneNumber,f=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const d=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return i?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function Hy(n,t,e,i,r){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await lT(n,t,e,e==="getOobCode");return i(n,o)}else return i(n,t).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await lT(n,t,e,e==="getOobCode");return i(n,l)}else return Promise.reject(o)})}function wO(n,t){const e=O0(n,"auth");if(e.isInitialized()){const r=e.getImmediate(),o=e.getOptions();if(co(o,t??{}))return r;$i(r,"already-initialized")}return e.initialize({options:t})}function AO(n,t){const e=t?.persistence||[],i=(Array.isArray(e)?e:[e]).map(Zs);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t?.popupRedirectResolver)}function CO(n,t,e){const i=pa(n);At(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!1,o=aA(t),{host:l,port:u}=IO(t),d=u===null?"":`:${u}`,f={url:`${o}//${l}${d}/`},p=Object.freeze({host:l,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){At(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),At(co(f,i.config.emulator)&&co(p,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=f,i.emulatorConfig=p,i.settings.appVerificationDisabledForTesting=!0,Pl(l)?(O1(`${o}//${l}${d}`),M1("Auth",!0)):RO()}function aA(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function IO(n){const t=aA(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const i=e[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const o=r[1];return{host:o,port:cT(i.substr(o.length+1))}}else{const[o,l]=i.split(":");return{host:o,port:cT(l)}}}function cT(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function RO(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class V0{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return Js("not implemented")}_getIdTokenResponse(t){return Js("not implemented")}_linkToIdToken(t,e){return Js("not implemented")}_getReauthenticationResolver(t){return Js("not implemented")}}async function DO(n,t){return or(n,"POST","/v1/accounts:signUp",t)}async function NO(n,t){return ih(n,"POST","/v1/accounts:signInWithPassword",ga(n,t))}async function kO(n,t){return ih(n,"POST","/v1/accounts:signInWithEmailLink",ga(n,t))}async function OO(n,t){return ih(n,"POST","/v1/accounts:signInWithEmailLink",ga(n,t))}class Du extends V0{constructor(t,e,i,r=null){super("password",i),this._email=t,this._password=e,this._tenantId=r}static _fromEmailAndPassword(t,e){return new Du(t,e,"password")}static _fromEmailAndCode(t,e,i=null){return new Du(t,e,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e?.email&&e?.password){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Hy(t,e,"signInWithPassword",NO);case"emailLink":return kO(t,{email:this._email,oobCode:this._password});default:$i(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const i={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Hy(t,i,"signUpPassword",DO);case"emailLink":return OO(t,{idToken:e,email:this._email,oobCode:this._password});default:$i(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function bl(n,t){return ih(n,"POST","/v1/accounts:signInWithIdp",ga(n,t))}const MO="http://localhost";class ho extends V0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new ho(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):$i("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:r,...o}=e;if(!i||!r)return null;const l=new ho(i,r);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(t){const e=this.buildRequest();return bl(t,e)}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,bl(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,bl(t,e)}buildRequest(){const t={requestUri:MO,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=eh(e)}return t}}function PO(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function zO(n){const t=au(ou(n)).link,e=t?au(ou(t)).deep_link_id:null,i=au(ou(n)).deep_link_id;return(i?au(ou(i)).link:null)||i||e||t||n}class B0{constructor(t){const e=au(ou(t)),i=e.apiKey??null,r=e.oobCode??null,o=PO(e.mode??null);At(i&&r&&o,"argument-error"),this.apiKey=i,this.operation=o,this.code=r,this.continueUrl=e.continueUrl??null,this.languageCode=e.lang??null,this.tenantId=e.tenantId??null}static parseLink(t){const e=zO(t);try{return new B0(e)}catch{return null}}}class Ll{constructor(){this.providerId=Ll.PROVIDER_ID}static credential(t,e){return Du._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const i=B0.parseLink(e);return At(i,"argument-error"),Du._fromEmailAndCode(t,i.code,i.tenantId)}}Ll.PROVIDER_ID="password";Ll.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ll.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class oA{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class sh extends oA{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Hr extends sh{constructor(){super("facebook.com")}static credential(t){return ho._fromParams({providerId:Hr.PROVIDER_ID,signInMethod:Hr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Hr.credentialFromTaggedObject(t)}static credentialFromError(t){return Hr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Hr.credential(t.oauthAccessToken)}catch{return null}}}Hr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Hr.PROVIDER_ID="facebook.com";class qr extends sh{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return ho._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return qr.credentialFromTaggedObject(t)}static credentialFromError(t){return qr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:i}=t;if(!e&&!i)return null;try{return qr.credential(e,i)}catch{return null}}}qr.GOOGLE_SIGN_IN_METHOD="google.com";qr.PROVIDER_ID="google.com";class Gr extends sh{constructor(){super("github.com")}static credential(t){return ho._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Gr.credentialFromTaggedObject(t)}static credentialFromError(t){return Gr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Gr.credential(t.oauthAccessToken)}catch{return null}}}Gr.GITHUB_SIGN_IN_METHOD="github.com";Gr.PROVIDER_ID="github.com";class $r extends sh{constructor(){super("twitter.com")}static credential(t,e){return ho._fromParams({providerId:$r.PROVIDER_ID,signInMethod:$r.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return $r.credentialFromTaggedObject(t)}static credentialFromError(t){return $r.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:i}=t;if(!e||!i)return null;try{return $r.credential(e,i)}catch{return null}}}$r.TWITTER_SIGN_IN_METHOD="twitter.com";$r.PROVIDER_ID="twitter.com";async function lA(n,t){return ih(n,"POST","/v1/accounts:signUp",ga(n,t))}class nr{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,i,r=!1){const o=await Fi._fromIdTokenResponse(t,i,r),l=uT(i);return new nr({user:o,providerId:l,_tokenResponse:i,operationType:e})}static async _forOperation(t,e,i){await t._updateTokensIfNecessary(i,!0);const r=uT(i);return new nr({user:t,providerId:r,_tokenResponse:i,operationType:e})}}function uT(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}async function LO(n){if(ti(n.app))return Promise.reject(Es(n));const t=pa(n);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new nr({user:t.currentUser,providerId:null,operationType:"signIn"});const e=await lA(t,{returnSecureToken:!0}),i=await nr._fromIdTokenResponse(t,"signIn",e,!0);return await t._updateCurrentUser(i.user),i}class Pf extends ar{constructor(t,e,i,r){super(e.code,e.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,Pf.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,r){return new Pf(t,e,i,r)}}function cA(n,t,e,i){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Pf._fromErrorAndOperation(n,o,t,i):o})}async function VO(n,t,e=!1){const i=await El(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return nr._forOperation(n,"link",i)}async function BO(n,t,e=!1){const{auth:i}=n;if(ti(i.app))return Promise.reject(Es(i));const r="reauthenticate";try{const o=await El(n,cA(i,r,t,n),e);At(o.idToken,i,"internal-error");const l=z0(o.idToken);At(l,i,"internal-error");const{sub:u}=l;return At(n.uid===u,i,"user-mismatch"),nr._forOperation(n,r,o)}catch(o){throw o?.code==="auth/user-not-found"&&$i(i,"user-mismatch"),o}}async function uA(n,t,e=!1){if(ti(n.app))return Promise.reject(Es(n));const i="signIn",r=await cA(n,i,t),o=await nr._fromIdTokenResponse(n,i,r);return e||await n._updateCurrentUser(o.user),o}async function UO(n,t){return uA(pa(n),t)}async function hA(n){const t=pa(n);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function jO(n,t,e){if(ti(n.app))return Promise.reject(Es(n));const i=pa(n),l=await Hy(i,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",lA).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&hA(n),d}),u=await nr._fromIdTokenResponse(i,"signIn",l);return await i._updateCurrentUser(u.user),u}function FO(n,t,e){return ti(n.app)?Promise.reject(Es(n)):UO(Ae(n),Ll.credential(t,e)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&hA(n),i})}async function HO(n,t){return or(n,"POST","/v1/accounts:update",t)}async function ry(n,{displayName:t,photoURL:e}){if(t===void 0&&e===void 0)return;const i=Ae(n),o={idToken:await i.getIdToken(),displayName:t,photoUrl:e,returnSecureToken:!0},l=await El(i,HO(i.auth,o));i.displayName=l.displayName||null,i.photoURL=l.photoUrl||null;const u=i.providerData.find(({providerId:d})=>d==="password");u&&(u.displayName=i.displayName,u.photoURL=i.photoURL),await i._updateTokensIfNecessary(l)}function qO(n,t,e,i){return Ae(n).onIdTokenChanged(t,e,i)}function GO(n,t,e){return Ae(n).beforeAuthStateChanged(t,e)}function $O(n,t,e,i){return Ae(n).onAuthStateChanged(t,e,i)}function WO(n){return Ae(n).signOut()}const zf="__sak";class dA{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(zf,"1"),this.storage.removeItem(zf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const YO=1e3,KO=10;class fA extends dA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=nA(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const i=this.storage.getItem(e),r=this.localCache[e];i!==r&&t(e,r,i)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((l,u,d)=>{this.notifyListeners(l,d)});return}const i=t.key;e?this.detachListener():this.stopPolling();const r=()=>{const l=this.storage.getItem(i);!e&&this.localCache[i]===l||this.notifyListeners(i,l)},o=this.storage.getItem(i);hO()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,KO):r()}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:i}),!0)})},YO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}fA.type="LOCAL";const QO=fA;class gA extends dA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}gA.type="SESSION";const pA=gA;function XO(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}class pg{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(r=>r.isListeningto(t));if(e)return e;const i=new pg(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:i,eventType:r,data:o}=e.data,l=this.handlersMap[r];if(!l?.size)return;e.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const u=Array.from(l).map(async f=>f(e.origin,o)),d=await XO(u);e.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:d})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}pg.receivers=[];function U0(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(Math.random()*10);return n+e}class JO{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,l;return new Promise((u,d)=>{const f=U0("",20);r.port1.start();const p=setTimeout(()=>{d(new Error("unsupported_event"))},i);l={messageChannel:r,onMessage(y){const _=y;if(_.data.eventId===f)switch(_.data.status){case"ack":clearTimeout(p),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(_.data.response);break;default:clearTimeout(p),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(l),r.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:t,eventId:f,data:e},[r.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}function Ts(){return window}function ZO(n){Ts().location.href=n}function mA(){return typeof Ts().WorkerGlobalScope<"u"&&typeof Ts().importScripts=="function"}async function tM(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function eM(){return navigator?.serviceWorker?.controller||null}function nM(){return mA()?self:null}const yA="firebaseLocalStorageDb",iM=1,Lf="firebaseLocalStorage",bA="fbase_key";class rh{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function mg(n,t){return n.transaction([Lf],t?"readwrite":"readonly").objectStore(Lf)}function sM(){const n=indexedDB.deleteDatabase(yA);return new rh(n).toPromise()}function qy(){const n=indexedDB.open(yA,iM);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Lf,{keyPath:bA})}catch(r){e(r)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Lf)?t(i):(i.close(),await sM(),t(await qy()))})})}async function hT(n,t,e){const i=mg(n,!0).put({[bA]:t,value:e});return new rh(i).toPromise()}async function rM(n,t){const e=mg(n,!1).get(t),i=await new rh(e).toPromise();return i===void 0?null:i.value}function dT(n,t){const e=mg(n,!0).delete(t);return new rh(e).toPromise()}const aM=800,oM=3;class _A{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await qy(),this.db)}async _withRetries(t){let e=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(e++>oM)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return mA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=pg._getInstance(nM()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await tM(),!this.activeServiceWorker)return;this.sender=new JO(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||eM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await qy();return await hT(t,zf,"1"),await dT(t,zf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(i=>hT(i,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(i=>rM(i,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>dT(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(r=>{const o=mg(r,!1).getAll();return new rh(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],i=new Set;if(t.length!==0)for(const{fbase_key:r,value:o}of t)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),e.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),e.push(r));return e}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),aM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}_A.type="LOCAL";const lM=_A;new nh(3e4,6e4);function cM(n,t){return t?Zs(t):(At(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class j0 extends V0{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return bl(t,this._buildIdpRequest())}_linkToIdToken(t,e){return bl(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return bl(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function uM(n){return uA(n.auth,new j0(n),n.bypassAuthState)}function hM(n){const{auth:t,user:e}=n;return At(e,t,"internal-error"),BO(e,new j0(n),n.bypassAuthState)}async function dM(n){const{auth:t,user:e}=n;return At(e,t,"internal-error"),VO(e,new j0(n),n.bypassAuthState)}class vA{constructor(t,e,i,r,o=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:i,postBody:r,tenantId:o,error:l,type:u}=t;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:e,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(d))}catch(f){this.reject(f)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return uM;case"linkViaPopup":case"linkViaRedirect":return dM;case"reauthViaPopup":case"reauthViaRedirect":return hM;default:$i(this.auth,"internal-error")}}resolve(t){er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){er(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const fM=new nh(2e3,1e4);class gl extends vA{constructor(t,e,i,r,o){super(t,e,r,o),this.provider=i,this.authWindow=null,this.pollId=null,gl.currentPopupAction&&gl.currentPopupAction.cancel(),gl.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return At(t,this.auth,"internal-error"),t}async onExecution(){er(this.filter.length===1,"Popup operations only handle one event");const t=U0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(xs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(xs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,gl.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(xs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,fM.get())};t()}}gl.currentPopupAction=null;const gM="pendingRedirect",_f=new Map;class pM extends vA{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}async execute(){let t=_f.get(this.auth._key());if(!t){try{const i=await mM(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(e){t=()=>Promise.reject(e)}_f.set(this.auth._key(),t)}return this.bypassAuthState||_f.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function mM(n,t){const e=_M(t),i=bM(n);if(!await i._isAvailable())return!1;const r=await i._get(e)==="true";return await i._remove(e),r}function yM(n,t){_f.set(n._key(),t)}function bM(n){return Zs(n._redirectPersistence)}function _M(n){return bf(gM,n.config.apiKey,n.name)}async function vM(n,t,e=!1){if(ti(n.app))return Promise.reject(Es(n));const i=pa(n),r=cM(i,t),l=await new pM(i,r,e).execute();return l&&!e&&(delete l.user._redirectEventId,await i._persistUserIfCurrent(l.user),await i._setRedirectUser(null,t)),l}const xM=600*1e3;class EM{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!TM(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!xA(t)){const i=t.error.code?.split("auth/")[1]||"internal-error";e.onError(xs(this.auth,i))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=xM&&this.cachedEventUids.clear(),this.cachedEventUids.has(fT(t))}saveEventToCache(t){this.cachedEventUids.add(fT(t)),this.lastProcessedEventTime=Date.now()}}function fT(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function xA({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function TM(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return xA(n);default:return!1}}async function SM(n,t={}){return or(n,"GET","/v1/projects",t)}const wM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,AM=/^https?/;async function CM(n){if(n.config.emulator)return;const{authorizedDomains:t}=await SM(n);for(const e of t)try{if(IM(e))return}catch{}$i(n,"unauthorized-domain")}function IM(n){const t=jy(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&i===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&l.hostname===i}if(!AM.test(e))return!1;if(wM.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}const RM=new nh(3e4,6e4);function gT(){const n=Ts().___jsl;if(n?.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function DM(n){return new Promise((t,e)=>{function i(){gT(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{gT(),e(xs(n,"network-request-failed"))},timeout:RM.get()})}if(Ts().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ts().gapi?.load)i();else{const r=vO("iframefcb");return Ts()[r]=()=>{gapi.load?i():e(xs(n,"network-request-failed"))},sA(`${_O()}?onload=${r}`).catch(o=>e(o))}}).catch(t=>{throw vf=null,t})}let vf=null;function NM(n){return vf=vf||DM(n),vf}const kM=new nh(5e3,15e3),OM="__/auth/iframe",MM="emulator/auth/iframe",PM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},zM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function LM(n){const t=n.config;At(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?P0(t,MM):`https://${n.config.authDomain}/${OM}`,i={apiKey:t.apiKey,appName:n.name,v:zl},r=zM.get(n.config.apiHost);r&&(i.eid=r);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${e}?${eh(i).slice(1)}`}async function VM(n){const t=await NM(n),e=Ts().gapi;return At(e,n,"internal-error"),t.open({where:document.body,url:LM(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:PM,dontclear:!0},i=>new Promise(async(r,o)=>{await i.restyle({setHideOnLeave:!1});const l=xs(n,"network-request-failed"),u=Ts().setTimeout(()=>{o(l)},kM.get());function d(){Ts().clearTimeout(u),r(i)}i.ping(d).then(d,()=>{o(l)})}))}const BM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},UM=500,jM=600,FM="_blank",HM="http://localhost";class pT{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function qM(n,t,e,i=UM,r=jM){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),l=Math.max((window.screen.availWidth-i)/2,0).toString();let u="";const d={...BM,width:i.toString(),height:r.toString(),top:o,left:l},f=wn().toLowerCase();e&&(u=X1(f)?FM:e),K1(f)&&(t=t||HM,d.scrollbars="yes");const p=Object.entries(d).reduce((_,[x,w])=>`${_}${x}=${w},`,"");if(uO(f)&&u!=="_self")return GM(t||"",u),new pT(null);const y=window.open(t||"",u,p);At(y,n,"popup-blocked");try{y.focus()}catch{}return new pT(y)}function GM(n,t){const e=document.createElement("a");e.href=n,e.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}const $M="__/auth/handler",WM="emulator/auth/handler",YM=encodeURIComponent("fac");async function mT(n,t,e,i,r,o){At(n.config.authDomain,n,"auth-domain-config-required"),At(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:zl,eventId:r};if(t instanceof oA){t.setDefaultLanguage(n.languageCode),l.providerId=t.providerId||"",kN(t.getCustomParameters())||(l.customParameters=JSON.stringify(t.getCustomParameters()));for(const[p,y]of Object.entries({}))l[p]=y}if(t instanceof sh){const p=t.getScopes().filter(y=>y!=="");p.length>0&&(l.scopes=p.join(","))}n.tenantId&&(l.tid=n.tenantId);const u=l;for(const p of Object.keys(u))u[p]===void 0&&delete u[p];const d=await n._getAppCheckToken(),f=d?`#${YM}=${encodeURIComponent(d)}`:"";return`${KM(n)}?${eh(u).slice(1)}${f}`}function KM({config:n}){return n.emulator?P0(n,WM):`https://${n.authDomain}/${$M}`}const ay="webStorageSupport";class QM{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pA,this._completeRedirectFn=vM,this._overrideRedirectResult=yM}async _openPopup(t,e,i,r){er(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const o=await mT(t,e,i,jy(),r);return qM(t,o,U0())}async _openRedirect(t,e,i,r){await this._originValidation(t);const o=await mT(t,e,i,jy(),r);return ZO(o),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:r,promise:o}=this.eventManagers[e];return r?Promise.resolve(r):(er(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}async initAndGetManager(t){const e=await VM(t),i=new EM(t);return e.register("authEvent",r=>(At(r?.authEvent,t,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(ay,{type:ay},r=>{const o=r?.[0]?.[ay];o!==void 0&&e(!!o),$i(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=CM(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return nA()||Q1()||L0()}}const XM=QM;var yT="@firebase/auth",bT="1.11.1";class JM{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){At(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function ZM(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function tP(n){xl(new uo("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=i.options;At(l&&!l.includes(":"),"invalid-api-key",{appName:i.name});const d={apiKey:l,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:iA(n)},f=new mO(i,r,o,d);return AO(f,e),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),xl(new uo("auth-internal",t=>{const e=pa(t.getProvider("auth").getImmediate());return(i=>new JM(i))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Zr(yT,bT,ZM(n)),Zr(yT,bT,"esm2020")}const eP=300,nP=k1("authIdTokenMaxAge")||eP;let _T=null;const iP=n=>async t=>{const e=t&&await t.getIdTokenResult(),i=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(i&&i>nP)return;const r=e?.token;_T!==r&&(_T=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function sP(n=V1()){const t=O0(n,"auth");if(t.isInitialized())return t.getImmediate();const e=wO(n,{popupRedirectResolver:XM,persistence:[lM,QO,pA]}),i=k1("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const l=iP(o.toString());GO(e,l,()=>l(e.currentUser)),qO(e,u=>l(u))}}const r=D1("auth");return r&&CO(e,`http://${r}`),e}function rP(){return document.getElementsByTagName("head")?.[0]??document}yO({loadJS(n){return new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=r=>{const o=xs("internal-error");o.customData=r,e(o)},i.type="text/javascript",i.charset="UTF-8",rP().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});tP("Browser");var aP="firebase",oP="12.6.0";Zr(aP,oP,"app");var vT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ta,EA;(function(){var n;function t(D,I){function N(){}N.prototype=I.prototype,D.F=I.prototype,D.prototype=new N,D.prototype.constructor=D,D.D=function(z,O,L){for(var P=Array(arguments.length-2),It=2;It<arguments.length;It++)P[It-2]=arguments[It];return I.prototype[O].apply(z,P)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(i,e),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(D,I,N){N||(N=0);const z=Array(16);if(typeof I=="string")for(var O=0;O<16;++O)z[O]=I.charCodeAt(N++)|I.charCodeAt(N++)<<8|I.charCodeAt(N++)<<16|I.charCodeAt(N++)<<24;else for(O=0;O<16;++O)z[O]=I[N++]|I[N++]<<8|I[N++]<<16|I[N++]<<24;I=D.g[0],N=D.g[1],O=D.g[2];let L=D.g[3],P;P=I+(L^N&(O^L))+z[0]+3614090360&4294967295,I=N+(P<<7&4294967295|P>>>25),P=L+(O^I&(N^O))+z[1]+3905402710&4294967295,L=I+(P<<12&4294967295|P>>>20),P=O+(N^L&(I^N))+z[2]+606105819&4294967295,O=L+(P<<17&4294967295|P>>>15),P=N+(I^O&(L^I))+z[3]+3250441966&4294967295,N=O+(P<<22&4294967295|P>>>10),P=I+(L^N&(O^L))+z[4]+4118548399&4294967295,I=N+(P<<7&4294967295|P>>>25),P=L+(O^I&(N^O))+z[5]+1200080426&4294967295,L=I+(P<<12&4294967295|P>>>20),P=O+(N^L&(I^N))+z[6]+2821735955&4294967295,O=L+(P<<17&4294967295|P>>>15),P=N+(I^O&(L^I))+z[7]+4249261313&4294967295,N=O+(P<<22&4294967295|P>>>10),P=I+(L^N&(O^L))+z[8]+1770035416&4294967295,I=N+(P<<7&4294967295|P>>>25),P=L+(O^I&(N^O))+z[9]+2336552879&4294967295,L=I+(P<<12&4294967295|P>>>20),P=O+(N^L&(I^N))+z[10]+4294925233&4294967295,O=L+(P<<17&4294967295|P>>>15),P=N+(I^O&(L^I))+z[11]+2304563134&4294967295,N=O+(P<<22&4294967295|P>>>10),P=I+(L^N&(O^L))+z[12]+1804603682&4294967295,I=N+(P<<7&4294967295|P>>>25),P=L+(O^I&(N^O))+z[13]+4254626195&4294967295,L=I+(P<<12&4294967295|P>>>20),P=O+(N^L&(I^N))+z[14]+2792965006&4294967295,O=L+(P<<17&4294967295|P>>>15),P=N+(I^O&(L^I))+z[15]+1236535329&4294967295,N=O+(P<<22&4294967295|P>>>10),P=I+(O^L&(N^O))+z[1]+4129170786&4294967295,I=N+(P<<5&4294967295|P>>>27),P=L+(N^O&(I^N))+z[6]+3225465664&4294967295,L=I+(P<<9&4294967295|P>>>23),P=O+(I^N&(L^I))+z[11]+643717713&4294967295,O=L+(P<<14&4294967295|P>>>18),P=N+(L^I&(O^L))+z[0]+3921069994&4294967295,N=O+(P<<20&4294967295|P>>>12),P=I+(O^L&(N^O))+z[5]+3593408605&4294967295,I=N+(P<<5&4294967295|P>>>27),P=L+(N^O&(I^N))+z[10]+38016083&4294967295,L=I+(P<<9&4294967295|P>>>23),P=O+(I^N&(L^I))+z[15]+3634488961&4294967295,O=L+(P<<14&4294967295|P>>>18),P=N+(L^I&(O^L))+z[4]+3889429448&4294967295,N=O+(P<<20&4294967295|P>>>12),P=I+(O^L&(N^O))+z[9]+568446438&4294967295,I=N+(P<<5&4294967295|P>>>27),P=L+(N^O&(I^N))+z[14]+3275163606&4294967295,L=I+(P<<9&4294967295|P>>>23),P=O+(I^N&(L^I))+z[3]+4107603335&4294967295,O=L+(P<<14&4294967295|P>>>18),P=N+(L^I&(O^L))+z[8]+1163531501&4294967295,N=O+(P<<20&4294967295|P>>>12),P=I+(O^L&(N^O))+z[13]+2850285829&4294967295,I=N+(P<<5&4294967295|P>>>27),P=L+(N^O&(I^N))+z[2]+4243563512&4294967295,L=I+(P<<9&4294967295|P>>>23),P=O+(I^N&(L^I))+z[7]+1735328473&4294967295,O=L+(P<<14&4294967295|P>>>18),P=N+(L^I&(O^L))+z[12]+2368359562&4294967295,N=O+(P<<20&4294967295|P>>>12),P=I+(N^O^L)+z[5]+4294588738&4294967295,I=N+(P<<4&4294967295|P>>>28),P=L+(I^N^O)+z[8]+2272392833&4294967295,L=I+(P<<11&4294967295|P>>>21),P=O+(L^I^N)+z[11]+1839030562&4294967295,O=L+(P<<16&4294967295|P>>>16),P=N+(O^L^I)+z[14]+4259657740&4294967295,N=O+(P<<23&4294967295|P>>>9),P=I+(N^O^L)+z[1]+2763975236&4294967295,I=N+(P<<4&4294967295|P>>>28),P=L+(I^N^O)+z[4]+1272893353&4294967295,L=I+(P<<11&4294967295|P>>>21),P=O+(L^I^N)+z[7]+4139469664&4294967295,O=L+(P<<16&4294967295|P>>>16),P=N+(O^L^I)+z[10]+3200236656&4294967295,N=O+(P<<23&4294967295|P>>>9),P=I+(N^O^L)+z[13]+681279174&4294967295,I=N+(P<<4&4294967295|P>>>28),P=L+(I^N^O)+z[0]+3936430074&4294967295,L=I+(P<<11&4294967295|P>>>21),P=O+(L^I^N)+z[3]+3572445317&4294967295,O=L+(P<<16&4294967295|P>>>16),P=N+(O^L^I)+z[6]+76029189&4294967295,N=O+(P<<23&4294967295|P>>>9),P=I+(N^O^L)+z[9]+3654602809&4294967295,I=N+(P<<4&4294967295|P>>>28),P=L+(I^N^O)+z[12]+3873151461&4294967295,L=I+(P<<11&4294967295|P>>>21),P=O+(L^I^N)+z[15]+530742520&4294967295,O=L+(P<<16&4294967295|P>>>16),P=N+(O^L^I)+z[2]+3299628645&4294967295,N=O+(P<<23&4294967295|P>>>9),P=I+(O^(N|~L))+z[0]+4096336452&4294967295,I=N+(P<<6&4294967295|P>>>26),P=L+(N^(I|~O))+z[7]+1126891415&4294967295,L=I+(P<<10&4294967295|P>>>22),P=O+(I^(L|~N))+z[14]+2878612391&4294967295,O=L+(P<<15&4294967295|P>>>17),P=N+(L^(O|~I))+z[5]+4237533241&4294967295,N=O+(P<<21&4294967295|P>>>11),P=I+(O^(N|~L))+z[12]+1700485571&4294967295,I=N+(P<<6&4294967295|P>>>26),P=L+(N^(I|~O))+z[3]+2399980690&4294967295,L=I+(P<<10&4294967295|P>>>22),P=O+(I^(L|~N))+z[10]+4293915773&4294967295,O=L+(P<<15&4294967295|P>>>17),P=N+(L^(O|~I))+z[1]+2240044497&4294967295,N=O+(P<<21&4294967295|P>>>11),P=I+(O^(N|~L))+z[8]+1873313359&4294967295,I=N+(P<<6&4294967295|P>>>26),P=L+(N^(I|~O))+z[15]+4264355552&4294967295,L=I+(P<<10&4294967295|P>>>22),P=O+(I^(L|~N))+z[6]+2734768916&4294967295,O=L+(P<<15&4294967295|P>>>17),P=N+(L^(O|~I))+z[13]+1309151649&4294967295,N=O+(P<<21&4294967295|P>>>11),P=I+(O^(N|~L))+z[4]+4149444226&4294967295,I=N+(P<<6&4294967295|P>>>26),P=L+(N^(I|~O))+z[11]+3174756917&4294967295,L=I+(P<<10&4294967295|P>>>22),P=O+(I^(L|~N))+z[2]+718787259&4294967295,O=L+(P<<15&4294967295|P>>>17),P=N+(L^(O|~I))+z[9]+3951481745&4294967295,D.g[0]=D.g[0]+I&4294967295,D.g[1]=D.g[1]+(O+(P<<21&4294967295|P>>>11))&4294967295,D.g[2]=D.g[2]+O&4294967295,D.g[3]=D.g[3]+L&4294967295}i.prototype.v=function(D,I){I===void 0&&(I=D.length);const N=I-this.blockSize,z=this.C;let O=this.h,L=0;for(;L<I;){if(O==0)for(;L<=N;)r(this,D,L),L+=this.blockSize;if(typeof D=="string"){for(;L<I;)if(z[O++]=D.charCodeAt(L++),O==this.blockSize){r(this,z),O=0;break}}else for(;L<I;)if(z[O++]=D[L++],O==this.blockSize){r(this,z),O=0;break}}this.h=O,this.o+=I},i.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var I=1;I<D.length-8;++I)D[I]=0;I=this.o*8;for(var N=D.length-8;N<D.length;++N)D[N]=I&255,I/=256;for(this.v(D),D=Array(16),I=0,N=0;N<4;++N)for(let z=0;z<32;z+=8)D[I++]=this.g[N]>>>z&255;return D};function o(D,I){var N=u;return Object.prototype.hasOwnProperty.call(N,D)?N[D]:N[D]=I(D)}function l(D,I){this.h=I;const N=[];let z=!0;for(let O=D.length-1;O>=0;O--){const L=D[O]|0;z&&L==I||(N[O]=L,z=!1)}this.g=N}var u={};function d(D){return-128<=D&&D<128?o(D,function(I){return new l([I|0],I<0?-1:0)}):new l([D|0],D<0?-1:0)}function f(D){if(isNaN(D)||!isFinite(D))return y;if(D<0)return S(f(-D));const I=[];let N=1;for(let z=0;D>=N;z++)I[z]=D/N|0,N*=4294967296;return new l(I,0)}function p(D,I){if(D.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(D.charAt(0)=="-")return S(p(D.substring(1),I));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=f(Math.pow(I,8));let z=y;for(let L=0;L<D.length;L+=8){var O=Math.min(8,D.length-L);const P=parseInt(D.substring(L,L+O),I);O<8?(O=f(Math.pow(I,O)),z=z.j(O).add(f(P))):(z=z.j(N),z=z.add(f(P)))}return z}var y=d(0),_=d(1),x=d(16777216);n=l.prototype,n.m=function(){if(A(this))return-S(this).m();let D=0,I=1;for(let N=0;N<this.g.length;N++){const z=this.i(N);D+=(z>=0?z:4294967296+z)*I,I*=4294967296}return D},n.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(w(this))return"0";if(A(this))return"-"+S(this).toString(D);const I=f(Math.pow(D,6));var N=this;let z="";for(;;){const O=G(N,I).g;N=M(N,O.j(I));let L=((N.g.length>0?N.g[0]:N.h)>>>0).toString(D);if(N=O,w(N))return L+z;for(;L.length<6;)L="0"+L;z=L+z}},n.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function w(D){if(D.h!=0)return!1;for(let I=0;I<D.g.length;I++)if(D.g[I]!=0)return!1;return!0}function A(D){return D.h==-1}n.l=function(D){return D=M(this,D),A(D)?-1:w(D)?0:1};function S(D){const I=D.g.length,N=[];for(let z=0;z<I;z++)N[z]=~D.g[z];return new l(N,~D.h).add(_)}n.abs=function(){return A(this)?S(this):this},n.add=function(D){const I=Math.max(this.g.length,D.g.length),N=[];let z=0;for(let O=0;O<=I;O++){let L=z+(this.i(O)&65535)+(D.i(O)&65535),P=(L>>>16)+(this.i(O)>>>16)+(D.i(O)>>>16);z=P>>>16,L&=65535,P&=65535,N[O]=P<<16|L}return new l(N,N[N.length-1]&-2147483648?-1:0)};function M(D,I){return D.add(S(I))}n.j=function(D){if(w(this)||w(D))return y;if(A(this))return A(D)?S(this).j(S(D)):S(S(this).j(D));if(A(D))return S(this.j(S(D)));if(this.l(x)<0&&D.l(x)<0)return f(this.m()*D.m());const I=this.g.length+D.g.length,N=[];for(var z=0;z<2*I;z++)N[z]=0;for(z=0;z<this.g.length;z++)for(let O=0;O<D.g.length;O++){const L=this.i(z)>>>16,P=this.i(z)&65535,It=D.i(O)>>>16,bt=D.i(O)&65535;N[2*z+2*O]+=P*bt,V(N,2*z+2*O),N[2*z+2*O+1]+=L*bt,V(N,2*z+2*O+1),N[2*z+2*O+1]+=P*It,V(N,2*z+2*O+1),N[2*z+2*O+2]+=L*It,V(N,2*z+2*O+2)}for(D=0;D<I;D++)N[D]=N[2*D+1]<<16|N[2*D];for(D=I;D<2*I;D++)N[D]=0;return new l(N,0)};function V(D,I){for(;(D[I]&65535)!=D[I];)D[I+1]+=D[I]>>>16,D[I]&=65535,I++}function F(D,I){this.g=D,this.h=I}function G(D,I){if(w(I))throw Error("division by zero");if(w(D))return new F(y,y);if(A(D))return I=G(S(D),I),new F(S(I.g),S(I.h));if(A(I))return I=G(D,S(I)),new F(S(I.g),I.h);if(D.g.length>30){if(A(D)||A(I))throw Error("slowDivide_ only works with positive integers.");for(var N=_,z=I;z.l(D)<=0;)N=H(N),z=H(z);var O=Y(N,1),L=Y(z,1);for(z=Y(z,2),N=Y(N,2);!w(z);){var P=L.add(z);P.l(D)<=0&&(O=O.add(N),L=P),z=Y(z,1),N=Y(N,1)}return I=M(D,O.j(I)),new F(O,I)}for(O=y;D.l(I)>=0;){for(N=Math.max(1,Math.floor(D.m()/I.m())),z=Math.ceil(Math.log(N)/Math.LN2),z=z<=48?1:Math.pow(2,z-48),L=f(N),P=L.j(I);A(P)||P.l(D)>0;)N-=z,L=f(N),P=L.j(I);w(L)&&(L=_),O=O.add(L),D=M(D,P)}return new F(O,D)}n.B=function(D){return G(this,D).h},n.and=function(D){const I=Math.max(this.g.length,D.g.length),N=[];for(let z=0;z<I;z++)N[z]=this.i(z)&D.i(z);return new l(N,this.h&D.h)},n.or=function(D){const I=Math.max(this.g.length,D.g.length),N=[];for(let z=0;z<I;z++)N[z]=this.i(z)|D.i(z);return new l(N,this.h|D.h)},n.xor=function(D){const I=Math.max(this.g.length,D.g.length),N=[];for(let z=0;z<I;z++)N[z]=this.i(z)^D.i(z);return new l(N,this.h^D.h)};function H(D){const I=D.g.length+1,N=[];for(let z=0;z<I;z++)N[z]=D.i(z)<<1|D.i(z-1)>>>31;return new l(N,D.h)}function Y(D,I){const N=I>>5;I%=32;const z=D.g.length-N,O=[];for(let L=0;L<z;L++)O[L]=I>0?D.i(L+N)>>>I|D.i(L+N+1)<<32-I:D.i(L+N);return new l(O,D.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,EA=i,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=p,ta=l}).apply(typeof vT<"u"?vT:typeof self<"u"?self:typeof window<"u"?window:{});var Yd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var TA,lu,SA,xf,Gy,wA,AA,CA;(function(){var n,t=Object.defineProperty;function e(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof Yd=="object"&&Yd];for(var v=0;v<g.length;++v){var T=g[v];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var i=e(this);function r(g,v){if(v)t:{var T=i;g=g.split(".");for(var k=0;k<g.length-1;k++){var W=g[k];if(!(W in T))break t;T=T[W]}g=g[g.length-1],k=T[g],v=v(k),v!=k&&v!=null&&t(T,g,{configurable:!0,writable:!0,value:v})}}r("Symbol.dispose",function(g){return g||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(g){return g||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(g){return g||function(v){var T=[],k;for(k in v)Object.prototype.hasOwnProperty.call(v,k)&&T.push([k,v[k]]);return T}});var o=o||{},l=this||self;function u(g){var v=typeof g;return v=="object"&&g!=null||v=="function"}function d(g,v,T){return g.call.apply(g.bind,arguments)}function f(g,v,T){return f=d,f.apply(null,arguments)}function p(g,v){var T=Array.prototype.slice.call(arguments,1);return function(){var k=T.slice();return k.push.apply(k,arguments),g.apply(this,k)}}function y(g,v){function T(){}T.prototype=v.prototype,g.Z=v.prototype,g.prototype=new T,g.prototype.constructor=g,g.Ob=function(k,W,Z){for(var dt=Array(arguments.length-2),Mt=2;Mt<arguments.length;Mt++)dt[Mt-2]=arguments[Mt];return v.prototype[W].apply(k,dt)}}var _=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?g=>g&&AsyncContext.Snapshot.wrap(g):g=>g;function x(g){const v=g.length;if(v>0){const T=Array(v);for(let k=0;k<v;k++)T[k]=g[k];return T}return[]}function w(g,v){for(let k=1;k<arguments.length;k++){const W=arguments[k];var T=typeof W;if(T=T!="object"?T:W?Array.isArray(W)?"array":T:"null",T=="array"||T=="object"&&typeof W.length=="number"){T=g.length||0;const Z=W.length||0;g.length=T+Z;for(let dt=0;dt<Z;dt++)g[T+dt]=W[dt]}else g.push(W)}}class A{constructor(v,T){this.i=v,this.j=T,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function S(g){l.setTimeout(()=>{throw g},0)}function M(){var g=D;let v=null;return g.g&&(v=g.g,g.g=g.g.next,g.g||(g.h=null),v.next=null),v}class V{constructor(){this.h=this.g=null}add(v,T){const k=F.get();k.set(v,T),this.h?this.h.next=k:this.g=k,this.h=k}}var F=new A(()=>new G,g=>g.reset());class G{constructor(){this.next=this.g=this.h=null}set(v,T){this.h=v,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let H,Y=!1,D=new V,I=()=>{const g=Promise.resolve(void 0);H=()=>{g.then(N)}};function N(){for(var g;g=M();){try{g.h.call(g.g)}catch(T){S(T)}var v=F;v.j(g),v.h<100&&(v.h++,g.next=v.g,v.g=g)}Y=!1}function z(){this.u=this.u,this.C=this.C}z.prototype.u=!1,z.prototype.dispose=function(){this.u||(this.u=!0,this.N())},z.prototype[Symbol.dispose]=function(){this.dispose()},z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function O(g,v){this.type=g,this.g=this.target=v,this.defaultPrevented=!1}O.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var g=!1,v=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const T=()=>{};l.addEventListener("test",T,v),l.removeEventListener("test",T,v)}catch{}return g})();function P(g){return/^[\s\xa0]*$/.test(g)}function It(g,v){O.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g&&this.init(g,v)}y(It,O),It.prototype.init=function(g,v){const T=this.type=g.type,k=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;this.target=g.target||g.srcElement,this.g=v,v=g.relatedTarget,v||(T=="mouseover"?v=g.fromElement:T=="mouseout"&&(v=g.toElement)),this.relatedTarget=v,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=g.pointerType,this.state=g.state,this.i=g,g.defaultPrevented&&It.Z.h.call(this)},It.prototype.h=function(){It.Z.h.call(this);const g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var bt="closure_listenable_"+(Math.random()*1e6|0),X=0;function ot(g,v,T,k,W){this.listener=g,this.proxy=null,this.src=v,this.type=T,this.capture=!!k,this.ha=W,this.key=++X,this.da=this.fa=!1}function gt(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function Rt(g,v,T){for(const k in g)v.call(T,g[k],k,g)}function Dt(g,v){for(const T in g)v.call(void 0,g[T],T,g)}function U(g){const v={};for(const T in g)v[T]=g[T];return v}const et="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function lt(g,v){let T,k;for(let W=1;W<arguments.length;W++){k=arguments[W];for(T in k)g[T]=k[T];for(let Z=0;Z<et.length;Z++)T=et[Z],Object.prototype.hasOwnProperty.call(k,T)&&(g[T]=k[T])}}function ut(g){this.src=g,this.g={},this.h=0}ut.prototype.add=function(g,v,T,k,W){const Z=g.toString();g=this.g[Z],g||(g=this.g[Z]=[],this.h++);const dt=_t(g,v,k,W);return dt>-1?(v=g[dt],T||(v.fa=!1)):(v=new ot(v,this.src,Z,!!k,W),v.fa=T,g.push(v)),v};function mt(g,v){const T=v.type;if(T in g.g){var k=g.g[T],W=Array.prototype.indexOf.call(k,v,void 0),Z;(Z=W>=0)&&Array.prototype.splice.call(k,W,1),Z&&(gt(v),g.g[T].length==0&&(delete g.g[T],g.h--))}}function _t(g,v,T,k){for(let W=0;W<g.length;++W){const Z=g[W];if(!Z.da&&Z.listener==v&&Z.capture==!!T&&Z.ha==k)return W}return-1}var ct="closure_lm_"+(Math.random()*1e6|0),Lt={};function Wt(g,v,T,k,W){if(Array.isArray(v)){for(let Z=0;Z<v.length;Z++)Wt(g,v[Z],T,k,W);return null}return T=Yl(T),g&&g[bt]?g.J(v,T,u(k)?!!k.capture:!1,W):Je(g,v,T,!1,k,W)}function Je(g,v,T,k,W,Z){if(!v)throw Error("Invalid event type");const dt=u(W)?!!W.capture:!!W;let Mt=Ze(g);if(Mt||(g[ct]=Mt=new ut(g)),T=Mt.add(v,T,k,dt,Z),T.proxy)return T;if(k=ln(),T.proxy=k,k.src=g,k.listener=T,g.addEventListener)L||(W=dt),W===void 0&&(W=!1),g.addEventListener(v.toString(),k,W);else if(g.attachEvent)g.attachEvent(xt(v.toString()),k);else if(g.addListener&&g.removeListener)g.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return T}function ln(){function g(T){return v.call(g.src,g.listener,T)}const v=Pe;return g}function _e(g,v,T,k,W){if(Array.isArray(v))for(var Z=0;Z<v.length;Z++)_e(g,v[Z],T,k,W);else k=u(k)?!!k.capture:!!k,T=Yl(T),g&&g[bt]?(g=g.i,Z=String(v).toString(),Z in g.g&&(v=g.g[Z],T=_t(v,T,k,W),T>-1&&(gt(v[T]),Array.prototype.splice.call(v,T,1),v.length==0&&(delete g.g[Z],g.h--)))):g&&(g=Ze(g))&&(v=g.g[v.toString()],g=-1,v&&(g=_t(v,T,k,W)),(T=g>-1?v[g]:null)&&On(T))}function On(g){if(typeof g!="number"&&g&&!g.da){var v=g.src;if(v&&v[bt])mt(v.i,g);else{var T=g.type,k=g.proxy;v.removeEventListener?v.removeEventListener(T,k,g.capture):v.detachEvent?v.detachEvent(xt(T),k):v.addListener&&v.removeListener&&v.removeListener(k),(T=Ze(v))?(mt(T,g),T.h==0&&(T.src=null,v[ct]=null)):gt(g)}}}function xt(g){return g in Lt?Lt[g]:Lt[g]="on"+g}function Pe(g,v){if(g.da)g=!0;else{v=new It(v,this);const T=g.listener,k=g.ha||g.src;g.fa&&On(g),g=T.call(k,v)}return g}function Ze(g){return g=g[ct],g instanceof ut?g:null}var Wl="__closure_events_fn_"+(Math.random()*1e9>>>0);function Yl(g){return typeof g=="function"?g:(g[Wl]||(g[Wl]=function(v){return g.handleEvent(v)}),g[Wl])}function ze(){z.call(this),this.i=new ut(this),this.M=this,this.G=null}y(ze,z),ze.prototype[bt]=!0,ze.prototype.removeEventListener=function(g,v,T,k){_e(this,g,v,T,k)};function Ye(g,v){var T,k=g.G;if(k)for(T=[];k;k=k.G)T.push(k);if(g=g.M,k=v.type||v,typeof v=="string")v=new O(v,g);else if(v instanceof O)v.target=v.target||g;else{var W=v;v=new O(k,g),lt(v,W)}W=!0;let Z,dt;if(T)for(dt=T.length-1;dt>=0;dt--)Z=v.g=T[dt],W=cr(Z,k,!0,v)&&W;if(Z=v.g=g,W=cr(Z,k,!0,v)&&W,W=cr(Z,k,!1,v)&&W,T)for(dt=0;dt<T.length;dt++)Z=v.g=T[dt],W=cr(Z,k,!1,v)&&W}ze.prototype.N=function(){if(ze.Z.N.call(this),this.i){var g=this.i;for(const v in g.g){const T=g.g[v];for(let k=0;k<T.length;k++)gt(T[k]);delete g.g[v],g.h--}}this.G=null},ze.prototype.J=function(g,v,T,k){return this.i.add(String(g),v,!1,T,k)},ze.prototype.K=function(g,v,T,k){return this.i.add(String(g),v,!0,T,k)};function cr(g,v,T,k){if(v=g.i.g[String(v)],!v)return!0;v=v.concat();let W=!0;for(let Z=0;Z<v.length;++Z){const dt=v[Z];if(dt&&!dt.da&&dt.capture==T){const Mt=dt.listener,Ie=dt.ha||dt.src;dt.fa&&mt(g.i,dt),W=Mt.call(Ie,k)!==!1&&W}}return W&&!k.defaultPrevented}function Kg(g,v){if(typeof g!="function")if(g&&typeof g.handleEvent=="function")g=f(g.handleEvent,g);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:l.setTimeout(g,v||0)}function bh(g){g.g=Kg(()=>{g.g=null,g.i&&(g.i=!1,bh(g))},g.l);const v=g.h;g.h=null,g.m.apply(null,v)}class Cn extends z{constructor(v,T){super(),this.m=v,this.l=T,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:bh(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _a(g){z.call(this),this.h=g,this.g={}}y(_a,z);var Kl=[];function Ql(g){Rt(g.g,function(v,T){this.g.hasOwnProperty(T)&&On(v)},g),g.g={}}_a.prototype.N=function(){_a.Z.N.call(this),Ql(this)},_a.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ur=l.JSON.stringify,Qg=l.JSON.parse,_h=class{stringify(g){return l.JSON.stringify(g,void 0)}parse(g){return l.JSON.parse(g,void 0)}};function vh(){}function xh(){}var Ri={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function cn(){O.call(this,"d")}y(cn,O);function oi(){O.call(this,"c")}y(oi,O);var Ce={},Eh=null;function Eo(){return Eh=Eh||new ze}Ce.Ia="serverreachability";function Th(g){O.call(this,Ce.Ia,g)}y(Th,O);function Ki(g){const v=Eo();Ye(v,new Th(v))}Ce.STAT_EVENT="statevent";function va(g,v){O.call(this,Ce.STAT_EVENT,g),this.stat=v}y(va,O);function Le(g){const v=Eo();Ye(v,new va(v,g))}Ce.Ja="timingevent";function Qi(g,v){O.call(this,Ce.Ja,g),this.size=v}y(Qi,O);function Xi(g,v){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){g()},v)}function Di(){this.g=!0}Di.prototype.ua=function(){this.g=!1};function Xg(g,v,T,k,W,Z){g.info(function(){if(g.g)if(Z){var dt="",Mt=Z.split("&");for(let te=0;te<Mt.length;te++){var Ie=Mt[te].split("=");if(Ie.length>1){const ve=Ie[0];Ie=Ie[1];const hi=ve.split("_");dt=hi.length>=2&&hi[1]=="type"?dt+(ve+"="+Ie+"&"):dt+(ve+"=redacted&")}}}else dt=null;else dt=Z;return"XMLHTTP REQ ("+k+") [attempt "+W+"]: "+v+`
`+T+`
`+dt})}function Sh(g,v,T,k,W,Z,dt){g.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+W+"]: "+v+`
`+T+`
`+Z+" "+dt})}function Ji(g,v,T,k){g.info(function(){return"XMLHTTP TEXT ("+v+"): "+Jg(g,T)+(k?" "+k:"")})}function xa(g,v){g.info(function(){return"TIMEOUT: "+v})}Di.prototype.info=function(){};function Jg(g,v){if(!g.g)return v;if(!v)return null;try{const Z=JSON.parse(v);if(Z){for(g=0;g<Z.length;g++)if(Array.isArray(Z[g])){var T=Z[g];if(!(T.length<2)){var k=T[1];if(Array.isArray(k)&&!(k.length<1)){var W=k[0];if(W!="noop"&&W!="stop"&&W!="close")for(let dt=1;dt<k.length;dt++)k[dt]=""}}}}return ur(Z)}catch{return v}}var Ea={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Xl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Jl;function Ta(){}y(Ta,vh),Ta.prototype.g=function(){return new XMLHttpRequest},Jl=new Ta;function Rs(g){return encodeURIComponent(String(g))}function wh(g){var v=1;g=g.split(":");const T=[];for(;v>0&&g.length;)T.push(g.shift()),v--;return g.length&&T.push(g.join(":")),T}function Ni(g,v,T,k){this.j=g,this.i=v,this.l=T,this.S=k||1,this.V=new _a(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ki}function ki(){this.i=null,this.g="",this.h=!1}var Ve={},tn={};function Zi(g,v,T){g.M=1,g.A=Sa(Ue(v)),g.u=T,g.R=!0,To(g,null)}function To(g,v){g.F=Date.now(),ts(g),g.B=Ue(g.A);var T=g.B,k=g.S;Array.isArray(k)||(k=[String(k)]),Co(T.i,"t",k),g.C=0,T=g.j.L,g.h=new ki,g.g=Uh(g.j,T?v:null,!g.u),g.P>0&&(g.O=new Cn(f(g.Y,g,g.g),g.P)),v=g.V,T=g.g,k=g.ba;var W="readystatechange";Array.isArray(W)||(W&&(Kl[0]=W.toString()),W=Kl);for(let Z=0;Z<W.length;Z++){const dt=Wt(T,W[Z],k||v.handleEvent,!1,v.h||v);if(!dt)break;v.g[dt.key]=dt}v=g.J?U(g.J):{},g.u?(g.v||(g.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.B,g.v,g.u,v)):(g.v="GET",g.g.ea(g.B,g.v,null,v)),Ki(),Xg(g.i,g.v,g.B,g.l,g.S,g.u)}Ni.prototype.ba=function(g){g=g.target;const v=this.O;v&&Pi(g)==3?v.j():this.Y(g)},Ni.prototype.Y=function(g){try{if(g==this.g)t:{const Mt=Pi(this.g),Ie=this.g.ya(),te=this.g.ca();if(!(Mt<3)&&(Mt!=3||this.g&&(this.h.h||this.g.la()||un(this.g)))){this.K||Mt!=4||Ie==7||(Ie==8||te<=0?Ki(3):Ki(2)),es(this);var v=this.g.ca();this.X=v;var T=Zg(this);if(this.o=v==200,Sh(this.i,this.v,this.B,this.l,this.S,Mt,v),this.o){if(this.U&&!this.L){e:{if(this.g){var k,W=this.g;if((k=W.g?W.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(k)){var Z=k;break e}}Z=null}if(g=Z)Ji(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ns(this,g);else{this.o=!1,this.m=3,Le(12),Gn(this),li(this);break t}}if(this.R){g=!0;let ve;for(;!this.K&&this.C<T.length;)if(ve=Ch(this,T),ve==tn){Mt==4&&(this.m=4,Le(14),g=!1),Ji(this.i,this.l,null,"[Incomplete Response]");break}else if(ve==Ve){this.m=4,Le(15),Ji(this.i,this.l,T,"[Invalid Chunk]"),g=!1;break}else Ji(this.i,this.l,ve,null),ns(this,ve);if(Ah(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Mt!=4||T.length!=0||this.h.h||(this.m=1,Le(16),g=!1),this.o=this.o&&g,!g)Ji(this.i,this.l,T,"[Invalid Chunked Response]"),Gn(this),li(this);else if(T.length>0&&!this.W){this.W=!0;var dt=this.j;dt.g==this&&dt.aa&&!dt.P&&(dt.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),fc(dt),dt.P=!0,Le(11))}}else Ji(this.i,this.l,T,null),ns(this,T);Mt==4&&Gn(this),this.o&&!this.K&&(Mt==4?zh(this.j,this):(this.o=!1,ts(this)))}else Ns(this.g),v==400&&T.indexOf("Unknown SID")>0?(this.m=3,Le(12)):(this.m=0,Le(13)),Gn(this),li(this)}}}catch{}finally{}};function Zg(g){if(!Ah(g))return g.g.la();const v=un(g.g);if(v==="")return"";let T="";const k=v.length,W=Pi(g.g)==4;if(!g.h.i){if(typeof TextDecoder>"u")return Gn(g),li(g),"";g.h.i=new l.TextDecoder}for(let Z=0;Z<k;Z++)g.h.h=!0,T+=g.h.i.decode(v[Z],{stream:!(W&&Z==k-1)});return v.length=0,g.h.g+=T,g.C=0,g.h.g}function Ah(g){return g.g?g.v=="GET"&&g.M!=2&&g.j.Aa:!1}function Ch(g,v){var T=g.C,k=v.indexOf(`
`,T);return k==-1?tn:(T=Number(v.substring(T,k)),isNaN(T)?Ve:(k+=1,k+T>v.length?tn:(v=v.slice(k,k+T),g.C=k+T,v)))}Ni.prototype.cancel=function(){this.K=!0,Gn(this)};function ts(g){g.T=Date.now()+g.H,So(g,g.H)}function So(g,v){if(g.D!=null)throw Error("WatchDog timer not null");g.D=Xi(f(g.aa,g),v)}function es(g){g.D&&(l.clearTimeout(g.D),g.D=null)}Ni.prototype.aa=function(){this.D=null;const g=Date.now();g-this.T>=0?(xa(this.i,this.B),this.M!=2&&(Ki(),Le(17)),Gn(this),this.m=2,li(this)):So(this,this.T-g)};function li(g){g.j.I==0||g.K||zh(g.j,g)}function Gn(g){es(g);var v=g.O;v&&typeof v.dispose=="function"&&v.dispose(),g.O=null,Ql(g.V),g.g&&(v=g.g,g.g=null,v.abort(),v.dispose())}function ns(g,v){try{var T=g.j;if(T.I!=0&&(T.g==g||ss(T.h,g))){if(!g.L&&ss(T.h,g)&&T.I==3){try{var k=T.Ba.g.parse(v)}catch{k=null}if(Array.isArray(k)&&k.length==3){var W=k;if(W[0]==0){t:if(!T.v){if(T.g)if(T.g.F+3e3<g.F)ko(T),br(T);else break t;Na(T),Le(18)}}else T.xa=W[1],0<T.xa-T.K&&W[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=Xi(f(T.Va,T),6e3));is(T.h)<=1&&T.ta&&(T.ta=void 0)}else us(T,11)}else if((g.L||T.g==g)&&ko(T),!P(v))for(W=T.Ba.g.parse(v),v=0;v<W.length;v++){let te=W[v];const ve=te[0];if(!(ve<=T.K))if(T.K=ve,te=te[1],T.I==2)if(te[0]=="c"){T.M=te[1],T.ba=te[2];const hi=te[3];hi!=null&&(T.ka=hi,T.j.info("VER="+T.ka));const hs=te[4];hs!=null&&(T.za=hs,T.j.info("SVER="+T.za));const zi=te[5];zi!=null&&typeof zi=="number"&&zi>0&&(k=1.5*zi,T.O=k,T.j.info("backChannelRequestTimeoutMs_="+k)),k=T;const Li=g.g;if(Li){const ka=Li.g?Li.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ka){var Z=k.h;Z.g||ka.indexOf("spdy")==-1&&ka.indexOf("quic")==-1&&ka.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(ec(Z,Z.h),Z.h=null))}if(k.G){const Oo=Li.g?Li.g.getResponseHeader("X-HTTP-Session-Id"):null;Oo&&(k.wa=Oo,se(k.J,k.G,Oo))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-g.F,T.j.info("Handshake RTT: "+T.T+"ms")),k=T;var dt=g;if(k.na=Bh(k,k.L?k.ba:null,k.W),dt.L){nc(k.h,dt);var Mt=dt,Ie=k.O;Ie&&(Mt.H=Ie),Mt.D&&(es(Mt),ts(Mt)),k.g=dt}else Mh(k);T.i.length>0&&cs(T)}else te[0]!="stop"&&te[0]!="close"||us(T,7);else T.I==3&&(te[0]=="stop"||te[0]=="close"?te[0]=="stop"?us(T,7):hc(T):te[0]!="noop"&&T.l&&T.l.qa(te),T.A=0)}}Ki(4)}catch{}}var Be=class{constructor(g,v){this.g=g,this.map=v}};function Zl(g){this.l=g||10,l.PerformanceNavigationTiming?(g=l.performance.getEntriesByType("navigation"),g=g.length>0&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function tc(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function is(g){return g.h?1:g.g?g.g.size:0}function ss(g,v){return g.h?g.h==v:g.g?g.g.has(v):!1}function ec(g,v){g.g?g.g.add(v):g.h=v}function nc(g,v){g.h&&g.h==v?g.h=null:g.g&&g.g.has(v)&&g.g.delete(v)}Zl.prototype.cancel=function(){if(this.i=ic(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function ic(g){if(g.h!=null)return g.i.concat(g.h.G);if(g.g!=null&&g.g.size!==0){let v=g.i;for(const T of g.g.values())v=v.concat(T.G);return v}return x(g.i)}var Ih=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function wo(g,v){if(g){g=g.split("&");for(let T=0;T<g.length;T++){const k=g[T].indexOf("=");let W,Z=null;k>=0?(W=g[T].substring(0,k),Z=g[T].substring(k+1)):W=g[T],v(W,Z?decodeURIComponent(Z.replace(/\+/g," ")):"")}}}function $n(g){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;g instanceof $n?(this.l=g.l,en(this,g.j),this.o=g.o,this.g=g.g,hr(this,g.u),this.h=g.h,sc(this,kh(g.i)),this.m=g.m):g&&(v=String(g).match(Ih))?(this.l=!1,en(this,v[1]||"",!0),this.o=rs(v[2]||""),this.g=rs(v[3]||"",!0),hr(this,v[4]),this.h=rs(v[5]||"",!0),sc(this,v[6]||"",!0),this.m=rs(v[7]||"")):(this.l=!1,this.i=new fr(null,this.l))}$n.prototype.toString=function(){const g=[];var v=this.j;v&&g.push(wa(v,Ao,!0),":");var T=this.g;return(T||v=="file")&&(g.push("//"),(v=this.o)&&g.push(wa(v,Ao,!0),"@"),g.push(Rs(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&g.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&g.push("/"),g.push(wa(T,T.charAt(0)=="/"?rc:Rh,!0))),(T=this.i.toString())&&g.push("?",T),(T=this.m)&&g.push("#",wa(T,Dh)),g.join("")},$n.prototype.resolve=function(g){const v=Ue(this);let T=!!g.j;T?en(v,g.j):T=!!g.o,T?v.o=g.o:T=!!g.g,T?v.g=g.g:T=g.u!=null;var k=g.h;if(T)hr(v,g.u);else if(T=!!g.h){if(k.charAt(0)!="/")if(this.g&&!this.h)k="/"+k;else{var W=v.h.lastIndexOf("/");W!=-1&&(k=v.h.slice(0,W+1)+k)}if(W=k,W==".."||W==".")k="";else if(W.indexOf("./")!=-1||W.indexOf("/.")!=-1){k=W.lastIndexOf("/",0)==0,W=W.split("/");const Z=[];for(let dt=0;dt<W.length;){const Mt=W[dt++];Mt=="."?k&&dt==W.length&&Z.push(""):Mt==".."?((Z.length>1||Z.length==1&&Z[0]!="")&&Z.pop(),k&&dt==W.length&&Z.push("")):(Z.push(Mt),k=!0)}k=Z.join("/")}else k=W}return T?v.h=k:T=g.i.toString()!=="",T?sc(v,kh(g.i)):T=!!g.m,T&&(v.m=g.m),v};function Ue(g){return new $n(g)}function en(g,v,T){g.j=T?rs(v,!0):v,g.j&&(g.j=g.j.replace(/:$/,""))}function hr(g,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);g.u=v}else g.u=null}function sc(g,v,T){v instanceof fr?(g.i=v,Io(g.i,g.l)):(T||(v=wa(v,dr)),g.i=new fr(v,g.l))}function se(g,v,T){g.i.set(v,T)}function Sa(g){return se(g,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),g}function rs(g,v){return g?v?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function wa(g,v,T){return typeof g=="string"?(g=encodeURI(g).replace(v,Mn),T&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function Mn(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var Ao=/[#\/\?@]/g,Rh=/[#\?:]/g,rc=/[#\?]/g,dr=/[#\?@]/g,Dh=/#/g;function fr(g,v){this.h=this.g=null,this.i=g||null,this.j=!!v}function Pn(g){g.g||(g.g=new Map,g.h=0,g.i&&wo(g.i,function(v,T){g.add(decodeURIComponent(v.replace(/\+/g," ")),T)}))}n=fr.prototype,n.add=function(g,v){Pn(this),this.i=null,g=gr(this,g);let T=this.g.get(g);return T||this.g.set(g,T=[]),T.push(v),this.h+=1,this};function Nh(g,v){Pn(g),v=gr(g,v),g.g.has(v)&&(g.i=null,g.h-=g.g.get(v).length,g.g.delete(v))}function ac(g,v){return Pn(g),v=gr(g,v),g.g.has(v)}n.forEach=function(g,v){Pn(this),this.g.forEach(function(T,k){T.forEach(function(W){g.call(v,W,k,this)},this)},this)};function oc(g,v){Pn(g);let T=[];if(typeof v=="string")ac(g,v)&&(T=T.concat(g.g.get(gr(g,v))));else for(g=Array.from(g.g.values()),v=0;v<g.length;v++)T=T.concat(g[v]);return T}n.set=function(g,v){return Pn(this),this.i=null,g=gr(this,g),ac(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[v]),this.h+=1,this},n.get=function(g,v){return g?(g=oc(this,g),g.length>0?String(g[0]):v):v};function Co(g,v,T){Nh(g,v),T.length>0&&(g.i=null,g.g.set(gr(g,v),x(T)),g.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],v=Array.from(this.g.keys());for(let k=0;k<v.length;k++){var T=v[k];const W=Rs(T);T=oc(this,T);for(let Z=0;Z<T.length;Z++){let dt=W;T[Z]!==""&&(dt+="="+Rs(T[Z])),g.push(dt)}}return this.i=g.join("&")};function kh(g){const v=new fr;return v.i=g.i,g.g&&(v.g=new Map(g.g),v.h=g.h),v}function gr(g,v){return v=String(v),g.j&&(v=v.toLowerCase()),v}function Io(g,v){v&&!g.j&&(Pn(g),g.i=null,g.g.forEach(function(T,k){const W=k.toLowerCase();k!=W&&(Nh(this,k),Co(this,W,T))},g)),g.j=v}function Oi(g,v){const T=new Di;if(l.Image){const k=new Image;k.onload=p(ci,T,"TestLoadImage: loaded",!0,v,k),k.onerror=p(ci,T,"TestLoadImage: error",!1,v,k),k.onabort=p(ci,T,"TestLoadImage: abort",!1,v,k),k.ontimeout=p(ci,T,"TestLoadImage: timeout",!1,v,k),l.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=g}else v(!1)}function lc(g,v){const T=new Di,k=new AbortController,W=setTimeout(()=>{k.abort(),ci(T,"TestPingServer: timeout",!1,v)},1e4);fetch(g,{signal:k.signal}).then(Z=>{clearTimeout(W),Z.ok?ci(T,"TestPingServer: ok",!0,v):ci(T,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(W),ci(T,"TestPingServer: error",!1,v)})}function ci(g,v,T,k,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),k(T)}catch{}}function pr(){this.g=new _h}function as(g){this.i=g.Sb||null,this.h=g.ab||!1}y(as,vh),as.prototype.g=function(){return new Aa(this.i,this.h)};function Aa(g,v){ze.call(this),this.H=g,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}y(Aa,ze),n=Aa.prototype,n.open=function(g,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=g,this.D=v,this.readyState=1,Mi(this)},n.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};g&&(v.body=g),(this.H||l).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,mr(this)),this.readyState=0},n.Pa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,Mi(this)),this.g&&(this.readyState=3,Mi(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ro(this)}else g.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ro(g){g.j.read().then(g.Ma.bind(g)).catch(g.ga.bind(g))}n.Ma=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var v=g.value?g.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!g.done}))&&(this.response=this.responseText+=v)}g.done?mr(this):Mi(this),this.readyState==3&&Ro(this)}},n.Oa=function(g){this.g&&(this.response=this.responseText=g,mr(this))},n.Na=function(g){this.g&&(this.response=g,mr(this))},n.ga=function(){this.g&&mr(this)};function mr(g){g.readyState=4,g.l=null,g.j=null,g.B=null,Mi(g)}n.setRequestHeader=function(g,v){this.A.append(g,v)},n.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],v=this.h.entries();for(var T=v.next();!T.done;)T=T.value,g.push(T[0]+": "+T[1]),T=v.next();return g.join(`\r
`)};function Mi(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(Aa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function ui(g){let v="";return Rt(g,function(T,k){v+=k,v+=":",v+=T,v+=`\r
`}),v}function Ca(g,v,T){t:{for(k in T){var k=!1;break t}k=!0}k||(T=ui(T),typeof g=="string"?T!=null&&Rs(T):se(g,v,T))}function le(g){ze.call(this),this.headers=new Map,this.L=g||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}y(le,ze);var os=/^https?$/i,cc=["POST","PUT"];n=le.prototype,n.Fa=function(g){this.H=g},n.ea=function(g,v,T,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);v=v?v.toUpperCase():"GET",this.D=g,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Jl.g(),this.g.onreadystatechange=_(f(this.Ca,this));try{this.B=!0,this.g.open(v,String(g),!0),this.B=!1}catch(Z){Ia(this,Z);return}if(g=T||"",T=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var W in k)T.set(W,k[W]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const Z of k.keys())T.set(Z,k.get(Z));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(T.keys()).find(Z=>Z.toLowerCase()=="content-type"),W=l.FormData&&g instanceof l.FormData,!(Array.prototype.indexOf.call(cc,v,void 0)>=0)||k||W||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,dt]of T)this.g.setRequestHeader(Z,dt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(g),this.v=!1}catch(Z){Ia(this,Z)}};function Ia(g,v){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=v,g.o=5,uc(g),Ds(g)}function uc(g){g.A||(g.A=!0,Ye(g,"complete"),Ye(g,"error"))}n.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=g||7,Ye(this,"complete"),Ye(this,"abort"),Ds(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ds(this,!0)),le.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Ra(this):this.Xa())},n.Xa=function(){Ra(this)};function Ra(g){if(g.h&&typeof o<"u"){if(g.v&&Pi(g)==4)setTimeout(g.Ca.bind(g),0);else if(Ye(g,"readystatechange"),Pi(g)==4){g.h=!1;try{const Z=g.ca();t:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break t;default:v=!1}var T;if(!(T=v)){var k;if(k=Z===0){let dt=String(g.D).match(Ih)[1]||null;!dt&&l.self&&l.self.location&&(dt=l.self.location.protocol.slice(0,-1)),k=!os.test(dt?dt.toLowerCase():"")}T=k}if(T)Ye(g,"complete"),Ye(g,"success");else{g.o=6;try{var W=Pi(g)>2?g.g.statusText:""}catch{W=""}g.l=W+" ["+g.ca()+"]",uc(g)}}finally{Ds(g)}}}}function Ds(g,v){if(g.g){g.m&&(clearTimeout(g.m),g.m=null);const T=g.g;g.g=null,v||Ye(g,"ready");try{T.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Pi(g){return g.g?g.g.readyState:0}n.ca=function(){try{return Pi(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(g){if(this.g){var v=this.g.responseText;return g&&v.indexOf(g)==0&&(v=v.substring(g.length)),Qg(v)}};function un(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.F){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function Ns(g){const v={};g=(g.g&&Pi(g)>=2&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<g.length;k++){if(P(g[k]))continue;var T=wh(g[k]);const W=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const Z=v[W]||[];v[W]=Z,Z.push(T)}Dt(v,function(k){return k.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ls(g,v,T){return T&&T.internalChannelParams&&T.internalChannelParams[g]||v}function yr(g){this.za=0,this.i=[],this.j=new Di,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ls("failFast",!1,g),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ls("baseRetryDelayMs",5e3,g),this.Za=ls("retryDelaySeedMs",1e4,g),this.Ta=ls("forwardChannelMaxRetries",2,g),this.va=ls("forwardChannelRequestTimeoutMs",2e4,g),this.ma=g&&g.xmlHttpFactory||void 0,this.Ua=g&&g.Rb||void 0,this.Aa=g&&g.useFetchStreams||!1,this.O=void 0,this.L=g&&g.supportsCrossDomainXhr||!1,this.M="",this.h=new Zl(g&&g.concurrentRequestLimit),this.Ba=new pr,this.S=g&&g.fastHandshake||!1,this.R=g&&g.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=g&&g.Pb||!1,g&&g.ua&&this.j.ua(),g&&g.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&g&&g.detectBufferingProxy||!1,this.ia=void 0,g&&g.longPollingTimeout&&g.longPollingTimeout>0&&(this.ia=g.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=yr.prototype,n.ka=8,n.I=1,n.connect=function(g,v,T,k){Le(0),this.W=g,this.H=v||{},T&&k!==void 0&&(this.H.OSID=T,this.H.OAID=k),this.F=this.X,this.J=Bh(this,null,this.W),cs(this)};function hc(g){if(Do(g),g.I==3){var v=g.V++,T=Ue(g.J);if(se(T,"SID",g.M),se(T,"RID",v),se(T,"TYPE","terminate"),Da(g,T),v=new Ni(g,g.j,v),v.M=2,v.A=Sa(Ue(T)),T=!1,l.navigator&&l.navigator.sendBeacon)try{T=l.navigator.sendBeacon(v.A.toString(),"")}catch{}!T&&l.Image&&(new Image().src=v.A,T=!0),T||(v.g=Uh(v.j,null),v.g.ea(v.A)),v.F=Date.now(),ts(v)}Vh(g)}function br(g){g.g&&(fc(g),g.g.cancel(),g.g=null)}function Do(g){br(g),g.v&&(l.clearTimeout(g.v),g.v=null),ko(g),g.h.cancel(),g.m&&(typeof g.m=="number"&&l.clearTimeout(g.m),g.m=null)}function cs(g){if(!tc(g.h)&&!g.m){g.m=!0;var v=g.Ea;H||I(),Y||(H(),Y=!0),D.add(v,g),g.D=0}}function No(g,v){return is(g.h)>=g.h.j-(g.m?1:0)?!1:g.m?(g.i=v.G.concat(g.i),!0):g.I==1||g.I==2||g.D>=(g.Sa?0:g.Ta)?!1:(g.m=Xi(f(g.Ea,g,v),Lh(g,g.D)),g.D++,!0)}n.Ea=function(g){if(this.m)if(this.m=null,this.I==1){if(!g){this.V=Math.floor(Math.random()*1e5),g=this.V++;const W=new Ni(this,this.j,g);let Z=this.o;if(this.U&&(Z?(Z=U(Z),lt(Z,this.U)):Z=this.U),this.u!==null||this.R||(W.J=Z,Z=null),this.S)t:{for(var v=0,T=0;T<this.i.length;T++){e:{var k=this.i[T];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break e}k=void 0}if(k===void 0)break;if(v+=k,v>4096){v=T;break t}if(v===4096||T===this.i.length-1){v=T+1;break t}}v=1e3}else v=1e3;v=Oh(this,W,v),T=Ue(this.J),se(T,"RID",g),se(T,"CVER",22),this.G&&se(T,"X-HTTP-Session-Id",this.G),Da(this,T),Z&&(this.R?v="headers="+Rs(ui(Z))+"&"+v:this.u&&Ca(T,this.u,Z)),ec(this.h,W),this.Ra&&se(T,"TYPE","init"),this.S?(se(T,"$req",v),se(T,"SID","null"),W.U=!0,Zi(W,T,null)):Zi(W,T,v),this.I=2}}else this.I==3&&(g?dc(this,g):this.i.length==0||tc(this.h)||dc(this))};function dc(g,v){var T;v?T=v.l:T=g.V++;const k=Ue(g.J);se(k,"SID",g.M),se(k,"RID",T),se(k,"AID",g.K),Da(g,k),g.u&&g.o&&Ca(k,g.u,g.o),T=new Ni(g,g.j,T,g.D+1),g.u===null&&(T.J=g.o),v&&(g.i=v.G.concat(g.i)),v=Oh(g,T,1e3),T.H=Math.round(g.va*.5)+Math.round(g.va*.5*Math.random()),ec(g.h,T),Zi(T,k,v)}function Da(g,v){g.H&&Rt(g.H,function(T,k){se(v,k,T)}),g.l&&Rt({},function(T,k){se(v,k,T)})}function Oh(g,v,T){T=Math.min(g.i.length,T);const k=g.l?f(g.l.Ka,g.l,g):null;t:{var W=g.i;let Mt=-1;for(;;){const Ie=["count="+T];Mt==-1?T>0?(Mt=W[0].g,Ie.push("ofs="+Mt)):Mt=0:Ie.push("ofs="+Mt);let te=!0;for(let ve=0;ve<T;ve++){var Z=W[ve].g;const hi=W[ve].map;if(Z-=Mt,Z<0)Mt=Math.max(0,W[ve].g-100),te=!1;else try{Z="req"+Z+"_"||"";try{var dt=hi instanceof Map?hi:Object.entries(hi);for(const[hs,zi]of dt){let Li=zi;u(zi)&&(Li=ur(zi)),Ie.push(Z+hs+"="+encodeURIComponent(Li))}}catch(hs){throw Ie.push(Z+"type="+encodeURIComponent("_badmap")),hs}}catch{k&&k(hi)}}if(te){dt=Ie.join("&");break t}}dt=void 0}return g=g.i.splice(0,T),v.G=g,dt}function Mh(g){if(!g.g&&!g.v){g.Y=1;var v=g.Da;H||I(),Y||(H(),Y=!0),D.add(v,g),g.A=0}}function Na(g){return g.g||g.v||g.A>=3?!1:(g.Y++,g.v=Xi(f(g.Da,g),Lh(g,g.A)),g.A++,!0)}n.Da=function(){if(this.v=null,Ph(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var g=4*this.T;this.j.info("BP detection timer enabled: "+g),this.B=Xi(f(this.Wa,this),g)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Le(10),br(this),Ph(this))};function fc(g){g.B!=null&&(l.clearTimeout(g.B),g.B=null)}function Ph(g){g.g=new Ni(g,g.j,"rpc",g.Y),g.u===null&&(g.g.J=g.o),g.g.P=0;var v=Ue(g.na);se(v,"RID","rpc"),se(v,"SID",g.M),se(v,"AID",g.K),se(v,"CI",g.F?"0":"1"),!g.F&&g.ia&&se(v,"TO",g.ia),se(v,"TYPE","xmlhttp"),Da(g,v),g.u&&g.o&&Ca(v,g.u,g.o),g.O&&(g.g.H=g.O);var T=g.g;g=g.ba,T.M=1,T.A=Sa(Ue(v)),T.u=null,T.R=!0,To(T,g)}n.Va=function(){this.C!=null&&(this.C=null,br(this),Na(this),Le(19))};function ko(g){g.C!=null&&(l.clearTimeout(g.C),g.C=null)}function zh(g,v){var T=null;if(g.g==v){ko(g),fc(g),g.g=null;var k=2}else if(ss(g.h,v))T=v.G,nc(g.h,v),k=1;else return;if(g.I!=0){if(v.o)if(k==1){T=v.u?v.u.length:0,v=Date.now()-v.F;var W=g.D;k=Eo(),Ye(k,new Qi(k,T)),cs(g)}else Mh(g);else if(W=v.m,W==3||W==0&&v.X>0||!(k==1&&No(g,v)||k==2&&Na(g)))switch(T&&T.length>0&&(v=g.h,v.i=v.i.concat(T)),W){case 1:us(g,5);break;case 4:us(g,10);break;case 3:us(g,6);break;default:us(g,2)}}}function Lh(g,v){let T=g.Qa+Math.floor(Math.random()*g.Za);return g.isActive()||(T*=2),T*v}function us(g,v){if(g.j.info("Error code "+v),v==2){var T=f(g.bb,g),k=g.Ua;const W=!k;k=new $n(k||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||en(k,"https"),Sa(k),W?Oi(k.toString(),T):lc(k.toString(),T)}else Le(2);g.I=0,g.l&&g.l.pa(v),Vh(g),Do(g)}n.bb=function(g){g?(this.j.info("Successfully pinged google.com"),Le(2)):(this.j.info("Failed to ping google.com"),Le(1))};function Vh(g){if(g.I=0,g.ja=[],g.l){const v=ic(g.h);(v.length!=0||g.i.length!=0)&&(w(g.ja,v),w(g.ja,g.i),g.h.i.length=0,x(g.i),g.i.length=0),g.l.oa()}}function Bh(g,v,T){var k=T instanceof $n?Ue(T):new $n(T);if(k.g!="")v&&(k.g=v+"."+k.g),hr(k,k.u);else{var W=l.location;k=W.protocol,v=v?v+"."+W.hostname:W.hostname,W=+W.port;const Z=new $n(null);k&&en(Z,k),v&&(Z.g=v),W&&hr(Z,W),T&&(Z.h=T),k=Z}return T=g.G,v=g.wa,T&&v&&se(k,T,v),se(k,"VER",g.ka),Da(g,k),k}function Uh(g,v,T){if(v&&!g.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=g.Aa&&!g.ma?new le(new as({ab:T})):new le(g.ma),v.Fa(g.L),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function jh(){}n=jh.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function _r(){}_r.prototype.g=function(g,v){return new In(g,v)};function In(g,v){ze.call(this),this.g=new yr(v),this.l=g,this.h=v&&v.messageUrlParams||null,g=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(g?g["X-WebChannel-Content-Type"]=v.messageContentType:g={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(g?g["X-WebChannel-Client-Profile"]=v.sa:g={"X-WebChannel-Client-Profile":v.sa}),this.g.U=g,(g=v&&v.Qb)&&!P(g)&&(this.g.u=g),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!P(v)&&(this.g.G=v,g=this.h,g!==null&&v in g&&(g=this.h,v in g&&delete g[v])),this.j=new ks(this)}y(In,ze),In.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},In.prototype.close=function(){hc(this.g)},In.prototype.o=function(g){var v=this.g;if(typeof g=="string"){var T={};T.__data__=g,g=T}else this.v&&(T={},T.__data__=ur(g),g=T);v.i.push(new Be(v.Ya++,g)),v.I==3&&cs(v)},In.prototype.N=function(){this.g.l=null,delete this.j,hc(this.g),delete this.g,In.Z.N.call(this)};function Fh(g){cn.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var v=g.__sm__;if(v){t:{for(const T in v){g=T;break t}g=void 0}(this.i=g)&&(g=this.i,v=v!==null&&g in v?v[g]:void 0),this.data=v}else this.data=g}y(Fh,cn);function Hh(){oi.call(this),this.status=1}y(Hh,oi);function ks(g){this.g=g}y(ks,jh),ks.prototype.ra=function(){Ye(this.g,"a")},ks.prototype.qa=function(g){Ye(this.g,new Fh(g))},ks.prototype.pa=function(g){Ye(this.g,new Hh)},ks.prototype.oa=function(){Ye(this.g,"b")},_r.prototype.createWebChannel=_r.prototype.g,In.prototype.send=In.prototype.o,In.prototype.open=In.prototype.m,In.prototype.close=In.prototype.close,CA=function(){return new _r},AA=function(){return Eo()},wA=Ce,Gy={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Ea.NO_ERROR=0,Ea.TIMEOUT=8,Ea.HTTP_ERROR=6,xf=Ea,Xl.COMPLETE="complete",SA=Xl,xh.EventType=Ri,Ri.OPEN="a",Ri.CLOSE="b",Ri.ERROR="c",Ri.MESSAGE="d",ze.prototype.listen=ze.prototype.J,lu=xh,le.prototype.listenOnce=le.prototype.K,le.prototype.getLastError=le.prototype.Ha,le.prototype.getLastErrorCode=le.prototype.ya,le.prototype.getStatus=le.prototype.ca,le.prototype.getResponseJson=le.prototype.La,le.prototype.getResponseText=le.prototype.la,le.prototype.send=le.prototype.ea,le.prototype.setWithCredentials=le.prototype.Fa,TA=le}).apply(typeof Yd<"u"?Yd:typeof self<"u"?self:typeof window<"u"?window:{});const xT="@firebase/firestore",ET="4.9.2";let En=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};En.UNAUTHENTICATED=new En(null),En.GOOGLE_CREDENTIALS=new En("google-credentials-uid"),En.FIRST_PARTY=new En("first-party-uid"),En.MOCK_USER=new En("mock-user");let Vl="12.3.0";const fo=new N0("@firebase/firestore");function ul(){return fo.logLevel}function pt(n,...t){if(fo.logLevel<=Ft.DEBUG){const e=t.map(F0);fo.debug(`Firestore (${Vl}): ${n}`,...e)}}function ir(n,...t){if(fo.logLevel<=Ft.ERROR){const e=t.map(F0);fo.error(`Firestore (${Vl}): ${n}`,...e)}}function Tl(n,...t){if(fo.logLevel<=Ft.WARN){const e=t.map(F0);fo.warn(`Firestore (${Vl}): ${n}`,...e)}}function F0(n){if(typeof n=="string")return n;try{return(function(e){return JSON.stringify(e)})(n)}catch{return n}}function Ct(n,t,e){let i="Unexpected state";typeof t=="string"?i=t:e=t,IA(n,i,e)}function IA(n,t,e){let i=`FIRESTORE (${Vl}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{i+=" CONTEXT: "+JSON.stringify(e)}catch{i+=" CONTEXT: "+e}throw ir(i),new Error(i)}function ie(n,t,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,n||IA(t,r,i)}function Ot(n,t){return n}const st={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ft extends ar{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ea{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}class RA{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class lP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(En.UNAUTHENTICATED)))}shutdown(){}}class cP{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class uP{constructor(t){this.t=t,this.currentUser=En.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){ie(this.o===void 0,42304);let i=this.i;const r=d=>this.i!==i?(i=this.i,e(d)):Promise.resolve();let o=new ea;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ea,t.enqueueRetryable((()=>r(this.currentUser)))};const l=()=>{const d=o;t.enqueueRetryable((async()=>{await d.promise,await r(this.currentUser)}))},u=d=>{pt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((d=>u(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?u(d):(pt("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ea)}}),0),l()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((i=>this.i!==t?(pt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ie(typeof i.accessToken=="string",31837,{l:i}),new RA(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return ie(t===null||typeof t=="string",2055,{h:t}),new En(t)}}class hP{constructor(t,e,i){this.P=t,this.T=e,this.I=i,this.type="FirstParty",this.user=En.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class dP{constructor(t,e,i){this.P=t,this.T=e,this.I=i}getToken(){return Promise.resolve(new hP(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(En.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class TT{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class fP{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,ti(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){ie(this.o===void 0,3512);const i=o=>{o.error!=null&&pt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.m;return this.m=o.token,pt("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable((()=>i(o)))};const r=o=>{pt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>r(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?r(o):pt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new TT(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(ie(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new TT(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function gP(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class H0{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=gP(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<e&&(i+=t.charAt(r[o]%62))}return i}}function Ht(n,t){return n<t?-1:n>t?1:0}function $y(n,t){const e=Math.min(n.length,t.length);for(let i=0;i<e;i++){const r=n.charAt(i),o=t.charAt(i);if(r!==o)return oy(r)===oy(o)?Ht(r,o):oy(r)?1:-1}return Ht(n.length,t.length)}const pP=55296,mP=57343;function oy(n){const t=n.charCodeAt(0);return t>=pP&&t<=mP}function Sl(n,t,e){return n.length===t.length&&n.every(((i,r)=>e(i,t[r])))}const ST="__name__";class _s{constructor(t,e,i){e===void 0?e=0:e>t.length&&Ct(637,{offset:e,range:t.length}),i===void 0?i=t.length-e:i>t.length-e&&Ct(1746,{length:i,range:t.length-e}),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return _s.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof _s?t.forEach((i=>{e.push(i)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const o=_s.compareSegments(t.get(r),e.get(r));if(o!==0)return o}return Ht(t.length,e.length)}static compareSegments(t,e){const i=_s.isNumericId(t),r=_s.isNumericId(e);return i&&!r?-1:!i&&r?1:i&&r?_s.extractNumericId(t).compare(_s.extractNumericId(e)):$y(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ta.fromString(t.substring(4,t.length-2))}}class fe extends _s{construct(t,e,i){return new fe(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new ft(st.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((r=>r.length>0)))}return new fe(e)}static emptyPath(){return new fe([])}}const yP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class mn extends _s{construct(t,e,i){return new mn(t,e,i)}static isValidIdentifier(t){return yP.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),mn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ST}static keyField(){return new mn([ST])}static fromServerFormat(t){const e=[];let i="",r=0;const o=()=>{if(i.length===0)throw new ft(st.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let l=!1;for(;r<t.length;){const u=t[r];if(u==="\\"){if(r+1===t.length)throw new ft(st.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const d=t[r+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new ft(st.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=d,r+=2}else u==="`"?(l=!l,r++):u!=="."||l?(i+=u,r++):(o(),r++)}if(o(),l)throw new ft(st.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new mn(e)}static emptyPath(){return new mn([])}}class St{constructor(t){this.path=t}static fromPath(t){return new St(fe.fromString(t))}static fromName(t){return new St(fe.fromString(t).popFirst(5))}static empty(){return new St(fe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&fe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return fe.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new St(new fe(t.slice()))}}function DA(n,t,e){if(!e)throw new ft(st.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function bP(n,t,e,i){if(t===!0&&i===!0)throw new ft(st.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function wT(n){if(!St.isDocumentKey(n))throw new ft(st.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function AT(n){if(St.isDocumentKey(n))throw new ft(st.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function NA(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function yg(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(i){return i.constructor?i.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":Ct(12329,{type:typeof n})}function ii(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new ft(st.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=yg(n);throw new ft(st.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function We(n,t){const e={typeString:n};return t&&(e.value=t),e}function ah(n,t){if(!NA(n))throw new ft(st.INVALID_ARGUMENT,"JSON must be an object");let e;for(const i in t)if(t[i]){const r=t[i].typeString,o="value"in t[i]?{value:t[i].value}:void 0;if(!(i in n)){e=`JSON missing required field: '${i}'`;break}const l=n[i];if(r&&typeof l!==r){e=`JSON field '${i}' must be a ${r}.`;break}if(o!==void 0&&l!==o.value){e=`Expected '${i}' field to equal '${o.value}'`;break}}if(e)throw new ft(st.INVALID_ARGUMENT,e);return!0}const CT=-62135596800,IT=1e6;class be{static now(){return be.fromMillis(Date.now())}static fromDate(t){return be.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor((t-1e3*e)*IT);return new be(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new ft(st.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new ft(st.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<CT)throw new ft(st.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ft(st.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/IT}_compareTo(t){return this.seconds===t.seconds?Ht(this.nanoseconds,t.nanoseconds):Ht(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:be._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(ah(t,be._jsonSchema))return new be(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-CT;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}be._jsonSchemaVersion="firestore/timestamp/1.0",be._jsonSchema={type:We("string",be._jsonSchemaVersion),seconds:We("number"),nanoseconds:We("number")};class Nt{static fromTimestamp(t){return new Nt(t)}static min(){return new Nt(new be(0,0))}static max(){return new Nt(new be(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Nu=-1;function _P(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Nt.fromTimestamp(i===1e9?new be(e+1,0):new be(e,i));return new aa(r,St.empty(),t)}function vP(n){return new aa(n.readTime,n.key,Nu)}class aa{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new aa(Nt.min(),St.empty(),Nu)}static max(){return new aa(Nt.max(),St.empty(),Nu)}}function xP(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=St.comparator(n.documentKey,t.documentKey),e!==0?e:Ht(n.largestBatchId,t.largestBatchId))}const EP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class TP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Bl(n){if(n.code!==st.FAILED_PRECONDITION||n.message!==EP)throw n;pt("LocalStore","Unexpectedly lost primary lease")}class at{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Ct(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new at(((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,r)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof at?e:at.resolve(e)}catch(e){return at.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):at.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):at.reject(e)}static resolve(t){return new at(((e,i)=>{e(t)}))}static reject(t){return new at(((e,i)=>{i(t)}))}static waitFor(t){return new at(((e,i)=>{let r=0,o=0,l=!1;t.forEach((u=>{++r,u.next((()=>{++o,l&&o===r&&e()}),(d=>i(d)))})),l=!0,o===r&&e()}))}static or(t){let e=at.resolve(!1);for(const i of t)e=e.next((r=>r?at.resolve(r):i()));return e}static forEach(t,e){const i=[];return t.forEach(((r,o)=>{i.push(e.call(this,r,o))})),this.waitFor(i)}static mapArray(t,e){return new at(((i,r)=>{const o=t.length,l=new Array(o);let u=0;for(let d=0;d<o;d++){const f=d;e(t[f]).next((p=>{l[f]=p,++u,u===o&&i(l)}),(p=>r(p)))}}))}static doWhile(t,e){return new at(((i,r)=>{const o=()=>{t()===!0?e().next((()=>{o()}),r):i()};o()}))}}function SP(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function Ul(n){return n.name==="IndexedDbTransactionError"}class bg{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>e.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}bg.ce=-1;const q0=-1;function _g(n){return n==null}function Vf(n){return n===0&&1/n==-1/0}function wP(n){return typeof n=="number"&&Number.isInteger(n)&&!Vf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const kA="";function AP(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=RT(t)),t=CP(n.get(e),t);return RT(t)}function CP(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":e+="";break;case kA:e+="";break;default:e+=o}}return e}function RT(n){return n+kA+""}function DT(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function ma(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function OA(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class Ee{constructor(t,e){this.comparator=t,this.root=e||pn.EMPTY}insert(t,e){return new Ee(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,pn.BLACK,null,null))}remove(t){return new Ee(this.comparator,this.root.remove(t,this.comparator).copy(null,null,pn.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,i)=>(t(e,i),!1)))}toString(){const t=[];return this.inorderTraversal(((e,i)=>(t.push(`${e}:${i}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Kd(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Kd(this.root,t,this.comparator,!1)}getReverseIterator(){return new Kd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Kd(this.root,t,this.comparator,!0)}}class Kd{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class pn{constructor(t,e,i,r,o){this.key=t,this.value=e,this.color=i??pn.RED,this.left=r??pn.EMPTY,this.right=o??pn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,o){return new pn(t??this.key,e??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,i),null):o===0?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return pn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),e(t,r.key)===0){if(r.right.isEmpty())return pn.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,pn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,pn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ct(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ct(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Ct(27949);return t+(this.isRed()?0:1)}}pn.EMPTY=null,pn.RED=!0,pn.BLACK=!1;pn.EMPTY=new class{constructor(){this.size=0}get key(){throw Ct(57766)}get value(){throw Ct(16141)}get color(){throw Ct(16727)}get left(){throw Ct(29726)}get right(){throw Ct(36894)}copy(t,e,i,r,o){return this}insert(t,e,i){return new pn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Xe{constructor(t){this.comparator=t,this.data=new Ee(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,i)=>(t(e),!1)))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new NT(this.data.getIterator())}getIteratorFrom(t){return new NT(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((i=>{e=e.add(i)})),e}isEqual(t){if(!(t instanceof Xe)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new Xe(this.comparator);return e.data=t,e}}class NT{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ei{constructor(t){this.fields=t,t.sort(mn.comparator)}static empty(){return new ei([])}unionWith(t){let e=new Xe(mn.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new ei(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Sl(this.fields,t.fields,((e,i)=>e.isEqual(i)))}}class MA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class bn{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new MA("Invalid base64 string: "+o):o}})(t);return new bn(e)}static fromUint8Array(t){const e=(function(r){let o="";for(let l=0;l<r.length;++l)o+=String.fromCharCode(r[l]);return o})(t);return new bn(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Ht(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}bn.EMPTY_BYTE_STRING=new bn("");const IP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function oa(n){if(ie(!!n,39018),typeof n=="string"){let t=0;const e=IP.exec(n);if(ie(!!e,46558,{timestamp:n}),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Ne(n.seconds),nanos:Ne(n.nanos)}}function Ne(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function la(n){return typeof n=="string"?bn.fromBase64String(n):bn.fromUint8Array(n)}const PA="server_timestamp",zA="__type__",LA="__previous_value__",VA="__local_write_time__";function G0(n){return(n?.mapValue?.fields||{})[zA]?.stringValue===PA}function vg(n){const t=n.mapValue.fields[LA];return G0(t)?vg(t):t}function ku(n){const t=oa(n.mapValue.fields[VA].timestampValue);return new be(t.seconds,t.nanos)}class RP{constructor(t,e,i,r,o,l,u,d,f,p){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=d,this.useFetchStreams=f,this.isUsingEmulator=p}}const Bf="(default)";class Ou{constructor(t,e){this.projectId=t,this.database=e||Bf}static empty(){return new Ou("","")}get isDefaultDatabase(){return this.database===Bf}isEqual(t){return t instanceof Ou&&t.projectId===this.projectId&&t.database===this.database}}const BA="__type__",DP="__max__",Qd={mapValue:{}},UA="__vector__",Uf="value";function ca(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?G0(n)?4:kP(n)?9007199254740991:NP(n)?10:11:Ct(28295,{value:n})}function Is(n,t){if(n===t)return!0;const e=ca(n);if(e!==ca(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return ku(n).isEqual(ku(t));case 3:return(function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const l=oa(r.timestampValue),u=oa(o.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(r,o){return la(r.bytesValue).isEqual(la(o.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(r,o){return Ne(r.geoPointValue.latitude)===Ne(o.geoPointValue.latitude)&&Ne(r.geoPointValue.longitude)===Ne(o.geoPointValue.longitude)})(n,t);case 2:return(function(r,o){if("integerValue"in r&&"integerValue"in o)return Ne(r.integerValue)===Ne(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const l=Ne(r.doubleValue),u=Ne(o.doubleValue);return l===u?Vf(l)===Vf(u):isNaN(l)&&isNaN(u)}return!1})(n,t);case 9:return Sl(n.arrayValue.values||[],t.arrayValue.values||[],Is);case 10:case 11:return(function(r,o){const l=r.mapValue.fields||{},u=o.mapValue.fields||{};if(DT(l)!==DT(u))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(u[d]===void 0||!Is(l[d],u[d])))return!1;return!0})(n,t);default:return Ct(52216,{left:n})}}function Mu(n,t){return(n.values||[]).find((e=>Is(e,t)))!==void 0}function wl(n,t){if(n===t)return 0;const e=ca(n),i=ca(t);if(e!==i)return Ht(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Ht(n.booleanValue,t.booleanValue);case 2:return(function(o,l){const u=Ne(o.integerValue||o.doubleValue),d=Ne(l.integerValue||l.doubleValue);return u<d?-1:u>d?1:u===d?0:isNaN(u)?isNaN(d)?0:-1:1})(n,t);case 3:return kT(n.timestampValue,t.timestampValue);case 4:return kT(ku(n),ku(t));case 5:return $y(n.stringValue,t.stringValue);case 6:return(function(o,l){const u=la(o),d=la(l);return u.compareTo(d)})(n.bytesValue,t.bytesValue);case 7:return(function(o,l){const u=o.split("/"),d=l.split("/");for(let f=0;f<u.length&&f<d.length;f++){const p=Ht(u[f],d[f]);if(p!==0)return p}return Ht(u.length,d.length)})(n.referenceValue,t.referenceValue);case 8:return(function(o,l){const u=Ht(Ne(o.latitude),Ne(l.latitude));return u!==0?u:Ht(Ne(o.longitude),Ne(l.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return OT(n.arrayValue,t.arrayValue);case 10:return(function(o,l){const u=o.fields||{},d=l.fields||{},f=u[Uf]?.arrayValue,p=d[Uf]?.arrayValue,y=Ht(f?.values?.length||0,p?.values?.length||0);return y!==0?y:OT(f,p)})(n.mapValue,t.mapValue);case 11:return(function(o,l){if(o===Qd.mapValue&&l===Qd.mapValue)return 0;if(o===Qd.mapValue)return 1;if(l===Qd.mapValue)return-1;const u=o.fields||{},d=Object.keys(u),f=l.fields||{},p=Object.keys(f);d.sort(),p.sort();for(let y=0;y<d.length&&y<p.length;++y){const _=$y(d[y],p[y]);if(_!==0)return _;const x=wl(u[d[y]],f[p[y]]);if(x!==0)return x}return Ht(d.length,p.length)})(n.mapValue,t.mapValue);default:throw Ct(23264,{he:e})}}function kT(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return Ht(n,t);const e=oa(n),i=oa(t),r=Ht(e.seconds,i.seconds);return r!==0?r:Ht(e.nanos,i.nanos)}function OT(n,t){const e=n.values||[],i=t.values||[];for(let r=0;r<e.length&&r<i.length;++r){const o=wl(e[r],i[r]);if(o)return o}return Ht(e.length,i.length)}function Al(n){return Wy(n)}function Wy(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(e){const i=oa(e);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(e){return la(e).toBase64()})(n.bytesValue):"referenceValue"in n?(function(e){return St.fromName(e).toString()})(n.referenceValue):"geoPointValue"in n?(function(e){return`geo(${e.latitude},${e.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(e){let i="[",r=!0;for(const o of e.values||[])r?r=!1:i+=",",i+=Wy(o);return i+"]"})(n.arrayValue):"mapValue"in n?(function(e){const i=Object.keys(e.fields||{}).sort();let r="{",o=!0;for(const l of i)o?o=!1:r+=",",r+=`${l}:${Wy(e.fields[l])}`;return r+"}"})(n.mapValue):Ct(61005,{value:n})}function Ef(n){switch(ca(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=vg(n);return t?16+Ef(t):16;case 5:return 2*n.stringValue.length;case 6:return la(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((r,o)=>r+Ef(o)),0)})(n.arrayValue);case 10:case 11:return(function(i){let r=0;return ma(i.fields,((o,l)=>{r+=o.length+Ef(l)})),r})(n.mapValue);default:throw Ct(13486,{value:n})}}function MT(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function Yy(n){return!!n&&"integerValue"in n}function $0(n){return!!n&&"arrayValue"in n}function PT(n){return!!n&&"nullValue"in n}function zT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Tf(n){return!!n&&"mapValue"in n}function NP(n){return(n?.mapValue?.fields||{})[BA]?.stringValue===UA}function yu(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return ma(n.mapValue.fields,((e,i)=>t.mapValue.fields[e]=yu(i))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=yu(n.arrayValue.values[e]);return t}return{...n}}function kP(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===DP}class Hn{constructor(t){this.value=t}static empty(){return new Hn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!Tf(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=yu(e)}setAll(t){let e=mn.emptyPath(),i={},r=[];t.forEach(((l,u)=>{if(!e.isImmediateParentOf(u)){const d=this.getFieldsMap(e);this.applyChanges(d,i,r),i={},r=[],e=u.popLast()}l?i[u.lastSegment()]=yu(l):r.push(u.lastSegment())}));const o=this.getFieldsMap(e);this.applyChanges(o,i,r)}delete(t){const e=this.field(t.popLast());Tf(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Is(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];Tf(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){ma(e,((r,o)=>t[r]=o));for(const r of i)delete t[r]}clone(){return new Hn(yu(this.value))}}function jA(n){const t=[];return ma(n.fields,((e,i)=>{const r=new mn([e]);if(Tf(i)){const o=jA(i.mapValue).fields;if(o.length===0)t.push(r);else for(const l of o)t.push(r.child(l))}else t.push(r)})),new ei(t)}class Tn{constructor(t,e,i,r,o,l,u){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=o,this.data=l,this.documentState=u}static newInvalidDocument(t){return new Tn(t,0,Nt.min(),Nt.min(),Nt.min(),Hn.empty(),0)}static newFoundDocument(t,e,i,r){return new Tn(t,1,e,Nt.min(),i,r,0)}static newNoDocument(t,e){return new Tn(t,2,e,Nt.min(),Nt.min(),Hn.empty(),0)}static newUnknownDocument(t,e){return new Tn(t,3,e,Nt.min(),Nt.min(),Hn.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Nt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Hn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Nt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Tn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class jf{constructor(t,e){this.position=t,this.inclusive=e}}function LT(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const o=t[r],l=n.position[r];if(o.field.isKeyField()?i=St.comparator(St.fromName(l.referenceValue),e.key):i=wl(l,e.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function VT(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Is(n.position[e],t.position[e]))return!1;return!0}class Pu{constructor(t,e="asc"){this.field=t,this.dir=e}}function OP(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class FA{}class $e extends FA{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,i):new PP(t,e,i):e==="array-contains"?new VP(t,i):e==="in"?new BP(t,i):e==="not-in"?new UP(t,i):e==="array-contains-any"?new jP(t,i):new $e(t,e,i)}static createKeyFieldInFilter(t,e,i){return e==="in"?new zP(t,i):new LP(t,i)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(wl(e,this.value)):e!==null&&ca(this.value)===ca(e)&&this.matchesComparison(wl(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Ct(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Wi extends FA{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new Wi(t,e)}matches(t){return HA(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function HA(n){return n.op==="and"}function qA(n){return MP(n)&&HA(n)}function MP(n){for(const t of n.filters)if(t instanceof Wi)return!1;return!0}function Ky(n){if(n instanceof $e)return n.field.canonicalString()+n.op.toString()+Al(n.value);if(qA(n))return n.filters.map((t=>Ky(t))).join(",");{const t=n.filters.map((e=>Ky(e))).join(",");return`${n.op}(${t})`}}function GA(n,t){return n instanceof $e?(function(i,r){return r instanceof $e&&i.op===r.op&&i.field.isEqual(r.field)&&Is(i.value,r.value)})(n,t):n instanceof Wi?(function(i,r){return r instanceof Wi&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce(((o,l,u)=>o&&GA(l,r.filters[u])),!0):!1})(n,t):void Ct(19439)}function $A(n){return n instanceof $e?(function(e){return`${e.field.canonicalString()} ${e.op} ${Al(e.value)}`})(n):n instanceof Wi?(function(e){return e.op.toString()+" {"+e.getFilters().map($A).join(" ,")+"}"})(n):"Filter"}class PP extends $e{constructor(t,e,i){super(t,e,i),this.key=St.fromName(i.referenceValue)}matches(t){const e=St.comparator(t.key,this.key);return this.matchesComparison(e)}}class zP extends $e{constructor(t,e){super(t,"in",e),this.keys=WA("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class LP extends $e{constructor(t,e){super(t,"not-in",e),this.keys=WA("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function WA(n,t){return(t.arrayValue?.values||[]).map((e=>St.fromName(e.referenceValue)))}class VP extends $e{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return $0(e)&&Mu(e.arrayValue,this.value)}}class BP extends $e{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Mu(this.value.arrayValue,e)}}class UP extends $e{constructor(t,e){super(t,"not-in",e)}matches(t){if(Mu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Mu(this.value.arrayValue,e)}}class jP extends $e{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!$0(e)||!e.arrayValue.values)&&e.arrayValue.values.some((i=>Mu(this.value.arrayValue,i)))}}class FP{constructor(t,e=null,i=[],r=[],o=null,l=null,u=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=l,this.endAt=u,this.Te=null}}function BT(n,t=null,e=[],i=[],r=null,o=null,l=null){return new FP(n,t,e,i,r,o,l)}function W0(n){const t=Ot(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((i=>Ky(i))).join(","),e+="|ob:",e+=t.orderBy.map((i=>(function(o){return o.field.canonicalString()+o.dir})(i))).join(","),_g(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((i=>Al(i))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((i=>Al(i))).join(",")),t.Te=e}return t.Te}function Y0(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!OP(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!GA(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!VT(n.startAt,t.startAt)&&VT(n.endAt,t.endAt)}function Qy(n){return St.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class jl{constructor(t,e=null,i=[],r=[],o=null,l="F",u=null,d=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=l,this.startAt=u,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function HP(n,t,e,i,r,o,l,u){return new jl(n,t,e,i,r,o,l,u)}function K0(n){return new jl(n)}function UT(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function YA(n){return n.collectionGroup!==null}function bu(n){const t=Ot(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const o of t.explicitOrderBy)t.Ie.push(o),e.add(o.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new Xe(mn.comparator);return l.filters.forEach((d=>{d.getFlattenedFilters().forEach((f=>{f.isInequality()&&(u=u.add(f.field))}))})),u})(t).forEach((o=>{e.has(o.canonicalString())||o.isKeyField()||t.Ie.push(new Pu(o,i))})),e.has(mn.keyField().canonicalString())||t.Ie.push(new Pu(mn.keyField(),i))}return t.Ie}function Ss(n){const t=Ot(n);return t.Ee||(t.Ee=qP(t,bu(n))),t.Ee}function qP(n,t){if(n.limitType==="F")return BT(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((r=>{const o=r.dir==="desc"?"asc":"desc";return new Pu(r.field,o)}));const e=n.endAt?new jf(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new jf(n.startAt.position,n.startAt.inclusive):null;return BT(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}function Xy(n,t){const e=n.filters.concat([t]);return new jl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function Jy(n,t,e){return new jl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function xg(n,t){return Y0(Ss(n),Ss(t))&&n.limitType===t.limitType}function KA(n){return`${W0(Ss(n))}|lt:${n.limitType}`}function hl(n){return`Query(target=${(function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map((r=>$A(r))).join(", ")}]`),_g(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map((r=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(r))).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>Al(r))).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>Al(r))).join(",")),`Target(${i})`})(Ss(n))}; limitType=${n.limitType})`}function Eg(n,t){return t.isFoundDocument()&&(function(i,r){const o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):St.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)})(n,t)&&(function(i,r){for(const o of bu(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0})(n,t)&&(function(i,r){for(const o of i.filters)if(!o.matches(r))return!1;return!0})(n,t)&&(function(i,r){return!(i.startAt&&!(function(l,u,d){const f=LT(l,u,d);return l.inclusive?f<=0:f<0})(i.startAt,bu(i),r)||i.endAt&&!(function(l,u,d){const f=LT(l,u,d);return l.inclusive?f>=0:f>0})(i.endAt,bu(i),r))})(n,t)}function GP(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function QA(n){return(t,e)=>{let i=!1;for(const r of bu(n)){const o=$P(r,t,e);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function $P(n,t,e){const i=n.field.isKeyField()?St.comparator(t.key,e.key):(function(o,l,u){const d=l.data.field(o),f=u.data.field(o);return d!==null&&f!==null?wl(d,f):Ct(42886)})(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Ct(19790,{direction:n.dir})}}class bo{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(const[r,o]of i)if(this.equalsFn(r,t))return o}}has(t){return this.get(t)!==void 0}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return i.length===1?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){ma(this.inner,((e,i)=>{for(const[r,o]of i)t(r,o)}))}isEmpty(){return OA(this.inner)}size(){return this.innerSize}}const WP=new Ee(St.comparator);function sr(){return WP}const XA=new Ee(St.comparator);function cu(...n){let t=XA;for(const e of n)t=t.insert(e.key,e);return t}function JA(n){let t=XA;return n.forEach(((e,i)=>t=t.insert(e,i.overlayedDocument))),t}function no(){return _u()}function ZA(){return _u()}function _u(){return new bo((n=>n.toString()),((n,t)=>n.isEqual(t)))}const YP=new Ee(St.comparator),KP=new Xe(St.comparator);function qt(...n){let t=KP;for(const e of n)t=t.add(e);return t}const QP=new Xe(Ht);function XP(){return QP}function Q0(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Vf(t)?"-0":t}}function tC(n){return{integerValue:""+n}}function JP(n,t){return wP(t)?tC(t):Q0(n,t)}class Tg{constructor(){this._=void 0}}function ZP(n,t,e){return n instanceof zu?(function(r,o){const l={fields:{[zA]:{stringValue:PA},[VA]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&G0(o)&&(o=vg(o)),o&&(l.fields[LA]=o),{mapValue:l}})(e,t):n instanceof Lu?nC(n,t):n instanceof Vu?iC(n,t):(function(r,o){const l=eC(r,o),u=jT(l)+jT(r.Ae);return Yy(l)&&Yy(r.Ae)?tC(u):Q0(r.serializer,u)})(n,t)}function tz(n,t,e){return n instanceof Lu?nC(n,t):n instanceof Vu?iC(n,t):e}function eC(n,t){return n instanceof Ff?(function(i){return Yy(i)||(function(o){return!!o&&"doubleValue"in o})(i)})(t)?t:{integerValue:0}:null}class zu extends Tg{}class Lu extends Tg{constructor(t){super(),this.elements=t}}function nC(n,t){const e=sC(t);for(const i of n.elements)e.some((r=>Is(r,i)))||e.push(i);return{arrayValue:{values:e}}}class Vu extends Tg{constructor(t){super(),this.elements=t}}function iC(n,t){let e=sC(t);for(const i of n.elements)e=e.filter((r=>!Is(r,i)));return{arrayValue:{values:e}}}class Ff extends Tg{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function jT(n){return Ne(n.integerValue||n.doubleValue)}function sC(n){return $0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class ez{constructor(t,e){this.field=t,this.transform=e}}function nz(n,t){return n.field.isEqual(t.field)&&(function(i,r){return i instanceof Lu&&r instanceof Lu||i instanceof Vu&&r instanceof Vu?Sl(i.elements,r.elements,Is):i instanceof Ff&&r instanceof Ff?Is(i.Ae,r.Ae):i instanceof zu&&r instanceof zu})(n.transform,t.transform)}class iz{constructor(t,e){this.version=t,this.transformResults=e}}class kn{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new kn}static exists(t){return new kn(void 0,t)}static updateTime(t){return new kn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Sf(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class Sg{}function rC(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new wg(n.key,kn.none()):new oh(n.key,n.data,kn.none());{const e=n.data,i=Hn.empty();let r=new Xe(mn.comparator);for(let o of t.fields)if(!r.has(o)){let l=e.field(o);l===null&&o.length>1&&(o=o.popLast(),l=e.field(o)),l===null?i.delete(o):i.set(o,l),r=r.add(o)}return new ya(n.key,i,new ei(r.toArray()),kn.none())}}function sz(n,t,e){n instanceof oh?(function(r,o,l){const u=r.value.clone(),d=HT(r.fieldTransforms,o,l.transformResults);u.setAll(d),o.convertToFoundDocument(l.version,u).setHasCommittedMutations()})(n,t,e):n instanceof ya?(function(r,o,l){if(!Sf(r.precondition,o))return void o.convertToUnknownDocument(l.version);const u=HT(r.fieldTransforms,o,l.transformResults),d=o.data;d.setAll(aC(r)),d.setAll(u),o.convertToFoundDocument(l.version,d).setHasCommittedMutations()})(n,t,e):(function(r,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()})(0,t,e)}function vu(n,t,e,i){return n instanceof oh?(function(o,l,u,d){if(!Sf(o.precondition,l))return u;const f=o.value.clone(),p=qT(o.fieldTransforms,d,l);return f.setAll(p),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null})(n,t,e,i):n instanceof ya?(function(o,l,u,d){if(!Sf(o.precondition,l))return u;const f=qT(o.fieldTransforms,d,l),p=l.data;return p.setAll(aC(o)),p.setAll(f),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((y=>y.field)))})(n,t,e,i):(function(o,l,u){return Sf(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u})(n,t,e)}function rz(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),o=eC(i.transform,r||null);o!=null&&(e===null&&(e=Hn.empty()),e.set(i.field,o))}return e||null}function FT(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Sl(i,r,((o,l)=>nz(o,l)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class oh extends Sg{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class ya extends Sg{constructor(t,e,i,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function aC(n){const t=new Map;return n.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}})),t}function HT(n,t,e){const i=new Map;ie(n.length===e.length,32656,{Re:e.length,Ve:n.length});for(let r=0;r<e.length;r++){const o=n[r],l=o.transform,u=t.data.field(o.field);i.set(o.field,tz(l,u,e[r]))}return i}function qT(n,t,e){const i=new Map;for(const r of n){const o=r.transform,l=e.data.field(r.field);i.set(r.field,ZP(o,l,t))}return i}class wg extends Sg{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class az extends Sg{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class oz{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&sz(o,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=vu(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=vu(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=ZA();return this.mutations.forEach((r=>{const o=t.get(r.key),l=o.overlayedDocument;let u=this.applyToLocalView(l,o.mutatedFields);u=e.has(r.key)?null:u;const d=rC(l,u);d!==null&&i.set(r.key,d),l.isValidDocument()||l.convertToNoDocument(Nt.min())})),i}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),qt())}isEqual(t){return this.batchId===t.batchId&&Sl(this.mutations,t.mutations,((e,i)=>FT(e,i)))&&Sl(this.baseMutations,t.baseMutations,((e,i)=>FT(e,i)))}}class X0{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){ie(t.mutations.length===i.length,58842,{me:t.mutations.length,fe:i.length});let r=(function(){return YP})();const o=t.mutations;for(let l=0;l<o.length;l++)r=r.insert(o[l].key,i[l].version);return new X0(t,e,i,r)}}class lz{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class cz{constructor(t,e){this.count=t,this.unchangedNames=e}}var Ge,Yt;function uz(n){switch(n){case st.OK:return Ct(64938);case st.CANCELLED:case st.UNKNOWN:case st.DEADLINE_EXCEEDED:case st.RESOURCE_EXHAUSTED:case st.INTERNAL:case st.UNAVAILABLE:case st.UNAUTHENTICATED:return!1;case st.INVALID_ARGUMENT:case st.NOT_FOUND:case st.ALREADY_EXISTS:case st.PERMISSION_DENIED:case st.FAILED_PRECONDITION:case st.ABORTED:case st.OUT_OF_RANGE:case st.UNIMPLEMENTED:case st.DATA_LOSS:return!0;default:return Ct(15467,{code:n})}}function oC(n){if(n===void 0)return ir("GRPC error has no .code"),st.UNKNOWN;switch(n){case Ge.OK:return st.OK;case Ge.CANCELLED:return st.CANCELLED;case Ge.UNKNOWN:return st.UNKNOWN;case Ge.DEADLINE_EXCEEDED:return st.DEADLINE_EXCEEDED;case Ge.RESOURCE_EXHAUSTED:return st.RESOURCE_EXHAUSTED;case Ge.INTERNAL:return st.INTERNAL;case Ge.UNAVAILABLE:return st.UNAVAILABLE;case Ge.UNAUTHENTICATED:return st.UNAUTHENTICATED;case Ge.INVALID_ARGUMENT:return st.INVALID_ARGUMENT;case Ge.NOT_FOUND:return st.NOT_FOUND;case Ge.ALREADY_EXISTS:return st.ALREADY_EXISTS;case Ge.PERMISSION_DENIED:return st.PERMISSION_DENIED;case Ge.FAILED_PRECONDITION:return st.FAILED_PRECONDITION;case Ge.ABORTED:return st.ABORTED;case Ge.OUT_OF_RANGE:return st.OUT_OF_RANGE;case Ge.UNIMPLEMENTED:return st.UNIMPLEMENTED;case Ge.DATA_LOSS:return st.DATA_LOSS;default:return Ct(39323,{code:n})}}(Yt=Ge||(Ge={}))[Yt.OK=0]="OK",Yt[Yt.CANCELLED=1]="CANCELLED",Yt[Yt.UNKNOWN=2]="UNKNOWN",Yt[Yt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Yt[Yt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Yt[Yt.NOT_FOUND=5]="NOT_FOUND",Yt[Yt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Yt[Yt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Yt[Yt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Yt[Yt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Yt[Yt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Yt[Yt.ABORTED=10]="ABORTED",Yt[Yt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Yt[Yt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Yt[Yt.INTERNAL=13]="INTERNAL",Yt[Yt.UNAVAILABLE=14]="UNAVAILABLE",Yt[Yt.DATA_LOSS=15]="DATA_LOSS";function hz(){return new TextEncoder}const dz=new ta([4294967295,4294967295],0);function GT(n){const t=hz().encode(n),e=new EA;return e.update(t),new Uint8Array(e.digest())}function $T(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new ta([e,i],0),new ta([r,o],0)]}class J0{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new uu(`Invalid padding: ${e}`);if(i<0)throw new uu(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new uu(`Invalid hash count: ${i}`);if(t.length===0&&e!==0)throw new uu(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=ta.fromNumber(this.ge)}ye(t,e,i){let r=t.add(e.multiply(ta.fromNumber(i)));return r.compare(dz)===1&&(r=new ta([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=GT(t),[i,r]=$T(e);for(let o=0;o<this.hashCount;o++){const l=this.ye(i,r,o);if(!this.we(l))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),l=new J0(o,r,e);return i.forEach((u=>l.insert(u))),l}insert(t){if(this.ge===0)return;const e=GT(t),[i,r]=$T(e);for(let o=0;o<this.hashCount;o++){const l=this.ye(i,r,o);this.Se(l)}}Se(t){const e=Math.floor(t/8),i=t%8;this.bitmap[e]|=1<<i}}class uu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Ag{constructor(t,e,i,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,lh.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new Ag(Nt.min(),r,new Ee(Ht),sr(),qt())}}class lh{constructor(t,e,i,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new lh(i,e,qt(),qt(),qt())}}class wf{constructor(t,e,i,r){this.be=t,this.removedTargetIds=e,this.key=i,this.De=r}}class lC{constructor(t,e){this.targetId=t,this.Ce=e}}class cC{constructor(t,e,i=bn.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class WT{constructor(){this.ve=0,this.Fe=YT(),this.Me=bn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=qt(),e=qt(),i=qt();return this.Fe.forEach(((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:Ct(38017,{changeType:o})}})),new lh(this.Me,this.xe,t,e,i)}qe(){this.Oe=!1,this.Fe=YT()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,ie(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class fz{constructor(t){this.Ge=t,this.ze=new Map,this.je=sr(),this.Je=Xd(),this.He=Xd(),this.Ye=new Ee(Ht)}Ze(t){for(const e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const i=this.nt(e);switch(t.state){case 0:this.rt(e)&&i.Le(t.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(t.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(i.We(),i.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),i.Le(t.resumeToken));break;default:Ct(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((i,r)=>{this.rt(r)&&e(r)}))}st(t){const e=t.targetId,i=t.Ce.count,r=this.ot(e);if(r){const o=r.target;if(Qy(o))if(i===0){const l=new St(o.path);this.et(e,l,Tn.newNoDocument(l,Nt.min()))}else ie(i===1,20013,{expectedCount:i});else{const l=this._t(e);if(l!==i){const u=this.ut(t),d=u?this.ct(u,t,l):1;if(d!==0){this.it(e);const f=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,f)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=e;let l,u;try{l=la(i).toUint8Array()}catch(d){if(d instanceof MA)return Tl("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{u=new J0(l,r,o)}catch(d){return Tl(d instanceof uu?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return u.ge===0?null:u}ct(t,e,i){return e.Ce.count===i-this.Pt(t,e.targetId)?0:2}Pt(t,e){const i=this.Ge.getRemoteKeysForTarget(e);let r=0;return i.forEach((o=>{const l=this.Ge.ht(),u=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;t.mightContain(u)||(this.et(e,o,null),r++)})),r}Tt(t){const e=new Map;this.ze.forEach(((o,l)=>{const u=this.ot(l);if(u){if(o.current&&Qy(u.target)){const d=new St(u.target.path);this.It(d).has(l)||this.Et(l,d)||this.et(l,d,Tn.newNoDocument(d,t))}o.Be&&(e.set(l,o.ke()),o.qe())}}));let i=qt();this.He.forEach(((o,l)=>{let u=!0;l.forEachWhile((d=>{const f=this.ot(d);return!f||f.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(i=i.add(o))})),this.je.forEach(((o,l)=>l.setReadTime(t)));const r=new Ag(t,e,this.Ye,this.je,i);return this.je=sr(),this.Je=Xd(),this.He=Xd(),this.Ye=new Ee(Ht),r}Xe(t,e){if(!this.rt(t))return;const i=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,i),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,i){if(!this.rt(t))return;const r=this.nt(t);this.Et(t,e)?r.Qe(e,1):r.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),i&&(this.je=this.je.insert(e,i))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new WT,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new Xe(Ht),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new Xe(Ht),this.Je=this.Je.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||pt("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new WT),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function Xd(){return new Ee(St.comparator)}function YT(){return new Ee(St.comparator)}const gz={asc:"ASCENDING",desc:"DESCENDING"},pz={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mz={and:"AND",or:"OR"};class yz{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function Zy(n,t){return n.useProto3Json||_g(t)?t:{value:t}}function Hf(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function uC(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function bz(n,t){return Hf(n,t.toTimestamp())}function ws(n){return ie(!!n,49232),Nt.fromTimestamp((function(e){const i=oa(e);return new be(i.seconds,i.nanos)})(n))}function Z0(n,t){return t0(n,t).canonicalString()}function t0(n,t){const e=(function(r){return new fe(["projects",r.projectId,"databases",r.database])})(n).child("documents");return t===void 0?e:e.child(t)}function hC(n){const t=fe.fromString(n);return ie(mC(t),10190,{key:t.toString()}),t}function e0(n,t){return Z0(n.databaseId,t.path)}function ly(n,t){const e=hC(t);if(e.get(1)!==n.databaseId.projectId)throw new ft(st.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new ft(st.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new St(fC(e))}function dC(n,t){return Z0(n.databaseId,t)}function _z(n){const t=hC(n);return t.length===4?fe.emptyPath():fC(t)}function n0(n){return new fe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function fC(n){return ie(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function KT(n,t,e){return{name:e0(n,t),fields:e.value.mapValue.fields}}function vz(n,t){let e;if("targetChange"in t){t.targetChange;const i=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Ct(39313,{state:f})})(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],o=(function(f,p){return f.useProto3Json?(ie(p===void 0||typeof p=="string",58123),bn.fromBase64String(p||"")):(ie(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),bn.fromUint8Array(p||new Uint8Array))})(n,t.targetChange.resumeToken),l=t.targetChange.cause,u=l&&(function(f){const p=f.code===void 0?st.UNKNOWN:oC(f.code);return new ft(p,f.message||"")})(l);e=new cC(i,r,o,u||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=ly(n,i.document.name),o=ws(i.document.updateTime),l=i.document.createTime?ws(i.document.createTime):Nt.min(),u=new Hn({mapValue:{fields:i.document.fields}}),d=Tn.newFoundDocument(r,o,l,u),f=i.targetIds||[],p=i.removedTargetIds||[];e=new wf(f,p,d.key,d)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=ly(n,i.document),o=i.readTime?ws(i.readTime):Nt.min(),l=Tn.newNoDocument(r,o),u=i.removedTargetIds||[];e=new wf([],u,l.key,l)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=ly(n,i.document),o=i.removedTargetIds||[];e=new wf([],o,r,null)}else{if(!("filter"in t))return Ct(11601,{Rt:t});{t.filter;const i=t.filter;i.targetId;const{count:r=0,unchangedNames:o}=i,l=new cz(r,o),u=i.targetId;e=new lC(u,l)}}return e}function xz(n,t){let e;if(t instanceof oh)e={update:KT(n,t.key,t.value)};else if(t instanceof wg)e={delete:e0(n,t.key)};else if(t instanceof ya)e={update:KT(n,t.key,t.data),updateMask:Dz(t.fieldMask)};else{if(!(t instanceof az))return Ct(16599,{Vt:t.type});e={verify:e0(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((i=>(function(o,l){const u=l.transform;if(u instanceof zu)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Lu)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Vu)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Ff)return{fieldPath:l.field.canonicalString(),increment:u.Ae};throw Ct(20930,{transform:l.transform})})(0,i)))),t.precondition.isNone||(e.currentDocument=(function(r,o){return o.updateTime!==void 0?{updateTime:bz(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Ct(27497)})(n,t.precondition)),e}function Ez(n,t){return n&&n.length>0?(ie(t!==void 0,14353),n.map((e=>(function(r,o){let l=r.updateTime?ws(r.updateTime):ws(o);return l.isEqual(Nt.min())&&(l=ws(o)),new iz(l,r.transformResults||[])})(e,t)))):[]}function Tz(n,t){return{documents:[dC(n,t.path)]}}function Sz(n,t){const e={structuredQuery:{}},i=t.path;let r;t.collectionGroup!==null?(r=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=dC(n,r);const o=(function(f){if(f.length!==0)return pC(Wi.create(f,"and"))})(t.filters);o&&(e.structuredQuery.where=o);const l=(function(f){if(f.length!==0)return f.map((p=>(function(_){return{field:dl(_.field),direction:Cz(_.dir)}})(p)))})(t.orderBy);l&&(e.structuredQuery.orderBy=l);const u=Zy(n,t.limit);return u!==null&&(e.structuredQuery.limit=u),t.startAt&&(e.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(t.endAt)),{ft:e,parent:r}}function wz(n){let t=_z(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){ie(i===1,65062);const p=e.from[0];p.allDescendants?r=p.collectionId:t=t.child(p.collectionId)}let o=[];e.where&&(o=(function(y){const _=gC(y);return _ instanceof Wi&&qA(_)?_.getFilters():[_]})(e.where));let l=[];e.orderBy&&(l=(function(y){return y.map((_=>(function(w){return new Pu(fl(w.field),(function(S){switch(S){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(w.direction))})(_)))})(e.orderBy));let u=null;e.limit&&(u=(function(y){let _;return _=typeof y=="object"?y.value:y,_g(_)?null:_})(e.limit));let d=null;e.startAt&&(d=(function(y){const _=!!y.before,x=y.values||[];return new jf(x,_)})(e.startAt));let f=null;return e.endAt&&(f=(function(y){const _=!y.before,x=y.values||[];return new jf(x,_)})(e.endAt)),HP(t,r,l,o,u,"F",d,f)}function Az(n,t){const e=(function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ct(28987,{purpose:r})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function gC(n){return n.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=fl(e.unaryFilter.field);return $e.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=fl(e.unaryFilter.field);return $e.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=fl(e.unaryFilter.field);return $e.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=fl(e.unaryFilter.field);return $e.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ct(61313);default:return Ct(60726)}})(n):n.fieldFilter!==void 0?(function(e){return $e.create(fl(e.fieldFilter.field),(function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ct(58110);default:return Ct(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(e){return Wi.create(e.compositeFilter.filters.map((i=>gC(i))),(function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Ct(1026)}})(e.compositeFilter.op))})(n):Ct(30097,{filter:n})}function Cz(n){return gz[n]}function Iz(n){return pz[n]}function Rz(n){return mz[n]}function dl(n){return{fieldPath:n.canonicalString()}}function fl(n){return mn.fromServerFormat(n.fieldPath)}function pC(n){return n instanceof $e?(function(e){if(e.op==="=="){if(zT(e.value))return{unaryFilter:{field:dl(e.field),op:"IS_NAN"}};if(PT(e.value))return{unaryFilter:{field:dl(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(zT(e.value))return{unaryFilter:{field:dl(e.field),op:"IS_NOT_NAN"}};if(PT(e.value))return{unaryFilter:{field:dl(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:dl(e.field),op:Iz(e.op),value:e.value}}})(n):n instanceof Wi?(function(e){const i=e.getFilters().map((r=>pC(r)));return i.length===1?i[0]:{compositeFilter:{op:Rz(e.op),filters:i}}})(n):Ct(54877,{filter:n})}function Dz(n){const t=[];return n.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function mC(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}class Wr{constructor(t,e,i,r,o=Nt.min(),l=Nt.min(),u=bn.EMPTY_BYTE_STRING,d=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=d}withSequenceNumber(t){return new Wr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Wr(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Wr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Wr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class Nz{constructor(t){this.yt=t}}function kz(n){const t=wz({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Jy(t,t.limit,"L"):t}class Oz{constructor(){this.Cn=new Mz}addToCollectionParentIndex(t,e){return this.Cn.add(e),at.resolve()}getCollectionParents(t,e){return at.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return at.resolve()}deleteFieldIndex(t,e){return at.resolve()}deleteAllFieldIndexes(t){return at.resolve()}createTargetIndexes(t,e){return at.resolve()}getDocumentsMatchingTarget(t,e){return at.resolve(null)}getIndexType(t,e){return at.resolve(0)}getFieldIndexes(t,e){return at.resolve([])}getNextCollectionGroupToUpdate(t){return at.resolve(null)}getMinOffset(t,e){return at.resolve(aa.min())}getMinOffsetFromCollectionGroup(t,e){return at.resolve(aa.min())}updateCollectionGroup(t,e,i){return at.resolve()}updateIndexEntries(t,e){return at.resolve()}}class Mz{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new Xe(fe.comparator),o=!r.has(i);return this.index[e]=r.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Xe(fe.comparator)).toArray()}}const QT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},yC=41943040;class Fn{static withCacheSize(t){return new Fn(t,Fn.DEFAULT_COLLECTION_PERCENTILE,Fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}}Fn.DEFAULT_COLLECTION_PERCENTILE=10,Fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Fn.DEFAULT=new Fn(yC,Fn.DEFAULT_COLLECTION_PERCENTILE,Fn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Fn.DISABLED=new Fn(-1,0,0);class Cl{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Cl(0)}static cr(){return new Cl(-1)}}const XT="LruGarbageCollector",Pz=1048576;function JT([n,t],[e,i]){const r=Ht(n,e);return r===0?Ht(t,i):r}class zz{constructor(t){this.Ir=t,this.buffer=new Xe(JT),this.Er=0}dr(){return++this.Er}Ar(t){const e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();JT(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class Lz{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){pt(XT,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Ul(e)?pt(XT,"Ignoring IndexedDB error during garbage collection: ",e):await Bl(e)}await this.Vr(3e5)}))}}class Vz{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next((i=>Math.floor(e/100*i)))}nthSequenceNumber(t,e){if(e===0)return at.resolve(bg.ce);const i=new zz(e);return this.mr.forEachTarget(t,(r=>i.Ar(r.sequenceNumber))).next((()=>this.mr.pr(t,(r=>i.Ar(r))))).next((()=>i.maxValue))}removeTargets(t,e,i){return this.mr.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(pt("LruGarbageCollector","Garbage collection skipped; disabled"),at.resolve(QT)):this.getCacheSize(t).next((i=>i<this.params.cacheSizeCollectionThreshold?(pt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),QT):this.yr(t,e)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let i,r,o,l,u,d,f;const p=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((y=>(y>this.params.maximumSequenceNumbersToCollect?(pt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),r=this.params.maximumSequenceNumbersToCollect):r=y,l=Date.now(),this.nthSequenceNumber(t,r)))).next((y=>(i=y,u=Date.now(),this.removeTargets(t,i,e)))).next((y=>(o=y,d=Date.now(),this.removeOrphanedDocuments(t,i)))).next((y=>(f=Date.now(),ul()<=Ft.DEBUG&&pt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-p}ms
	Determined least recently used ${r} in `+(u-l)+`ms
	Removed ${o} targets in `+(d-u)+`ms
	Removed ${y} documents in `+(f-d)+`ms
Total Duration: ${f-p}ms`),at.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:y}))))}}function Bz(n,t){return new Vz(n,t)}class Uz{constructor(){this.changes=new bo((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Tn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return i!==void 0?at.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class jz{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class Fz{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next((r=>(i=r,this.remoteDocumentCache.getEntry(t,e)))).next((r=>(i!==null&&vu(i.mutation,r,ei.empty(),be.now()),r)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.getLocalViewOfDocuments(t,i,qt()).next((()=>i))))}getLocalViewOfDocuments(t,e,i=qt()){const r=no();return this.populateOverlays(t,r,e).next((()=>this.computeViews(t,e,r,i).next((o=>{let l=cu();return o.forEach(((u,d)=>{l=l.insert(u,d.overlayedDocument)})),l}))))}getOverlayedDocuments(t,e){const i=no();return this.populateOverlays(t,i,e).next((()=>this.computeViews(t,e,i,qt())))}populateOverlays(t,e,i){const r=[];return i.forEach((o=>{e.has(o)||r.push(o)})),this.documentOverlayCache.getOverlays(t,r).next((o=>{o.forEach(((l,u)=>{e.set(l,u)}))}))}computeViews(t,e,i,r){let o=sr();const l=_u(),u=(function(){return _u()})();return e.forEach(((d,f)=>{const p=i.get(f.key);r.has(f.key)&&(p===void 0||p.mutation instanceof ya)?o=o.insert(f.key,f):p!==void 0?(l.set(f.key,p.mutation.getFieldMask()),vu(p.mutation,f,p.mutation.getFieldMask(),be.now())):l.set(f.key,ei.empty())})),this.recalculateAndSaveOverlays(t,o).next((d=>(d.forEach(((f,p)=>l.set(f,p))),e.forEach(((f,p)=>u.set(f,new jz(p,l.get(f)??null)))),u)))}recalculateAndSaveOverlays(t,e){const i=_u();let r=new Ee(((l,u)=>l-u)),o=qt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((l=>{for(const u of l)u.keys().forEach((d=>{const f=e.get(d);if(f===null)return;let p=i.get(d)||ei.empty();p=u.applyToLocalView(f,p),i.set(d,p);const y=(r.get(u.batchId)||qt()).add(d);r=r.insert(u.batchId,y)}))})).next((()=>{const l=[],u=r.getReverseIterator();for(;u.hasNext();){const d=u.getNext(),f=d.key,p=d.value,y=ZA();p.forEach((_=>{if(!o.has(_)){const x=rC(e.get(_),i.get(_));x!==null&&y.set(_,x),o=o.add(_)}})),l.push(this.documentOverlayCache.saveOverlays(t,f,y))}return at.waitFor(l)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.recalculateAndSaveOverlays(t,i)))}getDocumentsMatchingQuery(t,e,i,r){return(function(l){return St.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):YA(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,r):this.getDocumentsMatchingCollectionQuery(t,e,i,r)}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next((o=>{const l=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-o.size):at.resolve(no());let u=Nu,d=o;return l.next((f=>at.forEach(f,((p,y)=>(u<y.largestBatchId&&(u=y.largestBatchId),o.get(p)?at.resolve():this.remoteDocumentCache.getEntry(t,p).next((_=>{d=d.insert(p,_)}))))).next((()=>this.populateOverlays(t,f,o))).next((()=>this.computeViews(t,d,f,qt()))).next((p=>({batchId:u,changes:JA(p)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new St(e)).next((i=>{let r=cu();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r}))}getDocumentsMatchingCollectionGroupQuery(t,e,i,r){const o=e.collectionGroup;let l=cu();return this.indexManager.getCollectionParents(t,o).next((u=>at.forEach(u,(d=>{const f=(function(y,_){return new jl(_,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)})(e,d.child(o));return this.getDocumentsMatchingCollectionQuery(t,f,i,r).next((p=>{p.forEach(((y,_)=>{l=l.insert(y,_)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(t,e,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next((l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,o,r)))).next((l=>{o.forEach(((d,f)=>{const p=f.getKey();l.get(p)===null&&(l=l.insert(p,Tn.newInvalidDocument(p)))}));let u=cu();return l.forEach(((d,f)=>{const p=o.get(d);p!==void 0&&vu(p.mutation,f,ei.empty(),be.now()),Eg(e,f)&&(u=u.insert(d,f))})),u}))}}class Hz{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return at.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,(function(r){return{id:r.id,version:r.version,createTime:ws(r.createTime)}})(e)),at.resolve()}getNamedQuery(t,e){return at.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,(function(r){return{name:r.name,query:kz(r.bundledQuery),readTime:ws(r.readTime)}})(e)),at.resolve()}}class qz{constructor(){this.overlays=new Ee(St.comparator),this.qr=new Map}getOverlay(t,e){return at.resolve(this.overlays.get(e))}getOverlays(t,e){const i=no();return at.forEach(e,(r=>this.getOverlay(t,r).next((o=>{o!==null&&i.set(r,o)})))).next((()=>i))}saveOverlays(t,e,i){return i.forEach(((r,o)=>{this.St(t,e,o)})),at.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.qr.get(i);return r!==void 0&&(r.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(i)),at.resolve()}getOverlaysForCollection(t,e,i){const r=no(),o=e.length+1,l=new St(e.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const d=u.getNext().value,f=d.getKey();if(!e.isPrefixOf(f.path))break;f.path.length===o&&d.largestBatchId>i&&r.set(d.getKey(),d)}return at.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let o=new Ee(((f,p)=>f-p));const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===e&&f.largestBatchId>i){let p=o.get(f.largestBatchId);p===null&&(p=no(),o=o.insert(f.largestBatchId,p)),p.set(f.getKey(),f)}}const u=no(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((f,p)=>u.set(f,p))),!(u.size()>=r)););return at.resolve(u)}St(t,e,i){const r=this.overlays.get(i.key);if(r!==null){const l=this.qr.get(r.largestBatchId).delete(i.key);this.qr.set(r.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new lz(e,i));let o=this.qr.get(e);o===void 0&&(o=qt(),this.qr.set(e,o)),this.qr.set(e,o.add(i.key))}}class Gz{constructor(){this.sessionToken=bn.EMPTY_BYTE_STRING}getSessionToken(t){return at.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,at.resolve()}}class tb{constructor(){this.Qr=new Xe(sn.$r),this.Ur=new Xe(sn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){const i=new sn(t,e);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(t,e){t.forEach((i=>this.addReference(i,e)))}removeReference(t,e){this.Gr(new sn(t,e))}zr(t,e){t.forEach((i=>this.removeReference(i,e)))}jr(t){const e=new St(new fe([])),i=new sn(e,t),r=new sn(e,t+1),o=[];return this.Ur.forEachInRange([i,r],(l=>{this.Gr(l),o.push(l.key)})),o}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const e=new St(new fe([])),i=new sn(e,t),r=new sn(e,t+1);let o=qt();return this.Ur.forEachInRange([i,r],(l=>{o=o.add(l.key)})),o}containsKey(t){const e=new sn(t,0),i=this.Qr.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}}class sn{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return St.comparator(t.key,e.key)||Ht(t.Yr,e.Yr)}static Kr(t,e){return Ht(t.Yr,e.Yr)||St.comparator(t.key,e.key)}}class $z{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new Xe(sn.$r)}checkEmpty(t){return at.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,r){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new oz(o,e,i,r);this.mutationQueue.push(l);for(const u of r)this.Zr=this.Zr.add(new sn(u.key,o)),this.indexManager.addToCollectionParentIndex(t,u.key.path.popLast());return at.resolve(l)}lookupMutationBatch(t,e){return at.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=this.ei(i),o=r<0?0:r;return at.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return at.resolve(this.mutationQueue.length===0?q0:this.tr-1)}getAllMutationBatches(t){return at.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new sn(e,0),r=new sn(e,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([i,r],(l=>{const u=this.Xr(l.Yr);o.push(u)})),at.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Xe(Ht);return e.forEach((r=>{const o=new sn(r,0),l=new sn(r,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,l],(u=>{i=i.add(u.Yr)}))})),at.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let o=i;St.isDocumentKey(o)||(o=o.child(""));const l=new sn(new St(o),0);let u=new Xe(Ht);return this.Zr.forEachWhile((d=>{const f=d.key.path;return!!i.isPrefixOf(f)&&(f.length===r&&(u=u.add(d.Yr)),!0)}),l),at.resolve(this.ti(u))}ti(t){const e=[];return t.forEach((i=>{const r=this.Xr(i);r!==null&&e.push(r)})),e}removeMutationBatch(t,e){ie(this.ni(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return at.forEach(e.mutations,(r=>{const o=new sn(r.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)})).next((()=>{this.Zr=i}))}ir(t){}containsKey(t,e){const i=new sn(e,0),r=this.Zr.firstAfterOrEqual(i);return at.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,at.resolve()}ni(t,e){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class Wz{constructor(t){this.ri=t,this.docs=(function(){return new Ee(St.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),o=r?r.size:0,l=this.ri(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return at.resolve(i?i.document.mutableCopy():Tn.newInvalidDocument(e))}getEntries(t,e){let i=sr();return e.forEach((r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():Tn.newInvalidDocument(r))})),at.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let o=sr();const l=e.path,u=new St(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:f,value:{document:p}}=d.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||xP(vP(p),i)<=0||(r.has(p.key)||Eg(e,p))&&(o=o.insert(p.key,p.mutableCopy()))}return at.resolve(o)}getAllFromCollectionGroup(t,e,i,r){Ct(9500)}ii(t,e){return at.forEach(this.docs,(i=>e(i)))}newChangeBuffer(t){return new Yz(this)}getSize(t){return at.resolve(this.size)}}class Yz extends Uz{constructor(t){super(),this.Nr=t}applyChanges(t){const e=[];return this.changes.forEach(((i,r)=>{r.isValidDocument()?e.push(this.Nr.addEntry(t,r)):this.Nr.removeEntry(i)})),at.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}}class Kz{constructor(t){this.persistence=t,this.si=new bo((e=>W0(e)),Y0),this.lastRemoteSnapshotVersion=Nt.min(),this.highestTargetId=0,this.oi=0,this._i=new tb,this.targetCount=0,this.ai=Cl.ur()}forEachTarget(t,e){return this.si.forEach(((i,r)=>e(r))),at.resolve()}getLastRemoteSnapshotVersion(t){return at.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return at.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),at.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.oi&&(this.oi=e),at.resolve()}Pr(t){this.si.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ai=new Cl(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,at.resolve()}updateTargetData(t,e){return this.Pr(e),at.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,at.resolve()}removeTargets(t,e,i){let r=0;const o=[];return this.si.forEach(((l,u)=>{u.sequenceNumber<=e&&i.get(u.targetId)===null&&(this.si.delete(l),o.push(this.removeMatchingKeysForTargetId(t,u.targetId)),r++)})),at.waitFor(o).next((()=>r))}getTargetCount(t){return at.resolve(this.targetCount)}getTargetData(t,e){const i=this.si.get(e)||null;return at.resolve(i)}addMatchingKeys(t,e,i){return this._i.Wr(e,i),at.resolve()}removeMatchingKeys(t,e,i){this._i.zr(e,i);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach((l=>{o.push(r.markPotentiallyOrphaned(t,l))})),at.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),at.resolve()}getMatchingKeysForTargetId(t,e){const i=this._i.Hr(e);return at.resolve(i)}containsKey(t,e){return at.resolve(this._i.containsKey(e))}}class bC{constructor(t,e){this.ui={},this.overlays={},this.ci=new bg(0),this.li=!1,this.li=!0,this.hi=new Gz,this.referenceDelegate=t(this),this.Pi=new Kz(this),this.indexManager=new Oz,this.remoteDocumentCache=(function(r){return new Wz(r)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new Nz(e),this.Ii=new Hz(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new qz,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.ui[t.toKey()];return i||(i=new $z(e,this.referenceDelegate),this.ui[t.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,i){pt("MemoryPersistence","Starting transaction:",t);const r=new Qz(this.ci.next());return this.referenceDelegate.Ei(),i(r).next((o=>this.referenceDelegate.di(r).next((()=>o)))).toPromise().then((o=>(r.raiseOnCommittedEvent(),o)))}Ai(t,e){return at.or(Object.values(this.ui).map((i=>()=>i.containsKey(t,e))))}}class Qz extends TP{constructor(t){super(),this.currentSequenceNumber=t}}class eb{constructor(t){this.persistence=t,this.Ri=new tb,this.Vi=null}static mi(t){return new eb(t)}get fi(){if(this.Vi)return this.Vi;throw Ct(60996)}addReference(t,e,i){return this.Ri.addReference(i,e),this.fi.delete(i.toString()),at.resolve()}removeReference(t,e,i){return this.Ri.removeReference(i,e),this.fi.add(i.toString()),at.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),at.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach((r=>this.fi.add(r.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next((r=>{r.forEach((o=>this.fi.add(o.toString())))})).next((()=>i.removeTargetData(t,e)))}Ei(){this.Vi=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return at.forEach(this.fi,(i=>{const r=St.fromPath(i);return this.gi(t,r).next((o=>{o||e.removeEntry(r,Nt.min())}))})).next((()=>(this.Vi=null,e.apply(t))))}updateLimboDocument(t,e){return this.gi(t,e).next((i=>{i?this.fi.delete(e.toString()):this.fi.add(e.toString())}))}Ti(t){return 0}gi(t,e){return at.or([()=>at.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}class qf{constructor(t,e){this.persistence=t,this.pi=new bo((i=>AP(i.path)),((i,r)=>i.isEqual(r))),this.garbageCollector=Bz(this,e)}static mi(t,e){return new qf(t,e)}Ei(){}di(t){return at.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){const e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((i=>e.next((r=>i+r))))}wr(t){let e=0;return this.pr(t,(i=>{e++})).next((()=>e))}pr(t,e){return at.forEach(this.pi,((i,r)=>this.br(t,i,r).next((o=>o?at.resolve():e(r)))))}removeTargets(t,e,i){return this.persistence.getTargetCache().removeTargets(t,e,i)}removeOrphanedDocuments(t,e){let i=0;const r=this.persistence.getRemoteDocumentCache(),o=r.newChangeBuffer();return r.ii(t,(l=>this.br(t,l,e).next((u=>{u||(i++,o.removeEntry(l,Nt.min()))})))).next((()=>o.apply(t))).next((()=>i))}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),at.resolve()}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,e,i){return this.pi.set(i,t.currentSequenceNumber),at.resolve()}removeReference(t,e,i){return this.pi.set(i,t.currentSequenceNumber),at.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),at.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=Ef(t.data.value)),e}br(t,e,i){return at.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const r=this.pi.get(e);return at.resolve(r!==void 0&&r>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class nb{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Es=i,this.ds=r}static As(t,e){let i=qt(),r=qt();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new nb(t,e.fromCache,i,r)}}class Xz{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class Jz{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return AN()?8:SP(wn())>0?6:4})()}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,i,r){const o={result:null};return this.ys(t,e).next((l=>{o.result=l})).next((()=>{if(!o.result)return this.ws(t,e,r,i).next((l=>{o.result=l}))})).next((()=>{if(o.result)return;const l=new Xz;return this.Ss(t,e,l).next((u=>{if(o.result=u,this.Vs)return this.bs(t,e,l,u.size)}))})).next((()=>o.result))}bs(t,e,i,r){return i.documentReadCount<this.fs?(ul()<=Ft.DEBUG&&pt("QueryEngine","SDK will not create cache indexes for query:",hl(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),at.resolve()):(ul()<=Ft.DEBUG&&pt("QueryEngine","Query:",hl(e),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.gs*r?(ul()<=Ft.DEBUG&&pt("QueryEngine","The SDK decides to create cache indexes for query:",hl(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ss(e))):at.resolve())}ys(t,e){if(UT(e))return at.resolve(null);let i=Ss(e);return this.indexManager.getIndexType(t,i).next((r=>r===0?null:(e.limit!==null&&r===1&&(e=Jy(e,null,"F"),i=Ss(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next((o=>{const l=qt(...o);return this.ps.getDocuments(t,l).next((u=>this.indexManager.getMinOffset(t,i).next((d=>{const f=this.Ds(e,u);return this.Cs(e,f,l,d.readTime)?this.ys(t,Jy(e,null,"F")):this.vs(t,f,e,d)}))))})))))}ws(t,e,i,r){return UT(e)||r.isEqual(Nt.min())?at.resolve(null):this.ps.getDocuments(t,i).next((o=>{const l=this.Ds(e,o);return this.Cs(e,l,i,r)?at.resolve(null):(ul()<=Ft.DEBUG&&pt("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),hl(e)),this.vs(t,l,e,_P(r,Nu)).next((u=>u)))}))}Ds(t,e){let i=new Xe(QA(t));return e.forEach(((r,o)=>{Eg(t,o)&&(i=i.add(o))})),i}Cs(t,e,i,r){if(t.limit===null)return!1;if(i.size!==e.size)return!0;const o=t.limitType==="F"?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Ss(t,e,i){return ul()<=Ft.DEBUG&&pt("QueryEngine","Using full collection scan to execute query:",hl(e)),this.ps.getDocumentsMatchingQuery(t,e,aa.min(),i)}vs(t,e,i,r){return this.ps.getDocumentsMatchingQuery(t,i,r).next((o=>(e.forEach((l=>{o=o.insert(l.key,l)})),o)))}}const ib="LocalStore",Zz=3e8;class t4{constructor(t,e,i,r){this.persistence=t,this.Fs=e,this.serializer=r,this.Ms=new Ee(Ht),this.xs=new bo((o=>W0(o)),Y0),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(i)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Fz(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.Ms)))}}function e4(n,t,e,i){return new t4(n,t,e,i)}async function _C(n,t){const e=Ot(n);return await e.persistence.runTransaction("Handle user change","readonly",(i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next((o=>(r=o,e.Bs(t),e.mutationQueue.getAllMutationBatches(i)))).next((o=>{const l=[],u=[];let d=qt();for(const f of r){l.push(f.batchId);for(const p of f.mutations)d=d.add(p.key)}for(const f of o){u.push(f.batchId);for(const p of f.mutations)d=d.add(p.key)}return e.localDocuments.getDocuments(i,d).next((f=>({Ls:f,removedBatchIds:l,addedBatchIds:u})))}))}))}function n4(n,t){const e=Ot(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const r=t.batch.keys(),o=e.Ns.newChangeBuffer({trackRemovals:!0});return(function(u,d,f,p){const y=f.batch,_=y.keys();let x=at.resolve();return _.forEach((w=>{x=x.next((()=>p.getEntry(d,w))).next((A=>{const S=f.docVersions.get(w);ie(S!==null,48541),A.version.compareTo(S)<0&&(y.applyToRemoteDocument(A,f),A.isValidDocument()&&(A.setReadTime(f.commitVersion),p.addEntry(A)))}))})),x.next((()=>u.mutationQueue.removeMutationBatch(d,y)))})(e,i,t,o).next((()=>o.apply(i))).next((()=>e.mutationQueue.performConsistencyCheck(i))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(u){let d=qt();for(let f=0;f<u.mutationResults.length;++f)u.mutationResults[f].transformResults.length>0&&(d=d.add(u.batch.mutations[f].key));return d})(t)))).next((()=>e.localDocuments.getDocuments(i,r)))}))}function vC(n){const t=Ot(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Pi.getLastRemoteSnapshotVersion(e)))}function i4(n,t){const e=Ot(n),i=t.snapshotVersion;let r=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const l=e.Ns.newChangeBuffer({trackRemovals:!0});r=e.Ms;const u=[];t.targetChanges.forEach(((p,y)=>{const _=r.get(y);if(!_)return;u.push(e.Pi.removeMatchingKeys(o,p.removedDocuments,y).next((()=>e.Pi.addMatchingKeys(o,p.addedDocuments,y))));let x=_.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(y)!==null?x=x.withResumeToken(bn.EMPTY_BYTE_STRING,Nt.min()).withLastLimboFreeSnapshotVersion(Nt.min()):p.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(p.resumeToken,i)),r=r.insert(y,x),(function(A,S,M){return A.resumeToken.approximateByteSize()===0||S.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=Zz?!0:M.addedDocuments.size+M.modifiedDocuments.size+M.removedDocuments.size>0})(_,x,p)&&u.push(e.Pi.updateTargetData(o,x))}));let d=sr(),f=qt();if(t.documentUpdates.forEach((p=>{t.resolvedLimboDocuments.has(p)&&u.push(e.persistence.referenceDelegate.updateLimboDocument(o,p))})),u.push(s4(o,l,t.documentUpdates).next((p=>{d=p.ks,f=p.qs}))),!i.isEqual(Nt.min())){const p=e.Pi.getLastRemoteSnapshotVersion(o).next((y=>e.Pi.setTargetsMetadata(o,o.currentSequenceNumber,i)));u.push(p)}return at.waitFor(u).next((()=>l.apply(o))).next((()=>e.localDocuments.getLocalViewOfDocuments(o,d,f))).next((()=>d))})).then((o=>(e.Ms=r,o)))}function s4(n,t,e){let i=qt(),r=qt();return e.forEach((o=>i=i.add(o))),t.getEntries(n,i).next((o=>{let l=sr();return e.forEach(((u,d)=>{const f=o.get(u);d.isFoundDocument()!==f.isFoundDocument()&&(r=r.add(u)),d.isNoDocument()&&d.version.isEqual(Nt.min())?(t.removeEntry(u,d.readTime),l=l.insert(u,d)):!f.isValidDocument()||d.version.compareTo(f.version)>0||d.version.compareTo(f.version)===0&&f.hasPendingWrites?(t.addEntry(d),l=l.insert(u,d)):pt(ib,"Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",d.version)})),{ks:l,qs:r}}))}function r4(n,t){const e=Ot(n);return e.persistence.runTransaction("Get next mutation batch","readonly",(i=>(t===void 0&&(t=q0),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t))))}function a4(n,t){const e=Ot(n);return e.persistence.runTransaction("Allocate target","readwrite",(i=>{let r;return e.Pi.getTargetData(i,t).next((o=>o?(r=o,at.resolve(r)):e.Pi.allocateTargetId(i).next((l=>(r=new Wr(t,l,"TargetPurposeListen",i.currentSequenceNumber),e.Pi.addTargetData(i,r).next((()=>r)))))))})).then((i=>{const r=e.Ms.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.Ms=e.Ms.insert(i.targetId,i),e.xs.set(t,i.targetId)),i}))}async function i0(n,t,e){const i=Ot(n),r=i.Ms.get(t),o=e?"readwrite":"readwrite-primary";try{e||await i.persistence.runTransaction("Release target",o,(l=>i.persistence.referenceDelegate.removeTarget(l,r)))}catch(l){if(!Ul(l))throw l;pt(ib,`Failed to update sequence numbers for target ${t}: ${l}`)}i.Ms=i.Ms.remove(t),i.xs.delete(r.target)}function ZT(n,t,e){const i=Ot(n);let r=Nt.min(),o=qt();return i.persistence.runTransaction("Execute query","readwrite",(l=>(function(d,f,p){const y=Ot(d),_=y.xs.get(p);return _!==void 0?at.resolve(y.Ms.get(_)):y.Pi.getTargetData(f,p)})(i,l,Ss(t)).next((u=>{if(u)return r=u.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(l,u.targetId).next((d=>{o=d}))})).next((()=>i.Fs.getDocumentsMatchingQuery(l,t,e?r:Nt.min(),e?o:qt()))).next((u=>(o4(i,GP(t),u),{documents:u,Qs:o})))))}function o4(n,t,e){let i=n.Os.get(t)||Nt.min();e.forEach(((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)})),n.Os.set(t,i)}class tS{constructor(){this.activeTargetIds=XP()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class l4{constructor(){this.Mo=new tS,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,i){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new tS,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class c4{Oo(t){}shutdown(){}}const eS="ConnectivityMonitor";class nS{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){pt(eS,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){pt(eS,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Jd=null;function s0(){return Jd===null?Jd=(function(){return 268435456+Math.round(2147483648*Math.random())})():Jd++,"0x"+Jd.toString(16)}const cy="RestConnection",u4={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class h4{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${i}/databases/${r}`,this.Wo=this.databaseId.database===Bf?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Go(t,e,i,r,o){const l=s0(),u=this.zo(t,e.toUriEncodedString());pt(cy,`Sending RPC '${t}' ${l}:`,u,i);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,r,o);const{host:f}=new URL(u),p=Pl(f);return this.Jo(t,u,d,i,p).then((y=>(pt(cy,`Received RPC '${t}' ${l}: `,y),y)),(y=>{throw Tl(cy,`RPC '${t}' ${l} failed with error: `,y,"url: ",u,"request:",i),y}))}Ho(t,e,i,r,o,l){return this.Go(t,e,i,r,o)}jo(t,e,i){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Vl})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((r,o)=>t[o]=r)),i&&i.headers.forEach(((r,o)=>t[o]=r))}zo(t,e){const i=u4[t];return`${this.Uo}/v1/${e}:${i}`}terminate(){}}class d4{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const vn="WebChannelConnection";class f4 extends h4{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,i,r,o){const l=s0();return new Promise(((u,d)=>{const f=new TA;f.setWithCredentials(!0),f.listenOnce(SA.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case xf.NO_ERROR:const y=f.getResponseJson();pt(vn,`XHR for RPC '${t}' ${l} received:`,JSON.stringify(y)),u(y);break;case xf.TIMEOUT:pt(vn,`RPC '${t}' ${l} timed out`),d(new ft(st.DEADLINE_EXCEEDED,"Request time out"));break;case xf.HTTP_ERROR:const _=f.getStatus();if(pt(vn,`RPC '${t}' ${l} failed with status:`,_,"response text:",f.getResponseText()),_>0){let x=f.getResponseJson();Array.isArray(x)&&(x=x[0]);const w=x?.error;if(w&&w.status&&w.message){const A=(function(M){const V=M.toLowerCase().replace(/_/g,"-");return Object.values(st).indexOf(V)>=0?V:st.UNKNOWN})(w.status);d(new ft(A,w.message))}else d(new ft(st.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new ft(st.UNAVAILABLE,"Connection failed."));break;default:Ct(9055,{l_:t,streamId:l,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{pt(vn,`RPC '${t}' ${l} completed.`)}}));const p=JSON.stringify(r);pt(vn,`RPC '${t}' ${l} sending request:`,r),f.send(e,"POST",p,i,15)}))}T_(t,e,i){const r=s0(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],l=CA(),u=AA(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(d.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,e,i),d.encodeInitMessageHeaders=!0;const p=o.join("");pt(vn,`Creating RPC '${t}' stream ${r}: ${p}`,d);const y=l.createWebChannel(p,d);this.I_(y);let _=!1,x=!1;const w=new d4({Yo:S=>{x?pt(vn,`Not sending because RPC '${t}' stream ${r} is closed:`,S):(_||(pt(vn,`Opening RPC '${t}' stream ${r} transport.`),y.open(),_=!0),pt(vn,`RPC '${t}' stream ${r} sending:`,S),y.send(S))},Zo:()=>y.close()}),A=(S,M,V)=>{S.listen(M,(F=>{try{V(F)}catch(G){setTimeout((()=>{throw G}),0)}}))};return A(y,lu.EventType.OPEN,(()=>{x||(pt(vn,`RPC '${t}' stream ${r} transport opened.`),w.o_())})),A(y,lu.EventType.CLOSE,(()=>{x||(x=!0,pt(vn,`RPC '${t}' stream ${r} transport closed`),w.a_(),this.E_(y))})),A(y,lu.EventType.ERROR,(S=>{x||(x=!0,Tl(vn,`RPC '${t}' stream ${r} transport errored. Name:`,S.name,"Message:",S.message),w.a_(new ft(st.UNAVAILABLE,"The operation could not be completed")))})),A(y,lu.EventType.MESSAGE,(S=>{if(!x){const M=S.data[0];ie(!!M,16349);const V=M,F=V?.error||V[0]?.error;if(F){pt(vn,`RPC '${t}' stream ${r} received error:`,F);const G=F.status;let H=(function(I){const N=Ge[I];if(N!==void 0)return oC(N)})(G),Y=F.message;H===void 0&&(H=st.INTERNAL,Y="Unknown error status: "+G+" with message "+F.message),x=!0,w.a_(new ft(H,Y)),y.close()}else pt(vn,`RPC '${t}' stream ${r} received:`,M),w.u_(M)}})),A(u,wA.STAT_EVENT,(S=>{S.stat===Gy.PROXY?pt(vn,`RPC '${t}' stream ${r} detected buffering proxy`):S.stat===Gy.NOPROXY&&pt(vn,`RPC '${t}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{w.__()}),0),w}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((e=>e===t))}}function uy(){return typeof document<"u"?document:null}function Cg(n){return new yz(n,!0)}class xC{constructor(t,e,i=1e3,r=1.5,o=6e4){this.Mi=t,this.timerId=e,this.d_=i,this.A_=r,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),r=Math.max(0,e-i);r>0&&pt("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const iS="PersistentStream";class EC{constructor(t,e,i,r,o,l,u,d){this.Mi=t,this.S_=i,this.b_=r,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new xC(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===st.RESOURCE_EXHAUSTED?(ir(e.toString()),ir("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===st.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,r])=>{this.D_===e&&this.G_(i,r)}),(i=>{t((()=>{const r=new ft(st.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(r)}))}))}G_(t,e){const i=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((r=>{i((()=>this.z_(r)))})),this.stream.onMessage((r=>{i((()=>++this.F_==1?this.J_(r):this.onNext(r)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return pt(iS,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget((()=>this.D_===t?e():(pt(iS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class g4 extends EC{constructor(t,e,i,r,o,l){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,l),this.serializer=o}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=vz(this.serializer,t),i=(function(o){if(!("targetChange"in o))return Nt.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?Nt.min():l.readTime?ws(l.readTime):Nt.min()})(t);return this.listener.H_(e,i)}Y_(t){const e={};e.database=n0(this.serializer),e.addTarget=(function(o,l){let u;const d=l.target;if(u=Qy(d)?{documents:Tz(o,d)}:{query:Sz(o,d).ft},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=uC(o,l.resumeToken);const f=Zy(o,l.expectedCount);f!==null&&(u.expectedCount=f)}else if(l.snapshotVersion.compareTo(Nt.min())>0){u.readTime=Hf(o,l.snapshotVersion.toTimestamp());const f=Zy(o,l.expectedCount);f!==null&&(u.expectedCount=f)}return u})(this.serializer,t);const i=Az(this.serializer,t);i&&(e.labels=i),this.q_(e)}Z_(t){const e={};e.database=n0(this.serializer),e.removeTarget=t,this.q_(e)}}class p4 extends EC{constructor(t,e,i,r,o,l){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,l),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}J_(t){return ie(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,ie(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){ie(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=Ez(t.writeResults,t.commitTime),i=ws(t.commitTime);return this.listener.na(i,e)}ra(){const t={};t.database=n0(this.serializer),this.q_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((i=>xz(this.serializer,i)))};this.q_(e)}}class m4{}class y4 extends m4{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new ft(st.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,i,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,l])=>this.connection.Go(t,t0(e,i),r,o,l))).catch((o=>{throw o.name==="FirebaseError"?(o.code===st.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ft(st.UNKNOWN,o.toString())}))}Ho(t,e,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Ho(t,t0(e,i),r,l,u,o))).catch((l=>{throw l.name==="FirebaseError"?(l.code===st.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ft(st.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class b4{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ir(e),this.aa=!1):pt("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const go="RemoteStore";class _4{constructor(t,e,i,r,o){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((l=>{i.enqueueAndForget((async()=>{_o(this)&&(pt(go,"Restarting streams for network reachability change."),await(async function(d){const f=Ot(d);f.Ea.add(4),await ch(f),f.Ra.set("Unknown"),f.Ea.delete(4),await Ig(f)})(this))}))})),this.Ra=new b4(i,r)}}async function Ig(n){if(_o(n))for(const t of n.da)await t(!0)}async function ch(n){for(const t of n.da)await t(!1)}function TC(n,t){const e=Ot(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),ob(e)?ab(e):Fl(e).O_()&&rb(e,t))}function sb(n,t){const e=Ot(n),i=Fl(e);e.Ia.delete(t),i.O_()&&SC(e,t),e.Ia.size===0&&(i.O_()?i.L_():_o(e)&&e.Ra.set("Unknown"))}function rb(n,t){if(n.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Nt.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}Fl(n).Y_(t)}function SC(n,t){n.Va.Ue(t),Fl(n).Z_(t)}function ab(n){n.Va=new fz({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),Fl(n).start(),n.Ra.ua()}function ob(n){return _o(n)&&!Fl(n).x_()&&n.Ia.size>0}function _o(n){return Ot(n).Ea.size===0}function wC(n){n.Va=void 0}async function v4(n){n.Ra.set("Online")}async function x4(n){n.Ia.forEach(((t,e)=>{rb(n,t)}))}async function E4(n,t){wC(n),ob(n)?(n.Ra.ha(t),ab(n)):n.Ra.set("Unknown")}async function T4(n,t,e){if(n.Ra.set("Online"),t instanceof cC&&t.state===2&&t.cause)try{await(async function(r,o){const l=o.cause;for(const u of o.targetIds)r.Ia.has(u)&&(await r.remoteSyncer.rejectListen(u,l),r.Ia.delete(u),r.Va.removeTarget(u))})(n,t)}catch(i){pt(go,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await Gf(n,i)}else if(t instanceof wf?n.Va.Ze(t):t instanceof lC?n.Va.st(t):n.Va.tt(t),!e.isEqual(Nt.min()))try{const i=await vC(n.localStore);e.compareTo(i)>=0&&await(function(o,l){const u=o.Va.Tt(l);return u.targetChanges.forEach(((d,f)=>{if(d.resumeToken.approximateByteSize()>0){const p=o.Ia.get(f);p&&o.Ia.set(f,p.withResumeToken(d.resumeToken,l))}})),u.targetMismatches.forEach(((d,f)=>{const p=o.Ia.get(d);if(!p)return;o.Ia.set(d,p.withResumeToken(bn.EMPTY_BYTE_STRING,p.snapshotVersion)),SC(o,d);const y=new Wr(p.target,d,f,p.sequenceNumber);rb(o,y)})),o.remoteSyncer.applyRemoteEvent(u)})(n,e)}catch(i){pt(go,"Failed to raise snapshot:",i),await Gf(n,i)}}async function Gf(n,t,e){if(!Ul(t))throw t;n.Ea.add(1),await ch(n),n.Ra.set("Offline"),e||(e=()=>vC(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{pt(go,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await Ig(n)}))}function AC(n,t){return t().catch((e=>Gf(n,e,t)))}async function Rg(n){const t=Ot(n),e=ua(t);let i=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:q0;for(;S4(t);)try{const r=await r4(t.localStore,i);if(r===null){t.Ta.length===0&&e.L_();break}i=r.batchId,w4(t,r)}catch(r){await Gf(t,r)}CC(t)&&IC(t)}function S4(n){return _o(n)&&n.Ta.length<10}function w4(n,t){n.Ta.push(t);const e=ua(n);e.O_()&&e.X_&&e.ea(t.mutations)}function CC(n){return _o(n)&&!ua(n).x_()&&n.Ta.length>0}function IC(n){ua(n).start()}async function A4(n){ua(n).ra()}async function C4(n){const t=ua(n);for(const e of n.Ta)t.ea(e.mutations)}async function I4(n,t,e){const i=n.Ta.shift(),r=X0.from(i,t,e);await AC(n,(()=>n.remoteSyncer.applySuccessfulWrite(r))),await Rg(n)}async function R4(n,t){t&&ua(n).X_&&await(async function(i,r){if((function(l){return uz(l)&&l!==st.ABORTED})(r.code)){const o=i.Ta.shift();ua(i).B_(),await AC(i,(()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r))),await Rg(i)}})(n,t),CC(n)&&IC(n)}async function sS(n,t){const e=Ot(n);e.asyncQueue.verifyOperationInProgress(),pt(go,"RemoteStore received new credentials");const i=_o(e);e.Ea.add(3),await ch(e),i&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await Ig(e)}async function D4(n,t){const e=Ot(n);t?(e.Ea.delete(2),await Ig(e)):t||(e.Ea.add(2),await ch(e),e.Ra.set("Unknown"))}function Fl(n){return n.ma||(n.ma=(function(e,i,r){const o=Ot(e);return o.sa(),new g4(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)})(n.datastore,n.asyncQueue,{Xo:v4.bind(null,n),t_:x4.bind(null,n),r_:E4.bind(null,n),H_:T4.bind(null,n)}),n.da.push((async t=>{t?(n.ma.B_(),ob(n)?ab(n):n.Ra.set("Unknown")):(await n.ma.stop(),wC(n))}))),n.ma}function ua(n){return n.fa||(n.fa=(function(e,i,r){const o=Ot(e);return o.sa(),new p4(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:A4.bind(null,n),r_:R4.bind(null,n),ta:C4.bind(null,n),na:I4.bind(null,n)}),n.da.push((async t=>{t?(n.fa.B_(),await Rg(n)):(await n.fa.stop(),n.Ta.length>0&&(pt(go,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class lb{constructor(t,e,i,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new ea,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,r,o){const l=Date.now()+i,u=new lb(t,e,l,r,o);return u.start(i),u}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ft(st.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function cb(n,t){if(ir("AsyncQueue",`${t}: ${n}`),Ul(n))return new ft(st.UNAVAILABLE,`${t}: ${n}`);throw n}class _l{static emptySet(t){return new _l(t.comparator)}constructor(t){this.comparator=t?(e,i)=>t(e,i)||St.comparator(e.key,i.key):(e,i)=>St.comparator(e.key,i.key),this.keyedMap=cu(),this.sortedSet=new Ee(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,i)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof _l)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const i=new _l;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class rS{constructor(){this.ga=new Ee(St.comparator)}track(t){const e=t.doc.key,i=this.ga.get(e);i?t.type!==0&&i.type===3?this.ga=this.ga.insert(e,t):t.type===3&&i.type!==1?this.ga=this.ga.insert(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.ga=this.ga.remove(e):t.type===1&&i.type===2?this.ga=this.ga.insert(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):Ct(63341,{Rt:t,pa:i}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,i)=>{t.push(i)})),t}}class Il{constructor(t,e,i,r,o,l,u,d,f){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=d,this.hasCachedResults=f}static fromInitialDocuments(t,e,i,r,o){const l=[];return e.forEach((u=>{l.push({type:0,doc:u})})),new Il(t,e,_l.emptySet(e),l,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&xg(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class N4{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class k4{constructor(){this.queries=aS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,i){const r=Ot(e),o=r.queries;r.queries=aS(),o.forEach(((l,u)=>{for(const d of u.Sa)d.onError(i)}))})(this,new ft(st.ABORTED,"Firestore shutting down"))}}function aS(){return new bo((n=>KA(n)),xg)}async function RC(n,t){const e=Ot(n);let i=3;const r=t.query;let o=e.queries.get(r);o?!o.ba()&&t.Da()&&(i=2):(o=new N4,i=t.Da()?0:1);try{switch(i){case 0:o.wa=await e.onListen(r,!0);break;case 1:o.wa=await e.onListen(r,!1);break;case 2:await e.onFirstRemoteStoreListen(r)}}catch(l){const u=cb(l,`Initialization of query '${hl(t.query)}' failed`);return void t.onError(u)}e.queries.set(r,o),o.Sa.push(t),t.va(e.onlineState),o.wa&&t.Fa(o.wa)&&ub(e)}async function DC(n,t){const e=Ot(n),i=t.query;let r=3;const o=e.queries.get(i);if(o){const l=o.Sa.indexOf(t);l>=0&&(o.Sa.splice(l,1),o.Sa.length===0?r=t.Da()?0:1:!o.ba()&&t.Da()&&(r=2))}switch(r){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}}function O4(n,t){const e=Ot(n);let i=!1;for(const r of t){const o=r.query,l=e.queries.get(o);if(l){for(const u of l.Sa)u.Fa(r)&&(i=!0);l.wa=r}}i&&ub(e)}function M4(n,t,e){const i=Ot(n),r=i.queries.get(t);if(r)for(const o of r.Sa)o.onError(e);i.queries.delete(t)}function ub(n){n.Ca.forEach((t=>{t.next()}))}var r0,oS;(oS=r0||(r0={})).Ma="default",oS.Cache="cache";class NC{constructor(t,e,i){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)r.type!==3&&i.push(r);t=new Il(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const i=e!=="Offline";return(!this.options.qa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=Il.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==r0.Cache}}class kC{constructor(t){this.key=t}}class OC{constructor(t){this.key=t}}class P4{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=qt(),this.mutatedKeys=qt(),this.eu=QA(t),this.tu=new _l(this.eu)}get nu(){return this.Ya}ru(t,e){const i=e?e.iu:new rS,r=e?e.tu:this.tu;let o=e?e.mutatedKeys:this.mutatedKeys,l=r,u=!1;const d=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,f=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal(((p,y)=>{const _=r.get(p),x=Eg(this.query,y)?y:null,w=!!_&&this.mutatedKeys.has(_.key),A=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let S=!1;_&&x?_.data.isEqual(x.data)?w!==A&&(i.track({type:3,doc:x}),S=!0):this.su(_,x)||(i.track({type:2,doc:x}),S=!0,(d&&this.eu(x,d)>0||f&&this.eu(x,f)<0)&&(u=!0)):!_&&x?(i.track({type:0,doc:x}),S=!0):_&&!x&&(i.track({type:1,doc:_}),S=!0,(d||f)&&(u=!0)),S&&(x?(l=l.add(x),o=A?o.add(p):o.delete(p)):(l=l.delete(p),o=o.delete(p)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),o=o.delete(p.key),i.track({type:1,doc:p})}return{tu:l,iu:i,Cs:u,mutatedKeys:o}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,r){const o=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const l=t.iu.ya();l.sort(((p,y)=>(function(x,w){const A=S=>{switch(S){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ct(20277,{Rt:S})}};return A(x)-A(w)})(p.type,y.type)||this.eu(p.doc,y.doc))),this.ou(i),r=r??!1;const u=e&&!r?this._u():[],d=this.Xa.size===0&&this.current&&!r?1:0,f=d!==this.Za;return this.Za=d,l.length!==0||f?{snapshot:new Il(this.query,t.tu,o,l,t.mutatedKeys,d===0,f,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new rS,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Ya=this.Ya.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Ya=this.Ya.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=qt(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const e=[];return t.forEach((i=>{this.Xa.has(i)||e.push(new OC(i))})),this.Xa.forEach((i=>{t.has(i)||e.push(new kC(i))})),e}cu(t){this.Ya=t.Qs,this.Xa=qt();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return Il.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const hb="SyncEngine";class z4{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class L4{constructor(t){this.key=t,this.hu=!1}}class V4{constructor(t,e,i,r,o,l){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new bo((u=>KA(u)),xg),this.Iu=new Map,this.Eu=new Set,this.du=new Ee(St.comparator),this.Au=new Map,this.Ru=new tb,this.Vu={},this.mu=new Map,this.fu=Cl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function B4(n,t,e=!0){const i=BC(n);let r;const o=i.Tu.get(t);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.lu()):r=await MC(i,t,e,!0),r}async function U4(n,t){const e=BC(n);await MC(e,t,!0,!1)}async function MC(n,t,e,i){const r=await a4(n.localStore,Ss(t)),o=r.targetId,l=n.sharedClientState.addLocalQueryTarget(o,e);let u;return i&&(u=await j4(n,t,o,l==="current",r.resumeToken)),n.isPrimaryClient&&e&&TC(n.remoteStore,r),u}async function j4(n,t,e,i,r){n.pu=(y,_,x)=>(async function(A,S,M,V){let F=S.view.ru(M);F.Cs&&(F=await ZT(A.localStore,S.query,!1).then((({documents:D})=>S.view.ru(D,F))));const G=V&&V.targetChanges.get(S.targetId),H=V&&V.targetMismatches.get(S.targetId)!=null,Y=S.view.applyChanges(F,A.isPrimaryClient,G,H);return cS(A,S.targetId,Y.au),Y.snapshot})(n,y,_,x);const o=await ZT(n.localStore,t,!0),l=new P4(t,o.Qs),u=l.ru(o.documents),d=lh.createSynthesizedTargetChangeForCurrentChange(e,i&&n.onlineState!=="Offline",r),f=l.applyChanges(u,n.isPrimaryClient,d);cS(n,e,f.au);const p=new z4(t,e,l);return n.Tu.set(t,p),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),f.snapshot}async function F4(n,t,e){const i=Ot(n),r=i.Tu.get(t),o=i.Iu.get(r.targetId);if(o.length>1)return i.Iu.set(r.targetId,o.filter((l=>!xg(l,t)))),void i.Tu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await i0(i.localStore,r.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(r.targetId),e&&sb(i.remoteStore,r.targetId),a0(i,r.targetId)})).catch(Bl)):(a0(i,r.targetId),await i0(i.localStore,r.targetId,!0))}async function H4(n,t){const e=Ot(n),i=e.Tu.get(t),r=e.Iu.get(i.targetId);e.isPrimaryClient&&r.length===1&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),sb(e.remoteStore,i.targetId))}async function q4(n,t,e){const i=X4(n);try{const r=await(function(l,u){const d=Ot(l),f=be.now(),p=u.reduce(((x,w)=>x.add(w.key)),qt());let y,_;return d.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let w=sr(),A=qt();return d.Ns.getEntries(x,p).next((S=>{w=S,w.forEach(((M,V)=>{V.isValidDocument()||(A=A.add(M))}))})).next((()=>d.localDocuments.getOverlayedDocuments(x,w))).next((S=>{y=S;const M=[];for(const V of u){const F=rz(V,y.get(V.key).overlayedDocument);F!=null&&M.push(new ya(V.key,F,jA(F.value.mapValue),kn.exists(!0)))}return d.mutationQueue.addMutationBatch(x,f,M,u)})).next((S=>{_=S;const M=S.applyToLocalDocumentSet(y,A);return d.documentOverlayCache.saveOverlays(x,S.batchId,M)}))})).then((()=>({batchId:_.batchId,changes:JA(y)})))})(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),(function(l,u,d){let f=l.Vu[l.currentUser.toKey()];f||(f=new Ee(Ht)),f=f.insert(u,d),l.Vu[l.currentUser.toKey()]=f})(i,r.batchId,e),await uh(i,r.changes),await Rg(i.remoteStore)}catch(r){const o=cb(r,"Failed to persist write");e.reject(o)}}async function PC(n,t){const e=Ot(n);try{const i=await i4(e.localStore,t);t.targetChanges.forEach(((r,o)=>{const l=e.Au.get(o);l&&(ie(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?l.hu=!0:r.modifiedDocuments.size>0?ie(l.hu,14607):r.removedDocuments.size>0&&(ie(l.hu,42227),l.hu=!1))})),await uh(e,i,t)}catch(i){await Bl(i)}}function lS(n,t,e){const i=Ot(n);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){const r=[];i.Tu.forEach(((o,l)=>{const u=l.view.va(t);u.snapshot&&r.push(u.snapshot)})),(function(l,u){const d=Ot(l);d.onlineState=u;let f=!1;d.queries.forEach(((p,y)=>{for(const _ of y.Sa)_.va(u)&&(f=!0)})),f&&ub(d)})(i.eventManager,t),r.length&&i.Pu.H_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function G4(n,t,e){const i=Ot(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.Au.get(t),o=r&&r.key;if(o){let l=new Ee(St.comparator);l=l.insert(o,Tn.newNoDocument(o,Nt.min()));const u=qt().add(o),d=new Ag(Nt.min(),new Map,new Ee(Ht),l,u);await PC(i,d),i.du=i.du.remove(o),i.Au.delete(t),db(i)}else await i0(i.localStore,t,!1).then((()=>a0(i,t,e))).catch(Bl)}async function $4(n,t){const e=Ot(n),i=t.batch.batchId;try{const r=await n4(e.localStore,t);LC(e,i,null),zC(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),await uh(e,r)}catch(r){await Bl(r)}}async function W4(n,t,e){const i=Ot(n);try{const r=await(function(l,u){const d=Ot(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let p;return d.mutationQueue.lookupMutationBatch(f,u).next((y=>(ie(y!==null,37113),p=y.keys(),d.mutationQueue.removeMutationBatch(f,y)))).next((()=>d.mutationQueue.performConsistencyCheck(f))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(f,p,u))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,p))).next((()=>d.localDocuments.getDocuments(f,p)))}))})(i.localStore,t);LC(i,t,e),zC(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),await uh(i,r)}catch(r){await Bl(r)}}function zC(n,t){(n.mu.get(t)||[]).forEach((e=>{e.resolve()})),n.mu.delete(t)}function LC(n,t,e){const i=Ot(n);let r=i.Vu[i.currentUser.toKey()];if(r){const o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),i.Vu[i.currentUser.toKey()]=r}}function a0(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.Iu.get(t))n.Tu.delete(i),e&&n.Pu.yu(i,e);n.Iu.delete(t),n.isPrimaryClient&&n.Ru.jr(t).forEach((i=>{n.Ru.containsKey(i)||VC(n,i)}))}function VC(n,t){n.Eu.delete(t.path.canonicalString());const e=n.du.get(t);e!==null&&(sb(n.remoteStore,e),n.du=n.du.remove(t),n.Au.delete(e),db(n))}function cS(n,t,e){for(const i of e)i instanceof kC?(n.Ru.addReference(i.key,t),Y4(n,i)):i instanceof OC?(pt(hb,"Document no longer in limbo: "+i.key),n.Ru.removeReference(i.key,t),n.Ru.containsKey(i.key)||VC(n,i.key)):Ct(19791,{wu:i})}function Y4(n,t){const e=t.key,i=e.path.canonicalString();n.du.get(e)||n.Eu.has(i)||(pt(hb,"New document in limbo: "+e),n.Eu.add(i),db(n))}function db(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new St(fe.fromString(t)),i=n.fu.next();n.Au.set(i,new L4(e)),n.du=n.du.insert(e,i),TC(n.remoteStore,new Wr(Ss(K0(e.path)),i,"TargetPurposeLimboResolution",bg.ce))}}async function uh(n,t,e){const i=Ot(n),r=[],o=[],l=[];i.Tu.isEmpty()||(i.Tu.forEach(((u,d)=>{l.push(i.pu(d,t,e).then((f=>{if((f||e)&&i.isPrimaryClient){const p=f?!f.fromCache:e?.targetChanges.get(d.targetId)?.current;i.sharedClientState.updateQueryState(d.targetId,p?"current":"not-current")}if(f){r.push(f);const p=nb.As(d.targetId,f);o.push(p)}})))})),await Promise.all(l),i.Pu.H_(r),await(async function(d,f){const p=Ot(d);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(y=>at.forEach(f,(_=>at.forEach(_.Es,(x=>p.persistence.referenceDelegate.addReference(y,_.targetId,x))).next((()=>at.forEach(_.ds,(x=>p.persistence.referenceDelegate.removeReference(y,_.targetId,x)))))))))}catch(y){if(!Ul(y))throw y;pt(ib,"Failed to update sequence numbers: "+y)}for(const y of f){const _=y.targetId;if(!y.fromCache){const x=p.Ms.get(_),w=x.snapshotVersion,A=x.withLastLimboFreeSnapshotVersion(w);p.Ms=p.Ms.insert(_,A)}}})(i.localStore,o))}async function K4(n,t){const e=Ot(n);if(!e.currentUser.isEqual(t)){pt(hb,"User change. New user:",t.toKey());const i=await _C(e.localStore,t);e.currentUser=t,(function(o,l){o.mu.forEach((u=>{u.forEach((d=>{d.reject(new ft(st.CANCELLED,l))}))})),o.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await uh(e,i.Ls)}}function Q4(n,t){const e=Ot(n),i=e.Au.get(t);if(i&&i.hu)return qt().add(i.key);{let r=qt();const o=e.Iu.get(t);if(!o)return r;for(const l of o){const u=e.Tu.get(l);r=r.unionWith(u.view.nu)}return r}}function BC(n){const t=Ot(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=PC.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Q4.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=G4.bind(null,t),t.Pu.H_=O4.bind(null,t.eventManager),t.Pu.yu=M4.bind(null,t.eventManager),t}function X4(n){const t=Ot(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=$4.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=W4.bind(null,t),t}class $f{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Cg(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return e4(this.persistence,new Jz,t.initialUser,this.serializer)}Cu(t){return new bC(eb.mi,this.serializer)}Du(t){return new l4}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}$f.provider={build:()=>new $f};class J4 extends $f{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){ie(this.persistence.referenceDelegate instanceof qf,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new Lz(i,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?Fn.withCacheSize(this.cacheSizeBytes):Fn.DEFAULT;return new bC((i=>qf.mi(i,e)),this.serializer)}}class o0{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>lS(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=K4.bind(null,this.syncEngine),await D4(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new k4})()}createDatastore(t){const e=Cg(t.databaseInfo.databaseId),i=(function(o){return new f4(o)})(t.databaseInfo);return(function(o,l,u,d){return new y4(o,l,u,d)})(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return(function(i,r,o,l,u){return new _4(i,r,o,l,u)})(this.localStore,this.datastore,t.asyncQueue,(e=>lS(this.syncEngine,e,0)),(function(){return nS.v()?new nS:new c4})())}createSyncEngine(t,e){return(function(r,o,l,u,d,f,p){const y=new V4(r,o,l,u,d,f);return p&&(y.gu=!0),y})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await(async function(e){const i=Ot(e);pt(go,"RemoteStore shutting down."),i.Ea.add(5),await ch(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}o0.provider={build:()=>new o0};class UC{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):ir("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}const ha="FirestoreClient";class Z4{constructor(t,e,i,r,o){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=En.UNAUTHENTICATED,this.clientId=H0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,(async l=>{pt(ha,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(i,(l=>(pt(ha,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ea;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=cb(e,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}async function hy(n,t){n.asyncQueue.verifyOperationInProgress(),pt(ha,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener((async r=>{i.isEqual(r)||(await _C(t.localStore,r),i=r)})),t.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=t}async function uS(n,t){n.asyncQueue.verifyOperationInProgress();const e=await tL(n);pt(ha,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener((i=>sS(t.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,r)=>sS(t.remoteStore,r))),n._onlineComponents=t}async function tL(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){pt(ha,"Using user provided OfflineComponentProvider");try{await hy(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(r){return r.name==="FirebaseError"?r.code===st.FAILED_PRECONDITION||r.code===st.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11})(e))throw e;Tl("Error using user provided cache. Falling back to memory cache: "+e),await hy(n,new $f)}}else pt(ha,"Using default OfflineComponentProvider"),await hy(n,new J4(void 0));return n._offlineComponents}async function jC(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(pt(ha,"Using user provided OnlineComponentProvider"),await uS(n,n._uninitializedComponentsProvider._online)):(pt(ha,"Using default OnlineComponentProvider"),await uS(n,new o0))),n._onlineComponents}function eL(n){return jC(n).then((t=>t.syncEngine))}async function l0(n){const t=await jC(n),e=t.eventManager;return e.onListen=B4.bind(null,t.syncEngine),e.onUnlisten=F4.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=U4.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=H4.bind(null,t.syncEngine),e}function nL(n,t,e={}){const i=new ea;return n.asyncQueue.enqueueAndForget((async()=>(function(o,l,u,d,f){const p=new UC({next:_=>{p.Nu(),l.enqueueAndForget((()=>DC(o,y))),_.fromCache&&d.source==="server"?f.reject(new ft(st.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(_)},error:_=>f.reject(_)}),y=new NC(u,p,{includeMetadataChanges:!0,qa:!0});return RC(o,y)})(await l0(n),n.asyncQueue,t,e,i))),i.promise}function FC(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}const hS=new Map;const HC="firestore.googleapis.com",dS=!0;class fS{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new ft(st.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=HC,this.ssl=dS}else this.host=t.host,this.ssl=t.ssl??dS;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=yC;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<Pz)throw new ft(st.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}bP("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=FC(t.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ft(st.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ft(st.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ft(st.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(i,r){return i.timeoutSeconds===r.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Dg{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new fS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ft(st.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ft(st.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new fS(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new lP;switch(i.type){case"firstParty":return new dP(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ft(st.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const i=hS.get(e);i&&(pt("ComponentProvider","Removing Datastore"),hS.delete(e),i.terminate())})(this),Promise.resolve()}}function iL(n,t,e,i={}){n=ii(n,Dg);const r=Pl(t),o=n._getSettings(),l={...o,emulatorOptions:n._getEmulatorOptions()},u=`${t}:${e}`;r&&(O1(`https://${u}`),M1("Firestore",!0)),o.host!==HC&&o.host!==u&&Tl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...o,host:u,ssl:r,emulatorOptions:i};if(!co(d,l)&&(n._setSettings(d),i.mockUserToken)){let f,p;if(typeof i.mockUserToken=="string")f=i.mockUserToken,p=En.MOCK_USER;else{f=yN(i.mockUserToken,n._app?.options.projectId);const y=i.mockUserToken.sub||i.mockUserToken.user_id;if(!y)throw new ft(st.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new En(y)}n._authCredentials=new cP(new RA(f,p))}}class ba{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new ba(this.firestore,t,this._query)}}class Oe{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new na(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Oe(this.firestore,t,this._key)}toJSON(){return{type:Oe._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,i){if(ah(e,Oe._jsonSchema))return new Oe(t,i||null,new St(fe.fromString(e.referencePath)))}}Oe._jsonSchemaVersion="firestore/documentReference/1.0",Oe._jsonSchema={type:We("string",Oe._jsonSchemaVersion),referencePath:We("string")};class na extends ba{constructor(t,e,i){super(t,e,K0(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Oe(this.firestore,null,new St(t))}withConverter(t){return new na(this.firestore,t,this._path)}}function po(n,t,...e){if(n=Ae(n),DA("collection","path",t),n instanceof Dg){const i=fe.fromString(t,...e);return AT(i),new na(n,null,i)}{if(!(n instanceof Oe||n instanceof na))throw new ft(st.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(fe.fromString(t,...e));return AT(i),new na(n.firestore,null,i)}}function si(n,t,...e){if(n=Ae(n),arguments.length===1&&(t=H0.newId()),DA("doc","path",t),n instanceof Dg){const i=fe.fromString(t,...e);return wT(i),new Oe(n,null,new St(i))}{if(!(n instanceof Oe||n instanceof na))throw new ft(st.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(fe.fromString(t,...e));return wT(i),new Oe(n.firestore,n instanceof na?n.converter:null,new St(i))}}const gS="AsyncQueue";class pS{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new xC(this,"async_queue_retry"),this._c=()=>{const i=uy();i&&pt(gS,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const e=uy();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=uy();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new ea;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Ul(t))throw t;pt(gS,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((i=>{throw this.nc=i,this.rc=!1,ir("INTERNAL UNHANDLED ERROR: ",mS(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=e,e}enqueueAfterDelay(t,e,i){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const r=lb.createAndSchedule(this,t,e,i,(o=>this.hc(o)));return this.tc.push(r),r}uc(){this.nc&&Ct(47125,{Pc:mS(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,i)=>e.targetTimeMs-i.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function mS(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}function yS(n){return(function(e,i){if(typeof e!="object"||e===null)return!1;const r=e;for(const o of i)if(o in r&&typeof r[o]=="function")return!0;return!1})(n,["next","error","complete"])}class rr extends Dg{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new pS,this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new pS(t),this._firestoreClient=void 0,await t}}}function sL(n,t){const e=typeof n=="object"?n:V1(),i=typeof n=="string"?n:Bf,r=O0(e,"firestore").getImmediate({identifier:i});if(!r._initialized){const o=pN("firestore");o&&iL(r,...o)}return r}function Ng(n){if(n._terminated)throw new ft(st.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||rL(n),n._firestoreClient}function rL(n){const t=n._freezeSettings(),e=(function(r,o,l,u){return new RP(r,o,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,FC(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new Z4(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&(function(r){const o=r?._online.build();return{_offline:r?._offline.build(o),_online:o}})(n._componentsProvider))}class Ei{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ei(bn.fromBase64String(t))}catch(e){throw new ft(st.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Ei(bn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Ei._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(ah(t,Ei._jsonSchema))return Ei.fromBase64String(t.bytes)}}Ei._jsonSchemaVersion="firestore/bytes/1.0",Ei._jsonSchema={type:We("string",Ei._jsonSchemaVersion),bytes:We("string")};class hh{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new ft(st.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new mn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class kg{constructor(t){this._methodName=t}}class As{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new ft(st.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new ft(st.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Ht(this._lat,t._lat)||Ht(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:As._jsonSchemaVersion}}static fromJSON(t){if(ah(t,As._jsonSchema))return new As(t.latitude,t.longitude)}}As._jsonSchemaVersion="firestore/geoPoint/1.0",As._jsonSchema={type:We("string",As._jsonSchemaVersion),latitude:We("number"),longitude:We("number")};class Cs{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(i,r){if(i.length!==r.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==r[o])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Cs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(ah(t,Cs._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new Cs(t.vectorValues);throw new ft(st.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Cs._jsonSchemaVersion="firestore/vectorValue/1.0",Cs._jsonSchema={type:We("string",Cs._jsonSchemaVersion),vectorValues:We("object")};const aL=/^__.*__$/;class oL{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return this.fieldMask!==null?new ya(t,this.data,this.fieldMask,e,this.fieldTransforms):new oh(t,this.data,e,this.fieldTransforms)}}class qC{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new ya(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function GC(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ct(40011,{Ac:n})}}class fb{constructor(t,e,i,r,o,l){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new fb({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const e=this.path?.child(t),i=this.Vc({path:e,fc:!1});return i.gc(t),i}yc(t){const e=this.path?.child(t),i=this.Vc({path:e,fc:!1});return i.Rc(),i}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Wf(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(GC(this.Ac)&&aL.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class lL{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||Cg(t)}Cc(t,e,i,r=!1){return new fb({Ac:t,methodName:e,Dc:i,path:mn.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function dh(n){const t=n._freezeSettings(),e=Cg(n._databaseId);return new lL(n._databaseId,!!t.ignoreUndefinedProperties,e)}function gb(n,t,e,i,r,o={}){const l=n.Cc(o.merge||o.mergeFields?2:0,t,e,r);mb("Data must be an object, but it was:",l,i);const u=YC(i,l);let d,f;if(o.merge)d=new ei(l.fieldMask),f=l.fieldTransforms;else if(o.mergeFields){const p=[];for(const y of o.mergeFields){const _=c0(t,y,e);if(!l.contains(_))throw new ft(st.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);QC(p,_)||p.push(_)}d=new ei(p),f=l.fieldTransforms.filter((y=>d.covers(y.field)))}else d=null,f=l.fieldTransforms;return new oL(new Hn(u),d,f)}class Og extends kg{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Og}}class pb extends kg{_toFieldTransform(t){return new ez(t.path,new zu)}isEqual(t){return t instanceof pb}}function $C(n,t,e,i){const r=n.Cc(1,t,e);mb("Data must be an object, but it was:",r,i);const o=[],l=Hn.empty();ma(i,((d,f)=>{const p=yb(t,d,e);f=Ae(f);const y=r.yc(p);if(f instanceof Og)o.push(p);else{const _=fh(f,y);_!=null&&(o.push(p),l.set(p,_))}}));const u=new ei(o);return new qC(l,u,r.fieldTransforms)}function WC(n,t,e,i,r,o){const l=n.Cc(1,t,e),u=[c0(t,i,e)],d=[r];if(o.length%2!=0)throw new ft(st.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<o.length;_+=2)u.push(c0(t,o[_])),d.push(o[_+1]);const f=[],p=Hn.empty();for(let _=u.length-1;_>=0;--_)if(!QC(f,u[_])){const x=u[_];let w=d[_];w=Ae(w);const A=l.yc(x);if(w instanceof Og)f.push(x);else{const S=fh(w,A);S!=null&&(f.push(x),p.set(x,S))}}const y=new ei(f);return new qC(p,y,l.fieldTransforms)}function cL(n,t,e,i=!1){return fh(e,n.Cc(i?4:3,t))}function fh(n,t){if(KC(n=Ae(n)))return mb("Unsupported field value:",t,n),YC(n,t);if(n instanceof kg)return(function(i,r){if(!GC(r.Ac))throw r.Sc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Sc(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(i,r){const o=[];let l=0;for(const u of i){let d=fh(u,r.wc(l));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),l++}return{arrayValue:{values:o}}})(n,t)}return(function(i,r){if((i=Ae(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return JP(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=be.fromDate(i);return{timestampValue:Hf(r.serializer,o)}}if(i instanceof be){const o=new be(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Hf(r.serializer,o)}}if(i instanceof As)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Ei)return{bytesValue:uC(r.serializer,i._byteString)};if(i instanceof Oe){const o=r.databaseId,l=i.firestore._databaseId;if(!l.isEqual(o))throw r.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Z0(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof Cs)return(function(l,u){return{mapValue:{fields:{[BA]:{stringValue:UA},[Uf]:{arrayValue:{values:l.toArray().map((f=>{if(typeof f!="number")throw u.Sc("VectorValues must only contain numeric values.");return Q0(u.serializer,f)}))}}}}}})(i,r);throw r.Sc(`Unsupported field value: ${yg(i)}`)})(n,t)}function YC(n,t){const e={};return OA(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ma(n,((i,r)=>{const o=fh(r,t.mc(i));o!=null&&(e[i]=o)})),{mapValue:{fields:e}}}function KC(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof be||n instanceof As||n instanceof Ei||n instanceof Oe||n instanceof kg||n instanceof Cs)}function mb(n,t,e){if(!KC(e)||!NA(e)){const i=yg(e);throw i==="an object"?t.Sc(n+" a custom object"):t.Sc(n+" "+i)}}function c0(n,t,e){if((t=Ae(t))instanceof hh)return t._internalPath;if(typeof t=="string")return yb(n,t);throw Wf("Field path arguments must be of type string or ",n,!1,void 0,e)}const uL=new RegExp("[~\\*/\\[\\]]");function yb(n,t,e){if(t.search(uL)>=0)throw Wf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new hh(...t.split("."))._internalPath}catch{throw Wf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function Wf(n,t,e,i,r){const o=i&&!i.isEmpty(),l=r!==void 0;let u=`Function ${t}() called with invalid data`;e&&(u+=" (via `toFirestore()`)"),u+=". ";let d="";return(o||l)&&(d+=" (found",o&&(d+=` in field ${i}`),l&&(d+=` in document ${r}`),d+=")"),new ft(st.INVALID_ARGUMENT,u+n+d)}function QC(n,t){return n.some((e=>e.isEqual(t)))}class XC{constructor(t,e,i,r,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Oe(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new hL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(bb("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class hL extends XC{data(){return super.data()}}function bb(n,t){return typeof t=="string"?yb(n,t):t instanceof hh?t._internalPath:t._delegate._internalPath}function JC(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ft(st.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _b{}class ZC extends _b{}function u0(n,t,...e){let i=[];t instanceof _b&&i.push(t),i=i.concat(e),(function(o){const l=o.filter((d=>d instanceof xb)).length,u=o.filter((d=>d instanceof vb)).length;if(l>1||l>0&&u>0)throw new ft(st.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const r of i)n=r._apply(n);return n}class vb extends ZC{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new vb(t,e,i)}_apply(t){const e=this._parse(t);return tI(t._query,e),new ba(t.firestore,t.converter,Xy(t._query,e))}_parse(t){const e=dh(t.firestore);return(function(o,l,u,d,f,p,y){let _;if(f.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new ft(st.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){_S(y,p);const w=[];for(const A of y)w.push(bS(d,o,A));_={arrayValue:{values:w}}}else _=bS(d,o,y)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||_S(y,p),_=cL(u,l,y,p==="in"||p==="not-in");return $e.create(f,p,_)})(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}class xb extends _b{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new xb(t,e)}_parse(t){const e=this._queryConstraints.map((i=>i._parse(t))).filter((i=>i.getFilters().length>0));return e.length===1?e[0]:Wi.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:((function(r,o){let l=r;const u=o.getFlattenedFilters();for(const d of u)tI(l,d),l=Xy(l,d)})(t._query,e),new ba(t.firestore,t.converter,Xy(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Eb extends ZC{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new Eb(t,e)}_apply(t){const e=(function(r,o,l){if(r.startAt!==null)throw new ft(st.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new ft(st.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Pu(o,l)})(t._query,this._field,this._direction);return new ba(t.firestore,t.converter,(function(r,o){const l=r.explicitOrderBy.concat([o]);return new jl(r.path,r.collectionGroup,l,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)})(t._query,e))}}function xu(n,t="asc"){const e=t,i=bb("orderBy",n);return Eb._create(i,e)}function bS(n,t,e){if(typeof(e=Ae(e))=="string"){if(e==="")throw new ft(st.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!YA(t)&&e.indexOf("/")!==-1)throw new ft(st.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(fe.fromString(e));if(!St.isDocumentKey(i))throw new ft(st.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return MT(n,new St(i))}if(e instanceof Oe)return MT(n,e._key);throw new ft(st.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${yg(e)}.`)}function _S(n,t){if(!Array.isArray(n)||n.length===0)throw new ft(st.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function tI(n,t){const e=(function(r,o){for(const l of r)for(const u of l.getFlattenedFilters())if(o.indexOf(u.op)>=0)return u.op;return null})(n.filters,(function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(e!==null)throw e===t.op?new ft(st.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new ft(st.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class dL{convertValue(t,e="none"){switch(ca(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Ne(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(la(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Ct(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return ma(t,((r,o)=>{i[r]=this.convertValue(o,e)})),i}convertVectorValue(t){const e=t.fields?.[Uf].arrayValue?.values?.map((i=>Ne(i.doubleValue)));return new Cs(e)}convertGeoPoint(t){return new As(Ne(t.latitude),Ne(t.longitude))}convertArray(t,e){return(t.values||[]).map((i=>this.convertValue(i,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const i=vg(t);return i==null?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(ku(t));default:return null}}convertTimestamp(t){const e=oa(t);return new be(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=fe.fromString(t);ie(mC(i),9688,{name:t});const r=new Ou(i.get(1),i.get(3)),o=new St(i.popFirst(5));return r.isEqual(e)||ir(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}function Tb(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class hu{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class ao extends XC{constructor(t,e,i,r,o,l){super(t,e,i,r,l),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Af(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(bb("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ft(st.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=ao._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}ao._jsonSchemaVersion="firestore/documentSnapshot/1.0",ao._jsonSchema={type:We("string",ao._jsonSchemaVersion),bundleSource:We("string","DocumentSnapshot"),bundleName:We("string"),bundle:We("string")};class Af extends ao{data(t={}){return super.data(t)}}class oo{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new hu(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((i=>{t.call(e,new Af(this._firestore,this._userDataWriter,i.key,i,new hu(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new ft(st.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(r,o){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map((u=>{const d=new Af(r._firestore,r._userDataWriter,u.doc.key,u.doc,new hu(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);return u.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}}))}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter((u=>o||u.type!==3)).map((u=>{const d=new Af(r._firestore,r._userDataWriter,u.doc.key,u.doc,new hu(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);let f=-1,p=-1;return u.type!==0&&(f=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),p=l.indexOf(u.doc.key)),{type:fL(u.type),doc:d,oldIndex:f,newIndex:p}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ft(st.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=oo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=H0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],i=[],r=[];return this.docs.forEach((o=>{o._document!==null&&(e.push(o._document),i.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),r.push(o.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function fL(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ct(61501,{type:n})}}oo._jsonSchemaVersion="firestore/querySnapshot/1.0",oo._jsonSchema={type:We("string",oo._jsonSchemaVersion),bundleSource:We("string","QuerySnapshot"),bundleName:We("string"),bundle:We("string")};class Sb extends dL{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ei(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Oe(this.firestore,null,e)}}function h0(n){n=ii(n,ba);const t=ii(n.firestore,rr),e=Ng(t),i=new Sb(t);return JC(n._query),nL(e,n._query).then((r=>new oo(t,i,n,r)))}function vS(n,t,e){n=ii(n,Oe);const i=ii(n.firestore,rr),r=Tb(n.converter,t,e);return gh(i,[gb(dh(i),"setDoc",n._key,r,n.converter!==null,e).toMutation(n._key,kn.none())])}function Yf(n,t,e,...i){n=ii(n,Oe);const r=ii(n.firestore,rr),o=dh(r);let l;return l=typeof(t=Ae(t))=="string"||t instanceof hh?WC(o,"updateDoc",n._key,t,e,i):$C(o,"updateDoc",n._key,t),gh(r,[l.toMutation(n._key,kn.exists(!0))])}function eI(n){return gh(ii(n.firestore,rr),[new wg(n._key,kn.none())])}function nI(n,t){const e=ii(n.firestore,rr),i=si(n),r=Tb(n.converter,t);return gh(e,[gb(dh(n.firestore),"addDoc",i._key,r,n.converter!==null,{}).toMutation(i._key,kn.exists(!1))]).then((()=>i))}function wb(n,...t){n=Ae(n);let e={includeMetadataChanges:!1,source:"default"},i=0;typeof t[i]!="object"||yS(t[i])||(e=t[i++]);const r={includeMetadataChanges:e.includeMetadataChanges,source:e.source};if(yS(t[i])){const d=t[i];t[i]=d.next?.bind(d),t[i+1]=d.error?.bind(d),t[i+2]=d.complete?.bind(d)}let o,l,u;if(n instanceof Oe)l=ii(n.firestore,rr),u=K0(n._key.path),o={next:d=>{t[i]&&t[i](gL(l,n,d))},error:t[i+1],complete:t[i+2]};else{const d=ii(n,ba);l=ii(d.firestore,rr),u=d._query;const f=new Sb(l);o={next:p=>{t[i]&&t[i](new oo(l,f,d,p))},error:t[i+1],complete:t[i+2]},JC(n._query)}return(function(f,p,y,_){const x=new UC(_),w=new NC(p,x,y);return f.asyncQueue.enqueueAndForget((async()=>RC(await l0(f),w))),()=>{x.Nu(),f.asyncQueue.enqueueAndForget((async()=>DC(await l0(f),w)))}})(Ng(l),u,r,o)}function gh(n,t){return(function(i,r){const o=new ea;return i.asyncQueue.enqueueAndForget((async()=>q4(await eL(i),r,o))),o.promise})(Ng(n),t)}function gL(n,t,e){const i=e.docs.get(t._key),r=new Sb(n);return new ao(n,r,t._key,i,new hu(e.hasPendingWrites,e.fromCache),t.converter)}class pL{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=dh(t)}set(t,e,i){this._verifyNotCommitted();const r=dy(t,this._firestore),o=Tb(r.converter,e,i),l=gb(this._dataReader,"WriteBatch.set",r._key,o,r.converter!==null,i);return this._mutations.push(l.toMutation(r._key,kn.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const o=dy(t,this._firestore);let l;return l=typeof(e=Ae(e))=="string"||e instanceof hh?WC(this._dataReader,"WriteBatch.update",o._key,e,i,r):$C(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(l.toMutation(o._key,kn.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=dy(t,this._firestore);return this._mutations=this._mutations.concat(new wg(e._key,kn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ft(st.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function dy(n,t){if((n=Ae(n)).firestore!==t)throw new ft(st.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}function io(){return new pb("serverTimestamp")}function iI(n){return Ng(n=ii(n,rr)),new pL(n,(t=>gh(n,t)))}(function(t,e=!0){(function(r){Vl=r})(zl),xl(new uo("firestore",((i,{instanceIdentifier:r,options:o})=>{const l=i.getProvider("app").getImmediate(),u=new rr(new uP(i.getProvider("auth-internal")),new fP(l,i.getProvider("app-check-internal")),(function(f,p){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new ft(st.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ou(f.options.projectId,p)})(l,r),l);return o={useFetchStreams:e,...o},u._setSettings(o),u}),"PUBLIC").setMultipleInstances(!0)),Zr(xT,ET,t),Zr(xT,ET,"esm2020")})();const mL={apiKey:"AIzaSyAvBYzH_B2CY7e5tqJkHqj83hT62POyVT4",authDomain:"tracker-7953b.firebaseapp.com",projectId:"tracker-7953b",storageBucket:"tracker-7953b.firebasestorage.app",messagingSenderId:"277129788312",appId:"1:277129788312:web:ed28693354f33d1d6609ed"},sI=L1(mL),ji=sP(sI),ke=sL(sI);const yL=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),bL=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,i)=>i?i.toUpperCase():e.toLowerCase()),xS=n=>{const t=bL(n);return t.charAt(0).toUpperCase()+t.slice(1)},rI=(...n)=>n.filter((t,e,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===e).join(" ").trim(),_L=n=>{for(const t in n)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var vL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const xL=$.forwardRef(({color:n="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:i,className:r="",children:o,iconNode:l,...u},d)=>$.createElement("svg",{ref:d,...vL,width:t,height:t,stroke:n,strokeWidth:i?Number(e)*24/Number(t):e,className:rI("lucide",r),...!o&&!_L(u)&&{"aria-hidden":"true"},...u},[...l.map(([f,p])=>$.createElement(f,p)),...Array.isArray(o)?o:[o]]));const Zt=(n,t)=>{const e=$.forwardRef(({className:i,...r},o)=>$.createElement(xL,{ref:o,iconNode:t,className:rI(`lucide-${yL(xS(n))}`,`lucide-${n}`,i),...r}));return e.displayName=xS(n),e};const EL=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Ab=Zt("activity",EL);const TL=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],aI=Zt("calendar",TL);const SL=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],wL=Zt("camera",SL);const AL=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],Cb=Zt("chart-no-axes-column",AL);const CL=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Kf=Zt("check",CL);const IL=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],RL=Zt("chevron-down",IL);const DL=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],oI=Zt("chevron-left",DL);const NL=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Ib=Zt("chevron-right",NL);const kL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],OL=Zt("circle-alert",kL);const ML=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],PL=Zt("circle-check-big",ML);const zL=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],LL=Zt("download",zL);const VL=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],lI=Zt("flame",VL);const BL=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],UL=Zt("image",BL);const jL=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],FL=Zt("link-2",jL);const HL=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Bu=Zt("loader-circle",HL);const qL=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],GL=Zt("log-out",qL);const $L=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],WL=Zt("menu",$L);const YL=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],cI=Zt("moon",YL);const KL=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],QL=Zt("palette",KL);const XL=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],uI=Zt("pen",XL);const JL=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Uu=Zt("plus",JL);const ZL=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],tV=Zt("save",ZL);const eV=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],nV=Zt("settings",eV);const iV=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],sV=Zt("star",iV);const rV=[["path",{d:"M21 9a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 15 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2z",key:"1dfntj"}],["path",{d:"M15 3v5a1 1 0 0 0 1 1h5",key:"6s6qgf"}]],hI=Zt("sticky-note",rV);const aV=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],oV=Zt("sun",aV);const lV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],cV=Zt("target",lV);const uV=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Rb=Zt("trash-2",uV);const hV=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],dV=Zt("triangle-alert",hV);const fV=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],gV=Zt("upload",fV);const pV=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],dI=Zt("user",pV);const mV=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Db=Zt("x",mV),fI=$.createContext(),yV=({children:n})=>{const[t,e]=$.useState(null),[i,r]=$.useState(!0);return $.useEffect(()=>{const o=$O(ji,l=>{e(l),r(!1)});return()=>o()},[]),i?C.jsx("div",{className:"h-screen w-full flex items-center justify-center bg-zinc-50 dark:bg-zinc-900",children:C.jsx(Bu,{className:"w-10 h-10 animate-spin text-blue-500"})}):C.jsx(fI.Provider,{value:{user:t},children:n})},lr=()=>$.useContext(fI),bV=()=>{const[n,t]=$.useState(""),[e,i]=$.useState(""),[r,o]=$.useState(!1),[l,u]=$.useState(""),d=async p=>{p.preventDefault(),o(!0),u("");try{try{await FO(ji,n,e)}catch(y){if(y.code==="auth/user-not-found"||y.code==="auth/invalid-credential")await jO(ji,n,e);else throw y}}catch(y){console.error(y),u(y.message.replace("Firebase:","").trim()),o(!1)}},f=async()=>{o(!0);try{await LO(ji)}catch(p){console.error(p),u("Could not sign in as guest."),o(!1)}};return C.jsx("div",{className:"flex items-center justify-center min-h-screen p-4 bg-zinc-50 dark:bg-zinc-900",children:C.jsxs("div",{className:"rounded-2xl shadow-2xl p-8 w-full max-w-md border bg-white dark:bg-zinc-800 border-zinc-200 dark:border-zinc-700",children:[C.jsxs("div",{className:"text-center mb-8",children:[C.jsx("div",{className:"bg-blue-600 w-16 h-16 rounded-2xl mx-auto flex items-center justify-center mb-6 shadow-lg shadow-blue-600/30",children:C.jsx(Ab,{className:"text-white w-8 h-8"})}),C.jsx("h2",{className:"text-3xl font-bold mb-2 text-zinc-900 dark:text-white",children:"TrackIt"}),C.jsx("p",{className:"text-zinc-500 dark:text-zinc-400",children:"Sign in to sync your progress"})]}),C.jsxs("form",{onSubmit:d,className:"space-y-4",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"Email"}),C.jsx("input",{type:"email",required:!0,className:"w-full px-4 py-3 rounded-xl outline-none transition-all focus:ring-2 focus:ring-blue-500 bg-zinc-50 dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-700 dark:text-white",value:n,onChange:p=>t(p.target.value),placeholder:"hello@example.com"})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"Password"}),C.jsx("input",{type:"password",required:!0,className:"w-full px-4 py-3 rounded-xl outline-none transition-all focus:ring-2 focus:ring-blue-500 bg-zinc-50 dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-700 dark:text-white",value:e,onChange:p=>i(p.target.value),placeholder:""})]}),l&&C.jsx("div",{className:"p-3 bg-red-500/10 border border-red-500/20 text-red-500 rounded-lg text-sm",children:l}),C.jsx("button",{type:"submit",disabled:r,className:"w-full py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-medium shadow-lg shadow-blue-600/20 transition-all transform active:scale-95 disabled:opacity-50 disabled:active:scale-100 flex items-center justify-center",children:r?C.jsx(Bu,{className:"w-5 h-5 animate-spin"}):"Continue"})]}),C.jsx("div",{className:"mt-8 text-center",children:C.jsx("button",{type:"button",onClick:f,disabled:r,className:"w-full py-3 mt-4 border-2 border-zinc-300 dark:border-zinc-700 text-zinc-700 dark:text-zinc-300 font-bold rounded-xl hover:bg-zinc-50 dark:hover:bg-zinc-800 transition-all",children:"Or continue as Guest"})})]})})};var Nb=A1();const _V=D0(Nb);function Nn(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var vV=typeof Symbol=="function"&&Symbol.observable||"@@observable",ES=vV,TS=()=>Math.random().toString(36).substring(7).split("").join("."),xV={INIT:`@@redux/INIT${TS()}`,REPLACE:`@@redux/REPLACE${TS()}`},SS=xV;function EV(n){if(typeof n!="object"||n===null)return!1;let t=n;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(n)===t||Object.getPrototypeOf(n)===null}function gI(n,t,e){if(typeof n!="function")throw new Error(Nn(2));if(typeof t=="function"&&typeof e=="function"||typeof e=="function"&&typeof arguments[3]=="function")throw new Error(Nn(0));if(typeof t=="function"&&typeof e>"u"&&(e=t,t=void 0),typeof e<"u"){if(typeof e!="function")throw new Error(Nn(1));return e(gI)(n,t)}let i=n,r=t,o=new Map,l=o,u=0,d=!1;function f(){l===o&&(l=new Map,o.forEach((S,M)=>{l.set(M,S)}))}function p(){if(d)throw new Error(Nn(3));return r}function y(S){if(typeof S!="function")throw new Error(Nn(4));if(d)throw new Error(Nn(5));let M=!0;f();const V=u++;return l.set(V,S),function(){if(M){if(d)throw new Error(Nn(6));M=!1,f(),l.delete(V),o=null}}}function _(S){if(!EV(S))throw new Error(Nn(7));if(typeof S.type>"u")throw new Error(Nn(8));if(typeof S.type!="string")throw new Error(Nn(17));if(d)throw new Error(Nn(9));try{d=!0,r=i(r,S)}finally{d=!1}return(o=l).forEach(V=>{V()}),S}function x(S){if(typeof S!="function")throw new Error(Nn(10));i=S,_({type:SS.REPLACE})}function w(){const S=y;return{subscribe(M){if(typeof M!="object"||M===null)throw new Error(Nn(11));function V(){const G=M;G.next&&G.next(p())}return V(),{unsubscribe:S(V)}},[ES](){return this}}}return _({type:SS.INIT}),{dispatch:_,subscribe:y,getState:p,replaceReducer:x,[ES]:w}}function wS(n,t){return function(...e){return t(n.apply(this,e))}}function AS(n,t){if(typeof n=="function")return wS(n,t);if(typeof n!="object"||n===null)throw new Error(Nn(16));const e={};for(const i in n){const r=n[i];typeof r=="function"&&(e[i]=wS(r,t))}return e}function pI(...n){return n.length===0?t=>t:n.length===1?n[0]:n.reduce((t,e)=>(...i)=>t(e(...i)))}function TV(...n){return t=>(e,i)=>{const r=t(e,i);let o=()=>{throw new Error(Nn(15))};const l={getState:r.getState,dispatch:(d,...f)=>o(d,...f)},u=n.map(d=>d(l));return o=pI(...u)(r.dispatch),{...r,dispatch:o}}}var fy={exports:{}},gy={};var CS;function SV(){if(CS)return gy;CS=1;var n=dg();function t(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var e=typeof Object.is=="function"?Object.is:t,i=n.useSyncExternalStore,r=n.useRef,o=n.useEffect,l=n.useMemo,u=n.useDebugValue;return gy.useSyncExternalStoreWithSelector=function(d,f,p,y,_){var x=r(null);if(x.current===null){var w={hasValue:!1,value:null};x.current=w}else w=x.current;x=l(function(){function S(H){if(!M){if(M=!0,V=H,H=y(H),_!==void 0&&w.hasValue){var Y=w.value;if(_(Y,H))return F=Y}return F=H}if(Y=F,e(V,H))return Y;var D=y(H);return _!==void 0&&_(Y,D)?(V=H,Y):(V=H,F=D)}var M=!1,V,F,G=p===void 0?null:p;return[function(){return S(f())},G===null?void 0:function(){return S(G())}]},[f,p,y,_]);var A=i(d,x[0],x[1]);return o(function(){w.hasValue=!0,w.value=A},[A]),u(A),A},gy}var IS;function wV(){return IS||(IS=1,fy.exports=SV()),fy.exports}wV();var AV=$.version.startsWith("19"),CV=Symbol.for(AV?"react.transitional.element":"react.element"),IV=Symbol.for("react.portal"),RV=Symbol.for("react.fragment"),DV=Symbol.for("react.strict_mode"),NV=Symbol.for("react.profiler"),kV=Symbol.for("react.consumer"),OV=Symbol.for("react.context"),mI=Symbol.for("react.forward_ref"),MV=Symbol.for("react.suspense"),PV=Symbol.for("react.suspense_list"),kb=Symbol.for("react.memo"),zV=Symbol.for("react.lazy"),LV=mI,VV=kb;function BV(n){if(typeof n=="object"&&n!==null){const{$$typeof:t}=n;switch(t){case CV:switch(n=n.type,n){case RV:case NV:case DV:case MV:case PV:return n;default:switch(n=n&&n.$$typeof,n){case OV:case mI:case zV:case kb:return n;case kV:return n;default:return t}}case IV:return t}}}function UV(n){return BV(n)===kb}function jV(n,t,e,i,{areStatesEqual:r,areOwnPropsEqual:o,areStatePropsEqual:l}){let u=!1,d,f,p,y,_;function x(V,F){return d=V,f=F,p=n(d,f),y=t(i,f),_=e(p,y,f),u=!0,_}function w(){return p=n(d,f),t.dependsOnOwnProps&&(y=t(i,f)),_=e(p,y,f),_}function A(){return n.dependsOnOwnProps&&(p=n(d,f)),t.dependsOnOwnProps&&(y=t(i,f)),_=e(p,y,f),_}function S(){const V=n(d,f),F=!l(V,p);return p=V,F&&(_=e(p,y,f)),_}function M(V,F){const G=!o(F,f),H=!r(V,d,F,f);return d=V,f=F,G&&H?w():G?A():H?S():_}return function(F,G){return u?M(F,G):x(F,G)}}function FV(n,{initMapStateToProps:t,initMapDispatchToProps:e,initMergeProps:i,...r}){const o=t(n,r),l=e(n,r),u=i(n,r);return jV(o,l,u,n,r)}function HV(n,t){const e={};for(const i in n){const r=n[i];typeof r=="function"&&(e[i]=(...o)=>t(r(...o)))}return e}function d0(n){return function(e){const i=n(e);function r(){return i}return r.dependsOnOwnProps=!1,r}}function RS(n){return n.dependsOnOwnProps?!!n.dependsOnOwnProps:n.length!==1}function yI(n,t){return function(i,{displayName:r}){const o=function(u,d){return o.dependsOnOwnProps?o.mapToProps(u,d):o.mapToProps(u,void 0)};return o.dependsOnOwnProps=!0,o.mapToProps=function(u,d){o.mapToProps=n,o.dependsOnOwnProps=RS(n);let f=o(u,d);return typeof f=="function"&&(o.mapToProps=f,o.dependsOnOwnProps=RS(f),f=o(u,d)),f},o}}function Ob(n,t){return(e,i)=>{throw new Error(`Invalid value of type ${typeof n} for ${t} argument when connecting component ${i.wrappedComponentName}.`)}}function qV(n){return n&&typeof n=="object"?d0(t=>HV(n,t)):n?typeof n=="function"?yI(n):Ob(n,"mapDispatchToProps"):d0(t=>({dispatch:t}))}function GV(n){return n?typeof n=="function"?yI(n):Ob(n,"mapStateToProps"):d0(()=>({}))}function $V(n,t,e){return{...e,...n,...t}}function WV(n){return function(e,{displayName:i,areMergedPropsEqual:r}){let o=!1,l;return function(d,f,p){const y=n(d,f,p);return o?r(y,l)||(l=y):(o=!0,l=y),l}}}function YV(n){return n?typeof n=="function"?WV(n):Ob(n,"mergeProps"):()=>$V}function KV(n){n()}function QV(){let n=null,t=null;return{clear(){n=null,t=null},notify(){KV(()=>{let e=n;for(;e;)e.callback(),e=e.next})},get(){const e=[];let i=n;for(;i;)e.push(i),i=i.next;return e},subscribe(e){let i=!0;const r=t={callback:e,next:null,prev:t};return r.prev?r.prev.next=r:n=r,function(){!i||n===null||(i=!1,r.next?r.next.prev=r.prev:t=r.prev,r.prev?r.prev.next=r.next:n=r.next)}}}}var DS={notify(){},get:()=>[]};function bI(n,t){let e,i=DS,r=0,o=!1;function l(A){p();const S=i.subscribe(A);let M=!1;return()=>{M||(M=!0,S(),y())}}function u(){i.notify()}function d(){w.onStateChange&&w.onStateChange()}function f(){return o}function p(){r++,e||(e=t?t.addNestedSub(d):n.subscribe(d),i=QV())}function y(){r--,e&&r===0&&(e(),e=void 0,i.clear(),i=DS)}function _(){o||(o=!0,p())}function x(){o&&(o=!1,y())}const w={addNestedSub:l,notifyNestedSubs:u,handleChangeWrapper:d,isSubscribed:f,trySubscribe:_,tryUnsubscribe:x,getListeners:()=>i};return w}var XV=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",JV=XV(),ZV=()=>typeof navigator<"u"&&navigator.product==="ReactNative",t5=ZV(),e5=()=>JV||t5?$.useLayoutEffect:$.useEffect,Qf=e5();function NS(n,t){return n===t?n!==0||t!==0||1/n===1/t:n!==n&&t!==t}function py(n,t){if(NS(n,t))return!0;if(typeof n!="object"||n===null||typeof t!="object"||t===null)return!1;const e=Object.keys(n),i=Object.keys(t);if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(!Object.prototype.hasOwnProperty.call(t,e[r])||!NS(n[e[r]],t[e[r]]))return!1;return!0}var n5={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i5={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s5={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},_I={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},r5={[LV]:s5,[VV]:_I};function kS(n){return UV(n)?_I:r5[n.$$typeof]||n5}var a5=Object.defineProperty,o5=Object.getOwnPropertyNames,OS=Object.getOwnPropertySymbols,l5=Object.getOwnPropertyDescriptor,c5=Object.getPrototypeOf,MS=Object.prototype;function f0(n,t){if(typeof t!="string"){if(MS){const o=c5(t);o&&o!==MS&&f0(n,o)}let e=o5(t);OS&&(e=e.concat(OS(t)));const i=kS(n),r=kS(t);for(let o=0;o<e.length;++o){const l=e[o];if(!i5[l]&&!(r&&r[l])&&!(i&&i[l])){const u=l5(t,l);try{a5(n,l,u)}catch{}}}}return n}var u5=Symbol.for("react-redux-context"),h5=typeof globalThis<"u"?globalThis:{};function d5(){if(!$.createContext)return{};const n=h5[u5]??=new Map;let t=n.get($.createContext);return t||(t=$.createContext(null),n.set($.createContext,t)),t}var vI=d5(),f5=[null,null];function g5(n,t,e){Qf(()=>n(...t),e)}function p5(n,t,e,i,r,o){n.current=i,e.current=!1,r.current&&(r.current=null,o())}function m5(n,t,e,i,r,o,l,u,d,f,p){if(!n)return()=>{};let y=!1,_=null;const x=()=>{if(y||!u.current)return;const A=t.getState();let S,M;try{S=i(A,r.current)}catch(V){M=V,_=V}M||(_=null),S===o.current?l.current||f():(o.current=S,d.current=S,l.current=!0,p())};return e.onStateChange=x,e.trySubscribe(),x(),()=>{if(y=!0,e.tryUnsubscribe(),e.onStateChange=null,_)throw _}}function y5(n,t){return n===t}function b5(n,t,e,{pure:i,areStatesEqual:r=y5,areOwnPropsEqual:o=py,areStatePropsEqual:l=py,areMergedPropsEqual:u=py,forwardRef:d=!1,context:f=vI}={}){const p=f,y=GV(n),_=qV(t),x=YV(e),w=!!n;return S=>{const M=S.displayName||S.name||"Component",V=`Connect(${M})`,F={shouldHandleStateChanges:w,displayName:V,wrappedComponentName:M,WrappedComponent:S,initMapStateToProps:y,initMapDispatchToProps:_,initMergeProps:x,areStatesEqual:r,areStatePropsEqual:l,areOwnPropsEqual:o,areMergedPropsEqual:u};function G(D){const[I,N,z]=$.useMemo(()=>{const{reactReduxForwardedRef:_e,...On}=D;return[D.context,_e,On]},[D]),O=$.useMemo(()=>{let _e=p;return I?.Consumer,_e},[I,p]),L=$.useContext(O),P=!!D.store&&!!D.store.getState&&!!D.store.dispatch,It=!!L&&!!L.store,bt=P?D.store:L.store,X=It?L.getServerState:bt.getState,ot=$.useMemo(()=>FV(bt.dispatch,F),[bt]),[gt,Rt]=$.useMemo(()=>{if(!w)return f5;const _e=bI(bt,P?void 0:L.subscription),On=_e.notifyNestedSubs.bind(_e);return[_e,On]},[bt,P,L]),Dt=$.useMemo(()=>P?L:{...L,subscription:gt},[P,L,gt]),U=$.useRef(void 0),et=$.useRef(z),lt=$.useRef(void 0),ut=$.useRef(!1),mt=$.useRef(!1),_t=$.useRef(void 0);Qf(()=>(mt.current=!0,()=>{mt.current=!1}),[]);const ct=$.useMemo(()=>()=>lt.current&&z===et.current?lt.current:ot(bt.getState(),z),[bt,z]),Lt=$.useMemo(()=>On=>gt?m5(w,bt,gt,ot,et,U,ut,mt,lt,Rt,On):()=>{},[gt]);g5(p5,[et,U,ut,z,lt,Rt]);let Wt;try{Wt=$.useSyncExternalStore(Lt,ct,X?()=>ot(X(),z):ct)}catch(_e){throw _t.current&&(_e.message+=`
The error may be correlated with this previous error:
${_t.current.stack}

`),_e}Qf(()=>{_t.current=void 0,lt.current=void 0,U.current=Wt});const Je=$.useMemo(()=>$.createElement(S,{...Wt,ref:N}),[N,S,Wt]);return $.useMemo(()=>w?$.createElement(O.Provider,{value:Dt},Je):Je,[O,Je,Dt])}const Y=$.memo(G);if(Y.WrappedComponent=S,Y.displayName=G.displayName=V,d){const I=$.forwardRef(function(z,O){return $.createElement(Y,{...z,reactReduxForwardedRef:O})});return I.displayName=V,I.WrappedComponent=S,f0(I,S)}return f0(Y,S)}}var xI=b5;function _5(n){const{children:t,context:e,serverState:i,store:r}=n,o=$.useMemo(()=>{const d=bI(r);return{store:r,subscription:d,getServerState:i?()=>i:void 0}},[r,i]),l=$.useMemo(()=>r.getState(),[r]);Qf(()=>{const{subscription:d}=o;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),l!==r.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[o,l]);const u=e||vI;return $.createElement(u.Provider,{value:o},t)}var v5=_5,x5="Invariant failed";function E5(n,t){throw new Error(x5)}var Hi=function(t){var e=t.top,i=t.right,r=t.bottom,o=t.left,l=i-o,u=r-e,d={top:e,right:i,bottom:r,left:o,width:l,height:u,x:o,y:e,center:{x:(i+o)/2,y:(r+e)/2}};return d},Mb=function(t,e){return{top:t.top-e.top,left:t.left-e.left,bottom:t.bottom+e.bottom,right:t.right+e.right}},PS=function(t,e){return{top:t.top+e.top,left:t.left+e.left,bottom:t.bottom-e.bottom,right:t.right-e.right}},T5=function(t,e){return{top:t.top+e.y,left:t.left+e.x,bottom:t.bottom+e.y,right:t.right+e.x}},my={top:0,right:0,bottom:0,left:0},Pb=function(t){var e=t.borderBox,i=t.margin,r=i===void 0?my:i,o=t.border,l=o===void 0?my:o,u=t.padding,d=u===void 0?my:u,f=Hi(Mb(e,r)),p=Hi(PS(e,l)),y=Hi(PS(p,d));return{marginBox:f,borderBox:Hi(e),paddingBox:p,contentBox:y,margin:r,border:l,padding:d}},vi=function(t){var e=t.slice(0,-2),i=t.slice(-2);if(i!=="px")return 0;var r=Number(e);return isNaN(r)&&E5(),r},S5=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Xf=function(t,e){var i=t.borderBox,r=t.border,o=t.margin,l=t.padding,u=T5(i,e);return Pb({borderBox:u,border:r,margin:o,padding:l})},Jf=function(t,e){return e===void 0&&(e=S5()),Xf(t,e)},EI=function(t,e){var i={top:vi(e.marginTop),right:vi(e.marginRight),bottom:vi(e.marginBottom),left:vi(e.marginLeft)},r={top:vi(e.paddingTop),right:vi(e.paddingRight),bottom:vi(e.paddingBottom),left:vi(e.paddingLeft)},o={top:vi(e.borderTopWidth),right:vi(e.borderRightWidth),bottom:vi(e.borderBottomWidth),left:vi(e.borderLeftWidth)};return Pb({borderBox:t,margin:i,padding:r,border:o})},TI=function(t){var e=t.getBoundingClientRect(),i=window.getComputedStyle(t);return EI(e,i)},ju=function(t){var e=[],i=null,r=function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];e=u,!i&&(i=requestAnimationFrame(function(){i=null,t.apply(void 0,e)}))};return r.cancel=function(){i&&(cancelAnimationFrame(i),i=null)},r};function Zf(){return Zf=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Zf.apply(null,arguments)}function SI(n,t){}SI.bind(null,"warn");SI.bind(null,"error");function ia(){}function w5(n,t){return{...n,...t}}function Ti(n,t,e){const i=t.map(r=>{const o=w5(e,r.options);return n.addEventListener(r.eventName,r.fn,o),function(){n.removeEventListener(r.eventName,r.fn,o)}});return function(){i.forEach(o=>{o()})}}const A5="Invariant failed";class tg extends Error{}tg.prototype.toString=function(){return this.message};function ht(n,t){throw new tg(A5)}class C5 extends we.Component{constructor(...t){super(...t),this.callbacks=null,this.unbind=ia,this.onWindowError=e=>{const i=this.getCallbacks();i.isDragging()&&i.tryAbort(),e.error instanceof tg&&e.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=e=>{this.callbacks=e}}componentDidMount(){this.unbind=Ti(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(t){if(t instanceof tg){this.setState({});return}throw t}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const I5=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,eg=n=>n+1,R5=n=>`
  You have lifted an item in position ${eg(n.source.index)}
`,wI=(n,t)=>{const e=n.droppableId===t.droppableId,i=eg(n.index),r=eg(t.index);return e?`
      You have moved the item from position ${i}
      to position ${r}
    `:`
    You have moved the item from position ${i}
    in list ${n.droppableId}
    to list ${t.droppableId}
    in position ${r}
  `},AI=(n,t,e)=>t.droppableId===e.droppableId?`
      The item ${n}
      has been combined with ${e.draggableId}`:`
      The item ${n}
      in list ${t.droppableId}
      has been combined with ${e.draggableId}
      in list ${e.droppableId}
    `,D5=n=>{const t=n.destination;if(t)return wI(n.source,t);const e=n.combine;return e?AI(n.draggableId,n.source,e):"You are over an area that cannot be dropped on"},zS=n=>`
  The item has returned to its starting position
  of ${eg(n.index)}
`,N5=n=>{if(n.reason==="CANCEL")return`
      Movement cancelled.
      ${zS(n.source)}
    `;const t=n.destination,e=n.combine;return t?`
      You have dropped the item.
      ${wI(n.source,t)}
    `:e?`
      You have dropped the item.
      ${AI(n.draggableId,n.source,e)}
    `:`
    The item has been dropped while not over a drop area.
    ${zS(n.source)}
  `},Cf={dragHandleUsageInstructions:I5,onDragStart:R5,onDragUpdate:D5,onDragEnd:N5};function k5(n,t){return!!(n===t||Number.isNaN(n)&&Number.isNaN(t))}function CI(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;e++)if(!k5(n[e],t[e]))return!1;return!0}function Kt(n,t){const e=$.useState(()=>({inputs:t,result:n()}))[0],i=$.useRef(!0),r=$.useRef(e),l=i.current||!!(t&&r.current.inputs&&CI(t,r.current.inputs))?r.current:{inputs:t,result:n()};return $.useEffect(()=>{i.current=!1,r.current=l},[l]),l.result}function Et(n,t){return Kt(()=>n,t)}const on={x:0,y:0},yn=(n,t)=>({x:n.x+t.x,y:n.y+t.y}),ni=(n,t)=>({x:n.x-t.x,y:n.y-t.y}),sa=(n,t)=>n.x===t.x&&n.y===t.y,Hl=n=>({x:n.x!==0?-n.x:0,y:n.y!==0?-n.y:0}),mo=(n,t,e=0)=>n==="x"?{x:t,y:e}:{x:e,y:t},Fu=(n,t)=>Math.sqrt((t.x-n.x)**2+(t.y-n.y)**2),LS=(n,t)=>Math.min(...t.map(e=>Fu(n,e))),II=n=>t=>({x:n(t.x),y:n(t.y)});var O5=(n,t)=>{const e=Hi({top:Math.max(t.top,n.top),right:Math.min(t.right,n.right),bottom:Math.min(t.bottom,n.bottom),left:Math.max(t.left,n.left)});return e.width<=0||e.height<=0?null:e};const ph=(n,t)=>({top:n.top+t.y,left:n.left+t.x,bottom:n.bottom+t.y,right:n.right+t.x}),VS=n=>[{x:n.left,y:n.top},{x:n.right,y:n.top},{x:n.left,y:n.bottom},{x:n.right,y:n.bottom}],M5={top:0,right:0,bottom:0,left:0},P5=(n,t)=>t?ph(n,t.scroll.diff.displacement):n,z5=(n,t,e)=>e&&e.increasedBy?{...n,[t.end]:n[t.end]+e.increasedBy[t.line]}:n,L5=(n,t)=>t&&t.shouldClipSubject?O5(t.pageMarginBox,n):Hi(n);var Rl=({page:n,withPlaceholder:t,axis:e,frame:i})=>{const r=P5(n.marginBox,i),o=z5(r,e,t),l=L5(o,i);return{page:n,withPlaceholder:t,active:l}},zb=(n,t)=>{n.frame||ht();const e=n.frame,i=ni(t,e.scroll.initial),r=Hl(i),o={...e,scroll:{initial:e.scroll.initial,current:t,diff:{value:i,displacement:r},max:e.scroll.max}},l=Rl({page:n.subject.page,withPlaceholder:n.subject.withPlaceholder,axis:n.axis,frame:o});return{...n,frame:o,subject:l}};function rn(n,t=CI){let e=null;function i(...r){if(e&&e.lastThis===this&&t(r,e.lastArgs))return e.lastResult;const o=n.apply(this,r);return e={lastResult:o,lastArgs:r,lastThis:this},o}return i.clear=function(){e=null},i}const RI=rn(n=>n.reduce((t,e)=>(t[e.descriptor.id]=e,t),{})),DI=rn(n=>n.reduce((t,e)=>(t[e.descriptor.id]=e,t),{})),Mg=rn(n=>Object.values(n)),V5=rn(n=>Object.values(n));var ql=rn((n,t)=>V5(t).filter(i=>n===i.descriptor.droppableId).sort((i,r)=>i.descriptor.index-r.descriptor.index));function Lb(n){return n.at&&n.at.type==="REORDER"?n.at.destination:null}function Pg(n){return n.at&&n.at.type==="COMBINE"?n.at.combine:null}var zg=rn((n,t)=>t.filter(e=>e.descriptor.id!==n.descriptor.id)),B5=({isMovingForward:n,draggable:t,destination:e,insideDestination:i,previousImpact:r})=>{if(!e.isCombineEnabled||!Lb(r))return null;function l(x){const w={type:"COMBINE",combine:{draggableId:x,droppableId:e.descriptor.id}};return{...r,at:w}}const u=r.displaced.all,d=u.length?u[0]:null;if(n)return d?l(d):null;const f=zg(t,i);if(!d){if(!f.length)return null;const x=f[f.length-1];return l(x.descriptor.id)}const p=f.findIndex(x=>x.descriptor.id===d);p===-1&&ht();const y=p-1;if(y<0)return null;const _=f[y];return l(_.descriptor.id)},Gl=(n,t)=>n.descriptor.droppableId===t.descriptor.id;const NI={point:on,value:0},Hu={invisible:{},visible:{},all:[]},U5={displaced:Hu,displacedBy:NI,at:null};var Ai=(n,t)=>e=>n<=e&&e<=t,kI=n=>{const t=Ai(n.top,n.bottom),e=Ai(n.left,n.right);return i=>{if(t(i.top)&&t(i.bottom)&&e(i.left)&&e(i.right))return!0;const o=t(i.top)||t(i.bottom),l=e(i.left)||e(i.right);if(o&&l)return!0;const d=i.top<n.top&&i.bottom>n.bottom,f=i.left<n.left&&i.right>n.right;return d&&f?!0:d&&l||f&&o}},j5=n=>{const t=Ai(n.top,n.bottom),e=Ai(n.left,n.right);return i=>t(i.top)&&t(i.bottom)&&e(i.left)&&e(i.right)};const Vb={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},OI={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var F5=n=>t=>{const e=Ai(t.top,t.bottom),i=Ai(t.left,t.right);return r=>n===Vb?e(r.top)&&e(r.bottom):i(r.left)&&i(r.right)};const H5=(n,t)=>{const e=t.frame?t.frame.scroll.diff.displacement:on;return ph(n,e)},q5=(n,t,e)=>t.subject.active?e(t.subject.active)(n):!1,G5=(n,t,e)=>e(t)(n),Bb=({target:n,destination:t,viewport:e,withDroppableDisplacement:i,isVisibleThroughFrameFn:r})=>{const o=i?H5(n,t):n;return q5(o,t,r)&&G5(o,e,r)},$5=n=>Bb({...n,isVisibleThroughFrameFn:kI}),MI=n=>Bb({...n,isVisibleThroughFrameFn:j5}),W5=n=>Bb({...n,isVisibleThroughFrameFn:F5(n.destination.axis)}),Y5=(n,t,e)=>{if(typeof e=="boolean")return e;if(!t)return!0;const{invisible:i,visible:r}=t;if(i[n])return!1;const o=r[n];return o?o.shouldAnimate:!0};function K5(n,t){const e=n.page.marginBox,i={top:t.point.y,right:0,bottom:0,left:t.point.x};return Hi(Mb(e,i))}function qu({afterDragging:n,destination:t,displacedBy:e,viewport:i,forceShouldAnimate:r,last:o}){return n.reduce(function(u,d){const f=K5(d,e),p=d.descriptor.id;if(u.all.push(p),!$5({target:f,destination:t,viewport:i,withDroppableDisplacement:!0}))return u.invisible[d.descriptor.id]=!0,u;const _=Y5(p,o,r),x={draggableId:p,shouldAnimate:_};return u.visible[p]=x,u},{all:[],visible:{},invisible:{}})}function Q5(n,t){if(!n.length)return 0;const e=n[n.length-1].descriptor.index;return t.inHomeList?e:e+1}function BS({insideDestination:n,inHomeList:t,displacedBy:e,destination:i}){const r=Q5(n,{inHomeList:t});return{displaced:Hu,displacedBy:e,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:r}}}}function ng({draggable:n,insideDestination:t,destination:e,viewport:i,displacedBy:r,last:o,index:l,forceShouldAnimate:u}){const d=Gl(n,e);if(l==null)return BS({insideDestination:t,inHomeList:d,displacedBy:r,destination:e});const f=t.find(w=>w.descriptor.index===l);if(!f)return BS({insideDestination:t,inHomeList:d,displacedBy:r,destination:e});const p=zg(n,t),y=t.indexOf(f),_=p.slice(y);return{displaced:qu({afterDragging:_,destination:e,displacedBy:r,last:o,viewport:i.frame,forceShouldAnimate:u}),displacedBy:r,at:{type:"REORDER",destination:{droppableId:e.descriptor.id,index:l}}}}function da(n,t){return!!t.effected[n]}var X5=({isMovingForward:n,destination:t,draggables:e,combine:i,afterCritical:r})=>{if(!t.isCombineEnabled)return null;const o=i.draggableId,u=e[o].descriptor.index;return da(o,r)?n?u:u-1:n?u+1:u},J5=({isMovingForward:n,isInHomeList:t,insideDestination:e,location:i})=>{if(!e.length)return null;const r=i.index,o=n?r+1:r-1,l=e[0].descriptor.index,u=e[e.length-1].descriptor.index,d=t?u:u+1;return o<l||o>d?null:o},Z5=({isMovingForward:n,isInHomeList:t,draggable:e,draggables:i,destination:r,insideDestination:o,previousImpact:l,viewport:u,afterCritical:d})=>{const f=l.at;if(f||ht(),f.type==="REORDER"){const y=J5({isMovingForward:n,isInHomeList:t,location:f.destination,insideDestination:o});return y==null?null:ng({draggable:e,insideDestination:o,destination:r,viewport:u,last:l.displaced,displacedBy:l.displacedBy,index:y})}const p=X5({isMovingForward:n,destination:r,displaced:l.displaced,draggables:i,combine:f.combine,afterCritical:d});return p==null?null:ng({draggable:e,insideDestination:o,destination:r,viewport:u,last:l.displaced,displacedBy:l.displacedBy,index:p})},t3=({displaced:n,afterCritical:t,combineWith:e,displacedBy:i})=>{const r=!!(n.visible[e]||n.invisible[e]);return da(e,t)?r?on:Hl(i.point):r?i.point:on},e3=({afterCritical:n,impact:t,draggables:e})=>{const i=Pg(t);i||ht();const r=i.draggableId,o=e[r].page.borderBox.center,l=t3({displaced:t.displaced,afterCritical:n,combineWith:r,displacedBy:t.displacedBy});return yn(o,l)};const PI=(n,t)=>t.margin[n.start]+t.borderBox[n.size]/2,n3=(n,t)=>t.margin[n.end]+t.borderBox[n.size]/2,Ub=(n,t,e)=>t[n.crossAxisStart]+e.margin[n.crossAxisStart]+e.borderBox[n.crossAxisSize]/2,US=({axis:n,moveRelativeTo:t,isMoving:e})=>mo(n.line,t.marginBox[n.end]+PI(n,e),Ub(n,t.marginBox,e)),jS=({axis:n,moveRelativeTo:t,isMoving:e})=>mo(n.line,t.marginBox[n.start]-n3(n,e),Ub(n,t.marginBox,e)),i3=({axis:n,moveInto:t,isMoving:e})=>mo(n.line,t.contentBox[n.start]+PI(n,e),Ub(n,t.contentBox,e));var s3=({impact:n,draggable:t,draggables:e,droppable:i,afterCritical:r})=>{const o=ql(i.descriptor.id,e),l=t.page,u=i.axis;if(!o.length)return i3({axis:u,moveInto:i.page,isMoving:l});const{displaced:d,displacedBy:f}=n,p=d.all[0];if(p){const _=e[p];if(da(p,r))return jS({axis:u,moveRelativeTo:_.page,isMoving:l});const x=Xf(_.page,f.point);return jS({axis:u,moveRelativeTo:x,isMoving:l})}const y=o[o.length-1];if(y.descriptor.id===t.descriptor.id)return l.borderBox.center;if(da(y.descriptor.id,r)){const _=Xf(y.page,Hl(r.displacedBy.point));return US({axis:u,moveRelativeTo:_,isMoving:l})}return US({axis:u,moveRelativeTo:y.page,isMoving:l})},g0=(n,t)=>{const e=n.frame;return e?yn(t,e.scroll.diff.displacement):t};const r3=({impact:n,draggable:t,droppable:e,draggables:i,afterCritical:r})=>{const o=t.page.borderBox.center,l=n.at;return!e||!l?o:l.type==="REORDER"?s3({impact:n,draggable:t,draggables:i,droppable:e,afterCritical:r}):e3({impact:n,draggables:i,afterCritical:r})};var Lg=n=>{const t=r3(n),e=n.droppable;return e?g0(e,t):t},zI=(n,t)=>{const e=ni(t,n.scroll.initial),i=Hl(e);return{frame:Hi({top:t.y,bottom:t.y+n.frame.height,left:t.x,right:t.x+n.frame.width}),scroll:{initial:n.scroll.initial,max:n.scroll.max,current:t,diff:{value:e,displacement:i}}}};function FS(n,t){return n.map(e=>t[e])}function a3(n,t){for(let e=0;e<t.length;e++){const i=t[e].visible[n];if(i)return i}return null}var o3=({impact:n,viewport:t,destination:e,draggables:i,maxScrollChange:r})=>{const o=zI(t,yn(t.scroll.current,r)),l=e.frame?zb(e,yn(e.frame.scroll.current,r)):e,u=n.displaced,d=qu({afterDragging:FS(u.all,i),destination:e,displacedBy:n.displacedBy,viewport:o.frame,last:u,forceShouldAnimate:!1}),f=qu({afterDragging:FS(u.all,i),destination:l,displacedBy:n.displacedBy,viewport:t.frame,last:u,forceShouldAnimate:!1}),p={},y={},_=[u,d,f];return u.all.forEach(w=>{const A=a3(w,_);if(A){y[w]=A;return}p[w]=!0}),{...n,displaced:{all:u.all,invisible:p,visible:y}}},l3=(n,t)=>yn(n.scroll.diff.displacement,t),jb=({pageBorderBoxCenter:n,draggable:t,viewport:e})=>{const i=l3(e,n),r=ni(i,t.page.borderBox.center);return yn(t.client.borderBox.center,r)},LI=({draggable:n,destination:t,newPageBorderBoxCenter:e,viewport:i,withDroppableDisplacement:r,onlyOnMainAxis:o=!1})=>{const l=ni(e,n.page.borderBox.center),d={target:ph(n.page.borderBox,l),destination:t,withDroppableDisplacement:r,viewport:i};return o?W5(d):MI(d)},c3=({isMovingForward:n,draggable:t,destination:e,draggables:i,previousImpact:r,viewport:o,previousPageBorderBoxCenter:l,previousClientSelection:u,afterCritical:d})=>{if(!e.isEnabled)return null;const f=ql(e.descriptor.id,i),p=Gl(t,e),y=B5({isMovingForward:n,draggable:t,destination:e,insideDestination:f,previousImpact:r})||Z5({isMovingForward:n,isInHomeList:p,draggable:t,draggables:i,destination:e,insideDestination:f,previousImpact:r,viewport:o,afterCritical:d});if(!y)return null;const _=Lg({impact:y,draggable:t,droppable:e,draggables:i,afterCritical:d});if(LI({draggable:t,destination:e,newPageBorderBoxCenter:_,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:jb({pageBorderBoxCenter:_,draggable:t,viewport:o}),impact:y,scrollJumpRequest:null};const w=ni(_,l),A=o3({impact:y,viewport:o,destination:e,draggables:i,maxScrollChange:w});return{clientSelection:u,impact:A,scrollJumpRequest:w}};const Dn=n=>{const t=n.subject.active;return t||ht(),t};var u3=({isMovingForward:n,pageBorderBoxCenter:t,source:e,droppables:i,viewport:r})=>{const o=e.subject.active;if(!o)return null;const l=e.axis,u=Ai(o[l.start],o[l.end]),d=Mg(i).filter(p=>p!==e).filter(p=>p.isEnabled).filter(p=>!!p.subject.active).filter(p=>kI(r.frame)(Dn(p))).filter(p=>{const y=Dn(p);return n?o[l.crossAxisEnd]<y[l.crossAxisEnd]:y[l.crossAxisStart]<o[l.crossAxisStart]}).filter(p=>{const y=Dn(p),_=Ai(y[l.start],y[l.end]);return u(y[l.start])||u(y[l.end])||_(o[l.start])||_(o[l.end])}).sort((p,y)=>{const _=Dn(p)[l.crossAxisStart],x=Dn(y)[l.crossAxisStart];return n?_-x:x-_}).filter((p,y,_)=>Dn(p)[l.crossAxisStart]===Dn(_[0])[l.crossAxisStart]);if(!d.length)return null;if(d.length===1)return d[0];const f=d.filter(p=>Ai(Dn(p)[l.start],Dn(p)[l.end])(t[l.line]));return f.length===1?f[0]:f.length>1?f.sort((p,y)=>Dn(p)[l.start]-Dn(y)[l.start])[0]:d.sort((p,y)=>{const _=LS(t,VS(Dn(p))),x=LS(t,VS(Dn(y)));return _!==x?_-x:Dn(p)[l.start]-Dn(y)[l.start]})[0]};const HS=(n,t)=>{const e=n.page.borderBox.center;return da(n.descriptor.id,t)?ni(e,t.displacedBy.point):e},h3=(n,t)=>{const e=n.page.borderBox;return da(n.descriptor.id,t)?ph(e,Hl(t.displacedBy.point)):e};var d3=({pageBorderBoxCenter:n,viewport:t,destination:e,insideDestination:i,afterCritical:r})=>i.filter(l=>MI({target:h3(l,r),destination:e,viewport:t.frame,withDroppableDisplacement:!0})).sort((l,u)=>{const d=Fu(n,g0(e,HS(l,r))),f=Fu(n,g0(e,HS(u,r)));return d<f?-1:f<d?1:l.descriptor.index-u.descriptor.index})[0]||null,mh=rn(function(t,e){const i=e[t.line];return{value:i,point:mo(t.line,i)}});const f3=(n,t,e)=>{const i=n.axis;if(n.descriptor.mode==="virtual")return mo(i.line,t[i.line]);const r=n.subject.page.contentBox[i.size],d=ql(n.descriptor.id,e).reduce((f,p)=>f+p.client.marginBox[i.size],0)+t[i.line]-r;return d<=0?null:mo(i.line,d)},VI=(n,t)=>({...n,scroll:{...n.scroll,max:t}}),BI=(n,t,e)=>{const i=n.frame;Gl(t,n)&&ht(),n.subject.withPlaceholder&&ht();const r=mh(n.axis,t.displaceBy).point,o=f3(n,r,e),l={placeholderSize:r,increasedBy:o,oldFrameMaxScroll:n.frame?n.frame.scroll.max:null};if(!i){const p=Rl({page:n.subject.page,withPlaceholder:l,axis:n.axis,frame:n.frame});return{...n,subject:p}}const u=o?yn(i.scroll.max,o):i.scroll.max,d=VI(i,u),f=Rl({page:n.subject.page,withPlaceholder:l,axis:n.axis,frame:d});return{...n,subject:f,frame:d}},g3=n=>{const t=n.subject.withPlaceholder;t||ht();const e=n.frame;if(!e){const l=Rl({page:n.subject.page,axis:n.axis,frame:null,withPlaceholder:null});return{...n,subject:l}}const i=t.oldFrameMaxScroll;i||ht();const r=VI(e,i),o=Rl({page:n.subject.page,axis:n.axis,frame:r,withPlaceholder:null});return{...n,subject:o,frame:r}};var p3=({previousPageBorderBoxCenter:n,moveRelativeTo:t,insideDestination:e,draggable:i,draggables:r,destination:o,viewport:l,afterCritical:u})=>{if(!t){if(e.length)return null;const y={displaced:Hu,displacedBy:NI,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:0}}},_=Lg({impact:y,draggable:i,droppable:o,draggables:r,afterCritical:u}),x=Gl(i,o)?o:BI(o,i,r);return LI({draggable:i,destination:x,newPageBorderBoxCenter:_,viewport:l.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?y:null}const d=n[o.axis.line]<=t.page.borderBox.center[o.axis.line],f=(()=>{const y=t.descriptor.index;return t.descriptor.id===i.descriptor.id||d?y:y+1})(),p=mh(o.axis,i.displaceBy);return ng({draggable:i,insideDestination:e,destination:o,viewport:l,displacedBy:p,last:Hu,index:f})},m3=({isMovingForward:n,previousPageBorderBoxCenter:t,draggable:e,isOver:i,draggables:r,droppables:o,viewport:l,afterCritical:u})=>{const d=u3({isMovingForward:n,pageBorderBoxCenter:t,source:i,droppables:o,viewport:l});if(!d)return null;const f=ql(d.descriptor.id,r),p=d3({pageBorderBoxCenter:t,viewport:l,destination:d,insideDestination:f,afterCritical:u}),y=p3({previousPageBorderBoxCenter:t,destination:d,draggable:e,draggables:r,moveRelativeTo:p,insideDestination:f,viewport:l,afterCritical:u});if(!y)return null;const _=Lg({impact:y,draggable:e,droppable:d,draggables:r,afterCritical:u});return{clientSelection:jb({pageBorderBoxCenter:_,draggable:e,viewport:l}),impact:y,scrollJumpRequest:null}},ri=n=>{const t=n.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null};const y3=(n,t)=>{const e=ri(n);return e?t[e]:null};var b3=({state:n,type:t})=>{const e=y3(n.impact,n.dimensions.droppables),i=!!e,r=n.dimensions.droppables[n.critical.droppable.id],o=e||r,l=o.axis.direction,u=l==="vertical"&&(t==="MOVE_UP"||t==="MOVE_DOWN")||l==="horizontal"&&(t==="MOVE_LEFT"||t==="MOVE_RIGHT");if(u&&!i)return null;const d=t==="MOVE_DOWN"||t==="MOVE_RIGHT",f=n.dimensions.draggables[n.critical.draggable.id],p=n.current.page.borderBoxCenter,{draggables:y,droppables:_}=n.dimensions;return u?c3({isMovingForward:d,previousPageBorderBoxCenter:p,draggable:f,destination:o,draggables:y,viewport:n.viewport,previousClientSelection:n.current.client.selection,previousImpact:n.impact,afterCritical:n.afterCritical}):m3({isMovingForward:d,previousPageBorderBoxCenter:p,draggable:f,isOver:o,draggables:y,droppables:_,viewport:n.viewport,afterCritical:n.afterCritical})};function Za(n){return n.phase==="DRAGGING"||n.phase==="COLLECTING"}function UI(n){const t=Ai(n.top,n.bottom),e=Ai(n.left,n.right);return function(r){return t(r.y)&&e(r.x)}}function _3(n,t){return n.left<t.right&&n.right>t.left&&n.top<t.bottom&&n.bottom>t.top}function v3({pageBorderBox:n,draggable:t,candidates:e}){const i=t.page.borderBox.center,r=e.map(o=>{const l=o.axis,u=mo(o.axis.line,n.center[l.line],o.page.borderBox.center[l.crossAxisLine]);return{id:o.descriptor.id,distance:Fu(i,u)}}).sort((o,l)=>l.distance-o.distance);return r[0]?r[0].id:null}function x3({pageBorderBox:n,draggable:t,droppables:e}){const i=Mg(e).filter(r=>{if(!r.isEnabled)return!1;const o=r.subject.active;if(!o||!_3(n,o))return!1;if(UI(o)(n.center))return!0;const l=r.axis,u=o.center[l.crossAxisLine],d=n[l.crossAxisStart],f=n[l.crossAxisEnd],p=Ai(o[l.crossAxisStart],o[l.crossAxisEnd]),y=p(d),_=p(f);return!y&&!_?!0:y?d<u:f>u});return i.length?i.length===1?i[0].descriptor.id:v3({pageBorderBox:n,draggable:t,candidates:i}):null}const jI=(n,t)=>Hi(ph(n,t));var E3=(n,t)=>{const e=n.frame;return e?jI(t,e.scroll.diff.value):t};function FI({displaced:n,id:t}){return!!(n.visible[t]||n.invisible[t])}function T3({draggable:n,closest:t,inHomeList:e}){return t?e&&t.descriptor.index>n.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}var S3=({pageBorderBoxWithDroppableScroll:n,draggable:t,destination:e,insideDestination:i,last:r,viewport:o,afterCritical:l})=>{const u=e.axis,d=mh(e.axis,t.displaceBy),f=d.value,p=n[u.start],y=n[u.end],x=zg(t,i).find(A=>{const S=A.descriptor.id,M=A.page.borderBox.center[u.line],V=da(S,l),F=FI({displaced:r,id:S});return V?F?y<=M:p<M-f:F?y<=M+f:p<M})||null,w=T3({draggable:t,closest:x,inHomeList:Gl(t,e)});return ng({draggable:t,insideDestination:i,destination:e,viewport:o,last:r,displacedBy:d,index:w})};const w3=4;var A3=({draggable:n,pageBorderBoxWithDroppableScroll:t,previousImpact:e,destination:i,insideDestination:r,afterCritical:o})=>{if(!i.isCombineEnabled)return null;const l=i.axis,u=mh(i.axis,n.displaceBy),d=u.value,f=t[l.start],p=t[l.end],_=zg(n,r).find(w=>{const A=w.descriptor.id,S=w.page.borderBox,V=S[l.size]/w3,F=da(A,o),G=FI({displaced:e.displaced,id:A});return F?G?p>S[l.start]+V&&p<S[l.end]-V:f>S[l.start]-d+V&&f<S[l.end]-d-V:G?p>S[l.start]+d+V&&p<S[l.end]+d-V:f>S[l.start]+V&&f<S[l.end]-V});return _?{displacedBy:u,displaced:e.displaced,at:{type:"COMBINE",combine:{draggableId:_.descriptor.id,droppableId:i.descriptor.id}}}:null},HI=({pageOffset:n,draggable:t,draggables:e,droppables:i,previousImpact:r,viewport:o,afterCritical:l})=>{const u=jI(t.page.borderBox,n),d=x3({pageBorderBox:u,draggable:t,droppables:i});if(!d)return U5;const f=i[d],p=ql(f.descriptor.id,e),y=E3(f,u);return A3({pageBorderBoxWithDroppableScroll:y,draggable:t,previousImpact:r,destination:f,insideDestination:p,afterCritical:l})||S3({pageBorderBoxWithDroppableScroll:y,draggable:t,destination:f,insideDestination:p,last:r.displaced,viewport:o,afterCritical:l})},Fb=(n,t)=>({...n,[t.descriptor.id]:t});const C3=({previousImpact:n,impact:t,droppables:e})=>{const i=ri(n),r=ri(t);if(!i||i===r)return e;const o=e[i];if(!o.subject.withPlaceholder)return e;const l=g3(o);return Fb(e,l)};var I3=({draggable:n,draggables:t,droppables:e,previousImpact:i,impact:r})=>{const o=C3({previousImpact:i,impact:r,droppables:e}),l=ri(r);if(!l)return o;const u=e[l];if(Gl(n,u)||u.subject.withPlaceholder)return o;const d=BI(u,n,t);return Fb(o,d)},Eu=({state:n,clientSelection:t,dimensions:e,viewport:i,impact:r,scrollJumpRequest:o})=>{const l=i||n.viewport,u=e||n.dimensions,d=t||n.current.client.selection,f=ni(d,n.initial.client.selection),p={offset:f,selection:d,borderBoxCenter:yn(n.initial.client.borderBoxCenter,f)},y={selection:yn(p.selection,l.scroll.current),borderBoxCenter:yn(p.borderBoxCenter,l.scroll.current),offset:yn(p.offset,l.scroll.diff.value)},_={client:p,page:y};if(n.phase==="COLLECTING")return{...n,dimensions:u,viewport:l,current:_};const x=u.draggables[n.critical.draggable.id],w=r||HI({pageOffset:y.offset,draggable:x,draggables:u.draggables,droppables:u.droppables,previousImpact:n.impact,viewport:l,afterCritical:n.afterCritical}),A=I3({draggable:x,impact:w,previousImpact:n.impact,draggables:u.draggables,droppables:u.droppables});return{...n,current:_,dimensions:{draggables:u.draggables,droppables:A},impact:w,viewport:l,scrollJumpRequest:o||null,forceShouldAnimate:o?!1:null}};function R3(n,t){return n.map(e=>t[e])}var qI=({impact:n,viewport:t,draggables:e,destination:i,forceShouldAnimate:r})=>{const o=n.displaced,l=R3(o.all,e),u=qu({afterDragging:l,destination:i,displacedBy:n.displacedBy,viewport:t.frame,forceShouldAnimate:r,last:o});return{...n,displaced:u}},GI=({impact:n,draggable:t,droppable:e,draggables:i,viewport:r,afterCritical:o})=>{const l=Lg({impact:n,draggable:t,draggables:i,droppable:e,afterCritical:o});return jb({pageBorderBoxCenter:l,draggable:t,viewport:r})},$I=({state:n,dimensions:t,viewport:e})=>{n.movementMode!=="SNAP"&&ht();const i=n.impact,r=e||n.viewport,o=t||n.dimensions,{draggables:l,droppables:u}=o,d=l[n.critical.draggable.id],f=ri(i);f||ht();const p=u[f],y=qI({impact:i,viewport:r,destination:p,draggables:l}),_=GI({impact:y,draggable:d,droppable:p,draggables:l,viewport:r,afterCritical:n.afterCritical});return Eu({impact:y,clientSelection:_,state:n,dimensions:o,viewport:r})},D3=n=>({index:n.index,droppableId:n.droppableId}),WI=({draggable:n,home:t,draggables:e,viewport:i})=>{const r=mh(t.axis,n.displaceBy),o=ql(t.descriptor.id,e),l=o.indexOf(n);l===-1&&ht();const u=o.slice(l+1),d=u.reduce((_,x)=>(_[x.descriptor.id]=!0,_),{}),f={inVirtualList:t.descriptor.mode==="virtual",displacedBy:r,effected:d};return{impact:{displaced:qu({afterDragging:u,destination:t,displacedBy:r,last:null,viewport:i.frame,forceShouldAnimate:!1}),displacedBy:r,at:{type:"REORDER",destination:D3(n.descriptor)}},afterCritical:f}},N3=(n,t)=>({draggables:n.draggables,droppables:Fb(n.droppables,t)}),k3=({draggable:n,offset:t,initialWindowScroll:e})=>{const i=Xf(n.client,t),r=Jf(i,e);return{...n,placeholder:{...n.placeholder,client:i},client:i,page:r}},O3=n=>{const t=n.frame;return t||ht(),t},M3=({additions:n,updatedDroppables:t,viewport:e})=>{const i=e.scroll.diff.value;return n.map(r=>{const o=r.descriptor.droppableId,l=t[o],d=O3(l).scroll.diff.value,f=yn(i,d);return k3({draggable:r,offset:f,initialWindowScroll:e.scroll.initial})})},P3=({state:n,published:t})=>{const e=t.modified.map(M=>{const V=n.dimensions.droppables[M.droppableId];return zb(V,M.scroll)}),i={...n.dimensions.droppables,...RI(e)},r=DI(M3({additions:t.additions,updatedDroppables:i,viewport:n.viewport})),o={...n.dimensions.draggables,...r};t.removals.forEach(M=>{delete o[M]});const l={droppables:i,draggables:o},u=ri(n.impact),d=u?l.droppables[u]:null,f=l.draggables[n.critical.draggable.id],p=l.droppables[n.critical.droppable.id],{impact:y,afterCritical:_}=WI({draggable:f,home:p,draggables:o,viewport:n.viewport}),x=d&&d.isCombineEnabled?n.impact:y,w=HI({pageOffset:n.current.page.offset,draggable:l.draggables[n.critical.draggable.id],draggables:l.draggables,droppables:l.droppables,previousImpact:x,viewport:n.viewport,afterCritical:_}),A={...n,phase:"DRAGGING",impact:w,onLiftImpact:y,dimensions:l,afterCritical:_,forceShouldAnimate:!1};return n.phase==="COLLECTING"?A:{...A,phase:"DROP_PENDING",reason:n.reason,isWaiting:!1}};const p0=n=>n.movementMode==="SNAP",yy=(n,t,e)=>{const i=N3(n.dimensions,t);return!p0(n)||e?Eu({state:n,dimensions:i}):$I({state:n,dimensions:i})};function by(n){return n.isDragging&&n.movementMode==="SNAP"?{...n,scrollJumpRequest:null}:n}const qS={phase:"IDLE",completed:null,shouldFlush:!1};var z3=(n=qS,t)=>{if(t.type==="FLUSH")return{...qS,shouldFlush:!0};if(t.type==="INITIAL_PUBLISH"){n.phase!=="IDLE"&&ht();const{critical:e,clientSelection:i,viewport:r,dimensions:o,movementMode:l}=t.payload,u=o.draggables[e.draggable.id],d=o.droppables[e.droppable.id],f={selection:i,borderBoxCenter:u.client.borderBox.center,offset:on},p={client:f,page:{selection:yn(f.selection,r.scroll.initial),borderBoxCenter:yn(f.selection,r.scroll.initial),offset:yn(f.selection,r.scroll.diff.value)}},y=Mg(o.droppables).every(A=>!A.isFixedOnPage),{impact:_,afterCritical:x}=WI({draggable:u,home:d,draggables:o.draggables,viewport:r});return{phase:"DRAGGING",isDragging:!0,critical:e,movementMode:l,dimensions:o,initial:p,current:p,isWindowScrollAllowed:y,impact:_,afterCritical:x,onLiftImpact:_,viewport:r,scrollJumpRequest:null,forceShouldAnimate:null}}if(t.type==="COLLECTION_STARTING")return n.phase==="COLLECTING"||n.phase==="DROP_PENDING"?n:(n.phase!=="DRAGGING"&&ht(),{...n,phase:"COLLECTING"});if(t.type==="PUBLISH_WHILE_DRAGGING")return n.phase==="COLLECTING"||n.phase==="DROP_PENDING"||ht(),P3({state:n,published:t.payload});if(t.type==="MOVE"){if(n.phase==="DROP_PENDING")return n;Za(n)||ht();const{client:e}=t.payload;return sa(e,n.current.client.selection)?n:Eu({state:n,clientSelection:e,impact:p0(n)?n.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(n.phase==="DROP_PENDING"||n.phase==="COLLECTING")return by(n);Za(n)||ht();const{id:e,newScroll:i}=t.payload,r=n.dimensions.droppables[e];if(!r)return n;const o=zb(r,i);return yy(n,o,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(n.phase==="DROP_PENDING")return n;Za(n)||ht();const{id:e,isEnabled:i}=t.payload,r=n.dimensions.droppables[e];r||ht(),r.isEnabled===i&&ht();const o={...r,isEnabled:i};return yy(n,o,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(n.phase==="DROP_PENDING")return n;Za(n)||ht();const{id:e,isCombineEnabled:i}=t.payload,r=n.dimensions.droppables[e];r||ht(),r.isCombineEnabled===i&&ht();const o={...r,isCombineEnabled:i};return yy(n,o,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(n.phase==="DROP_PENDING"||n.phase==="DROP_ANIMATING")return n;Za(n)||ht(),n.isWindowScrollAllowed||ht();const e=t.payload.newScroll;if(sa(n.viewport.scroll.current,e))return by(n);const i=zI(n.viewport,e);return p0(n)?$I({state:n,viewport:i}):Eu({state:n,viewport:i})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Za(n))return n;const e=t.payload.maxScroll;if(sa(e,n.viewport.scroll.max))return n;const i={...n.viewport,scroll:{...n.viewport.scroll,max:e}};return{...n,viewport:i}}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(n.phase==="COLLECTING"||n.phase==="DROP_PENDING")return n;n.phase!=="DRAGGING"&&ht();const e=b3({state:n,type:t.type});return e?Eu({state:n,impact:e.impact,clientSelection:e.clientSelection,scrollJumpRequest:e.scrollJumpRequest}):n}if(t.type==="DROP_PENDING"){const e=t.payload.reason;return n.phase!=="COLLECTING"&&ht(),{...n,phase:"DROP_PENDING",isWaiting:!0,reason:e}}if(t.type==="DROP_ANIMATE"){const{completed:e,dropDuration:i,newHomeClientOffset:r}=t.payload;return n.phase==="DRAGGING"||n.phase==="DROP_PENDING"||ht(),{phase:"DROP_ANIMATING",completed:e,dropDuration:i,newHomeClientOffset:r,dimensions:n.dimensions}}if(t.type==="DROP_COMPLETE"){const{completed:e}=t.payload;return{phase:"IDLE",completed:e,shouldFlush:!1}}return n};function ne(n,t){return n instanceof Object&&"type"in n&&n.type===t}const L3=n=>({type:"BEFORE_INITIAL_CAPTURE",payload:n}),V3=n=>({type:"LIFT",payload:n}),B3=n=>({type:"INITIAL_PUBLISH",payload:n}),U3=n=>({type:"PUBLISH_WHILE_DRAGGING",payload:n}),j3=()=>({type:"COLLECTION_STARTING",payload:null}),F3=n=>({type:"UPDATE_DROPPABLE_SCROLL",payload:n}),H3=n=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:n}),q3=n=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:n}),YI=n=>({type:"MOVE",payload:n}),G3=n=>({type:"MOVE_BY_WINDOW_SCROLL",payload:n}),$3=n=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:n}),W3=()=>({type:"MOVE_UP",payload:null}),Y3=()=>({type:"MOVE_DOWN",payload:null}),K3=()=>({type:"MOVE_RIGHT",payload:null}),Q3=()=>({type:"MOVE_LEFT",payload:null}),Hb=()=>({type:"FLUSH",payload:null}),X3=n=>({type:"DROP_ANIMATE",payload:n}),qb=n=>({type:"DROP_COMPLETE",payload:n}),KI=n=>({type:"DROP",payload:n}),J3=n=>({type:"DROP_PENDING",payload:n}),QI=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var Z3=n=>({getState:t,dispatch:e})=>i=>r=>{if(!ne(r,"LIFT")){i(r);return}const{id:o,clientSelection:l,movementMode:u}=r.payload,d=t();d.phase==="DROP_ANIMATING"&&e(qb({completed:d.completed})),t().phase!=="IDLE"&&ht(),e(Hb()),e(L3({draggableId:o,movementMode:u}));const p={draggableId:o,scrollOptions:{shouldPublishImmediately:u==="SNAP"}},{critical:y,dimensions:_,viewport:x}=n.startPublishing(p);e(B3({critical:y,dimensions:_,clientSelection:l,movementMode:u,viewport:x}))},t6=n=>()=>t=>e=>{ne(e,"INITIAL_PUBLISH")&&n.dragging(),ne(e,"DROP_ANIMATE")&&n.dropping(e.payload.completed.result.reason),(ne(e,"FLUSH")||ne(e,"DROP_COMPLETE"))&&n.resting(),t(e)};const Gb={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},Gu={opacity:{drop:0,combining:.7},scale:{drop:.75}},XI={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Ya=`${XI.outOfTheWay}s ${Gb.outOfTheWay}`,Tu={fluid:`opacity ${Ya}`,snap:`transform ${Ya}, opacity ${Ya}`,drop:n=>{const t=`${n}s ${Gb.drop}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${Ya}`,placeholder:`height ${Ya}, width ${Ya}, margin ${Ya}`},GS=n=>sa(n,on)?void 0:`translate(${n.x}px, ${n.y}px)`,m0={moveTo:GS,drop:(n,t)=>{const e=GS(n);if(e)return t?`${e} scale(${Gu.scale.drop})`:e}},{minDropTime:y0,maxDropTime:JI}=XI,e6=JI-y0,$S=1500,n6=.6;var i6=({current:n,destination:t,reason:e})=>{const i=Fu(n,t);if(i<=0)return y0;if(i>=$S)return JI;const r=i/$S,o=y0+e6*r,l=e==="CANCEL"?o*n6:o;return Number(l.toFixed(2))},s6=({impact:n,draggable:t,dimensions:e,viewport:i,afterCritical:r})=>{const{draggables:o,droppables:l}=e,u=ri(n),d=u?l[u]:null,f=l[t.descriptor.droppableId],p=GI({impact:n,draggable:t,draggables:o,afterCritical:r,droppable:d||f,viewport:i});return ni(p,t.client.borderBox.center)},r6=({draggables:n,reason:t,lastImpact:e,home:i,viewport:r,onLiftImpact:o})=>!e.at||t!=="DROP"?{impact:qI({draggables:n,impact:o,destination:i,viewport:r,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:e.at.type==="REORDER"?{impact:e,didDropInsideDroppable:!0}:{impact:{...e,displaced:Hu},didDropInsideDroppable:!0};const a6=({getState:n,dispatch:t})=>e=>i=>{if(!ne(i,"DROP")){e(i);return}const r=n(),o=i.payload.reason;if(r.phase==="COLLECTING"){t(J3({reason:o}));return}if(r.phase==="IDLE")return;r.phase==="DROP_PENDING"&&r.isWaiting&&ht(),r.phase==="DRAGGING"||r.phase==="DROP_PENDING"||ht();const u=r.critical,d=r.dimensions,f=d.draggables[r.critical.draggable.id],{impact:p,didDropInsideDroppable:y}=r6({reason:o,lastImpact:r.impact,afterCritical:r.afterCritical,onLiftImpact:r.onLiftImpact,home:r.dimensions.droppables[r.critical.droppable.id],viewport:r.viewport,draggables:r.dimensions.draggables}),_=y?Lb(p):null,x=y?Pg(p):null,w={index:u.draggable.index,droppableId:u.droppable.id},A={draggableId:f.descriptor.id,type:f.descriptor.type,source:w,reason:o,mode:r.movementMode,destination:_,combine:x},S=s6({impact:p,draggable:f,dimensions:d,viewport:r.viewport,afterCritical:r.afterCritical}),M={critical:r.critical,afterCritical:r.afterCritical,result:A,impact:p};if(!(!sa(r.current.client.offset,S)||!!A.combine)){t(qb({completed:M}));return}const F=i6({current:r.current.client.offset,destination:S,reason:o});t(X3({newHomeClientOffset:S,dropDuration:F,completed:M}))};var ZI=()=>({x:window.pageXOffset,y:window.pageYOffset});function o6(n){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||n()}}}function l6({onWindowScroll:n}){function t(){n(ZI())}const e=ju(t),i=o6(e);let r=ia;function o(){return r!==ia}function l(){o()&&ht(),r=Ti(window,[i])}function u(){o()||ht(),e.cancel(),r(),r=ia}return{start:l,stop:u,isActive:o}}const c6=n=>ne(n,"DROP_COMPLETE")||ne(n,"DROP_ANIMATE")||ne(n,"FLUSH"),u6=n=>{const t=l6({onWindowScroll:e=>{n.dispatch(G3({newScroll:e}))}});return e=>i=>{!t.isActive()&&ne(i,"INITIAL_PUBLISH")&&t.start(),t.isActive()&&c6(i)&&t.stop(),e(i)}};var h6=n=>{let t=!1,e=!1;const i=setTimeout(()=>{e=!0}),r=o=>{t||e||(t=!0,n(o),clearTimeout(i))};return r.wasCalled=()=>t,r},d6=()=>{const n=[],t=r=>{const o=n.findIndex(u=>u.timerId===r);o===-1&&ht();const[l]=n.splice(o,1);l.callback()};return{add:r=>{const o=setTimeout(()=>t(o)),l={timerId:o,callback:r};n.push(l)},flush:()=>{if(!n.length)return;const r=[...n];n.length=0,r.forEach(o=>{clearTimeout(o.timerId),o.callback()})}}};const f6=(n,t)=>n==null&&t==null?!0:n==null||t==null?!1:n.droppableId===t.droppableId&&n.index===t.index,g6=(n,t)=>n==null&&t==null?!0:n==null||t==null?!1:n.draggableId===t.draggableId&&n.droppableId===t.droppableId,p6=(n,t)=>{if(n===t)return!0;const e=n.draggable.id===t.draggable.id&&n.draggable.droppableId===t.draggable.droppableId&&n.draggable.type===t.draggable.type&&n.draggable.index===t.draggable.index,i=n.droppable.id===t.droppable.id&&n.droppable.type===t.droppable.type;return e&&i},Jc=(n,t)=>{t()},Zd=(n,t)=>({draggableId:n.draggable.id,type:n.droppable.type,source:{droppableId:n.droppable.id,index:n.draggable.index},mode:t});function _y(n,t,e,i){if(!n){e(i(t));return}const r=h6(e);n(t,{announce:r}),r.wasCalled()||e(i(t))}var m6=(n,t)=>{const e=d6();let i=null;const r=(y,_)=>{i&&ht(),Jc("onBeforeCapture",()=>{const x=n().onBeforeCapture;x&&x({draggableId:y,mode:_})})},o=(y,_)=>{i&&ht(),Jc("onBeforeDragStart",()=>{const x=n().onBeforeDragStart;x&&x(Zd(y,_))})},l=(y,_)=>{i&&ht();const x=Zd(y,_);i={mode:_,lastCritical:y,lastLocation:x.source,lastCombine:null},e.add(()=>{Jc("onDragStart",()=>_y(n().onDragStart,x,t,Cf.onDragStart))})},u=(y,_)=>{const x=Lb(_),w=Pg(_);i||ht();const A=!p6(y,i.lastCritical);A&&(i.lastCritical=y);const S=!f6(i.lastLocation,x);S&&(i.lastLocation=x);const M=!g6(i.lastCombine,w);if(M&&(i.lastCombine=w),!A&&!S&&!M)return;const V={...Zd(y,i.mode),combine:w,destination:x};e.add(()=>{Jc("onDragUpdate",()=>_y(n().onDragUpdate,V,t,Cf.onDragUpdate))})},d=()=>{i||ht(),e.flush()},f=y=>{i||ht(),i=null,Jc("onDragEnd",()=>_y(n().onDragEnd,y,t,Cf.onDragEnd))};return{beforeCapture:r,beforeStart:o,start:l,update:u,flush:d,drop:f,abort:()=>{if(!i)return;const y={...Zd(i.lastCritical,i.mode),combine:null,destination:null,reason:"CANCEL"};f(y)}}},y6=(n,t)=>{const e=m6(n,t);return i=>r=>o=>{if(ne(o,"BEFORE_INITIAL_CAPTURE")){e.beforeCapture(o.payload.draggableId,o.payload.movementMode);return}if(ne(o,"INITIAL_PUBLISH")){const u=o.payload.critical;e.beforeStart(u,o.payload.movementMode),r(o),e.start(u,o.payload.movementMode);return}if(ne(o,"DROP_COMPLETE")){const u=o.payload.completed.result;e.flush(),r(o),e.drop(u);return}if(r(o),ne(o,"FLUSH")){e.abort();return}const l=i.getState();l.phase==="DRAGGING"&&e.update(l.critical,l.impact)}};const b6=n=>t=>e=>{if(!ne(e,"DROP_ANIMATION_FINISHED")){t(e);return}const i=n.getState();i.phase!=="DROP_ANIMATING"&&ht(),n.dispatch(qb({completed:i.completed}))},_6=n=>{let t=null,e=null;function i(){e&&(cancelAnimationFrame(e),e=null),t&&(t(),t=null)}return r=>o=>{if((ne(o,"FLUSH")||ne(o,"DROP_COMPLETE")||ne(o,"DROP_ANIMATION_FINISHED"))&&i(),r(o),!ne(o,"DROP_ANIMATE"))return;const l={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){n.getState().phase==="DROP_ANIMATING"&&n.dispatch(QI())}};e=requestAnimationFrame(()=>{e=null,t=Ti(window,[l])})}};var v6=n=>()=>t=>e=>{(ne(e,"DROP_COMPLETE")||ne(e,"FLUSH")||ne(e,"DROP_ANIMATE"))&&n.stopPublishing(),t(e)},x6=n=>{let t=!1;return()=>e=>i=>{if(ne(i,"INITIAL_PUBLISH")){t=!0,n.tryRecordFocus(i.payload.critical.draggable.id),e(i),n.tryRestoreFocusRecorded();return}if(e(i),!!t){if(ne(i,"FLUSH")){t=!1,n.tryRestoreFocusRecorded();return}if(ne(i,"DROP_COMPLETE")){t=!1;const r=i.payload.completed.result;r.combine&&n.tryShiftRecord(r.draggableId,r.combine.draggableId),n.tryRestoreFocusRecorded()}}}};const E6=n=>ne(n,"DROP_COMPLETE")||ne(n,"DROP_ANIMATE")||ne(n,"FLUSH");var T6=n=>t=>e=>i=>{if(E6(i)){n.stop(),e(i);return}if(ne(i,"INITIAL_PUBLISH")){e(i);const r=t.getState();r.phase!=="DRAGGING"&&ht(),n.start(r);return}e(i),n.scroll(t.getState())};const S6=n=>t=>e=>{if(t(e),!ne(e,"PUBLISH_WHILE_DRAGGING"))return;const i=n.getState();i.phase==="DROP_PENDING"&&(i.isWaiting||n.dispatch(KI({reason:i.reason})))},w6=pI;var A6=({dimensionMarshal:n,focusMarshal:t,styleMarshal:e,getResponders:i,announce:r,autoScroller:o})=>gI(z3,w6(TV(t6(e),v6(n),Z3(n),a6,b6,_6,S6,T6(o),u6,x6(t),y6(i,r))));const vy=()=>({additions:{},removals:{},modified:{}});function C6({registry:n,callbacks:t}){let e=vy(),i=null;const r=()=>{i||(t.collectionStarting(),i=requestAnimationFrame(()=>{i=null;const{additions:d,removals:f,modified:p}=e,y=Object.keys(d).map(w=>n.draggable.getById(w).getDimension(on)).sort((w,A)=>w.descriptor.index-A.descriptor.index),_=Object.keys(p).map(w=>{const S=n.droppable.getById(w).callbacks.getScrollWhileDragging();return{droppableId:w,scroll:S}}),x={additions:y,removals:Object.keys(f),modified:_};e=vy(),t.publish(x)}))};return{add:d=>{const f=d.descriptor.id;e.additions[f]=d,e.modified[d.descriptor.droppableId]=!0,e.removals[f]&&delete e.removals[f],r()},remove:d=>{const f=d.descriptor;e.removals[f.id]=!0,e.modified[f.droppableId]=!0,e.additions[f.id]&&delete e.additions[f.id],r()},stop:()=>{i&&(cancelAnimationFrame(i),i=null,e=vy())}}}var tR=({scrollHeight:n,scrollWidth:t,height:e,width:i})=>{const r=ni({x:t,y:n},{x:i,y:e});return{x:Math.max(0,r.x),y:Math.max(0,r.y)}},eR=()=>{const n=document.documentElement;return n||ht(),n},nR=()=>{const n=eR();return tR({scrollHeight:n.scrollHeight,scrollWidth:n.scrollWidth,width:n.clientWidth,height:n.clientHeight})},I6=()=>{const n=ZI(),t=nR(),e=n.y,i=n.x,r=eR(),o=r.clientWidth,l=r.clientHeight,u=i+o,d=e+l;return{frame:Hi({top:e,left:i,right:u,bottom:d}),scroll:{initial:n,current:n,max:t,diff:{value:on,displacement:on}}}},R6=({critical:n,scrollOptions:t,registry:e})=>{const i=I6(),r=i.scroll.current,o=n.droppable,l=e.droppable.getAllByType(o.type).map(p=>p.callbacks.getDimensionAndWatchScroll(r,t)),u=e.draggable.getAllByType(n.draggable.type).map(p=>p.getDimension(r));return{dimensions:{draggables:DI(u),droppables:RI(l)},critical:n,viewport:i}};function WS(n,t,e){return!(e.descriptor.id===t.id||e.descriptor.type!==t.type||n.droppable.getById(e.descriptor.droppableId).descriptor.mode!=="virtual")}var D6=(n,t)=>{let e=null;const i=C6({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:n}),r=(_,x)=>{n.droppable.exists(_)||ht(),e&&t.updateDroppableIsEnabled({id:_,isEnabled:x})},o=(_,x)=>{e&&(n.droppable.exists(_)||ht(),t.updateDroppableIsCombineEnabled({id:_,isCombineEnabled:x}))},l=(_,x)=>{e&&(n.droppable.exists(_)||ht(),t.updateDroppableScroll({id:_,newScroll:x}))},u=(_,x)=>{e&&n.droppable.getById(_).callbacks.scroll(x)},d=()=>{if(!e)return;i.stop();const _=e.critical.droppable;n.droppable.getAllByType(_.type).forEach(x=>x.callbacks.dragStopped()),e.unsubscribe(),e=null},f=_=>{e||ht();const x=e.critical.draggable;_.type==="ADDITION"&&WS(n,x,_.value)&&i.add(_.value),_.type==="REMOVAL"&&WS(n,x,_.value)&&i.remove(_.value)};return{updateDroppableIsEnabled:r,updateDroppableIsCombineEnabled:o,scrollDroppable:u,updateDroppableScroll:l,startPublishing:_=>{e&&ht();const x=n.draggable.getById(_.draggableId),w=n.droppable.getById(x.descriptor.droppableId),A={draggable:x.descriptor,droppable:w.descriptor},S=n.subscribe(f);return e={critical:A,unsubscribe:S},R6({critical:A,registry:n,scrollOptions:_.scrollOptions})},stopPublishing:d}},iR=(n,t)=>n.phase==="IDLE"?!0:n.phase!=="DROP_ANIMATING"||n.completed.result.draggableId===t?!1:n.completed.result.reason==="DROP",N6=n=>{window.scrollBy(n.x,n.y)};const k6=rn(n=>Mg(n).filter(t=>!(!t.isEnabled||!t.frame))),O6=(n,t)=>k6(t).find(i=>(i.frame||ht(),UI(i.frame.pageMarginBox)(n)))||null;var M6=({center:n,destination:t,droppables:e})=>{if(t){const r=e[t];return r.frame?r:null}return O6(n,e)};const $u={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:n=>n**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var P6=(n,t,e=()=>$u)=>{const i=e(),r=n[t.size]*i.startFromPercentage,o=n[t.size]*i.maxScrollAtPercentage;return{startScrollingFrom:r,maxScrollValueAt:o}},sR=({startOfRange:n,endOfRange:t,current:e})=>{const i=t-n;return i===0?0:(e-n)/i},$b=1,z6=(n,t,e=()=>$u)=>{const i=e();if(n>t.startScrollingFrom)return 0;if(n<=t.maxScrollValueAt)return i.maxPixelScroll;if(n===t.startScrollingFrom)return $b;const o=1-sR({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:n}),l=i.maxPixelScroll*i.ease(o);return Math.ceil(l)},L6=(n,t,e)=>{const i=e(),r=i.durationDampening.accelerateAt,o=i.durationDampening.stopDampeningAt,l=t,u=o,f=Date.now()-l;if(f>=o)return n;if(f<r)return $b;const p=sR({startOfRange:r,endOfRange:u,current:f}),y=n*i.ease(p);return Math.ceil(y)},YS=({distanceToEdge:n,thresholds:t,dragStartTime:e,shouldUseTimeDampening:i,getAutoScrollerOptions:r})=>{const o=z6(n,t,r);return o===0?0:i?Math.max(L6(o,e,r),$b):o},KS=({container:n,distanceToEdges:t,dragStartTime:e,axis:i,shouldUseTimeDampening:r,getAutoScrollerOptions:o})=>{const l=P6(n,i,o);return t[i.end]<t[i.start]?YS({distanceToEdge:t[i.end],thresholds:l,dragStartTime:e,shouldUseTimeDampening:r,getAutoScrollerOptions:o}):-1*YS({distanceToEdge:t[i.start],thresholds:l,dragStartTime:e,shouldUseTimeDampening:r,getAutoScrollerOptions:o})},V6=({container:n,subject:t,proposedScroll:e})=>{const i=t.height>n.height,r=t.width>n.width;return!r&&!i?e:r&&i?null:{x:r?0:e.x,y:i?0:e.y}};const B6=II(n=>n===0?0:n);var rR=({dragStartTime:n,container:t,subject:e,center:i,shouldUseTimeDampening:r,getAutoScrollerOptions:o})=>{const l={top:i.y-t.top,right:t.right-i.x,bottom:t.bottom-i.y,left:i.x-t.left},u=KS({container:t,distanceToEdges:l,dragStartTime:n,axis:Vb,shouldUseTimeDampening:r,getAutoScrollerOptions:o}),d=KS({container:t,distanceToEdges:l,dragStartTime:n,axis:OI,shouldUseTimeDampening:r,getAutoScrollerOptions:o}),f=B6({x:d,y:u});if(sa(f,on))return null;const p=V6({container:t,subject:e,proposedScroll:f});return p?sa(p,on)?null:p:null};const U6=II(n=>n===0?0:n>0?1:-1),Wb=(()=>{const n=(t,e)=>t<0?t:t>e?t-e:0;return({current:t,max:e,change:i})=>{const r=yn(t,i),o={x:n(r.x,e.x),y:n(r.y,e.y)};return sa(o,on)?null:o}})(),aR=({max:n,current:t,change:e})=>{const i={x:Math.max(t.x,n.x),y:Math.max(t.y,n.y)},r=U6(e),o=Wb({max:i,current:t,change:r});return!o||r.x!==0&&o.x===0||r.y!==0&&o.y===0},Yb=(n,t)=>aR({current:n.scroll.current,max:n.scroll.max,change:t}),j6=(n,t)=>{if(!Yb(n,t))return null;const e=n.scroll.max,i=n.scroll.current;return Wb({current:i,max:e,change:t})},Kb=(n,t)=>{const e=n.frame;return e?aR({current:e.scroll.current,max:e.scroll.max,change:t}):!1},F6=(n,t)=>{const e=n.frame;return!e||!Kb(n,t)?null:Wb({current:e.scroll.current,max:e.scroll.max,change:t})};var H6=({viewport:n,subject:t,center:e,dragStartTime:i,shouldUseTimeDampening:r,getAutoScrollerOptions:o})=>{const l=rR({dragStartTime:i,container:n.frame,subject:t,center:e,shouldUseTimeDampening:r,getAutoScrollerOptions:o});return l&&Yb(n,l)?l:null},q6=({droppable:n,subject:t,center:e,dragStartTime:i,shouldUseTimeDampening:r,getAutoScrollerOptions:o})=>{const l=n.frame;if(!l)return null;const u=rR({dragStartTime:i,container:l.pageMarginBox,subject:t,center:e,shouldUseTimeDampening:r,getAutoScrollerOptions:o});return u&&Kb(n,u)?u:null},QS=({state:n,dragStartTime:t,shouldUseTimeDampening:e,scrollWindow:i,scrollDroppable:r,getAutoScrollerOptions:o})=>{const l=n.current.page.borderBoxCenter,d=n.dimensions.draggables[n.critical.draggable.id].page.marginBox;if(n.isWindowScrollAllowed){const y=n.viewport,_=H6({dragStartTime:t,viewport:y,subject:d,center:l,shouldUseTimeDampening:e,getAutoScrollerOptions:o});if(_){i(_);return}}const f=M6({center:l,destination:ri(n.impact),droppables:n.dimensions.droppables});if(!f)return;const p=q6({dragStartTime:t,droppable:f,subject:d,center:l,shouldUseTimeDampening:e,getAutoScrollerOptions:o});p&&r(f.descriptor.id,p)},G6=({scrollWindow:n,scrollDroppable:t,getAutoScrollerOptions:e=()=>$u})=>{const i=ju(n),r=ju(t);let o=null;const l=f=>{o||ht();const{shouldUseTimeDampening:p,dragStartTime:y}=o;QS({state:f,scrollWindow:i,scrollDroppable:r,dragStartTime:y,shouldUseTimeDampening:p,getAutoScrollerOptions:e})};return{start:f=>{o&&ht();const p=Date.now();let y=!1;const _=()=>{y=!0};QS({state:f,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:_,scrollDroppable:_,getAutoScrollerOptions:e}),o={dragStartTime:p,shouldUseTimeDampening:y},y&&l(f)},stop:()=>{o&&(i.cancel(),r.cancel(),o=null)},scroll:l}},$6=({move:n,scrollDroppable:t,scrollWindow:e})=>{const i=(u,d)=>{const f=yn(u.current.client.selection,d);n({client:f})},r=(u,d)=>{if(!Kb(u,d))return d;const f=F6(u,d);if(!f)return t(u.descriptor.id,d),null;const p=ni(d,f);return t(u.descriptor.id,p),ni(d,p)},o=(u,d,f)=>{if(!u||!Yb(d,f))return f;const p=j6(d,f);if(!p)return e(f),null;const y=ni(f,p);return e(y),ni(f,y)};return u=>{const d=u.scrollJumpRequest;if(!d)return;const f=ri(u.impact);f||ht();const p=r(u.dimensions.droppables[f],d);if(!p)return;const y=u.viewport,_=o(u.isWindowScrollAllowed,y,p);_&&i(u,_)}},W6=({scrollDroppable:n,scrollWindow:t,move:e,getAutoScrollerOptions:i})=>{const r=G6({scrollWindow:t,scrollDroppable:n,getAutoScrollerOptions:i}),o=$6({move:e,scrollWindow:t,scrollDroppable:n});return{scroll:d=>{if(!(i().disabled||d.phase!=="DRAGGING")){if(d.movementMode==="FLUID"){r.scroll(d);return}d.scrollJumpRequest&&o(d)}},start:r.start,stop:r.stop}};const Dl="data-rfd",Nl=(()=>{const n=`${Dl}-drag-handle`;return{base:n,draggableId:`${n}-draggable-id`,contextId:`${n}-context-id`}})(),b0=(()=>{const n=`${Dl}-draggable`;return{base:n,contextId:`${n}-context-id`,id:`${n}-id`}})(),Y6=(()=>{const n=`${Dl}-droppable`;return{base:n,contextId:`${n}-context-id`,id:`${n}-id`}})(),XS={contextId:`${Dl}-scroll-container-context-id`},K6=n=>t=>`[${t}="${n}"]`,Zc=(n,t)=>n.map(e=>{const i=e.styles[t];return i?`${e.selector} { ${i} }`:""}).join(" "),Q6="pointer-events: none;";var X6=n=>{const t=K6(n),e=(()=>{const u=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(Nl.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:u,dragging:Q6,dropAnimating:u}}})(),i=(()=>{const u=`
      transition: ${Tu.outOfTheWay};
    `;return{selector:t(b0.contextId),styles:{dragging:u,dropAnimating:u,userCancel:u}}})(),r={selector:t(Y6.contextId),styles:{always:"overflow-anchor: none;"}},l=[i,e,r,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:Zc(l,"always"),resting:Zc(l,"resting"),dragging:Zc(l,"dragging"),dropAnimating:Zc(l,"dropAnimating"),userCancel:Zc(l,"userCancel")}};const ai=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?$.useLayoutEffect:$.useEffect,xy=()=>{const n=document.querySelector("head");return n||ht(),n},JS=n=>{const t=document.createElement("style");return n&&t.setAttribute("nonce",n),t.type="text/css",t};function J6(n,t){const e=Kt(()=>X6(n),[n]),i=$.useRef(null),r=$.useRef(null),o=Et(rn(y=>{const _=r.current;_||ht(),_.textContent=y}),[]),l=Et(y=>{const _=i.current;_||ht(),_.textContent=y},[]);ai(()=>{!i.current&&!r.current||ht();const y=JS(t),_=JS(t);return i.current=y,r.current=_,y.setAttribute(`${Dl}-always`,n),_.setAttribute(`${Dl}-dynamic`,n),xy().appendChild(y),xy().appendChild(_),l(e.always),o(e.resting),()=>{const x=w=>{const A=w.current;A||ht(),xy().removeChild(A),w.current=null};x(i),x(r)}},[t,l,o,e.always,e.resting,n]);const u=Et(()=>o(e.dragging),[o,e.dragging]),d=Et(y=>{if(y==="DROP"){o(e.dropAnimating);return}o(e.userCancel)},[o,e.dropAnimating,e.userCancel]),f=Et(()=>{r.current&&o(e.resting)},[o,e.resting]);return Kt(()=>({dragging:u,dropping:d,resting:f}),[u,d,f])}function oR(n,t){return Array.from(n.querySelectorAll(t))}var lR=n=>n&&n.ownerDocument&&n.ownerDocument.defaultView?n.ownerDocument.defaultView:window;function Vg(n){return n instanceof lR(n).HTMLElement}function Z6(n,t){const e=`[${Nl.contextId}="${n}"]`,i=oR(document,e);if(!i.length)return null;const r=i.find(o=>o.getAttribute(Nl.draggableId)===t);return!r||!Vg(r)?null:r}function t9(n){const t=$.useRef({}),e=$.useRef(null),i=$.useRef(null),r=$.useRef(!1),o=Et(function(_,x){const w={id:_,focus:x};return t.current[_]=w,function(){const S=t.current;S[_]!==w&&delete S[_]}},[]),l=Et(function(_){const x=Z6(n,_);x&&x!==document.activeElement&&x.focus()},[n]),u=Et(function(_,x){e.current===_&&(e.current=x)},[]),d=Et(function(){i.current||r.current&&(i.current=requestAnimationFrame(()=>{i.current=null;const _=e.current;_&&l(_)}))},[l]),f=Et(function(_){e.current=null;const x=document.activeElement;x&&x.getAttribute(Nl.draggableId)===_&&(e.current=_)},[]);return ai(()=>(r.current=!0,function(){r.current=!1;const _=i.current;_&&cancelAnimationFrame(_)}),[]),Kt(()=>({register:o,tryRecordFocus:f,tryRestoreFocusRecorded:d,tryShiftRecord:u}),[o,f,d,u])}function e9(){const n={draggables:{},droppables:{}},t=[];function e(y){return t.push(y),function(){const x=t.indexOf(y);x!==-1&&t.splice(x,1)}}function i(y){t.length&&t.forEach(_=>_(y))}function r(y){return n.draggables[y]||null}function o(y){const _=r(y);return _||ht(),_}const l={register:y=>{n.draggables[y.descriptor.id]=y,i({type:"ADDITION",value:y})},update:(y,_)=>{const x=n.draggables[_.descriptor.id];x&&x.uniqueId===y.uniqueId&&(delete n.draggables[_.descriptor.id],n.draggables[y.descriptor.id]=y)},unregister:y=>{const _=y.descriptor.id,x=r(_);x&&y.uniqueId===x.uniqueId&&(delete n.draggables[_],n.droppables[y.descriptor.droppableId]&&i({type:"REMOVAL",value:y}))},getById:o,findById:r,exists:y=>!!r(y),getAllByType:y=>Object.values(n.draggables).filter(_=>_.descriptor.type===y)};function u(y){return n.droppables[y]||null}function d(y){const _=u(y);return _||ht(),_}const f={register:y=>{n.droppables[y.descriptor.id]=y},unregister:y=>{const _=u(y.descriptor.id);_&&y.uniqueId===_.uniqueId&&delete n.droppables[y.descriptor.id]},getById:d,findById:u,exists:y=>!!u(y),getAllByType:y=>Object.values(n.droppables).filter(_=>_.descriptor.type===y)};function p(){n.draggables={},n.droppables={},t.length=0}return{draggable:l,droppable:f,subscribe:e,clean:p}}function n9(){const n=Kt(e9,[]);return $.useEffect(()=>function(){n.clean()},[n]),n}var Qb=we.createContext(null),ig=()=>{const n=document.body;return n||ht(),n};const i9={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},s9=n=>`rfd-announcement-${n}`;function r9(n){const t=Kt(()=>s9(n),[n]),e=$.useRef(null);return $.useEffect(function(){const o=document.createElement("div");return e.current=o,o.id=t,o.setAttribute("aria-live","assertive"),o.setAttribute("aria-atomic","true"),Zf(o.style,i9),ig().appendChild(o),function(){setTimeout(function(){const d=ig();d.contains(o)&&d.removeChild(o),o===e.current&&(e.current=null)})}},[t]),Et(r=>{const o=e.current;if(o){o.textContent=r;return}},[])}const a9={separator:"::"};function Xb(n,t=a9){const e=we.useId();return Kt(()=>`${n}${t.separator}${e}`,[t.separator,n,e])}function o9({contextId:n,uniqueId:t}){return`rfd-hidden-text-${n}-${t}`}function l9({contextId:n,text:t}){const e=Xb("hidden-text",{separator:"-"}),i=Kt(()=>o9({contextId:n,uniqueId:e}),[e,n]);return $.useEffect(function(){const o=document.createElement("div");return o.id=i,o.textContent=t,o.style.display="none",ig().appendChild(o),function(){const u=ig();u.contains(o)&&u.removeChild(o)}},[i,t]),i}var Bg=we.createContext(null);function cR(n){const t=$.useRef(n);return $.useEffect(()=>{t.current=n}),t}function c9(){let n=null;function t(){return!!n}function e(l){return l===n}function i(l){n&&ht();const u={abandon:l};return n=u,u}function r(){n||ht(),n=null}function o(){n&&(n.abandon(),r())}return{isClaimed:t,isActive:e,claim:i,release:r,tryAbandon:o}}function Wu(n){return n.phase==="IDLE"||n.phase==="DROP_ANIMATING"?!1:n.isDragging}const u9=9,h9=13,Jb=27,uR=32,d9=33,f9=34,g9=35,p9=36,m9=37,y9=38,b9=39,_9=40,v9={[h9]:!0,[u9]:!0};var hR=n=>{v9[n.keyCode]&&n.preventDefault()};const Ug=(()=>{const n="visibilitychange";return typeof document>"u"?n:[n,`ms${n}`,`webkit${n}`,`moz${n}`,`o${n}`].find(i=>`on${i}`in document)||n})(),dR=0,ZS=5;function x9(n,t){return Math.abs(t.x-n.x)>=ZS||Math.abs(t.y-n.y)>=ZS}const tw={type:"IDLE"};function E9({cancel:n,completed:t,getPhase:e,setPhase:i}){return[{eventName:"mousemove",fn:r=>{const{button:o,clientX:l,clientY:u}=r;if(o!==dR)return;const d={x:l,y:u},f=e();if(f.type==="DRAGGING"){r.preventDefault(),f.actions.move(d);return}f.type!=="PENDING"&&ht();const p=f.point;if(!x9(p,d))return;r.preventDefault();const y=f.actions.fluidLift(d);i({type:"DRAGGING",actions:y})}},{eventName:"mouseup",fn:r=>{const o=e();if(o.type!=="DRAGGING"){n();return}r.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"mousedown",fn:r=>{e().type==="DRAGGING"&&r.preventDefault(),n()}},{eventName:"keydown",fn:r=>{if(e().type==="PENDING"){n();return}if(r.keyCode===Jb){r.preventDefault(),n();return}hR(r)}},{eventName:"resize",fn:n},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{e().type==="PENDING"&&n()}},{eventName:"webkitmouseforcedown",fn:r=>{const o=e();if(o.type==="IDLE"&&ht(),o.actions.shouldRespectForcePress()){n();return}r.preventDefault()}},{eventName:Ug,fn:n}]}function T9(n){const t=$.useRef(tw),e=$.useRef(ia),i=Kt(()=>({eventName:"mousedown",fn:function(y){if(y.defaultPrevented||y.button!==dR||y.ctrlKey||y.metaKey||y.shiftKey||y.altKey)return;const _=n.findClosestDraggableId(y);if(!_)return;const x=n.tryGetLock(_,l,{sourceEvent:y});if(!x)return;y.preventDefault();const w={x:y.clientX,y:y.clientY};e.current(),f(x,w)}}),[n]),r=Kt(()=>({eventName:"webkitmouseforcewillbegin",fn:p=>{if(p.defaultPrevented)return;const y=n.findClosestDraggableId(p);if(!y)return;const _=n.findOptionsForDraggable(y);_&&(_.shouldRespectForcePress||n.canGetLock(y)&&p.preventDefault())}}),[n]),o=Et(function(){const y={passive:!1,capture:!0};e.current=Ti(window,[r,i],y)},[r,i]),l=Et(()=>{t.current.type!=="IDLE"&&(t.current=tw,e.current(),o())},[o]),u=Et(()=>{const p=t.current;l(),p.type==="DRAGGING"&&p.actions.cancel({shouldBlockNextClick:!0}),p.type==="PENDING"&&p.actions.abort()},[l]),d=Et(function(){const y={capture:!0,passive:!1},_=E9({cancel:u,completed:l,getPhase:()=>t.current,setPhase:x=>{t.current=x}});e.current=Ti(window,_,y)},[u,l]),f=Et(function(y,_){t.current.type!=="IDLE"&&ht(),t.current={type:"PENDING",point:_,actions:y},d()},[d]);ai(function(){return o(),function(){e.current()}},[o])}function S9(){}const w9={[f9]:!0,[d9]:!0,[p9]:!0,[g9]:!0};function A9(n,t){function e(){t(),n.cancel()}function i(){t(),n.drop()}return[{eventName:"keydown",fn:r=>{if(r.keyCode===Jb){r.preventDefault(),e();return}if(r.keyCode===uR){r.preventDefault(),i();return}if(r.keyCode===_9){r.preventDefault(),n.moveDown();return}if(r.keyCode===y9){r.preventDefault(),n.moveUp();return}if(r.keyCode===b9){r.preventDefault(),n.moveRight();return}if(r.keyCode===m9){r.preventDefault(),n.moveLeft();return}if(w9[r.keyCode]){r.preventDefault();return}hR(r)}},{eventName:"mousedown",fn:e},{eventName:"mouseup",fn:e},{eventName:"click",fn:e},{eventName:"touchstart",fn:e},{eventName:"resize",fn:e},{eventName:"wheel",fn:e,options:{passive:!0}},{eventName:Ug,fn:e}]}function C9(n){const t=$.useRef(S9),e=Kt(()=>({eventName:"keydown",fn:function(o){if(o.defaultPrevented||o.keyCode!==uR)return;const l=n.findClosestDraggableId(o);if(!l)return;const u=n.tryGetLock(l,p,{sourceEvent:o});if(!u)return;o.preventDefault();let d=!0;const f=u.snapLift();t.current();function p(){d||ht(),d=!1,t.current(),i()}t.current=Ti(window,A9(f,p),{capture:!0,passive:!1})}}),[n]),i=Et(function(){const o={passive:!1,capture:!0};t.current=Ti(window,[e],o)},[e]);ai(function(){return i(),function(){t.current()}},[i])}const Ey={type:"IDLE"},I9=120,R9=.15;function D9({cancel:n,getPhase:t}){return[{eventName:"orientationchange",fn:n},{eventName:"resize",fn:n},{eventName:"contextmenu",fn:e=>{e.preventDefault()}},{eventName:"keydown",fn:e=>{if(t().type!=="DRAGGING"){n();return}e.keyCode===Jb&&e.preventDefault(),n()}},{eventName:Ug,fn:n}]}function N9({cancel:n,completed:t,getPhase:e}){return[{eventName:"touchmove",options:{capture:!1},fn:i=>{const r=e();if(r.type!=="DRAGGING"){n();return}r.hasMoved=!0;const{clientX:o,clientY:l}=i.touches[0],u={x:o,y:l};i.preventDefault(),r.actions.move(u)}},{eventName:"touchend",fn:i=>{const r=e();if(r.type!=="DRAGGING"){n();return}i.preventDefault(),r.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"touchcancel",fn:i=>{if(e().type!=="DRAGGING"){n();return}i.preventDefault(),n()}},{eventName:"touchforcechange",fn:i=>{const r=e();r.type==="IDLE"&&ht();const o=i.touches[0];if(!o||!(o.force>=R9))return;const u=r.actions.shouldRespectForcePress();if(r.type==="PENDING"){u&&n();return}if(u){if(r.hasMoved){i.preventDefault();return}n();return}i.preventDefault()}},{eventName:Ug,fn:n}]}function k9(n){const t=$.useRef(Ey),e=$.useRef(ia),i=Et(function(){return t.current},[]),r=Et(function(x){t.current=x},[]),o=Kt(()=>({eventName:"touchstart",fn:function(x){if(x.defaultPrevented)return;const w=n.findClosestDraggableId(x);if(!w)return;const A=n.tryGetLock(w,u,{sourceEvent:x});if(!A)return;const S=x.touches[0],{clientX:M,clientY:V}=S,F={x:M,y:V};e.current(),y(A,F)}}),[n]),l=Et(function(){const x={capture:!0,passive:!1};e.current=Ti(window,[o],x)},[o]),u=Et(()=>{const _=t.current;_.type!=="IDLE"&&(_.type==="PENDING"&&clearTimeout(_.longPressTimerId),r(Ey),e.current(),l())},[l,r]),d=Et(()=>{const _=t.current;u(),_.type==="DRAGGING"&&_.actions.cancel({shouldBlockNextClick:!0}),_.type==="PENDING"&&_.actions.abort()},[u]),f=Et(function(){const x={capture:!0,passive:!1},w={cancel:d,completed:u,getPhase:i},A=Ti(window,N9(w),x),S=Ti(window,D9(w),x);e.current=function(){A(),S()}},[d,i,u]),p=Et(function(){const x=i();x.type!=="PENDING"&&ht();const w=x.actions.fluidLift(x.point);r({type:"DRAGGING",actions:w,hasMoved:!1})},[i,r]),y=Et(function(x,w){i().type!=="IDLE"&&ht();const A=setTimeout(p,I9);r({type:"PENDING",point:w,actions:x,longPressTimerId:A}),f()},[f,i,r,p]);ai(function(){return l(),function(){e.current();const w=i();w.type==="PENDING"&&(clearTimeout(w.longPressTimerId),r(Ey))}},[i,l,r]),ai(function(){return Ti(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const O9=["input","button","textarea","select","option","optgroup","video","audio"];function fR(n,t){if(t==null)return!1;if(O9.includes(t.tagName.toLowerCase()))return!0;const i=t.getAttribute("contenteditable");return i==="true"||i===""?!0:t===n?!1:fR(n,t.parentElement)}function M9(n,t){const e=t.target;return Vg(e)?fR(n,e):!1}var P9=n=>Hi(n.getBoundingClientRect()).center;function z9(n){return n instanceof lR(n).Element}const L9=(()=>{const n="matches";return typeof document>"u"?n:[n,"msMatchesSelector","webkitMatchesSelector"].find(i=>i in Element.prototype)||n})();function gR(n,t){return n==null?null:n[L9](t)?n:gR(n.parentElement,t)}function V9(n,t){return n.closest?n.closest(t):gR(n,t)}function B9(n){return`[${Nl.contextId}="${n}"]`}function U9(n,t){const e=t.target;if(!z9(e))return null;const i=B9(n),r=V9(e,i);return!r||!Vg(r)?null:r}function j9(n,t){const e=U9(n,t);return e?e.getAttribute(Nl.draggableId):null}function F9(n,t){const e=`[${b0.contextId}="${n}"]`,r=oR(document,e).find(o=>o.getAttribute(b0.id)===t);return!r||!Vg(r)?null:r}function H9(n){n.preventDefault()}function tf({expected:n,phase:t,isLockActive:e,shouldWarn:i}){return!(!e()||n!==t)}function pR({lockAPI:n,store:t,registry:e,draggableId:i}){if(n.isClaimed())return!1;const r=e.draggable.findById(i);return!(!r||!r.options.isEnabled||!iR(t.getState(),i))}function q9({lockAPI:n,contextId:t,store:e,registry:i,draggableId:r,forceSensorStop:o,sourceEvent:l}){if(!pR({lockAPI:n,store:e,registry:i,draggableId:r}))return null;const d=i.draggable.getById(r),f=F9(t,d.descriptor.id);if(!f||l&&!d.options.canDragInteractiveElements&&M9(f,l))return null;const p=n.claim(o||ia);let y="PRE_DRAG";function _(){return d.options.shouldRespectForcePress}function x(){return n.isActive(p)}function w(H,Y){tf({expected:H,phase:y,isLockActive:x,shouldWarn:!0})&&e.dispatch(Y())}const A=w.bind(null,"DRAGGING");function S(H){function Y(){n.release(),y="COMPLETED"}y!=="PRE_DRAG"&&(Y(),ht()),e.dispatch(V3(H.liftActionArgs)),y="DRAGGING";function D(I,N={shouldBlockNextClick:!1}){if(H.cleanup(),N.shouldBlockNextClick){const z=Ti(window,[{eventName:"click",fn:H9,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(z)}Y(),e.dispatch(KI({reason:I}))}return{isActive:()=>tf({expected:"DRAGGING",phase:y,isLockActive:x,shouldWarn:!1}),shouldRespectForcePress:_,drop:I=>D("DROP",I),cancel:I=>D("CANCEL",I),...H.actions}}function M(H){const Y=ju(I=>{A(()=>YI({client:I}))});return{...S({liftActionArgs:{id:r,clientSelection:H,movementMode:"FLUID"},cleanup:()=>Y.cancel(),actions:{move:Y}}),move:Y}}function V(){const H={moveUp:()=>A(W3),moveRight:()=>A(K3),moveDown:()=>A(Y3),moveLeft:()=>A(Q3)};return S({liftActionArgs:{id:r,clientSelection:P9(f),movementMode:"SNAP"},cleanup:ia,actions:H})}function F(){tf({expected:"PRE_DRAG",phase:y,isLockActive:x,shouldWarn:!0})&&n.release()}return{isActive:()=>tf({expected:"PRE_DRAG",phase:y,isLockActive:x,shouldWarn:!1}),shouldRespectForcePress:_,fluidLift:M,snapLift:V,abort:F}}const G9=[T9,C9,k9];function $9({contextId:n,store:t,registry:e,customSensors:i,enableDefaultSensors:r}){const o=[...r?G9:[],...i||[]],l=$.useState(()=>c9())[0],u=Et(function(S,M){Wu(S)&&!Wu(M)&&l.tryAbandon()},[l]);ai(function(){let S=t.getState();return t.subscribe(()=>{const V=t.getState();u(S,V),S=V})},[l,t,u]),ai(()=>l.tryAbandon,[l.tryAbandon]);const d=Et(A=>pR({lockAPI:l,registry:e,store:t,draggableId:A}),[l,e,t]),f=Et((A,S,M)=>q9({lockAPI:l,registry:e,contextId:n,store:t,draggableId:A,forceSensorStop:S||null,sourceEvent:M&&M.sourceEvent?M.sourceEvent:null}),[n,l,e,t]),p=Et(A=>j9(n,A),[n]),y=Et(A=>{const S=e.draggable.findById(A);return S?S.options:null},[e.draggable]),_=Et(function(){l.isClaimed()&&(l.tryAbandon(),t.getState().phase!=="IDLE"&&t.dispatch(Hb()))},[l,t]),x=Et(()=>l.isClaimed(),[l]),w=Kt(()=>({canGetLock:d,tryGetLock:f,findClosestDraggableId:p,findOptionsForDraggable:y,tryReleaseLock:_,isLockClaimed:x}),[d,f,p,y,_,x]);for(let A=0;A<o.length;A++)o[A](w)}const W9=n=>({onBeforeCapture:t=>{const e=()=>{n.onBeforeCapture&&n.onBeforeCapture(t)};Nb.flushSync(e)},onBeforeDragStart:n.onBeforeDragStart,onDragStart:n.onDragStart,onDragEnd:n.onDragEnd,onDragUpdate:n.onDragUpdate}),Y9=n=>({...$u,...n.autoScrollerOptions,durationDampening:{...$u.durationDampening,...n.autoScrollerOptions}});function tu(n){return n.current||ht(),n.current}function K9(n){const{contextId:t,setCallbacks:e,sensors:i,nonce:r,dragHandleUsageInstructions:o}=n,l=$.useRef(null),u=cR(n),d=Et(()=>W9(u.current),[u]),f=Et(()=>Y9(u.current),[u]),p=r9(t),y=l9({contextId:t,text:o}),_=J6(t,r),x=Et(z=>{tu(l).dispatch(z)},[]),w=Kt(()=>AS({publishWhileDragging:U3,updateDroppableScroll:F3,updateDroppableIsEnabled:H3,updateDroppableIsCombineEnabled:q3,collectionStarting:j3},x),[x]),A=n9(),S=Kt(()=>D6(A,w),[A,w]),M=Kt(()=>W6({scrollWindow:N6,scrollDroppable:S.scrollDroppable,getAutoScrollerOptions:f,...AS({move:YI},x)}),[S.scrollDroppable,x,f]),V=t9(t),F=Kt(()=>A6({announce:p,autoScroller:M,dimensionMarshal:S,focusMarshal:V,getResponders:d,styleMarshal:_}),[p,M,S,V,d,_]);l.current=F;const G=Et(()=>{const z=tu(l);z.getState().phase!=="IDLE"&&z.dispatch(Hb())},[]),H=Et(()=>{const z=tu(l).getState();return z.phase==="DROP_ANIMATING"?!0:z.phase==="IDLE"?!1:z.isDragging},[]),Y=Kt(()=>({isDragging:H,tryAbort:G}),[H,G]);e(Y);const D=Et(z=>iR(tu(l).getState(),z),[]),I=Et(()=>Za(tu(l).getState()),[]),N=Kt(()=>({marshal:S,focus:V,contextId:t,canLift:D,isMovementAllowed:I,dragHandleUsageInstructionsId:y,registry:A}),[t,S,y,V,D,I,A]);return $9({contextId:t,store:F,registry:A,customSensors:i||null,enableDefaultSensors:n.enableDefaultSensors!==!1}),$.useEffect(()=>G,[G]),we.createElement(Bg.Provider,{value:N},we.createElement(v5,{context:Qb,store:F},n.children))}function Q9(){return we.useId()}function X9(n){const t=Q9(),e=n.dragHandleUsageInstructions||Cf.dragHandleUsageInstructions;return we.createElement(C5,null,i=>we.createElement(K9,{nonce:n.nonce,contextId:t,setCallbacks:i,dragHandleUsageInstructions:e,enableDefaultSensors:n.enableDefaultSensors,sensors:n.sensors,onBeforeCapture:n.onBeforeCapture,onBeforeDragStart:n.onBeforeDragStart,onDragStart:n.onDragStart,onDragUpdate:n.onDragUpdate,onDragEnd:n.onDragEnd,autoScrollerOptions:n.autoScrollerOptions},n.children))}const ew={dragging:5e3,dropAnimating:4500},J9=(n,t)=>t?Tu.drop(t.duration):n?Tu.snap:Tu.fluid,Z9=(n,t)=>{if(n)return t?Gu.opacity.drop:Gu.opacity.combining},tB=n=>n.forceShouldAnimate!=null?n.forceShouldAnimate:n.mode==="SNAP";function eB(n){const e=n.dimension.client,{offset:i,combineWith:r,dropping:o}=n,l=!!r,u=tB(n),d=!!o,f=d?m0.drop(i,l):m0.moveTo(i);return{position:"fixed",top:e.marginBox.top,left:e.marginBox.left,boxSizing:"border-box",width:e.borderBox.width,height:e.borderBox.height,transition:J9(u,o),transform:f,opacity:Z9(l,d),zIndex:d?ew.dropAnimating:ew.dragging,pointerEvents:"none"}}function nB(n){return{transform:m0.moveTo(n.offset),transition:n.shouldAnimateDisplacement?void 0:"none"}}function iB(n){return n.type==="DRAGGING"?eB(n):nB(n)}function sB(n,t,e=on){const i=window.getComputedStyle(t),r=t.getBoundingClientRect(),o=EI(r,i),l=Jf(o,e),u={client:o,tagName:t.tagName.toLowerCase(),display:i.display},d={x:o.marginBox.width,y:o.marginBox.height};return{descriptor:n,placeholder:u,displaceBy:d,client:o,page:l}}function rB(n){const t=Xb("draggable"),{descriptor:e,registry:i,getDraggableRef:r,canDragInteractiveElements:o,shouldRespectForcePress:l,isEnabled:u}=n,d=Kt(()=>({canDragInteractiveElements:o,shouldRespectForcePress:l,isEnabled:u}),[o,u,l]),f=Et(x=>{const w=r();return w||ht(),sB(e,w,x)},[e,r]),p=Kt(()=>({uniqueId:t,descriptor:e,options:d,getDimension:f}),[e,f,d,t]),y=$.useRef(p),_=$.useRef(!0);ai(()=>(i.draggable.register(y.current),()=>i.draggable.unregister(y.current)),[i.draggable]),ai(()=>{if(_.current){_.current=!1;return}const x=y.current;y.current=p,i.draggable.update(p,x)},[p,i.draggable])}var Zb=we.createContext(null);function sg(n){const t=$.useContext(n);return t||ht(),t}function aB(n){n.preventDefault()}const oB=n=>{const t=$.useRef(null),e=Et((Y=null)=>{t.current=Y},[]),i=Et(()=>t.current,[]),{contextId:r,dragHandleUsageInstructionsId:o,registry:l}=sg(Bg),{type:u,droppableId:d}=sg(Zb),f=Kt(()=>({id:n.draggableId,index:n.index,type:u,droppableId:d}),[n.draggableId,n.index,u,d]),{children:p,draggableId:y,isEnabled:_,shouldRespectForcePress:x,canDragInteractiveElements:w,isClone:A,mapped:S,dropAnimationFinished:M}=n;if(!A){const Y=Kt(()=>({descriptor:f,registry:l,getDraggableRef:i,canDragInteractiveElements:w,shouldRespectForcePress:x,isEnabled:_}),[f,l,i,w,x,_]);rB(Y)}const V=Kt(()=>_?{tabIndex:0,role:"button","aria-describedby":o,"data-rfd-drag-handle-draggable-id":y,"data-rfd-drag-handle-context-id":r,draggable:!1,onDragStart:aB}:null,[r,o,y,_]),F=Et(Y=>{S.type==="DRAGGING"&&S.dropping&&Y.propertyName==="transform"&&Nb.flushSync(M)},[M,S]),G=Kt(()=>{const Y=iB(S),D=S.type==="DRAGGING"&&S.dropping?F:void 0;return{innerRef:e,draggableProps:{"data-rfd-draggable-context-id":r,"data-rfd-draggable-id":y,style:Y,onTransitionEnd:D},dragHandleProps:V}},[r,V,y,S,F,e]),H=Kt(()=>({draggableId:f.id,type:f.type,source:{index:f.index,droppableId:f.droppableId}}),[f.droppableId,f.id,f.index,f.type]);return we.createElement(we.Fragment,null,p(G,S.snapshot,H))};var mR=(n,t)=>n===t,yR=n=>{const{combine:t,destination:e}=n;return e?e.droppableId:t?t.droppableId:null};const lB=n=>n.combine?n.combine.draggableId:null,cB=n=>n.at&&n.at.type==="COMBINE"?n.at.combine.draggableId:null;function uB(){const n=rn((r,o)=>({x:r,y:o})),t=rn((r,o,l=null,u=null,d=null)=>({isDragging:!0,isClone:o,isDropAnimating:!!d,dropAnimation:d,mode:r,draggingOver:l,combineWith:u,combineTargetFor:null})),e=rn((r,o,l,u,d=null,f=null,p=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:d,combineWith:f,mode:o,offset:r,dimension:l,forceShouldAnimate:p,snapshot:t(o,u,d,f,null)}}));return(r,o)=>{if(Wu(r)){if(r.critical.draggable.id!==o.draggableId)return null;const l=r.current.client.offset,u=r.dimensions.draggables[o.draggableId],d=ri(r.impact),f=cB(r.impact),p=r.forceShouldAnimate;return e(n(l.x,l.y),r.movementMode,u,o.isClone,d,f,p)}if(r.phase==="DROP_ANIMATING"){const l=r.completed;if(l.result.draggableId!==o.draggableId)return null;const u=o.isClone,d=r.dimensions.draggables[o.draggableId],f=l.result,p=f.mode,y=yR(f),_=lB(f),w={duration:r.dropDuration,curve:Gb.drop,moveTo:r.newHomeClientOffset,opacity:_?Gu.opacity.drop:null,scale:_?Gu.scale.drop:null};return{mapped:{type:"DRAGGING",offset:r.newHomeClientOffset,dimension:d,dropping:w,draggingOver:y,combineWith:_,mode:p,forceShouldAnimate:null,snapshot:t(p,u,y,_,w)}}}return null}}function bR(n=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:n,combineWith:null}}const hB={mapped:{type:"SECONDARY",offset:on,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:bR(null)}};function dB(){const n=rn((l,u)=>({x:l,y:u})),t=rn(bR),e=rn((l,u=null,d)=>({mapped:{type:"SECONDARY",offset:l,combineTargetFor:u,shouldAnimateDisplacement:d,snapshot:t(u)}})),i=l=>l?e(on,l,!0):null,r=(l,u,d,f)=>{const p=d.displaced.visible[l],y=!!(f.inVirtualList&&f.effected[l]),_=Pg(d),x=_&&_.draggableId===l?u:null;if(!p){if(!y)return i(x);if(d.displaced.invisible[l])return null;const S=Hl(f.displacedBy.point),M=n(S.x,S.y);return e(M,x,!0)}if(y)return i(x);const w=d.displacedBy.point,A=n(w.x,w.y);return e(A,x,p.shouldAnimate)};return(l,u)=>{if(Wu(l))return l.critical.draggable.id===u.draggableId?null:r(u.draggableId,l.critical.draggable.id,l.impact,l.afterCritical);if(l.phase==="DROP_ANIMATING"){const d=l.completed;return d.result.draggableId===u.draggableId?null:r(u.draggableId,d.result.draggableId,d.impact,d.afterCritical)}return null}}const fB=()=>{const n=uB(),t=dB();return(i,r)=>n(i,r)||t(i,r)||hB},gB={dropAnimationFinished:QI},pB=xI(fB,gB,null,{context:Qb,areStatePropsEqual:mR})(oB);function _R(n){return sg(Zb).isUsingCloneFor===n.draggableId&&!n.isClone?null:we.createElement(pB,n)}function mB(n){const t=typeof n.isDragDisabled=="boolean"?!n.isDragDisabled:!0,e=!!n.disableInteractiveElementBlocking,i=!!n.shouldRespectForcePress;return we.createElement(_R,Zf({},n,{isClone:!1,isEnabled:t,canDragInteractiveElements:e,shouldRespectForcePress:i}))}const vR=n=>t=>n===t,yB=vR("scroll"),bB=vR("auto"),nw=(n,t)=>t(n.overflowX)||t(n.overflowY),_B=n=>{const t=window.getComputedStyle(n),e={overflowX:t.overflowX,overflowY:t.overflowY};return nw(e,yB)||nw(e,bB)},vB=()=>!1,xR=n=>n==null?null:n===document.body?vB()?n:null:n===document.documentElement?null:_B(n)?n:xR(n.parentElement);var _0=n=>({x:n.scrollLeft,y:n.scrollTop});const ER=n=>n?window.getComputedStyle(n).position==="fixed"?!0:ER(n.parentElement):!1;var xB=n=>{const t=xR(n),e=ER(n);return{closestScrollable:t,isFixedOnPage:e}},EB=({descriptor:n,isEnabled:t,isCombineEnabled:e,isFixedOnPage:i,direction:r,client:o,page:l,closest:u})=>{const d=(()=>{if(!u)return null;const{scrollSize:_,client:x}=u,w=tR({scrollHeight:_.scrollHeight,scrollWidth:_.scrollWidth,height:x.paddingBox.height,width:x.paddingBox.width});return{pageMarginBox:u.page.marginBox,frameClient:x,scrollSize:_,shouldClipSubject:u.shouldClipSubject,scroll:{initial:u.scroll,current:u.scroll,max:w,diff:{value:on,displacement:on}}}})(),f=r==="vertical"?Vb:OI,p=Rl({page:l,withPlaceholder:null,axis:f,frame:d});return{descriptor:n,isCombineEnabled:e,isFixedOnPage:i,axis:f,isEnabled:t,client:o,page:l,frame:d,subject:p}};const TB=(n,t)=>{const e=TI(n);if(!t||n!==t)return e;const i=e.paddingBox.top-t.scrollTop,r=e.paddingBox.left-t.scrollLeft,o=i+t.scrollHeight,l=r+t.scrollWidth,d=Mb({top:i,right:l,bottom:o,left:r},e.border);return Pb({borderBox:d,margin:e.margin,border:e.border,padding:e.padding})};var SB=({ref:n,descriptor:t,env:e,windowScroll:i,direction:r,isDropDisabled:o,isCombineEnabled:l,shouldClipSubject:u})=>{const d=e.closestScrollable,f=TB(n,d),p=Jf(f,i),y=(()=>{if(!d)return null;const x=TI(d),w={scrollHeight:d.scrollHeight,scrollWidth:d.scrollWidth};return{client:x,page:Jf(x,i),scroll:_0(d),scrollSize:w,shouldClipSubject:u}})();return EB({descriptor:t,isEnabled:!o,isCombineEnabled:l,isFixedOnPage:e.isFixedOnPage,direction:r,client:f,page:p,closest:y})};const wB={passive:!1},AB={passive:!0};var iw=n=>n.shouldPublishImmediately?wB:AB;const ef=n=>n&&n.env.closestScrollable||null;function CB(n){const t=$.useRef(null),e=sg(Bg),i=Xb("droppable"),{registry:r,marshal:o}=e,l=cR(n),u=Kt(()=>({id:n.droppableId,type:n.type,mode:n.mode}),[n.droppableId,n.mode,n.type]),d=$.useRef(u),f=Kt(()=>rn((G,H)=>{t.current||ht();const Y={x:G,y:H};o.updateDroppableScroll(u.id,Y)}),[u.id,o]),p=Et(()=>{const G=t.current;return!G||!G.env.closestScrollable?on:_0(G.env.closestScrollable)},[]),y=Et(()=>{const G=p();f(G.x,G.y)},[p,f]),_=Kt(()=>ju(y),[y]),x=Et(()=>{const G=t.current,H=ef(G);if(G&&H||ht(),G.scrollOptions.shouldPublishImmediately){y();return}_()},[_,y]),w=Et((G,H)=>{t.current&&ht();const Y=l.current,D=Y.getDroppableRef();D||ht();const I=xB(D),N={ref:D,descriptor:u,env:I,scrollOptions:H};t.current=N;const z=SB({ref:D,descriptor:u,env:I,windowScroll:G,direction:Y.direction,isDropDisabled:Y.isDropDisabled,isCombineEnabled:Y.isCombineEnabled,shouldClipSubject:!Y.ignoreContainerClipping}),O=I.closestScrollable;return O&&(O.setAttribute(XS.contextId,e.contextId),O.addEventListener("scroll",x,iw(N.scrollOptions))),z},[e.contextId,u,x,l]),A=Et(()=>{const G=t.current,H=ef(G);return G&&H||ht(),_0(H)},[]),S=Et(()=>{const G=t.current;G||ht();const H=ef(G);t.current=null,H&&(_.cancel(),H.removeAttribute(XS.contextId),H.removeEventListener("scroll",x,iw(G.scrollOptions)))},[x,_]),M=Et(G=>{const H=t.current;H||ht();const Y=ef(H);Y||ht(),Y.scrollTop+=G.y,Y.scrollLeft+=G.x},[]),V=Kt(()=>({getDimensionAndWatchScroll:w,getScrollWhileDragging:A,dragStopped:S,scroll:M}),[S,w,A,M]),F=Kt(()=>({uniqueId:i,descriptor:u,callbacks:V}),[V,u,i]);ai(()=>(d.current=F.descriptor,r.droppable.register(F),()=>{t.current&&S(),r.droppable.unregister(F)}),[V,u,S,F,o,r.droppable]),ai(()=>{t.current&&o.updateDroppableIsEnabled(d.current.id,!n.isDropDisabled)},[n.isDropDisabled,o]),ai(()=>{t.current&&o.updateDroppableIsCombineEnabled(d.current.id,n.isCombineEnabled)},[n.isCombineEnabled,o])}function Ty(){}const sw={width:0,height:0,margin:M5},IB=({isAnimatingOpenOnMount:n,placeholder:t,animate:e})=>n||e==="close"?sw:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin},RB=({isAnimatingOpenOnMount:n,placeholder:t,animate:e})=>{const i=IB({isAnimatingOpenOnMount:n,placeholder:t,animate:e});return{display:t.display,boxSizing:"border-box",width:i.width,height:i.height,marginTop:i.margin.top,marginRight:i.margin.right,marginBottom:i.margin.bottom,marginLeft:i.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:e!=="none"?Tu.placeholder:null}},DB=n=>{const t=$.useRef(null),e=Et(()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),{animate:i,onTransitionEnd:r,onClose:o,contextId:l}=n,[u,d]=$.useState(n.animate==="open");$.useEffect(()=>u?i!=="open"?(e(),d(!1),Ty):t.current?Ty:(t.current=setTimeout(()=>{t.current=null,d(!1)}),e):Ty,[i,u,e]);const f=Et(y=>{y.propertyName==="height"&&(r(),i==="close"&&o())},[i,o,r]),p=RB({isAnimatingOpenOnMount:u,animate:n.animate,placeholder:n.placeholder});return we.createElement(n.placeholder.tagName,{style:p,"data-rfd-placeholder-context-id":l,onTransitionEnd:f,ref:n.innerRef})};var NB=we.memo(DB);class kB extends we.PureComponent{constructor(...t){super(...t),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(t,e){return t.shouldAnimate?t.on?{isVisible:!0,data:t.on,animate:"open"}:e.isVisible?{isVisible:!0,data:e.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!t.on,data:t.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const t={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(t)}}const OB=n=>{const t=$.useContext(Bg);t||ht();const{contextId:e,isMovementAllowed:i}=t,r=$.useRef(null),o=$.useRef(null),{children:l,droppableId:u,type:d,mode:f,direction:p,ignoreContainerClipping:y,isDropDisabled:_,isCombineEnabled:x,snapshot:w,useClone:A,updateViewportMaxScroll:S,getContainerForClone:M}=n,V=Et(()=>r.current,[]),F=Et((O=null)=>{r.current=O},[]);Et(()=>o.current,[]);const G=Et((O=null)=>{o.current=O},[]),H=Et(()=>{i()&&S({maxScroll:nR()})},[i,S]);CB({droppableId:u,type:d,mode:f,direction:p,isDropDisabled:_,isCombineEnabled:x,ignoreContainerClipping:y,getDroppableRef:V});const Y=Kt(()=>we.createElement(kB,{on:n.placeholder,shouldAnimate:n.shouldAnimatePlaceholder},({onClose:O,data:L,animate:P})=>we.createElement(NB,{placeholder:L,onClose:O,innerRef:G,animate:P,contextId:e,onTransitionEnd:H})),[e,H,n.placeholder,n.shouldAnimatePlaceholder,G]),D=Kt(()=>({innerRef:F,placeholder:Y,droppableProps:{"data-rfd-droppable-id":u,"data-rfd-droppable-context-id":e}}),[e,u,Y,F]),I=A?A.dragging.draggableId:null,N=Kt(()=>({droppableId:u,type:d,isUsingCloneFor:I}),[u,I,d]);function z(){if(!A)return null;const{dragging:O,render:L}=A,P=we.createElement(_R,{draggableId:O.draggableId,index:O.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(It,bt)=>L(It,bt,O));return _V.createPortal(P,M())}return we.createElement(Zb.Provider,{value:N},l(D,w),z())};function MB(){return document.body||ht(),document.body}const rw={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:MB},TR=n=>{let t={...n},e;for(e in rw)n[e]===void 0&&(t={...t,[e]:rw[e]});return t},Sy=(n,t)=>n===t.droppable.type,aw=(n,t)=>t.draggables[n.draggable.id],PB=()=>{const n={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...n,shouldAnimatePlaceholder:!1},e=rn(o=>({draggableId:o.id,type:o.type,source:{index:o.index,droppableId:o.droppableId}})),i=rn((o,l,u,d,f,p)=>{const y=f.descriptor.id;if(f.descriptor.droppableId===o){const w=p?{render:p,dragging:e(f.descriptor)}:null,A={isDraggingOver:u,draggingOverWith:u?y:null,draggingFromThisWith:y,isUsingPlaceholder:!0};return{placeholder:f.placeholder,shouldAnimatePlaceholder:!1,snapshot:A,useClone:w}}if(!l)return t;if(!d)return n;const x={isDraggingOver:u,draggingOverWith:y,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:f.placeholder,shouldAnimatePlaceholder:!0,snapshot:x,useClone:null}});return(o,l)=>{const u=TR(l),d=u.droppableId,f=u.type,p=!u.isDropDisabled,y=u.renderClone;if(Wu(o)){const _=o.critical;if(!Sy(f,_))return t;const x=aw(_,o.dimensions),w=ri(o.impact)===d;return i(d,p,w,w,x,y)}if(o.phase==="DROP_ANIMATING"){const _=o.completed;if(!Sy(f,_.critical))return t;const x=aw(_.critical,o.dimensions);return i(d,p,yR(_.result)===d,ri(_.impact)===d,x,y)}if(o.phase==="IDLE"&&o.completed&&!o.shouldFlush){const _=o.completed;if(!Sy(f,_.critical))return t;const x=ri(_.impact)===d,w=!!(_.impact.at&&_.impact.at.type==="COMBINE"),A=_.critical.droppable.id===d;return x?w?n:t:A?n:t}return t}},zB={updateViewportMaxScroll:$3},LB=xI(PB,zB,(n,t,e)=>({...TR(e),...n,...t}),{context:Qb,areStatePropsEqual:mR})(OB),v0={blue:{label:"Blue",primary:"bg-blue-600 hover:bg-blue-700 text-white shadow-blue-600/20",secondary:"bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400",border:"border-blue-200 dark:border-blue-800",text:"text-blue-600 dark:text-blue-400",ring:"focus:ring-blue-500",chartLine:"#2563EB",chartFill:"rgba(37, 99, 235, 0.1)",chartPoint:"#2563EB",activeNav:"bg-blue-50 dark:bg-blue-900/20 border-blue-500 ring-1 ring-blue-500 dark:border-blue-500",activeNavText:"text-blue-700 dark:text-blue-400"},purple:{label:"Purple",primary:"bg-purple-600 hover:bg-purple-700 text-white shadow-purple-600/20",secondary:"bg-purple-50 dark:bg-purple-900/20 text-purple-600 dark:text-purple-400",border:"border-purple-200 dark:border-purple-800",text:"text-purple-600 dark:text-purple-400",ring:"focus:ring-purple-500",chartLine:"#9333EA",chartFill:"rgba(147, 51, 234, 0.1)",chartPoint:"#9333EA",activeNav:"bg-purple-50 dark:bg-purple-900/20 border-purple-500 ring-1 ring-purple-500 dark:border-purple-500",activeNavText:"text-purple-700 dark:text-purple-400"},emerald:{label:"Emerald",primary:"bg-emerald-600 hover:bg-emerald-700 text-white shadow-emerald-600/20",secondary:"bg-emerald-50 dark:bg-emerald-900/20 text-emerald-600 dark:text-emerald-400",border:"border-emerald-200 dark:border-emerald-800",text:"text-emerald-600 dark:text-emerald-400",ring:"focus:ring-emerald-500",chartLine:"#059669",chartFill:"rgba(5, 150, 105, 0.1)",chartPoint:"#059669",activeNav:"bg-emerald-50 dark:bg-emerald-900/20 border-emerald-500 ring-1 ring-emerald-500 dark:border-emerald-500",activeNavText:"text-emerald-700 dark:text-emerald-400"},amber:{label:"Amber",primary:"bg-amber-500 hover:bg-amber-600 text-white shadow-amber-500/20",secondary:"bg-amber-50 dark:bg-amber-900/20 text-amber-600 dark:text-amber-400",border:"border-amber-200 dark:border-amber-800",text:"text-amber-600 dark:text-amber-400",ring:"focus:ring-amber-500",chartLine:"#D97706",chartFill:"rgba(217, 119, 6, 0.1)",chartPoint:"#D97706",activeNav:"bg-amber-50 dark:bg-amber-900/20 border-amber-500 ring-1 ring-amber-500 dark:border-amber-500",activeNavText:"text-amber-700 dark:text-amber-400"},rose:{label:"Rose",primary:"bg-rose-600 hover:bg-rose-700 text-white shadow-rose-600/20",secondary:"bg-rose-50 dark:bg-rose-900/20 text-rose-600 dark:text-rose-400",border:"border-rose-200 dark:border-rose-800",text:"text-rose-600 dark:text-rose-400",ring:"focus:ring-rose-500",chartLine:"#E11D48",chartFill:"rgba(225, 29, 72, 0.1)",chartPoint:"#E11D48",activeNav:"bg-rose-50 dark:bg-rose-900/20 border-rose-500 ring-1 ring-rose-500 dark:border-rose-500",activeNavText:"text-rose-700 dark:text-rose-400"},indigo:{label:"Indigo",primary:"bg-indigo-600 hover:bg-indigo-700 text-white shadow-indigo-600/20",secondary:"bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 dark:text-indigo-400",border:"border-indigo-200 dark:border-indigo-800",text:"text-indigo-600 dark:text-indigo-400",ring:"focus:ring-indigo-500",chartLine:"#4F46E5",chartFill:"rgba(79, 70, 229, 0.1)",chartPoint:"#4F46E5",activeNav:"bg-indigo-50 dark:bg-indigo-900/20 border-indigo-500 ring-1 ring-indigo-500 dark:border-indigo-500",activeNavText:"text-indigo-700 dark:text-indigo-400"}},Yr=[{name:"Red",class:"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/40 dark:text-red-300 dark:border-red-800",dot:"bg-red-500"},{name:"Green",class:"bg-emerald-100 text-emerald-800 border-emerald-200 dark:bg-emerald-900/40 dark:text-emerald-300 dark:border-emerald-800",dot:"bg-emerald-500"},{name:"Blue",class:"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/40 dark:text-blue-300 dark:border-blue-800",dot:"bg-blue-500"},{name:"Yellow",class:"bg-yellow-100 text-yellow-800 border-yellow-200 dark:bg-yellow-900/40 dark:text-yellow-300 dark:border-yellow-800",dot:"bg-yellow-500"},{name:"Purple",class:"bg-purple-100 text-purple-800 border-purple-200 dark:bg-purple-900/40 dark:text-purple-300 dark:border-purple-800",dot:"bg-purple-500"},{name:"Orange",class:"bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900/40 dark:text-orange-300 dark:border-orange-800",dot:"bg-orange-500"},{name:"Pink",class:"bg-pink-100 text-pink-800 border-pink-200 dark:bg-pink-900/40 dark:text-pink-300 dark:border-pink-800",dot:"bg-pink-500"},{name:"Indigo",class:"bg-indigo-100 text-indigo-800 border-indigo-200 dark:bg-indigo-900/40 dark:text-indigo-300 dark:border-indigo-800",dot:"bg-indigo-500"}],SR=n=>{if(!n||n.length===0)return Yr[0];const t=new Set(n.map(i=>i.colorClass)),e=Yr.filter(i=>!t.has(i.class));return e.length>0?e[0]:Yr[Math.floor(Math.random()*Yr.length)]},VB=n=>new Date(n).toLocaleDateString("en-US",{month:"short",day:"numeric"}),Ci=n=>{if(!n)return"";if(typeof n=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(n))return n;const t=new Date(n);return`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`},wR=(n,t)=>{const e=new Date(n,t,1);return{daysInMonth:new Date(n,t+1,0).getDate(),startDay:e.getDay()}},BB=(n,t="average")=>{if(!n||n.length===0)return 0;const e=n.map(Number).filter(i=>!isNaN(i));return e.length===0?0:t==="sum"?e.reduce((i,r)=>i+r,0):e.reduce((i,r)=>i+r,0)/e.length},AR=(n,t)=>{if(!t||!n||n.length===0)return{streak:0,lastDate:n&&n.length>0?Ci(n[0]):null};const e=[...new Set(n.map(Ci))].sort((d,f)=>new Date(f)-new Date(d));if(e.length===0)return{streak:0,lastDate:null};const i=e[0],r=Ci(new Date);if((new Date(r).getTime()-new Date(i).getTime())/(1e3*3600*24)>1)return{streak:0,lastDate:i};let l=0,u=null;for(const d of e){if(u===null){l=1,u=d;continue}if((new Date(u).getTime()-new Date(d).getTime())/(1e3*3600*24)===1)l++,u=d;else break}return{streak:l,lastDate:i}},UB=()=>{const{user:n}=lr(),[t,e]=$.useState([]),[i,r]=$.useState(!0);return $.useEffect(()=>{if(!n){e([]),r(!1);return}const l=u0(po(ke,"artifacts","default-app-id","users",n.uid,"trackers"),xu("order","asc"),xu("createdAt","desc")),u=wb(l,async d=>{const f=d.docs.map(y=>({id:y.id,...y.data(),streak:0,lastDate:null})),p=await Promise.all(f.map(async y=>{const _=po(ke,"artifacts","default-app-id","users",n.uid,"trackers",y.id,"entries"),x=u0(_,xu("date","desc")),A=(await h0(x)).docs.map(M=>M.data().date),S=AR(A,y.enableStreak);return{...y,streak:S.streak,lastDate:S.lastDate}}));e(p.sort((y,_)=>y.order-_.order)),r(!1)});return()=>u()},[n]),{trackers:t,loading:i,reorderTrackers:async(l,u)=>{const d=Array.from(t),[f]=d.splice(l,1);d.splice(u,0,f);const p=d.map((y,_)=>({...y,order:_}));e(p);try{const y=iI(ke);p.forEach(_=>{const x=si(ke,"artifacts","default-app-id","users",n.uid,"trackers",_.id);y.update(x,{order:_.order})}),await y.commit()}catch(y){console.error("Failed to reorder:",y)}}}},CR=$.createContext(),jB=({children:n})=>{const{user:t}=lr(),[e,i]=$.useState("blue"),[r,o]=$.useState("dark"),[l,u]=$.useState("graph"),[d,f]=$.useState([]);$.useEffect(()=>{if(!t)return;const A=wb(si(ke,"artifacts","default-app-id","users",t.uid,"settings","tags"),S=>{if(S.exists()){const M=S.data();M.theme&&i(M.theme),M.mode&&o(M.mode),M.defaultView&&u(M.defaultView),M.list&&f(M.list)}});return()=>A()},[t]),$.useEffect(()=>{const A=document.documentElement,S=document.body;A.classList.remove("dark"),S.classList.remove("bg-zinc-50","bg-zinc-100","bg-zinc-900","bg-black","text-zinc-900","text-white"),r==="light"?S.classList.add("bg-zinc-100","text-zinc-900"):r==="dark"?(A.classList.add("dark"),S.classList.add("bg-zinc-900","text-white")):r==="amoled"&&(A.classList.add("dark"),S.classList.add("bg-black","text-white"))},[r]);const p=async(A,S)=>{A==="theme"&&i(S),A==="mode"&&o(S),A==="defaultView"&&u(S),t&&await vS(si(ke,"artifacts","default-app-id","users",t.uid,"settings","tags"),{[A]:S},{merge:!0})},y=async A=>{f(A),t&&await vS(si(ke,"artifacts","default-app-id","users",t.uid,"settings","tags"),{list:A},{merge:!0})},_=A=>p("mode",A),x=v0[e]||v0.blue,w=r==="amoled";return C.jsx(CR.Provider,{value:{theme:x,accentColor:e,themeMode:r,defaultView:l,setThemeMode:_,isAmoled:w,tags:d,updateSettings:p,updateTags:y},children:n})},Yi=()=>$.useContext(CR),FB=({tracker:n,isActive:t,theme:e,isAmoled:i,onClick:r})=>{const o=n.listDisplayValue||"none";let l=null,u=null;o==="last"&&n.lastValue!==void 0&&n.lastValue!==null?(l=n.lastValue,u="Last"):o==="average"&&n.averageValue!==void 0&&n.averageValue!==null&&(l=n.averageValue,u="Avg");const d=n.enableStreak&&n.streak>0,f=d?"text-orange-500 dark:text-orange-400":"text-zinc-400 dark:text-zinc-600";let p="",y="",_="";return t&&e?i?(p=`bg-black ${e.border} shadow-lg shadow-zinc-900/40 border`,y=e.activeNavText,_="bg-zinc-900 border border-zinc-800 text-zinc-300"):(p=`${e.activeNav} border border-transparent shadow-sm`,y=e.activeNavText,_="bg-white/50 dark:bg-black/20 text-current"):i?(p="bg-black border border-zinc-800 hover:border-zinc-700",y="text-zinc-300",_="bg-zinc-900 border border-zinc-800 text-zinc-400"):(p="bg-white dark:bg-zinc-800 border border-zinc-300 dark:border-zinc-700 hover:border-zinc-400 dark:hover:border-zinc-600 shadow-sm hover:shadow-md",y="text-zinc-900 dark:text-zinc-300",_="bg-zinc-200 dark:bg-zinc-700 text-zinc-700 dark:text-zinc-300"),C.jsxs("div",{onClick:r,className:`p-3 rounded-xl relative flex justify-between items-center transition-all duration-200 cursor-pointer select-none ${p}`,children:[C.jsxs("div",{className:"flex-1 min-w-0 mr-4",children:[C.jsx("h3",{className:`font-bold truncate text-sm ${y}`,children:n.name}),C.jsxs("div",{className:"flex flex-wrap gap-2 mt-1",children:[n.showTypeInList!==!1&&C.jsx("span",{className:"text-[10px] text-zinc-500 capitalize",children:n.type}),n.tags&&n.tags.map((x,w)=>C.jsx("span",{className:`px-1.5 py-0.5 rounded-full text-[9px] font-medium border opacity-80 ${x.colorClass}`,children:x.name},w))]})]}),C.jsxs("div",{className:"flex flex-col items-end gap-1",children:[l!==null&&C.jsxs("div",{className:`text-[10px] px-1.5 py-0.5 rounded-md font-mono font-medium ${_}`,children:[C.jsxs("span",{className:"opacity-70 mr-1",children:[u,":"]}),typeof l=="number"?l.toFixed(1):l]}),n.enableStreak&&n.lastDate&&C.jsxs("div",{className:`flex items-center text-[10px] font-medium transition-colors duration-300 ${f}`,children:[C.jsx(lI,{className:`w-3 h-3 mr-1 ${d?"fill-current":"fill-none"}`}),C.jsx("span",{children:n.streak||0})]})]})]})},IR=n=>{const{user:t}=lr(),[e,i]=$.useState([]),[r,o]=$.useState(!0);return $.useEffect(()=>{if(!t||!n){i([]),o(!1);return}const l=u0(po(ke,"artifacts","default-app-id","users",t.uid,"trackers",n,"entries"),xu("date","desc"),xu("timestamp","desc")),u=wb(l,d=>{const f=d.docs.map(p=>({id:p.id,...p.data()}));i(f),o(!1)});return()=>u()},[t,n]),{entries:e,loading:r}};function yh(n){return n+.5|0}const Kr=(n,t,e)=>Math.max(Math.min(n,e),t);function du(n){return Kr(yh(n*2.55),0,255)}function ra(n){return Kr(yh(n*255),0,255)}function Xs(n){return Kr(yh(n/2.55)/100,0,1)}function ow(n){return Kr(yh(n*100),0,100)}const xi={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},x0=[..."0123456789ABCDEF"],HB=n=>x0[n&15],qB=n=>x0[(n&240)>>4]+x0[n&15],nf=n=>(n&240)>>4===(n&15),GB=n=>nf(n.r)&&nf(n.g)&&nf(n.b)&&nf(n.a);function $B(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&xi[n[1]]*17,g:255&xi[n[2]]*17,b:255&xi[n[3]]*17,a:t===5?xi[n[4]]*17:255}:(t===7||t===9)&&(e={r:xi[n[1]]<<4|xi[n[2]],g:xi[n[3]]<<4|xi[n[4]],b:xi[n[5]]<<4|xi[n[6]],a:t===9?xi[n[7]]<<4|xi[n[8]]:255})),e}const WB=(n,t)=>n<255?t(n):"";function YB(n){var t=GB(n)?HB:qB;return n?"#"+t(n.r)+t(n.g)+t(n.b)+WB(n.a,t):void 0}const KB=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function RR(n,t,e){const i=t*Math.min(e,1-e),r=(o,l=(o+n/30)%12)=>e-i*Math.max(Math.min(l-3,9-l,1),-1);return[r(0),r(8),r(4)]}function QB(n,t,e){const i=(r,o=(r+n/60)%6)=>e-e*t*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function XB(n,t,e){const i=RR(n,1,.5);let r;for(t+e>1&&(r=1/(t+e),t*=r,e*=r),r=0;r<3;r++)i[r]*=1-t-e,i[r]+=t;return i}function JB(n,t,e,i,r){return n===r?(t-e)/i+(t<e?6:0):t===r?(e-n)/i+2:(n-t)/i+4}function t_(n){const e=n.r/255,i=n.g/255,r=n.b/255,o=Math.max(e,i,r),l=Math.min(e,i,r),u=(o+l)/2;let d,f,p;return o!==l&&(p=o-l,f=u>.5?p/(2-o-l):p/(o+l),d=JB(e,i,r,p,o),d=d*60+.5),[d|0,f||0,u]}function e_(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(ra)}function n_(n,t,e){return e_(RR,n,t,e)}function ZB(n,t,e){return e_(XB,n,t,e)}function tU(n,t,e){return e_(QB,n,t,e)}function DR(n){return(n%360+360)%360}function eU(n){const t=KB.exec(n);let e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?du(+t[5]):ra(+t[5]));const r=DR(+t[2]),o=+t[3]/100,l=+t[4]/100;return t[1]==="hwb"?i=ZB(r,o,l):t[1]==="hsv"?i=tU(r,o,l):i=n_(r,o,l),{r:i[0],g:i[1],b:i[2],a:e}}function nU(n,t){var e=t_(n);e[0]=DR(e[0]+t),e=n_(e),n.r=e[0],n.g=e[1],n.b=e[2]}function iU(n){if(!n)return;const t=t_(n),e=t[0],i=ow(t[1]),r=ow(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${r}%, ${Xs(n.a)})`:`hsl(${e}, ${i}%, ${r}%)`}const lw={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},cw={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function sU(){const n={},t=Object.keys(cw),e=Object.keys(lw);let i,r,o,l,u;for(i=0;i<t.length;i++){for(l=u=t[i],r=0;r<e.length;r++)o=e[r],u=u.replace(o,lw[o]);o=parseInt(cw[l],16),n[u]=[o>>16&255,o>>8&255,o&255]}return n}let sf;function rU(n){sf||(sf=sU(),sf.transparent=[0,0,0,0]);const t=sf[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const aU=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function oU(n){const t=aU.exec(n);let e=255,i,r,o;if(t){if(t[7]!==i){const l=+t[7];e=t[8]?du(l):Kr(l*255,0,255)}return i=+t[1],r=+t[3],o=+t[5],i=255&(t[2]?du(i):Kr(i,0,255)),r=255&(t[4]?du(r):Kr(r,0,255)),o=255&(t[6]?du(o):Kr(o,0,255)),{r:i,g:r,b:o,a:e}}}function lU(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Xs(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const wy=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,cl=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function cU(n,t,e){const i=cl(Xs(n.r)),r=cl(Xs(n.g)),o=cl(Xs(n.b));return{r:ra(wy(i+e*(cl(Xs(t.r))-i))),g:ra(wy(r+e*(cl(Xs(t.g))-r))),b:ra(wy(o+e*(cl(Xs(t.b))-o))),a:n.a+e*(t.a-n.a)}}function rf(n,t,e){if(n){let i=t_(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=n_(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function NR(n,t){return n&&Object.assign(t||{},n)}function uw(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=ra(n[3]))):(t=NR(n,{r:0,g:0,b:0,a:1}),t.a=ra(t.a)),t}function uU(n){return n.charAt(0)==="r"?oU(n):eU(n)}class Yu{constructor(t){if(t instanceof Yu)return t;const e=typeof t;let i;e==="object"?i=uw(t):e==="string"&&(i=$B(t)||rU(t)||uU(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=NR(this._rgb);return t&&(t.a=Xs(t.a)),t}set rgb(t){this._rgb=uw(t)}rgbString(){return this._valid?lU(this._rgb):void 0}hexString(){return this._valid?YB(this._rgb):void 0}hslString(){return this._valid?iU(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,r=t.rgb;let o;const l=e===o?.5:e,u=2*l-1,d=i.a-r.a,f=((u*d===-1?u:(u+d)/(1+u*d))+1)/2;o=1-f,i.r=255&f*i.r+o*r.r+.5,i.g=255&f*i.g+o*r.g+.5,i.b=255&f*i.b+o*r.b+.5,i.a=l*i.a+(1-l)*r.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=cU(this._rgb,t._rgb,e)),this}clone(){return new Yu(this.rgb)}alpha(t){return this._rgb.a=ra(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=yh(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return rf(this._rgb,2,t),this}darken(t){return rf(this._rgb,2,-t),this}saturate(t){return rf(this._rgb,1,t),this}desaturate(t){return rf(this._rgb,1,-t),this}rotate(t){return nU(this._rgb,t),this}}function Ys(){}const hU=(()=>{let n=0;return()=>n++})();function ge(n){return n==null}function Qe(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Qt(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function An(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function ms(n,t){return An(n)?n:t}function $t(n,t){return typeof n>"u"?t:n}const dU=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function ye(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function oe(n,t,e,i){let r,o,l;if(Qe(n))for(o=n.length,r=0;r<o;r++)t.call(e,n[r],r);else if(Qt(n))for(l=Object.keys(n),o=l.length,r=0;r<o;r++)t.call(e,n[l[r]],l[r])}function rg(n,t){let e,i,r,o;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(r=n[e],o=t[e],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function ag(n){if(Qe(n))return n.map(ag);if(Qt(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let r=0;for(;r<i;++r)t[e[r]]=ag(n[e[r]]);return t}return n}function kR(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function fU(n,t,e,i){if(!kR(n))return;const r=t[n],o=e[n];Qt(r)&&Qt(o)?Ku(r,o,i):t[n]=ag(o)}function Ku(n,t,e){const i=Qe(t)?t:[t],r=i.length;if(!Qt(n))return n;e=e||{};const o=e.merger||fU;let l;for(let u=0;u<r;++u){if(l=i[u],!Qt(l))continue;const d=Object.keys(l);for(let f=0,p=d.length;f<p;++f)o(d[f],n,l,e)}return n}function Su(n,t){return Ku(n,t,{merger:gU})}function gU(n,t,e){if(!kR(n))return;const i=t[n],r=e[n];Qt(i)&&Qt(r)?Su(i,r):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=ag(r))}const hw={"":n=>n,x:n=>n.x,y:n=>n.y};function pU(n){const t=n.split("."),e=[];let i="";for(const r of t)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function mU(n){const t=pU(n);return e=>{for(const i of t){if(i==="")break;e=e&&e[i]}return e}}function og(n,t){return(hw[t]||(hw[t]=mU(t)))(n)}function i_(n){return n.charAt(0).toUpperCase()+n.slice(1)}const lg=n=>typeof n<"u",fa=n=>typeof n=="function",dw=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function yU(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const an=Math.PI,Gi=2*an,bU=Gi+an,cg=Number.POSITIVE_INFINITY,_U=an/180,qi=an/2,Ka=an/4,fw=an*2/3,OR=Math.log10,kl=Math.sign;function wu(n,t,e){return Math.abs(n-t)<e}function gw(n){const t=Math.round(n);n=wu(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(OR(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function vU(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((r,o)=>r-o).pop(),t}function xU(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function Qu(n){return!xU(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function EU(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function TU(n,t,e){let i,r,o;for(i=0,r=n.length;i<r;i++)o=n[i][e],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function so(n){return n*(an/180)}function SU(n){return n*(180/an)}function pw(n){if(!An(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function wU(n,t){const e=t.x-n.x,i=t.y-n.y,r=Math.sqrt(e*e+i*i);let o=Math.atan2(i,e);return o<-.5*an&&(o+=Gi),{angle:o,distance:r}}function E0(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function AU(n,t){return(n-t+bU)%Gi-an}function vs(n){return(n%Gi+Gi)%Gi}function MR(n,t,e,i){const r=vs(n),o=vs(t),l=vs(e),u=vs(o-r),d=vs(l-r),f=vs(r-o),p=vs(r-l);return r===o||r===l||i&&o===l||u>d&&f<p}function Si(n,t,e){return Math.max(t,Math.min(e,n))}function CU(n){return Si(n,-32768,32767)}function pl(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function s_(n,t,e){e=e||(l=>n[l]<t);let i=n.length-1,r=0,o;for(;i-r>1;)o=r+i>>1,e(o)?r=o:i=o;return{lo:r,hi:i}}const ro=(n,t,e,i)=>s_(n,e,i?r=>{const o=n[r][t];return o<e||o===e&&n[r+1][t]===e}:r=>n[r][t]<e),IU=(n,t,e)=>s_(n,e,i=>n[i][t]>=e);function RU(n,t,e){let i=0,r=n.length;for(;i<r&&n[i]<t;)i++;for(;r>i&&n[r-1]>e;)r--;return i>0||r<n.length?n.slice(i,r):n}const PR=["push","pop","shift","splice","unshift"];function DU(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),PR.forEach(e=>{const i="_onData"+i_(e),r=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...o){const l=r.apply(this,o);return n._chartjs.listeners.forEach(u=>{typeof u[i]=="function"&&u[i](...o)}),l}})})}function mw(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,r=i.indexOf(t);r!==-1&&i.splice(r,1),!(i.length>0)&&(PR.forEach(o=>{delete n[o]}),delete n._chartjs)}function NU(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const zR=(function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame})();function LR(n,t){let e=[],i=!1;return function(...r){e=r,i||(i=!0,zR.call(window,()=>{i=!1,n.apply(t,e)}))}}function kU(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}const r_=n=>n==="start"?"left":n==="end"?"right":"center",xn=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,OU=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t;function MU(n,t,e){const i=t.length;let r=0,o=i;if(n._sorted){const{iScale:l,vScale:u,_parsed:d}=n,f=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,p=l.axis,{min:y,max:_,minDefined:x,maxDefined:w}=l.getUserBounds();if(x){if(r=Math.min(ro(d,p,y).lo,e?i:ro(t,p,l.getPixelForValue(y)).lo),f){const A=d.slice(0,r+1).reverse().findIndex(S=>!ge(S[u.axis]));r-=Math.max(0,A)}r=Si(r,0,i-1)}if(w){let A=Math.max(ro(d,l.axis,_,!0).hi+1,e?0:ro(t,p,l.getPixelForValue(_),!0).hi+1);if(f){const S=d.slice(A-1).findIndex(M=>!ge(M[u.axis]));A+=Math.max(0,S)}o=Si(A,r,i)-r}else o=i-r}return{start:r,count:o}}function PU(n){const{xScale:t,yScale:e,_scaleRanges:i}=n,r={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return n._scaleRanges=r,!0;const o=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,r),o}const af=n=>n===0||n===1,yw=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*Gi/e)),bw=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*Gi/e)+1,Au={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*qi)+1,easeOutSine:n=>Math.sin(n*qi),easeInOutSine:n=>-.5*(Math.cos(an*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>af(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>af(n)?n:yw(n,.075,.3),easeOutElastic:n=>af(n)?n:bw(n,.075,.3),easeInOutElastic(n){return af(n)?n:n<.5?.5*yw(n*2,.1125,.45):.5+.5*bw(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-Au.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Au.easeInBounce(n*2)*.5:Au.easeOutBounce(n*2-1)*.5+.5};function a_(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function _w(n){return a_(n)?n:new Yu(n)}function Ay(n){return a_(n)?n:new Yu(n).saturate(.5).darken(.1).hexString()}const zU=["x","y","borderWidth","radius","tension"],LU=["color","borderColor","backgroundColor"];function VU(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:LU},numbers:{type:"number",properties:zU}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function BU(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const vw=new Map;function UU(n,t){t=t||{};const e=n+JSON.stringify(t);let i=vw.get(e);return i||(i=new Intl.NumberFormat(n,t),vw.set(e,i)),i}function VR(n,t,e){return UU(t,e).format(n)}const jU={values(n){return Qe(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const i=this.chart.options.locale;let r,o=n;if(e.length>1){const f=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(f<1e-4||f>1e15)&&(r="scientific"),o=FU(n,e)}const l=OR(Math.abs(o)),u=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),d={notation:r,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(d,this.options.ticks.format),VR(n,i,d)}};function FU(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var BR={formatters:jU};function HU(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:BR.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const yo=Object.create(null),T0=Object.create(null);function Cu(n,t){if(!t)return n;const e=t.split(".");for(let i=0,r=e.length;i<r;++i){const o=e[i];n=n[o]||(n[o]=Object.create(null))}return n}function Cy(n,t,e){return typeof t=="string"?Ku(Cu(n,t),e):Ku(Cu(n,""),t)}class qU{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>Ay(r.backgroundColor),this.hoverBorderColor=(i,r)=>Ay(r.borderColor),this.hoverColor=(i,r)=>Ay(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return Cy(this,t,e)}get(t){return Cu(this,t)}describe(t,e){return Cy(T0,t,e)}override(t,e){return Cy(yo,t,e)}route(t,e,i,r){const o=Cu(this,t),l=Cu(this,i),u="_"+e;Object.defineProperties(o,{[u]:{value:o[e],writable:!0},[e]:{enumerable:!0,get(){const d=this[u],f=l[r];return Qt(d)?Object.assign({},f,d):$t(d,f)},set(d){this[u]=d}}})}apply(t){t.forEach(e=>e(this))}}var Me=new qU({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[VU,BU,HU]);function GU(n){return!n||ge(n.size)||ge(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function xw(n,t,e,i,r){let o=t[r];return o||(o=t[r]=n.measureText(r).width,e.push(r)),o>i&&(i=o),i}function Qa(n,t,e){const i=n.currentDevicePixelRatio,r=e!==0?Math.max(e/2,.5):0;return Math.round((t-r)*i)/i+r}function Ew(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function S0(n,t,e,i){UR(n,t,e,i,null)}function UR(n,t,e,i,r){let o,l,u,d,f,p,y,_;const x=t.pointStyle,w=t.rotation,A=t.radius;let S=(w||0)*_U;if(x&&typeof x=="object"&&(o=x.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(S),n.drawImage(x,-x.width/2,-x.height/2,x.width,x.height),n.restore();return}if(!(isNaN(A)||A<=0)){switch(n.beginPath(),x){default:r?n.ellipse(e,i,r/2,A,0,0,Gi):n.arc(e,i,A,0,Gi),n.closePath();break;case"triangle":p=r?r/2:A,n.moveTo(e+Math.sin(S)*p,i-Math.cos(S)*A),S+=fw,n.lineTo(e+Math.sin(S)*p,i-Math.cos(S)*A),S+=fw,n.lineTo(e+Math.sin(S)*p,i-Math.cos(S)*A),n.closePath();break;case"rectRounded":f=A*.516,d=A-f,l=Math.cos(S+Ka)*d,y=Math.cos(S+Ka)*(r?r/2-f:d),u=Math.sin(S+Ka)*d,_=Math.sin(S+Ka)*(r?r/2-f:d),n.arc(e-y,i-u,f,S-an,S-qi),n.arc(e+_,i-l,f,S-qi,S),n.arc(e+y,i+u,f,S,S+qi),n.arc(e-_,i+l,f,S+qi,S+an),n.closePath();break;case"rect":if(!w){d=Math.SQRT1_2*A,p=r?r/2:d,n.rect(e-p,i-d,2*p,2*d);break}S+=Ka;case"rectRot":y=Math.cos(S)*(r?r/2:A),l=Math.cos(S)*A,u=Math.sin(S)*A,_=Math.sin(S)*(r?r/2:A),n.moveTo(e-y,i-u),n.lineTo(e+_,i-l),n.lineTo(e+y,i+u),n.lineTo(e-_,i+l),n.closePath();break;case"crossRot":S+=Ka;case"cross":y=Math.cos(S)*(r?r/2:A),l=Math.cos(S)*A,u=Math.sin(S)*A,_=Math.sin(S)*(r?r/2:A),n.moveTo(e-y,i-u),n.lineTo(e+y,i+u),n.moveTo(e+_,i-l),n.lineTo(e-_,i+l);break;case"star":y=Math.cos(S)*(r?r/2:A),l=Math.cos(S)*A,u=Math.sin(S)*A,_=Math.sin(S)*(r?r/2:A),n.moveTo(e-y,i-u),n.lineTo(e+y,i+u),n.moveTo(e+_,i-l),n.lineTo(e-_,i+l),S+=Ka,y=Math.cos(S)*(r?r/2:A),l=Math.cos(S)*A,u=Math.sin(S)*A,_=Math.sin(S)*(r?r/2:A),n.moveTo(e-y,i-u),n.lineTo(e+y,i+u),n.moveTo(e+_,i-l),n.lineTo(e-_,i+l);break;case"line":l=r?r/2:Math.cos(S)*A,u=Math.sin(S)*A,n.moveTo(e-l,i-u),n.lineTo(e+l,i+u);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(S)*(r?r/2:A),i+Math.sin(S)*A);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function Xu(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function jg(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function Fg(n){n.restore()}function $U(n,t,e,i,r){if(!t)return n.lineTo(e.x,e.y);if(r==="middle"){const o=(t.x+e.x)/2;n.lineTo(o,t.y),n.lineTo(o,e.y)}else r==="after"!=!!i?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function WU(n,t,e,i){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function YU(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),ge(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function KU(n,t,e,i,r){if(r.strikethrough||r.underline){const o=n.measureText(i),l=t-o.actualBoundingBoxLeft,u=t+o.actualBoundingBoxRight,d=e-o.actualBoundingBoxAscent,f=e+o.actualBoundingBoxDescent,p=r.strikethrough?(d+f)/2:f;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(l,p),n.lineTo(u,p),n.stroke()}}function QU(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function Ju(n,t,e,i,r,o={}){const l=Qe(t)?t:[t],u=o.strokeWidth>0&&o.strokeColor!=="";let d,f;for(n.save(),n.font=r.string,YU(n,o),d=0;d<l.length;++d)f=l[d],o.backdrop&&QU(n,o.backdrop),u&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),ge(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(f,e,i,o.maxWidth)),n.fillText(f,e,i,o.maxWidth),KU(n,e,i,f,o),i+=Number(r.lineHeight);n.restore()}function w0(n,t){const{x:e,y:i,w:r,h:o,radius:l}=t;n.arc(e+l.topLeft,i+l.topLeft,l.topLeft,1.5*an,an,!0),n.lineTo(e,i+o-l.bottomLeft),n.arc(e+l.bottomLeft,i+o-l.bottomLeft,l.bottomLeft,an,qi,!0),n.lineTo(e+r-l.bottomRight,i+o),n.arc(e+r-l.bottomRight,i+o-l.bottomRight,l.bottomRight,qi,0,!0),n.lineTo(e+r,i+l.topRight),n.arc(e+r-l.topRight,i+l.topRight,l.topRight,0,-qi,!0),n.lineTo(e+l.topLeft,i)}const XU=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,JU=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function ZU(n,t){const e=(""+n).match(XU);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const tj=n=>+n||0;function jR(n,t){const e={},i=Qt(t),r=i?Object.keys(t):t,o=Qt(n)?i?l=>$t(n[l],n[t[l]]):l=>n[l]:()=>n;for(const l of r)e[l]=tj(o(l));return e}function ej(n){return jR(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Iu(n){return jR(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Ii(n){const t=ej(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Sn(n,t){n=n||{},t=t||Me.font;let e=$t(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=$t(n.style,t.style);i&&!(""+i).match(JU)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:$t(n.family,t.family),lineHeight:ZU($t(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:$t(n.weight,t.weight),string:""};return r.string=GU(r),r}function of(n,t,e,i){let r,o,l;for(r=0,o=n.length;r<o;++r)if(l=n[r],l!==void 0&&l!==void 0)return l}function nj(n,t,e){const{min:i,max:r}=n,o=dU(t,(r-i)/2),l=(u,d)=>e&&u===0?0:u+d;return{min:l(i,-Math.abs(o)),max:l(r,o)}}function vo(n,t){return Object.assign(Object.create(n),t)}function o_(n,t=[""],e,i,r=()=>n[0]){const o=e||n;typeof i>"u"&&(i=GR("_fallback",n));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:i,_getTarget:r,override:u=>o_([u,...n],t,o,i)};return new Proxy(l,{deleteProperty(u,d){return delete u[d],delete u._keys,delete n[0][d],!0},get(u,d){return HR(u,d,()=>uj(d,t,n,u))},getOwnPropertyDescriptor(u,d){return Reflect.getOwnPropertyDescriptor(u._scopes[0],d)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(u,d){return Sw(u).includes(d)},ownKeys(u){return Sw(u)},set(u,d,f){const p=u._storage||(u._storage=r());return u[d]=p[d]=f,delete u._keys,!0}})}function Ol(n,t,e,i){const r={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:FR(n,i),setContext:o=>Ol(n,o,e,i),override:o=>Ol(n.override(o),t,e,i)};return new Proxy(r,{deleteProperty(o,l){return delete o[l],delete n[l],!0},get(o,l,u){return HR(o,l,()=>sj(o,l,u))},getOwnPropertyDescriptor(o,l){return o._descriptors.allKeys?Reflect.has(n,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,l)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(o,l){return Reflect.has(n,l)},ownKeys(){return Reflect.ownKeys(n)},set(o,l,u){return n[l]=u,delete o[l],!0}})}function FR(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=n;return{allKeys:r,scriptable:e,indexable:i,isScriptable:fa(e)?e:()=>e,isIndexable:fa(i)?i:()=>i}}const ij=(n,t)=>n?n+i_(t):t,l_=(n,t)=>Qt(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function HR(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const i=e();return n[t]=i,i}function sj(n,t,e){const{_proxy:i,_context:r,_subProxy:o,_descriptors:l}=n;let u=i[t];return fa(u)&&l.isScriptable(t)&&(u=rj(t,u,n,e)),Qe(u)&&u.length&&(u=aj(t,u,n,l.isIndexable)),l_(t,u)&&(u=Ol(u,r,o&&o[t],l)),u}function rj(n,t,e,i){const{_proxy:r,_context:o,_subProxy:l,_stack:u}=e;if(u.has(n))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+n);u.add(n);let d=t(o,l||i);return u.delete(n),l_(n,d)&&(d=c_(r._scopes,r,n,d)),d}function aj(n,t,e,i){const{_proxy:r,_context:o,_subProxy:l,_descriptors:u}=e;if(typeof o.index<"u"&&i(n))return t[o.index%t.length];if(Qt(t[0])){const d=t,f=r._scopes.filter(p=>p!==d);t=[];for(const p of d){const y=c_(f,r,n,p);t.push(Ol(y,o,l&&l[n],u))}}return t}function qR(n,t,e){return fa(n)?n(t,e):n}const oj=(n,t)=>n===!0?t:typeof n=="string"?og(t,n):void 0;function lj(n,t,e,i,r){for(const o of t){const l=oj(e,o);if(l){n.add(l);const u=qR(l._fallback,e,r);if(typeof u<"u"&&u!==e&&u!==i)return u}else if(l===!1&&typeof i<"u"&&e!==i)return null}return!1}function c_(n,t,e,i){const r=t._rootScopes,o=qR(t._fallback,e,i),l=[...n,...r],u=new Set;u.add(i);let d=Tw(u,l,e,o||e,i);return d===null||typeof o<"u"&&o!==e&&(d=Tw(u,l,o,d,i),d===null)?!1:o_(Array.from(u),[""],r,o,()=>cj(t,e,i))}function Tw(n,t,e,i,r){for(;e;)e=lj(n,t,e,i,r);return e}function cj(n,t,e){const i=n._getTarget();t in i||(i[t]={});const r=i[t];return Qe(r)&&Qt(e)?e:r||{}}function uj(n,t,e,i){let r;for(const o of t)if(r=GR(ij(o,n),e),typeof r<"u")return l_(n,r)?c_(e,i,n,r):r}function GR(n,t){for(const e of t){if(!e)continue;const i=e[n];if(typeof i<"u")return i}}function Sw(n){let t=n._keys;return t||(t=n._keys=hj(n._scopes)),t}function hj(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(r=>!r.startsWith("_")))t.add(i);return Array.from(t)}const dj=Number.EPSILON||1e-14,Ml=(n,t)=>t<n.length&&!n[t].skip&&n[t],$R=n=>n==="x"?"y":"x";function fj(n,t,e,i){const r=n.skip?t:n,o=t,l=e.skip?t:e,u=E0(o,r),d=E0(l,o);let f=u/(u+d),p=d/(u+d);f=isNaN(f)?0:f,p=isNaN(p)?0:p;const y=i*f,_=i*p;return{previous:{x:o.x-y*(l.x-r.x),y:o.y-y*(l.y-r.y)},next:{x:o.x+_*(l.x-r.x),y:o.y+_*(l.y-r.y)}}}function gj(n,t,e){const i=n.length;let r,o,l,u,d,f=Ml(n,0);for(let p=0;p<i-1;++p)if(d=f,f=Ml(n,p+1),!(!d||!f)){if(wu(t[p],0,dj)){e[p]=e[p+1]=0;continue}r=e[p]/t[p],o=e[p+1]/t[p],u=Math.pow(r,2)+Math.pow(o,2),!(u<=9)&&(l=3/Math.sqrt(u),e[p]=r*l*t[p],e[p+1]=o*l*t[p])}}function pj(n,t,e="x"){const i=$R(e),r=n.length;let o,l,u,d=Ml(n,0);for(let f=0;f<r;++f){if(l=u,u=d,d=Ml(n,f+1),!u)continue;const p=u[e],y=u[i];l&&(o=(p-l[e])/3,u[`cp1${e}`]=p-o,u[`cp1${i}`]=y-o*t[f]),d&&(o=(d[e]-p)/3,u[`cp2${e}`]=p+o,u[`cp2${i}`]=y+o*t[f])}}function mj(n,t="x"){const e=$R(t),i=n.length,r=Array(i).fill(0),o=Array(i);let l,u,d,f=Ml(n,0);for(l=0;l<i;++l)if(u=d,d=f,f=Ml(n,l+1),!!d){if(f){const p=f[t]-d[t];r[l]=p!==0?(f[e]-d[e])/p:0}o[l]=u?f?kl(r[l-1])!==kl(r[l])?0:(r[l-1]+r[l])/2:r[l-1]:r[l]}gj(n,r,o),pj(n,o,t)}function lf(n,t,e){return Math.max(Math.min(n,e),t)}function yj(n,t){let e,i,r,o,l,u=Xu(n[0],t);for(e=0,i=n.length;e<i;++e)l=o,o=u,u=e<i-1&&Xu(n[e+1],t),o&&(r=n[e],l&&(r.cp1x=lf(r.cp1x,t.left,t.right),r.cp1y=lf(r.cp1y,t.top,t.bottom)),u&&(r.cp2x=lf(r.cp2x,t.left,t.right),r.cp2y=lf(r.cp2y,t.top,t.bottom)))}function bj(n,t,e,i,r){let o,l,u,d;if(t.spanGaps&&(n=n.filter(f=>!f.skip)),t.cubicInterpolationMode==="monotone")mj(n,r);else{let f=i?n[n.length-1]:n[0];for(o=0,l=n.length;o<l;++o)u=n[o],d=fj(f,u,n[Math.min(o+1,l-(i?0:1))%l],t.tension),u.cp1x=d.previous.x,u.cp1y=d.previous.y,u.cp2x=d.next.x,u.cp2y=d.next.y,f=u}t.capBezierPoints&&yj(n,e)}function u_(){return typeof window<"u"&&typeof document<"u"}function h_(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function ug(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}const Hg=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function _j(n,t){return Hg(n).getPropertyValue(t)}const vj=["top","right","bottom","left"];function lo(n,t,e){const i={};e=e?"-"+e:"";for(let r=0;r<4;r++){const o=vj[r];i[o]=parseFloat(n[t+"-"+o+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const xj=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function Ej(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:r,offsetY:o}=i;let l=!1,u,d;if(xj(r,o,n.target))u=r,d=o;else{const f=t.getBoundingClientRect();u=i.clientX-f.left,d=i.clientY-f.top,l=!0}return{x:u,y:d,box:l}}function to(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,r=Hg(e),o=r.boxSizing==="border-box",l=lo(r,"padding"),u=lo(r,"border","width"),{x:d,y:f,box:p}=Ej(n,e),y=l.left+(p&&u.left),_=l.top+(p&&u.top);let{width:x,height:w}=t;return o&&(x-=l.width+u.width,w-=l.height+u.height),{x:Math.round((d-y)/x*e.width/i),y:Math.round((f-_)/w*e.height/i)}}function Tj(n,t,e){let i,r;if(t===void 0||e===void 0){const o=n&&h_(n);if(!o)t=n.clientWidth,e=n.clientHeight;else{const l=o.getBoundingClientRect(),u=Hg(o),d=lo(u,"border","width"),f=lo(u,"padding");t=l.width-f.width-d.width,e=l.height-f.height-d.height,i=ug(u.maxWidth,o,"clientWidth"),r=ug(u.maxHeight,o,"clientHeight")}}return{width:t,height:e,maxWidth:i||cg,maxHeight:r||cg}}const Qr=n=>Math.round(n*10)/10;function Sj(n,t,e,i){const r=Hg(n),o=lo(r,"margin"),l=ug(r.maxWidth,n,"clientWidth")||cg,u=ug(r.maxHeight,n,"clientHeight")||cg,d=Tj(n,t,e);let{width:f,height:p}=d;if(r.boxSizing==="content-box"){const _=lo(r,"border","width"),x=lo(r,"padding");f-=x.width+_.width,p-=x.height+_.height}return f=Math.max(0,f-o.width),p=Math.max(0,i?f/i:p-o.height),f=Qr(Math.min(f,l,d.maxWidth)),p=Qr(Math.min(p,u,d.maxHeight)),f&&!p&&(p=Qr(f/2)),(t!==void 0||e!==void 0)&&i&&d.height&&p>d.height&&(p=d.height,f=Qr(Math.floor(p*i))),{width:f,height:p}}function ww(n,t,e){const i=t||1,r=Qr(n.height*i),o=Qr(n.width*i);n.height=Qr(n.height),n.width=Qr(n.width);const l=n.canvas;return l.style&&(e||!l.style.height&&!l.style.width)&&(l.style.height=`${n.height}px`,l.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||l.height!==r||l.width!==o?(n.currentDevicePixelRatio=i,l.height=r,l.width=o,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const wj=(function(){let n=!1;try{const t={get passive(){return n=!0,!1}};u_()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n})();function Aw(n,t){const e=_j(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function eo(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function Aj(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:i==="middle"?e<.5?n.y:t.y:i==="after"?e<1?n.y:t.y:e>0?t.y:n.y}}function Cj(n,t,e,i){const r={x:n.cp2x,y:n.cp2y},o={x:t.cp1x,y:t.cp1y},l=eo(n,r,e),u=eo(r,o,e),d=eo(o,t,e),f=eo(l,u,e),p=eo(u,d,e);return eo(f,p,e)}const Ij=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},Rj=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function vl(n,t,e){return n?Ij(t,e):Rj()}function WR(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function YR(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function KR(n){return n==="angle"?{between:MR,compare:AU,normalize:vs}:{between:pl,compare:(t,e)=>t-e,normalize:t=>t}}function Cw({start:n,end:t,count:e,loop:i,style:r}){return{start:n%e,end:t%e,loop:i&&(t-n+1)%e===0,style:r}}function Dj(n,t,e){const{property:i,start:r,end:o}=e,{between:l,normalize:u}=KR(i),d=t.length;let{start:f,end:p,loop:y}=n,_,x;if(y){for(f+=d,p+=d,_=0,x=d;_<x&&l(u(t[f%d][i]),r,o);++_)f--,p--;f%=d,p%=d}return p<f&&(p+=d),{start:f,end:p,loop:y,style:n.style}}function QR(n,t,e){if(!e)return[n];const{property:i,start:r,end:o}=e,l=t.length,{compare:u,between:d,normalize:f}=KR(i),{start:p,end:y,loop:_,style:x}=Dj(n,t,e),w=[];let A=!1,S=null,M,V,F;const G=()=>d(r,F,M)&&u(r,F)!==0,H=()=>u(o,M)===0||d(o,F,M),Y=()=>A||G(),D=()=>!A||H();for(let I=p,N=p;I<=y;++I)V=t[I%l],!V.skip&&(M=f(V[i]),M!==F&&(A=d(M,r,o),S===null&&Y()&&(S=u(M,r)===0?I:N),S!==null&&D()&&(w.push(Cw({start:S,end:I,loop:_,count:l,style:x})),S=null),N=I,F=M));return S!==null&&w.push(Cw({start:S,end:y,loop:_,count:l,style:x})),w}function XR(n,t){const e=[],i=n.segments;for(let r=0;r<i.length;r++){const o=QR(i[r],n.points,t);o.length&&e.push(...o)}return e}function Nj(n,t,e,i){let r=0,o=t-1;if(e&&!i)for(;r<t&&!n[r].skip;)r++;for(;r<t&&n[r].skip;)r++;for(r%=t,e&&(o+=r);o>r&&n[o%t].skip;)o--;return o%=t,{start:r,end:o}}function kj(n,t,e,i){const r=n.length,o=[];let l=t,u=n[t],d;for(d=t+1;d<=e;++d){const f=n[d%r];f.skip||f.stop?u.skip||(i=!1,o.push({start:t%r,end:(d-1)%r,loop:i}),t=l=f.stop?d:null):(l=d,u.skip&&(t=d)),u=f}return l!==null&&o.push({start:t%r,end:l%r,loop:i}),o}function Oj(n,t){const e=n.points,i=n.options.spanGaps,r=e.length;if(!r)return[];const o=!!n._loop,{start:l,end:u}=Nj(e,r,o,i);if(i===!0)return Iw(n,[{start:l,end:u,loop:o}],e,t);const d=u<l?u+r:u,f=!!n._fullLoop&&l===0&&u===r-1;return Iw(n,kj(e,l,d,f),e,t)}function Iw(n,t,e,i){return!i||!i.setContext||!e?t:Mj(n,t,e,i)}function Mj(n,t,e,i){const r=n._chart.getContext(),o=Rw(n.options),{_datasetIndex:l,options:{spanGaps:u}}=n,d=e.length,f=[];let p=o,y=t[0].start,_=y;function x(w,A,S,M){const V=u?-1:1;if(w!==A){for(w+=d;e[w%d].skip;)w-=V;for(;e[A%d].skip;)A+=V;w%d!==A%d&&(f.push({start:w%d,end:A%d,loop:S,style:M}),p=M,y=A%d)}}for(const w of t){y=u?y:w.start;let A=e[y%d],S;for(_=y+1;_<=w.end;_++){const M=e[_%d];S=Rw(i.setContext(vo(r,{type:"segment",p0:A,p1:M,p0DataIndex:(_-1)%d,p1DataIndex:_%d,datasetIndex:l}))),Pj(S,p)&&x(y,_-1,w.loop,p),A=M,p=S}y<_-1&&x(y,_-1,w.loop,p)}return f}function Rw(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function Pj(n,t){if(!t)return!1;const e=[],i=function(r,o){return a_(o)?(e.includes(o)||e.push(o),e.indexOf(o)):o};return JSON.stringify(n,i)!==JSON.stringify(t,i)}function cf(n,t,e){return n.options.clip?n[e]:t[e]}function zj(n,t){const{xScale:e,yScale:i}=n;return e&&i?{left:cf(e,t,"left"),right:cf(e,t,"right"),top:cf(i,t,"top"),bottom:cf(i,t,"bottom")}:t}function JR(n,t){const e=t._clip;if(e.disabled)return!1;const i=zj(t,n.chartArea);return{left:e.left===!1?0:i.left-(e.left===!0?0:e.left),right:e.right===!1?n.width:i.right+(e.right===!0?0:e.right),top:e.top===!1?0:i.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?n.height:i.bottom+(e.bottom===!0?0:e.bottom)}}class Lj{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,r){const o=e.listeners[r],l=e.duration;o.forEach(u=>u({chart:t,initial:e.initial,numSteps:l,currentStep:Math.min(i-e.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=zR.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const o=i.items;let l=o.length-1,u=!1,d;for(;l>=0;--l)d=o[l],d._active?(d._total>i.duration&&(i.duration=d._total),d.tick(t),u=!0):(o[l]=o[o.length-1],o.pop());u&&(r.draw(),this._notify(r,i,t,"progress")),o.length||(i.running=!1,this._notify(r,i,t,"complete"),i.initial=!1),e+=o.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Ks=new Lj;const Dw="transparent",Vj={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const i=_w(n||Dw),r=i.valid&&_w(t||Dw);return r&&r.valid?r.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class Bj{constructor(t,e,i,r){const o=e[i];r=of([t.to,r,o,t.from]);const l=of([t.from,o,r]);this._active=!0,this._fn=t.fn||Vj[t.type||typeof l],this._easing=Au[t.easing]||Au.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=l,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const r=this._target[this._prop],o=i-this._start,l=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(l,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=of([t.to,e,r,t.from]),this._from=of([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,r=this._prop,o=this._from,l=this._loop,u=this._to;let d;if(this._active=o!==u&&(l||e<i),!this._active){this._target[r]=u,this._notify(!0);return}if(e<0){this._target[r]=o;return}d=e/i%2,d=l&&d>1?2-d:d,d=this._easing(Math.min(1,Math.max(0,d))),this._target[r]=this._fn(o,u,d)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][e]()}}class ZR{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!Qt(t))return;const e=Object.keys(Me.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const o=t[r];if(!Qt(o))return;const l={};for(const u of e)l[u]=o[u];(Qe(o.properties)&&o.properties||[r]).forEach(u=>{(u===r||!i.has(u))&&i.set(u,l)})})}_animateOptions(t,e){const i=e.options,r=jj(t,i);if(!r)return[];const o=this._createAnimations(r,i);return i.$shared&&Uj(t.options.$animations,i).then(()=>{t.options=i},()=>{}),o}_createAnimations(t,e){const i=this._properties,r=[],o=t.$animations||(t.$animations={}),l=Object.keys(e),u=Date.now();let d;for(d=l.length-1;d>=0;--d){const f=l[d];if(f.charAt(0)==="$")continue;if(f==="options"){r.push(...this._animateOptions(t,e));continue}const p=e[f];let y=o[f];const _=i.get(f);if(y)if(_&&y.active()){y.update(_,p,u);continue}else y.cancel();if(!_||!_.duration){t[f]=p;continue}o[f]=y=new Bj(_,t,f,p),r.push(y)}return r}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const i=this._createAnimations(t,e);if(i.length)return Ks.add(this._chart,i),!0}}function Uj(n,t){const e=[],i=Object.keys(t);for(let r=0;r<i.length;r++){const o=n[i[r]];o&&o.active()&&e.push(o.wait())}return Promise.all(e)}function jj(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function Nw(n,t){const e=n&&n.options||{},i=e.reverse,r=e.min===void 0?t:0,o=e.max===void 0?t:0;return{start:i?o:r,end:i?r:o}}function Fj(n,t,e){if(e===!1)return!1;const i=Nw(n,e),r=Nw(t,e);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function Hj(n){let t,e,i,r;return Qt(n)?(t=n.top,e=n.right,i=n.bottom,r=n.left):t=e=i=r=n,{top:t,right:e,bottom:i,left:r,disabled:n===!1}}function tD(n,t){const e=[],i=n._getSortedDatasetMetas(t);let r,o;for(r=0,o=i.length;r<o;++r)e.push(i[r].index);return e}function kw(n,t,e,i={}){const r=n.keys,o=i.mode==="single";let l,u,d,f;if(t===null)return;let p=!1;for(l=0,u=r.length;l<u;++l){if(d=+r[l],d===e){if(p=!0,i.all)continue;break}f=n.values[d],An(f)&&(o||t===0||kl(t)===kl(f))&&(t+=f)}return!p&&!i.all?0:t}function qj(n,t){const{iScale:e,vScale:i}=t,r=e.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",l=Object.keys(n),u=new Array(l.length);let d,f,p;for(d=0,f=l.length;d<f;++d)p=l[d],u[d]={[r]:p,[o]:n[p]};return u}function Iy(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function Gj(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function $j(n){const{min:t,max:e,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}function Wj(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function Ow(n,t,e,i){for(const r of t.getMatchingVisibleMetas(i).reverse()){const o=n[r.index];if(e&&o>0||!e&&o<0)return r.index}return null}function Mw(n,t){const{chart:e,_cachedMeta:i}=n,r=e._stacks||(e._stacks={}),{iScale:o,vScale:l,index:u}=i,d=o.axis,f=l.axis,p=Gj(o,l,i),y=t.length;let _;for(let x=0;x<y;++x){const w=t[x],{[d]:A,[f]:S}=w,M=w._stacks||(w._stacks={});_=M[f]=Wj(r,p,A),_[u]=S,_._top=Ow(_,l,!0,i.type),_._bottom=Ow(_,l,!1,i.type);const V=_._visualValues||(_._visualValues={});V[u]=S}}function Ry(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function Yj(n,t){return vo(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function Kj(n,t,e){return vo(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function eu(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const r of t){const o=r._stacks;if(!o||o[i]===void 0||o[i][e]===void 0)return;delete o[i][e],o[i]._visualValues!==void 0&&o[i]._visualValues[e]!==void 0&&delete o[i]._visualValues[e]}}}const Dy=n=>n==="reset"||n==="none",Pw=(n,t)=>t?n:Object.assign({},n),Qj=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:tD(e,!0),values:null};class eD{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Iy(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&eu(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),r=(y,_,x,w)=>y==="x"?_:y==="r"?w:x,o=e.xAxisID=$t(i.xAxisID,Ry(t,"x")),l=e.yAxisID=$t(i.yAxisID,Ry(t,"y")),u=e.rAxisID=$t(i.rAxisID,Ry(t,"r")),d=e.indexAxis,f=e.iAxisID=r(d,o,l,u),p=e.vAxisID=r(d,l,o,u);e.xScale=this.getScaleForId(o),e.yScale=this.getScaleForId(l),e.rScale=this.getScaleForId(u),e.iScale=this.getScaleForId(f),e.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&mw(this._data,this),t._stacked&&eu(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(Qt(e)){const r=this._cachedMeta;this._data=qj(e,r)}else if(i!==e){if(i){mw(i,this);const r=this._cachedMeta;eu(r),r._parsed=[]}e&&Object.isExtensible(e)&&DU(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const o=e._stacked;e._stacked=Iy(e.vScale,e),e.stack!==i.stack&&(r=!0,eu(e),e.stack=i.stack),this._resyncElements(t),(r||o!==e._stacked)&&(Mw(this,e._parsed),e._stacked=Iy(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:r}=this,{iScale:o,_stacked:l}=i,u=o.axis;let d=t===0&&e===r.length?!0:i._sorted,f=t>0&&i._parsed[t-1],p,y,_;if(this._parsing===!1)i._parsed=r,i._sorted=!0,_=r;else{Qe(r[t])?_=this.parseArrayData(i,r,t,e):Qt(r[t])?_=this.parseObjectData(i,r,t,e):_=this.parsePrimitiveData(i,r,t,e);const x=()=>y[u]===null||f&&y[u]<f[u];for(p=0;p<e;++p)i._parsed[p+t]=y=_[p],d&&(x()&&(d=!1),f=y);i._sorted=d}l&&Mw(this,_)}parsePrimitiveData(t,e,i,r){const{iScale:o,vScale:l}=t,u=o.axis,d=l.axis,f=o.getLabels(),p=o===l,y=new Array(r);let _,x,w;for(_=0,x=r;_<x;++_)w=_+i,y[_]={[u]:p||o.parse(f[w],w),[d]:l.parse(e[w],w)};return y}parseArrayData(t,e,i,r){const{xScale:o,yScale:l}=t,u=new Array(r);let d,f,p,y;for(d=0,f=r;d<f;++d)p=d+i,y=e[p],u[d]={x:o.parse(y[0],p),y:l.parse(y[1],p)};return u}parseObjectData(t,e,i,r){const{xScale:o,yScale:l}=t,{xAxisKey:u="x",yAxisKey:d="y"}=this._parsing,f=new Array(r);let p,y,_,x;for(p=0,y=r;p<y;++p)_=p+i,x=e[_],f[p]={x:o.parse(og(x,u),_),y:l.parse(og(x,d),_)};return f}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const r=this.chart,o=this._cachedMeta,l=e[t.axis],u={keys:tD(r,!0),values:e._stacks[t.axis]._visualValues};return kw(u,l,o.index,{mode:i})}updateRangeFromParsed(t,e,i,r){const o=i[e.axis];let l=o===null?NaN:o;const u=r&&i._stacks[e.axis];r&&u&&(r.values=u,l=kw(r,o,this._cachedMeta.index)),t.min=Math.min(t.min,l),t.max=Math.max(t.max,l)}getMinMax(t,e){const i=this._cachedMeta,r=i._parsed,o=i._sorted&&t===i.iScale,l=r.length,u=this._getOtherScale(t),d=Qj(e,i,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:y}=$j(u);let _,x;function w(){x=r[_];const A=x[u.axis];return!An(x[t.axis])||p>A||y<A}for(_=0;_<l&&!(!w()&&(this.updateRangeFromParsed(f,t,x,d),o));++_);if(o){for(_=l-1;_>=0;--_)if(!w()){this.updateRangeFromParsed(f,t,x,d);break}}return f}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let r,o,l;for(r=0,o=e.length;r<o;++r)l=e[r][t.axis],An(l)&&i.push(l);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,r=e.vScale,o=this.getParsed(t);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:r?""+r.getLabelForValue(o[r.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=Hj($t(this.options.clip,Fj(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,r=i.data||[],o=e.chartArea,l=[],u=this._drawStart||0,d=this._drawCount||r.length-u,f=this.options.drawActiveElementsOnTop;let p;for(i.dataset&&i.dataset.draw(t,o,u,d),p=u;p<u+d;++p){const y=r[p];y.hidden||(y.active&&f?l.push(y):y.draw(t,o))}for(p=0;p<l.length;++p)l[p].draw(t,o)}getStyle(t,e){const i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const r=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const l=this._cachedMeta.data[t];o=l.$context||(l.$context=Kj(this.getContext(),t,l)),o.parsed=this.getParsed(t),o.raw=r.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=Yj(this.chart.getContext(),this.index)),o.dataset=r,o.index=o.datasetIndex=this.index;return o.active=!!e,o.mode=i,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const r=e==="active",o=this._cachedDataOpts,l=t+"-"+e,u=o[l],d=this.enableOptionSharing&&lg(i);if(u)return Pw(u,d);const f=this.chart.config,p=f.datasetElementScopeKeys(this._type,t),y=r?[`${t}Hover`,"hover",t,""]:[t,""],_=f.getOptionScopes(this.getDataset(),p),x=Object.keys(Me.elements[t]),w=()=>this.getContext(i,r,e),A=f.resolveNamedOptions(_,x,w,y);return A.$shared&&(A.$shared=d,o[l]=Object.freeze(Pw(A,d))),A}_resolveAnimations(t,e,i){const r=this.chart,o=this._cachedDataOpts,l=`animation-${e}`,u=o[l];if(u)return u;let d;if(r.options.animation!==!1){const p=this.chart.config,y=p.datasetAnimationScopeKeys(this._type,e),_=p.getOptionScopes(this.getDataset(),y);d=p.createResolver(_,this.getContext(t,i,e))}const f=new ZR(r,d&&d.animations);return d&&d._cacheable&&(o[l]=Object.freeze(f)),f}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||Dy(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),r=this._sharedOptions,o=this.getSharedOptions(i),l=this.includeOptions(e,o)||o!==r;return this.updateSharedOptions(o,e,i),{sharedOptions:o,includeOptions:l}}updateElement(t,e,i,r){Dy(r)?Object.assign(t,i):this._resolveAnimations(e,r).update(t,i)}updateSharedOptions(t,e,i){t&&!Dy(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,r){t.active=r;const o=this.getStyle(e,r);this._resolveAnimations(e,i,r).update(t,{options:!r&&this.getSharedOptions(o)||o})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[u,d,f]of this._syncList)this[u](d,f);this._syncList=[];const r=i.length,o=e.length,l=Math.min(o,r);l&&this.parse(0,l),o>r?this._insertElements(r,o-r,t):o<r&&this._removeElements(o,r-o)}_insertElements(t,e,i=!0){const r=this._cachedMeta,o=r.data,l=t+e;let u;const d=f=>{for(f.length+=e,u=f.length-1;u>=l;u--)f[u]=f[u-e]};for(d(o),u=t;u<l;++u)o[u]=new this.dataElementType;this._parsing&&d(r._parsed),this.parse(t,e),i&&this.updateElements(o,t,e,"reset")}updateElements(t,e,i,r){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(t,e);i._stacked&&eu(i,r)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,r]=t;this[e](i,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}class Xj extends eD{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:i,data:r=[],_dataset:o}=e,l=this.chart._animationsDisabled;let{start:u,count:d}=MU(e,r,l);this._drawStart=u,this._drawCount=d,PU(e)&&(u=0,d=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!o._decimated,i.points=r;const f=this.resolveDatasetElementOptions(t);this.options.showLine||(f.borderWidth=0),f.segment=this.options.segment,this.updateElement(i,void 0,{animated:!l,options:f},t),this.updateElements(r,u,d,t)}updateElements(t,e,i,r){const o=r==="reset",{iScale:l,vScale:u,_stacked:d,_dataset:f}=this._cachedMeta,{sharedOptions:p,includeOptions:y}=this._getSharedOptions(e,r),_=l.axis,x=u.axis,{spanGaps:w,segment:A}=this.options,S=Qu(w)?w:Number.POSITIVE_INFINITY,M=this.chart._animationsDisabled||o||r==="none",V=e+i,F=t.length;let G=e>0&&this.getParsed(e-1);for(let H=0;H<F;++H){const Y=t[H],D=M?Y:{};if(H<e||H>=V){D.skip=!0;continue}const I=this.getParsed(H),N=ge(I[x]),z=D[_]=l.getPixelForValue(I[_],H),O=D[x]=o||N?u.getBasePixel():u.getPixelForValue(d?this.applyStack(u,I,d):I[x],H);D.skip=isNaN(z)||isNaN(O)||N,D.stop=H>0&&Math.abs(I[_]-G[_])>S,A&&(D.parsed=I,D.raw=f.data[H]),y&&(D.options=p||this.resolveDataElementOptions(H,Y.active?"active":r)),M||this.updateElement(Y,H,D,r),G=I}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,i=e.options&&e.options.borderWidth||0,r=t.data||[];if(!r.length)return i;const o=r[0].size(this.resolveDataElementOptions(0)),l=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,o,l)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}function Xa(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class d_{static override(t){Object.assign(d_.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return Xa()}parse(){return Xa()}format(){return Xa()}add(){return Xa()}diff(){return Xa()}startOf(){return Xa()}endOf(){return Xa()}}var Jj={_date:d_};function Zj(n,t,e,i){const{controller:r,data:o,_sorted:l}=n,u=r._cachedMeta.iScale,d=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(u&&t===u.axis&&t!=="r"&&l&&o.length){const f=u._reversePixels?IU:ro;if(i){if(r._sharedOptions){const p=o[0],y=typeof p.getRange=="function"&&p.getRange(t);if(y){const _=f(o,t,e-y),x=f(o,t,e+y);return{lo:_.lo,hi:x.hi}}}}else{const p=f(o,t,e);if(d){const{vScale:y}=r._cachedMeta,{_parsed:_}=n,x=_.slice(0,p.lo+1).reverse().findIndex(A=>!ge(A[y.axis]));p.lo-=Math.max(0,x);const w=_.slice(p.hi).findIndex(A=>!ge(A[y.axis]));p.hi+=Math.max(0,w)}return p}}return{lo:0,hi:o.length-1}}function qg(n,t,e,i,r){const o=n.getSortedVisibleDatasetMetas(),l=e[t];for(let u=0,d=o.length;u<d;++u){const{index:f,data:p}=o[u],{lo:y,hi:_}=Zj(o[u],t,l,r);for(let x=y;x<=_;++x){const w=p[x];w.skip||i(w,f,x)}}}function t8(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,r){const o=t?Math.abs(i.x-r.x):0,l=e?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(l,2))}}function Ny(n,t,e,i,r){const o=[];return!r&&!n.isPointInArea(t)||qg(n,e,t,function(u,d,f){!r&&!Xu(u,n.chartArea,0)||u.inRange(t.x,t.y,i)&&o.push({element:u,datasetIndex:d,index:f})},!0),o}function e8(n,t,e,i){let r=[];function o(l,u,d){const{startAngle:f,endAngle:p}=l.getProps(["startAngle","endAngle"],i),{angle:y}=wU(l,{x:t.x,y:t.y});MR(y,f,p)&&r.push({element:l,datasetIndex:u,index:d})}return qg(n,e,t,o),r}function n8(n,t,e,i,r,o){let l=[];const u=t8(e);let d=Number.POSITIVE_INFINITY;function f(p,y,_){const x=p.inRange(t.x,t.y,r);if(i&&!x)return;const w=p.getCenterPoint(r);if(!(!!o||n.isPointInArea(w))&&!x)return;const S=u(t,w);S<d?(l=[{element:p,datasetIndex:y,index:_}],d=S):S===d&&l.push({element:p,datasetIndex:y,index:_})}return qg(n,e,t,f),l}function ky(n,t,e,i,r,o){return!o&&!n.isPointInArea(t)?[]:e==="r"&&!i?e8(n,t,e,r):n8(n,t,e,i,r,o)}function zw(n,t,e,i,r){const o=[],l=e==="x"?"inXRange":"inYRange";let u=!1;return qg(n,e,t,(d,f,p)=>{d[l]&&d[l](t[e],r)&&(o.push({element:d,datasetIndex:f,index:p}),u=u||d.inRange(t.x,t.y,r))}),i&&!u?[]:o}var i8={modes:{index(n,t,e,i){const r=to(t,n),o=e.axis||"x",l=e.includeInvisible||!1,u=e.intersect?Ny(n,r,o,i,l):ky(n,r,o,!1,i,l),d=[];return u.length?(n.getSortedVisibleDatasetMetas().forEach(f=>{const p=u[0].index,y=f.data[p];y&&!y.skip&&d.push({element:y,datasetIndex:f.index,index:p})}),d):[]},dataset(n,t,e,i){const r=to(t,n),o=e.axis||"xy",l=e.includeInvisible||!1;let u=e.intersect?Ny(n,r,o,i,l):ky(n,r,o,!1,i,l);if(u.length>0){const d=u[0].datasetIndex,f=n.getDatasetMeta(d).data;u=[];for(let p=0;p<f.length;++p)u.push({element:f[p],datasetIndex:d,index:p})}return u},point(n,t,e,i){const r=to(t,n),o=e.axis||"xy",l=e.includeInvisible||!1;return Ny(n,r,o,i,l)},nearest(n,t,e,i){const r=to(t,n),o=e.axis||"xy",l=e.includeInvisible||!1;return ky(n,r,o,e.intersect,i,l)},x(n,t,e,i){const r=to(t,n);return zw(n,r,"x",e.intersect,i)},y(n,t,e,i){const r=to(t,n);return zw(n,r,"y",e.intersect,i)}}};const nD=["left","top","right","bottom"];function nu(n,t){return n.filter(e=>e.pos===t)}function Lw(n,t){return n.filter(e=>nD.indexOf(e.pos)===-1&&e.box.axis===t)}function iu(n,t){return n.sort((e,i)=>{const r=t?i:e,o=t?e:i;return r.weight===o.weight?r.index-o.index:r.weight-o.weight})}function s8(n){const t=[];let e,i,r,o,l,u;for(e=0,i=(n||[]).length;e<i;++e)r=n[e],{position:o,options:{stack:l,stackWeight:u=1}}=r,t.push({index:e,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:l&&o+l,stackWeight:u});return t}function r8(n){const t={};for(const e of n){const{stack:i,pos:r,stackWeight:o}=e;if(!i||!nD.includes(r))continue;const l=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=o}return t}function a8(n,t){const e=r8(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let o,l,u;for(o=0,l=n.length;o<l;++o){u=n[o];const{fullSize:d}=u.box,f=e[u.stack],p=f&&u.stackWeight/f.weight;u.horizontal?(u.width=p?p*i:d&&t.availableWidth,u.height=r):(u.width=i,u.height=p?p*r:d&&t.availableHeight)}return e}function o8(n){const t=s8(n),e=iu(t.filter(f=>f.box.fullSize),!0),i=iu(nu(t,"left"),!0),r=iu(nu(t,"right")),o=iu(nu(t,"top"),!0),l=iu(nu(t,"bottom")),u=Lw(t,"x"),d=Lw(t,"y");return{fullSize:e,leftAndTop:i.concat(o),rightAndBottom:r.concat(d).concat(l).concat(u),chartArea:nu(t,"chartArea"),vertical:i.concat(r).concat(d),horizontal:o.concat(l).concat(u)}}function Vw(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function iD(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function l8(n,t,e,i){const{pos:r,box:o}=e,l=n.maxPadding;if(!Qt(r)){e.size&&(n[r]-=e.size);const y=i[e.stack]||{size:0,count:1};y.size=Math.max(y.size,e.horizontal?o.height:o.width),e.size=y.size/y.count,n[r]+=e.size}o.getPadding&&iD(l,o.getPadding());const u=Math.max(0,t.outerWidth-Vw(l,n,"left","right")),d=Math.max(0,t.outerHeight-Vw(l,n,"top","bottom")),f=u!==n.w,p=d!==n.h;return n.w=u,n.h=d,e.horizontal?{same:f,other:p}:{same:p,other:f}}function c8(n){const t=n.maxPadding;function e(i){const r=Math.max(t[i]-n[i],0);return n[i]+=r,r}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function u8(n,t){const e=t.maxPadding;function i(r){const o={left:0,top:0,right:0,bottom:0};return r.forEach(l=>{o[l]=Math.max(t[l],e[l])}),o}return i(n?["left","right"]:["top","bottom"])}function fu(n,t,e,i){const r=[];let o,l,u,d,f,p;for(o=0,l=n.length,f=0;o<l;++o){u=n[o],d=u.box,d.update(u.width||t.w,u.height||t.h,u8(u.horizontal,t));const{same:y,other:_}=l8(t,e,u,i);f|=y&&r.length,p=p||_,d.fullSize||r.push(u)}return f&&fu(r,t,e,i)||p}function uf(n,t,e,i,r){n.top=e,n.left=t,n.right=t+i,n.bottom=e+r,n.width=i,n.height=r}function Bw(n,t,e,i){const r=e.padding;let{x:o,y:l}=t;for(const u of n){const d=u.box,f=i[u.stack]||{placed:0,weight:1},p=u.stackWeight/f.weight||1;if(u.horizontal){const y=t.w*p,_=f.size||d.height;lg(f.start)&&(l=f.start),d.fullSize?uf(d,r.left,l,e.outerWidth-r.right-r.left,_):uf(d,t.left+f.placed,l,y,_),f.start=l,f.placed+=y,l=d.bottom}else{const y=t.h*p,_=f.size||d.width;lg(f.start)&&(o=f.start),d.fullSize?uf(d,o,r.top,_,e.outerHeight-r.bottom-r.top):uf(d,o,t.top+f.placed,_,y),f.start=o,f.placed+=y,o=d.right}}t.x=o,t.y=l}var wi={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const r=Ii(n.options.layout.padding),o=Math.max(t-r.width,0),l=Math.max(e-r.height,0),u=o8(n.boxes),d=u.vertical,f=u.horizontal;oe(n.boxes,A=>{typeof A.beforeLayout=="function"&&A.beforeLayout()});const p=d.reduce((A,S)=>S.box.options&&S.box.options.display===!1?A:A+1,0)||1,y=Object.freeze({outerWidth:t,outerHeight:e,padding:r,availableWidth:o,availableHeight:l,vBoxMaxWidth:o/2/p,hBoxMaxHeight:l/2}),_=Object.assign({},r);iD(_,Ii(i));const x=Object.assign({maxPadding:_,w:o,h:l,x:r.left,y:r.top},r),w=a8(d.concat(f),y);fu(u.fullSize,x,y,w),fu(d,x,y,w),fu(f,x,y,w)&&fu(d,x,y,w),c8(x),Bw(u.leftAndTop,x,y,w),x.x+=x.w,x.y+=x.h,Bw(u.rightAndBottom,x,y,w),n.chartArea={left:x.left,top:x.top,right:x.left+x.w,bottom:x.top+x.h,height:x.h,width:x.w},oe(u.chartArea,A=>{const S=A.box;Object.assign(S,n.chartArea),S.update(x.w,x.h,{left:0,top:0,right:0,bottom:0})})}};class sD{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,r){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):i)}}isAttached(t){return!0}updateConfig(t){}}class h8 extends sD{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const If="$chartjs",d8={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Uw=n=>n===null||n==="";function f8(n,t){const e=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[If]={initial:{height:i,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",Uw(r)){const o=Aw(n,"width");o!==void 0&&(n.width=o)}if(Uw(i))if(n.style.height==="")n.height=n.width/(t||2);else{const o=Aw(n,"height");o!==void 0&&(n.height=o)}return n}const rD=wj?{passive:!0}:!1;function g8(n,t,e){n&&n.addEventListener(t,e,rD)}function p8(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,rD)}function m8(n,t){const e=d8[n.type]||n.type,{x:i,y:r}=to(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:r!==void 0?r:null}}function hg(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function y8(n,t,e){const i=n.canvas,r=new MutationObserver(o=>{let l=!1;for(const u of o)l=l||hg(u.addedNodes,i),l=l&&!hg(u.removedNodes,i);l&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function b8(n,t,e){const i=n.canvas,r=new MutationObserver(o=>{let l=!1;for(const u of o)l=l||hg(u.removedNodes,i),l=l&&!hg(u.addedNodes,i);l&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}const Zu=new Map;let jw=0;function aD(){const n=window.devicePixelRatio;n!==jw&&(jw=n,Zu.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function _8(n,t){Zu.size||window.addEventListener("resize",aD),Zu.set(n,t)}function v8(n){Zu.delete(n),Zu.size||window.removeEventListener("resize",aD)}function x8(n,t,e){const i=n.canvas,r=i&&h_(i);if(!r)return;const o=LR((u,d)=>{const f=r.clientWidth;e(u,d),f<r.clientWidth&&e()},window),l=new ResizeObserver(u=>{const d=u[0],f=d.contentRect.width,p=d.contentRect.height;f===0&&p===0||o(f,p)});return l.observe(r),_8(n,o),l}function Oy(n,t,e){e&&e.disconnect(),t==="resize"&&v8(n)}function E8(n,t,e){const i=n.canvas,r=LR(o=>{n.ctx!==null&&e(m8(o,n))},n);return g8(i,t,r),r}class T8 extends sD{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(f8(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[If])return!1;const i=e[If].initial;["height","width"].forEach(o=>{const l=i[o];ge(l)?e.removeAttribute(o):e.setAttribute(o,l)});const r=i.style||{};return Object.keys(r).forEach(o=>{e.style[o]=r[o]}),e.width=e.width,delete e[If],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const r=t.$proxies||(t.$proxies={}),l={attach:y8,detach:b8,resize:x8}[e]||E8;r[e]=l(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),r=i[e];if(!r)return;({attach:Oy,detach:Oy,resize:Oy}[e]||p8)(t,e,r),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,r){return Sj(t,e,i,r)}isAttached(t){const e=t&&h_(t);return!!(e&&e.isConnected)}}function S8(n){return!u_()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?h8:T8}let xo=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return Qu(this.x)&&Qu(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const r={};return t.forEach(o=>{r[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),r}};function w8(n,t){const e=n.options.ticks,i=A8(n),r=Math.min(e.maxTicksLimit||i,i),o=e.major.enabled?I8(t):[],l=o.length,u=o[0],d=o[l-1],f=[];if(l>r)return R8(t,f,o,l/r),f;const p=C8(o,t,r);if(l>0){let y,_;const x=l>1?Math.round((d-u)/(l-1)):null;for(hf(t,f,p,ge(x)?0:u-x,u),y=0,_=l-1;y<_;y++)hf(t,f,p,o[y],o[y+1]);return hf(t,f,p,d,ge(x)?t.length:d+x),f}return hf(t,f,p),f}function A8(n){const t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),r=n._maxLength/e;return Math.floor(Math.min(i,r))}function C8(n,t,e){const i=D8(n),r=t.length/e;if(!i)return Math.max(r,1);const o=vU(i);for(let l=0,u=o.length-1;l<u;l++){const d=o[l];if(d>r)return d}return Math.max(r,1)}function I8(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function R8(n,t,e,i){let r=0,o=e[0],l;for(i=Math.ceil(i),l=0;l<n.length;l++)l===o&&(t.push(n[l]),r++,o=e[r*i])}function hf(n,t,e,i,r){const o=$t(i,0),l=Math.min($t(r,n.length),n.length);let u=0,d,f,p;for(e=Math.ceil(e),r&&(d=r-i,e=d/Math.floor(d/e)),p=o;p<0;)u++,p=Math.round(o+u*e);for(f=Math.max(o,0);f<l;f++)f===p&&(t.push(n[f]),u++,p=Math.round(o+u*e))}function D8(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}const N8=n=>n==="left"?"right":n==="right"?"left":n,Fw=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,Hw=(n,t)=>Math.min(t||n,n);function qw(n,t){const e=[],i=n.length/t,r=n.length;let o=0;for(;o<r;o+=i)e.push(n[Math.floor(o)]);return e}function k8(n,t,e){const i=n.ticks.length,r=Math.min(t,i-1),o=n._startPixel,l=n._endPixel,u=1e-6;let d=n.getPixelForTick(r),f;if(!(e&&(i===1?f=Math.max(d-o,l-d):t===0?f=(n.getPixelForTick(1)-d)/2:f=(d-n.getPixelForTick(r-1))/2,d+=r<t?f:-f,d<o-u||d>l+u)))return d}function O8(n,t){oe(n,e=>{const i=e.gc,r=i.length/2;let o;if(r>t){for(o=0;o<r;++o)delete e.data[i[o]];i.splice(0,r)}})}function su(n){return n.drawTicks?n.tickLength:0}function Gw(n,t){if(!n.display)return 0;const e=Sn(n.font,t),i=Ii(n.padding);return(Qe(n.text)?n.text.length:1)*e.lineHeight+i.height}function M8(n,t){return vo(n,{scale:t,type:"scale"})}function P8(n,t,e){return vo(n,{tick:e,index:t,type:"tick"})}function z8(n,t,e){let i=r_(n);return(e&&t!=="right"||!e&&t==="right")&&(i=N8(i)),i}function L8(n,t,e,i){const{top:r,left:o,bottom:l,right:u,chart:d}=n,{chartArea:f,scales:p}=d;let y=0,_,x,w;const A=l-r,S=u-o;if(n.isHorizontal()){if(x=xn(i,o,u),Qt(e)){const M=Object.keys(e)[0],V=e[M];w=p[M].getPixelForValue(V)+A-t}else e==="center"?w=(f.bottom+f.top)/2+A-t:w=Fw(n,e,t);_=u-o}else{if(Qt(e)){const M=Object.keys(e)[0],V=e[M];x=p[M].getPixelForValue(V)-S+t}else e==="center"?x=(f.left+f.right)/2-S+t:x=Fw(n,e,t);w=xn(i,l,r),y=e==="left"?-qi:qi}return{titleX:x,titleY:w,maxWidth:_,rotation:y}}class $l extends xo{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:r}=this;return t=ms(t,Number.POSITIVE_INFINITY),e=ms(e,Number.NEGATIVE_INFINITY),i=ms(i,Number.POSITIVE_INFINITY),r=ms(r,Number.NEGATIVE_INFINITY),{min:ms(t,i),max:ms(e,r),minDefined:An(t),maxDefined:An(e)}}getMinMax(t){let{min:e,max:i,minDefined:r,maxDefined:o}=this.getUserBounds(),l;if(r&&o)return{min:e,max:i};const u=this.getMatchingVisibleMetas();for(let d=0,f=u.length;d<f;++d)l=u[d].controller.getMinMax(this,t),r||(e=Math.min(e,l.min)),o||(i=Math.max(i,l.max));return e=o&&e>i?i:e,i=r&&e>i?e:i,{min:ms(e,ms(i,e)),max:ms(i,ms(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ye(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:r,grace:o,ticks:l}=this.options,u=l.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=nj(this,o,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const d=u<this.ticks.length;this._convertTicksToLabels(d?qw(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=w8(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),d&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ye(this.options.afterUpdate,[this])}beforeSetDimensions(){ye(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ye(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),ye(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ye(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,r,o;for(i=0,r=t.length;i<r;i++)o=t[i],o.label=ye(e.callback,[o.value,i,t],this)}afterTickToLabelConversion(){ye(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ye(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=Hw(this.ticks.length,t.ticks.maxTicksLimit),r=e.minRotation||0,o=e.maxRotation;let l=r,u,d,f;if(!this._isVisible()||!e.display||r>=o||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const p=this._getLabelSizes(),y=p.widest.width,_=p.highest.height,x=Si(this.chart.width-y,0,this.maxWidth);u=t.offset?this.maxWidth/i:x/(i-1),y+6>u&&(u=x/(i-(t.offset?.5:1)),d=this.maxHeight-su(t.grid)-e.padding-Gw(t.title,this.chart.options.font),f=Math.sqrt(y*y+_*_),l=SU(Math.min(Math.asin(Si((p.highest.height+6)/u,-1,1)),Math.asin(Si(d/f,-1,1))-Math.asin(Si(_/f,-1,1)))),l=Math.max(r,Math.min(o,l))),this.labelRotation=l}afterCalculateLabelRotation(){ye(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ye(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:r,grid:o}}=this,l=this._isVisible(),u=this.isHorizontal();if(l){const d=Gw(r,e.options.font);if(u?(t.width=this.maxWidth,t.height=su(o)+d):(t.height=this.maxHeight,t.width=su(o)+d),i.display&&this.ticks.length){const{first:f,last:p,widest:y,highest:_}=this._getLabelSizes(),x=i.padding*2,w=so(this.labelRotation),A=Math.cos(w),S=Math.sin(w);if(u){const M=i.mirror?0:S*y.width+A*_.height;t.height=Math.min(this.maxHeight,t.height+M+x)}else{const M=i.mirror?0:A*y.width+S*_.height;t.width=Math.min(this.maxWidth,t.width+M+x)}this._calculatePadding(f,p,S,A)}}this._handleMargins(),u?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,r){const{ticks:{align:o,padding:l},position:u}=this.options,d=this.labelRotation!==0,f=u!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,y=this.right-this.getPixelForTick(this.ticks.length-1);let _=0,x=0;d?f?(_=r*t.width,x=i*e.height):(_=i*t.height,x=r*e.width):o==="start"?x=e.width:o==="end"?_=t.width:o!=="inner"&&(_=t.width/2,x=e.width/2),this.paddingLeft=Math.max((_-p+l)*this.width/(this.width-p),0),this.paddingRight=Math.max((x-y+l)*this.width/(this.width-y),0)}else{let p=e.height/2,y=t.height/2;o==="start"?(p=0,y=t.height):o==="end"&&(p=e.height,y=0),this.paddingTop=p+l,this.paddingBottom=y+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ye(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)ge(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=qw(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:r,_longestTextCache:o}=this,l=[],u=[],d=Math.floor(e/Hw(e,i));let f=0,p=0,y,_,x,w,A,S,M,V,F,G,H;for(y=0;y<e;y+=d){if(w=t[y].label,A=this._resolveTickFontOptions(y),r.font=S=A.string,M=o[S]=o[S]||{data:{},gc:[]},V=A.lineHeight,F=G=0,!ge(w)&&!Qe(w))F=xw(r,M.data,M.gc,F,w),G=V;else if(Qe(w))for(_=0,x=w.length;_<x;++_)H=w[_],!ge(H)&&!Qe(H)&&(F=xw(r,M.data,M.gc,F,H),G+=V);l.push(F),u.push(G),f=Math.max(F,f),p=Math.max(G,p)}O8(o,e);const Y=l.indexOf(f),D=u.indexOf(p),I=N=>({width:l[N]||0,height:u[N]||0});return{first:I(0),last:I(e-1),widest:I(Y),highest:I(D),widths:l,heights:u}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return CU(this._alignToPixels?Qa(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=P8(this.getContext(),t,i))}return this.$context||(this.$context=M8(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=so(this.labelRotation),i=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),o=this._getLabelSizes(),l=t.autoSkipPadding||0,u=o?o.widest.width+l:0,d=o?o.highest.height+l:0;return this.isHorizontal()?d*i>u*r?u/i:d/r:d*r<u*i?d/i:u/r}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,r=this.options,{grid:o,position:l,border:u}=r,d=o.offset,f=this.isHorizontal(),y=this.ticks.length+(d?1:0),_=su(o),x=[],w=u.setContext(this.getContext()),A=w.display?w.width:0,S=A/2,M=function(X){return Qa(i,X,A)};let V,F,G,H,Y,D,I,N,z,O,L,P;if(l==="top")V=M(this.bottom),D=this.bottom-_,N=V-S,O=M(t.top)+S,P=t.bottom;else if(l==="bottom")V=M(this.top),O=t.top,P=M(t.bottom)-S,D=V+S,N=this.top+_;else if(l==="left")V=M(this.right),Y=this.right-_,I=V-S,z=M(t.left)+S,L=t.right;else if(l==="right")V=M(this.left),z=t.left,L=M(t.right)-S,Y=V+S,I=this.left+_;else if(e==="x"){if(l==="center")V=M((t.top+t.bottom)/2+.5);else if(Qt(l)){const X=Object.keys(l)[0],ot=l[X];V=M(this.chart.scales[X].getPixelForValue(ot))}O=t.top,P=t.bottom,D=V+S,N=D+_}else if(e==="y"){if(l==="center")V=M((t.left+t.right)/2);else if(Qt(l)){const X=Object.keys(l)[0],ot=l[X];V=M(this.chart.scales[X].getPixelForValue(ot))}Y=V-S,I=Y-_,z=t.left,L=t.right}const It=$t(r.ticks.maxTicksLimit,y),bt=Math.max(1,Math.ceil(y/It));for(F=0;F<y;F+=bt){const X=this.getContext(F),ot=o.setContext(X),gt=u.setContext(X),Rt=ot.lineWidth,Dt=ot.color,U=gt.dash||[],et=gt.dashOffset,lt=ot.tickWidth,ut=ot.tickColor,mt=ot.tickBorderDash||[],_t=ot.tickBorderDashOffset;G=k8(this,F,d),G!==void 0&&(H=Qa(i,G,Rt),f?Y=I=z=L=H:D=N=O=P=H,x.push({tx1:Y,ty1:D,tx2:I,ty2:N,x1:z,y1:O,x2:L,y2:P,width:Rt,color:Dt,borderDash:U,borderDashOffset:et,tickWidth:lt,tickColor:ut,tickBorderDash:mt,tickBorderDashOffset:_t}))}return this._ticksLength=y,this._borderValue=V,x}_computeLabelItems(t){const e=this.axis,i=this.options,{position:r,ticks:o}=i,l=this.isHorizontal(),u=this.ticks,{align:d,crossAlign:f,padding:p,mirror:y}=o,_=su(i.grid),x=_+p,w=y?-p:x,A=-so(this.labelRotation),S=[];let M,V,F,G,H,Y,D,I,N,z,O,L,P="middle";if(r==="top")Y=this.bottom-w,D=this._getXAxisLabelAlignment();else if(r==="bottom")Y=this.top+w,D=this._getXAxisLabelAlignment();else if(r==="left"){const bt=this._getYAxisLabelAlignment(_);D=bt.textAlign,H=bt.x}else if(r==="right"){const bt=this._getYAxisLabelAlignment(_);D=bt.textAlign,H=bt.x}else if(e==="x"){if(r==="center")Y=(t.top+t.bottom)/2+x;else if(Qt(r)){const bt=Object.keys(r)[0],X=r[bt];Y=this.chart.scales[bt].getPixelForValue(X)+x}D=this._getXAxisLabelAlignment()}else if(e==="y"){if(r==="center")H=(t.left+t.right)/2-x;else if(Qt(r)){const bt=Object.keys(r)[0],X=r[bt];H=this.chart.scales[bt].getPixelForValue(X)}D=this._getYAxisLabelAlignment(_).textAlign}e==="y"&&(d==="start"?P="top":d==="end"&&(P="bottom"));const It=this._getLabelSizes();for(M=0,V=u.length;M<V;++M){F=u[M],G=F.label;const bt=o.setContext(this.getContext(M));I=this.getPixelForTick(M)+o.labelOffset,N=this._resolveTickFontOptions(M),z=N.lineHeight,O=Qe(G)?G.length:1;const X=O/2,ot=bt.color,gt=bt.textStrokeColor,Rt=bt.textStrokeWidth;let Dt=D;l?(H=I,D==="inner"&&(M===V-1?Dt=this.options.reverse?"left":"right":M===0?Dt=this.options.reverse?"right":"left":Dt="center"),r==="top"?f==="near"||A!==0?L=-O*z+z/2:f==="center"?L=-It.highest.height/2-X*z+z:L=-It.highest.height+z/2:f==="near"||A!==0?L=z/2:f==="center"?L=It.highest.height/2-X*z:L=It.highest.height-O*z,y&&(L*=-1),A!==0&&!bt.showLabelBackdrop&&(H+=z/2*Math.sin(A))):(Y=I,L=(1-O)*z/2);let U;if(bt.showLabelBackdrop){const et=Ii(bt.backdropPadding),lt=It.heights[M],ut=It.widths[M];let mt=L-et.top,_t=0-et.left;switch(P){case"middle":mt-=lt/2;break;case"bottom":mt-=lt;break}switch(D){case"center":_t-=ut/2;break;case"right":_t-=ut;break;case"inner":M===V-1?_t-=ut:M>0&&(_t-=ut/2);break}U={left:_t,top:mt,width:ut+et.width,height:lt+et.height,color:bt.backdropColor}}S.push({label:G,font:N,textOffset:L,options:{rotation:A,color:ot,strokeColor:gt,strokeWidth:Rt,textAlign:Dt,textBaseline:P,translation:[H,Y],backdrop:U}})}return S}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-so(this.labelRotation))return t==="top"?"left":"right";let r="center";return e.align==="start"?r="left":e.align==="end"?r="right":e.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:r,padding:o}}=this.options,l=this._getLabelSizes(),u=t+o,d=l.widest.width;let f,p;return e==="left"?r?(p=this.right+o,i==="near"?f="left":i==="center"?(f="center",p+=d/2):(f="right",p+=d)):(p=this.right-u,i==="near"?f="right":i==="center"?(f="center",p-=d/2):(f="left",p=this.left)):e==="right"?r?(p=this.left+o,i==="near"?f="right":i==="center"?(f="center",p-=d/2):(f="left",p-=d)):(p=this.left+u,i==="near"?f="left":i==="center"?(f="center",p+=d/2):(f="right",p=this.right)):f="right",{textAlign:f,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:r,width:o,height:l}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,r,o,l),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const r=this.ticks.findIndex(o=>o.value===t);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,l;const u=(d,f,p)=>{!p.width||!p.color||(i.save(),i.lineWidth=p.width,i.strokeStyle=p.color,i.setLineDash(p.borderDash||[]),i.lineDashOffset=p.borderDashOffset,i.beginPath(),i.moveTo(d.x,d.y),i.lineTo(f.x,f.y),i.stroke(),i.restore())};if(e.display)for(o=0,l=r.length;o<l;++o){const d=r[o];e.drawOnChartArea&&u({x:d.x1,y:d.y1},{x:d.x2,y:d.y2},d),e.drawTicks&&u({x:d.tx1,y:d.ty1},{x:d.tx2,y:d.ty2},{color:d.tickColor,width:d.tickWidth,borderDash:d.tickBorderDash,borderDashOffset:d.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:r}}=this,o=i.setContext(this.getContext()),l=i.display?o.width:0;if(!l)return;const u=r.setContext(this.getContext(0)).lineWidth,d=this._borderValue;let f,p,y,_;this.isHorizontal()?(f=Qa(t,this.left,l)-l/2,p=Qa(t,this.right,u)+u/2,y=_=d):(y=Qa(t,this.top,l)-l/2,_=Qa(t,this.bottom,u)+u/2,f=p=d),e.save(),e.lineWidth=o.width,e.strokeStyle=o.color,e.beginPath(),e.moveTo(f,y),e.lineTo(p,_),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&jg(i,r);const o=this.getLabelItems(t);for(const l of o){const u=l.options,d=l.font,f=l.label,p=l.textOffset;Ju(i,f,0,p,d,u)}r&&Fg(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:r}}=this;if(!i.display)return;const o=Sn(i.font),l=Ii(i.padding),u=i.align;let d=o.lineHeight/2;e==="bottom"||e==="center"||Qt(e)?(d+=l.bottom,Qe(i.text)&&(d+=o.lineHeight*(i.text.length-1))):d+=l.top;const{titleX:f,titleY:p,maxWidth:y,rotation:_}=L8(this,d,e,u);Ju(t,i.text,0,0,o,{color:i.color,maxWidth:y,rotation:_,textAlign:z8(u,e,r),textBaseline:"middle",translation:[f,p]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=$t(t.grid&&t.grid.z,-1),r=$t(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==$l.prototype.draw?[{z:e,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let o,l;for(o=0,l=e.length;o<l;++o){const u=e[o];u[i]===this.id&&(!t||u.type===t)&&r.push(u)}return r}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return Sn(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class df{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;U8(e)&&(i=this.register(e));const r=this.items,o=t.id,l=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in r||(r[o]=t,V8(t,l,i),this.override&&Me.override(t.id,t.overrides)),l}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,r=this.scope;i in e&&delete e[i],r&&i in Me[r]&&(delete Me[r][i],this.override&&delete yo[i])}}function V8(n,t,e){const i=Ku(Object.create(null),[e?Me.get(e):{},Me.get(t),n.defaults]);Me.set(t,i),n.defaultRoutes&&B8(t,n.defaultRoutes),n.descriptors&&Me.describe(t,n.descriptors)}function B8(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),r=i.pop(),o=[n].concat(i).join("."),l=t[e].split("."),u=l.pop(),d=l.join(".");Me.route(o,r,d,u)})}function U8(n){return"id"in n&&"defaults"in n}class j8{constructor(){this.controllers=new df(eD,"datasets",!0),this.elements=new df(xo,"elements"),this.plugins=new df(Object,"plugins"),this.scales=new df($l,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(r=>{const o=i||this._getRegistryForType(r);i||o.isForType(r)||o===this.plugins&&r.id?this._exec(t,o,r):oe(r,l=>{const u=i||this._getRegistryForType(l);this._exec(t,u,l)})})}_exec(t,e,i){const r=i_(t);ye(i["before"+r],[],i),e[t](i),ye(i["after"+r],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const r=e.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return r}}var bs=new j8;class F8{constructor(){this._init=void 0}notify(t,e,i,r){if(e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install")),this._init===void 0)return;const o=r?this._descriptors(t).filter(r):this._descriptors(t),l=this._notify(o,t,e,i);return e==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall"),this._init=void 0),l}_notify(t,e,i,r){r=r||{};for(const o of t){const l=o.plugin,u=l[i],d=[e,r,o.options];if(ye(u,d,l)===!1&&r.cancelable)return!1}return!0}invalidate(){ge(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,r=$t(i.options&&i.options.plugins,{}),o=H8(i);return r===!1&&!e?[]:G8(t,o,r,e)}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,r=(o,l)=>o.filter(u=>!l.some(d=>u.plugin.id===d.plugin.id));this._notify(r(e,i),t,"stop"),this._notify(r(i,e),t,"start")}}function H8(n){const t={},e=[],i=Object.keys(bs.plugins.items);for(let o=0;o<i.length;o++)e.push(bs.getPlugin(i[o]));const r=n.plugins||[];for(let o=0;o<r.length;o++){const l=r[o];e.indexOf(l)===-1&&(e.push(l),t[l.id]=!0)}return{plugins:e,localIds:t}}function q8(n,t){return!t&&n===!1?null:n===!0?{}:n}function G8(n,{plugins:t,localIds:e},i,r){const o=[],l=n.getContext();for(const u of t){const d=u.id,f=q8(i[d],r);f!==null&&o.push({plugin:u,options:$8(n.config,{plugin:u,local:e[d]},f,l)})}return o}function $8(n,{plugin:t,local:e},i,r){const o=n.pluginScopeKeys(t),l=n.getOptionScopes(i,o);return e&&t.defaults&&l.push(t.defaults),n.createResolver(l,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function A0(n,t){const e=Me.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function W8(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function Y8(n,t){return n===t?"_index_":"_value_"}function $w(n){if(n==="x"||n==="y"||n==="r")return n}function K8(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function C0(n,...t){if($w(n))return n;for(const e of t){const i=e.axis||K8(e.position)||n.length>1&&$w(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function Ww(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function Q8(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return Ww(n,"x",e[0])||Ww(n,"y",e[0])}return{}}function X8(n,t){const e=yo[n.type]||{scales:{}},i=t.scales||{},r=A0(n.type,t),o=Object.create(null);return Object.keys(i).forEach(l=>{const u=i[l];if(!Qt(u))return console.error(`Invalid scale configuration for scale: ${l}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const d=C0(l,u,Q8(l,n),Me.scales[u.type]),f=Y8(d,r),p=e.scales||{};o[l]=Su(Object.create(null),[{axis:d},u,p[d],p[f]])}),n.data.datasets.forEach(l=>{const u=l.type||n.type,d=l.indexAxis||A0(u,t),p=(yo[u]||{}).scales||{};Object.keys(p).forEach(y=>{const _=W8(y,d),x=l[_+"AxisID"]||_;o[x]=o[x]||Object.create(null),Su(o[x],[{axis:_},i[x],p[y]])})}),Object.keys(o).forEach(l=>{const u=o[l];Su(u,[Me.scales[u.type],Me.scale])}),o}function oD(n){const t=n.options||(n.options={});t.plugins=$t(t.plugins,{}),t.scales=X8(n,t)}function lD(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function J8(n){return n=n||{},n.data=lD(n.data),oD(n),n}const Yw=new Map,cD=new Set;function ff(n,t){let e=Yw.get(n);return e||(e=t(),Yw.set(n,e),cD.add(e)),e}const ru=(n,t,e)=>{const i=og(t,e);i!==void 0&&n.add(i)};class Z8{constructor(t){this._config=J8(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=lD(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),oD(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return ff(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return ff(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return ff(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,i=this.type;return ff(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let r=i.get(t);return(!r||e)&&(r=new Map,i.set(t,r)),r}getOptionScopes(t,e,i){const{options:r,type:o}=this,l=this._cachedScopes(t,i),u=l.get(e);if(u)return u;const d=new Set;e.forEach(p=>{t&&(d.add(t),p.forEach(y=>ru(d,t,y))),p.forEach(y=>ru(d,r,y)),p.forEach(y=>ru(d,yo[o]||{},y)),p.forEach(y=>ru(d,Me,y)),p.forEach(y=>ru(d,T0,y))});const f=Array.from(d);return f.length===0&&f.push(Object.create(null)),cD.has(e)&&l.set(e,f),f}chartOptionScopes(){const{options:t,type:e}=this;return[t,yo[e]||{},Me.datasets[e]||{},{type:e},Me,T0]}resolveNamedOptions(t,e,i,r=[""]){const o={$shared:!0},{resolver:l,subPrefixes:u}=Kw(this._resolverCache,t,r);let d=l;if(e7(l,e)){o.$shared=!1,i=fa(i)?i():i;const f=this.createResolver(t,i,u);d=Ol(l,i,f)}for(const f of e)o[f]=d[f];return o}createResolver(t,e,i=[""],r){const{resolver:o}=Kw(this._resolverCache,t,i);return Qt(e)?Ol(o,e,void 0,r):o}}function Kw(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const r=e.join();let o=i.get(r);return o||(o={resolver:o_(t,e),subPrefixes:e.filter(u=>!u.toLowerCase().includes("hover"))},i.set(r,o)),o}const t7=n=>Qt(n)&&Object.getOwnPropertyNames(n).some(t=>fa(n[t]));function e7(n,t){const{isScriptable:e,isIndexable:i}=FR(n);for(const r of t){const o=e(r),l=i(r),u=(l||o)&&n[r];if(o&&(fa(u)||t7(u))||l&&Qe(u))return!0}return!1}var n7="4.5.1";const i7=["top","bottom","left","right","chartArea"];function Qw(n,t){return n==="top"||n==="bottom"||i7.indexOf(n)===-1&&t==="x"}function Xw(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function Jw(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),ye(e&&e.onComplete,[n],t)}function s7(n){const t=n.chart,e=t.options.animation;ye(e&&e.onProgress,[n],t)}function uD(n){return u_()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Rf={},Zw=n=>{const t=uD(n);return Object.values(Rf).filter(e=>e.canvas===t).pop()};function r7(n,t,e){const i=Object.keys(n);for(const r of i){const o=+r;if(o>=t){const l=n[r];delete n[r],(e>0||o>t)&&(n[o+e]=l)}}}function a7(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}let Gg=class{static defaults=Me;static instances=Rf;static overrides=yo;static registry=bs;static version=n7;static getChart=Zw;static register(...t){bs.add(...t),t1()}static unregister(...t){bs.remove(...t),t1()}constructor(t,e){const i=this.config=new Z8(e),r=uD(t),o=Zw(r);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const l=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||S8(r)),this.platform.updateConfig(i);const u=this.platform.acquireContext(r,l.aspectRatio),d=u&&u.canvas,f=d&&d.height,p=d&&d.width;if(this.id=hU(),this.ctx=u,this.canvas=d,this.width=p,this.height=f,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new F8,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=kU(y=>this.update(y),l.resizeDelay||0),this._dataChanges=[],Rf[this.id]=this,!u||!d){console.error("Failed to create chart: can't acquire context from the given item");return}Ks.listen(this,"complete",Jw),Ks.listen(this,"progress",s7),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:r,_aspectRatio:o}=this;return ge(t)?e&&o?o:r?i/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return bs}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():ww(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return Ew(this.canvas,this.ctx),this}stop(){return Ks.stop(this),this}resize(t,e){Ks.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,r=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(r,t,e,o),u=i.devicePixelRatio||this.platform.getDevicePixelRatio(),d=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,ww(this,u,!0)&&(this.notifyPlugins("resize",{size:l}),ye(i.onResize,[this,l],this),this.attached&&this._doResize(d)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};oe(e,(i,r)=>{i.id=r})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,r=Object.keys(i).reduce((l,u)=>(l[u]=!1,l),{});let o=[];e&&(o=o.concat(Object.keys(e).map(l=>{const u=e[l],d=C0(l,u),f=d==="r",p=d==="x";return{options:u,dposition:f?"chartArea":p?"bottom":"left",dtype:f?"radialLinear":p?"category":"linear"}}))),oe(o,l=>{const u=l.options,d=u.id,f=C0(d,u),p=$t(u.type,l.dtype);(u.position===void 0||Qw(u.position,f)!==Qw(l.dposition))&&(u.position=l.dposition),r[d]=!0;let y=null;if(d in i&&i[d].type===p)y=i[d];else{const _=bs.getScale(p);y=new _({id:d,type:p,ctx:this.ctx,chart:this}),i[y.id]=y}y.init(u,t)}),oe(r,(l,u)=>{l||delete i[u]}),oe(i,l=>{wi.configure(this,l,l.options),wi.addBox(this,l)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((r,o)=>r.index-o.index),i>e){for(let r=e;r<i;++r)this._destroyDatasetMeta(r);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(Xw("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,r)=>{e.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=e.length;i<r;i++){const o=e[i];let l=this.getDatasetMeta(i);const u=o.type||this.config.type;if(l.type&&l.type!==u&&(this._destroyDatasetMeta(i),l=this.getDatasetMeta(i)),l.type=u,l.indexAxis=o.indexAxis||A0(u,this.options),l.order=o.order||0,l.index=i,l.label=""+o.label,l.visible=this.isDatasetVisible(i),l.controller)l.controller.updateIndex(i),l.controller.linkScales();else{const d=bs.getController(u),{datasetElementType:f,dataElementType:p}=Me.datasets[u];Object.assign(d,{dataElementType:bs.getElement(p),datasetElementType:f&&bs.getElement(f)}),l.controller=new d(this,i),t.push(l.controller)}}return this._updateMetasets(),t}_resetElements(){oe(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let f=0,p=this.data.datasets.length;f<p;f++){const{controller:y}=this.getDatasetMeta(f),_=!r&&o.indexOf(y)===-1;y.buildOrUpdateElements(_),l=Math.max(+y.getMaxOverflow(),l)}l=this._minPadding=i.layout.autoPadding?l:0,this._updateLayout(l),r||oe(o,f=>{f.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(Xw("z","_idx"));const{_active:u,_lastEvent:d}=this;d?this._eventHandler(d,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){oe(this.scales,t=>{wi.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!dw(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:o}of e){const l=i==="_removeElements"?-o:o;r7(t,r,l)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=o=>new Set(t.filter(l=>l[0]===o).map((l,u)=>u+","+l.splice(1).join(","))),r=i(0);for(let o=1;o<e;o++)if(!dw(r,i(o)))return;return Array.from(r).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;wi.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],oe(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,o)=>{r._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,fa(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),r={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(e),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Ks.has(this)?this.attached&&!Ks.running(this)&&Ks.start(this):(this.draw(),Jw({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let r,o;for(r=0,o=e.length;r<o;++r){const l=e[r];(!t||l.visible)&&i.push(l)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i={meta:t,index:t.index,cancelable:!0},r=JR(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(r&&jg(e,r),t.controller.draw(),r&&Fg(e),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return Xu(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,r){const o=i8.modes[e];return typeof o=="function"?o(this,t,i,r):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let r=i.filter(o=>o&&o._dataset===e).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=vo(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const r=i?"show":"hide",o=this.getDatasetMeta(t),l=o.controller._resolveAnimations(void 0,r);lg(e)?(o.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),l.update(o,{visible:i}),this.update(u=>u.datasetIndex===t?r:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),Ks.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),Ew(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete Rf[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(o,l)=>{e.addEventListener(this,o,l),t[o]=l},r=(o,l,u)=>{o.offsetX=l,o.offsetY=u,this._eventHandler(o)};oe(this.options.events,o=>i(o,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(d,f)=>{e.addEventListener(this,d,f),t[d]=f},r=(d,f)=>{t[d]&&(e.removeEventListener(this,d,f),delete t[d])},o=(d,f)=>{this.canvas&&this.resize(d,f)};let l;const u=()=>{r("attach",u),this.attached=!0,this.resize(),i("resize",o),i("detach",l)};l=()=>{this.attached=!1,r("resize",o),this._stop(),this._resize(0,0),i("attach",u)},e.isAttached(this.canvas)?u():l()}unbindEvents(){oe(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},oe(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const r=i?"set":"remove";let o,l,u,d;for(e==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+r+"DatasetHoverStyle"]()),u=0,d=t.length;u<d;++u){l=t[u];const f=l&&this.getDatasetMeta(l.datasetIndex).controller;f&&f[r+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:o,index:l})=>{const u=this.getDatasetMeta(o);if(!u)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:u.data[l],index:l}});!rg(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,i){const r=this.options.hover,o=(d,f)=>d.filter(p=>!f.some(y=>p.datasetIndex===y.datasetIndex&&p.index===y.index)),l=o(e,t),u=i?t:o(t,e);l.length&&this.updateHoverStyle(l,r.mode,!1),u.length&&r.mode&&this.updateHoverStyle(u,r.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},r=l=>(l.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const o=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(o||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:r=[],options:o}=this,l=e,u=this._getActiveElements(t,r,i,l),d=yU(t),f=a7(t,this._lastEvent,i,d);i&&(this._lastEvent=null,ye(o.onHover,[t,u,this],this),d&&ye(o.onClick,[t,u,this],this));const p=!rg(u,r);return(p||e)&&(this._active=u,this._updateHoverStyles(u,r,e)),this._lastEvent=f,p}_getActiveElements(t,e,i,r){if(t.type==="mouseout")return[];if(!i)return e;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,r)}};function t1(){return oe(Gg.instances,n=>n._plugins.invalidate())}function hD(n,t,e=t){n.lineCap=$t(e.borderCapStyle,t.borderCapStyle),n.setLineDash($t(e.borderDash,t.borderDash)),n.lineDashOffset=$t(e.borderDashOffset,t.borderDashOffset),n.lineJoin=$t(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=$t(e.borderWidth,t.borderWidth),n.strokeStyle=$t(e.borderColor,t.borderColor)}function o7(n,t,e){n.lineTo(e.x,e.y)}function l7(n){return n.stepped?$U:n.tension||n.cubicInterpolationMode==="monotone"?WU:o7}function dD(n,t,e={}){const i=n.length,{start:r=0,end:o=i-1}=e,{start:l,end:u}=t,d=Math.max(r,l),f=Math.min(o,u),p=r<l&&o<l||r>u&&o>u;return{count:i,start:d,loop:t.loop,ilen:f<d&&!p?i+f-d:f-d}}function c7(n,t,e,i){const{points:r,options:o}=t,{count:l,start:u,loop:d,ilen:f}=dD(r,e,i),p=l7(o);let{move:y=!0,reverse:_}=i||{},x,w,A;for(x=0;x<=f;++x)w=r[(u+(_?f-x:x))%l],!w.skip&&(y?(n.moveTo(w.x,w.y),y=!1):p(n,A,w,_,o.stepped),A=w);return d&&(w=r[(u+(_?f:0))%l],p(n,A,w,_,o.stepped)),!!d}function u7(n,t,e,i){const r=t.points,{count:o,start:l,ilen:u}=dD(r,e,i),{move:d=!0,reverse:f}=i||{};let p=0,y=0,_,x,w,A,S,M;const V=G=>(l+(f?u-G:G))%o,F=()=>{A!==S&&(n.lineTo(p,S),n.lineTo(p,A),n.lineTo(p,M))};for(d&&(x=r[V(0)],n.moveTo(x.x,x.y)),_=0;_<=u;++_){if(x=r[V(_)],x.skip)continue;const G=x.x,H=x.y,Y=G|0;Y===w?(H<A?A=H:H>S&&(S=H),p=(y*p+G)/++y):(F(),n.lineTo(G,H),w=Y,y=0,A=S=H),M=H}F()}function I0(n){const t=n.options,e=t.borderDash&&t.borderDash.length;return!n._decimated&&!n._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?u7:c7}function h7(n){return n.stepped?Aj:n.tension||n.cubicInterpolationMode==="monotone"?Cj:eo}function d7(n,t,e,i){let r=t._path;r||(r=t._path=new Path2D,t.path(r,e,i)&&r.closePath()),hD(n,t.options),n.stroke(r)}function f7(n,t,e,i){const{segments:r,options:o}=t,l=I0(t);for(const u of r)hD(n,o,u.style),n.beginPath(),l(n,t,u,{start:e,end:e+i-1})&&n.closePath(),n.stroke()}const g7=typeof Path2D=="function";function p7(n,t,e,i){g7&&!t.options.segment?d7(n,t,e,i):f7(n,t,e,i)}class $g extends xo{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const r=i.spanGaps?this._loop:this._fullLoop;bj(this._points,i,t,r,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Oj(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,i=t.length;return i&&e[t[i-1].end]}interpolate(t,e){const i=this.options,r=t[e],o=this.points,l=XR(this,{property:e,start:r,end:r});if(!l.length)return;const u=[],d=h7(i);let f,p;for(f=0,p=l.length;f<p;++f){const{start:y,end:_}=l[f],x=o[y],w=o[_];if(x===w){u.push(x);continue}const A=Math.abs((r-x[e])/(w[e]-x[e])),S=d(x,w,A,i.stepped);S[e]=t[e],u.push(S)}return u.length===1?u[0]:u}pathSegment(t,e,i){return I0(this)(t,this,e,i)}path(t,e,i){const r=this.segments,o=I0(this);let l=this._loop;e=e||0,i=i||this.points.length-e;for(const u of r)l&=o(t,this,u,{start:e,end:e+i-1});return!!l}draw(t,e,i,r){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(t.save(),p7(t,this,i,r),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function e1(n,t,e,i){const r=n.options,{[e]:o}=n.getProps([e],i);return Math.abs(t-o)<r.radius+r.hitRadius}class m7 extends xo{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,i){const r=this.options,{x:o,y:l}=this.getProps(["x","y"],i);return Math.pow(t-o,2)+Math.pow(e-l,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(t,e){return e1(this,t,"x",e)}inYRange(t,e){return e1(this,t,"y",e)}getCenterPoint(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}size(t){t=t||this.options||{};let e=t.radius||0;e=Math.max(e,e&&t.hoverRadius||0);const i=e&&t.borderWidth||0;return(e+i)*2}draw(t,e){const i=this.options;this.skip||i.radius<.1||!Xu(this,e,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,S0(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function y7(n,t,e){const i=n.segments,r=n.points,o=t.points,l=[];for(const u of i){let{start:d,end:f}=u;f=Wg(d,f,r);const p=R0(e,r[d],r[f],u.loop);if(!t.segments){l.push({source:u,target:p,start:r[d],end:r[f]});continue}const y=XR(t,p);for(const _ of y){const x=R0(e,o[_.start],o[_.end],_.loop),w=QR(u,r,x);for(const A of w)l.push({source:A,target:_,start:{[e]:n1(p,x,"start",Math.max)},end:{[e]:n1(p,x,"end",Math.min)}})}}return l}function R0(n,t,e,i){if(i)return;let r=t[n],o=e[n];return n==="angle"&&(r=vs(r),o=vs(o)),{property:n,start:r,end:o}}function b7(n,t){const{x:e=null,y:i=null}=n||{},r=t.points,o=[];return t.segments.forEach(({start:l,end:u})=>{u=Wg(l,u,r);const d=r[l],f=r[u];i!==null?(o.push({x:d.x,y:i}),o.push({x:f.x,y:i})):e!==null&&(o.push({x:e,y:d.y}),o.push({x:e,y:f.y}))}),o}function Wg(n,t,e){for(;t>n;t--){const i=e[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function n1(n,t,e,i){return n&&t?i(n[e],t[e]):n?n[e]:t?t[e]:0}function fD(n,t){let e=[],i=!1;return Qe(n)?(i=!0,e=n):e=b7(n,t),e.length?new $g({points:e,options:{tension:0},_loop:i,_fullLoop:i}):null}function i1(n){return n&&n.fill!==!1}function _7(n,t,e){let r=n[t].fill;const o=[t];let l;if(!e)return r;for(;r!==!1&&o.indexOf(r)===-1;){if(!An(r))return r;if(l=n[r],!l)return!1;if(l.visible)return r;o.push(r),r=l.fill}return!1}function v7(n,t,e){const i=S7(n);if(Qt(i))return isNaN(i.value)?!1:i;let r=parseFloat(i);return An(r)&&Math.floor(r)===r?x7(i[0],t,r,e):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function x7(n,t,e,i){return(n==="-"||n==="+")&&(e=t+e),e===t||e<0||e>=i?!1:e}function E7(n,t){let e=null;return n==="start"?e=t.bottom:n==="end"?e=t.top:Qt(n)?e=t.getPixelForValue(n.value):t.getBasePixel&&(e=t.getBasePixel()),e}function T7(n,t,e){let i;return n==="start"?i=e:n==="end"?i=t.options.reverse?t.min:t.max:Qt(n)?i=n.value:i=t.getBaseValue(),i}function S7(n){const t=n.options,e=t.fill;let i=$t(e&&e.target,e);return i===void 0&&(i=!!t.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function w7(n){const{scale:t,index:e,line:i}=n,r=[],o=i.segments,l=i.points,u=A7(t,e);u.push(fD({x:null,y:t.bottom},i));for(let d=0;d<o.length;d++){const f=o[d];for(let p=f.start;p<=f.end;p++)C7(r,l[p],u)}return new $g({points:r,options:{}})}function A7(n,t){const e=[],i=n.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){const o=i[r];if(o.index===t)break;o.hidden||e.unshift(o.dataset)}return e}function C7(n,t,e){const i=[];for(let r=0;r<e.length;r++){const o=e[r],{first:l,last:u,point:d}=I7(o,t,"x");if(!(!d||l&&u)){if(l)i.unshift(d);else if(n.push(d),!u)break}}n.push(...i)}function I7(n,t,e){const i=n.interpolate(t,e);if(!i)return{};const r=i[e],o=n.segments,l=n.points;let u=!1,d=!1;for(let f=0;f<o.length;f++){const p=o[f],y=l[p.start][e],_=l[p.end][e];if(pl(r,y,_)){u=r===y,d=r===_;break}}return{first:u,last:d,point:i}}class gD{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,i){const{x:r,y:o,radius:l}=this;return e=e||{start:0,end:Gi},t.arc(r,o,l,e.end,e.start,!0),!i.bounds}interpolate(t){const{x:e,y:i,radius:r}=this,o=t.angle;return{x:e+Math.cos(o)*r,y:i+Math.sin(o)*r,angle:o}}}function R7(n){const{chart:t,fill:e,line:i}=n;if(An(e))return D7(t,e);if(e==="stack")return w7(n);if(e==="shape")return!0;const r=N7(n);return r instanceof gD?r:fD(r,i)}function D7(n,t){const e=n.getDatasetMeta(t);return e&&n.isDatasetVisible(t)?e.dataset:null}function N7(n){return(n.scale||{}).getPointPositionForValue?O7(n):k7(n)}function k7(n){const{scale:t={},fill:e}=n,i=E7(e,t);if(An(i)){const r=t.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}function O7(n){const{scale:t,fill:e}=n,i=t.options,r=t.getLabels().length,o=i.reverse?t.max:t.min,l=T7(e,t,o),u=[];if(i.grid.circular){const d=t.getPointPositionForValue(0,o);return new gD({x:d.x,y:d.y,radius:t.getDistanceFromCenterForValue(l)})}for(let d=0;d<r;++d)u.push(t.getPointPositionForValue(d,l));return u}function My(n,t,e){const i=R7(t),{chart:r,index:o,line:l,scale:u,axis:d}=t,f=l.options,p=f.fill,y=f.backgroundColor,{above:_=y,below:x=y}=p||{},w=r.getDatasetMeta(o),A=JR(r,w);i&&l.points.length&&(jg(n,e),M7(n,{line:l,target:i,above:_,below:x,area:e,scale:u,axis:d,clip:A}),Fg(n))}function M7(n,t){const{line:e,target:i,above:r,below:o,area:l,scale:u,clip:d}=t,f=e._loop?"angle":t.axis;n.save();let p=o;o!==r&&(f==="x"?(s1(n,i,l.top),Py(n,{line:e,target:i,color:r,scale:u,property:f,clip:d}),n.restore(),n.save(),s1(n,i,l.bottom)):f==="y"&&(r1(n,i,l.left),Py(n,{line:e,target:i,color:o,scale:u,property:f,clip:d}),n.restore(),n.save(),r1(n,i,l.right),p=r)),Py(n,{line:e,target:i,color:p,scale:u,property:f,clip:d}),n.restore()}function s1(n,t,e){const{segments:i,points:r}=t;let o=!0,l=!1;n.beginPath();for(const u of i){const{start:d,end:f}=u,p=r[d],y=r[Wg(d,f,r)];o?(n.moveTo(p.x,p.y),o=!1):(n.lineTo(p.x,e),n.lineTo(p.x,p.y)),l=!!t.pathSegment(n,u,{move:l}),l?n.closePath():n.lineTo(y.x,e)}n.lineTo(t.first().x,e),n.closePath(),n.clip()}function r1(n,t,e){const{segments:i,points:r}=t;let o=!0,l=!1;n.beginPath();for(const u of i){const{start:d,end:f}=u,p=r[d],y=r[Wg(d,f,r)];o?(n.moveTo(p.x,p.y),o=!1):(n.lineTo(e,p.y),n.lineTo(p.x,p.y)),l=!!t.pathSegment(n,u,{move:l}),l?n.closePath():n.lineTo(e,y.y)}n.lineTo(e,t.first().y),n.closePath(),n.clip()}function Py(n,t){const{line:e,target:i,property:r,color:o,scale:l,clip:u}=t,d=y7(e,i,r);for(const{source:f,target:p,start:y,end:_}of d){const{style:{backgroundColor:x=o}={}}=f,w=i!==!0;n.save(),n.fillStyle=x,P7(n,l,u,w&&R0(r,y,_)),n.beginPath();const A=!!e.pathSegment(n,f);let S;if(w){A?n.closePath():a1(n,i,_,r);const M=!!i.pathSegment(n,p,{move:A,reverse:!0});S=A&&M,S||a1(n,i,y,r)}n.closePath(),n.fill(S?"evenodd":"nonzero"),n.restore()}}function P7(n,t,e,i){const r=t.chart.chartArea,{property:o,start:l,end:u}=i||{};if(o==="x"||o==="y"){let d,f,p,y;o==="x"?(d=l,f=r.top,p=u,y=r.bottom):(d=r.left,f=l,p=r.right,y=u),n.beginPath(),e&&(d=Math.max(d,e.left),p=Math.min(p,e.right),f=Math.max(f,e.top),y=Math.min(y,e.bottom)),n.rect(d,f,p-d,y-f),n.clip()}}function a1(n,t,e,i){const r=t.interpolate(e,i);r&&n.lineTo(r.x,r.y)}var z7={id:"filler",afterDatasetsUpdate(n,t,e){const i=(n.data.datasets||[]).length,r=[];let o,l,u,d;for(l=0;l<i;++l)o=n.getDatasetMeta(l),u=o.dataset,d=null,u&&u.options&&u instanceof $g&&(d={visible:n.isDatasetVisible(l),index:l,fill:v7(u,l,i),chart:n,axis:o.controller.options.indexAxis,scale:o.vScale,line:u}),o.$filler=d,r.push(d);for(l=0;l<i;++l)d=r[l],!(!d||d.fill===!1)&&(d.fill=_7(r,l,e.propagate))},beforeDraw(n,t,e){const i=e.drawTime==="beforeDraw",r=n.getSortedVisibleDatasetMetas(),o=n.chartArea;for(let l=r.length-1;l>=0;--l){const u=r[l].$filler;u&&(u.line.updateControlPoints(o,u.axis),i&&u.fill&&My(n.ctx,u,o))}},beforeDatasetsDraw(n,t,e){if(e.drawTime!=="beforeDatasetsDraw")return;const i=n.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const o=i[r].$filler;i1(o)&&My(n.ctx,o,n.chartArea)}},beforeDatasetDraw(n,t,e){const i=t.meta.$filler;!i1(i)||e.drawTime!=="beforeDatasetDraw"||My(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const o1=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},L7=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class l1 extends xo{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=ye(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,r)=>t.sort(i,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,r=Sn(i.font),o=r.size,l=this._computeTitleHeight(),{boxWidth:u,itemHeight:d}=o1(i,o);let f,p;e.font=r.string,this.isHorizontal()?(f=this.maxWidth,p=this._fitRows(l,o,u,d)+10):(p=this.maxHeight,f=this._fitCols(l,r,u,d)+10),this.width=Math.min(f,t.maxWidth||this.maxWidth),this.height=Math.min(p,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,r){const{ctx:o,maxWidth:l,options:{labels:{padding:u}}}=this,d=this.legendHitBoxes=[],f=this.lineWidths=[0],p=r+u;let y=t;o.textAlign="left",o.textBaseline="middle";let _=-1,x=-p;return this.legendItems.forEach((w,A)=>{const S=i+e/2+o.measureText(w.text).width;(A===0||f[f.length-1]+S+2*u>l)&&(y+=p,f[f.length-(A>0?0:1)]=0,x+=p,_++),d[A]={left:0,top:x,row:_,width:S,height:r},f[f.length-1]+=S+u}),y}_fitCols(t,e,i,r){const{ctx:o,maxHeight:l,options:{labels:{padding:u}}}=this,d=this.legendHitBoxes=[],f=this.columnSizes=[],p=l-t;let y=u,_=0,x=0,w=0,A=0;return this.legendItems.forEach((S,M)=>{const{itemWidth:V,itemHeight:F}=V7(i,e,o,S,r);M>0&&x+F+2*u>p&&(y+=_+u,f.push({width:_,height:x}),w+=_+u,A++,_=x=0),d[M]={left:w,top:x,col:A,width:V,height:F},_=Math.max(_,V),x+=F+u}),y+=_,f.push({width:_,height:x}),y}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:r},rtl:o}}=this,l=vl(o,this.left,this.width);if(this.isHorizontal()){let u=0,d=xn(i,this.left+r,this.right-this.lineWidths[u]);for(const f of e)u!==f.row&&(u=f.row,d=xn(i,this.left+r,this.right-this.lineWidths[u])),f.top+=this.top+t+r,f.left=l.leftForLtr(l.x(d),f.width),d+=f.width+r}else{let u=0,d=xn(i,this.top+t+r,this.bottom-this.columnSizes[u].height);for(const f of e)f.col!==u&&(u=f.col,d=xn(i,this.top+t+r,this.bottom-this.columnSizes[u].height)),f.top=d,f.left+=this.left+r,f.left=l.leftForLtr(l.x(f.left),f.width),d+=f.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;jg(t,this),this._draw(),Fg(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:r}=this,{align:o,labels:l}=t,u=Me.color,d=vl(t.rtl,this.left,this.width),f=Sn(l.font),{padding:p}=l,y=f.size,_=y/2;let x;this.drawTitle(),r.textAlign=d.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=f.string;const{boxWidth:w,boxHeight:A,itemHeight:S}=o1(l,y),M=function(Y,D,I){if(isNaN(w)||w<=0||isNaN(A)||A<0)return;r.save();const N=$t(I.lineWidth,1);if(r.fillStyle=$t(I.fillStyle,u),r.lineCap=$t(I.lineCap,"butt"),r.lineDashOffset=$t(I.lineDashOffset,0),r.lineJoin=$t(I.lineJoin,"miter"),r.lineWidth=N,r.strokeStyle=$t(I.strokeStyle,u),r.setLineDash($t(I.lineDash,[])),l.usePointStyle){const z={radius:A*Math.SQRT2/2,pointStyle:I.pointStyle,rotation:I.rotation,borderWidth:N},O=d.xPlus(Y,w/2),L=D+_;UR(r,z,O,L,l.pointStyleWidth&&w)}else{const z=D+Math.max((y-A)/2,0),O=d.leftForLtr(Y,w),L=Iu(I.borderRadius);r.beginPath(),Object.values(L).some(P=>P!==0)?w0(r,{x:O,y:z,w,h:A,radius:L}):r.rect(O,z,w,A),r.fill(),N!==0&&r.stroke()}r.restore()},V=function(Y,D,I){Ju(r,I.text,Y,D+S/2,f,{strikethrough:I.hidden,textAlign:d.textAlign(I.textAlign)})},F=this.isHorizontal(),G=this._computeTitleHeight();F?x={x:xn(o,this.left+p,this.right-i[0]),y:this.top+p+G,line:0}:x={x:this.left+p,y:xn(o,this.top+G+p,this.bottom-e[0].height),line:0},WR(this.ctx,t.textDirection);const H=S+p;this.legendItems.forEach((Y,D)=>{r.strokeStyle=Y.fontColor,r.fillStyle=Y.fontColor;const I=r.measureText(Y.text).width,N=d.textAlign(Y.textAlign||(Y.textAlign=l.textAlign)),z=w+_+I;let O=x.x,L=x.y;d.setWidth(this.width),F?D>0&&O+z+p>this.right&&(L=x.y+=H,x.line++,O=x.x=xn(o,this.left+p,this.right-i[x.line])):D>0&&L+H>this.bottom&&(O=x.x=O+e[x.line].width+p,x.line++,L=x.y=xn(o,this.top+G+p,this.bottom-e[x.line].height));const P=d.x(O);if(M(P,L,Y),O=OU(N,O+w+_,F?O+z:this.right,t.rtl),V(d.x(O),L,Y),F)x.x+=z+p;else if(typeof Y.text!="string"){const It=f.lineHeight;x.y+=pD(Y,It)+p}else x.y+=H}),YR(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=Sn(e.font),r=Ii(e.padding);if(!e.display)return;const o=vl(t.rtl,this.left,this.width),l=this.ctx,u=e.position,d=i.size/2,f=r.top+d;let p,y=this.left,_=this.width;if(this.isHorizontal())_=Math.max(...this.lineWidths),p=this.top+f,y=xn(t.align,y,this.right-_);else{const w=this.columnSizes.reduce((A,S)=>Math.max(A,S.height),0);p=f+xn(t.align,this.top,this.bottom-w-t.labels.padding-this._computeTitleHeight())}const x=xn(u,y,y+_);l.textAlign=o.textAlign(r_(u)),l.textBaseline="middle",l.strokeStyle=e.color,l.fillStyle=e.color,l.font=i.string,Ju(l,e.text,x,p,i)}_computeTitleHeight(){const t=this.options.title,e=Sn(t.font),i=Ii(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,r,o;if(pl(t,this.left,this.right)&&pl(e,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(r=o[i],pl(t,r.left,r.left+r.width)&&pl(e,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(t){const e=this.options;if(!j7(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const r=this._hoveredItem,o=L7(r,i);r&&!o&&ye(e.onLeave,[t,r,this],this),this._hoveredItem=i,i&&!o&&ye(e.onHover,[t,i,this],this)}else i&&ye(e.onClick,[t,i,this],this)}}function V7(n,t,e,i,r){const o=B7(i,n,t,e),l=U7(r,i,t.lineHeight);return{itemWidth:o,itemHeight:l}}function B7(n,t,e,i){let r=n.text;return r&&typeof r!="string"&&(r=r.reduce((o,l)=>o.length>l.length?o:l)),t+e.size/2+i.measureText(r).width}function U7(n,t,e){let i=n;return typeof t.text!="string"&&(i=pD(t,e)),i}function pD(n,t){const e=n.text?n.text.length:0;return t*e}function j7(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var F7={id:"legend",_element:l1,start(n,t,e){const i=n.legend=new l1({ctx:n.ctx,options:e,chart:n});wi.configure(n,i,e),wi.addBox(n,i)},stop(n){wi.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;wi.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,r=e.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:r,color:o,useBorderRadius:l,borderRadius:u}}=n.legend.options;return n._getSortedDatasetMetas().map(d=>{const f=d.controller.getStyle(e?0:void 0),p=Ii(f.borderWidth);return{text:t[d.index].label,fillStyle:f.backgroundColor,fontColor:o,hidden:!d.visible,lineCap:f.borderCapStyle,lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:f.borderColor,pointStyle:i||f.pointStyle,rotation:f.rotation,textAlign:r||f.textAlign,borderRadius:l&&(u||f.borderRadius),datasetIndex:d.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class mD extends xo{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const r=Qe(i.text)?i.text.length:1;this._padding=Ii(i.padding);const o=r*Sn(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:i,bottom:r,right:o,options:l}=this,u=l.align;let d=0,f,p,y;return this.isHorizontal()?(p=xn(u,i,o),y=e+t,f=o-i):(l.position==="left"?(p=i+t,y=xn(u,r,e),d=an*-.5):(p=o-t,y=xn(u,e,r),d=an*.5),f=r-e),{titleX:p,titleY:y,maxWidth:f,rotation:d}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=Sn(e.font),o=i.lineHeight/2+this._padding.top,{titleX:l,titleY:u,maxWidth:d,rotation:f}=this._drawArgs(o);Ju(t,e.text,0,0,i,{color:e.color,maxWidth:d,rotation:f,textAlign:r_(e.align),textBaseline:"middle",translation:[l,u]})}}function H7(n,t){const e=new mD({ctx:n.ctx,options:t,chart:n});wi.configure(n,e,t),wi.addBox(n,e),n.titleBlock=e}var q7={id:"title",_element:mD,start(n,t,e){H7(n,e)},stop(n){const t=n.titleBlock;wi.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){const i=n.titleBlock;wi.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const gu={average(n){if(!n.length)return!1;let t,e,i=new Set,r=0,o=0;for(t=0,e=n.length;t<e;++t){const u=n[t].element;if(u&&u.hasValue()){const d=u.tooltipPosition();i.add(d.x),r+=d.y,++o}}return o===0||i.size===0?!1:{x:[...i].reduce((u,d)=>u+d)/i.size,y:r/o}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,r=Number.POSITIVE_INFINITY,o,l,u;for(o=0,l=n.length;o<l;++o){const d=n[o].element;if(d&&d.hasValue()){const f=d.getCenterPoint(),p=E0(t,f);p<r&&(r=p,u=d)}}if(u){const d=u.tooltipPosition();e=d.x,i=d.y}return{x:e,y:i}}};function ys(n,t){return t&&(Qe(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function Qs(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function G7(n,t){const{element:e,datasetIndex:i,index:r}=t,o=n.getDatasetMeta(i).controller,{label:l,value:u}=o.getLabelAndValue(r);return{chart:n,label:l,parsed:o.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:u,dataset:o.getDataset(),dataIndex:r,datasetIndex:i,element:e}}function c1(n,t){const e=n.chart.ctx,{body:i,footer:r,title:o}=n,{boxWidth:l,boxHeight:u}=t,d=Sn(t.bodyFont),f=Sn(t.titleFont),p=Sn(t.footerFont),y=o.length,_=r.length,x=i.length,w=Ii(t.padding);let A=w.height,S=0,M=i.reduce((G,H)=>G+H.before.length+H.lines.length+H.after.length,0);if(M+=n.beforeBody.length+n.afterBody.length,y&&(A+=y*f.lineHeight+(y-1)*t.titleSpacing+t.titleMarginBottom),M){const G=t.displayColors?Math.max(u,d.lineHeight):d.lineHeight;A+=x*G+(M-x)*d.lineHeight+(M-1)*t.bodySpacing}_&&(A+=t.footerMarginTop+_*p.lineHeight+(_-1)*t.footerSpacing);let V=0;const F=function(G){S=Math.max(S,e.measureText(G).width+V)};return e.save(),e.font=f.string,oe(n.title,F),e.font=d.string,oe(n.beforeBody.concat(n.afterBody),F),V=t.displayColors?l+2+t.boxPadding:0,oe(i,G=>{oe(G.before,F),oe(G.lines,F),oe(G.after,F)}),V=0,e.font=p.string,oe(n.footer,F),e.restore(),S+=w.width,{width:S,height:A}}function $7(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function W7(n,t,e,i){const{x:r,width:o}=i,l=e.caretSize+e.caretPadding;if(n==="left"&&r+o+l>t.width||n==="right"&&r-o-l<0)return!0}function Y7(n,t,e,i){const{x:r,width:o}=e,{width:l,chartArea:{left:u,right:d}}=n;let f="center";return i==="center"?f=r<=(u+d)/2?"left":"right":r<=o/2?f="left":r>=l-o/2&&(f="right"),W7(f,n,t,e)&&(f="center"),f}function u1(n,t,e){const i=e.yAlign||t.yAlign||$7(n,e);return{xAlign:e.xAlign||t.xAlign||Y7(n,t,e,i),yAlign:i}}function K7(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function Q7(n,t,e){let{y:i,height:r}=n;return t==="top"?i+=e:t==="bottom"?i-=r+e:i-=r/2,i}function h1(n,t,e,i){const{caretSize:r,caretPadding:o,cornerRadius:l}=n,{xAlign:u,yAlign:d}=e,f=r+o,{topLeft:p,topRight:y,bottomLeft:_,bottomRight:x}=Iu(l);let w=K7(t,u);const A=Q7(t,d,f);return d==="center"?u==="left"?w+=f:u==="right"&&(w-=f):u==="left"?w-=Math.max(p,_)+r:u==="right"&&(w+=Math.max(y,x)+r),{x:Si(w,0,i.width-t.width),y:Si(A,0,i.height-t.height)}}function gf(n,t,e){const i=Ii(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function d1(n){return ys([],Qs(n))}function X7(n,t,e){return vo(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function f1(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const yD={beforeTitle:Ys,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:Ys,beforeBody:Ys,beforeLabel:Ys,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return ge(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Ys,afterBody:Ys,beforeFooter:Ys,footer:Ys,afterFooter:Ys};function jn(n,t,e,i){const r=n[t].call(e,i);return typeof r>"u"?yD[t].call(e,i):r}class g1 extends xo{static positioners=gu;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&e.options.animation&&i.animations,o=new ZR(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=X7(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,r=jn(i,"beforeTitle",this,t),o=jn(i,"title",this,t),l=jn(i,"afterTitle",this,t);let u=[];return u=ys(u,Qs(r)),u=ys(u,Qs(o)),u=ys(u,Qs(l)),u}getBeforeBody(t,e){return d1(jn(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,r=[];return oe(t,o=>{const l={before:[],lines:[],after:[]},u=f1(i,o);ys(l.before,Qs(jn(u,"beforeLabel",this,o))),ys(l.lines,jn(u,"label",this,o)),ys(l.after,Qs(jn(u,"afterLabel",this,o))),r.push(l)}),r}getAfterBody(t,e){return d1(jn(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,r=jn(i,"beforeFooter",this,t),o=jn(i,"footer",this,t),l=jn(i,"afterFooter",this,t);let u=[];return u=ys(u,Qs(r)),u=ys(u,Qs(o)),u=ys(u,Qs(l)),u}_createItems(t){const e=this._active,i=this.chart.data,r=[],o=[],l=[];let u=[],d,f;for(d=0,f=e.length;d<f;++d)u.push(G7(this.chart,e[d]));return t.filter&&(u=u.filter((p,y,_)=>t.filter(p,y,_,i))),t.itemSort&&(u=u.sort((p,y)=>t.itemSort(p,y,i))),oe(u,p=>{const y=f1(t.callbacks,p);r.push(jn(y,"labelColor",this,p)),o.push(jn(y,"labelPointStyle",this,p)),l.push(jn(y,"labelTextColor",this,p))}),this.labelColors=r,this.labelPointStyles=o,this.labelTextColors=l,this.dataPoints=u,u}update(t,e){const i=this.options.setContext(this.getContext()),r=this._active;let o,l=[];if(!r.length)this.opacity!==0&&(o={opacity:0});else{const u=gu[i.position].call(this,r,this._eventPosition);l=this._createItems(i),this.title=this.getTitle(l,i),this.beforeBody=this.getBeforeBody(l,i),this.body=this.getBody(l,i),this.afterBody=this.getAfterBody(l,i),this.footer=this.getFooter(l,i);const d=this._size=c1(this,i),f=Object.assign({},u,d),p=u1(this.chart,i,f),y=h1(i,f,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,o={opacity:1,x:y.x,y:y.y,width:d.width,height:d.height,caretX:u.x,caretY:u.y}}this._tooltipItems=l,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,r){const o=this.getCaretPosition(t,i,r);e.lineTo(o.x1,o.y1),e.lineTo(o.x2,o.y2),e.lineTo(o.x3,o.y3)}getCaretPosition(t,e,i){const{xAlign:r,yAlign:o}=this,{caretSize:l,cornerRadius:u}=i,{topLeft:d,topRight:f,bottomLeft:p,bottomRight:y}=Iu(u),{x:_,y:x}=t,{width:w,height:A}=e;let S,M,V,F,G,H;return o==="center"?(G=x+A/2,r==="left"?(S=_,M=S-l,F=G+l,H=G-l):(S=_+w,M=S+l,F=G-l,H=G+l),V=S):(r==="left"?M=_+Math.max(d,p)+l:r==="right"?M=_+w-Math.max(f,y)-l:M=this.caretX,o==="top"?(F=x,G=F-l,S=M-l,V=M+l):(F=x+A,G=F+l,S=M+l,V=M-l),H=F),{x1:S,x2:M,x3:V,y1:F,y2:G,y3:H}}drawTitle(t,e,i){const r=this.title,o=r.length;let l,u,d;if(o){const f=vl(i.rtl,this.x,this.width);for(t.x=gf(this,i.titleAlign,i),e.textAlign=f.textAlign(i.titleAlign),e.textBaseline="middle",l=Sn(i.titleFont),u=i.titleSpacing,e.fillStyle=i.titleColor,e.font=l.string,d=0;d<o;++d)e.fillText(r[d],f.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+u,d+1===o&&(t.y+=i.titleMarginBottom-u)}}_drawColorBox(t,e,i,r,o){const l=this.labelColors[i],u=this.labelPointStyles[i],{boxHeight:d,boxWidth:f}=o,p=Sn(o.bodyFont),y=gf(this,"left",o),_=r.x(y),x=d<p.lineHeight?(p.lineHeight-d)/2:0,w=e.y+x;if(o.usePointStyle){const A={radius:Math.min(f,d)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},S=r.leftForLtr(_,f)+f/2,M=w+d/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,S0(t,A,S,M),t.strokeStyle=l.borderColor,t.fillStyle=l.backgroundColor,S0(t,A,S,M)}else{t.lineWidth=Qt(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,t.strokeStyle=l.borderColor,t.setLineDash(l.borderDash||[]),t.lineDashOffset=l.borderDashOffset||0;const A=r.leftForLtr(_,f),S=r.leftForLtr(r.xPlus(_,1),f-2),M=Iu(l.borderRadius);Object.values(M).some(V=>V!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,w0(t,{x:A,y:w,w:f,h:d,radius:M}),t.fill(),t.stroke(),t.fillStyle=l.backgroundColor,t.beginPath(),w0(t,{x:S,y:w+1,w:f-2,h:d-2,radius:M}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(A,w,f,d),t.strokeRect(A,w,f,d),t.fillStyle=l.backgroundColor,t.fillRect(S,w+1,f-2,d-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:r}=this,{bodySpacing:o,bodyAlign:l,displayColors:u,boxHeight:d,boxWidth:f,boxPadding:p}=i,y=Sn(i.bodyFont);let _=y.lineHeight,x=0;const w=vl(i.rtl,this.x,this.width),A=function(I){e.fillText(I,w.x(t.x+x),t.y+_/2),t.y+=_+o},S=w.textAlign(l);let M,V,F,G,H,Y,D;for(e.textAlign=l,e.textBaseline="middle",e.font=y.string,t.x=gf(this,S,i),e.fillStyle=i.bodyColor,oe(this.beforeBody,A),x=u&&S!=="right"?l==="center"?f/2+p:f+2+p:0,G=0,Y=r.length;G<Y;++G){for(M=r[G],V=this.labelTextColors[G],e.fillStyle=V,oe(M.before,A),F=M.lines,u&&F.length&&(this._drawColorBox(e,t,G,w,i),_=Math.max(y.lineHeight,d)),H=0,D=F.length;H<D;++H)A(F[H]),_=y.lineHeight;oe(M.after,A)}x=0,_=y.lineHeight,oe(this.afterBody,A),t.y-=o}drawFooter(t,e,i){const r=this.footer,o=r.length;let l,u;if(o){const d=vl(i.rtl,this.x,this.width);for(t.x=gf(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=d.textAlign(i.footerAlign),e.textBaseline="middle",l=Sn(i.footerFont),e.fillStyle=i.footerColor,e.font=l.string,u=0;u<o;++u)e.fillText(r[u],d.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+i.footerSpacing}}drawBackground(t,e,i,r){const{xAlign:o,yAlign:l}=this,{x:u,y:d}=t,{width:f,height:p}=i,{topLeft:y,topRight:_,bottomLeft:x,bottomRight:w}=Iu(r.cornerRadius);e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.beginPath(),e.moveTo(u+y,d),l==="top"&&this.drawCaret(t,e,i,r),e.lineTo(u+f-_,d),e.quadraticCurveTo(u+f,d,u+f,d+_),l==="center"&&o==="right"&&this.drawCaret(t,e,i,r),e.lineTo(u+f,d+p-w),e.quadraticCurveTo(u+f,d+p,u+f-w,d+p),l==="bottom"&&this.drawCaret(t,e,i,r),e.lineTo(u+x,d+p),e.quadraticCurveTo(u,d+p,u,d+p-x),l==="center"&&o==="left"&&this.drawCaret(t,e,i,r),e.lineTo(u,d+y),e.quadraticCurveTo(u,d,u+y,d),e.closePath(),e.fill(),r.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,r=i&&i.x,o=i&&i.y;if(r||o){const l=gu[t.position].call(this,this._active,this._eventPosition);if(!l)return;const u=this._size=c1(this,t),d=Object.assign({},l,this._size),f=u1(e,t,d),p=h1(t,d,f,e);(r._to!==p.x||o._to!==p.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=u.width,this.height=u.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const r={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const l=Ii(e.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&u&&(t.save(),t.globalAlpha=i,this.drawBackground(o,t,r,e),WR(t,e.textDirection),o.y+=l.top,this.drawTitle(o,t,e),this.drawBody(o,t,e),this.drawFooter(o,t,e),YR(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,r=t.map(({datasetIndex:u,index:d})=>{const f=this.chart.getDatasetMeta(u);if(!f)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:f.data[d],index:d}}),o=!rg(i,r),l=this._positionChanged(r,e);(o||l)&&(this._active=r,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,o=this._active||[],l=this._getActiveElements(t,o,e,i),u=this._positionChanged(l,t),d=e||!rg(l,o)||u;return d&&(this._active=l,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),d}_getActiveElements(t,e,i,r){const o=this.options;if(t.type==="mouseout")return[];if(!r)return e.filter(u=>this.chart.data.datasets[u.datasetIndex]&&this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index)!==void 0);const l=this.chart.getElementsAtEventForMode(t,o.mode,o,i);return o.reverse&&l.reverse(),l}_positionChanged(t,e){const{caretX:i,caretY:r,options:o}=this,l=gu[o.position].call(this,t,e);return l!==!1&&(i!==l.x||r!==l.y)}}var J7={id:"tooltip",_element:g1,positioners:gu,afterInit(n,t,e){e&&(n.tooltip=new g1({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:yD},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const Z7=(n,t,e,i)=>(typeof t=="string"?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function tF(n,t,e,i){const r=n.indexOf(t);if(r===-1)return Z7(n,t,e,i);const o=n.lastIndexOf(t);return r!==o?e:r}const eF=(n,t)=>n===null?null:Si(Math.round(n),0,t);function p1(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class nF extends $l{static id="category";static defaults={ticks:{callback:p1}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:r,label:o}of e)i[r]===o&&i.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(ge(t))return null;const i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:tF(i,t,$t(e,t),this._addedLabels),eF(e,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),e||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,r=[];let o=this.getLabels();o=t===0&&e===o.length-1?o:o.slice(t,e+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let l=t;l<=e;l++)r.push({value:l});return r}getLabelForValue(t){return p1.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function iF(n,t){const e=[],{bounds:r,step:o,min:l,max:u,precision:d,count:f,maxTicks:p,maxDigits:y,includeBounds:_}=n,x=o||1,w=p-1,{min:A,max:S}=t,M=!ge(l),V=!ge(u),F=!ge(f),G=(S-A)/(y+1);let H=gw((S-A)/w/x)*x,Y,D,I,N;if(H<1e-14&&!M&&!V)return[{value:A},{value:S}];N=Math.ceil(S/H)-Math.floor(A/H),N>w&&(H=gw(N*H/w/x)*x),ge(d)||(Y=Math.pow(10,d),H=Math.ceil(H*Y)/Y),r==="ticks"?(D=Math.floor(A/H)*H,I=Math.ceil(S/H)*H):(D=A,I=S),M&&V&&o&&EU((u-l)/o,H/1e3)?(N=Math.round(Math.min((u-l)/H,p)),H=(u-l)/N,D=l,I=u):F?(D=M?l:D,I=V?u:I,N=f-1,H=(I-D)/N):(N=(I-D)/H,wu(N,Math.round(N),H/1e3)?N=Math.round(N):N=Math.ceil(N));const z=Math.max(pw(H),pw(D));Y=Math.pow(10,ge(d)?z:d),D=Math.round(D*Y)/Y,I=Math.round(I*Y)/Y;let O=0;for(M&&(_&&D!==l?(e.push({value:l}),D<l&&O++,wu(Math.round((D+O*H)*Y)/Y,l,m1(l,G,n))&&O++):D<l&&O++);O<N;++O){const L=Math.round((D+O*H)*Y)/Y;if(V&&L>u)break;e.push({value:L})}return V&&_&&I!==u?e.length&&wu(e[e.length-1].value,u,m1(u,G,n))?e[e.length-1].value=u:e.push({value:u}):(!V||I===u)&&e.push({value:I}),e}function m1(n,t,{horizontal:e,minRotation:i}){const r=so(i),o=(e?Math.sin(r):Math.cos(r))||.001,l=.75*t*(""+n).length;return Math.min(t/o,l)}class sF extends $l{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return ge(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:r,max:o}=this;const l=d=>r=e?r:d,u=d=>o=i?o:d;if(t){const d=kl(r),f=kl(o);d<0&&f<0?u(0):d>0&&f>0&&l(0)}if(r===o){let d=o===0?1:Math.abs(o*.05);u(o+d),t||l(r-d)}this.min=r,this.max=o}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:i}=t,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),e=e||11),e&&(r=Math.min(e,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},o=this._range||this,l=iF(r,o);return t.bounds==="ticks"&&TU(l,this,"value"),t.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const r=(i-e)/Math.max(t.length-1,1)/2;e-=r,i+=r}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return VR(t,this.chart.options.locale,this.options.ticks.format)}}class rF extends sF{static id="linear";static defaults={ticks:{callback:BR.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=An(t)?t:0,this.max=An(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=so(this.options.ticks.minRotation),r=(t?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,o.lineHeight/r))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const Yg={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},qn=Object.keys(Yg);function y1(n,t){return n-t}function b1(n,t){if(ge(t))return null;const e=n._adapter,{parser:i,round:r,isoWeekday:o}=n._parseOpts;let l=t;return typeof i=="function"&&(l=i(l)),An(l)||(l=typeof i=="string"?e.parse(l,i):e.parse(l)),l===null?null:(r&&(l=r==="week"&&(Qu(o)||o===!0)?e.startOf(l,"isoWeek",o):e.startOf(l,r)),+l)}function _1(n,t,e,i){const r=qn.length;for(let o=qn.indexOf(n);o<r-1;++o){const l=Yg[qn[o]],u=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((e-t)/(u*l.size))<=i)return qn[o]}return qn[r-1]}function aF(n,t,e,i,r){for(let o=qn.length-1;o>=qn.indexOf(e);o--){const l=qn[o];if(Yg[l].common&&n._adapter.diff(r,i,l)>=t-1)return l}return qn[e?qn.indexOf(e):0]}function oF(n){for(let t=qn.indexOf(n)+1,e=qn.length;t<e;++t)if(Yg[qn[t]].common)return qn[t]}function v1(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:i,hi:r}=s_(e,t),o=e[i]>=t?e[i]:e[r];n[o]=!0}}function lF(n,t,e,i){const r=n._adapter,o=+r.startOf(t[0].value,i),l=t[t.length-1].value;let u,d;for(u=o;u<=l;u=+r.add(u,1,i))d=e[u],d>=0&&(t[d].major=!0);return t}function x1(n,t,e){const i=[],r={},o=t.length;let l,u;for(l=0;l<o;++l)u=t[l],r[u]=l,i.push({value:u,major:!1});return o===0||!e?i:lF(n,i,r,e)}class E1 extends $l{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),r=this._adapter=new Jj._date(t.adapters.date);r.init(e),Su(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:b1(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:r,max:o,minDefined:l,maxDefined:u}=this.getUserBounds();function d(f){!l&&!isNaN(f.min)&&(r=Math.min(r,f.min)),!u&&!isNaN(f.max)&&(o=Math.max(o,f.max))}(!l||!u)&&(d(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&d(this.getMinMax(!1))),r=An(r)&&!isNaN(r)?r:+e.startOf(Date.now(),i),o=An(o)&&!isNaN(o)?o:+e.endOf(Date.now(),i)+1,this.min=Math.min(r,o-1),this.max=Math.max(r+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const o=this.min,l=this.max,u=RU(r,o,l);return this._unit=e.unit||(i.autoSkip?_1(e.minUnit,this.min,this.max,this._getLabelCapacity(o)):aF(this,u.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:oF(this._unit),this.initOffsets(r),t.reverse&&u.reverse(),x1(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,i=0,r,o;this.options.offset&&t.length&&(r=this.getDecimalForValue(t[0]),t.length===1?e=1-r:e=(this.getDecimalForValue(t[1])-r)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?i=o:i=(o-this.getDecimalForValue(t[t.length-2]))/2);const l=t.length<3?.5:.25;e=Si(e,0,l),i=Si(i,0,l),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,r=this.options,o=r.time,l=o.unit||_1(o.minUnit,e,i,this._getLabelCapacity(e)),u=$t(r.ticks.stepSize,1),d=l==="week"?o.isoWeekday:!1,f=Qu(d)||d===!0,p={};let y=e,_,x;if(f&&(y=+t.startOf(y,"isoWeek",d)),y=+t.startOf(y,f?"day":l),t.diff(i,e,l)>1e5*u)throw new Error(e+" and "+i+" are too far apart with stepSize of "+u+" "+l);const w=r.ticks.source==="data"&&this.getDataTimestamps();for(_=y,x=0;_<i;_=+t.add(_,u,l),x++)v1(p,_,w);return(_===i||r.bounds==="ticks"||x===1)&&v1(p,_,w),Object.keys(p).sort(y1).map(A=>+A)}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const r=this.options.time.displayFormats,o=this._unit,l=e||r[o];return this._adapter.format(t,l)}_tickFormatFunction(t,e,i,r){const o=this.options,l=o.ticks.callback;if(l)return ye(l,[t,e,i],this);const u=o.time.displayFormats,d=this._unit,f=this._majorUnit,p=d&&u[d],y=f&&u[f],_=i[e],x=f&&y&&_&&_.major;return this._adapter.format(t,r||(x?y:p))}generateTickLabels(t){let e,i,r;for(e=0,i=t.length;e<i;++e)r=t[e],r.label=this._tickFormatFunction(r.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,r=so(this.isHorizontal()?e.maxRotation:e.minRotation),o=Math.cos(r),l=Math.sin(r),u=this._resolveTickFontOptions(0).size;return{w:i*o+u*l,h:i*l+u*o}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,r=i[e.unit]||i.millisecond,o=this._tickFormatFunction(t,0,x1(this,[t],this._majorUnit),r),l=this._getLabelSize(o),u=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return u>0?u:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,i=r.length;e<i;++e)t=t.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const r=this.getLabels();for(e=0,i=r.length;e<i;++e)t.push(b1(this,r[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return NU(t.sort(y1))}}function pf(n,t,e){let i=0,r=n.length-1,o,l,u,d;e?(t>=n[i].pos&&t<=n[r].pos&&({lo:i,hi:r}=ro(n,"pos",t)),{pos:o,time:u}=n[i],{pos:l,time:d}=n[r]):(t>=n[i].time&&t<=n[r].time&&({lo:i,hi:r}=ro(n,"time",t)),{time:o,pos:u}=n[i],{time:l,pos:d}=n[r]);const f=l-o;return f?u+(d-u)*(t-o)/f:u}class DF extends E1{static id="timeseries";static defaults=E1.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=pf(e,this.min),this._tableRange=pf(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,r=[],o=[];let l,u,d,f,p;for(l=0,u=t.length;l<u;++l)f=t[l],f>=e&&f<=i&&r.push(f);if(r.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(l=0,u=r.length;l<u;++l)p=r[l+1],d=r[l-1],f=r[l],Math.round((p+d)/2)!==f&&o.push({time:f,pos:l/(u-1)});return o}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((r,o)=>r-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(pf(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return pf(this._table,i*this._tableRange+this._minPos,!0)}}const bD="label";function T1(n,t){typeof n=="function"?n(t):n&&(n.current=t)}function cF(n,t){const e=n.options;e&&t&&Object.assign(e,t)}function _D(n,t){n.labels=t}function vD(n,t,e=bD){const i=[];n.datasets=t.map(r=>{const o=n.datasets.find(l=>l[e]===r[e]);return!o||!r.data||i.includes(o)?{...r}:(i.push(o),Object.assign(o,r),o)})}function uF(n,t=bD){const e={labels:[],datasets:[]};return _D(e,n.labels),vD(e,n.datasets,t),e}function hF(n,t){const{height:e=150,width:i=300,redraw:r=!1,datasetIdKey:o,type:l,data:u,options:d,plugins:f=[],fallbackContent:p,updateMode:y,..._}=n,x=$.useRef(null),w=$.useRef(null),A=()=>{x.current&&(w.current=new Gg(x.current,{type:l,data:uF(u,o),options:d&&{...d},plugins:f}),T1(t,w.current))},S=()=>{T1(t,null),w.current&&(w.current.destroy(),w.current=null)};return $.useEffect(()=>{!r&&w.current&&d&&cF(w.current,d)},[r,d]),$.useEffect(()=>{!r&&w.current&&_D(w.current.config.data,u.labels)},[r,u.labels]),$.useEffect(()=>{!r&&w.current&&u.datasets&&vD(w.current.config.data,u.datasets,o)},[r,u.datasets]),$.useEffect(()=>{w.current&&(r?(S(),setTimeout(A)):w.current.update(y))},[r,d,u.labels,u.datasets,y]),$.useEffect(()=>{w.current&&(S(),setTimeout(A))},[l]),$.useEffect(()=>(A(),()=>S()),[]),C.jsx("canvas",{ref:x,role:"img",height:e,width:i,..._,children:p})}const dF=$.forwardRef(hF);function fF(n,t){return Gg.register(t),$.forwardRef((e,i)=>C.jsx(dF,{...e,ref:i,type:n}))}const gF=fF("line",Xj);Gg.register(nF,rF,m7,$g,q7,J7,F7,z7);const pF=({entries:n,tracker:t,onDateClick:e})=>{const{theme:i,themeMode:r,isAmoled:o}=Yi(),{chartData:l,sortedDates:u}=$.useMemo(()=>{if(!n||n.length===0)return{chartData:{labels:[],datasets:[]},sortedDates:[]};const y={};n.forEach(A=>{const S=Ci(A.date);y[S]||(y[S]=[]),y[S].push(Number(A.value))});const _=Object.keys(y).sort((A,S)=>new Date(A)-new Date(S)),x=t.aggregation||"average",w=_.map(A=>BB(y[A],x));return{chartData:{labels:_.map(A=>VB(A)),datasets:[{label:t.name,data:w,borderColor:i.chartLine,backgroundColor:i.chartFill,tension:.3,fill:!0,pointBackgroundColor:i.chartPoint,pointRadius:4,pointHoverRadius:6}]},sortedDates:_}},[n,t,i]),d=o?"#27272a":r==="dark"?"#334155":"#E4E4E7",f=o||r==="dark"?"#A1A1AA":"#71717A",p={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{callbacks:{label:y=>`${y.raw} ${t.unit||""}`}}},scales:{y:{beginAtZero:!0,grid:{color:d},ticks:{color:f}},x:{grid:{display:!1},ticks:{color:f}}},onClick:(y,_)=>{if(_.length>0&&e){const x=_[0].index,w=u[x];w&&e(w)}}};return n.length===0?C.jsx("div",{className:"h-full flex items-center justify-center text-zinc-400",children:"No data yet"}):C.jsx("div",{className:"h-64 w-full",children:C.jsx(gF,{data:l,options:p})})},mF=({entries:n,tracker:t,onDateClick:e})=>{const{theme:i,isAmoled:r}=Yi(),[o,l]=$.useState(new Date),{daysInMonth:u,startDay:d}=$.useMemo(()=>wR(o.getFullYear(),o.getMonth()),[o]),f=_=>{const x=new Date(o);x.setMonth(x.getMonth()+_),l(x)},p=$.useMemo(()=>{const _={};n.forEach(A=>{const S=Ci(A.date);_[S]||(_[S]=[]),_[S].push(A)});const x=Object.keys(_).sort(),w={};return x.forEach((A,S)=>{const V=_[A].map(H=>H.value);let F=0;t.aggregation==="sum"?F=V.reduce((H,Y)=>H+Y,0):F=V.reduce((H,Y)=>H+Y,0)/V.length;let G=null;if(t.goalDirection==="target"&&t.targetValue){const H=Math.abs(F-t.targetValue),Y=t.tolerance||0;if(H<=Y)G=!0;else{const D=x[S-1];if(D){const I=_[D],N=t.aggregation==="sum"?I.reduce((O,L)=>O+L.value,0):I.reduce((O,L)=>O+L.value,0)/I.length,z=Math.abs(N-t.targetValue);H<z?G=!0:G=!1}else G=!1}}else if(t.goalDirection!=="none"){const H=x[S-1];if(H){const Y=_[H],D=t.aggregation==="sum"?Y.reduce((I,N)=>I+N.value,0):Y.reduce((I,N)=>I+N.value,0)/Y.length;t.goalDirection==="increase"?G=F>=D:t.goalDirection==="decrease"&&(G=F<=D)}}w[A]={value:F,isGood:G}}),w},[n,t]),y=[];for(let _=0;_<d;_++)y.push(C.jsx("div",{className:`h-20 md:h-24 rounded-xl ${r?"bg-zinc-900/30":"bg-zinc-50/50 dark:bg-zinc-900/30"}`},`empty-${_}`));for(let _=1;_<=u;_++){const x=new Date(o.getFullYear(),o.getMonth(),_),w=Ci(x),A=p[w],S=Ci(new Date)===w;let M=`${i.secondary} ${i.border}`,V="text-zinc-500";A?A.isGood===!0?(M=`border-emerald-200 dark:border-emerald-800 ${r?"bg-emerald-900/40":"bg-emerald-50 dark:bg-emerald-900/20"}`,V="text-emerald-700 dark:text-emerald-400"):A.isGood===!1&&(M=`border-red-200 dark:border-red-800 ${r?"bg-red-900/40":"bg-red-50 dark:bg-red-900/20"}`,V="text-red-700 dark:text-red-400"):M=r?"border-zinc-800 bg-zinc-900/50 hover:bg-zinc-900":"border-zinc-200 dark:border-zinc-700 bg-white dark:bg-zinc-800 hover:bg-zinc-50 dark:hover:bg-zinc-700/50",y.push(C.jsxs("div",{onClick:()=>e&&e(w),className:`
                    h-20 md:h-24 border rounded-xl p-1 md:p-2 cursor-pointer relative flex flex-col justify-between group 
                    transition-all duration-300 hover:scale-[1.02] hover:shadow-md
                    ${M}
                    ${S?`ring-2 ${i.ring} ring-offset-2 dark:ring-offset-zinc-800`:""}
                `,children:[C.jsx("span",{className:`text-xs md:text-sm font-medium ${A?V:"text-zinc-400"}`,children:_}),A?C.jsxs("div",{className:"text-right",children:[C.jsx("span",{className:`block text-sm md:text-lg font-bold leading-tight ${r||V.includes("zinc")?"dark:text-white":V}`,children:t.type==="boolean"?A.value?"Yes":"No":A.value.toFixed(t.type==="numeric"?1:0)}),C.jsx("span",{className:"text-[9px] md:text-[10px] text-zinc-500 uppercase tracking-wider",children:t.unit})]}):C.jsx("div",{className:"opacity-0 group-hover:opacity-100 absolute inset-0 flex items-center justify-center text-zinc-300 dark:text-zinc-600 transition-opacity",children:C.jsx(Uu,{className:"w-6 h-6"})})]},_))}return C.jsxs("div",{className:"animate-in fade-in duration-500",children:[C.jsxs("div",{className:"flex items-center justify-between mb-4",children:[C.jsx("h3",{className:"text-lg font-bold dark:text-white",children:o.toLocaleDateString("en-US",{month:"long",year:"numeric"})}),C.jsxs("div",{className:"flex space-x-2",children:[C.jsx("button",{onClick:()=>f(-1),className:"p-2 hover:bg-zinc-100 dark:hover:bg-zinc-700 rounded-lg text-zinc-600 dark:text-zinc-400",children:C.jsx(oI,{className:"w-5 h-5"})}),C.jsx("button",{onClick:()=>f(1),className:"p-2 hover:bg-zinc-100 dark:hover:bg-zinc-700 rounded-lg text-zinc-600 dark:text-zinc-400",children:C.jsx(Ib,{className:"w-5 h-5"})})]})]}),C.jsxs("div",{className:"grid grid-cols-7 gap-2",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(_=>C.jsx("div",{className:"text-center text-xs font-semibold text-zinc-400 uppercase tracking-wide py-2",children:_},_)),y]})]})},yF=({entries:n,tracker:t})=>{const{isAmoled:e}=Yi(),i=n.length,r=n.length>0?n[0]:null,{streak:o}=$.useMemo(()=>{const f=n.map(p=>Ci(p.date));return AR(f,t.enableStreak)},[n,t.enableStreak]);let l=null;if(t.goalDirection==="target"&&t.targetValue&&r){const f=Math.abs(r.value-t.targetValue);l=f===0?"Target Hit":`${f.toFixed(1)} off`}const u=e?"p-4 rounded-xl border border-zinc-800 bg-black":"p-4 rounded-xl shadow-sm border border-zinc-100 dark:border-zinc-700 bg-white dark:bg-zinc-800",d=({label:f,value:p,subtext:y,icon:_,colorClass:x})=>C.jsxs("div",{className:u,children:[C.jsxs("p",{className:"text-sm text-zinc-500 mb-1 flex items-center gap-1 font-medium",children:[_&&C.jsx(_,{className:`w-4 h-4 ${x}`}),f]}),C.jsx("p",{className:"text-2xl font-bold dark:text-white truncate",children:p}),y&&C.jsx("p",{className:"text-xs text-zinc-500 mt-1",children:y})]});return C.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 animate-in slide-in-from-bottom-2 duration-500",children:[C.jsx(d,{label:"Total Days",value:i,icon:Cb,colorClass:"text-blue-500"}),C.jsx(d,{label:"Latest",value:r?r.value:"-",subtext:r&&t.unit?t.unit:null}),C.jsx(d,{label:"Goal",value:t.goalDirection==="target"?l||t.targetValue:t.goalDirection==="none"?"No Goal":t.goalDirection,subtext:t.goalDirection==="target"?`Target: ${t.targetValue}`:"Direction",icon:cV,colorClass:"text-green-500"}),C.jsx(d,{label:"Streak",value:t.enableStreak?`${o} Day${o===1?"":"s"}`:"Disabled",icon:lI,colorClass:"text-amber-500"})]})},f_=({isOpen:n,onClose:t,title:e,children:i})=>{const{isAmoled:r,theme:o}=Yi();if(!n)return null;const l=r?"bg-black/90":"bg-zinc-900/60 backdrop-blur-sm",u=r?"bg-black border border-zinc-800":"bg-white dark:bg-zinc-800 shadow-2xl border border-transparent dark:border-zinc-700",d=r?"border-zinc-800":"border-zinc-200 dark:border-zinc-700",f=r?{boxShadow:`0 0 50px -10px ${o.chartLine}40`}:{};return C.jsx("div",{className:`fixed inset-0 z-50 flex items-center justify-center p-4 ${l}`,onClick:t,children:C.jsxs("div",{className:`
            w-full max-w-lg overflow-hidden flex flex-col max-h-[90vh] rounded-2xl
            animate-in fade-in zoom-in-95 duration-200
            ${u}
        `,style:f,onClick:p=>p.stopPropagation(),children:[C.jsxs("div",{className:`p-6 flex justify-between items-center border-b ${d}`,children:[C.jsx("h2",{className:"text-xl font-bold dark:text-white",children:e}),C.jsx("button",{onClick:t,className:"text-zinc-500 hover:text-zinc-800 dark:hover:text-white transition-colors",children:C.jsx(Db,{className:"w-5 h-5"})})]}),C.jsx("div",{className:"p-6 space-y-6 overflow-y-auto custom-scrollbar",children:i})]})})},bF=({value:n,onChange:t})=>{const{theme:e,isAmoled:i}=Yi(),[r,o]=$.useState(()=>n?new Date(n):new Date);$.useEffect(()=>{n&&o(new Date(n))},[n]);const{daysInMonth:l,startDay:u}=$.useMemo(()=>wR(r.getFullYear(),r.getMonth()),[r]),d=(p,y)=>{y.preventDefault();const _=new Date(r);_.setMonth(_.getMonth()+p),o(_)},f=[];for(let p=0;p<u;p++)f.push(C.jsx("div",{className:"h-8 md:h-9"},`empty-${p}`));for(let p=1;p<=l;p++){const y=new Date(r.getFullYear(),r.getMonth(),p),_=Ci(y),x=_===n;f.push(C.jsx("button",{onClick:w=>{w.preventDefault(),t(_)},className:`
                    h-8 md:h-9 w-full rounded-lg text-sm font-medium transition-all active:scale-95 
                    ${x?`${e.primary} shadow-md text-white`:"text-zinc-600 dark:text-zinc-400 hover:bg-zinc-100 dark:hover:bg-zinc-700"}
                `,children:p},p))}return C.jsxs("div",{className:`border rounded-xl p-4 transition-colors ${i?"border-zinc-800 bg-zinc-900":"border-zinc-200 dark:border-zinc-700 bg-zinc-50 dark:bg-zinc-900/50"}`,children:[C.jsxs("div",{className:"flex items-center justify-between mb-4",children:[C.jsx("span",{className:"font-bold text-zinc-800 dark:text-white",children:r.toLocaleDateString("en-US",{month:"long",year:"numeric"})}),C.jsxs("div",{className:"flex space-x-1",children:[C.jsx("button",{onClick:p=>d(-1,p),className:"p-1.5 hover:bg-zinc-200 dark:hover:bg-zinc-700 rounded-lg text-zinc-500",children:C.jsx(oI,{className:"w-4 h-4"})}),C.jsx("button",{onClick:p=>d(1,p),className:"p-1.5 hover:bg-zinc-200 dark:hover:bg-zinc-700 rounded-lg text-zinc-500",children:C.jsx(Ib,{className:"w-4 h-4"})})]})]}),C.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[["Su","Mo","Tu","We","Th","Fr","Sa"].map(p=>C.jsx("div",{className:"text-center text-xs font-semibold text-zinc-400 mb-1",children:p},p)),f]})]})},_F=({isOpen:n,onClose:t,tracker:e,initialDate:i})=>{const{user:r}=lr(),{entries:o}=IR(e?.id),{theme:l,isAmoled:u,themeMode:d}=Yi(),[f,p]=$.useState(i||Ci(new Date)),[y,_]=$.useState(null);$.useEffect(()=>{n&&(p(i||Ci(new Date)),_(null))},[n,i]);const x=$.useMemo(()=>o.filter(V=>Ci(V.date)===f).sort((V,F)=>F.timestamp-V.timestamp),[o,f]),w=async()=>{const V=si(ke,"artifacts","default-app-id","users",r.uid,"trackers",e.id);await Yf(V,{updatedAt:io()})},A=async V=>{const F={value:V.value,note:V.note,date:f};try{V.id&&V.id!=="new"?await Yf(si(ke,"artifacts","default-app-id","users",r.uid,"trackers",e.id,"entries",V.id),F):await nI(po(ke,"artifacts","default-app-id","users",r.uid,"trackers",e.id,"entries"),{...F,timestamp:io()}),await w(),_(null)}catch(G){console.error(G),alert("Error saving entry")}},S=async V=>{V&&V!=="new"&&(await eI(si(ke,"artifacts","default-app-id","users",r.uid,"trackers",e.id,"entries",V)),await w()),_(null)};if(!n||!e)return null;const M=`
        w-full py-3 rounded-xl font-medium shadow-lg text-white 
        transition-transform hover:scale-[1.01] active:scale-[0.98] 
        flex items-center justify-center gap-2 
        ${l.primary}
    `;return C.jsxs(f_,{isOpen:n,onClose:t,title:`Entries for ${e.name}`,isAmoled:u,children:[C.jsx("div",{className:"mb-6",style:{colorScheme:u||d==="dark"?"dark":"light"},children:C.jsx(bF,{value:f,onChange:p,theme:l,isAmoled:u,className:u?"bg-zinc-900 border-zinc-800 text-white":void 0})}),C.jsxs("div",{className:"space-y-4",children:[x.length===0&&y!=="new"&&C.jsxs("div",{className:"text-center py-8",children:[C.jsx("div",{className:`inline-flex p-4 rounded-full mb-4 ${u?"bg-zinc-900":"bg-zinc-100 dark:bg-zinc-800"}`,children:C.jsx(OL,{className:"w-8 h-8 text-zinc-400"})}),C.jsx("p",{className:"text-zinc-500 mb-6",children:"No data logged for this day."}),C.jsxs("button",{onClick:()=>_("new"),className:M,children:[C.jsx(Uu,{className:"w-5 h-5"})," Log Entry"]})]}),y==="new"&&C.jsx(S1,{tracker:e,onSave:A,onCancel:()=>_(null),theme:l,isAmoled:u}),x.map(V=>y===V.id?C.jsx(S1,{entry:V,tracker:e,onSave:A,onDelete:()=>S(V.id),onCancel:()=>_(null),theme:l,isAmoled:u},V.id):C.jsxs("div",{onClick:()=>_(V.id),className:`
                                p-4 rounded-xl border flex justify-between items-center cursor-pointer transition-all group
                                ${u?"border-zinc-800 bg-black hover:bg-zinc-900":"border-zinc-200 dark:border-zinc-700 bg-white dark:bg-zinc-800 hover:border-zinc-300 dark:hover:border-zinc-600 shadow-sm hover:shadow-md"}
                            `,children:[C.jsxs("div",{className:"flex items-center gap-3 overflow-hidden mr-4",children:[V.note&&C.jsx(hI,{className:"w-4 h-4 text-zinc-400 shrink-0"}),C.jsx("span",{className:`truncate text-sm ${V.note?"text-zinc-700 dark:text-zinc-300":"text-zinc-400 italic"}`,children:V.note||"No note"})]}),C.jsxs("div",{className:`font-mono font-bold text-lg ${l.text}`,children:[e.type==="boolean"?V.value?"Yes":"No":V.value,e.type==="numeric"&&C.jsx("span",{className:"text-xs ml-1 text-zinc-400 font-normal",children:e.unit})]})]},V.id)),x.length>0&&y!=="new"&&C.jsxs("button",{onClick:()=>_("new"),className:M,children:[C.jsx(Uu,{className:"w-5 h-5"})," Add Another Entry"]})]})]})},S1=({entry:n={},tracker:t,onSave:e,onDelete:i,onCancel:r,theme:o,isAmoled:l})=>{const[u,d]=$.useState(n.value!==void 0?String(n.value):""),[f,p]=$.useState(n.note||""),y=()=>{if(!u)return;let S;t.type==="numeric"?S=parseFloat(u):t.type==="boolean"?S=u==="true":S=parseInt(u),e({id:n.id||"new",value:S,note:f})},w=`w-full rounded-xl border focus:outline-none focus:ring-2 dark:text-white transition-all ${l?"bg-zinc-900 border-zinc-800 placeholder-zinc-600":"bg-zinc-50 dark:bg-zinc-900 border-zinc-300 dark:border-zinc-700 placeholder-zinc-400"} ${o.ring}`,A=S=>S?u==="true"?"bg-green-600 text-white border-green-600 shadow-md":"bg-red-600 text-white border-red-600 shadow-md":l?"bg-zinc-900 border-zinc-800 text-zinc-400 hover:bg-zinc-800":"border-zinc-300 dark:border-zinc-700 bg-white dark:bg-zinc-800 text-zinc-600 dark:text-zinc-300 hover:bg-zinc-50 dark:hover:bg-zinc-700";return C.jsx("div",{className:`
            p-5 rounded-xl border animate-in fade-in zoom-in-95 duration-200 shadow-xl
            ${l?"bg-black border-zinc-800 shadow-zinc-900/50":"bg-white dark:bg-zinc-800 border-zinc-200 dark:border-zinc-700 shadow-zinc-200/50 dark:shadow-black/50"}
        `,children:C.jsxs("div",{className:"space-y-4",children:[C.jsxs("div",{children:[C.jsx("label",{className:"text-xs font-bold text-zinc-500 uppercase mb-1.5 block",children:"Value"}),t.type==="numeric"?C.jsxs("div",{className:"relative",children:[C.jsx("input",{type:"number",value:u,onChange:S=>d(S.target.value),className:`${w} px-4 py-3 text-lg font-mono font-medium [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none`,autoFocus:!0,placeholder:"0"}),C.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-sm font-medium text-zinc-400 pointer-events-none",children:t.unit})]}):t.type==="boolean"?C.jsxs("div",{className:"flex gap-3",children:[C.jsx("button",{onClick:()=>d("true"),className:`flex-1 py-3 font-medium rounded-xl border transition-all active:scale-95 ${A(u==="true")}`,children:"Yes"}),C.jsx("button",{onClick:()=>d("false"),className:`flex-1 py-3 font-medium rounded-xl border transition-all active:scale-95 ${A(u==="false")}`,children:"No"})]}):C.jsx("div",{className:"flex justify-between px-2 py-2",children:[1,2,3,4,5].map(S=>C.jsx("button",{onClick:()=>d(String(S)),className:`p-1.5 rounded-full transition-all active:scale-90 ${parseInt(u)>=S?"scale-110 drop-shadow-md":"opacity-30 hover:opacity-100"}`,children:C.jsx(sV,{className:`w-8 h-8 ${parseInt(u)>=S?"fill-amber-400 text-amber-400":"text-zinc-400 dark:text-zinc-600"}`})},S))})]}),C.jsxs("div",{children:[C.jsxs("label",{className:"flex items-center gap-2 text-xs font-bold text-zinc-500 uppercase mb-1.5",children:[C.jsx(hI,{className:"w-3 h-3"})," Note"]}),C.jsx("textarea",{value:f,onChange:S=>p(S.target.value),className:`${w} px-4 py-3 min-h-[80px] resize-none text-sm leading-relaxed`,placeholder:"Add a comment regarding this entry..."})]}),C.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[i&&C.jsx("button",{onClick:i,className:`p-3 text-red-500 rounded-xl transition-colors ${l?"hover:bg-zinc-900":"hover:bg-red-50 dark:hover:bg-red-900/20"}`,title:"Delete Entry",children:C.jsx(Rb,{className:"w-5 h-5"})}),C.jsx("button",{onClick:r,className:`px-5 py-3 text-zinc-500 font-medium rounded-xl transition-colors ${l?"hover:bg-zinc-900 hover:text-zinc-300":"hover:bg-zinc-100 dark:hover:bg-zinc-700 hover:text-zinc-800 dark:hover:text-zinc-200"}`,children:"Cancel"}),C.jsxs("button",{onClick:y,disabled:!u,className:`px-6 py-3 text-white font-medium rounded-xl shadow-lg disabled:opacity-50 disabled:shadow-none transition-transform active:scale-95 flex items-center ${o.primary}`,children:[C.jsx(tV,{className:"w-4 h-4 mr-2"})," Save"]})]})]})})},vF=({tracker:n,onEdit:t})=>{const{entries:e,loading:i}=IR(n?.id),{theme:r,isAmoled:o}=Yi(),[l,u]=$.useState(n?.preferredView||"graph"),[d,f]=$.useState(!1),[p,y]=$.useState(null),_=S=>{y(S),f(!0)},x=()=>{y(null),f(!0)};if(!n)return C.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-zinc-400 p-8 text-center h-full",children:[C.jsx(Ab,{className:"w-16 h-16 mb-4 opacity-20"}),C.jsx("p",{className:"mb-4",children:"Select a tracker from the list to view details."})]});const w=o?"bg-black/80 border-zinc-800":"bg-white/80 dark:bg-zinc-900/80 border-zinc-300 dark:border-zinc-800",A=o?"bg-black border border-zinc-800 shadow-xl shadow-zinc-900/20":"bg-white dark:bg-zinc-800 border-zinc-300 dark:border-zinc-700 shadow-md";return C.jsxs("div",{className:"flex flex-col h-full overflow-hidden relative",children:[C.jsxs("header",{className:`p-6 flex justify-between items-center z-10 sticky top-0 backdrop-blur-md border-b ${w}`,children:[C.jsxs("div",{className:"flex items-center space-x-3",children:[C.jsx("h2",{className:"text-2xl font-bold text-zinc-900 dark:text-white truncate max-w-[200px] sm:max-w-xs",children:n.name}),C.jsx("button",{onClick:t,className:`p-1.5 rounded-lg text-zinc-400 transition-colors ${o?"hover:bg-zinc-900 text-zinc-500":"hover:bg-zinc-200 dark:hover:bg-zinc-800 text-zinc-600"}`,children:C.jsx(uI,{className:"w-4 h-4"})}),n.goalDirection==="target"&&n.targetValue&&C.jsxs("span",{className:`hidden sm:inline-block text-xs font-medium text-zinc-600 dark:text-zinc-500 px-2 py-1 rounded-md border ${o?"bg-black border-zinc-800":"bg-zinc-100 dark:bg-zinc-800 border-zinc-300 dark:border-transparent"}`,children:["Target: ",n.targetValue," ",n.unit]})]}),C.jsx("div",{className:"flex items-center space-x-2",children:C.jsxs("div",{className:`flex rounded-lg p-1 border ${o?"bg-black border-zinc-800":"bg-zinc-100 dark:bg-zinc-800 border-transparent"}`,children:[C.jsx("button",{onClick:()=>u("graph"),className:`p-2 rounded-md transition-all ${l==="graph"?`${o?"bg-zinc-900 text-white":"bg-white dark:bg-zinc-700 shadow"} ${r.text}`:"text-zinc-500"}`,children:C.jsx(Cb,{className:"w-5 h-5"})}),C.jsx("button",{onClick:()=>u("calendar"),className:`p-2 rounded-md transition-all ${l==="calendar"?`${o?"bg-zinc-900 text-white":"bg-white dark:bg-zinc-700 shadow"} ${r.text}`:"text-zinc-500"}`,children:C.jsx(aI,{className:"w-5 h-5"})})]})})]}),C.jsxs("div",{className:"flex-1 overflow-y-auto p-4 md:p-8 space-y-6",children:[C.jsxs("button",{onClick:x,className:`w-full py-3 rounded-xl font-medium shadow-lg text-white transition-transform hover:scale-[1.005] active:scale-[0.99] flex items-center justify-center space-x-2 ${r.primary}`,children:[C.jsx(Uu,{className:"w-5 h-5"}),C.jsx("span",{children:"Add New Entry"})]}),C.jsxs("div",{className:`p-6 rounded-2xl shadow-lg border min-h-[400px] ${A}`,children:[C.jsx("div",{className:"flex justify-between items-center mb-4",children:C.jsx("h3",{className:"text-lg font-semibold dark:text-white",children:"Activity Overview"})}),i?C.jsx("div",{className:"h-80 flex items-center justify-center text-zinc-400",children:"Loading history..."}):l==="graph"?C.jsx(pF,{entries:e,tracker:n,onDateClick:_}):C.jsx(mF,{entries:e,tracker:n,onDateClick:_})]}),e.length>0&&C.jsx(yF,{entries:e,tracker:n})]}),C.jsx(_F,{isOpen:d,tracker:n,initialDate:p,onClose:()=>f(!1)})]})},mf=({value:n,onChange:t,options:e,disabled:i=!1})=>{const[r,o]=$.useState(!1),l=$.useRef(null),u=e.find(f=>f.value===n)||e[0];$.useEffect(()=>{const f=p=>{l.current&&!l.current.contains(p.target)&&o(!1)};return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[]);const d=f=>{t({target:{value:f}}),o(!1)};return C.jsxs("div",{className:`relative ${i?"opacity-50 pointer-events-none":""}`,ref:l,children:[C.jsxs("button",{type:"button",onClick:()=>o(!r),className:"w-full px-4 py-2.5 rounded-xl border border-zinc-200 dark:border-zinc-700 bg-zinc-50 dark:bg-zinc-900 flex items-center justify-between transition-all",children:[C.jsx("span",{className:"text-sm font-medium dark:text-white truncate",children:u?.label}),C.jsx(RL,{className:`w-4 h-4 text-zinc-500 transition-transform ${r?"rotate-180":""}`})]}),r&&C.jsx("div",{className:"absolute left-0 right-0 top-full mt-2 rounded-xl border border-zinc-200 dark:border-zinc-700 shadow-xl z-50 overflow-hidden max-h-60 overflow-y-auto bg-white dark:bg-zinc-800",children:C.jsx("div",{className:"p-1.5 space-y-0.5",children:e.map(f=>C.jsxs("button",{onClick:()=>d(f.value),className:`w-full text-left px-3 py-2 text-sm rounded-lg flex items-center justify-between transition-colors ${f.value===n?"bg-zinc-100 dark:bg-zinc-700 text-zinc-900 dark:text-white":"text-zinc-600 dark:text-zinc-400 hover:bg-zinc-50 dark:hover:bg-zinc-900"}`,children:[f.label,f.value===n&&C.jsx(Kf,{className:"w-3.5 h-3.5 opacity-70"})]},f.value))})})]})},w1=({isOpen:n,onClose:t,editTracker:e=null,nextOrder:i=0})=>{const{user:r}=lr(),{tags:o,updateTags:l,theme:u,isAmoled:d}=Yi(),[f,p]=$.useState(""),[y,_]=$.useState("numeric"),[x,w]=$.useState(""),[A,S]=$.useState("stars"),[M,V]=$.useState("increase"),[F,G]=$.useState(""),[H,Y]=$.useState(!1),[D,I]=$.useState("none"),[N,z]=$.useState(!1),[O,L]=$.useState("average"),[P,It]=$.useState(""),[bt,X]=$.useState([]),[ot,gt]=$.useState(!0),[Rt,Dt]=$.useState("graph"),[U,et]=$.useState(""),[lt,ut]=$.useState(!1),mt=$.useRef(null),_t=async(xt,Pe)=>{if(!(!r||!e))try{const Ze=si(ke,"artifacts","default-app-id","users",r.uid,"trackers",e.id);await Yf(Ze,{[xt]:Pe,updatedAt:io()})}catch(Ze){console.error(`Error updating field ${xt}:`,Ze)}};$.useEffect(()=>{n&&(e?(p(e.name),_(e.type),w(e.unit||""),S(e.ratingSystem||"stars"),V(e.goalDirection||"none"),G(e.targetValue||""),I(e.listDisplayValue||"none"),z(e.showTypeInList!==void 0?e.showTypeInList:!1),L(e.aggregation||"average"),It(e.tolerance||""),X(e.tags||[]),gt(e.enableStreak!==void 0?e.enableStreak:!0),Dt(e.preferredView||"graph")):(p(""),_("numeric"),w(""),S("stars"),V("increase"),G(""),I("none"),z(!1),L("average"),It(""),X([]),gt(!0),Dt("graph"),Y(!1)),ut(!1),mt.current&&clearTimeout(mt.current))},[n,e?.id]),$.useEffect(()=>()=>{mt.current&&clearTimeout(mt.current)},[]);const ct=xt=>{bt.some(Pe=>Pe.id===xt.id)?X(bt.filter(Pe=>Pe.id!==xt.id)):X([...bt,xt])},Lt=()=>{if(!U.trim())return;const xt={id:Date.now(),name:U,colorClass:SR(o).class};l([...o,xt]),X([...bt,xt]),et("")},Wt=async()=>{if(!f.trim())return;const xt={name:f,type:y,unit:y==="numeric"?x:null,ratingSystem:y==="rating"?A:null,goalDirection:M,targetValue:M==="target"&&F?parseFloat(F):null,tolerance:P?parseFloat(P):0,tags:bt,listDisplayValue:D,showTypeInList:N,aggregation:O,enableStreak:ot,preferredView:Rt,updatedAt:io()};try{if(e){const Pe={name:f,type:y,unit:y==="numeric"?x:null,ratingSystem:y==="rating"?A:null,goalDirection:M,targetValue:M==="target"&&F?parseFloat(F):null,tolerance:P?parseFloat(P):0,tags:bt,preferredView:Rt,updatedAt:io()};await Yf(si(ke,"artifacts","default-app-id","users",r.uid,"trackers",e.id),Pe)}else await nI(po(ke,"artifacts","default-app-id","users",r.uid,"trackers"),{...xt,order:0,createdAt:io()});t()}catch(Pe){console.error("Error saving tracker:",Pe)}},Je=async()=>{if(e)try{await eI(si(ke,"artifacts","default-app-id","users",r.uid,"trackers",e.id)),t()}catch(xt){console.error("Error deleting tracker",xt)}},ln=()=>{e&&(lt?(mt.current&&clearTimeout(mt.current),Je()):(ut(!0),mt.current=setTimeout(()=>{ut(!1)},3e3)))},_e=`w-full px-4 py-2 rounded-lg border focus:outline-none focus:ring-2 dark:text-white [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none ${d?"bg-zinc-900 border-zinc-800":"bg-zinc-50 dark:bg-zinc-900 border-zinc-200 dark:border-zinc-700"} ${u.ring}`,On=`
    rounded-xl font-medium transition-all duration-200 flex items-center justify-center
    border border-red-200 dark:border-red-900/30 text-red-600 dark:text-red-400
    ${d?"bg-black hover:bg-zinc-900 hover:shadow-lg hover:shadow-red-900/20":"bg-red-50 dark:bg-red-900/10 hover:bg-red-100 dark:hover:bg-red-900/20 hover:shadow-md hover:shadow-red-500/10"}
  `;return C.jsxs(f_,{isOpen:n,onClose:t,title:e?"Edit Tracker":"New Tracker",isAmoled:d,children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"Name"}),C.jsx("input",{value:f,onChange:xt=>p(xt.target.value),className:_e,placeholder:"e.g. Water Intake, Meditation"})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-2",children:"Default View"}),C.jsx("div",{className:"flex gap-4",children:[{id:"graph",label:"Graph",icon:Cb},{id:"calendar",label:"Calendar",icon:aI}].map(xt=>{const Pe=Rt===xt.id;let Ze="";return Pe?d?Ze="border-zinc-500 bg-zinc-900 text-white shadow-md shadow-zinc-900/50":Ze="border-zinc-600 bg-zinc-100 dark:bg-zinc-800 text-zinc-900 dark:text-white shadow-sm ring-1 ring-zinc-400 dark:ring-zinc-500":Ze=d?"bg-black border-zinc-800 text-zinc-500 hover:border-zinc-700 hover:text-zinc-300":"bg-white dark:bg-zinc-900/50 border-zinc-200 dark:border-zinc-700 text-zinc-500 dark:text-zinc-400 hover:border-zinc-300 dark:hover:border-zinc-600 hover:bg-zinc-50 dark:hover:bg-zinc-800",C.jsxs("button",{onClick:()=>{Dt(xt.id),_t("preferredView",xt.id)},className:`
                                flex-1 py-4 px-2 rounded-xl border flex flex-col items-center justify-center gap-2 transition-all duration-200
                                ${Ze}
                            `,children:[C.jsx(xt.icon,{className:`w-8 h-8 ${Pe?"stroke-[2px]":"stroke-[1.5px]"}`}),C.jsx("span",{className:"text-sm font-medium",children:xt.label})]},xt.id)})})]}),C.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"Type"}),C.jsx(mf,{value:y,onChange:xt=>_(xt.target.value),options:[{value:"numeric",label:"Numeric"},{value:"boolean",label:"Yes / No"},{value:"rating",label:"Rating"}],theme:u,isAmoled:d,disabled:!!e})]}),y==="numeric"&&C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"Units"}),C.jsx("input",{value:f==="Water"?"ml":x,onChange:xt=>w(xt.target.value),className:_e,placeholder:"e.g. ml, pages"})]}),y==="rating"&&C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"System"}),C.jsx(mf,{value:A,onChange:xt=>S(xt.target.value),options:[{value:"stars",label:"5 Stars"},{value:"colors",label:"Traffic Lights"}],theme:u,isAmoled:d})]})]}),C.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-2",children:"Goal Direction"}),C.jsx(mf,{value:M,onChange:xt=>V(xt.target.value),options:[{value:"increase",label:"Increase"},{value:"decrease",label:"Decrease"},{value:"target",label:"Target Value"},{value:"none",label:"None"}],theme:u,isAmoled:d})]}),M==="target"&&y!=="boolean"&&C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-2",children:"Target Value"}),C.jsx("input",{type:"number",value:F,onChange:xt=>G(xt.target.value),className:_e,placeholder:"2000"})]})]}),C.jsxs("div",{className:`border rounded-xl overflow-hidden ${d?"border-zinc-800":"border-zinc-200 dark:border-zinc-700"}`,children:[C.jsxs("button",{onClick:()=>Y(!H),className:`w-full flex justify-between items-center p-4 font-medium transition-colors ${d?"bg-zinc-900 text-zinc-300 hover:bg-zinc-800":"bg-zinc-50 dark:bg-zinc-900 text-zinc-700 dark:text-zinc-300 hover:bg-zinc-100 dark:hover:bg-zinc-800"}`,children:["Advanced Settings",C.jsx(Ib,{className:`w-4 h-4 transition-transform duration-300 ${H?"rotate-90":""}`})]}),C.jsx("div",{className:`grid transition-[grid-template-rows] duration-300 ease-in-out ${H?"grid-rows-[1fr]":"grid-rows-[0fr]"}`,children:C.jsx("div",{className:"overflow-hidden",children:C.jsxs("div",{className:`p-4 space-y-6 ${d?"bg-black":"bg-white dark:bg-zinc-800"}`,children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-2",children:"List Display Value"}),C.jsx(mf,{value:D,onChange:xt=>{I(xt.target.value),_t("listDisplayValue",xt.target.value)},options:[{value:"none",label:"None (Hidden)"},{value:"last",label:"Last Inputted Value"},{value:"average",label:"Average of All Entries"}],theme:u,isAmoled:d})]}),C.jsxs("div",{className:"flex items-center justify-between",children:[C.jsx("div",{className:"flex items-center gap-2",children:C.jsx("label",{className:"text-sm font-medium text-zinc-700 dark:text-zinc-300",children:"Show Type in List"})}),C.jsx("button",{onClick:()=>{z(!N),_t("showTypeInList",!N)},className:`w-12 h-6 rounded-full transition-colors relative ${N?u.primary.split(" ")[0]:"bg-zinc-300 dark:bg-zinc-600"}`,children:C.jsx("div",{className:`w-4 h-4 bg-white rounded-full absolute top-1 transition-transform ${N?"left-7":"left-1"}`})})]}),C.jsx("div",{className:`h-px my-2 ${d?"bg-zinc-800":"bg-zinc-100 dark:bg-zinc-700"}`}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-2",children:"Daily Aggregation"}),C.jsxs("div",{className:`flex rounded-lg p-1 ${d?"bg-zinc-900":"bg-zinc-100 dark:bg-zinc-700"}`,children:[C.jsx("button",{onClick:()=>{L("average"),_t("aggregation","average")},className:`flex-1 py-1.5 text-sm font-medium rounded-md transition-all ${O==="average"?"bg-white dark:bg-zinc-600 shadow text-zinc-900 dark:text-white":"text-zinc-500 dark:text-zinc-400"}`,children:"Average"}),C.jsx("button",{onClick:()=>{L("sum"),_t("aggregation","sum")},className:`flex-1 py-1.5 text-sm font-medium rounded-md transition-all ${O==="sum"?"bg-white dark:bg-zinc-600 shadow text-zinc-900 dark:text-white":"text-zinc-500 dark:text-zinc-400"}`,children:"Total (Sum)"})]})]}),y==="numeric"&&M==="target"&&C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"Goal Tolerance (+/-)"}),C.jsx("input",{type:"number",value:P,onChange:xt=>It(xt.target.value),className:_e,placeholder:"0"})]}),C.jsxs("div",{children:[C.jsx("div",{className:"flex justify-between items-end mb-3",children:C.jsx("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300",children:"Assign Tags"})}),C.jsxs("div",{className:"flex gap-2 mb-3",children:[C.jsx("input",{value:U,onChange:xt=>et(xt.target.value),placeholder:"Create new tag...",className:`flex-1 px-3 py-1.5 text-sm rounded-lg border dark:text-white ${d?"bg-zinc-900 border-zinc-800":"dark:bg-zinc-900 dark:border-zinc-700"}`,onKeyDown:xt=>xt.key==="Enter"&&Lt()}),C.jsx("button",{onClick:Lt,disabled:!U.trim(),className:`text-sm px-3 py-1.5 rounded-lg font-medium transition-colors dark:text-white ${d?"bg-zinc-900 hover:bg-zinc-800":"bg-zinc-100 dark:bg-zinc-700 hover:bg-zinc-200"}`,children:"Add"})]}),C.jsx("div",{className:"flex flex-wrap gap-2",children:o.map(xt=>{const Pe=bt.some(Ze=>Ze.id===xt.id);return C.jsx("button",{onClick:()=>ct(xt),className:`px-3 py-1 rounded-full text-sm border transition-all ${xt.colorClass} ${Pe?"opacity-100 font-semibold shadow-sm scale-105":"opacity-40 hover:opacity-100 grayscale hover:grayscale-0"}`,children:xt.name},xt.id)})})]}),C.jsxs("div",{className:"flex items-center justify-between",children:[C.jsx("div",{className:"flex items-center gap-2",children:C.jsx("label",{className:"text-sm font-medium text-zinc-700 dark:text-zinc-300",children:"Track Streak"})}),C.jsx("button",{onClick:()=>{gt(!ot),_t("enableStreak",!ot)},className:`w-12 h-6 rounded-full transition-colors relative ${ot?u.primary.split(" ")[0]:"bg-zinc-300 dark:bg-zinc-600"}`,children:C.jsx("div",{className:`w-4 h-4 bg-white rounded-full absolute top-1 transition-transform ${ot?"left-7":"left-1"}`})})]})]})})})]}),C.jsxs("div",{className:"flex gap-3 pt-4",children:[e&&C.jsx("button",{onClick:ln,className:`px-4 py-3 ${On} ${lt?`transform scale-105 active:scale-100 ${d?"shadow-red-900/40":"shadow-red-500/20"}`:""}`,style:{minWidth:lt?"140px":"48px"},children:lt?C.jsxs(C.Fragment,{children:[C.jsx(Kf,{className:"w-5 h-5 mr-2"}),C.jsx("span",{className:"text-sm font-medium",children:"Confirm?"})]}):C.jsx(Rb,{className:"w-5 h-5"})}),C.jsx("button",{onClick:Wt,disabled:!f.trim(),className:`flex-1 py-3 rounded-xl font-medium shadow-lg text-white transition-all active:scale-95 disabled:opacity-50 ${u.primary}`,children:e?"Save Changes":"Create Tracker"})]})]})},xF=()=>{const{user:n}=lr(),{theme:t,isAmoled:e}=Yi(),[i,r]=$.useState("idle"),[o,l]=$.useState(""),u=$.useRef(null),d=async()=>{if(n){r("exporting");try{const w={version:1,timestamp:new Date().toISOString(),exportUser:n.email,trackers:[]},A=po(ke,"artifacts","default-app-id","users",n.uid,"trackers"),M=(await h0(A)).docs.map(async H=>{const Y=H.data(),D=H.id,I=po(ke,"artifacts","default-app-id","users",n.uid,"trackers",D,"entries"),z=(await h0(I)).docs.map(O=>({id:O.id,...O.data()}));return{id:D,...Y,entries:z}});w.trackers=await Promise.all(M);const V=new Blob([JSON.stringify(w,null,2)],{type:"application/json"}),F=URL.createObjectURL(V),G=document.createElement("a");G.href=F,G.download=`trackit-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(G),G.click(),document.body.removeChild(G),r("success"),l("Export complete!"),setTimeout(()=>r("idle"),3e3)}catch(w){console.error(w),r("error"),l("Export failed. Check console.")}}},f=()=>u.current?.click(),p=async w=>{const A=w.target.files[0];if(!A)return;r("importing"),l("Reading file...");const S=new FileReader;S.onload=async M=>{try{const V=JSON.parse(M.target.result);if(!V.trackers||!Array.isArray(V.trackers))throw new Error("Invalid file format: Missing trackers array.");const F=iI(ke);let G=0;const H=450,Y=async()=>{await F.commit(),G=0};for(const D of V.trackers){const{entries:I,id:N,...z}=D,O=si(ke,"artifacts","default-app-id","users",n.uid,"trackers",N);if(F.set(O,{...z,updatedAt:io()}),G++,I&&Array.isArray(I))for(const L of I){const{id:P,...It}=L,bt=si(ke,"artifacts","default-app-id","users",n.uid,"trackers",N,"entries",P);F.set(bt,It),G++}}G>H&&console.warn("Large batch detected, commit might fail if over 500 writes."),await F.commit(),r("success"),l("Import successful! Refreshing..."),setTimeout(()=>window.location.reload(),1500)}catch(V){console.error(V),r("error"),l("Import failed. Invalid JSON?")}},S.readAsText(A),w.target.value=""},y=`p-4 rounded-xl border flex flex-col gap-4 ${e?"border-zinc-800 bg-zinc-900/30":"border-zinc-200 dark:border-zinc-700 bg-zinc-50/50 dark:bg-zinc-800/30"}`,_="flex-1 flex flex-col items-center justify-center p-4 rounded-xl border transition-all active:scale-95",x=e?"border-zinc-800 hover:bg-zinc-900":"border-zinc-200 dark:border-zinc-700 hover:bg-zinc-50 dark:hover:bg-zinc-800";return C.jsxs("div",{className:y,children:[C.jsxs("div",{className:"flex justify-between items-center",children:[C.jsx("h3",{className:"font-bold dark:text-white",children:"Data Management"}),i==="error"&&C.jsxs("span",{className:"text-xs text-red-500 flex items-center",children:[C.jsx(dV,{className:"w-3 h-3 mr-1"})," ",o]}),i==="success"&&C.jsxs("span",{className:"text-xs text-green-500 flex items-center",children:[C.jsx(PL,{className:"w-3 h-3 mr-1"})," ",o]})]}),C.jsxs("div",{className:"flex gap-4",children:[C.jsxs("button",{onClick:d,disabled:i==="exporting"||i==="importing",className:`${_} ${x} ${i==="exporting"?"opacity-50":""}`,children:[i==="exporting"?C.jsx(Bu,{className:`w-6 h-6 mb-2 animate-spin ${t.text}`}):C.jsx(LL,{className:`w-6 h-6 mb-2 ${t.text}`}),C.jsx("span",{className:"text-sm font-medium dark:text-white",children:i==="exporting"?"Exporting...":"Export Backup"})]}),C.jsxs("button",{onClick:f,disabled:i==="exporting"||i==="importing",className:`${_} ${x} ${i==="importing"?"opacity-50":""}`,children:[i==="importing"?C.jsx(Bu,{className:`w-6 h-6 mb-2 animate-spin ${t.text}`}):C.jsx(gV,{className:`w-6 h-6 mb-2 ${t.text}`}),C.jsx("span",{className:"text-sm font-medium dark:text-white",children:i==="importing"?"Importing...":"Import Backup"})]}),C.jsx("input",{type:"file",ref:u,onChange:p,accept:".json",className:"hidden"})]}),C.jsx("p",{className:"text-xs text-zinc-500 text-center",children:"Exporting creates a JSON file of all your trackers and entries. Importing will overwrite or add to existing data."})]})},EF=({isOpen:n,onClose:t})=>{const{user:e}=lr(),{themeMode:i,tags:r,theme:o,isAmoled:l,updateSettings:u,updateTags:d,setThemeMode:f}=Yi(),[p,y]=$.useState(!1),[_,x]=$.useState(e?.displayName||""),[w,A]=$.useState(!1),[S,M]=$.useState(""),[V,F]=$.useState(null),[G,H]=$.useState(""),[Y,D]=$.useState(""),[I,N]=$.useState(null),[z,O]=$.useState(!1);$.useEffect(()=>{e&&(x(e.displayName||""),N(e.photoURL||null))},[e,n]);const L=async()=>{if(!_.trim()||_.trim()===e?.displayName){x(e?.displayName||""),y(!1);return}try{await ry(ji.currentUser,{displayName:_}),await ji.currentUser.reload(),y(!1)}catch(ct){console.error(ct)}},P=ct=>{ct.key==="Enter"?(ct.preventDefault(),ct.target.blur()):ct.key==="Escape"&&(x(e?.displayName||""),y(!1))},It=async()=>{if(Y.trim()){O(!0);try{ji.currentUser&&await ry(ji.currentUser,{photoURL:Y}),u("avatar",Y),N(Y),D(""),A(!1)}catch(ct){console.error(ct)}finally{O(!1)}}},bt=async()=>{try{ji.currentUser&&await ry(ji.currentUser,{photoURL:""}),u("avatar",null),N(null),A(!1)}catch(ct){console.error(ct)}},X=()=>{if(!S.trim())return;const ct={id:Date.now(),name:S,colorClass:SR(r).class};d([...r,ct]),M("")},ot=ct=>d(r.filter(Lt=>Lt.id!==ct)),gt=ct=>{F(ct.id),H(ct.name)},Rt=()=>{G.trim()&&(d(r.map(ct=>ct.id===V?{...ct,name:G}:ct)),F(null))},Dt=ct=>{const Lt=r.find(ln=>ln.id===ct);if(!Lt)return;const Je=(Yr.findIndex(ln=>ln.class===Lt.colorClass)+1)%Yr.length;d(r.map(ln=>ln.id===ct?{...ln,colorClass:Yr[Je].class}:ln))},lt=`text-sm rounded-lg border outline-none dark:text-white transition-all ${l?"bg-zinc-900 border-zinc-800 focus:border-zinc-700 placeholder-zinc-600":"bg-white dark:bg-zinc-900 border-zinc-300 dark:border-zinc-700 placeholder-zinc-400 focus:border-zinc-400 dark:focus:border-zinc-500"} px-3 py-2 w-full`,ut=`p-5 rounded-2xl border ${l?"border-zinc-800 bg-zinc-900/20":"border-zinc-200 dark:border-zinc-700 bg-zinc-50/50 dark:bg-zinc-800/20"}`,mt=`my-6 border-t ${l?"border-zinc-800":"border-zinc-200 dark:border-zinc-700"}`,_t=`
        w-full py-3 mt-4 rounded-xl font-medium transition-all duration-200
        border border-red-200 dark:border-red-900/30 text-red-600 dark:text-red-400
        ${l?"bg-black hover:bg-zinc-900 hover:shadow-lg hover:shadow-red-900/20":"bg-white dark:bg-zinc-900 hover:bg-red-50 dark:hover:bg-red-900/10 hover:shadow-md hover:shadow-red-500/10"}
        flex items-center justify-center gap-2
    `;return C.jsxs(f_,{isOpen:n,onClose:t,title:"Settings",children:[C.jsxs("div",{className:"flex items-center gap-5 mb-8",children:[C.jsxs("div",{className:"relative group",children:[C.jsxs("button",{onClick:()=>A(!w),className:`
                            w-20 h-20 rounded-full flex items-center justify-center text-3xl shrink-0 overflow-hidden 
                            transition-all ring-4 ring-offset-2 ring-transparent
                            ${w?`ring-${o.primary.split(" ")[0]} ring-offset-zinc-50 dark:ring-offset-zinc-900`:""}
                            ${l?"bg-zinc-900 ring-offset-black":"bg-zinc-100 dark:bg-zinc-700"} 
                        `,children:[I?C.jsx("img",{src:I,alt:"Avatar",className:"w-full h-full object-cover transition-opacity group-hover:opacity-50"}):C.jsx(dI,{className:"w-10 h-10 text-zinc-400 group-hover:opacity-50 transition-opacity"}),C.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:C.jsx(wL,{className:"w-6 h-6 text-zinc-700 dark:text-white drop-shadow-md"})})]}),w&&C.jsx("div",{className:`absolute -bottom-1 left-1/2 -translate-x-1/2 w-3 h-3 rotate-45 border-t border-l ${l?"bg-zinc-900 border-zinc-800":"bg-white dark:bg-zinc-800 border-zinc-200 dark:border-zinc-700"} z-10`})]}),C.jsxs("div",{className:"flex-1 min-w-0",children:[C.jsx("div",{className:"flex items-center gap-2 mb-1",children:p?C.jsx("input",{value:_,onChange:ct=>x(ct.target.value),onBlur:L,onKeyDown:P,className:`bg-transparent text-xl font-bold outline-none border-b-2 w-full p-0 transition-colors ${l?"text-white border-zinc-700 focus:border-zinc-500":"text-zinc-900 dark:text-white border-zinc-200 dark:border-zinc-700 focus:border-zinc-400"}`,autoFocus:!0}):C.jsxs(C.Fragment,{children:[C.jsx("h3",{className:"font-bold text-xl dark:text-white truncate",title:e?.displayName,children:e?.displayName||"User"}),C.jsx("button",{onClick:()=>y(!0),className:"p-1.5 rounded-md text-zinc-400 hover:text-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-all",children:C.jsx(uI,{className:"w-4 h-4"})})]})}),C.jsx("p",{className:"text-sm text-zinc-500 truncate",children:e?.email})]})]}),w&&C.jsxs("div",{className:`mb-8 -mt-2 animate-in slide-in-from-top-4 fade-in duration-300 ${ut} shadow-lg`,children:[C.jsxs("div",{className:"flex items-center gap-2 mb-3 text-sm font-bold text-zinc-700 dark:text-zinc-200",children:[C.jsx(UL,{className:"w-4 h-4 text-zinc-400"}),"Update Profile Picture"]}),C.jsxs("div",{className:"flex gap-0 shadow-sm rounded-xl overflow-hidden",children:[C.jsx("div",{className:`pl-3 pr-2 flex items-center border-y border-l rounded-l-xl ${l?"bg-zinc-900 border-zinc-800":"bg-zinc-50 dark:bg-zinc-800 border-zinc-300 dark:border-zinc-700"}`,children:C.jsx(FL,{className:"w-4 h-4 text-zinc-400"})}),C.jsx("input",{value:Y,onChange:ct=>D(ct.target.value),placeholder:"Paste image URL here...",className:`flex-1 px-3 py-2.5 text-sm outline-none border-y dark:text-white ${l?"bg-zinc-900 border-zinc-800 placeholder-zinc-600":"bg-white dark:bg-zinc-900 border-zinc-300 dark:border-zinc-700 placeholder-zinc-400"}`,autoFocus:!0}),C.jsx("button",{onClick:It,disabled:!Y.trim()||z,className:`px-5 py-2 text-sm font-medium text-white border-y border-r rounded-r-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed ${o.primary} border-transparent`,children:z?C.jsx(Bu,{className:"w-4 h-4 animate-spin"}):"Save"})]}),C.jsxs("div",{className:"mt-3 flex justify-between items-center",children:[C.jsx("p",{className:"text-xs text-zinc-500",children:"Supports JPG, PNG, GIF URLs."}),I&&C.jsxs("button",{onClick:bt,className:"text-xs text-red-500 hover:text-red-600 dark:hover:text-red-400 font-medium flex items-center gap-1.5 px-2 py-1 rounded-md hover:bg-red-50 dark:hover:bg-red-900/10 transition-colors",children:[C.jsx(Rb,{className:"w-3 h-3"})," Remove Picture"]})]})]}),C.jsxs("div",{className:"space-y-6",children:[C.jsxs("div",{className:ut,children:[C.jsxs("div",{children:[C.jsxs("h3",{className:"font-bold mb-4 dark:text-white flex items-center gap-2",children:[C.jsx(cI,{className:"w-4 h-4 text-zinc-400"})," Theme Mode"]}),C.jsx("div",{className:`flex rounded-xl p-1.5 ${l?"bg-zinc-900":"bg-zinc-100 dark:bg-zinc-900/50 border border-zinc-200 dark:border-zinc-700"}`,children:["light","dark","amoled"].map(ct=>C.jsx("button",{onClick:()=>f(ct),className:`
                                        flex-1 py-2 text-sm font-medium rounded-lg transition-all capitalize
                                        ${i===ct?l?"bg-zinc-800 text-white shadow-md border border-zinc-700":"bg-white dark:bg-zinc-700 shadow text-zinc-900 dark:text-white":"text-zinc-500 dark:text-zinc-400 hover:text-zinc-900 dark:hover:text-zinc-200"}
                                    `,children:ct==="amoled"?"True Dark":ct},ct))})]}),C.jsx("div",{className:mt}),C.jsxs("div",{children:[C.jsxs("h3",{className:"font-bold mb-4 dark:text-white flex items-center gap-2",children:[C.jsx(QL,{className:"w-4 h-4 text-zinc-400"})," Accent Color"]}),C.jsx("div",{className:"grid grid-cols-6 gap-3",children:Object.entries(v0).map(([ct,Lt])=>{const Wt=Lt.primary.split(" ")[0],Je=o.label===Lt.label;return C.jsx("button",{onClick:()=>u("theme",ct),className:`
                                            h-10 w-10 mx-auto rounded-full ${Wt} 
                                            transition-all flex items-center justify-center shadow-sm 
                                            ${Je?"ring-2 ring-offset-2 ring-zinc-400 dark:ring-offset-zinc-800 scale-110":"hover:scale-110 hover:shadow-md"}
                                        `,title:Lt.label,children:Je&&C.jsx(Kf,{className:"w-5 h-5 text-white drop-shadow-sm"})},ct)})})]})]}),C.jsxs("div",{className:ut,children:[C.jsx("h3",{className:"font-bold mb-4 dark:text-white",children:"Manage Tags"}),C.jsxs("div",{className:"flex gap-2 mb-4",children:[C.jsx("input",{value:S,onChange:ct=>M(ct.target.value),placeholder:"New Tag Name",className:lt,onKeyDown:ct=>ct.key==="Enter"&&X()}),C.jsx("button",{onClick:X,disabled:!S.trim(),className:`px-4 py-2 text-sm rounded-lg font-medium transition-colors text-white shadow-md disabled:opacity-50 disabled:shadow-none ${o.primary}`,children:"Add"})]}),C.jsx("div",{className:"flex flex-wrap gap-2",children:r.map(ct=>V===ct.id?C.jsxs("div",{className:`flex items-center gap-1 border rounded-lg p-1 pr-2 animate-in fade-in zoom-in-95 duration-200 ${l?"border-zinc-800 bg-black":"bg-white dark:bg-zinc-800 border-zinc-200 dark:border-zinc-700 shadow-sm"}`,children:[C.jsx("input",{value:G,onChange:Lt=>H(Lt.target.value),className:"w-24 text-sm px-2 outline-none bg-transparent dark:text-white",autoFocus:!0}),C.jsx("button",{onClick:()=>Dt(ct.id),className:`p-1.5 rounded-full transition-colors ${l?"hover:bg-zinc-900":"hover:bg-zinc-100 dark:hover:bg-zinc-700"}`,children:C.jsx("div",{className:`w-3 h-3 rounded-full ${Yr.find(Lt=>Lt.class===ct.colorClass)?.dot||"bg-zinc-400"}`})}),C.jsx("button",{onClick:Rt,className:"p-1 text-green-500 hover:text-green-600",children:C.jsx(Kf,{className:"w-3.5 h-3.5"})})]},ct.id):C.jsxs("span",{className:`${ct.colorClass} pl-3 pr-2 py-1.5 rounded-full text-xs font-bold flex items-center border cursor-pointer hover:shadow-sm hover:scale-105 transition-all select-none`,onClick:()=>gt(ct),children:[ct.name,C.jsx("button",{className:"ml-2 p-0.5 hover:bg-black/10 dark:hover:bg-white/20 rounded-full transition-colors",onClick:Lt=>{Lt.stopPropagation(),ot(ct.id)},children:C.jsx(Db,{className:"w-3 h-3"})})]},ct.id))})]}),C.jsx(xF,{}),C.jsx("div",{className:`pt-4 border-t ${l?"border-zinc-800":"border-zinc-200 dark:border-zinc-700"}`,children:C.jsxs("button",{onClick:()=>{WO(ji),t()},className:_t,children:[C.jsx(GL,{className:"w-4 h-4 mr-2"})," Sign Out"]})})]})]})},TF=()=>{const{user:n}=lr(),{trackers:t,loading:e,reorderTrackers:i}=UB(),{theme:r,isAmoled:o,themeMode:l,setThemeMode:u}=Yi(),[d,f]=$.useState(null),[p,y]=$.useState(!1),[_,x]=$.useState(!1),[w,A]=$.useState(!1),[S,M]=$.useState(!1);$.useEffect(()=>{!d&&t.length>0&&f(t[0].id)},[t,d]);const V=t.find(N=>N.id===d),F=N=>{N.destination&&i(N.source.index,N.destination.index)},G=N=>{f(N),M(!1)},H=()=>{if(l==="light"){const N=localStorage.getItem("lastDarkMode")||"dark";u(N)}else localStorage.setItem("lastDarkMode",l),u("light")};if(e)return C.jsx("div",{className:`h-screen flex items-center justify-center ${o?"bg-black":"bg-zinc-50 dark:bg-zinc-900"}`,children:C.jsx("div",{className:`animate-spin rounded-full h-8 w-8 border-b-2 ${r.text}`})});const Y=o?"bg-black text-white":"bg-zinc-200 dark:bg-zinc-900 text-zinc-900 dark:text-white",D=o?"bg-black border-zinc-800":"bg-white dark:bg-zinc-800 border-zinc-300 dark:border-zinc-800",I=o?"bg-black/80 border-zinc-800":"bg-white/80 dark:bg-zinc-900/80 border-zinc-300 dark:border-zinc-800";return C.jsxs("div",{className:`flex h-screen w-full overflow-hidden relative ${Y}`,children:[S&&C.jsx("div",{className:"fixed inset-0 bg-black/50 z-20 md:hidden backdrop-blur-sm",onClick:()=>M(!1)}),C.jsxs("aside",{className:`
          fixed md:relative top-0 left-0 h-full z-30 w-80 flex flex-col border-r
          transition-transform duration-300 ease-in-out
          ${S?"translate-x-0":"-translate-x-full md:translate-x-0"}
          ${D}
      `,children:[C.jsxs("div",{className:`p-6 border-b flex items-center justify-between ${o?"border-zinc-800":"border-zinc-300 dark:border-zinc-800"}`,children:[C.jsxs("div",{className:"flex items-center space-x-3",children:[C.jsx("div",{className:`p-2 rounded-lg ${r.primary}`,children:C.jsx(Ab,{className:"w-5 h-5 text-white"})}),C.jsx("h1",{className:"text-xl font-bold",children:"TrackIt"})]}),C.jsx("button",{onClick:()=>M(!1),className:"md:hidden text-zinc-500",children:C.jsx(Db,{className:"w-6 h-6"})})]}),C.jsx("div",{className:"p-4",children:C.jsxs("button",{onClick:()=>{y(!0),M(!1)},className:`w-full py-3 text-white rounded-xl font-medium shadow-lg transition-all flex items-center justify-center gap-2 ${r.primary}`,children:[C.jsx(Uu,{className:"w-5 h-5"})," New Tracker"]})}),C.jsx("div",{className:"flex-1 overflow-y-auto px-4 pt-4 pb-4",children:t.length===0?C.jsx("div",{className:"text-center py-10 text-zinc-400",children:C.jsx("p",{className:"text-sm",children:"No trackers yet."})}):C.jsx(X9,{onDragEnd:F,children:C.jsx(LB,{droppableId:"tracker-list",children:N=>C.jsxs("div",{...N.droppableProps,ref:N.innerRef,className:"space-y-2 pb-2",children:[t.map((z,O)=>C.jsx(mB,{draggableId:z.id,index:O,children:(L,P)=>C.jsx("div",{ref:L.innerRef,...L.draggableProps,style:{...L.draggableProps.style},className:"outline-none border-none",children:C.jsx("div",{...L.dragHandleProps,className:`
                                                        group relative rounded-xl transition-all duration-500000 ease-out
                                                        ${P.isDragging?o?"bg-black shadow-zinc-800":"bg-white dark:bg-zinc-800":"bg-transparent"} 
                                                        ${P.isDragging?"shadow-2xl z-50 scale-[1.02]":"shadow-none"}
                                                    `,children:C.jsx("div",{className:"transition-all duration-200",children:C.jsx(FB,{tracker:z,onClick:()=>G(z.id),isActive:d===z.id,theme:r,isAmoled:o})})})})},z.id)),N.placeholder]})})})}),C.jsxs("div",{className:`p-4 border-t flex items-center gap-2 ${o?"border-zinc-800":"border-zinc-300 dark:border-zinc-600"}`,children:[C.jsxs("button",{onClick:()=>{A(!0),M(!1)},className:`flex-1 flex items-center space-x-3 px-3 py-3 rounded-xl transition-colors text-left group ${o?"hover:bg-zinc-900":"hover:bg-zinc-200 dark:hover:bg-zinc-700"}`,children:[C.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center shrink-0 overflow-hidden ${o?"bg-zinc-900":"bg-zinc-200 dark:bg-zinc-700"}`,children:n?.photoURL?C.jsx("img",{src:n.photoURL,alt:"Avatar",className:"w-full h-full object-cover"}):C.jsx(dI,{className:"w-4 h-4 text-zinc-500"})}),C.jsxs("div",{className:"flex-1 min-w-0",children:[C.jsx("p",{className:`text-sm font-medium truncate ${o?"text-white":"text-zinc-900 dark:text-zinc-100"}`,children:n.displayName||"User"}),C.jsx("p",{className:"text-xs text-zinc-600 dark:text-zinc-500",children:"Settings"})]}),C.jsx(nV,{className:"w-4 h-4 text-zinc-400 group-hover:text-zinc-600 dark:group-hover:text-zinc-300 transition-colors"})]}),C.jsx("button",{onClick:H,className:`p-3 rounded-xl transition-colors ${o?"hover:bg-zinc-900 text-zinc-400 hover:text-white":"hover:bg-zinc-200 dark:hover:bg-zinc-700 text-zinc-600 dark:text-zinc-400 hover:text-zinc-900 dark:hover:text-white"}`,children:l==="light"?C.jsx(cI,{className:"w-5 h-5"}):C.jsx(oV,{className:"w-5 h-5"})})]})]}),C.jsxs("main",{className:"flex-1 flex flex-col h-full overflow-hidden relative",children:[C.jsx("div",{className:`md:hidden p-4 flex items-center justify-between sticky top-0 z-10 backdrop-blur-md border-b ${I}`,children:C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx("button",{onClick:()=>M(!0),className:"p-2 -ml-2 rounded-lg text-zinc-600 dark:text-zinc-300",children:C.jsx(WL,{className:"w-6 h-6"})}),C.jsx("span",{className:"font-bold text-lg",children:"TrackIt"})]})}),C.jsx(vF,{tracker:V,onEdit:()=>x(!0)})]}),C.jsx(w1,{isOpen:p,onClose:()=>y(!1),nextOrder:t.length}),C.jsx(w1,{isOpen:_,onClose:()=>x(!1),editTracker:V}),C.jsx(EF,{isOpen:w,onClose:()=>A(!1)})]})};function SF(){const{user:n}=lr();return n?C.jsx(TF,{}):C.jsx(bV,{})}aN.createRoot(document.getElementById("root")).render(C.jsx(we.StrictMode,{children:C.jsx(yV,{children:C.jsxs(jB,{children:[" ",C.jsx(SF,{})]})})}));
