(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function e(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(a){if(a.ep)return;a.ep=!0;const o=e(a);fetch(a.href,o)}})();var Dm={exports:{}},Tc={};var Cv;function G2(){if(Cv)return Tc;Cv=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,a,o){var c=null;if(o!==void 0&&(c=""+o),a.key!==void 0&&(c=""+a.key),"key"in a){o={};for(var h in a)h!=="key"&&(o[h]=a[h])}else o=a;return a=o.ref,{$$typeof:n,type:i,key:c,ref:a!==void 0?a:null,props:o}}return Tc.Fragment=t,Tc.jsx=e,Tc.jsxs=e,Tc}var Rv;function $2(){return Rv||(Rv=1,Dm.exports=G2()),Dm.exports}var S=$2(),Nm={exports:{}},Rt={};var Iv;function Y2(){if(Iv)return Rt;Iv=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),T=Symbol.iterator;function x(M){return M===null||typeof M!="object"?null:(M=T&&M[T]||M["@@iterator"],typeof M=="function"?M:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,k={};function U(M,$,at){this.props=M,this.context=$,this.refs=k,this.updater=at||I}U.prototype.isReactComponent={},U.prototype.setState=function(M,$){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,$,"setState")},U.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function W(){}W.prototype=U.prototype;function Z(M,$,at){this.props=M,this.context=$,this.refs=k,this.updater=at||I}var nt=Z.prototype=new W;nt.constructor=Z,C(nt,U.prototype),nt.isPureReactComponent=!0;var tt=Array.isArray;function lt(){}var D={H:null,A:null,T:null,S:null},A=Object.prototype.hasOwnProperty;function N(M,$,at){var it=at.ref;return{$$typeof:n,type:M,key:$,ref:it!==void 0?it:null,props:at}}function P(M,$){return N(M.type,$,M.props)}function z(M){return typeof M=="object"&&M!==null&&M.$$typeof===n}function L(M){var $={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(at){return $[at]})}var O=/\/+/g;function wt(M,$){return typeof M=="object"&&M!==null&&M.key!=null?L(""+M.key):$.toString(36)}function ut(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(lt,lt):(M.status="pending",M.then(function($){M.status==="pending"&&(M.status="fulfilled",M.value=$)},function($){M.status==="pending"&&(M.status="rejected",M.reason=$)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function F(M,$,at,it,gt){var ct=typeof M;(ct==="undefined"||ct==="boolean")&&(M=null);var Mt=!1;if(M===null)Mt=!0;else switch(ct){case"bigint":case"string":case"number":Mt=!0;break;case"object":switch(M.$$typeof){case n:case t:Mt=!0;break;case y:return Mt=M._init,F(Mt(M._payload),$,at,it,gt)}}if(Mt)return gt=gt(M),Mt=it===""?"."+wt(M,0):it,tt(gt)?(at="",Mt!=null&&(at=Mt.replace(O,"$&/")+"/"),F(gt,$,at,"",function(Gr){return Gr})):gt!=null&&(z(gt)&&(gt=P(gt,at+(gt.key==null||M&&M.key===gt.key?"":(""+gt.key).replace(O,"$&/")+"/")+Mt)),$.push(gt)),1;Mt=0;var _e=it===""?".":it+":";if(tt(M))for(var fe=0;fe<M.length;fe++)it=M[fe],ct=_e+wt(it,fe),Mt+=F(it,$,at,ct,gt);else if(fe=x(M),typeof fe=="function")for(M=fe.call(M),fe=0;!(it=M.next()).done;)it=it.value,ct=_e+wt(it,fe++),Mt+=F(it,$,at,ct,gt);else if(ct==="object"){if(typeof M.then=="function")return F(ut(M),$,at,it,gt);throw $=String(M),Error("Objects are not valid as a React child (found: "+($==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":$)+"). If you meant to render a collection of children, use an array instead.")}return Mt}function Y(M,$,at){if(M==null)return M;var it=[],gt=0;return F(M,it,"","",function(ct){return $.call(at,ct,gt++)}),it}function ht(M){if(M._status===-1){var $=M._result;$=$(),$.then(function(at){(M._status===0||M._status===-1)&&(M._status=1,M._result=at)},function(at){(M._status===0||M._status===-1)&&(M._status=2,M._result=at)}),M._status===-1&&(M._status=0,M._result=$)}if(M._status===1)return M._result.default;throw M._result}var Tt=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var $=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent($))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},At={map:Y,forEach:function(M,$,at){Y(M,function(){$.apply(this,arguments)},at)},count:function(M){var $=0;return Y(M,function(){$++}),$},toArray:function(M){return Y(M,function($){return $})||[]},only:function(M){if(!z(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return Rt.Activity=b,Rt.Children=At,Rt.Component=U,Rt.Fragment=e,Rt.Profiler=a,Rt.PureComponent=Z,Rt.StrictMode=i,Rt.Suspense=f,Rt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=D,Rt.__COMPILER_RUNTIME={__proto__:null,c:function(M){return D.H.useMemoCache(M)}},Rt.cache=function(M){return function(){return M.apply(null,arguments)}},Rt.cacheSignal=function(){return null},Rt.cloneElement=function(M,$,at){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var it=C({},M.props),gt=M.key;if($!=null)for(ct in $.key!==void 0&&(gt=""+$.key),$)!A.call($,ct)||ct==="key"||ct==="__self"||ct==="__source"||ct==="ref"&&$.ref===void 0||(it[ct]=$[ct]);var ct=arguments.length-2;if(ct===1)it.children=at;else if(1<ct){for(var Mt=Array(ct),_e=0;_e<ct;_e++)Mt[_e]=arguments[_e+2];it.children=Mt}return N(M.type,gt,it)},Rt.createContext=function(M){return M={$$typeof:c,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:o,_context:M},M},Rt.createElement=function(M,$,at){var it,gt={},ct=null;if($!=null)for(it in $.key!==void 0&&(ct=""+$.key),$)A.call($,it)&&it!=="key"&&it!=="__self"&&it!=="__source"&&(gt[it]=$[it]);var Mt=arguments.length-2;if(Mt===1)gt.children=at;else if(1<Mt){for(var _e=Array(Mt),fe=0;fe<Mt;fe++)_e[fe]=arguments[fe+2];gt.children=_e}if(M&&M.defaultProps)for(it in Mt=M.defaultProps,Mt)gt[it]===void 0&&(gt[it]=Mt[it]);return N(M,ct,gt)},Rt.createRef=function(){return{current:null}},Rt.forwardRef=function(M){return{$$typeof:h,render:M}},Rt.isValidElement=z,Rt.lazy=function(M){return{$$typeof:y,_payload:{_status:-1,_result:M},_init:ht}},Rt.memo=function(M,$){return{$$typeof:g,type:M,compare:$===void 0?null:$}},Rt.startTransition=function(M){var $=D.T,at={};D.T=at;try{var it=M(),gt=D.S;gt!==null&&gt(at,it),typeof it=="object"&&it!==null&&typeof it.then=="function"&&it.then(lt,Tt)}catch(ct){Tt(ct)}finally{$!==null&&at.types!==null&&($.types=at.types),D.T=$}},Rt.unstable_useCacheRefresh=function(){return D.H.useCacheRefresh()},Rt.use=function(M){return D.H.use(M)},Rt.useActionState=function(M,$,at){return D.H.useActionState(M,$,at)},Rt.useCallback=function(M,$){return D.H.useCallback(M,$)},Rt.useContext=function(M){return D.H.useContext(M)},Rt.useDebugValue=function(){},Rt.useDeferredValue=function(M,$){return D.H.useDeferredValue(M,$)},Rt.useEffect=function(M,$){return D.H.useEffect(M,$)},Rt.useEffectEvent=function(M){return D.H.useEffectEvent(M)},Rt.useId=function(){return D.H.useId()},Rt.useImperativeHandle=function(M,$,at){return D.H.useImperativeHandle(M,$,at)},Rt.useInsertionEffect=function(M,$){return D.H.useInsertionEffect(M,$)},Rt.useLayoutEffect=function(M,$){return D.H.useLayoutEffect(M,$)},Rt.useMemo=function(M,$){return D.H.useMemo(M,$)},Rt.useOptimistic=function(M,$){return D.H.useOptimistic(M,$)},Rt.useReducer=function(M,$,at){return D.H.useReducer(M,$,at)},Rt.useRef=function(M){return D.H.useRef(M)},Rt.useState=function(M){return D.H.useState(M)},Rt.useSyncExternalStore=function(M,$,at){return D.H.useSyncExternalStore(M,$,at)},Rt.useTransition=function(){return D.H.useTransition()},Rt.version="19.2.1",Rt}var kv;function Qp(){return kv||(kv=1,Nm.exports=Y2()),Nm.exports}var dt=Qp(),Mm={exports:{}},Ec={},Om={exports:{}},zm={};var Dv;function K2(){return Dv||(Dv=1,(function(n){function t(F,Y){var ht=F.length;F.push(Y);t:for(;0<ht;){var Tt=ht-1>>>1,At=F[Tt];if(0<a(At,Y))F[Tt]=Y,F[ht]=At,ht=Tt;else break t}}function e(F){return F.length===0?null:F[0]}function i(F){if(F.length===0)return null;var Y=F[0],ht=F.pop();if(ht!==Y){F[0]=ht;t:for(var Tt=0,At=F.length,M=At>>>1;Tt<M;){var $=2*(Tt+1)-1,at=F[$],it=$+1,gt=F[it];if(0>a(at,ht))it<At&&0>a(gt,at)?(F[Tt]=gt,F[it]=ht,Tt=it):(F[Tt]=at,F[$]=ht,Tt=$);else if(it<At&&0>a(gt,ht))F[Tt]=gt,F[it]=ht,Tt=it;else break t}}return Y}function a(F,Y){var ht=F.sortIndex-Y.sortIndex;return ht!==0?ht:F.id-Y.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var f=[],g=[],y=1,b=null,T=3,x=!1,I=!1,C=!1,k=!1,U=typeof setTimeout=="function"?setTimeout:null,W=typeof clearTimeout=="function"?clearTimeout:null,Z=typeof setImmediate<"u"?setImmediate:null;function nt(F){for(var Y=e(g);Y!==null;){if(Y.callback===null)i(g);else if(Y.startTime<=F)i(g),Y.sortIndex=Y.expirationTime,t(f,Y);else break;Y=e(g)}}function tt(F){if(C=!1,nt(F),!I)if(e(f)!==null)I=!0,lt||(lt=!0,L());else{var Y=e(g);Y!==null&&ut(tt,Y.startTime-F)}}var lt=!1,D=-1,A=5,N=-1;function P(){return k?!0:!(n.unstable_now()-N<A)}function z(){if(k=!1,lt){var F=n.unstable_now();N=F;var Y=!0;try{t:{I=!1,C&&(C=!1,W(D),D=-1),x=!0;var ht=T;try{e:{for(nt(F),b=e(f);b!==null&&!(b.expirationTime>F&&P());){var Tt=b.callback;if(typeof Tt=="function"){b.callback=null,T=b.priorityLevel;var At=Tt(b.expirationTime<=F);if(F=n.unstable_now(),typeof At=="function"){b.callback=At,nt(F),Y=!0;break e}b===e(f)&&i(f),nt(F)}else i(f);b=e(f)}if(b!==null)Y=!0;else{var M=e(g);M!==null&&ut(tt,M.startTime-F),Y=!1}}break t}finally{b=null,T=ht,x=!1}Y=void 0}}finally{Y?L():lt=!1}}}var L;if(typeof Z=="function")L=function(){Z(z)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,wt=O.port2;O.port1.onmessage=z,L=function(){wt.postMessage(null)}}else L=function(){U(z,0)};function ut(F,Y){D=U(function(){F(n.unstable_now())},Y)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(F){F.callback=null},n.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<F?Math.floor(1e3/F):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_next=function(F){switch(T){case 1:case 2:case 3:var Y=3;break;default:Y=T}var ht=T;T=Y;try{return F()}finally{T=ht}},n.unstable_requestPaint=function(){k=!0},n.unstable_runWithPriority=function(F,Y){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var ht=T;T=F;try{return Y()}finally{T=ht}},n.unstable_scheduleCallback=function(F,Y,ht){var Tt=n.unstable_now();switch(typeof ht=="object"&&ht!==null?(ht=ht.delay,ht=typeof ht=="number"&&0<ht?Tt+ht:Tt):ht=Tt,F){case 1:var At=-1;break;case 2:At=250;break;case 5:At=1073741823;break;case 4:At=1e4;break;default:At=5e3}return At=ht+At,F={id:y++,callback:Y,priorityLevel:F,startTime:ht,expirationTime:At,sortIndex:-1},ht>Tt?(F.sortIndex=ht,t(g,F),e(f)===null&&F===e(g)&&(C?(W(D),D=-1):C=!0,ut(tt,ht-Tt))):(F.sortIndex=At,t(f,F),I||x||(I=!0,lt||(lt=!0,L()))),F},n.unstable_shouldYield=P,n.unstable_wrapCallback=function(F){var Y=T;return function(){var ht=T;T=Y;try{return F.apply(this,arguments)}finally{T=ht}}}})(zm)),zm}var Nv;function Q2(){return Nv||(Nv=1,Om.exports=K2()),Om.exports}var Vm={exports:{}},sn={};var Mv;function X2(){if(Mv)return sn;Mv=1;var n=Qp();function t(f){var g="https://react.dev/errors/"+f;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)g+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+f+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(f,g,y){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:f,containerInfo:g,implementation:y}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,g){if(f==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return sn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,sn.createPortal=function(f,g){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return o(f,g,null,y)},sn.flushSync=function(f){var g=c.T,y=i.p;try{if(c.T=null,i.p=2,f)return f()}finally{c.T=g,i.p=y,i.d.f()}},sn.preconnect=function(f,g){typeof f=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,i.d.C(f,g))},sn.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},sn.preinit=function(f,g){if(typeof f=="string"&&g&&typeof g.as=="string"){var y=g.as,b=h(y,g.crossOrigin),T=typeof g.integrity=="string"?g.integrity:void 0,x=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;y==="style"?i.d.S(f,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:T,fetchPriority:x}):y==="script"&&i.d.X(f,{crossOrigin:b,integrity:T,fetchPriority:x,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},sn.preinitModule=function(f,g){if(typeof f=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var y=h(g.as,g.crossOrigin);i.d.M(f,{crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&i.d.M(f)},sn.preload=function(f,g){if(typeof f=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var y=g.as,b=h(y,g.crossOrigin);i.d.L(f,y,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},sn.preloadModule=function(f,g){if(typeof f=="string")if(g){var y=h(g.as,g.crossOrigin);i.d.m(f,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:y,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else i.d.m(f)},sn.requestFormReset=function(f){i.d.r(f)},sn.unstable_batchedUpdates=function(f,g){return f(g)},sn.useFormState=function(f,g,y){return c.H.useFormState(f,g,y)},sn.useFormStatus=function(){return c.H.useHostTransitionStatus()},sn.version="19.2.1",sn}var Ov;function W2(){if(Ov)return Vm.exports;Ov=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Vm.exports=X2(),Vm.exports}var zv;function Z2(){if(zv)return Ec;zv=1;var n=Q2(),t=Qp(),e=W2();function i(s){var r="https://react.dev/errors/"+s;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)r+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var r=s,l=s;if(s.alternate)for(;r.return;)r=r.return;else{s=r;do r=s,(r.flags&4098)!==0&&(l=r.return),s=r.return;while(s)}return r.tag===3?l:null}function c(s){if(s.tag===13){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function h(s){if(s.tag===31){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function f(s){if(o(s)!==s)throw Error(i(188))}function g(s){var r=s.alternate;if(!r){if(r=o(s),r===null)throw Error(i(188));return r!==s?null:s}for(var l=s,u=r;;){var m=l.return;if(m===null)break;var p=m.alternate;if(p===null){if(u=m.return,u!==null){l=u;continue}break}if(m.child===p.child){for(p=m.child;p;){if(p===l)return f(m),s;if(p===u)return f(m),r;p=p.sibling}throw Error(i(188))}if(l.return!==u.return)l=m,u=p;else{for(var v=!1,w=m.child;w;){if(w===l){v=!0,l=m,u=p;break}if(w===u){v=!0,u=m,l=p;break}w=w.sibling}if(!v){for(w=p.child;w;){if(w===l){v=!0,l=p,u=m;break}if(w===u){v=!0,u=p,l=m;break}w=w.sibling}if(!v)throw Error(i(189))}}if(l.alternate!==u)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?s:r}function y(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s;for(s=s.child;s!==null;){if(r=y(s),r!==null)return r;s=s.sibling}return null}var b=Object.assign,T=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),I=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),U=Symbol.for("react.profiler"),W=Symbol.for("react.consumer"),Z=Symbol.for("react.context"),nt=Symbol.for("react.forward_ref"),tt=Symbol.for("react.suspense"),lt=Symbol.for("react.suspense_list"),D=Symbol.for("react.memo"),A=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function L(s){return s===null||typeof s!="object"?null:(s=z&&s[z]||s["@@iterator"],typeof s=="function"?s:null)}var O=Symbol.for("react.client.reference");function wt(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===O?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case C:return"Fragment";case U:return"Profiler";case k:return"StrictMode";case tt:return"Suspense";case lt:return"SuspenseList";case N:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case I:return"Portal";case Z:return s.displayName||"Context";case W:return(s._context.displayName||"Context")+".Consumer";case nt:var r=s.render;return s=s.displayName,s||(s=r.displayName||r.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case D:return r=s.displayName||null,r!==null?r:wt(s.type)||"Memo";case A:r=s._payload,s=s._init;try{return wt(s(r))}catch{}}return null}var ut=Array.isArray,F=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Y=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ht={pending:!1,data:null,method:null,action:null},Tt=[],At=-1;function M(s){return{current:s}}function $(s){0>At||(s.current=Tt[At],Tt[At]=null,At--)}function at(s,r){At++,Tt[At]=s.current,s.current=r}var it=M(null),gt=M(null),ct=M(null),Mt=M(null);function _e(s,r){switch(at(ct,r),at(gt,s),at(it,null),r.nodeType){case 9:case 11:s=(s=r.documentElement)&&(s=s.namespaceURI)?Xb(s):0;break;default:if(s=r.tagName,r=r.namespaceURI)r=Xb(r),s=Wb(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}$(it),at(it,s)}function fe(){$(it),$(gt),$(ct)}function Gr(s){s.memoizedState!==null&&at(Mt,s);var r=it.current,l=Wb(r,s.type);r!==l&&(at(gt,s),at(it,l))}function Ga(s){gt.current===s&&($(it),$(gt)),Mt.current===s&&($(Mt),yc._currentValue=ht)}var $a,Ya;function wi(s){if($a===void 0)try{throw Error()}catch(l){var r=l.stack.trim().match(/\n( *(at )?)/);$a=r&&r[1]||"",Ya=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+$a+s+Ya}var yl=!1;function $r(s,r){if(!s||yl)return"";yl=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var st=function(){throw Error()};if(Object.defineProperty(st.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(st,[])}catch(X){var K=X}Reflect.construct(s,[],st)}else{try{st.call()}catch(X){K=X}s.call(st.prototype)}}else{try{throw Error()}catch(X){K=X}(st=s())&&typeof st.catch=="function"&&st.catch(function(){})}}catch(X){if(X&&K&&typeof X.stack=="string")return[X.stack,K.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),v=p[0],w=p[1];if(v&&w){var V=v.split(`
`),G=w.split(`
`);for(m=u=0;u<V.length&&!V[u].includes("DetermineComponentFrameRoot");)u++;for(;m<G.length&&!G[m].includes("DetermineComponentFrameRoot");)m++;if(u===V.length||m===G.length)for(u=V.length-1,m=G.length-1;1<=u&&0<=m&&V[u]!==G[m];)m--;for(;1<=u&&0<=m;u--,m--)if(V[u]!==G[m]){if(u!==1||m!==1)do if(u--,m--,0>m||V[u]!==G[m]){var J=`
`+V[u].replace(" at new "," at ");return s.displayName&&J.includes("<anonymous>")&&(J=J.replace("<anonymous>",s.displayName)),J}while(1<=u&&0<=m);break}}}finally{yl=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?wi(l):""}function _l(s,r){switch(s.tag){case 26:case 27:case 5:return wi(s.type);case 16:return wi("Lazy");case 13:return s.child!==r&&r!==null?wi("Suspense Fallback"):wi("Suspense");case 19:return wi("SuspenseList");case 0:case 15:return $r(s.type,!1);case 11:return $r(s.type.render,!1);case 1:return $r(s.type,!0);case 31:return wi("Activity");default:return""}}function bl(s){try{var r="",l=null;do r+=_l(s,l),l=s,s=s.return;while(s);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Ae=Object.prototype.hasOwnProperty,je=n.unstable_scheduleCallback,js=n.unstable_cancelCallback,Md=n.unstable_shouldYield,Eu=n.unstable_requestPaint,gn=n.unstable_now,Yr=n.unstable_getCurrentPriorityLevel,vl=n.unstable_ImmediatePriority,Tl=n.unstable_UserBlockingPriority,Us=n.unstable_NormalPriority,Od=n.unstable_LowPriority,xu=n.unstable_IdlePriority,Su=n.log,wu=n.unstable_setDisableYieldValue,ai=null,Ke=null;function Un(s){if(typeof Su=="function"&&wu(s),Ke&&typeof Ke.setStrictMode=="function")try{Ke.setStrictMode(ai,s)}catch{}}var be=Math.clz32?Math.clz32:Cu,Au=Math.log,Ka=Math.LN2;function Cu(s){return s>>>=0,s===0?32:31-(Au(s)/Ka|0)|0}var Ai=256,Kr=262144,Ce=4194304;function Ci(s){var r=s&42;if(r!==0)return r;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Ri(s,r,l){var u=s.pendingLanes;if(u===0)return 0;var m=0,p=s.suspendedLanes,v=s.pingedLanes;s=s.warmLanes;var w=u&134217727;return w!==0?(u=w&~p,u!==0?m=Ci(u):(v&=w,v!==0?m=Ci(v):l||(l=w&~s,l!==0&&(m=Ci(l))))):(w=u&~p,w!==0?m=Ci(w):v!==0?m=Ci(v):l||(l=u&~s,l!==0&&(m=Ci(l)))),m===0?0:r!==0&&r!==m&&(r&p)===0&&(p=m&-m,l=r&-r,p>=l||p===32&&(l&4194048)!==0)?r:m}function oi(s,r){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&r)===0}function zd(s,r){switch(s){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Ru(){var s=Ce;return Ce<<=1,(Ce&62914560)===0&&(Ce=4194304),s}function Ii(s){for(var r=[],l=0;31>l;l++)r.push(s);return r}function Qr(s,r){s.pendingLanes|=r,r!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Vd(s,r,l,u,m,p){var v=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var w=s.entanglements,V=s.expirationTimes,G=s.hiddenUpdates;for(l=v&~l;0<l;){var J=31-be(l),st=1<<J;w[J]=0,V[J]=-1;var K=G[J];if(K!==null)for(G[J]=null,J=0;J<K.length;J++){var X=K[J];X!==null&&(X.lane&=-536870913)}l&=~st}u!==0&&Xr(s,u,0),p!==0&&m===0&&s.tag!==0&&(s.suspendedLanes|=p&~(v&~r))}function Xr(s,r,l){s.pendingLanes|=r,s.suspendedLanes&=~r;var u=31-be(r);s.entangledLanes|=r,s.entanglements[u]=s.entanglements[u]|1073741824|l&261930}function El(s,r){var l=s.entangledLanes|=r;for(s=s.entanglements;l;){var u=31-be(l),m=1<<u;m&r|s[u]&r&&(s[u]|=r),l&=~m}}function xl(s,r){var l=r&-r;return l=(l&42)!==0?1:Wr(l),(l&(s.suspendedLanes|r))!==0?0:l}function Wr(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function as(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Iu(){var s=Y.p;return s!==0?s:(s=window.event,s===void 0?32:vv(s.type))}function li(s,r){var l=Y.p;try{return Y.p=s,r()}finally{Y.p=l}}var ci=Math.random().toString(36).slice(2),Re="__reactFiber$"+ci,Fe="__reactProps$"+ci,ki="__reactContainer$"+ci,Qa="__reactEvents$"+ci,Pd="__reactListeners$"+ci,ku="__reactHandles$"+ci,Du="__reactResources$"+ci,Di="__reactMarker$"+ci;function Xa(s){delete s[Re],delete s[Fe],delete s[Qa],delete s[Pd],delete s[ku]}function Ni(s){var r=s[Re];if(r)return r;for(var l=s.parentNode;l;){if(r=l[ki]||l[Re]){if(l=r.alternate,r.child!==null||l!==null&&l.child!==null)for(s=sv(s);s!==null;){if(l=s[Re])return l;s=sv(s)}return r}s=l,l=s.parentNode}return null}function Bn(s){if(s=s[Re]||s[ki]){var r=s.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return s}return null}function In(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s.stateNode;throw Error(i(33))}function Mi(s){var r=s[Du];return r||(r=s[Du]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function Ie(s){s[Di]=!0}var Sl=new Set,wl={};function Oi(s,r){zi(s,r),zi(s+"Capture",r)}function zi(s,r){for(wl[s]=r,s=0;s<r.length;s++)Sl.add(r[s])}var Al=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Cl={},Rl={};function Nu(s){return Ae.call(Rl,s)?!0:Ae.call(Cl,s)?!1:Al.test(s)?Rl[s]=!0:(Cl[s]=!0,!1)}function Wa(s,r,l){if(Nu(r))if(l===null)s.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){s.removeAttribute(r);return}}s.setAttribute(r,""+l)}}function kn(s,r,l){if(l===null)s.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(r);return}s.setAttribute(r,""+l)}}function ke(s,r,l,u){if(u===null)s.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(r,l,""+u)}}function qe(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Bs(s){var r=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Il(s,r,l){var u=Object.getOwnPropertyDescriptor(s.constructor.prototype,r);if(!s.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,p=u.set;return Object.defineProperty(s,r,{configurable:!0,get:function(){return m.call(this)},set:function(v){l=""+v,p.call(this,v)}}),Object.defineProperty(s,r,{enumerable:u.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){s._valueTracker=null,delete s[r]}}}}function Xt(s){if(!s._valueTracker){var r=Bs(s)?"checked":"value";s._valueTracker=Il(s,r,""+s[r])}}function Zr(s){if(!s)return!1;var r=s._valueTracker;if(!r)return!0;var l=r.getValue(),u="";return s&&(u=Bs(s)?s.checked?"true":"false":s.value),s=u,s!==l?(r.setValue(s),!0):!1}function Vi(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Jr=/[\n"\\]/g;function yn(s){return s.replace(Jr,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Za(s,r,l,u,m,p,v,w){s.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?s.type=v:s.removeAttribute("type"),r!=null?v==="number"?(r===0&&s.value===""||s.value!=r)&&(s.value=""+qe(r)):s.value!==""+qe(r)&&(s.value=""+qe(r)):v!=="submit"&&v!=="reset"||s.removeAttribute("value"),r!=null?kl(s,v,qe(r)):l!=null?kl(s,v,qe(l)):u!=null&&s.removeAttribute("value"),m==null&&p!=null&&(s.defaultChecked=!!p),m!=null&&(s.checked=m&&typeof m!="function"&&typeof m!="symbol"),w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?s.name=""+qe(w):s.removeAttribute("name")}function Mu(s,r,l,u,m,p,v,w){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(s.type=p),r!=null||l!=null){if(!(p!=="submit"&&p!=="reset"||r!=null)){Xt(s);return}l=l!=null?""+qe(l):"",r=r!=null?""+qe(r):l,w||r===s.value||(s.value=r),s.defaultValue=r}u=u??m,u=typeof u!="function"&&typeof u!="symbol"&&!!u,s.checked=w?s.checked:!!u,s.defaultChecked=!!u,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(s.name=v),Xt(s)}function kl(s,r,l){r==="number"&&Vi(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function Hs(s,r,l,u){if(s=s.options,r){r={};for(var m=0;m<l.length;m++)r["$"+l[m]]=!0;for(l=0;l<s.length;l++)m=r.hasOwnProperty("$"+s[l].value),s[l].selected!==m&&(s[l].selected=m),m&&u&&(s[l].defaultSelected=!0)}else{for(l=""+qe(l),r=null,m=0;m<s.length;m++){if(s[m].value===l){s[m].selected=!0,u&&(s[m].defaultSelected=!0);return}r!==null||s[m].disabled||(r=s[m])}r!==null&&(r.selected=!0)}}function Ou(s,r,l){if(r!=null&&(r=""+qe(r),r!==s.value&&(s.value=r),l==null)){s.defaultValue!==r&&(s.defaultValue=r);return}s.defaultValue=l!=null?""+qe(l):""}function Fs(s,r,l,u){if(r==null){if(u!=null){if(l!=null)throw Error(i(92));if(ut(u)){if(1<u.length)throw Error(i(93));u=u[0]}l=u}l==null&&(l=""),r=l}l=qe(r),s.defaultValue=l,u=s.textContent,u===l&&u!==""&&u!==null&&(s.value=u),Xt(s)}function _n(s,r){if(r){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=r;return}}s.textContent=r}var zu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Dl(s,r,l){var u=r.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?s.setProperty(r,""):r==="float"?s.cssFloat="":s[r]="":u?s.setProperty(r,l):typeof l!="number"||l===0||zu.has(r)?r==="float"?s.cssFloat=l:s[r]=(""+l).trim():s[r]=l+"px"}function Nl(s,r,l){if(r!=null&&typeof r!="object")throw Error(i(62));if(s=s.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="");for(var m in r)u=r[m],r.hasOwnProperty(m)&&l[m]!==u&&Dl(s,m,u)}else for(var p in r)r.hasOwnProperty(p)&&Dl(s,p,r[p])}function Ja(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Vu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),qs=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function to(s){return qs.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function ui(){}var Ml=null;function Hn(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var Gs=null,Pi=null;function ta(s){var r=Bn(s);if(r&&(s=r.stateNode)){var l=s[Fe]||null;t:switch(s=r.stateNode,r.type){case"input":if(Za(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),r=l.name,l.type==="radio"&&r!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+yn(""+r)+'"][type="radio"]'),r=0;r<l.length;r++){var u=l[r];if(u!==s&&u.form===s.form){var m=u[Fe]||null;if(!m)throw Error(i(90));Za(u,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(r=0;r<l.length;r++)u=l[r],u.form===s.form&&Zr(u)}break t;case"textarea":Ou(s,l.value,l.defaultValue);break t;case"select":r=l.value,r!=null&&Hs(s,!!l.multiple,r,!1)}}}var eo=!1;function $s(s,r,l){if(eo)return s(r,l);eo=!0;try{var u=s(r);return u}finally{if(eo=!1,(Gs!==null||Pi!==null)&&(Ih(),Gs&&(r=Gs,s=Pi,Pi=Gs=null,ta(r),s)))for(r=0;r<s.length;r++)ta(s[r])}}function hi(s,r){var l=s.stateNode;if(l===null)return null;var u=l[Fe]||null;if(u===null)return null;l=u[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(s=s.type,u=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!u;break t;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(i(231,r,typeof l));return l}var Fn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ea=!1;if(Fn)try{var te={};Object.defineProperty(te,"passive",{get:function(){ea=!0}}),window.addEventListener("test",te,te),window.removeEventListener("test",te,te)}catch{ea=!1}var Li=null,Ol=null,na=null;function zl(){if(na)return na;var s,r=Ol,l=r.length,u,m="value"in Li?Li.value:Li.textContent,p=m.length;for(s=0;s<l&&r[s]===m[s];s++);var v=l-s;for(u=1;u<=v&&r[l-u]===m[p-u];u++);return na=m.slice(s,1<u?1-u:void 0)}function ia(s){var r=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&r===13&&(s=13)):s=r,s===10&&(s=13),32<=s||s===13?s:0}function os(){return!0}function fi(){return!1}function Qe(s){function r(l,u,m,p,v){this._reactName=l,this._targetInst=m,this.type=u,this.nativeEvent=p,this.target=v,this.currentTarget=null;for(var w in s)s.hasOwnProperty(w)&&(l=s[w],this[w]=l?l(p):p[w]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?os:fi,this.isPropagationStopped=fi,this}return b(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=os)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=os)},persist:function(){},isPersistent:os}),r}var ls={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ji=Qe(ls),Ys=b({},ls,{view:0,detail:0}),Vl=Qe(Ys),Ks,no,Ui,io=b({},Ys,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qs,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ui&&(Ui&&s.type==="mousemove"?(Ks=s.screenX-Ui.screenX,no=s.screenY-Ui.screenY):no=Ks=0,Ui=s),Ks)},movementY:function(s){return"movementY"in s?s.movementY:no}}),Pl=Qe(io),sa=b({},io,{dataTransfer:0}),Pu=Qe(sa),Lu=b({},Ys,{relatedTarget:0}),ra=Qe(Lu),Ll=b({},ls,{animationName:0,elapsedTime:0,pseudoElement:0}),ju=Qe(Ll),so=b({},ls,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Uu=Qe(so),Bu=b({},ls,{data:0}),Bi=Qe(Bu),Hu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},qu={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Gu(s){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(s):(s=qu[s])?!!r[s]:!1}function Qs(){return Gu}var mn=b({},Ys,{key:function(s){if(s.key){var r=Hu[s.key]||s.key;if(r!=="Unidentified")return r}return s.type==="keypress"?(s=ia(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Fu[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qs,charCode:function(s){return s.type==="keypress"?ia(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ia(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),$u=Qe(mn),Yu=b({},io,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cs=Qe(Yu),d=b({},Ys,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qs}),_=Qe(d),E=b({},ls,{propertyName:0,elapsedTime:0,pseudoElement:0}),R=Qe(E),H=b({},io,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Q=Qe(H),ft=b({},ls,{newState:0,oldState:0}),kt=Qe(ft),ve=[9,13,27,32],Yt=Fn&&"CompositionEvent"in window,de=null;Fn&&"documentMode"in document&&(de=document.documentMode);var qn=Fn&&"TextEvent"in window&&!de,Hi=Fn&&(!Yt||de&&8<de&&11>=de),di=" ",gi=!1;function aa(s,r){switch(s){case"keyup":return ve.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ro(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ao=!1;function mA(s,r){switch(s){case"compositionend":return ro(r);case"keypress":return r.which!==32?null:(gi=!0,di);case"textInput":return s=r.data,s===di&&gi?null:s;default:return null}}function pA(s,r){if(ao)return s==="compositionend"||!Yt&&aa(s,r)?(s=zl(),na=Ol=Li=null,ao=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Hi&&r.locale!=="ko"?null:r.data;default:return null}}var yA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function o0(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r==="input"?!!yA[s.type]:r==="textarea"}function l0(s,r,l,u){Gs?Pi?Pi.push(u):Pi=[u]:Gs=u,r=Vh(r,"onChange"),0<r.length&&(l=new ji("onChange","change",null,l,u),s.push({event:l,listeners:r}))}var jl=null,Ul=null;function _A(s){qb(s,0)}function Ku(s){var r=In(s);if(Zr(r))return s}function c0(s,r){if(s==="change")return r}var u0=!1;if(Fn){var Ld;if(Fn){var jd="oninput"in document;if(!jd){var h0=document.createElement("div");h0.setAttribute("oninput","return;"),jd=typeof h0.oninput=="function"}Ld=jd}else Ld=!1;u0=Ld&&(!document.documentMode||9<document.documentMode)}function f0(){jl&&(jl.detachEvent("onpropertychange",d0),Ul=jl=null)}function d0(s){if(s.propertyName==="value"&&Ku(Ul)){var r=[];l0(r,Ul,s,Hn(s)),$s(_A,r)}}function bA(s,r,l){s==="focusin"?(f0(),jl=r,Ul=l,jl.attachEvent("onpropertychange",d0)):s==="focusout"&&f0()}function vA(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Ku(Ul)}function TA(s,r){if(s==="click")return Ku(r)}function EA(s,r){if(s==="input"||s==="change")return Ku(r)}function xA(s,r){return s===r&&(s!==0||1/s===1/r)||s!==s&&r!==r}var Dn=typeof Object.is=="function"?Object.is:xA;function Bl(s,r){if(Dn(s,r))return!0;if(typeof s!="object"||s===null||typeof r!="object"||r===null)return!1;var l=Object.keys(s),u=Object.keys(r);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var m=l[u];if(!Ae.call(r,m)||!Dn(s[m],r[m]))return!1}return!0}function g0(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function m0(s,r){var l=g0(s);s=0;for(var u;l;){if(l.nodeType===3){if(u=s+l.textContent.length,s<=r&&u>=r)return{node:l,offset:r-s};s=u}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=g0(l)}}function p0(s,r){return s&&r?s===r?!0:s&&s.nodeType===3?!1:r&&r.nodeType===3?p0(s,r.parentNode):"contains"in s?s.contains(r):s.compareDocumentPosition?!!(s.compareDocumentPosition(r)&16):!1:!1}function y0(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var r=Vi(s.document);r instanceof s.HTMLIFrameElement;){try{var l=typeof r.contentWindow.location.href=="string"}catch{l=!1}if(l)s=r.contentWindow;else break;r=Vi(s.document)}return r}function Ud(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r&&(r==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||r==="textarea"||s.contentEditable==="true")}var SA=Fn&&"documentMode"in document&&11>=document.documentMode,oo=null,Bd=null,Hl=null,Hd=!1;function _0(s,r,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Hd||oo==null||oo!==Vi(u)||(u=oo,"selectionStart"in u&&Ud(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Hl&&Bl(Hl,u)||(Hl=u,u=Vh(Bd,"onSelect"),0<u.length&&(r=new ji("onSelect","select",null,r,l),s.push({event:r,listeners:u}),r.target=oo)))}function oa(s,r){var l={};return l[s.toLowerCase()]=r.toLowerCase(),l["Webkit"+s]="webkit"+r,l["Moz"+s]="moz"+r,l}var lo={animationend:oa("Animation","AnimationEnd"),animationiteration:oa("Animation","AnimationIteration"),animationstart:oa("Animation","AnimationStart"),transitionrun:oa("Transition","TransitionRun"),transitionstart:oa("Transition","TransitionStart"),transitioncancel:oa("Transition","TransitionCancel"),transitionend:oa("Transition","TransitionEnd")},Fd={},b0={};Fn&&(b0=document.createElement("div").style,"AnimationEvent"in window||(delete lo.animationend.animation,delete lo.animationiteration.animation,delete lo.animationstart.animation),"TransitionEvent"in window||delete lo.transitionend.transition);function la(s){if(Fd[s])return Fd[s];if(!lo[s])return s;var r=lo[s],l;for(l in r)if(r.hasOwnProperty(l)&&l in b0)return Fd[s]=r[l];return s}var v0=la("animationend"),T0=la("animationiteration"),E0=la("animationstart"),wA=la("transitionrun"),AA=la("transitionstart"),CA=la("transitioncancel"),x0=la("transitionend"),S0=new Map,qd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");qd.push("scrollEnd");function mi(s,r){S0.set(s,r),Oi(r,[s])}var Qu=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Gn=[],co=0,Gd=0;function Xu(){for(var s=co,r=Gd=co=0;r<s;){var l=Gn[r];Gn[r++]=null;var u=Gn[r];Gn[r++]=null;var m=Gn[r];Gn[r++]=null;var p=Gn[r];if(Gn[r++]=null,u!==null&&m!==null){var v=u.pending;v===null?m.next=m:(m.next=v.next,v.next=m),u.pending=m}p!==0&&w0(l,m,p)}}function Wu(s,r,l,u){Gn[co++]=s,Gn[co++]=r,Gn[co++]=l,Gn[co++]=u,Gd|=u,s.lanes|=u,s=s.alternate,s!==null&&(s.lanes|=u)}function $d(s,r,l,u){return Wu(s,r,l,u),Zu(s)}function ca(s,r){return Wu(s,null,null,r),Zu(s)}function w0(s,r,l){s.lanes|=l;var u=s.alternate;u!==null&&(u.lanes|=l);for(var m=!1,p=s.return;p!==null;)p.childLanes|=l,u=p.alternate,u!==null&&(u.childLanes|=l),p.tag===22&&(s=p.stateNode,s===null||s._visibility&1||(m=!0)),s=p,p=p.return;return s.tag===3?(p=s.stateNode,m&&r!==null&&(m=31-be(l),s=p.hiddenUpdates,u=s[m],u===null?s[m]=[r]:u.push(r),r.lane=l|536870912),p):null}function Zu(s){if(50<uc)throw uc=0,em=null,Error(i(185));for(var r=s.return;r!==null;)s=r,r=s.return;return s.tag===3?s.stateNode:null}var uo={};function RA(s,r,l,u){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nn(s,r,l,u){return new RA(s,r,l,u)}function Yd(s){return s=s.prototype,!(!s||!s.isReactComponent)}function us(s,r){var l=s.alternate;return l===null?(l=Nn(s.tag,r,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=r,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,r=s.dependencies,l.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function A0(s,r){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=r,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,r=l.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),s}function Ju(s,r,l,u,m,p){var v=0;if(u=s,typeof s=="function")Yd(s)&&(v=1);else if(typeof s=="string")v=M2(s,l,it.current)?26:s==="html"||s==="head"||s==="body"?27:5;else t:switch(s){case N:return s=Nn(31,l,r,m),s.elementType=N,s.lanes=p,s;case C:return ua(l.children,m,p,r);case k:v=8,m|=24;break;case U:return s=Nn(12,l,r,m|2),s.elementType=U,s.lanes=p,s;case tt:return s=Nn(13,l,r,m),s.elementType=tt,s.lanes=p,s;case lt:return s=Nn(19,l,r,m),s.elementType=lt,s.lanes=p,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case Z:v=10;break t;case W:v=9;break t;case nt:v=11;break t;case D:v=14;break t;case A:v=16,u=null;break t}v=29,l=Error(i(130,s===null?"null":typeof s,"")),u=null}return r=Nn(v,l,r,m),r.elementType=s,r.type=u,r.lanes=p,r}function ua(s,r,l,u){return s=Nn(7,s,u,r),s.lanes=l,s}function Kd(s,r,l){return s=Nn(6,s,null,r),s.lanes=l,s}function C0(s){var r=Nn(18,null,null,0);return r.stateNode=s,r}function Qd(s,r,l){return r=Nn(4,s.children!==null?s.children:[],s.key,r),r.lanes=l,r.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},r}var R0=new WeakMap;function $n(s,r){if(typeof s=="object"&&s!==null){var l=R0.get(s);return l!==void 0?l:(r={value:s,source:r,stack:bl(r)},R0.set(s,r),r)}return{value:s,source:r,stack:bl(r)}}var ho=[],fo=0,th=null,Fl=0,Yn=[],Kn=0,Xs=null,Fi=1,qi="";function hs(s,r){ho[fo++]=Fl,ho[fo++]=th,th=s,Fl=r}function I0(s,r,l){Yn[Kn++]=Fi,Yn[Kn++]=qi,Yn[Kn++]=Xs,Xs=s;var u=Fi;s=qi;var m=32-be(u)-1;u&=~(1<<m),l+=1;var p=32-be(r)+m;if(30<p){var v=m-m%5;p=(u&(1<<v)-1).toString(32),u>>=v,m-=v,Fi=1<<32-be(r)+m|l<<m|u,qi=p+s}else Fi=1<<p|l<<m|u,qi=s}function Xd(s){s.return!==null&&(hs(s,1),I0(s,1,0))}function Wd(s){for(;s===th;)th=ho[--fo],ho[fo]=null,Fl=ho[--fo],ho[fo]=null;for(;s===Xs;)Xs=Yn[--Kn],Yn[Kn]=null,qi=Yn[--Kn],Yn[Kn]=null,Fi=Yn[--Kn],Yn[Kn]=null}function k0(s,r){Yn[Kn++]=Fi,Yn[Kn++]=qi,Yn[Kn++]=Xs,Fi=r.id,qi=r.overflow,Xs=s}var Xe=null,le=null,Bt=!1,Ws=null,Qn=!1,Zd=Error(i(519));function Zs(s){var r=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ql($n(r,s)),Zd}function D0(s){var r=s.stateNode,l=s.type,u=s.memoizedProps;switch(r[Re]=s,r[Fe]=u,l){case"dialog":zt("cancel",r),zt("close",r);break;case"iframe":case"object":case"embed":zt("load",r);break;case"video":case"audio":for(l=0;l<fc.length;l++)zt(fc[l],r);break;case"source":zt("error",r);break;case"img":case"image":case"link":zt("error",r),zt("load",r);break;case"details":zt("toggle",r);break;case"input":zt("invalid",r),Mu(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":zt("invalid",r);break;case"textarea":zt("invalid",r),Fs(r,u.value,u.defaultValue,u.children)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||r.textContent===""+l||u.suppressHydrationWarning===!0||Kb(r.textContent,l)?(u.popover!=null&&(zt("beforetoggle",r),zt("toggle",r)),u.onScroll!=null&&zt("scroll",r),u.onScrollEnd!=null&&zt("scrollend",r),u.onClick!=null&&(r.onclick=ui),r=!0):r=!1,r||Zs(s,!0)}function N0(s){for(Xe=s.return;Xe;)switch(Xe.tag){case 5:case 31:case 13:Qn=!1;return;case 27:case 3:Qn=!0;return;default:Xe=Xe.return}}function go(s){if(s!==Xe)return!1;if(!Bt)return N0(s),Bt=!0,!1;var r=s.tag,l;if((l=r!==3&&r!==27)&&((l=r===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||pm(s.type,s.memoizedProps)),l=!l),l&&le&&Zs(s),N0(s),r===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));le=iv(s)}else if(r===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));le=iv(s)}else r===27?(r=le,fr(s.type)?(s=Tm,Tm=null,le=s):le=r):le=Xe?Wn(s.stateNode.nextSibling):null;return!0}function ha(){le=Xe=null,Bt=!1}function Jd(){var s=Ws;return s!==null&&(En===null?En=s:En.push.apply(En,s),Ws=null),s}function ql(s){Ws===null?Ws=[s]:Ws.push(s)}var tg=M(null),fa=null,fs=null;function Js(s,r,l){at(tg,r._currentValue),r._currentValue=l}function ds(s){s._currentValue=tg.current,$(tg)}function eg(s,r,l){for(;s!==null;){var u=s.alternate;if((s.childLanes&r)!==r?(s.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),s===l)break;s=s.return}}function ng(s,r,l,u){var m=s.child;for(m!==null&&(m.return=s);m!==null;){var p=m.dependencies;if(p!==null){var v=m.child;p=p.firstContext;t:for(;p!==null;){var w=p;p=m;for(var V=0;V<r.length;V++)if(w.context===r[V]){p.lanes|=l,w=p.alternate,w!==null&&(w.lanes|=l),eg(p.return,l,s),u||(v=null);break t}p=w.next}}else if(m.tag===18){if(v=m.return,v===null)throw Error(i(341));v.lanes|=l,p=v.alternate,p!==null&&(p.lanes|=l),eg(v,l,s),v=null}else v=m.child;if(v!==null)v.return=m;else for(v=m;v!==null;){if(v===s){v=null;break}if(m=v.sibling,m!==null){m.return=v.return,v=m;break}v=v.return}m=v}}function mo(s,r,l,u){s=null;for(var m=r,p=!1;m!==null;){if(!p){if((m.flags&524288)!==0)p=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var v=m.alternate;if(v===null)throw Error(i(387));if(v=v.memoizedProps,v!==null){var w=m.type;Dn(m.pendingProps.value,v.value)||(s!==null?s.push(w):s=[w])}}else if(m===Mt.current){if(v=m.alternate,v===null)throw Error(i(387));v.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(s!==null?s.push(yc):s=[yc])}m=m.return}s!==null&&ng(r,s,l,u),r.flags|=262144}function eh(s){for(s=s.firstContext;s!==null;){if(!Dn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function da(s){fa=s,fs=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function We(s){return M0(fa,s)}function nh(s,r){return fa===null&&da(s),M0(s,r)}function M0(s,r){var l=r._currentValue;if(r={context:r,memoizedValue:l,next:null},fs===null){if(s===null)throw Error(i(308));fs=r,s.dependencies={lanes:0,firstContext:r},s.flags|=524288}else fs=fs.next=r;return l}var IA=typeof AbortController<"u"?AbortController:function(){var s=[],r=this.signal={aborted:!1,addEventListener:function(l,u){s.push(u)}};this.abort=function(){r.aborted=!0,s.forEach(function(l){return l()})}},kA=n.unstable_scheduleCallback,DA=n.unstable_NormalPriority,De={$$typeof:Z,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ig(){return{controller:new IA,data:new Map,refCount:0}}function Gl(s){s.refCount--,s.refCount===0&&kA(DA,function(){s.controller.abort()})}var $l=null,sg=0,po=0,yo=null;function NA(s,r){if($l===null){var l=$l=[];sg=0,po=om(),yo={status:"pending",value:void 0,then:function(u){l.push(u)}}}return sg++,r.then(O0,O0),r}function O0(){if(--sg===0&&$l!==null){yo!==null&&(yo.status="fulfilled");var s=$l;$l=null,po=0,yo=null;for(var r=0;r<s.length;r++)(0,s[r])()}}function MA(s,r){var l=[],u={status:"pending",value:null,reason:null,then:function(m){l.push(m)}};return s.then(function(){u.status="fulfilled",u.value=r;for(var m=0;m<l.length;m++)(0,l[m])(r)},function(m){for(u.status="rejected",u.reason=m,m=0;m<l.length;m++)(0,l[m])(void 0)}),u}var z0=F.S;F.S=function(s,r){_b=gn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&NA(s,r),z0!==null&&z0(s,r)};var ga=M(null);function rg(){var s=ga.current;return s!==null?s:se.pooledCache}function ih(s,r){r===null?at(ga,ga.current):at(ga,r.pool)}function V0(){var s=rg();return s===null?null:{parent:De._currentValue,pool:s}}var _o=Error(i(460)),ag=Error(i(474)),sh=Error(i(542)),rh={then:function(){}};function P0(s){return s=s.status,s==="fulfilled"||s==="rejected"}function L0(s,r,l){switch(l=s[l],l===void 0?s.push(r):l!==r&&(r.then(ui,ui),r=l),r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,U0(s),s;default:if(typeof r.status=="string")r.then(ui,ui);else{if(s=se,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=r,s.status="pending",s.then(function(u){if(r.status==="pending"){var m=r;m.status="fulfilled",m.value=u}},function(u){if(r.status==="pending"){var m=r;m.status="rejected",m.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,U0(s),s}throw pa=r,_o}}function ma(s){try{var r=s._init;return r(s._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(pa=l,_o):l}}var pa=null;function j0(){if(pa===null)throw Error(i(459));var s=pa;return pa=null,s}function U0(s){if(s===_o||s===sh)throw Error(i(483))}var bo=null,Yl=0;function ah(s){var r=Yl;return Yl+=1,bo===null&&(bo=[]),L0(bo,s,r)}function Kl(s,r){r=r.props.ref,s.ref=r!==void 0?r:null}function oh(s,r){throw r.$$typeof===T?Error(i(525)):(s=Object.prototype.toString.call(r),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":s)))}function B0(s){function r(B,j){if(s){var q=B.deletions;q===null?(B.deletions=[j],B.flags|=16):q.push(j)}}function l(B,j){if(!s)return null;for(;j!==null;)r(B,j),j=j.sibling;return null}function u(B){for(var j=new Map;B!==null;)B.key!==null?j.set(B.key,B):j.set(B.index,B),B=B.sibling;return j}function m(B,j){return B=us(B,j),B.index=0,B.sibling=null,B}function p(B,j,q){return B.index=q,s?(q=B.alternate,q!==null?(q=q.index,q<j?(B.flags|=67108866,j):q):(B.flags|=67108866,j)):(B.flags|=1048576,j)}function v(B){return s&&B.alternate===null&&(B.flags|=67108866),B}function w(B,j,q,et){return j===null||j.tag!==6?(j=Kd(q,B.mode,et),j.return=B,j):(j=m(j,q),j.return=B,j)}function V(B,j,q,et){var bt=q.type;return bt===C?J(B,j,q.props.children,et,q.key):j!==null&&(j.elementType===bt||typeof bt=="object"&&bt!==null&&bt.$$typeof===A&&ma(bt)===j.type)?(j=m(j,q.props),Kl(j,q),j.return=B,j):(j=Ju(q.type,q.key,q.props,null,B.mode,et),Kl(j,q),j.return=B,j)}function G(B,j,q,et){return j===null||j.tag!==4||j.stateNode.containerInfo!==q.containerInfo||j.stateNode.implementation!==q.implementation?(j=Qd(q,B.mode,et),j.return=B,j):(j=m(j,q.children||[]),j.return=B,j)}function J(B,j,q,et,bt){return j===null||j.tag!==7?(j=ua(q,B.mode,et,bt),j.return=B,j):(j=m(j,q),j.return=B,j)}function st(B,j,q){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=Kd(""+j,B.mode,q),j.return=B,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case x:return q=Ju(j.type,j.key,j.props,null,B.mode,q),Kl(q,j),q.return=B,q;case I:return j=Qd(j,B.mode,q),j.return=B,j;case A:return j=ma(j),st(B,j,q)}if(ut(j)||L(j))return j=ua(j,B.mode,q,null),j.return=B,j;if(typeof j.then=="function")return st(B,ah(j),q);if(j.$$typeof===Z)return st(B,nh(B,j),q);oh(B,j)}return null}function K(B,j,q,et){var bt=j!==null?j.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return bt!==null?null:w(B,j,""+q,et);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case x:return q.key===bt?V(B,j,q,et):null;case I:return q.key===bt?G(B,j,q,et):null;case A:return q=ma(q),K(B,j,q,et)}if(ut(q)||L(q))return bt!==null?null:J(B,j,q,et,null);if(typeof q.then=="function")return K(B,j,ah(q),et);if(q.$$typeof===Z)return K(B,j,nh(B,q),et);oh(B,q)}return null}function X(B,j,q,et,bt){if(typeof et=="string"&&et!==""||typeof et=="number"||typeof et=="bigint")return B=B.get(q)||null,w(j,B,""+et,bt);if(typeof et=="object"&&et!==null){switch(et.$$typeof){case x:return B=B.get(et.key===null?q:et.key)||null,V(j,B,et,bt);case I:return B=B.get(et.key===null?q:et.key)||null,G(j,B,et,bt);case A:return et=ma(et),X(B,j,q,et,bt)}if(ut(et)||L(et))return B=B.get(q)||null,J(j,B,et,bt,null);if(typeof et.then=="function")return X(B,j,q,ah(et),bt);if(et.$$typeof===Z)return X(B,j,q,nh(j,et),bt);oh(j,et)}return null}function yt(B,j,q,et){for(var bt=null,Gt=null,_t=j,Nt=j=0,Pt=null;_t!==null&&Nt<q.length;Nt++){_t.index>Nt?(Pt=_t,_t=null):Pt=_t.sibling;var $t=K(B,_t,q[Nt],et);if($t===null){_t===null&&(_t=Pt);break}s&&_t&&$t.alternate===null&&r(B,_t),j=p($t,j,Nt),Gt===null?bt=$t:Gt.sibling=$t,Gt=$t,_t=Pt}if(Nt===q.length)return l(B,_t),Bt&&hs(B,Nt),bt;if(_t===null){for(;Nt<q.length;Nt++)_t=st(B,q[Nt],et),_t!==null&&(j=p(_t,j,Nt),Gt===null?bt=_t:Gt.sibling=_t,Gt=_t);return Bt&&hs(B,Nt),bt}for(_t=u(_t);Nt<q.length;Nt++)Pt=X(_t,B,Nt,q[Nt],et),Pt!==null&&(s&&Pt.alternate!==null&&_t.delete(Pt.key===null?Nt:Pt.key),j=p(Pt,j,Nt),Gt===null?bt=Pt:Gt.sibling=Pt,Gt=Pt);return s&&_t.forEach(function(yr){return r(B,yr)}),Bt&&hs(B,Nt),bt}function Et(B,j,q,et){if(q==null)throw Error(i(151));for(var bt=null,Gt=null,_t=j,Nt=j=0,Pt=null,$t=q.next();_t!==null&&!$t.done;Nt++,$t=q.next()){_t.index>Nt?(Pt=_t,_t=null):Pt=_t.sibling;var yr=K(B,_t,$t.value,et);if(yr===null){_t===null&&(_t=Pt);break}s&&_t&&yr.alternate===null&&r(B,_t),j=p(yr,j,Nt),Gt===null?bt=yr:Gt.sibling=yr,Gt=yr,_t=Pt}if($t.done)return l(B,_t),Bt&&hs(B,Nt),bt;if(_t===null){for(;!$t.done;Nt++,$t=q.next())$t=st(B,$t.value,et),$t!==null&&(j=p($t,j,Nt),Gt===null?bt=$t:Gt.sibling=$t,Gt=$t);return Bt&&hs(B,Nt),bt}for(_t=u(_t);!$t.done;Nt++,$t=q.next())$t=X(_t,B,Nt,$t.value,et),$t!==null&&(s&&$t.alternate!==null&&_t.delete($t.key===null?Nt:$t.key),j=p($t,j,Nt),Gt===null?bt=$t:Gt.sibling=$t,Gt=$t);return s&&_t.forEach(function(q2){return r(B,q2)}),Bt&&hs(B,Nt),bt}function ie(B,j,q,et){if(typeof q=="object"&&q!==null&&q.type===C&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case x:t:{for(var bt=q.key;j!==null;){if(j.key===bt){if(bt=q.type,bt===C){if(j.tag===7){l(B,j.sibling),et=m(j,q.props.children),et.return=B,B=et;break t}}else if(j.elementType===bt||typeof bt=="object"&&bt!==null&&bt.$$typeof===A&&ma(bt)===j.type){l(B,j.sibling),et=m(j,q.props),Kl(et,q),et.return=B,B=et;break t}l(B,j);break}else r(B,j);j=j.sibling}q.type===C?(et=ua(q.props.children,B.mode,et,q.key),et.return=B,B=et):(et=Ju(q.type,q.key,q.props,null,B.mode,et),Kl(et,q),et.return=B,B=et)}return v(B);case I:t:{for(bt=q.key;j!==null;){if(j.key===bt)if(j.tag===4&&j.stateNode.containerInfo===q.containerInfo&&j.stateNode.implementation===q.implementation){l(B,j.sibling),et=m(j,q.children||[]),et.return=B,B=et;break t}else{l(B,j);break}else r(B,j);j=j.sibling}et=Qd(q,B.mode,et),et.return=B,B=et}return v(B);case A:return q=ma(q),ie(B,j,q,et)}if(ut(q))return yt(B,j,q,et);if(L(q)){if(bt=L(q),typeof bt!="function")throw Error(i(150));return q=bt.call(q),Et(B,j,q,et)}if(typeof q.then=="function")return ie(B,j,ah(q),et);if(q.$$typeof===Z)return ie(B,j,nh(B,q),et);oh(B,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,j!==null&&j.tag===6?(l(B,j.sibling),et=m(j,q),et.return=B,B=et):(l(B,j),et=Kd(q,B.mode,et),et.return=B,B=et),v(B)):l(B,j)}return function(B,j,q,et){try{Yl=0;var bt=ie(B,j,q,et);return bo=null,bt}catch(_t){if(_t===_o||_t===sh)throw _t;var Gt=Nn(29,_t,null,B.mode);return Gt.lanes=et,Gt.return=B,Gt}finally{}}}var ya=B0(!0),H0=B0(!1),tr=!1;function og(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function lg(s,r){s=s.updateQueue,r.updateQueue===s&&(r.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function er(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function nr(s,r,l){var u=s.updateQueue;if(u===null)return null;if(u=u.shared,(Kt&2)!==0){var m=u.pending;return m===null?r.next=r:(r.next=m.next,m.next=r),u.pending=r,r=Zu(s),w0(s,null,l),r}return Wu(s,u,r,l),Zu(s)}function Ql(s,r,l){if(r=r.updateQueue,r!==null&&(r=r.shared,(l&4194048)!==0)){var u=r.lanes;u&=s.pendingLanes,l|=u,r.lanes=l,El(s,l)}}function cg(s,r){var l=s.updateQueue,u=s.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var m=null,p=null;if(l=l.firstBaseUpdate,l!==null){do{var v={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};p===null?m=p=v:p=p.next=v,l=l.next}while(l!==null);p===null?m=p=r:p=p.next=r}else m=p=r;l={baseState:u.baseState,firstBaseUpdate:m,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=r:s.next=r,l.lastBaseUpdate=r}var ug=!1;function Xl(){if(ug){var s=yo;if(s!==null)throw s}}function Wl(s,r,l,u){ug=!1;var m=s.updateQueue;tr=!1;var p=m.firstBaseUpdate,v=m.lastBaseUpdate,w=m.shared.pending;if(w!==null){m.shared.pending=null;var V=w,G=V.next;V.next=null,v===null?p=G:v.next=G,v=V;var J=s.alternate;J!==null&&(J=J.updateQueue,w=J.lastBaseUpdate,w!==v&&(w===null?J.firstBaseUpdate=G:w.next=G,J.lastBaseUpdate=V))}if(p!==null){var st=m.baseState;v=0,J=G=V=null,w=p;do{var K=w.lane&-536870913,X=K!==w.lane;if(X?(Vt&K)===K:(u&K)===K){K!==0&&K===po&&(ug=!0),J!==null&&(J=J.next={lane:0,tag:w.tag,payload:w.payload,callback:null,next:null});t:{var yt=s,Et=w;K=r;var ie=l;switch(Et.tag){case 1:if(yt=Et.payload,typeof yt=="function"){st=yt.call(ie,st,K);break t}st=yt;break t;case 3:yt.flags=yt.flags&-65537|128;case 0:if(yt=Et.payload,K=typeof yt=="function"?yt.call(ie,st,K):yt,K==null)break t;st=b({},st,K);break t;case 2:tr=!0}}K=w.callback,K!==null&&(s.flags|=64,X&&(s.flags|=8192),X=m.callbacks,X===null?m.callbacks=[K]:X.push(K))}else X={lane:K,tag:w.tag,payload:w.payload,callback:w.callback,next:null},J===null?(G=J=X,V=st):J=J.next=X,v|=K;if(w=w.next,w===null){if(w=m.shared.pending,w===null)break;X=w,w=X.next,X.next=null,m.lastBaseUpdate=X,m.shared.pending=null}}while(!0);J===null&&(V=st),m.baseState=V,m.firstBaseUpdate=G,m.lastBaseUpdate=J,p===null&&(m.shared.lanes=0),or|=v,s.lanes=v,s.memoizedState=st}}function F0(s,r){if(typeof s!="function")throw Error(i(191,s));s.call(r)}function q0(s,r){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)F0(l[s],r)}var vo=M(null),lh=M(0);function G0(s,r){s=Es,at(lh,s),at(vo,r),Es=s|r.baseLanes}function hg(){at(lh,Es),at(vo,vo.current)}function fg(){Es=lh.current,$(vo),$(lh)}var Mn=M(null),Xn=null;function ir(s){var r=s.alternate;at(Te,Te.current&1),at(Mn,s),Xn===null&&(r===null||vo.current!==null||r.memoizedState!==null)&&(Xn=s)}function dg(s){at(Te,Te.current),at(Mn,s),Xn===null&&(Xn=s)}function $0(s){s.tag===22?(at(Te,Te.current),at(Mn,s),Xn===null&&(Xn=s)):sr()}function sr(){at(Te,Te.current),at(Mn,Mn.current)}function On(s){$(Mn),Xn===s&&(Xn=null),$(Te)}var Te=M(0);function ch(s){for(var r=s;r!==null;){if(r.tag===13){var l=r.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||bm(l)||vm(l)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var gs=0,Dt=null,ee=null,Ne=null,uh=!1,To=!1,_a=!1,hh=0,Zl=0,Eo=null,OA=0;function pe(){throw Error(i(321))}function gg(s,r){if(r===null)return!1;for(var l=0;l<r.length&&l<s.length;l++)if(!Dn(s[l],r[l]))return!1;return!0}function mg(s,r,l,u,m,p){return gs=p,Dt=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,F.H=s===null||s.memoizedState===null?I_:kg,_a=!1,p=l(u,m),_a=!1,To&&(p=K0(r,l,u,m)),Y0(s),p}function Y0(s){F.H=ec;var r=ee!==null&&ee.next!==null;if(gs=0,Ne=ee=Dt=null,uh=!1,Zl=0,Eo=null,r)throw Error(i(300));s===null||Me||(s=s.dependencies,s!==null&&eh(s)&&(Me=!0))}function K0(s,r,l,u){Dt=s;var m=0;do{if(To&&(Eo=null),Zl=0,To=!1,25<=m)throw Error(i(301));if(m+=1,Ne=ee=null,s.updateQueue!=null){var p=s.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}F.H=k_,p=r(l,u)}while(To);return p}function zA(){var s=F.H,r=s.useState()[0];return r=typeof r.then=="function"?Jl(r):r,s=s.useState()[0],(ee!==null?ee.memoizedState:null)!==s&&(Dt.flags|=1024),r}function pg(){var s=hh!==0;return hh=0,s}function yg(s,r,l){r.updateQueue=s.updateQueue,r.flags&=-2053,s.lanes&=~l}function _g(s){if(uh){for(s=s.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}uh=!1}gs=0,Ne=ee=Dt=null,To=!1,Zl=hh=0,Eo=null}function pn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ne===null?Dt.memoizedState=Ne=s:Ne=Ne.next=s,Ne}function Ee(){if(ee===null){var s=Dt.alternate;s=s!==null?s.memoizedState:null}else s=ee.next;var r=Ne===null?Dt.memoizedState:Ne.next;if(r!==null)Ne=r,ee=s;else{if(s===null)throw Dt.alternate===null?Error(i(467)):Error(i(310));ee=s,s={memoizedState:ee.memoizedState,baseState:ee.baseState,baseQueue:ee.baseQueue,queue:ee.queue,next:null},Ne===null?Dt.memoizedState=Ne=s:Ne=Ne.next=s}return Ne}function fh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Jl(s){var r=Zl;return Zl+=1,Eo===null&&(Eo=[]),s=L0(Eo,s,r),r=Dt,(Ne===null?r.memoizedState:Ne.next)===null&&(r=r.alternate,F.H=r===null||r.memoizedState===null?I_:kg),s}function dh(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Jl(s);if(s.$$typeof===Z)return We(s)}throw Error(i(438,String(s)))}function bg(s){var r=null,l=Dt.updateQueue;if(l!==null&&(r=l.memoCache),r==null){var u=Dt.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(m){return m.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),l===null&&(l=fh(),Dt.updateQueue=l),l.memoCache=r,l=r.data[r.index],l===void 0)for(l=r.data[r.index]=Array(s),u=0;u<s;u++)l[u]=P;return r.index++,l}function ms(s,r){return typeof r=="function"?r(s):r}function gh(s){var r=Ee();return vg(r,ee,s)}function vg(s,r,l){var u=s.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=l;var m=s.baseQueue,p=u.pending;if(p!==null){if(m!==null){var v=m.next;m.next=p.next,p.next=v}r.baseQueue=m=p,u.pending=null}if(p=s.baseState,m===null)s.memoizedState=p;else{r=m.next;var w=v=null,V=null,G=r,J=!1;do{var st=G.lane&-536870913;if(st!==G.lane?(Vt&st)===st:(gs&st)===st){var K=G.revertLane;if(K===0)V!==null&&(V=V.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),st===po&&(J=!0);else if((gs&K)===K){G=G.next,K===po&&(J=!0);continue}else st={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},V===null?(w=V=st,v=p):V=V.next=st,Dt.lanes|=K,or|=K;st=G.action,_a&&l(p,st),p=G.hasEagerState?G.eagerState:l(p,st)}else K={lane:st,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},V===null?(w=V=K,v=p):V=V.next=K,Dt.lanes|=st,or|=st;G=G.next}while(G!==null&&G!==r);if(V===null?v=p:V.next=w,!Dn(p,s.memoizedState)&&(Me=!0,J&&(l=yo,l!==null)))throw l;s.memoizedState=p,s.baseState=v,s.baseQueue=V,u.lastRenderedState=p}return m===null&&(u.lanes=0),[s.memoizedState,u.dispatch]}function Tg(s){var r=Ee(),l=r.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=s;var u=l.dispatch,m=l.pending,p=r.memoizedState;if(m!==null){l.pending=null;var v=m=m.next;do p=s(p,v.action),v=v.next;while(v!==m);Dn(p,r.memoizedState)||(Me=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),l.lastRenderedState=p}return[p,u]}function Q0(s,r,l){var u=Dt,m=Ee(),p=Bt;if(p){if(l===void 0)throw Error(i(407));l=l()}else l=r();var v=!Dn((ee||m).memoizedState,l);if(v&&(m.memoizedState=l,Me=!0),m=m.queue,Sg(Z0.bind(null,u,m,s),[s]),m.getSnapshot!==r||v||Ne!==null&&Ne.memoizedState.tag&1){if(u.flags|=2048,xo(9,{destroy:void 0},W0.bind(null,u,m,l,r),null),se===null)throw Error(i(349));p||(gs&127)!==0||X0(u,r,l)}return l}function X0(s,r,l){s.flags|=16384,s={getSnapshot:r,value:l},r=Dt.updateQueue,r===null?(r=fh(),Dt.updateQueue=r,r.stores=[s]):(l=r.stores,l===null?r.stores=[s]:l.push(s))}function W0(s,r,l,u){r.value=l,r.getSnapshot=u,J0(r)&&t_(s)}function Z0(s,r,l){return l(function(){J0(r)&&t_(s)})}function J0(s){var r=s.getSnapshot;s=s.value;try{var l=r();return!Dn(s,l)}catch{return!0}}function t_(s){var r=ca(s,2);r!==null&&xn(r,s,2)}function Eg(s){var r=pn();if(typeof s=="function"){var l=s;if(s=l(),_a){Un(!0);try{l()}finally{Un(!1)}}}return r.memoizedState=r.baseState=s,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:s},r}function e_(s,r,l,u){return s.baseState=l,vg(s,ee,typeof u=="function"?u:ms)}function VA(s,r,l,u,m){if(yh(s))throw Error(i(485));if(s=r.action,s!==null){var p={payload:m,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){p.listeners.push(v)}};F.T!==null?l(!0):p.isTransition=!1,u(p),l=r.pending,l===null?(p.next=r.pending=p,n_(r,p)):(p.next=l.next,r.pending=l.next=p)}}function n_(s,r){var l=r.action,u=r.payload,m=s.state;if(r.isTransition){var p=F.T,v={};F.T=v;try{var w=l(m,u),V=F.S;V!==null&&V(v,w),i_(s,r,w)}catch(G){xg(s,r,G)}finally{p!==null&&v.types!==null&&(p.types=v.types),F.T=p}}else try{p=l(m,u),i_(s,r,p)}catch(G){xg(s,r,G)}}function i_(s,r,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){s_(s,r,u)},function(u){return xg(s,r,u)}):s_(s,r,l)}function s_(s,r,l){r.status="fulfilled",r.value=l,r_(r),s.state=l,r=s.pending,r!==null&&(l=r.next,l===r?s.pending=null:(l=l.next,r.next=l,n_(s,l)))}function xg(s,r,l){var u=s.pending;if(s.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=l,r_(r),r=r.next;while(r!==u)}s.action=null}function r_(s){s=s.listeners;for(var r=0;r<s.length;r++)(0,s[r])()}function a_(s,r){return r}function o_(s,r){if(Bt){var l=se.formState;if(l!==null){t:{var u=Dt;if(Bt){if(le){e:{for(var m=le,p=Qn;m.nodeType!==8;){if(!p){m=null;break e}if(m=Wn(m.nextSibling),m===null){m=null;break e}}p=m.data,m=p==="F!"||p==="F"?m:null}if(m){le=Wn(m.nextSibling),u=m.data==="F!";break t}}Zs(u)}u=!1}u&&(r=l[0])}}return l=pn(),l.memoizedState=l.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:a_,lastRenderedState:r},l.queue=u,l=A_.bind(null,Dt,u),u.dispatch=l,u=Eg(!1),p=Ig.bind(null,Dt,!1,u.queue),u=pn(),m={state:r,dispatch:null,action:s,pending:null},u.queue=m,l=VA.bind(null,Dt,m,p,l),m.dispatch=l,u.memoizedState=s,[r,l,!1]}function l_(s){var r=Ee();return c_(r,ee,s)}function c_(s,r,l){if(r=vg(s,r,a_)[0],s=gh(ms)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=Jl(r)}catch(v){throw v===_o?sh:v}else u=r;r=Ee();var m=r.queue,p=m.dispatch;return l!==r.memoizedState&&(Dt.flags|=2048,xo(9,{destroy:void 0},PA.bind(null,m,l),null)),[u,p,s]}function PA(s,r){s.action=r}function u_(s){var r=Ee(),l=ee;if(l!==null)return c_(r,l,s);Ee(),r=r.memoizedState,l=Ee();var u=l.queue.dispatch;return l.memoizedState=s,[r,u,!1]}function xo(s,r,l,u){return s={tag:s,create:l,deps:u,inst:r,next:null},r=Dt.updateQueue,r===null&&(r=fh(),Dt.updateQueue=r),l=r.lastEffect,l===null?r.lastEffect=s.next=s:(u=l.next,l.next=s,s.next=u,r.lastEffect=s),s}function h_(){return Ee().memoizedState}function mh(s,r,l,u){var m=pn();Dt.flags|=s,m.memoizedState=xo(1|r,{destroy:void 0},l,u===void 0?null:u)}function ph(s,r,l,u){var m=Ee();u=u===void 0?null:u;var p=m.memoizedState.inst;ee!==null&&u!==null&&gg(u,ee.memoizedState.deps)?m.memoizedState=xo(r,p,l,u):(Dt.flags|=s,m.memoizedState=xo(1|r,p,l,u))}function f_(s,r){mh(8390656,8,s,r)}function Sg(s,r){ph(2048,8,s,r)}function LA(s){Dt.flags|=4;var r=Dt.updateQueue;if(r===null)r=fh(),Dt.updateQueue=r,r.events=[s];else{var l=r.events;l===null?r.events=[s]:l.push(s)}}function d_(s){var r=Ee().memoizedState;return LA({ref:r,nextImpl:s}),function(){if((Kt&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}function g_(s,r){return ph(4,2,s,r)}function m_(s,r){return ph(4,4,s,r)}function p_(s,r){if(typeof r=="function"){s=s();var l=r(s);return function(){typeof l=="function"?l():r(null)}}if(r!=null)return s=s(),r.current=s,function(){r.current=null}}function y_(s,r,l){l=l!=null?l.concat([s]):null,ph(4,4,p_.bind(null,r,s),l)}function wg(){}function __(s,r){var l=Ee();r=r===void 0?null:r;var u=l.memoizedState;return r!==null&&gg(r,u[1])?u[0]:(l.memoizedState=[s,r],s)}function b_(s,r){var l=Ee();r=r===void 0?null:r;var u=l.memoizedState;if(r!==null&&gg(r,u[1]))return u[0];if(u=s(),_a){Un(!0);try{s()}finally{Un(!1)}}return l.memoizedState=[u,r],u}function Ag(s,r,l){return l===void 0||(gs&1073741824)!==0&&(Vt&261930)===0?s.memoizedState=r:(s.memoizedState=l,s=vb(),Dt.lanes|=s,or|=s,l)}function v_(s,r,l,u){return Dn(l,r)?l:vo.current!==null?(s=Ag(s,l,u),Dn(s,r)||(Me=!0),s):(gs&42)===0||(gs&1073741824)!==0&&(Vt&261930)===0?(Me=!0,s.memoizedState=l):(s=vb(),Dt.lanes|=s,or|=s,r)}function T_(s,r,l,u,m){var p=Y.p;Y.p=p!==0&&8>p?p:8;var v=F.T,w={};F.T=w,Ig(s,!1,r,l);try{var V=m(),G=F.S;if(G!==null&&G(w,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var J=MA(V,u);tc(s,r,J,Pn(s))}else tc(s,r,u,Pn(s))}catch(st){tc(s,r,{then:function(){},status:"rejected",reason:st},Pn())}finally{Y.p=p,v!==null&&w.types!==null&&(v.types=w.types),F.T=v}}function jA(){}function Cg(s,r,l,u){if(s.tag!==5)throw Error(i(476));var m=E_(s).queue;T_(s,m,r,ht,l===null?jA:function(){return x_(s),l(u)})}function E_(s){var r=s.memoizedState;if(r!==null)return r;r={memoizedState:ht,baseState:ht,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:ht},next:null};var l={};return r.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ms,lastRenderedState:l},next:null},s.memoizedState=r,s=s.alternate,s!==null&&(s.memoizedState=r),r}function x_(s){var r=E_(s);r.next===null&&(r=s.alternate.memoizedState),tc(s,r.next.queue,{},Pn())}function Rg(){return We(yc)}function S_(){return Ee().memoizedState}function w_(){return Ee().memoizedState}function UA(s){for(var r=s.return;r!==null;){switch(r.tag){case 24:case 3:var l=Pn();s=er(l);var u=nr(r,s,l);u!==null&&(xn(u,r,l),Ql(u,r,l)),r={cache:ig()},s.payload=r;return}r=r.return}}function BA(s,r,l){var u=Pn();l={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},yh(s)?C_(r,l):(l=$d(s,r,l,u),l!==null&&(xn(l,s,u),R_(l,r,u)))}function A_(s,r,l){var u=Pn();tc(s,r,l,u)}function tc(s,r,l,u){var m={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(yh(s))C_(r,m);else{var p=s.alternate;if(s.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var v=r.lastRenderedState,w=p(v,l);if(m.hasEagerState=!0,m.eagerState=w,Dn(w,v))return Wu(s,r,m,0),se===null&&Xu(),!1}catch{}finally{}if(l=$d(s,r,m,u),l!==null)return xn(l,s,u),R_(l,r,u),!0}return!1}function Ig(s,r,l,u){if(u={lane:2,revertLane:om(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},yh(s)){if(r)throw Error(i(479))}else r=$d(s,l,u,2),r!==null&&xn(r,s,2)}function yh(s){var r=s.alternate;return s===Dt||r!==null&&r===Dt}function C_(s,r){To=uh=!0;var l=s.pending;l===null?r.next=r:(r.next=l.next,l.next=r),s.pending=r}function R_(s,r,l){if((l&4194048)!==0){var u=r.lanes;u&=s.pendingLanes,l|=u,r.lanes=l,El(s,l)}}var ec={readContext:We,use:dh,useCallback:pe,useContext:pe,useEffect:pe,useImperativeHandle:pe,useLayoutEffect:pe,useInsertionEffect:pe,useMemo:pe,useReducer:pe,useRef:pe,useState:pe,useDebugValue:pe,useDeferredValue:pe,useTransition:pe,useSyncExternalStore:pe,useId:pe,useHostTransitionStatus:pe,useFormState:pe,useActionState:pe,useOptimistic:pe,useMemoCache:pe,useCacheRefresh:pe};ec.useEffectEvent=pe;var I_={readContext:We,use:dh,useCallback:function(s,r){return pn().memoizedState=[s,r===void 0?null:r],s},useContext:We,useEffect:f_,useImperativeHandle:function(s,r,l){l=l!=null?l.concat([s]):null,mh(4194308,4,p_.bind(null,r,s),l)},useLayoutEffect:function(s,r){return mh(4194308,4,s,r)},useInsertionEffect:function(s,r){mh(4,2,s,r)},useMemo:function(s,r){var l=pn();r=r===void 0?null:r;var u=s();if(_a){Un(!0);try{s()}finally{Un(!1)}}return l.memoizedState=[u,r],u},useReducer:function(s,r,l){var u=pn();if(l!==void 0){var m=l(r);if(_a){Un(!0);try{l(r)}finally{Un(!1)}}}else m=r;return u.memoizedState=u.baseState=m,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:m},u.queue=s,s=s.dispatch=BA.bind(null,Dt,s),[u.memoizedState,s]},useRef:function(s){var r=pn();return s={current:s},r.memoizedState=s},useState:function(s){s=Eg(s);var r=s.queue,l=A_.bind(null,Dt,r);return r.dispatch=l,[s.memoizedState,l]},useDebugValue:wg,useDeferredValue:function(s,r){var l=pn();return Ag(l,s,r)},useTransition:function(){var s=Eg(!1);return s=T_.bind(null,Dt,s.queue,!0,!1),pn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,r,l){var u=Dt,m=pn();if(Bt){if(l===void 0)throw Error(i(407));l=l()}else{if(l=r(),se===null)throw Error(i(349));(Vt&127)!==0||X0(u,r,l)}m.memoizedState=l;var p={value:l,getSnapshot:r};return m.queue=p,f_(Z0.bind(null,u,p,s),[s]),u.flags|=2048,xo(9,{destroy:void 0},W0.bind(null,u,p,l,r),null),l},useId:function(){var s=pn(),r=se.identifierPrefix;if(Bt){var l=qi,u=Fi;l=(u&~(1<<32-be(u)-1)).toString(32)+l,r="_"+r+"R_"+l,l=hh++,0<l&&(r+="H"+l.toString(32)),r+="_"}else l=OA++,r="_"+r+"r_"+l.toString(32)+"_";return s.memoizedState=r},useHostTransitionStatus:Rg,useFormState:o_,useActionState:o_,useOptimistic:function(s){var r=pn();r.memoizedState=r.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=l,r=Ig.bind(null,Dt,!0,l),l.dispatch=r,[s,r]},useMemoCache:bg,useCacheRefresh:function(){return pn().memoizedState=UA.bind(null,Dt)},useEffectEvent:function(s){var r=pn(),l={impl:s};return r.memoizedState=l,function(){if((Kt&2)!==0)throw Error(i(440));return l.impl.apply(void 0,arguments)}}},kg={readContext:We,use:dh,useCallback:__,useContext:We,useEffect:Sg,useImperativeHandle:y_,useInsertionEffect:g_,useLayoutEffect:m_,useMemo:b_,useReducer:gh,useRef:h_,useState:function(){return gh(ms)},useDebugValue:wg,useDeferredValue:function(s,r){var l=Ee();return v_(l,ee.memoizedState,s,r)},useTransition:function(){var s=gh(ms)[0],r=Ee().memoizedState;return[typeof s=="boolean"?s:Jl(s),r]},useSyncExternalStore:Q0,useId:S_,useHostTransitionStatus:Rg,useFormState:l_,useActionState:l_,useOptimistic:function(s,r){var l=Ee();return e_(l,ee,s,r)},useMemoCache:bg,useCacheRefresh:w_};kg.useEffectEvent=d_;var k_={readContext:We,use:dh,useCallback:__,useContext:We,useEffect:Sg,useImperativeHandle:y_,useInsertionEffect:g_,useLayoutEffect:m_,useMemo:b_,useReducer:Tg,useRef:h_,useState:function(){return Tg(ms)},useDebugValue:wg,useDeferredValue:function(s,r){var l=Ee();return ee===null?Ag(l,s,r):v_(l,ee.memoizedState,s,r)},useTransition:function(){var s=Tg(ms)[0],r=Ee().memoizedState;return[typeof s=="boolean"?s:Jl(s),r]},useSyncExternalStore:Q0,useId:S_,useHostTransitionStatus:Rg,useFormState:u_,useActionState:u_,useOptimistic:function(s,r){var l=Ee();return ee!==null?e_(l,ee,s,r):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:bg,useCacheRefresh:w_};k_.useEffectEvent=d_;function Dg(s,r,l,u){r=s.memoizedState,l=l(u,r),l=l==null?r:b({},r,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var Ng={enqueueSetState:function(s,r,l){s=s._reactInternals;var u=Pn(),m=er(u);m.payload=r,l!=null&&(m.callback=l),r=nr(s,m,u),r!==null&&(xn(r,s,u),Ql(r,s,u))},enqueueReplaceState:function(s,r,l){s=s._reactInternals;var u=Pn(),m=er(u);m.tag=1,m.payload=r,l!=null&&(m.callback=l),r=nr(s,m,u),r!==null&&(xn(r,s,u),Ql(r,s,u))},enqueueForceUpdate:function(s,r){s=s._reactInternals;var l=Pn(),u=er(l);u.tag=2,r!=null&&(u.callback=r),r=nr(s,u,l),r!==null&&(xn(r,s,l),Ql(r,s,l))}};function D_(s,r,l,u,m,p,v){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(u,p,v):r.prototype&&r.prototype.isPureReactComponent?!Bl(l,u)||!Bl(m,p):!0}function N_(s,r,l,u){s=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(l,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(l,u),r.state!==s&&Ng.enqueueReplaceState(r,r.state,null)}function ba(s,r){var l=r;if("ref"in r){l={};for(var u in r)u!=="ref"&&(l[u]=r[u])}if(s=s.defaultProps){l===r&&(l=b({},l));for(var m in s)l[m]===void 0&&(l[m]=s[m])}return l}function M_(s){Qu(s)}function O_(s){console.error(s)}function z_(s){Qu(s)}function _h(s,r){try{var l=s.onUncaughtError;l(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function V_(s,r,l){try{var u=s.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Mg(s,r,l){return l=er(l),l.tag=3,l.payload={element:null},l.callback=function(){_h(s,r)},l}function P_(s){return s=er(s),s.tag=3,s}function L_(s,r,l,u){var m=l.type.getDerivedStateFromError;if(typeof m=="function"){var p=u.value;s.payload=function(){return m(p)},s.callback=function(){V_(r,l,u)}}var v=l.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(s.callback=function(){V_(r,l,u),typeof m!="function"&&(lr===null?lr=new Set([this]):lr.add(this));var w=u.stack;this.componentDidCatch(u.value,{componentStack:w!==null?w:""})})}function HA(s,r,l,u,m){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=l.alternate,r!==null&&mo(r,l,m,!0),l=Mn.current,l!==null){switch(l.tag){case 31:case 13:return Xn===null?kh():l.alternate===null&&ye===0&&(ye=3),l.flags&=-257,l.flags|=65536,l.lanes=m,u===rh?l.flags|=16384:(r=l.updateQueue,r===null?l.updateQueue=new Set([u]):r.add(u),sm(s,u,m)),!1;case 22:return l.flags|=65536,u===rh?l.flags|=16384:(r=l.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=r):(l=r.retryQueue,l===null?r.retryQueue=new Set([u]):l.add(u)),sm(s,u,m)),!1}throw Error(i(435,l.tag))}return sm(s,u,m),kh(),!1}if(Bt)return r=Mn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=m,u!==Zd&&(s=Error(i(422),{cause:u}),ql($n(s,l)))):(u!==Zd&&(r=Error(i(423),{cause:u}),ql($n(r,l))),s=s.current.alternate,s.flags|=65536,m&=-m,s.lanes|=m,u=$n(u,l),m=Mg(s.stateNode,u,m),cg(s,m),ye!==4&&(ye=2)),!1;var p=Error(i(520),{cause:u});if(p=$n(p,l),cc===null?cc=[p]:cc.push(p),ye!==4&&(ye=2),r===null)return!0;u=$n(u,l),l=r;do{switch(l.tag){case 3:return l.flags|=65536,s=m&-m,l.lanes|=s,s=Mg(l.stateNode,u,s),cg(l,s),!1;case 1:if(r=l.type,p=l.stateNode,(l.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(lr===null||!lr.has(p))))return l.flags|=65536,m&=-m,l.lanes|=m,m=P_(m),L_(m,s,l,u),cg(l,m),!1}l=l.return}while(l!==null);return!1}var Og=Error(i(461)),Me=!1;function Ze(s,r,l,u){r.child=s===null?H0(r,null,l,u):ya(r,s.child,l,u)}function j_(s,r,l,u,m){l=l.render;var p=r.ref;if("ref"in u){var v={};for(var w in u)w!=="ref"&&(v[w]=u[w])}else v=u;return da(r),u=mg(s,r,l,v,p,m),w=pg(),s!==null&&!Me?(yg(s,r,m),ps(s,r,m)):(Bt&&w&&Xd(r),r.flags|=1,Ze(s,r,u,m),r.child)}function U_(s,r,l,u,m){if(s===null){var p=l.type;return typeof p=="function"&&!Yd(p)&&p.defaultProps===void 0&&l.compare===null?(r.tag=15,r.type=p,B_(s,r,p,u,m)):(s=Ju(l.type,null,u,r,r.mode,m),s.ref=r.ref,s.return=r,r.child=s)}if(p=s.child,!Hg(s,m)){var v=p.memoizedProps;if(l=l.compare,l=l!==null?l:Bl,l(v,u)&&s.ref===r.ref)return ps(s,r,m)}return r.flags|=1,s=us(p,u),s.ref=r.ref,s.return=r,r.child=s}function B_(s,r,l,u,m){if(s!==null){var p=s.memoizedProps;if(Bl(p,u)&&s.ref===r.ref)if(Me=!1,r.pendingProps=u=p,Hg(s,m))(s.flags&131072)!==0&&(Me=!0);else return r.lanes=s.lanes,ps(s,r,m)}return zg(s,r,l,u,m)}function H_(s,r,l,u){var m=u.children,p=s!==null?s.memoizedState:null;if(s===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(p=p!==null?p.baseLanes|l:l,s!==null){for(u=r.child=s.child,m=0;u!==null;)m=m|u.lanes|u.childLanes,u=u.sibling;u=m&~p}else u=0,r.child=null;return F_(s,r,p,l,u)}if((l&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},s!==null&&ih(r,p!==null?p.cachePool:null),p!==null?G0(r,p):hg(),$0(r);else return u=r.lanes=536870912,F_(s,r,p!==null?p.baseLanes|l:l,l,u)}else p!==null?(ih(r,p.cachePool),G0(r,p),sr(),r.memoizedState=null):(s!==null&&ih(r,null),hg(),sr());return Ze(s,r,m,l),r.child}function nc(s,r){return s!==null&&s.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function F_(s,r,l,u,m){var p=rg();return p=p===null?null:{parent:De._currentValue,pool:p},r.memoizedState={baseLanes:l,cachePool:p},s!==null&&ih(r,null),hg(),$0(r),s!==null&&mo(s,r,u,!0),r.childLanes=m,null}function bh(s,r){return r=Th({mode:r.mode,children:r.children},s.mode),r.ref=s.ref,s.child=r,r.return=s,r}function q_(s,r,l){return ya(r,s.child,null,l),s=bh(r,r.pendingProps),s.flags|=2,On(r),r.memoizedState=null,s}function FA(s,r,l){var u=r.pendingProps,m=(r.flags&128)!==0;if(r.flags&=-129,s===null){if(Bt){if(u.mode==="hidden")return s=bh(r,u),r.lanes=536870912,nc(null,s);if(dg(r),(s=le)?(s=nv(s,Qn),s=s!==null&&s.data==="&"?s:null,s!==null&&(r.memoizedState={dehydrated:s,treeContext:Xs!==null?{id:Fi,overflow:qi}:null,retryLane:536870912,hydrationErrors:null},l=C0(s),l.return=r,r.child=l,Xe=r,le=null)):s=null,s===null)throw Zs(r);return r.lanes=536870912,null}return bh(r,u)}var p=s.memoizedState;if(p!==null){var v=p.dehydrated;if(dg(r),m)if(r.flags&256)r.flags&=-257,r=q_(s,r,l);else if(r.memoizedState!==null)r.child=s.child,r.flags|=128,r=null;else throw Error(i(558));else if(Me||mo(s,r,l,!1),m=(l&s.childLanes)!==0,Me||m){if(u=se,u!==null&&(v=xl(u,l),v!==0&&v!==p.retryLane))throw p.retryLane=v,ca(s,v),xn(u,s,v),Og;kh(),r=q_(s,r,l)}else s=p.treeContext,le=Wn(v.nextSibling),Xe=r,Bt=!0,Ws=null,Qn=!1,s!==null&&k0(r,s),r=bh(r,u),r.flags|=4096;return r}return s=us(s.child,{mode:u.mode,children:u.children}),s.ref=r.ref,r.child=s,s.return=r,s}function vh(s,r){var l=r.ref;if(l===null)s!==null&&s.ref!==null&&(r.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(s===null||s.ref!==l)&&(r.flags|=4194816)}}function zg(s,r,l,u,m){return da(r),l=mg(s,r,l,u,void 0,m),u=pg(),s!==null&&!Me?(yg(s,r,m),ps(s,r,m)):(Bt&&u&&Xd(r),r.flags|=1,Ze(s,r,l,m),r.child)}function G_(s,r,l,u,m,p){return da(r),r.updateQueue=null,l=K0(r,u,l,m),Y0(s),u=pg(),s!==null&&!Me?(yg(s,r,p),ps(s,r,p)):(Bt&&u&&Xd(r),r.flags|=1,Ze(s,r,l,p),r.child)}function $_(s,r,l,u,m){if(da(r),r.stateNode===null){var p=uo,v=l.contextType;typeof v=="object"&&v!==null&&(p=We(v)),p=new l(u,p),r.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Ng,r.stateNode=p,p._reactInternals=r,p=r.stateNode,p.props=u,p.state=r.memoizedState,p.refs={},og(r),v=l.contextType,p.context=typeof v=="object"&&v!==null?We(v):uo,p.state=r.memoizedState,v=l.getDerivedStateFromProps,typeof v=="function"&&(Dg(r,l,v,u),p.state=r.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(v=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),v!==p.state&&Ng.enqueueReplaceState(p,p.state,null),Wl(r,u,p,m),Xl(),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(s===null){p=r.stateNode;var w=r.memoizedProps,V=ba(l,w);p.props=V;var G=p.context,J=l.contextType;v=uo,typeof J=="object"&&J!==null&&(v=We(J));var st=l.getDerivedStateFromProps;J=typeof st=="function"||typeof p.getSnapshotBeforeUpdate=="function",w=r.pendingProps!==w,J||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(w||G!==v)&&N_(r,p,u,v),tr=!1;var K=r.memoizedState;p.state=K,Wl(r,u,p,m),Xl(),G=r.memoizedState,w||K!==G||tr?(typeof st=="function"&&(Dg(r,l,st,u),G=r.memoizedState),(V=tr||D_(r,l,V,u,K,G,v))?(J||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(r.flags|=4194308)):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=G),p.props=u,p.state=G,p.context=v,u=V):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{p=r.stateNode,lg(s,r),v=r.memoizedProps,J=ba(l,v),p.props=J,st=r.pendingProps,K=p.context,G=l.contextType,V=uo,typeof G=="object"&&G!==null&&(V=We(G)),w=l.getDerivedStateFromProps,(G=typeof w=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(v!==st||K!==V)&&N_(r,p,u,V),tr=!1,K=r.memoizedState,p.state=K,Wl(r,u,p,m),Xl();var X=r.memoizedState;v!==st||K!==X||tr||s!==null&&s.dependencies!==null&&eh(s.dependencies)?(typeof w=="function"&&(Dg(r,l,w,u),X=r.memoizedState),(J=tr||D_(r,l,J,u,K,X,V)||s!==null&&s.dependencies!==null&&eh(s.dependencies))?(G||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,X,V),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,X,V)),typeof p.componentDidUpdate=="function"&&(r.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof p.componentDidUpdate!="function"||v===s.memoizedProps&&K===s.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||v===s.memoizedProps&&K===s.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=X),p.props=u,p.state=X,p.context=V,u=J):(typeof p.componentDidUpdate!="function"||v===s.memoizedProps&&K===s.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||v===s.memoizedProps&&K===s.memoizedState||(r.flags|=1024),u=!1)}return p=u,vh(s,r),u=(r.flags&128)!==0,p||u?(p=r.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:p.render(),r.flags|=1,s!==null&&u?(r.child=ya(r,s.child,null,m),r.child=ya(r,null,l,m)):Ze(s,r,l,m),r.memoizedState=p.state,s=r.child):s=ps(s,r,m),s}function Y_(s,r,l,u){return ha(),r.flags|=256,Ze(s,r,l,u),r.child}var Vg={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Pg(s){return{baseLanes:s,cachePool:V0()}}function Lg(s,r,l){return s=s!==null?s.childLanes&~l:0,r&&(s|=Vn),s}function K_(s,r,l){var u=r.pendingProps,m=!1,p=(r.flags&128)!==0,v;if((v=p)||(v=s!==null&&s.memoizedState===null?!1:(Te.current&2)!==0),v&&(m=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,s===null){if(Bt){if(m?ir(r):sr(),(s=le)?(s=nv(s,Qn),s=s!==null&&s.data!=="&"?s:null,s!==null&&(r.memoizedState={dehydrated:s,treeContext:Xs!==null?{id:Fi,overflow:qi}:null,retryLane:536870912,hydrationErrors:null},l=C0(s),l.return=r,r.child=l,Xe=r,le=null)):s=null,s===null)throw Zs(r);return vm(s)?r.lanes=32:r.lanes=536870912,null}var w=u.children;return u=u.fallback,m?(sr(),m=r.mode,w=Th({mode:"hidden",children:w},m),u=ua(u,m,l,null),w.return=r,u.return=r,w.sibling=u,r.child=w,u=r.child,u.memoizedState=Pg(l),u.childLanes=Lg(s,v,l),r.memoizedState=Vg,nc(null,u)):(ir(r),jg(r,w))}var V=s.memoizedState;if(V!==null&&(w=V.dehydrated,w!==null)){if(p)r.flags&256?(ir(r),r.flags&=-257,r=Ug(s,r,l)):r.memoizedState!==null?(sr(),r.child=s.child,r.flags|=128,r=null):(sr(),w=u.fallback,m=r.mode,u=Th({mode:"visible",children:u.children},m),w=ua(w,m,l,null),w.flags|=2,u.return=r,w.return=r,u.sibling=w,r.child=u,ya(r,s.child,null,l),u=r.child,u.memoizedState=Pg(l),u.childLanes=Lg(s,v,l),r.memoizedState=Vg,r=nc(null,u));else if(ir(r),vm(w)){if(v=w.nextSibling&&w.nextSibling.dataset,v)var G=v.dgst;v=G,u=Error(i(419)),u.stack="",u.digest=v,ql({value:u,source:null,stack:null}),r=Ug(s,r,l)}else if(Me||mo(s,r,l,!1),v=(l&s.childLanes)!==0,Me||v){if(v=se,v!==null&&(u=xl(v,l),u!==0&&u!==V.retryLane))throw V.retryLane=u,ca(s,u),xn(v,s,u),Og;bm(w)||kh(),r=Ug(s,r,l)}else bm(w)?(r.flags|=192,r.child=s.child,r=null):(s=V.treeContext,le=Wn(w.nextSibling),Xe=r,Bt=!0,Ws=null,Qn=!1,s!==null&&k0(r,s),r=jg(r,u.children),r.flags|=4096);return r}return m?(sr(),w=u.fallback,m=r.mode,V=s.child,G=V.sibling,u=us(V,{mode:"hidden",children:u.children}),u.subtreeFlags=V.subtreeFlags&65011712,G!==null?w=us(G,w):(w=ua(w,m,l,null),w.flags|=2),w.return=r,u.return=r,u.sibling=w,r.child=u,nc(null,u),u=r.child,w=s.child.memoizedState,w===null?w=Pg(l):(m=w.cachePool,m!==null?(V=De._currentValue,m=m.parent!==V?{parent:V,pool:V}:m):m=V0(),w={baseLanes:w.baseLanes|l,cachePool:m}),u.memoizedState=w,u.childLanes=Lg(s,v,l),r.memoizedState=Vg,nc(s.child,u)):(ir(r),l=s.child,s=l.sibling,l=us(l,{mode:"visible",children:u.children}),l.return=r,l.sibling=null,s!==null&&(v=r.deletions,v===null?(r.deletions=[s],r.flags|=16):v.push(s)),r.child=l,r.memoizedState=null,l)}function jg(s,r){return r=Th({mode:"visible",children:r},s.mode),r.return=s,s.child=r}function Th(s,r){return s=Nn(22,s,null,r),s.lanes=0,s}function Ug(s,r,l){return ya(r,s.child,null,l),s=jg(r,r.pendingProps.children),s.flags|=2,r.memoizedState=null,s}function Q_(s,r,l){s.lanes|=r;var u=s.alternate;u!==null&&(u.lanes|=r),eg(s.return,r,l)}function Bg(s,r,l,u,m,p){var v=s.memoizedState;v===null?s.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:m,treeForkCount:p}:(v.isBackwards=r,v.rendering=null,v.renderingStartTime=0,v.last=u,v.tail=l,v.tailMode=m,v.treeForkCount=p)}function X_(s,r,l){var u=r.pendingProps,m=u.revealOrder,p=u.tail;u=u.children;var v=Te.current,w=(v&2)!==0;if(w?(v=v&1|2,r.flags|=128):v&=1,at(Te,v),Ze(s,r,u,l),u=Bt?Fl:0,!w&&s!==null&&(s.flags&128)!==0)t:for(s=r.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&Q_(s,l,r);else if(s.tag===19)Q_(s,l,r);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break t;for(;s.sibling===null;){if(s.return===null||s.return===r)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(m){case"forwards":for(l=r.child,m=null;l!==null;)s=l.alternate,s!==null&&ch(s)===null&&(m=l),l=l.sibling;l=m,l===null?(m=r.child,r.child=null):(m=l.sibling,l.sibling=null),Bg(r,!1,m,l,p,u);break;case"backwards":case"unstable_legacy-backwards":for(l=null,m=r.child,r.child=null;m!==null;){if(s=m.alternate,s!==null&&ch(s)===null){r.child=m;break}s=m.sibling,m.sibling=l,l=m,m=s}Bg(r,!0,l,null,p,u);break;case"together":Bg(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function ps(s,r,l){if(s!==null&&(r.dependencies=s.dependencies),or|=r.lanes,(l&r.childLanes)===0)if(s!==null){if(mo(s,r,l,!1),(l&r.childLanes)===0)return null}else return null;if(s!==null&&r.child!==s.child)throw Error(i(153));if(r.child!==null){for(s=r.child,l=us(s,s.pendingProps),r.child=l,l.return=r;s.sibling!==null;)s=s.sibling,l=l.sibling=us(s,s.pendingProps),l.return=r;l.sibling=null}return r.child}function Hg(s,r){return(s.lanes&r)!==0?!0:(s=s.dependencies,!!(s!==null&&eh(s)))}function qA(s,r,l){switch(r.tag){case 3:_e(r,r.stateNode.containerInfo),Js(r,De,s.memoizedState.cache),ha();break;case 27:case 5:Gr(r);break;case 4:_e(r,r.stateNode.containerInfo);break;case 10:Js(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,dg(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(ir(r),r.flags|=128,null):(l&r.child.childLanes)!==0?K_(s,r,l):(ir(r),s=ps(s,r,l),s!==null?s.sibling:null);ir(r);break;case 19:var m=(s.flags&128)!==0;if(u=(l&r.childLanes)!==0,u||(mo(s,r,l,!1),u=(l&r.childLanes)!==0),m){if(u)return X_(s,r,l);r.flags|=128}if(m=r.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),at(Te,Te.current),u)break;return null;case 22:return r.lanes=0,H_(s,r,l,r.pendingProps);case 24:Js(r,De,s.memoizedState.cache)}return ps(s,r,l)}function W_(s,r,l){if(s!==null)if(s.memoizedProps!==r.pendingProps)Me=!0;else{if(!Hg(s,l)&&(r.flags&128)===0)return Me=!1,qA(s,r,l);Me=(s.flags&131072)!==0}else Me=!1,Bt&&(r.flags&1048576)!==0&&I0(r,Fl,r.index);switch(r.lanes=0,r.tag){case 16:t:{var u=r.pendingProps;if(s=ma(r.elementType),r.type=s,typeof s=="function")Yd(s)?(u=ba(s,u),r.tag=1,r=$_(null,r,s,u,l)):(r.tag=0,r=zg(null,r,s,u,l));else{if(s!=null){var m=s.$$typeof;if(m===nt){r.tag=11,r=j_(null,r,s,u,l);break t}else if(m===D){r.tag=14,r=U_(null,r,s,u,l);break t}}throw r=wt(s)||s,Error(i(306,r,""))}}return r;case 0:return zg(s,r,r.type,r.pendingProps,l);case 1:return u=r.type,m=ba(u,r.pendingProps),$_(s,r,u,m,l);case 3:t:{if(_e(r,r.stateNode.containerInfo),s===null)throw Error(i(387));u=r.pendingProps;var p=r.memoizedState;m=p.element,lg(s,r),Wl(r,u,null,l);var v=r.memoizedState;if(u=v.cache,Js(r,De,u),u!==p.cache&&ng(r,[De],l,!0),Xl(),u=v.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){r=Y_(s,r,u,l);break t}else if(u!==m){m=$n(Error(i(424)),r),ql(m),r=Y_(s,r,u,l);break t}else{switch(s=r.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(le=Wn(s.firstChild),Xe=r,Bt=!0,Ws=null,Qn=!0,l=H0(r,null,u,l),r.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(ha(),u===m){r=ps(s,r,l);break t}Ze(s,r,u,l)}r=r.child}return r;case 26:return vh(s,r),s===null?(l=lv(r.type,null,r.pendingProps,null))?r.memoizedState=l:Bt||(l=r.type,s=r.pendingProps,u=Ph(ct.current).createElement(l),u[Re]=r,u[Fe]=s,Je(u,l,s),Ie(u),r.stateNode=u):r.memoizedState=lv(r.type,s.memoizedProps,r.pendingProps,s.memoizedState),null;case 27:return Gr(r),s===null&&Bt&&(u=r.stateNode=rv(r.type,r.pendingProps,ct.current),Xe=r,Qn=!0,m=le,fr(r.type)?(Tm=m,le=Wn(u.firstChild)):le=m),Ze(s,r,r.pendingProps.children,l),vh(s,r),s===null&&(r.flags|=4194304),r.child;case 5:return s===null&&Bt&&((m=u=le)&&(u=v2(u,r.type,r.pendingProps,Qn),u!==null?(r.stateNode=u,Xe=r,le=Wn(u.firstChild),Qn=!1,m=!0):m=!1),m||Zs(r)),Gr(r),m=r.type,p=r.pendingProps,v=s!==null?s.memoizedProps:null,u=p.children,pm(m,p)?u=null:v!==null&&pm(m,v)&&(r.flags|=32),r.memoizedState!==null&&(m=mg(s,r,zA,null,null,l),yc._currentValue=m),vh(s,r),Ze(s,r,u,l),r.child;case 6:return s===null&&Bt&&((s=l=le)&&(l=T2(l,r.pendingProps,Qn),l!==null?(r.stateNode=l,Xe=r,le=null,s=!0):s=!1),s||Zs(r)),null;case 13:return K_(s,r,l);case 4:return _e(r,r.stateNode.containerInfo),u=r.pendingProps,s===null?r.child=ya(r,null,u,l):Ze(s,r,u,l),r.child;case 11:return j_(s,r,r.type,r.pendingProps,l);case 7:return Ze(s,r,r.pendingProps,l),r.child;case 8:return Ze(s,r,r.pendingProps.children,l),r.child;case 12:return Ze(s,r,r.pendingProps.children,l),r.child;case 10:return u=r.pendingProps,Js(r,r.type,u.value),Ze(s,r,u.children,l),r.child;case 9:return m=r.type._context,u=r.pendingProps.children,da(r),m=We(m),u=u(m),r.flags|=1,Ze(s,r,u,l),r.child;case 14:return U_(s,r,r.type,r.pendingProps,l);case 15:return B_(s,r,r.type,r.pendingProps,l);case 19:return X_(s,r,l);case 31:return FA(s,r,l);case 22:return H_(s,r,l,r.pendingProps);case 24:return da(r),u=We(De),s===null?(m=rg(),m===null&&(m=se,p=ig(),m.pooledCache=p,p.refCount++,p!==null&&(m.pooledCacheLanes|=l),m=p),r.memoizedState={parent:u,cache:m},og(r),Js(r,De,m)):((s.lanes&l)!==0&&(lg(s,r),Wl(r,null,null,l),Xl()),m=s.memoizedState,p=r.memoizedState,m.parent!==u?(m={parent:u,cache:u},r.memoizedState=m,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=m),Js(r,De,u)):(u=p.cache,Js(r,De,u),u!==m.cache&&ng(r,[De],l,!0))),Ze(s,r,r.pendingProps.children,l),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function ys(s){s.flags|=4}function Fg(s,r,l,u,m){if((r=(s.mode&32)!==0)&&(r=!1),r){if(s.flags|=16777216,(m&335544128)===m)if(s.stateNode.complete)s.flags|=8192;else if(Sb())s.flags|=8192;else throw pa=rh,ag}else s.flags&=-16777217}function Z_(s,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!dv(r))if(Sb())s.flags|=8192;else throw pa=rh,ag}function Eh(s,r){r!==null&&(s.flags|=4),s.flags&16384&&(r=s.tag!==22?Ru():536870912,s.lanes|=r,Co|=r)}function ic(s,r){if(!Bt)switch(s.tailMode){case"hidden":r=s.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?r||s.tail===null?s.tail=null:s.tail.sibling=null:u.sibling=null}}function ce(s){var r=s.alternate!==null&&s.alternate.child===s.child,l=0,u=0;if(r)for(var m=s.child;m!==null;)l|=m.lanes|m.childLanes,u|=m.subtreeFlags&65011712,u|=m.flags&65011712,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)l|=m.lanes|m.childLanes,u|=m.subtreeFlags,u|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=u,s.childLanes=l,r}function GA(s,r,l){var u=r.pendingProps;switch(Wd(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ce(r),null;case 1:return ce(r),null;case 3:return l=r.stateNode,u=null,s!==null&&(u=s.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),ds(De),fe(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(go(r)?ys(r):s===null||s.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,Jd())),ce(r),null;case 26:var m=r.type,p=r.memoizedState;return s===null?(ys(r),p!==null?(ce(r),Z_(r,p)):(ce(r),Fg(r,m,null,u,l))):p?p!==s.memoizedState?(ys(r),ce(r),Z_(r,p)):(ce(r),r.flags&=-16777217):(s=s.memoizedProps,s!==u&&ys(r),ce(r),Fg(r,m,s,u,l)),null;case 27:if(Ga(r),l=ct.current,m=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==u&&ys(r);else{if(!u){if(r.stateNode===null)throw Error(i(166));return ce(r),null}s=it.current,go(r)?D0(r):(s=rv(m,u,l),r.stateNode=s,ys(r))}return ce(r),null;case 5:if(Ga(r),m=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==u&&ys(r);else{if(!u){if(r.stateNode===null)throw Error(i(166));return ce(r),null}if(p=it.current,go(r))D0(r);else{var v=Ph(ct.current);switch(p){case 1:p=v.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:p=v.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":p=v.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":p=v.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":p=v.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof u.is=="string"?v.createElement("select",{is:u.is}):v.createElement("select"),u.multiple?p.multiple=!0:u.size&&(p.size=u.size);break;default:p=typeof u.is=="string"?v.createElement(m,{is:u.is}):v.createElement(m)}}p[Re]=r,p[Fe]=u;t:for(v=r.child;v!==null;){if(v.tag===5||v.tag===6)p.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===r)break t;for(;v.sibling===null;){if(v.return===null||v.return===r)break t;v=v.return}v.sibling.return=v.return,v=v.sibling}r.stateNode=p;t:switch(Je(p,m,u),m){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break t;case"img":u=!0;break t;default:u=!1}u&&ys(r)}}return ce(r),Fg(r,r.type,s===null?null:s.memoizedProps,r.pendingProps,l),null;case 6:if(s&&r.stateNode!=null)s.memoizedProps!==u&&ys(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(i(166));if(s=ct.current,go(r)){if(s=r.stateNode,l=r.memoizedProps,u=null,m=Xe,m!==null)switch(m.tag){case 27:case 5:u=m.memoizedProps}s[Re]=r,s=!!(s.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||Kb(s.nodeValue,l)),s||Zs(r,!0)}else s=Ph(s).createTextNode(u),s[Re]=r,r.stateNode=s}return ce(r),null;case 31:if(l=r.memoizedState,s===null||s.memoizedState!==null){if(u=go(r),l!==null){if(s===null){if(!u)throw Error(i(318));if(s=r.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(557));s[Re]=r}else ha(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ce(r),s=!1}else l=Jd(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=l),s=!0;if(!s)return r.flags&256?(On(r),r):(On(r),null);if((r.flags&128)!==0)throw Error(i(558))}return ce(r),null;case 13:if(u=r.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(m=go(r),u!==null&&u.dehydrated!==null){if(s===null){if(!m)throw Error(i(318));if(m=r.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[Re]=r}else ha(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ce(r),m=!1}else m=Jd(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=m),m=!0;if(!m)return r.flags&256?(On(r),r):(On(r),null)}return On(r),(r.flags&128)!==0?(r.lanes=l,r):(l=u!==null,s=s!==null&&s.memoizedState!==null,l&&(u=r.child,m=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(m=u.alternate.memoizedState.cachePool.pool),p=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==m&&(u.flags|=2048)),l!==s&&l&&(r.child.flags|=8192),Eh(r,r.updateQueue),ce(r),null);case 4:return fe(),s===null&&hm(r.stateNode.containerInfo),ce(r),null;case 10:return ds(r.type),ce(r),null;case 19:if($(Te),u=r.memoizedState,u===null)return ce(r),null;if(m=(r.flags&128)!==0,p=u.rendering,p===null)if(m)ic(u,!1);else{if(ye!==0||s!==null&&(s.flags&128)!==0)for(s=r.child;s!==null;){if(p=ch(s),p!==null){for(r.flags|=128,ic(u,!1),s=p.updateQueue,r.updateQueue=s,Eh(r,s),r.subtreeFlags=0,s=l,l=r.child;l!==null;)A0(l,s),l=l.sibling;return at(Te,Te.current&1|2),Bt&&hs(r,u.treeForkCount),r.child}s=s.sibling}u.tail!==null&&gn()>Ch&&(r.flags|=128,m=!0,ic(u,!1),r.lanes=4194304)}else{if(!m)if(s=ch(p),s!==null){if(r.flags|=128,m=!0,s=s.updateQueue,r.updateQueue=s,Eh(r,s),ic(u,!0),u.tail===null&&u.tailMode==="hidden"&&!p.alternate&&!Bt)return ce(r),null}else 2*gn()-u.renderingStartTime>Ch&&l!==536870912&&(r.flags|=128,m=!0,ic(u,!1),r.lanes=4194304);u.isBackwards?(p.sibling=r.child,r.child=p):(s=u.last,s!==null?s.sibling=p:r.child=p,u.last=p)}return u.tail!==null?(s=u.tail,u.rendering=s,u.tail=s.sibling,u.renderingStartTime=gn(),s.sibling=null,l=Te.current,at(Te,m?l&1|2:l&1),Bt&&hs(r,u.treeForkCount),s):(ce(r),null);case 22:case 23:return On(r),fg(),u=r.memoizedState!==null,s!==null?s.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(l&536870912)!==0&&(r.flags&128)===0&&(ce(r),r.subtreeFlags&6&&(r.flags|=8192)):ce(r),l=r.updateQueue,l!==null&&Eh(r,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==l&&(r.flags|=2048),s!==null&&$(ga),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),ds(De),ce(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function $A(s,r){switch(Wd(r),r.tag){case 1:return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 3:return ds(De),fe(),s=r.flags,(s&65536)!==0&&(s&128)===0?(r.flags=s&-65537|128,r):null;case 26:case 27:case 5:return Ga(r),null;case 31:if(r.memoizedState!==null){if(On(r),r.alternate===null)throw Error(i(340));ha()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 13:if(On(r),s=r.memoizedState,s!==null&&s.dehydrated!==null){if(r.alternate===null)throw Error(i(340));ha()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 19:return $(Te),null;case 4:return fe(),null;case 10:return ds(r.type),null;case 22:case 23:return On(r),fg(),s!==null&&$(ga),s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 24:return ds(De),null;case 25:return null;default:return null}}function J_(s,r){switch(Wd(r),r.tag){case 3:ds(De),fe();break;case 26:case 27:case 5:Ga(r);break;case 4:fe();break;case 31:r.memoizedState!==null&&On(r);break;case 13:On(r);break;case 19:$(Te);break;case 10:ds(r.type);break;case 22:case 23:On(r),fg(),s!==null&&$(ga);break;case 24:ds(De)}}function sc(s,r){try{var l=r.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var m=u.next;l=m;do{if((l.tag&s)===s){u=void 0;var p=l.create,v=l.inst;u=p(),v.destroy=u}l=l.next}while(l!==m)}}catch(w){Zt(r,r.return,w)}}function rr(s,r,l){try{var u=r.updateQueue,m=u!==null?u.lastEffect:null;if(m!==null){var p=m.next;u=p;do{if((u.tag&s)===s){var v=u.inst,w=v.destroy;if(w!==void 0){v.destroy=void 0,m=r;var V=l,G=w;try{G()}catch(J){Zt(m,V,J)}}}u=u.next}while(u!==p)}}catch(J){Zt(r,r.return,J)}}function tb(s){var r=s.updateQueue;if(r!==null){var l=s.stateNode;try{q0(r,l)}catch(u){Zt(s,s.return,u)}}}function eb(s,r,l){l.props=ba(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(u){Zt(s,r,u)}}function rc(s,r){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var u=s.stateNode;break;case 30:u=s.stateNode;break;default:u=s.stateNode}typeof l=="function"?s.refCleanup=l(u):l.current=u}}catch(m){Zt(s,r,m)}}function Gi(s,r){var l=s.ref,u=s.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(m){Zt(s,r,m)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(m){Zt(s,r,m)}else l.current=null}function nb(s){var r=s.type,l=s.memoizedProps,u=s.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break t;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(m){Zt(s,s.return,m)}}function qg(s,r,l){try{var u=s.stateNode;g2(u,s.type,l,r),u[Fe]=r}catch(m){Zt(s,s.return,m)}}function ib(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&fr(s.type)||s.tag===4}function Gg(s){t:for(;;){for(;s.sibling===null;){if(s.return===null||ib(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&fr(s.type)||s.flags&2||s.child===null||s.tag===4)continue t;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function $g(s,r,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,r?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,r):(r=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,r.appendChild(s),l=l._reactRootContainer,l!=null||r.onclick!==null||(r.onclick=ui));else if(u!==4&&(u===27&&fr(s.type)&&(l=s.stateNode,r=null),s=s.child,s!==null))for($g(s,r,l),s=s.sibling;s!==null;)$g(s,r,l),s=s.sibling}function xh(s,r,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,r?l.insertBefore(s,r):l.appendChild(s);else if(u!==4&&(u===27&&fr(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(xh(s,r,l),s=s.sibling;s!==null;)xh(s,r,l),s=s.sibling}function sb(s){var r=s.stateNode,l=s.memoizedProps;try{for(var u=s.type,m=r.attributes;m.length;)r.removeAttributeNode(m[0]);Je(r,u,l),r[Re]=s,r[Fe]=l}catch(p){Zt(s,s.return,p)}}var _s=!1,Oe=!1,Yg=!1,rb=typeof WeakSet=="function"?WeakSet:Set,Ge=null;function YA(s,r){if(s=s.containerInfo,gm=qh,s=y0(s),Ud(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else t:{l=(l=s.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var m=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{l.nodeType,p.nodeType}catch{l=null;break t}var v=0,w=-1,V=-1,G=0,J=0,st=s,K=null;e:for(;;){for(var X;st!==l||m!==0&&st.nodeType!==3||(w=v+m),st!==p||u!==0&&st.nodeType!==3||(V=v+u),st.nodeType===3&&(v+=st.nodeValue.length),(X=st.firstChild)!==null;)K=st,st=X;for(;;){if(st===s)break e;if(K===l&&++G===m&&(w=v),K===p&&++J===u&&(V=v),(X=st.nextSibling)!==null)break;st=K,K=st.parentNode}st=X}l=w===-1||V===-1?null:{start:w,end:V}}else l=null}l=l||{start:0,end:0}}else l=null;for(mm={focusedElem:s,selectionRange:l},qh=!1,Ge=r;Ge!==null;)if(r=Ge,s=r.child,(r.subtreeFlags&1028)!==0&&s!==null)s.return=r,Ge=s;else for(;Ge!==null;){switch(r=Ge,p=r.alternate,s=r.flags,r.tag){case 0:if((s&4)!==0&&(s=r.updateQueue,s=s!==null?s.events:null,s!==null))for(l=0;l<s.length;l++)m=s[l],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&p!==null){s=void 0,l=r,m=p.memoizedProps,p=p.memoizedState,u=l.stateNode;try{var yt=ba(l.type,m);s=u.getSnapshotBeforeUpdate(yt,p),u.__reactInternalSnapshotBeforeUpdate=s}catch(Et){Zt(l,l.return,Et)}}break;case 3:if((s&1024)!==0){if(s=r.stateNode.containerInfo,l=s.nodeType,l===9)_m(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":_m(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=r.sibling,s!==null){s.return=r.return,Ge=s;break}Ge=r.return}}function ab(s,r,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:vs(s,l),u&4&&sc(5,l);break;case 1:if(vs(s,l),u&4)if(s=l.stateNode,r===null)try{s.componentDidMount()}catch(v){Zt(l,l.return,v)}else{var m=ba(l.type,r.memoizedProps);r=r.memoizedState;try{s.componentDidUpdate(m,r,s.__reactInternalSnapshotBeforeUpdate)}catch(v){Zt(l,l.return,v)}}u&64&&tb(l),u&512&&rc(l,l.return);break;case 3:if(vs(s,l),u&64&&(s=l.updateQueue,s!==null)){if(r=null,l.child!==null)switch(l.child.tag){case 27:case 5:r=l.child.stateNode;break;case 1:r=l.child.stateNode}try{q0(s,r)}catch(v){Zt(l,l.return,v)}}break;case 27:r===null&&u&4&&sb(l);case 26:case 5:vs(s,l),r===null&&u&4&&nb(l),u&512&&rc(l,l.return);break;case 12:vs(s,l);break;case 31:vs(s,l),u&4&&cb(s,l);break;case 13:vs(s,l),u&4&&ub(s,l),u&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=n2.bind(null,l),E2(s,l))));break;case 22:if(u=l.memoizedState!==null||_s,!u){r=r!==null&&r.memoizedState!==null||Oe,m=_s;var p=Oe;_s=u,(Oe=r)&&!p?Ts(s,l,(l.subtreeFlags&8772)!==0):vs(s,l),_s=m,Oe=p}break;case 30:break;default:vs(s,l)}}function ob(s){var r=s.alternate;r!==null&&(s.alternate=null,ob(r)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(r=s.stateNode,r!==null&&Xa(r)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var ge=null,bn=!1;function bs(s,r,l){for(l=l.child;l!==null;)lb(s,r,l),l=l.sibling}function lb(s,r,l){if(Ke&&typeof Ke.onCommitFiberUnmount=="function")try{Ke.onCommitFiberUnmount(ai,l)}catch{}switch(l.tag){case 26:Oe||Gi(l,r),bs(s,r,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:Oe||Gi(l,r);var u=ge,m=bn;fr(l.type)&&(ge=l.stateNode,bn=!1),bs(s,r,l),gc(l.stateNode),ge=u,bn=m;break;case 5:Oe||Gi(l,r);case 6:if(u=ge,m=bn,ge=null,bs(s,r,l),ge=u,bn=m,ge!==null)if(bn)try{(ge.nodeType===9?ge.body:ge.nodeName==="HTML"?ge.ownerDocument.body:ge).removeChild(l.stateNode)}catch(p){Zt(l,r,p)}else try{ge.removeChild(l.stateNode)}catch(p){Zt(l,r,p)}break;case 18:ge!==null&&(bn?(s=ge,tv(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),zo(s)):tv(ge,l.stateNode));break;case 4:u=ge,m=bn,ge=l.stateNode.containerInfo,bn=!0,bs(s,r,l),ge=u,bn=m;break;case 0:case 11:case 14:case 15:rr(2,l,r),Oe||rr(4,l,r),bs(s,r,l);break;case 1:Oe||(Gi(l,r),u=l.stateNode,typeof u.componentWillUnmount=="function"&&eb(l,r,u)),bs(s,r,l);break;case 21:bs(s,r,l);break;case 22:Oe=(u=Oe)||l.memoizedState!==null,bs(s,r,l),Oe=u;break;default:bs(s,r,l)}}function cb(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{zo(s)}catch(l){Zt(r,r.return,l)}}}function ub(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{zo(s)}catch(l){Zt(r,r.return,l)}}function KA(s){switch(s.tag){case 31:case 13:case 19:var r=s.stateNode;return r===null&&(r=s.stateNode=new rb),r;case 22:return s=s.stateNode,r=s._retryCache,r===null&&(r=s._retryCache=new rb),r;default:throw Error(i(435,s.tag))}}function Sh(s,r){var l=KA(s);r.forEach(function(u){if(!l.has(u)){l.add(u);var m=i2.bind(null,s,u);u.then(m,m)}})}function vn(s,r){var l=r.deletions;if(l!==null)for(var u=0;u<l.length;u++){var m=l[u],p=s,v=r,w=v;t:for(;w!==null;){switch(w.tag){case 27:if(fr(w.type)){ge=w.stateNode,bn=!1;break t}break;case 5:ge=w.stateNode,bn=!1;break t;case 3:case 4:ge=w.stateNode.containerInfo,bn=!0;break t}w=w.return}if(ge===null)throw Error(i(160));lb(p,v,m),ge=null,bn=!1,p=m.alternate,p!==null&&(p.return=null),m.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)hb(r,s),r=r.sibling}var pi=null;function hb(s,r){var l=s.alternate,u=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:vn(r,s),Tn(s),u&4&&(rr(3,s,s.return),sc(3,s),rr(5,s,s.return));break;case 1:vn(r,s),Tn(s),u&512&&(Oe||l===null||Gi(l,l.return)),u&64&&_s&&(s=s.updateQueue,s!==null&&(u=s.callbacks,u!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var m=pi;if(vn(r,s),Tn(s),u&512&&(Oe||l===null||Gi(l,l.return)),u&4){var p=l!==null?l.memoizedState:null;if(u=s.memoizedState,l===null)if(u===null)if(s.stateNode===null){t:{u=s.type,l=s.memoizedProps,m=m.ownerDocument||m;e:switch(u){case"title":p=m.getElementsByTagName("title")[0],(!p||p[Di]||p[Re]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=m.createElement(u),m.head.insertBefore(p,m.querySelector("head > title"))),Je(p,u,l),p[Re]=s,Ie(p),u=p;break t;case"link":var v=hv("link","href",m).get(u+(l.href||""));if(v){for(var w=0;w<v.length;w++)if(p=v[w],p.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&p.getAttribute("rel")===(l.rel==null?null:l.rel)&&p.getAttribute("title")===(l.title==null?null:l.title)&&p.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){v.splice(w,1);break e}}p=m.createElement(u),Je(p,u,l),m.head.appendChild(p);break;case"meta":if(v=hv("meta","content",m).get(u+(l.content||""))){for(w=0;w<v.length;w++)if(p=v[w],p.getAttribute("content")===(l.content==null?null:""+l.content)&&p.getAttribute("name")===(l.name==null?null:l.name)&&p.getAttribute("property")===(l.property==null?null:l.property)&&p.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&p.getAttribute("charset")===(l.charSet==null?null:l.charSet)){v.splice(w,1);break e}}p=m.createElement(u),Je(p,u,l),m.head.appendChild(p);break;default:throw Error(i(468,u))}p[Re]=s,Ie(p),u=p}s.stateNode=u}else fv(m,s.type,s.stateNode);else s.stateNode=uv(m,u,s.memoizedProps);else p!==u?(p===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):p.count--,u===null?fv(m,s.type,s.stateNode):uv(m,u,s.memoizedProps)):u===null&&s.stateNode!==null&&qg(s,s.memoizedProps,l.memoizedProps)}break;case 27:vn(r,s),Tn(s),u&512&&(Oe||l===null||Gi(l,l.return)),l!==null&&u&4&&qg(s,s.memoizedProps,l.memoizedProps);break;case 5:if(vn(r,s),Tn(s),u&512&&(Oe||l===null||Gi(l,l.return)),s.flags&32){m=s.stateNode;try{_n(m,"")}catch(yt){Zt(s,s.return,yt)}}u&4&&s.stateNode!=null&&(m=s.memoizedProps,qg(s,m,l!==null?l.memoizedProps:m)),u&1024&&(Yg=!0);break;case 6:if(vn(r,s),Tn(s),u&4){if(s.stateNode===null)throw Error(i(162));u=s.memoizedProps,l=s.stateNode;try{l.nodeValue=u}catch(yt){Zt(s,s.return,yt)}}break;case 3:if(Uh=null,m=pi,pi=Lh(r.containerInfo),vn(r,s),pi=m,Tn(s),u&4&&l!==null&&l.memoizedState.isDehydrated)try{zo(r.containerInfo)}catch(yt){Zt(s,s.return,yt)}Yg&&(Yg=!1,fb(s));break;case 4:u=pi,pi=Lh(s.stateNode.containerInfo),vn(r,s),Tn(s),pi=u;break;case 12:vn(r,s),Tn(s);break;case 31:vn(r,s),Tn(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Sh(s,u)));break;case 13:vn(r,s),Tn(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Ah=gn()),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Sh(s,u)));break;case 22:m=s.memoizedState!==null;var V=l!==null&&l.memoizedState!==null,G=_s,J=Oe;if(_s=G||m,Oe=J||V,vn(r,s),Oe=J,_s=G,Tn(s),u&8192)t:for(r=s.stateNode,r._visibility=m?r._visibility&-2:r._visibility|1,m&&(l===null||V||_s||Oe||va(s)),l=null,r=s;;){if(r.tag===5||r.tag===26){if(l===null){V=l=r;try{if(p=V.stateNode,m)v=p.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{w=V.stateNode;var st=V.memoizedProps.style,K=st!=null&&st.hasOwnProperty("display")?st.display:null;w.style.display=K==null||typeof K=="boolean"?"":(""+K).trim()}}catch(yt){Zt(V,V.return,yt)}}}else if(r.tag===6){if(l===null){V=r;try{V.stateNode.nodeValue=m?"":V.memoizedProps}catch(yt){Zt(V,V.return,yt)}}}else if(r.tag===18){if(l===null){V=r;try{var X=V.stateNode;m?ev(X,!0):ev(V.stateNode,!1)}catch(yt){Zt(V,V.return,yt)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===s)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break t;for(;r.sibling===null;){if(r.return===null||r.return===s)break t;l===r&&(l=null),r=r.return}l===r&&(l=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=s.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,Sh(s,l))));break;case 19:vn(r,s),Tn(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Sh(s,u)));break;case 30:break;case 21:break;default:vn(r,s),Tn(s)}}function Tn(s){var r=s.flags;if(r&2){try{for(var l,u=s.return;u!==null;){if(ib(u)){l=u;break}u=u.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var m=l.stateNode,p=Gg(s);xh(s,p,m);break;case 5:var v=l.stateNode;l.flags&32&&(_n(v,""),l.flags&=-33);var w=Gg(s);xh(s,w,v);break;case 3:case 4:var V=l.stateNode.containerInfo,G=Gg(s);$g(s,G,V);break;default:throw Error(i(161))}}catch(J){Zt(s,s.return,J)}s.flags&=-3}r&4096&&(s.flags&=-4097)}function fb(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var r=s;fb(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),s=s.sibling}}function vs(s,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)ab(s,r.alternate,r),r=r.sibling}function va(s){for(s=s.child;s!==null;){var r=s;switch(r.tag){case 0:case 11:case 14:case 15:rr(4,r,r.return),va(r);break;case 1:Gi(r,r.return);var l=r.stateNode;typeof l.componentWillUnmount=="function"&&eb(r,r.return,l),va(r);break;case 27:gc(r.stateNode);case 26:case 5:Gi(r,r.return),va(r);break;case 22:r.memoizedState===null&&va(r);break;case 30:va(r);break;default:va(r)}s=s.sibling}}function Ts(s,r,l){for(l=l&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,m=s,p=r,v=p.flags;switch(p.tag){case 0:case 11:case 15:Ts(m,p,l),sc(4,p);break;case 1:if(Ts(m,p,l),u=p,m=u.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(G){Zt(u,u.return,G)}if(u=p,m=u.updateQueue,m!==null){var w=u.stateNode;try{var V=m.shared.hiddenCallbacks;if(V!==null)for(m.shared.hiddenCallbacks=null,m=0;m<V.length;m++)F0(V[m],w)}catch(G){Zt(u,u.return,G)}}l&&v&64&&tb(p),rc(p,p.return);break;case 27:sb(p);case 26:case 5:Ts(m,p,l),l&&u===null&&v&4&&nb(p),rc(p,p.return);break;case 12:Ts(m,p,l);break;case 31:Ts(m,p,l),l&&v&4&&cb(m,p);break;case 13:Ts(m,p,l),l&&v&4&&ub(m,p);break;case 22:p.memoizedState===null&&Ts(m,p,l),rc(p,p.return);break;case 30:break;default:Ts(m,p,l)}r=r.sibling}}function Kg(s,r){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&Gl(l))}function Qg(s,r){s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&Gl(s))}function yi(s,r,l,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)db(s,r,l,u),r=r.sibling}function db(s,r,l,u){var m=r.flags;switch(r.tag){case 0:case 11:case 15:yi(s,r,l,u),m&2048&&sc(9,r);break;case 1:yi(s,r,l,u);break;case 3:yi(s,r,l,u),m&2048&&(s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&Gl(s)));break;case 12:if(m&2048){yi(s,r,l,u),s=r.stateNode;try{var p=r.memoizedProps,v=p.id,w=p.onPostCommit;typeof w=="function"&&w(v,r.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(V){Zt(r,r.return,V)}}else yi(s,r,l,u);break;case 31:yi(s,r,l,u);break;case 13:yi(s,r,l,u);break;case 23:break;case 22:p=r.stateNode,v=r.alternate,r.memoizedState!==null?p._visibility&2?yi(s,r,l,u):ac(s,r):p._visibility&2?yi(s,r,l,u):(p._visibility|=2,So(s,r,l,u,(r.subtreeFlags&10256)!==0||!1)),m&2048&&Kg(v,r);break;case 24:yi(s,r,l,u),m&2048&&Qg(r.alternate,r);break;default:yi(s,r,l,u)}}function So(s,r,l,u,m){for(m=m&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var p=s,v=r,w=l,V=u,G=v.flags;switch(v.tag){case 0:case 11:case 15:So(p,v,w,V,m),sc(8,v);break;case 23:break;case 22:var J=v.stateNode;v.memoizedState!==null?J._visibility&2?So(p,v,w,V,m):ac(p,v):(J._visibility|=2,So(p,v,w,V,m)),m&&G&2048&&Kg(v.alternate,v);break;case 24:So(p,v,w,V,m),m&&G&2048&&Qg(v.alternate,v);break;default:So(p,v,w,V,m)}r=r.sibling}}function ac(s,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var l=s,u=r,m=u.flags;switch(u.tag){case 22:ac(l,u),m&2048&&Kg(u.alternate,u);break;case 24:ac(l,u),m&2048&&Qg(u.alternate,u);break;default:ac(l,u)}r=r.sibling}}var oc=8192;function wo(s,r,l){if(s.subtreeFlags&oc)for(s=s.child;s!==null;)gb(s,r,l),s=s.sibling}function gb(s,r,l){switch(s.tag){case 26:wo(s,r,l),s.flags&oc&&s.memoizedState!==null&&O2(l,pi,s.memoizedState,s.memoizedProps);break;case 5:wo(s,r,l);break;case 3:case 4:var u=pi;pi=Lh(s.stateNode.containerInfo),wo(s,r,l),pi=u;break;case 22:s.memoizedState===null&&(u=s.alternate,u!==null&&u.memoizedState!==null?(u=oc,oc=16777216,wo(s,r,l),oc=u):wo(s,r,l));break;default:wo(s,r,l)}}function mb(s){var r=s.alternate;if(r!==null&&(s=r.child,s!==null)){r.child=null;do r=s.sibling,s.sibling=null,s=r;while(s!==null)}}function lc(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var u=r[l];Ge=u,yb(u,s)}mb(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)pb(s),s=s.sibling}function pb(s){switch(s.tag){case 0:case 11:case 15:lc(s),s.flags&2048&&rr(9,s,s.return);break;case 3:lc(s);break;case 12:lc(s);break;case 22:var r=s.stateNode;s.memoizedState!==null&&r._visibility&2&&(s.return===null||s.return.tag!==13)?(r._visibility&=-3,wh(s)):lc(s);break;default:lc(s)}}function wh(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var u=r[l];Ge=u,yb(u,s)}mb(s)}for(s=s.child;s!==null;){switch(r=s,r.tag){case 0:case 11:case 15:rr(8,r,r.return),wh(r);break;case 22:l=r.stateNode,l._visibility&2&&(l._visibility&=-3,wh(r));break;default:wh(r)}s=s.sibling}}function yb(s,r){for(;Ge!==null;){var l=Ge;switch(l.tag){case 0:case 11:case 15:rr(8,l,r);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Gl(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,Ge=u;else t:for(l=s;Ge!==null;){u=Ge;var m=u.sibling,p=u.return;if(ob(u),u===l){Ge=null;break t}if(m!==null){m.return=p,Ge=m;break t}Ge=p}}}var QA={getCacheForType:function(s){var r=We(De),l=r.data.get(s);return l===void 0&&(l=s(),r.data.set(s,l)),l},cacheSignal:function(){return We(De).controller.signal}},XA=typeof WeakMap=="function"?WeakMap:Map,Kt=0,se=null,Ot=null,Vt=0,Wt=0,zn=null,ar=!1,Ao=!1,Xg=!1,Es=0,ye=0,or=0,Ta=0,Wg=0,Vn=0,Co=0,cc=null,En=null,Zg=!1,Ah=0,_b=0,Ch=1/0,Rh=null,lr=null,Ue=0,cr=null,Ro=null,xs=0,Jg=0,tm=null,bb=null,uc=0,em=null;function Pn(){return(Kt&2)!==0&&Vt!==0?Vt&-Vt:F.T!==null?om():Iu()}function vb(){if(Vn===0)if((Vt&536870912)===0||Bt){var s=Kr;Kr<<=1,(Kr&3932160)===0&&(Kr=262144),Vn=s}else Vn=536870912;return s=Mn.current,s!==null&&(s.flags|=32),Vn}function xn(s,r,l){(s===se&&(Wt===2||Wt===9)||s.cancelPendingCommit!==null)&&(Io(s,0),ur(s,Vt,Vn,!1)),Qr(s,l),((Kt&2)===0||s!==se)&&(s===se&&((Kt&2)===0&&(Ta|=l),ye===4&&ur(s,Vt,Vn,!1)),$i(s))}function Tb(s,r,l){if((Kt&6)!==0)throw Error(i(327));var u=!l&&(r&127)===0&&(r&s.expiredLanes)===0||oi(s,r),m=u?JA(s,r):im(s,r,!0),p=u;do{if(m===0){Ao&&!u&&ur(s,r,0,!1);break}else{if(l=s.current.alternate,p&&!WA(l)){m=im(s,r,!1),p=!1;continue}if(m===2){if(p=r,s.errorRecoveryDisabledLanes&p)var v=0;else v=s.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;t:{var w=s;m=cc;var V=w.current.memoizedState.isDehydrated;if(V&&(Io(w,v).flags|=256),v=im(w,v,!1),v!==2){if(Xg&&!V){w.errorRecoveryDisabledLanes|=p,Ta|=p,m=4;break t}p=En,En=m,p!==null&&(En===null?En=p:En.push.apply(En,p))}m=v}if(p=!1,m!==2)continue}}if(m===1){Io(s,0),ur(s,r,0,!0);break}t:{switch(u=s,p=m,p){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:ur(u,r,Vn,!ar);break t;case 2:En=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(m=Ah+300-gn(),10<m)){if(ur(u,r,Vn,!ar),Ri(u,0,!0)!==0)break t;xs=r,u.timeoutHandle=Zb(Eb.bind(null,u,l,En,Rh,Zg,r,Vn,Ta,Co,ar,p,"Throttled",-0,0),m);break t}Eb(u,l,En,Rh,Zg,r,Vn,Ta,Co,ar,p,null,-0,0)}}break}while(!0);$i(s)}function Eb(s,r,l,u,m,p,v,w,V,G,J,st,K,X){if(s.timeoutHandle=-1,st=r.subtreeFlags,st&8192||(st&16785408)===16785408){st={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:ui},gb(r,p,st);var yt=(p&62914560)===p?Ah-gn():(p&4194048)===p?_b-gn():0;if(yt=z2(st,yt),yt!==null){xs=p,s.cancelPendingCommit=yt(kb.bind(null,s,r,p,l,u,m,v,w,V,J,st,null,K,X)),ur(s,p,v,!G);return}}kb(s,r,p,l,u,m,v,w,V)}function WA(s){for(var r=s;;){var l=r.tag;if((l===0||l===11||l===15)&&r.flags&16384&&(l=r.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var m=l[u],p=m.getSnapshot;m=m.value;try{if(!Dn(p(),m))return!1}catch{return!1}}if(l=r.child,r.subtreeFlags&16384&&l!==null)l.return=r,r=l;else{if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function ur(s,r,l,u){r&=~Wg,r&=~Ta,s.suspendedLanes|=r,s.pingedLanes&=~r,u&&(s.warmLanes|=r),u=s.expirationTimes;for(var m=r;0<m;){var p=31-be(m),v=1<<p;u[p]=-1,m&=~v}l!==0&&Xr(s,l,r)}function Ih(){return(Kt&6)===0?(hc(0),!1):!0}function nm(){if(Ot!==null){if(Wt===0)var s=Ot.return;else s=Ot,fs=fa=null,_g(s),bo=null,Yl=0,s=Ot;for(;s!==null;)J_(s.alternate,s),s=s.return;Ot=null}}function Io(s,r){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,y2(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),xs=0,nm(),se=s,Ot=l=us(s.current,null),Vt=r,Wt=0,zn=null,ar=!1,Ao=oi(s,r),Xg=!1,Co=Vn=Wg=Ta=or=ye=0,En=cc=null,Zg=!1,(r&8)!==0&&(r|=r&32);var u=s.entangledLanes;if(u!==0)for(s=s.entanglements,u&=r;0<u;){var m=31-be(u),p=1<<m;r|=s[m],u&=~p}return Es=r,Xu(),l}function xb(s,r){Dt=null,F.H=ec,r===_o||r===sh?(r=j0(),Wt=3):r===ag?(r=j0(),Wt=4):Wt=r===Og?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,zn=r,Ot===null&&(ye=1,_h(s,$n(r,s.current)))}function Sb(){var s=Mn.current;return s===null?!0:(Vt&4194048)===Vt?Xn===null:(Vt&62914560)===Vt||(Vt&536870912)!==0?s===Xn:!1}function wb(){var s=F.H;return F.H=ec,s===null?ec:s}function Ab(){var s=F.A;return F.A=QA,s}function kh(){ye=4,ar||(Vt&4194048)!==Vt&&Mn.current!==null||(Ao=!0),(or&134217727)===0&&(Ta&134217727)===0||se===null||ur(se,Vt,Vn,!1)}function im(s,r,l){var u=Kt;Kt|=2;var m=wb(),p=Ab();(se!==s||Vt!==r)&&(Rh=null,Io(s,r)),r=!1;var v=ye;t:do try{if(Wt!==0&&Ot!==null){var w=Ot,V=zn;switch(Wt){case 8:nm(),v=6;break t;case 3:case 2:case 9:case 6:Mn.current===null&&(r=!0);var G=Wt;if(Wt=0,zn=null,ko(s,w,V,G),l&&Ao){v=0;break t}break;default:G=Wt,Wt=0,zn=null,ko(s,w,V,G)}}ZA(),v=ye;break}catch(J){xb(s,J)}while(!0);return r&&s.shellSuspendCounter++,fs=fa=null,Kt=u,F.H=m,F.A=p,Ot===null&&(se=null,Vt=0,Xu()),v}function ZA(){for(;Ot!==null;)Cb(Ot)}function JA(s,r){var l=Kt;Kt|=2;var u=wb(),m=Ab();se!==s||Vt!==r?(Rh=null,Ch=gn()+500,Io(s,r)):Ao=oi(s,r);t:do try{if(Wt!==0&&Ot!==null){r=Ot;var p=zn;e:switch(Wt){case 1:Wt=0,zn=null,ko(s,r,p,1);break;case 2:case 9:if(P0(p)){Wt=0,zn=null,Rb(r);break}r=function(){Wt!==2&&Wt!==9||se!==s||(Wt=7),$i(s)},p.then(r,r);break t;case 3:Wt=7;break t;case 4:Wt=5;break t;case 7:P0(p)?(Wt=0,zn=null,Rb(r)):(Wt=0,zn=null,ko(s,r,p,7));break;case 5:var v=null;switch(Ot.tag){case 26:v=Ot.memoizedState;case 5:case 27:var w=Ot;if(v?dv(v):w.stateNode.complete){Wt=0,zn=null;var V=w.sibling;if(V!==null)Ot=V;else{var G=w.return;G!==null?(Ot=G,Dh(G)):Ot=null}break e}}Wt=0,zn=null,ko(s,r,p,5);break;case 6:Wt=0,zn=null,ko(s,r,p,6);break;case 8:nm(),ye=6;break t;default:throw Error(i(462))}}t2();break}catch(J){xb(s,J)}while(!0);return fs=fa=null,F.H=u,F.A=m,Kt=l,Ot!==null?0:(se=null,Vt=0,Xu(),ye)}function t2(){for(;Ot!==null&&!Md();)Cb(Ot)}function Cb(s){var r=W_(s.alternate,s,Es);s.memoizedProps=s.pendingProps,r===null?Dh(s):Ot=r}function Rb(s){var r=s,l=r.alternate;switch(r.tag){case 15:case 0:r=G_(l,r,r.pendingProps,r.type,void 0,Vt);break;case 11:r=G_(l,r,r.pendingProps,r.type.render,r.ref,Vt);break;case 5:_g(r);default:J_(l,r),r=Ot=A0(r,Es),r=W_(l,r,Es)}s.memoizedProps=s.pendingProps,r===null?Dh(s):Ot=r}function ko(s,r,l,u){fs=fa=null,_g(r),bo=null,Yl=0;var m=r.return;try{if(HA(s,m,r,l,Vt)){ye=1,_h(s,$n(l,s.current)),Ot=null;return}}catch(p){if(m!==null)throw Ot=m,p;ye=1,_h(s,$n(l,s.current)),Ot=null;return}r.flags&32768?(Bt||u===1?s=!0:Ao||(Vt&536870912)!==0?s=!1:(ar=s=!0,(u===2||u===9||u===3||u===6)&&(u=Mn.current,u!==null&&u.tag===13&&(u.flags|=16384))),Ib(r,s)):Dh(r)}function Dh(s){var r=s;do{if((r.flags&32768)!==0){Ib(r,ar);return}s=r.return;var l=GA(r.alternate,r,Es);if(l!==null){Ot=l;return}if(r=r.sibling,r!==null){Ot=r;return}Ot=r=s}while(r!==null);ye===0&&(ye=5)}function Ib(s,r){do{var l=$A(s.alternate,s);if(l!==null){l.flags&=32767,Ot=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!r&&(s=s.sibling,s!==null)){Ot=s;return}Ot=s=l}while(s!==null);ye=6,Ot=null}function kb(s,r,l,u,m,p,v,w,V){s.cancelPendingCommit=null;do Nh();while(Ue!==0);if((Kt&6)!==0)throw Error(i(327));if(r!==null){if(r===s.current)throw Error(i(177));if(p=r.lanes|r.childLanes,p|=Gd,Vd(s,l,p,v,w,V),s===se&&(Ot=se=null,Vt=0),Ro=r,cr=s,xs=l,Jg=p,tm=m,bb=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,s2(Us,function(){return zb(),null})):(s.callbackNode=null,s.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=F.T,F.T=null,m=Y.p,Y.p=2,v=Kt,Kt|=4;try{YA(s,r,l)}finally{Kt=v,Y.p=m,F.T=u}}Ue=1,Db(),Nb(),Mb()}}function Db(){if(Ue===1){Ue=0;var s=cr,r=Ro,l=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||l){l=F.T,F.T=null;var u=Y.p;Y.p=2;var m=Kt;Kt|=4;try{hb(r,s);var p=mm,v=y0(s.containerInfo),w=p.focusedElem,V=p.selectionRange;if(v!==w&&w&&w.ownerDocument&&p0(w.ownerDocument.documentElement,w)){if(V!==null&&Ud(w)){var G=V.start,J=V.end;if(J===void 0&&(J=G),"selectionStart"in w)w.selectionStart=G,w.selectionEnd=Math.min(J,w.value.length);else{var st=w.ownerDocument||document,K=st&&st.defaultView||window;if(K.getSelection){var X=K.getSelection(),yt=w.textContent.length,Et=Math.min(V.start,yt),ie=V.end===void 0?Et:Math.min(V.end,yt);!X.extend&&Et>ie&&(v=ie,ie=Et,Et=v);var B=m0(w,Et),j=m0(w,ie);if(B&&j&&(X.rangeCount!==1||X.anchorNode!==B.node||X.anchorOffset!==B.offset||X.focusNode!==j.node||X.focusOffset!==j.offset)){var q=st.createRange();q.setStart(B.node,B.offset),X.removeAllRanges(),Et>ie?(X.addRange(q),X.extend(j.node,j.offset)):(q.setEnd(j.node,j.offset),X.addRange(q))}}}}for(st=[],X=w;X=X.parentNode;)X.nodeType===1&&st.push({element:X,left:X.scrollLeft,top:X.scrollTop});for(typeof w.focus=="function"&&w.focus(),w=0;w<st.length;w++){var et=st[w];et.element.scrollLeft=et.left,et.element.scrollTop=et.top}}qh=!!gm,mm=gm=null}finally{Kt=m,Y.p=u,F.T=l}}s.current=r,Ue=2}}function Nb(){if(Ue===2){Ue=0;var s=cr,r=Ro,l=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||l){l=F.T,F.T=null;var u=Y.p;Y.p=2;var m=Kt;Kt|=4;try{ab(s,r.alternate,r)}finally{Kt=m,Y.p=u,F.T=l}}Ue=3}}function Mb(){if(Ue===4||Ue===3){Ue=0,Eu();var s=cr,r=Ro,l=xs,u=bb;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Ue=5:(Ue=0,Ro=cr=null,Ob(s,s.pendingLanes));var m=s.pendingLanes;if(m===0&&(lr=null),as(l),r=r.stateNode,Ke&&typeof Ke.onCommitFiberRoot=="function")try{Ke.onCommitFiberRoot(ai,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=F.T,m=Y.p,Y.p=2,F.T=null;try{for(var p=s.onRecoverableError,v=0;v<u.length;v++){var w=u[v];p(w.value,{componentStack:w.stack})}}finally{F.T=r,Y.p=m}}(xs&3)!==0&&Nh(),$i(s),m=s.pendingLanes,(l&261930)!==0&&(m&42)!==0?s===em?uc++:(uc=0,em=s):uc=0,hc(0)}}function Ob(s,r){(s.pooledCacheLanes&=r)===0&&(r=s.pooledCache,r!=null&&(s.pooledCache=null,Gl(r)))}function Nh(){return Db(),Nb(),Mb(),zb()}function zb(){if(Ue!==5)return!1;var s=cr,r=Jg;Jg=0;var l=as(xs),u=F.T,m=Y.p;try{Y.p=32>l?32:l,F.T=null,l=tm,tm=null;var p=cr,v=xs;if(Ue=0,Ro=cr=null,xs=0,(Kt&6)!==0)throw Error(i(331));var w=Kt;if(Kt|=4,pb(p.current),db(p,p.current,v,l),Kt=w,hc(0,!1),Ke&&typeof Ke.onPostCommitFiberRoot=="function")try{Ke.onPostCommitFiberRoot(ai,p)}catch{}return!0}finally{Y.p=m,F.T=u,Ob(s,r)}}function Vb(s,r,l){r=$n(l,r),r=Mg(s.stateNode,r,2),s=nr(s,r,2),s!==null&&(Qr(s,2),$i(s))}function Zt(s,r,l){if(s.tag===3)Vb(s,s,l);else for(;r!==null;){if(r.tag===3){Vb(r,s,l);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(lr===null||!lr.has(u))){s=$n(l,s),l=P_(2),u=nr(r,l,2),u!==null&&(L_(l,u,r,s),Qr(u,2),$i(u));break}}r=r.return}}function sm(s,r,l){var u=s.pingCache;if(u===null){u=s.pingCache=new XA;var m=new Set;u.set(r,m)}else m=u.get(r),m===void 0&&(m=new Set,u.set(r,m));m.has(l)||(Xg=!0,m.add(l),s=e2.bind(null,s,r,l),r.then(s,s))}function e2(s,r,l){var u=s.pingCache;u!==null&&u.delete(r),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,se===s&&(Vt&l)===l&&(ye===4||ye===3&&(Vt&62914560)===Vt&&300>gn()-Ah?(Kt&2)===0&&Io(s,0):Wg|=l,Co===Vt&&(Co=0)),$i(s)}function Pb(s,r){r===0&&(r=Ru()),s=ca(s,r),s!==null&&(Qr(s,r),$i(s))}function n2(s){var r=s.memoizedState,l=0;r!==null&&(l=r.retryLane),Pb(s,l)}function i2(s,r){var l=0;switch(s.tag){case 31:case 13:var u=s.stateNode,m=s.memoizedState;m!==null&&(l=m.retryLane);break;case 19:u=s.stateNode;break;case 22:u=s.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(r),Pb(s,l)}function s2(s,r){return je(s,r)}var Mh=null,Do=null,rm=!1,Oh=!1,am=!1,hr=0;function $i(s){s!==Do&&s.next===null&&(Do===null?Mh=Do=s:Do=Do.next=s),Oh=!0,rm||(rm=!0,a2())}function hc(s,r){if(!am&&Oh){am=!0;do for(var l=!1,u=Mh;u!==null;){if(s!==0){var m=u.pendingLanes;if(m===0)var p=0;else{var v=u.suspendedLanes,w=u.pingedLanes;p=(1<<31-be(42|s)+1)-1,p&=m&~(v&~w),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(l=!0,Bb(u,p))}else p=Vt,p=Ri(u,u===se?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||oi(u,p)||(l=!0,Bb(u,p));u=u.next}while(l);am=!1}}function r2(){Lb()}function Lb(){Oh=rm=!1;var s=0;hr!==0&&p2()&&(s=hr);for(var r=gn(),l=null,u=Mh;u!==null;){var m=u.next,p=jb(u,r);p===0?(u.next=null,l===null?Mh=m:l.next=m,m===null&&(Do=l)):(l=u,(s!==0||(p&3)!==0)&&(Oh=!0)),u=m}Ue!==0&&Ue!==5||hc(s),hr!==0&&(hr=0)}function jb(s,r){for(var l=s.suspendedLanes,u=s.pingedLanes,m=s.expirationTimes,p=s.pendingLanes&-62914561;0<p;){var v=31-be(p),w=1<<v,V=m[v];V===-1?((w&l)===0||(w&u)!==0)&&(m[v]=zd(w,r)):V<=r&&(s.expiredLanes|=w),p&=~w}if(r=se,l=Vt,l=Ri(s,s===r?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u=s.callbackNode,l===0||s===r&&(Wt===2||Wt===9)||s.cancelPendingCommit!==null)return u!==null&&u!==null&&js(u),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||oi(s,l)){if(r=l&-l,r===s.callbackPriority)return r;switch(u!==null&&js(u),as(l)){case 2:case 8:l=Tl;break;case 32:l=Us;break;case 268435456:l=xu;break;default:l=Us}return u=Ub.bind(null,s),l=je(l,u),s.callbackPriority=r,s.callbackNode=l,r}return u!==null&&u!==null&&js(u),s.callbackPriority=2,s.callbackNode=null,2}function Ub(s,r){if(Ue!==0&&Ue!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(Nh()&&s.callbackNode!==l)return null;var u=Vt;return u=Ri(s,s===se?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u===0?null:(Tb(s,u,r),jb(s,gn()),s.callbackNode!=null&&s.callbackNode===l?Ub.bind(null,s):null)}function Bb(s,r){if(Nh())return null;Tb(s,r,!0)}function a2(){_2(function(){(Kt&6)!==0?je(vl,r2):Lb()})}function om(){if(hr===0){var s=po;s===0&&(s=Ai,Ai<<=1,(Ai&261888)===0&&(Ai=256)),hr=s}return hr}function Hb(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:to(""+s)}function Fb(s,r){var l=r.ownerDocument.createElement("input");return l.name=r.name,l.value=r.value,s.id&&l.setAttribute("form",s.id),r.parentNode.insertBefore(l,r),s=new FormData(s),l.parentNode.removeChild(l),s}function o2(s,r,l,u,m){if(r==="submit"&&l&&l.stateNode===m){var p=Hb((m[Fe]||null).action),v=u.submitter;v&&(r=(r=v[Fe]||null)?Hb(r.formAction):v.getAttribute("formAction"),r!==null&&(p=r,v=null));var w=new ji("action","action",null,u,m);s.push({event:w,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(hr!==0){var V=v?Fb(m,v):new FormData(m);Cg(l,{pending:!0,data:V,method:m.method,action:p},null,V)}}else typeof p=="function"&&(w.preventDefault(),V=v?Fb(m,v):new FormData(m),Cg(l,{pending:!0,data:V,method:m.method,action:p},p,V))},currentTarget:m}]})}}for(var lm=0;lm<qd.length;lm++){var cm=qd[lm],l2=cm.toLowerCase(),c2=cm[0].toUpperCase()+cm.slice(1);mi(l2,"on"+c2)}mi(v0,"onAnimationEnd"),mi(T0,"onAnimationIteration"),mi(E0,"onAnimationStart"),mi("dblclick","onDoubleClick"),mi("focusin","onFocus"),mi("focusout","onBlur"),mi(wA,"onTransitionRun"),mi(AA,"onTransitionStart"),mi(CA,"onTransitionCancel"),mi(x0,"onTransitionEnd"),zi("onMouseEnter",["mouseout","mouseover"]),zi("onMouseLeave",["mouseout","mouseover"]),zi("onPointerEnter",["pointerout","pointerover"]),zi("onPointerLeave",["pointerout","pointerover"]),Oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Oi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var fc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),u2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(fc));function qb(s,r){r=(r&4)!==0;for(var l=0;l<s.length;l++){var u=s[l],m=u.event;u=u.listeners;t:{var p=void 0;if(r)for(var v=u.length-1;0<=v;v--){var w=u[v],V=w.instance,G=w.currentTarget;if(w=w.listener,V!==p&&m.isPropagationStopped())break t;p=w,m.currentTarget=G;try{p(m)}catch(J){Qu(J)}m.currentTarget=null,p=V}else for(v=0;v<u.length;v++){if(w=u[v],V=w.instance,G=w.currentTarget,w=w.listener,V!==p&&m.isPropagationStopped())break t;p=w,m.currentTarget=G;try{p(m)}catch(J){Qu(J)}m.currentTarget=null,p=V}}}}function zt(s,r){var l=r[Qa];l===void 0&&(l=r[Qa]=new Set);var u=s+"__bubble";l.has(u)||(Gb(r,s,2,!1),l.add(u))}function um(s,r,l){var u=0;r&&(u|=4),Gb(l,s,u,r)}var zh="_reactListening"+Math.random().toString(36).slice(2);function hm(s){if(!s[zh]){s[zh]=!0,Sl.forEach(function(l){l!=="selectionchange"&&(u2.has(l)||um(l,!1,s),um(l,!0,s))});var r=s.nodeType===9?s:s.ownerDocument;r===null||r[zh]||(r[zh]=!0,um("selectionchange",!1,r))}}function Gb(s,r,l,u){switch(vv(r)){case 2:var m=L2;break;case 8:m=j2;break;default:m=Am}l=m.bind(null,r,l,s),m=void 0,!ea||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(m=!0),u?m!==void 0?s.addEventListener(r,l,{capture:!0,passive:m}):s.addEventListener(r,l,!0):m!==void 0?s.addEventListener(r,l,{passive:m}):s.addEventListener(r,l,!1)}function fm(s,r,l,u,m){var p=u;if((r&1)===0&&(r&2)===0&&u!==null)t:for(;;){if(u===null)return;var v=u.tag;if(v===3||v===4){var w=u.stateNode.containerInfo;if(w===m)break;if(v===4)for(v=u.return;v!==null;){var V=v.tag;if((V===3||V===4)&&v.stateNode.containerInfo===m)return;v=v.return}for(;w!==null;){if(v=Ni(w),v===null)return;if(V=v.tag,V===5||V===6||V===26||V===27){u=p=v;continue t}w=w.parentNode}}u=u.return}$s(function(){var G=p,J=Hn(l),st=[];t:{var K=S0.get(s);if(K!==void 0){var X=ji,yt=s;switch(s){case"keypress":if(ia(l)===0)break t;case"keydown":case"keyup":X=$u;break;case"focusin":yt="focus",X=ra;break;case"focusout":yt="blur",X=ra;break;case"beforeblur":case"afterblur":X=ra;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":X=Pl;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":X=Pu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":X=_;break;case v0:case T0:case E0:X=ju;break;case x0:X=R;break;case"scroll":case"scrollend":X=Vl;break;case"wheel":X=Q;break;case"copy":case"cut":case"paste":X=Uu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":X=cs;break;case"toggle":case"beforetoggle":X=kt}var Et=(r&4)!==0,ie=!Et&&(s==="scroll"||s==="scrollend"),B=Et?K!==null?K+"Capture":null:K;Et=[];for(var j=G,q;j!==null;){var et=j;if(q=et.stateNode,et=et.tag,et!==5&&et!==26&&et!==27||q===null||B===null||(et=hi(j,B),et!=null&&Et.push(dc(j,et,q))),ie)break;j=j.return}0<Et.length&&(K=new X(K,yt,null,l,J),st.push({event:K,listeners:Et}))}}if((r&7)===0){t:{if(K=s==="mouseover"||s==="pointerover",X=s==="mouseout"||s==="pointerout",K&&l!==Ml&&(yt=l.relatedTarget||l.fromElement)&&(Ni(yt)||yt[ki]))break t;if((X||K)&&(K=J.window===J?J:(K=J.ownerDocument)?K.defaultView||K.parentWindow:window,X?(yt=l.relatedTarget||l.toElement,X=G,yt=yt?Ni(yt):null,yt!==null&&(ie=o(yt),Et=yt.tag,yt!==ie||Et!==5&&Et!==27&&Et!==6)&&(yt=null)):(X=null,yt=G),X!==yt)){if(Et=Pl,et="onMouseLeave",B="onMouseEnter",j="mouse",(s==="pointerout"||s==="pointerover")&&(Et=cs,et="onPointerLeave",B="onPointerEnter",j="pointer"),ie=X==null?K:In(X),q=yt==null?K:In(yt),K=new Et(et,j+"leave",X,l,J),K.target=ie,K.relatedTarget=q,et=null,Ni(J)===G&&(Et=new Et(B,j+"enter",yt,l,J),Et.target=q,Et.relatedTarget=ie,et=Et),ie=et,X&&yt)e:{for(Et=h2,B=X,j=yt,q=0,et=B;et;et=Et(et))q++;et=0;for(var bt=j;bt;bt=Et(bt))et++;for(;0<q-et;)B=Et(B),q--;for(;0<et-q;)j=Et(j),et--;for(;q--;){if(B===j||j!==null&&B===j.alternate){Et=B;break e}B=Et(B),j=Et(j)}Et=null}else Et=null;X!==null&&$b(st,K,X,Et,!1),yt!==null&&ie!==null&&$b(st,ie,yt,Et,!0)}}t:{if(K=G?In(G):window,X=K.nodeName&&K.nodeName.toLowerCase(),X==="select"||X==="input"&&K.type==="file")var Gt=c0;else if(o0(K))if(u0)Gt=EA;else{Gt=vA;var _t=bA}else X=K.nodeName,!X||X.toLowerCase()!=="input"||K.type!=="checkbox"&&K.type!=="radio"?G&&Ja(G.elementType)&&(Gt=c0):Gt=TA;if(Gt&&(Gt=Gt(s,G))){l0(st,Gt,l,J);break t}_t&&_t(s,K,G),s==="focusout"&&G&&K.type==="number"&&G.memoizedProps.value!=null&&kl(K,"number",K.value)}switch(_t=G?In(G):window,s){case"focusin":(o0(_t)||_t.contentEditable==="true")&&(oo=_t,Bd=G,Hl=null);break;case"focusout":Hl=Bd=oo=null;break;case"mousedown":Hd=!0;break;case"contextmenu":case"mouseup":case"dragend":Hd=!1,_0(st,l,J);break;case"selectionchange":if(SA)break;case"keydown":case"keyup":_0(st,l,J)}var Nt;if(Yt)t:{switch(s){case"compositionstart":var Pt="onCompositionStart";break t;case"compositionend":Pt="onCompositionEnd";break t;case"compositionupdate":Pt="onCompositionUpdate";break t}Pt=void 0}else ao?aa(s,l)&&(Pt="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(Pt="onCompositionStart");Pt&&(Hi&&l.locale!=="ko"&&(ao||Pt!=="onCompositionStart"?Pt==="onCompositionEnd"&&ao&&(Nt=zl()):(Li=J,Ol="value"in Li?Li.value:Li.textContent,ao=!0)),_t=Vh(G,Pt),0<_t.length&&(Pt=new Bi(Pt,s,null,l,J),st.push({event:Pt,listeners:_t}),Nt?Pt.data=Nt:(Nt=ro(l),Nt!==null&&(Pt.data=Nt)))),(Nt=qn?mA(s,l):pA(s,l))&&(Pt=Vh(G,"onBeforeInput"),0<Pt.length&&(_t=new Bi("onBeforeInput","beforeinput",null,l,J),st.push({event:_t,listeners:Pt}),_t.data=Nt)),o2(st,s,G,l,J)}qb(st,r)})}function dc(s,r,l){return{instance:s,listener:r,currentTarget:l}}function Vh(s,r){for(var l=r+"Capture",u=[];s!==null;){var m=s,p=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||p===null||(m=hi(s,l),m!=null&&u.unshift(dc(s,m,p)),m=hi(s,r),m!=null&&u.push(dc(s,m,p))),s.tag===3)return u;s=s.return}return[]}function h2(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function $b(s,r,l,u,m){for(var p=r._reactName,v=[];l!==null&&l!==u;){var w=l,V=w.alternate,G=w.stateNode;if(w=w.tag,V!==null&&V===u)break;w!==5&&w!==26&&w!==27||G===null||(V=G,m?(G=hi(l,p),G!=null&&v.unshift(dc(l,G,V))):m||(G=hi(l,p),G!=null&&v.push(dc(l,G,V)))),l=l.return}v.length!==0&&s.push({event:r,listeners:v})}var f2=/\r\n?/g,d2=/\u0000|\uFFFD/g;function Yb(s){return(typeof s=="string"?s:""+s).replace(f2,`
`).replace(d2,"")}function Kb(s,r){return r=Yb(r),Yb(s)===r}function ne(s,r,l,u,m,p){switch(l){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||_n(s,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&_n(s,""+u);break;case"className":kn(s,"class",u);break;case"tabIndex":kn(s,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":kn(s,l,u);break;case"style":Nl(s,u,p);break;case"data":if(r!=="object"){kn(s,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||l!=="href")){s.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=to(""+u),s.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(l==="formAction"?(r!=="input"&&ne(s,r,"name",m.name,m,null),ne(s,r,"formEncType",m.formEncType,m,null),ne(s,r,"formMethod",m.formMethod,m,null),ne(s,r,"formTarget",m.formTarget,m,null)):(ne(s,r,"encType",m.encType,m,null),ne(s,r,"method",m.method,m,null),ne(s,r,"target",m.target,m,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=to(""+u),s.setAttribute(l,u);break;case"onClick":u!=null&&(s.onclick=ui);break;case"onScroll":u!=null&&zt("scroll",s);break;case"onScrollEnd":u!=null&&zt("scrollend",s);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(m.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"multiple":s.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":s.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){s.removeAttribute("xlink:href");break}l=to(""+u),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""+u):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":u===!0?s.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,u):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?s.setAttribute(l,u):s.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?s.removeAttribute(l):s.setAttribute(l,u);break;case"popover":zt("beforetoggle",s),zt("toggle",s),Wa(s,"popover",u);break;case"xlinkActuate":ke(s,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":ke(s,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":ke(s,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":ke(s,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":ke(s,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":ke(s,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":ke(s,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":ke(s,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":ke(s,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Wa(s,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=Vu.get(l)||l,Wa(s,l,u))}}function dm(s,r,l,u,m,p){switch(l){case"style":Nl(s,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(m.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"children":typeof u=="string"?_n(s,u):(typeof u=="number"||typeof u=="bigint")&&_n(s,""+u);break;case"onScroll":u!=null&&zt("scroll",s);break;case"onScrollEnd":u!=null&&zt("scrollend",s);break;case"onClick":u!=null&&(s.onclick=ui);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!wl.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(m=l.endsWith("Capture"),r=l.slice(2,m?l.length-7:void 0),p=s[Fe]||null,p=p!=null?p[l]:null,typeof p=="function"&&s.removeEventListener(r,p,m),typeof u=="function")){typeof p!="function"&&p!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(r,u,m);break t}l in s?s[l]=u:u===!0?s.setAttribute(l,""):Wa(s,l,u)}}}function Je(s,r,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":zt("error",s),zt("load",s);var u=!1,m=!1,p;for(p in l)if(l.hasOwnProperty(p)){var v=l[p];if(v!=null)switch(p){case"src":u=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:ne(s,r,p,v,l,null)}}m&&ne(s,r,"srcSet",l.srcSet,l,null),u&&ne(s,r,"src",l.src,l,null);return;case"input":zt("invalid",s);var w=p=v=m=null,V=null,G=null;for(u in l)if(l.hasOwnProperty(u)){var J=l[u];if(J!=null)switch(u){case"name":m=J;break;case"type":v=J;break;case"checked":V=J;break;case"defaultChecked":G=J;break;case"value":p=J;break;case"defaultValue":w=J;break;case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,r));break;default:ne(s,r,u,J,l,null)}}Mu(s,p,w,V,G,v,m,!1);return;case"select":zt("invalid",s),u=v=p=null;for(m in l)if(l.hasOwnProperty(m)&&(w=l[m],w!=null))switch(m){case"value":p=w;break;case"defaultValue":v=w;break;case"multiple":u=w;default:ne(s,r,m,w,l,null)}r=p,l=v,s.multiple=!!u,r!=null?Hs(s,!!u,r,!1):l!=null&&Hs(s,!!u,l,!0);return;case"textarea":zt("invalid",s),p=m=u=null;for(v in l)if(l.hasOwnProperty(v)&&(w=l[v],w!=null))switch(v){case"value":u=w;break;case"defaultValue":m=w;break;case"children":p=w;break;case"dangerouslySetInnerHTML":if(w!=null)throw Error(i(91));break;default:ne(s,r,v,w,l,null)}Fs(s,u,m,p);return;case"option":for(V in l)if(l.hasOwnProperty(V)&&(u=l[V],u!=null))switch(V){case"selected":s.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:ne(s,r,V,u,l,null)}return;case"dialog":zt("beforetoggle",s),zt("toggle",s),zt("cancel",s),zt("close",s);break;case"iframe":case"object":zt("load",s);break;case"video":case"audio":for(u=0;u<fc.length;u++)zt(fc[u],s);break;case"image":zt("error",s),zt("load",s);break;case"details":zt("toggle",s);break;case"embed":case"source":case"link":zt("error",s),zt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in l)if(l.hasOwnProperty(G)&&(u=l[G],u!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:ne(s,r,G,u,l,null)}return;default:if(Ja(r)){for(J in l)l.hasOwnProperty(J)&&(u=l[J],u!==void 0&&dm(s,r,J,u,l,void 0));return}}for(w in l)l.hasOwnProperty(w)&&(u=l[w],u!=null&&ne(s,r,w,u,l,null))}function g2(s,r,l,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,p=null,v=null,w=null,V=null,G=null,J=null;for(X in l){var st=l[X];if(l.hasOwnProperty(X)&&st!=null)switch(X){case"checked":break;case"value":break;case"defaultValue":V=st;default:u.hasOwnProperty(X)||ne(s,r,X,null,u,st)}}for(var K in u){var X=u[K];if(st=l[K],u.hasOwnProperty(K)&&(X!=null||st!=null))switch(K){case"type":p=X;break;case"name":m=X;break;case"checked":G=X;break;case"defaultChecked":J=X;break;case"value":v=X;break;case"defaultValue":w=X;break;case"children":case"dangerouslySetInnerHTML":if(X!=null)throw Error(i(137,r));break;default:X!==st&&ne(s,r,K,X,u,st)}}Za(s,v,w,V,G,J,p,m);return;case"select":X=v=w=K=null;for(p in l)if(V=l[p],l.hasOwnProperty(p)&&V!=null)switch(p){case"value":break;case"multiple":X=V;default:u.hasOwnProperty(p)||ne(s,r,p,null,u,V)}for(m in u)if(p=u[m],V=l[m],u.hasOwnProperty(m)&&(p!=null||V!=null))switch(m){case"value":K=p;break;case"defaultValue":w=p;break;case"multiple":v=p;default:p!==V&&ne(s,r,m,p,u,V)}r=w,l=v,u=X,K!=null?Hs(s,!!l,K,!1):!!u!=!!l&&(r!=null?Hs(s,!!l,r,!0):Hs(s,!!l,l?[]:"",!1));return;case"textarea":X=K=null;for(w in l)if(m=l[w],l.hasOwnProperty(w)&&m!=null&&!u.hasOwnProperty(w))switch(w){case"value":break;case"children":break;default:ne(s,r,w,null,u,m)}for(v in u)if(m=u[v],p=l[v],u.hasOwnProperty(v)&&(m!=null||p!=null))switch(v){case"value":K=m;break;case"defaultValue":X=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==p&&ne(s,r,v,m,u,p)}Ou(s,K,X);return;case"option":for(var yt in l)if(K=l[yt],l.hasOwnProperty(yt)&&K!=null&&!u.hasOwnProperty(yt))switch(yt){case"selected":s.selected=!1;break;default:ne(s,r,yt,null,u,K)}for(V in u)if(K=u[V],X=l[V],u.hasOwnProperty(V)&&K!==X&&(K!=null||X!=null))switch(V){case"selected":s.selected=K&&typeof K!="function"&&typeof K!="symbol";break;default:ne(s,r,V,K,u,X)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Et in l)K=l[Et],l.hasOwnProperty(Et)&&K!=null&&!u.hasOwnProperty(Et)&&ne(s,r,Et,null,u,K);for(G in u)if(K=u[G],X=l[G],u.hasOwnProperty(G)&&K!==X&&(K!=null||X!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(K!=null)throw Error(i(137,r));break;default:ne(s,r,G,K,u,X)}return;default:if(Ja(r)){for(var ie in l)K=l[ie],l.hasOwnProperty(ie)&&K!==void 0&&!u.hasOwnProperty(ie)&&dm(s,r,ie,void 0,u,K);for(J in u)K=u[J],X=l[J],!u.hasOwnProperty(J)||K===X||K===void 0&&X===void 0||dm(s,r,J,K,u,X);return}}for(var B in l)K=l[B],l.hasOwnProperty(B)&&K!=null&&!u.hasOwnProperty(B)&&ne(s,r,B,null,u,K);for(st in u)K=u[st],X=l[st],!u.hasOwnProperty(st)||K===X||K==null&&X==null||ne(s,r,st,K,u,X)}function Qb(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function m2(){if(typeof performance.getEntriesByType=="function"){for(var s=0,r=0,l=performance.getEntriesByType("resource"),u=0;u<l.length;u++){var m=l[u],p=m.transferSize,v=m.initiatorType,w=m.duration;if(p&&w&&Qb(v)){for(v=0,w=m.responseEnd,u+=1;u<l.length;u++){var V=l[u],G=V.startTime;if(G>w)break;var J=V.transferSize,st=V.initiatorType;J&&Qb(st)&&(V=V.responseEnd,v+=J*(V<w?1:(w-G)/(V-G)))}if(--u,r+=8*(p+v)/(m.duration/1e3),s++,10<s)break}}if(0<s)return r/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var gm=null,mm=null;function Ph(s){return s.nodeType===9?s:s.ownerDocument}function Xb(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Wb(s,r){if(s===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&r==="foreignObject"?0:s}function pm(s,r){return s==="textarea"||s==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var ym=null;function p2(){var s=window.event;return s&&s.type==="popstate"?s===ym?!1:(ym=s,!0):(ym=null,!1)}var Zb=typeof setTimeout=="function"?setTimeout:void 0,y2=typeof clearTimeout=="function"?clearTimeout:void 0,Jb=typeof Promise=="function"?Promise:void 0,_2=typeof queueMicrotask=="function"?queueMicrotask:typeof Jb<"u"?function(s){return Jb.resolve(null).then(s).catch(b2)}:Zb;function b2(s){setTimeout(function(){throw s})}function fr(s){return s==="head"}function tv(s,r){var l=r,u=0;do{var m=l.nextSibling;if(s.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"||l==="/&"){if(u===0){s.removeChild(m),zo(r);return}u--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")u++;else if(l==="html")gc(s.ownerDocument.documentElement);else if(l==="head"){l=s.ownerDocument.head,gc(l);for(var p=l.firstChild;p;){var v=p.nextSibling,w=p.nodeName;p[Di]||w==="SCRIPT"||w==="STYLE"||w==="LINK"&&p.rel.toLowerCase()==="stylesheet"||l.removeChild(p),p=v}}else l==="body"&&gc(s.ownerDocument.body);l=m}while(l);zo(r)}function ev(s,r){var l=s;s=0;do{var u=l.nextSibling;if(l.nodeType===1?r?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(r?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),u&&u.nodeType===8)if(l=u.data,l==="/$"){if(s===0)break;s--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||s++;l=u}while(l)}function _m(s){var r=s.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var l=r;switch(r=r.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":_m(l),Xa(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function v2(s,r,l,u){for(;s.nodeType===1;){var m=l;if(s.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(u){if(!s[Di])switch(r){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(p=s.getAttribute("rel"),p==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(p!==m.rel||s.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||s.getAttribute("title")!==(m.title==null?null:m.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(p=s.getAttribute("src"),(p!==(m.src==null?null:m.src)||s.getAttribute("type")!==(m.type==null?null:m.type)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&p&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(r==="input"&&s.type==="hidden"){var p=m.name==null?null:""+m.name;if(m.type==="hidden"&&s.getAttribute("name")===p)return s}else return s;if(s=Wn(s.nextSibling),s===null)break}return null}function T2(s,r,l){if(r==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=Wn(s.nextSibling),s===null))return null;return s}function nv(s,r){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!r||(s=Wn(s.nextSibling),s===null))return null;return s}function bm(s){return s.data==="$?"||s.data==="$~"}function vm(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function E2(s,r){var l=s.ownerDocument;if(s.data==="$~")s._reactRetry=r;else if(s.data!=="$?"||l.readyState!=="loading")r();else{var u=function(){r(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),s._reactRetry=u}}function Wn(s){for(;s!=null;s=s.nextSibling){var r=s.nodeType;if(r===1||r===3)break;if(r===8){if(r=s.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return s}var Tm=null;function iv(s){s=s.nextSibling;for(var r=0;s;){if(s.nodeType===8){var l=s.data;if(l==="/$"||l==="/&"){if(r===0)return Wn(s.nextSibling);r--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||r++}s=s.nextSibling}return null}function sv(s){s=s.previousSibling;for(var r=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(r===0)return s;r--}else l!=="/$"&&l!=="/&"||r++}s=s.previousSibling}return null}function rv(s,r,l){switch(r=Ph(l),s){case"html":if(s=r.documentElement,!s)throw Error(i(452));return s;case"head":if(s=r.head,!s)throw Error(i(453));return s;case"body":if(s=r.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function gc(s){for(var r=s.attributes;r.length;)s.removeAttributeNode(r[0]);Xa(s)}var Zn=new Map,av=new Set;function Lh(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Ss=Y.d;Y.d={f:x2,r:S2,D:w2,C:A2,L:C2,m:R2,X:k2,S:I2,M:D2};function x2(){var s=Ss.f(),r=Ih();return s||r}function S2(s){var r=Bn(s);r!==null&&r.tag===5&&r.type==="form"?x_(r):Ss.r(s)}var No=typeof document>"u"?null:document;function ov(s,r,l){var u=No;if(u&&typeof r=="string"&&r){var m=yn(r);m='link[rel="'+s+'"][href="'+m+'"]',typeof l=="string"&&(m+='[crossorigin="'+l+'"]'),av.has(m)||(av.add(m),s={rel:s,crossOrigin:l,href:r},u.querySelector(m)===null&&(r=u.createElement("link"),Je(r,"link",s),Ie(r),u.head.appendChild(r)))}}function w2(s){Ss.D(s),ov("dns-prefetch",s,null)}function A2(s,r){Ss.C(s,r),ov("preconnect",s,r)}function C2(s,r,l){Ss.L(s,r,l);var u=No;if(u&&s&&r){var m='link[rel="preload"][as="'+yn(r)+'"]';r==="image"&&l&&l.imageSrcSet?(m+='[imagesrcset="'+yn(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(m+='[imagesizes="'+yn(l.imageSizes)+'"]')):m+='[href="'+yn(s)+'"]';var p=m;switch(r){case"style":p=Mo(s);break;case"script":p=Oo(s)}Zn.has(p)||(s=b({rel:"preload",href:r==="image"&&l&&l.imageSrcSet?void 0:s,as:r},l),Zn.set(p,s),u.querySelector(m)!==null||r==="style"&&u.querySelector(mc(p))||r==="script"&&u.querySelector(pc(p))||(r=u.createElement("link"),Je(r,"link",s),Ie(r),u.head.appendChild(r)))}}function R2(s,r){Ss.m(s,r);var l=No;if(l&&s){var u=r&&typeof r.as=="string"?r.as:"script",m='link[rel="modulepreload"][as="'+yn(u)+'"][href="'+yn(s)+'"]',p=m;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Oo(s)}if(!Zn.has(p)&&(s=b({rel:"modulepreload",href:s},r),Zn.set(p,s),l.querySelector(m)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(pc(p)))return}u=l.createElement("link"),Je(u,"link",s),Ie(u),l.head.appendChild(u)}}}function I2(s,r,l){Ss.S(s,r,l);var u=No;if(u&&s){var m=Mi(u).hoistableStyles,p=Mo(s);r=r||"default";var v=m.get(p);if(!v){var w={loading:0,preload:null};if(v=u.querySelector(mc(p)))w.loading=5;else{s=b({rel:"stylesheet",href:s,"data-precedence":r},l),(l=Zn.get(p))&&Em(s,l);var V=v=u.createElement("link");Ie(V),Je(V,"link",s),V._p=new Promise(function(G,J){V.onload=G,V.onerror=J}),V.addEventListener("load",function(){w.loading|=1}),V.addEventListener("error",function(){w.loading|=2}),w.loading|=4,jh(v,r,u)}v={type:"stylesheet",instance:v,count:1,state:w},m.set(p,v)}}}function k2(s,r){Ss.X(s,r);var l=No;if(l&&s){var u=Mi(l).hoistableScripts,m=Oo(s),p=u.get(m);p||(p=l.querySelector(pc(m)),p||(s=b({src:s,async:!0},r),(r=Zn.get(m))&&xm(s,r),p=l.createElement("script"),Ie(p),Je(p,"link",s),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(m,p))}}function D2(s,r){Ss.M(s,r);var l=No;if(l&&s){var u=Mi(l).hoistableScripts,m=Oo(s),p=u.get(m);p||(p=l.querySelector(pc(m)),p||(s=b({src:s,async:!0,type:"module"},r),(r=Zn.get(m))&&xm(s,r),p=l.createElement("script"),Ie(p),Je(p,"link",s),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(m,p))}}function lv(s,r,l,u){var m=(m=ct.current)?Lh(m):null;if(!m)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(r=Mo(l.href),l=Mi(m).hoistableStyles,u=l.get(r),u||(u={type:"style",instance:null,count:0,state:null},l.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=Mo(l.href);var p=Mi(m).hoistableStyles,v=p.get(s);if(v||(m=m.ownerDocument||m,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(s,v),(p=m.querySelector(mc(s)))&&!p._p&&(v.instance=p,v.state.loading=5),Zn.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Zn.set(s,l),p||N2(m,s,l,v.state))),r&&u===null)throw Error(i(528,""));return v}if(r&&u!==null)throw Error(i(529,""));return null;case"script":return r=l.async,l=l.src,typeof l=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Oo(l),l=Mi(m).hoistableScripts,u=l.get(r),u||(u={type:"script",instance:null,count:0,state:null},l.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function Mo(s){return'href="'+yn(s)+'"'}function mc(s){return'link[rel="stylesheet"]['+s+"]"}function cv(s){return b({},s,{"data-precedence":s.precedence,precedence:null})}function N2(s,r,l,u){s.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=s.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),Je(r,"link",l),Ie(r),s.head.appendChild(r))}function Oo(s){return'[src="'+yn(s)+'"]'}function pc(s){return"script[async]"+s}function uv(s,r,l){if(r.count++,r.instance===null)switch(r.type){case"style":var u=s.querySelector('style[data-href~="'+yn(l.href)+'"]');if(u)return r.instance=u,Ie(u),u;var m=b({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(s.ownerDocument||s).createElement("style"),Ie(u),Je(u,"style",m),jh(u,l.precedence,s),r.instance=u;case"stylesheet":m=Mo(l.href);var p=s.querySelector(mc(m));if(p)return r.state.loading|=4,r.instance=p,Ie(p),p;u=cv(l),(m=Zn.get(m))&&Em(u,m),p=(s.ownerDocument||s).createElement("link"),Ie(p);var v=p;return v._p=new Promise(function(w,V){v.onload=w,v.onerror=V}),Je(p,"link",u),r.state.loading|=4,jh(p,l.precedence,s),r.instance=p;case"script":return p=Oo(l.src),(m=s.querySelector(pc(p)))?(r.instance=m,Ie(m),m):(u=l,(m=Zn.get(p))&&(u=b({},l),xm(u,m)),s=s.ownerDocument||s,m=s.createElement("script"),Ie(m),Je(m,"link",u),s.head.appendChild(m),r.instance=m);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,jh(u,l.precedence,s));return r.instance}function jh(s,r,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=u.length?u[u.length-1]:null,p=m,v=0;v<u.length;v++){var w=u[v];if(w.dataset.precedence===r)p=w;else if(p!==m)break}p?p.parentNode.insertBefore(s,p.nextSibling):(r=l.nodeType===9?l.head:l,r.insertBefore(s,r.firstChild))}function Em(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.title==null&&(s.title=r.title)}function xm(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.integrity==null&&(s.integrity=r.integrity)}var Uh=null;function hv(s,r,l){if(Uh===null){var u=new Map,m=Uh=new Map;m.set(l,u)}else m=Uh,u=m.get(l),u||(u=new Map,m.set(l,u));if(u.has(s))return u;for(u.set(s,null),l=l.getElementsByTagName(s),m=0;m<l.length;m++){var p=l[m];if(!(p[Di]||p[Re]||s==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var v=p.getAttribute(r)||"";v=s+v;var w=u.get(v);w?w.push(p):u.set(v,[p])}}return u}function fv(s,r,l){s=s.ownerDocument||s,s.head.insertBefore(l,r==="title"?s.querySelector("head > title"):null)}function M2(s,r,l){if(l===1||r.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return s=r.disabled,typeof r.precedence=="string"&&s==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function dv(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function O2(s,r,l,u){if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var m=Mo(u.href),p=r.querySelector(mc(m));if(p){r=p._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(s.count++,s=Bh.bind(s),r.then(s,s)),l.state.loading|=4,l.instance=p,Ie(p);return}p=r.ownerDocument||r,u=cv(u),(m=Zn.get(m))&&Em(u,m),p=p.createElement("link"),Ie(p);var v=p;v._p=new Promise(function(w,V){v.onload=w,v.onerror=V}),Je(p,"link",u),l.instance=p}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(l,r),(r=l.state.preload)&&(l.state.loading&3)===0&&(s.count++,l=Bh.bind(s),r.addEventListener("load",l),r.addEventListener("error",l))}}var Sm=0;function z2(s,r){return s.stylesheets&&s.count===0&&Fh(s,s.stylesheets),0<s.count||0<s.imgCount?function(l){var u=setTimeout(function(){if(s.stylesheets&&Fh(s,s.stylesheets),s.unsuspend){var p=s.unsuspend;s.unsuspend=null,p()}},6e4+r);0<s.imgBytes&&Sm===0&&(Sm=62500*m2());var m=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Fh(s,s.stylesheets),s.unsuspend)){var p=s.unsuspend;s.unsuspend=null,p()}},(s.imgBytes>Sm?50:800)+r);return s.unsuspend=l,function(){s.unsuspend=null,clearTimeout(u),clearTimeout(m)}}:null}function Bh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Fh(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Hh=null;function Fh(s,r){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Hh=new Map,r.forEach(V2,s),Hh=null,Bh.call(s))}function V2(s,r){if(!(r.state.loading&4)){var l=Hh.get(s);if(l)var u=l.get(null);else{l=new Map,Hh.set(s,l);for(var m=s.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<m.length;p++){var v=m[p];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(l.set(v.dataset.precedence,v),u=v)}u&&l.set(null,u)}m=r.instance,v=m.getAttribute("data-precedence"),p=l.get(v)||u,p===u&&l.set(null,m),l.set(v,m),this.count++,u=Bh.bind(this),m.addEventListener("load",u),m.addEventListener("error",u),p?p.parentNode.insertBefore(m,p.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(m,s.firstChild)),r.state.loading|=4}}var yc={$$typeof:Z,Provider:null,Consumer:null,_currentValue:ht,_currentValue2:ht,_threadCount:0};function P2(s,r,l,u,m,p,v,w,V){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ii(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ii(0),this.hiddenUpdates=Ii(null),this.identifierPrefix=u,this.onUncaughtError=m,this.onCaughtError=p,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function gv(s,r,l,u,m,p,v,w,V,G,J,st){return s=new P2(s,r,l,v,V,G,J,st,w),r=1,p===!0&&(r|=24),p=Nn(3,null,null,r),s.current=p,p.stateNode=s,r=ig(),r.refCount++,s.pooledCache=r,r.refCount++,p.memoizedState={element:u,isDehydrated:l,cache:r},og(p),s}function mv(s){return s?(s=uo,s):uo}function pv(s,r,l,u,m,p){m=mv(m),u.context===null?u.context=m:u.pendingContext=m,u=er(r),u.payload={element:l},p=p===void 0?null:p,p!==null&&(u.callback=p),l=nr(s,u,r),l!==null&&(xn(l,s,r),Ql(l,s,r))}function yv(s,r){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<r?l:r}}function wm(s,r){yv(s,r),(s=s.alternate)&&yv(s,r)}function _v(s){if(s.tag===13||s.tag===31){var r=ca(s,67108864);r!==null&&xn(r,s,67108864),wm(s,67108864)}}function bv(s){if(s.tag===13||s.tag===31){var r=Pn();r=Wr(r);var l=ca(s,r);l!==null&&xn(l,s,r),wm(s,r)}}var qh=!0;function L2(s,r,l,u){var m=F.T;F.T=null;var p=Y.p;try{Y.p=2,Am(s,r,l,u)}finally{Y.p=p,F.T=m}}function j2(s,r,l,u){var m=F.T;F.T=null;var p=Y.p;try{Y.p=8,Am(s,r,l,u)}finally{Y.p=p,F.T=m}}function Am(s,r,l,u){if(qh){var m=Cm(u);if(m===null)fm(s,r,u,Gh,l),Tv(s,u);else if(B2(m,s,r,l,u))u.stopPropagation();else if(Tv(s,u),r&4&&-1<U2.indexOf(s)){for(;m!==null;){var p=Bn(m);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var v=Ci(p.pendingLanes);if(v!==0){var w=p;for(w.pendingLanes|=2,w.entangledLanes|=2;v;){var V=1<<31-be(v);w.entanglements[1]|=V,v&=~V}$i(p),(Kt&6)===0&&(Ch=gn()+500,hc(0))}}break;case 31:case 13:w=ca(p,2),w!==null&&xn(w,p,2),Ih(),wm(p,2)}if(p=Cm(u),p===null&&fm(s,r,u,Gh,l),p===m)break;m=p}m!==null&&u.stopPropagation()}else fm(s,r,u,null,l)}}function Cm(s){return s=Hn(s),Rm(s)}var Gh=null;function Rm(s){if(Gh=null,s=Ni(s),s!==null){var r=o(s);if(r===null)s=null;else{var l=r.tag;if(l===13){if(s=c(r),s!==null)return s;s=null}else if(l===31){if(s=h(r),s!==null)return s;s=null}else if(l===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;s=null}else r!==s&&(s=null)}}return Gh=s,null}function vv(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Yr()){case vl:return 2;case Tl:return 8;case Us:case Od:return 32;case xu:return 268435456;default:return 32}default:return 32}}var Im=!1,dr=null,gr=null,mr=null,_c=new Map,bc=new Map,pr=[],U2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Tv(s,r){switch(s){case"focusin":case"focusout":dr=null;break;case"dragenter":case"dragleave":gr=null;break;case"mouseover":case"mouseout":mr=null;break;case"pointerover":case"pointerout":_c.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":bc.delete(r.pointerId)}}function vc(s,r,l,u,m,p){return s===null||s.nativeEvent!==p?(s={blockedOn:r,domEventName:l,eventSystemFlags:u,nativeEvent:p,targetContainers:[m]},r!==null&&(r=Bn(r),r!==null&&_v(r)),s):(s.eventSystemFlags|=u,r=s.targetContainers,m!==null&&r.indexOf(m)===-1&&r.push(m),s)}function B2(s,r,l,u,m){switch(r){case"focusin":return dr=vc(dr,s,r,l,u,m),!0;case"dragenter":return gr=vc(gr,s,r,l,u,m),!0;case"mouseover":return mr=vc(mr,s,r,l,u,m),!0;case"pointerover":var p=m.pointerId;return _c.set(p,vc(_c.get(p)||null,s,r,l,u,m)),!0;case"gotpointercapture":return p=m.pointerId,bc.set(p,vc(bc.get(p)||null,s,r,l,u,m)),!0}return!1}function Ev(s){var r=Ni(s.target);if(r!==null){var l=o(r);if(l!==null){if(r=l.tag,r===13){if(r=c(l),r!==null){s.blockedOn=r,li(s.priority,function(){bv(l)});return}}else if(r===31){if(r=h(l),r!==null){s.blockedOn=r,li(s.priority,function(){bv(l)});return}}else if(r===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function $h(s){if(s.blockedOn!==null)return!1;for(var r=s.targetContainers;0<r.length;){var l=Cm(s.nativeEvent);if(l===null){l=s.nativeEvent;var u=new l.constructor(l.type,l);Ml=u,l.target.dispatchEvent(u),Ml=null}else return r=Bn(l),r!==null&&_v(r),s.blockedOn=l,!1;r.shift()}return!0}function xv(s,r,l){$h(s)&&l.delete(r)}function H2(){Im=!1,dr!==null&&$h(dr)&&(dr=null),gr!==null&&$h(gr)&&(gr=null),mr!==null&&$h(mr)&&(mr=null),_c.forEach(xv),bc.forEach(xv)}function Yh(s,r){s.blockedOn===r&&(s.blockedOn=null,Im||(Im=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,H2)))}var Kh=null;function Sv(s){Kh!==s&&(Kh=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Kh===s&&(Kh=null);for(var r=0;r<s.length;r+=3){var l=s[r],u=s[r+1],m=s[r+2];if(typeof u!="function"){if(Rm(u||l)===null)continue;break}var p=Bn(l);p!==null&&(s.splice(r,3),r-=3,Cg(p,{pending:!0,data:m,method:l.method,action:u},u,m))}}))}function zo(s){function r(V){return Yh(V,s)}dr!==null&&Yh(dr,s),gr!==null&&Yh(gr,s),mr!==null&&Yh(mr,s),_c.forEach(r),bc.forEach(r);for(var l=0;l<pr.length;l++){var u=pr[l];u.blockedOn===s&&(u.blockedOn=null)}for(;0<pr.length&&(l=pr[0],l.blockedOn===null);)Ev(l),l.blockedOn===null&&pr.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var m=l[u],p=l[u+1],v=m[Fe]||null;if(typeof p=="function")v||Sv(l);else if(v){var w=null;if(p&&p.hasAttribute("formAction")){if(m=p,v=p[Fe]||null)w=v.formAction;else if(Rm(m)!==null)continue}else w=v.action;typeof w=="function"?l[u+1]=w:(l.splice(u,3),u-=3),Sv(l)}}}function wv(){function s(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(v){return m=v})},focusReset:"manual",scroll:"manual"})}function r(){m!==null&&(m(),m=null),u||setTimeout(l,20)}function l(){if(!u&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,m=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(l,100),function(){u=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),m!==null&&(m(),m=null)}}}function km(s){this._internalRoot=s}Qh.prototype.render=km.prototype.render=function(s){var r=this._internalRoot;if(r===null)throw Error(i(409));var l=r.current,u=Pn();pv(l,u,s,r,null,null)},Qh.prototype.unmount=km.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var r=s.containerInfo;pv(s.current,2,null,s,null,null),Ih(),r[ki]=null}};function Qh(s){this._internalRoot=s}Qh.prototype.unstable_scheduleHydration=function(s){if(s){var r=Iu();s={blockedOn:null,target:s,priority:r};for(var l=0;l<pr.length&&r!==0&&r<pr[l].priority;l++);pr.splice(l,0,s),l===0&&Ev(s)}};var Av=t.version;if(Av!=="19.2.1")throw Error(i(527,Av,"19.2.1"));Y.findDOMNode=function(s){var r=s._reactInternals;if(r===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=g(r),s=s!==null?y(s):null,s=s===null?null:s.stateNode,s};var F2={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:F,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Xh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Xh.isDisabled&&Xh.supportsFiber)try{ai=Xh.inject(F2),Ke=Xh}catch{}}return Ec.createRoot=function(s,r){if(!a(s))throw Error(i(299));var l=!1,u="",m=M_,p=O_,v=z_;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(m=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError)),r=gv(s,1,!1,null,null,l,u,null,m,p,v,wv),s[ki]=r.current,hm(s),new km(r)},Ec.hydrateRoot=function(s,r,l){if(!a(s))throw Error(i(299));var u=!1,m="",p=M_,v=O_,w=z_,V=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(m=l.identifierPrefix),l.onUncaughtError!==void 0&&(p=l.onUncaughtError),l.onCaughtError!==void 0&&(v=l.onCaughtError),l.onRecoverableError!==void 0&&(w=l.onRecoverableError),l.formState!==void 0&&(V=l.formState)),r=gv(s,1,!0,r,l??null,u,m,V,p,v,w,wv),r.context=mv(null),l=r.current,u=Pn(),u=Wr(u),m=er(u),m.callback=null,nr(l,m,u),l=u,r.current.lanes=l,Qr(r,l),$i(r),s[ki]=r.current,hm(s),new Qh(r)},Ec.version="19.2.1",Ec}var Vv;function J2(){if(Vv)return Mm.exports;Vv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Mm.exports=Z2(),Mm.exports}var tC=J2();const eC=()=>{};var Pv={};const O1=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let a=n.charCodeAt(i);a<128?t[e++]=a:a<2048?(t[e++]=a>>6|192,t[e++]=a&63|128):(a&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=a>>18|240,t[e++]=a>>12&63|128,t[e++]=a>>6&63|128,t[e++]=a&63|128):(t[e++]=a>>12|224,t[e++]=a>>6&63|128,t[e++]=a&63|128)}return t},nC=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const a=n[e++];if(a<128)t[i++]=String.fromCharCode(a);else if(a>191&&a<224){const o=n[e++];t[i++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=n[e++],c=n[e++],h=n[e++],f=((a&7)<<18|(o&63)<<12|(c&63)<<6|h&63)-65536;t[i++]=String.fromCharCode(55296+(f>>10)),t[i++]=String.fromCharCode(56320+(f&1023))}else{const o=n[e++],c=n[e++];t[i++]=String.fromCharCode((a&15)<<12|(o&63)<<6|c&63)}}return t.join("")},z1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<n.length;a+=3){const o=n[a],c=a+1<n.length,h=c?n[a+1]:0,f=a+2<n.length,g=f?n[a+2]:0,y=o>>2,b=(o&3)<<4|h>>4;let T=(h&15)<<2|g>>6,x=g&63;f||(x=64,c||(T=64)),i.push(e[y],e[b],e[T],e[x])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(O1(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):nC(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<n.length;){const o=e[n.charAt(a++)],h=a<n.length?e[n.charAt(a)]:0;++a;const g=a<n.length?e[n.charAt(a)]:64;++a;const b=a<n.length?e[n.charAt(a)]:64;if(++a,o==null||h==null||g==null||b==null)throw new iC;const T=o<<2|h>>4;if(i.push(T),g!==64){const x=h<<4&240|g>>2;if(i.push(x),b!==64){const I=g<<6&192|b;i.push(I)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class iC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const sC=function(n){const t=O1(n);return z1.encodeByteArray(t,!0)},kf=function(n){return sC(n).replace(/\./g,"")},V1=function(n){try{return z1.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function rC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const aC=()=>rC().__FIREBASE_DEFAULTS__,oC=()=>{if(typeof process>"u"||typeof Pv>"u")return;const n=Pv.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},lC=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&V1(n[1]);return t&&JSON.parse(t)},id=()=>{try{return eC()||aC()||oC()||lC()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},P1=n=>id()?.emulatorHosts?.[n],cC=n=>{const t=P1(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),i]:[t.substring(0,e),i]},L1=()=>id()?.config,j1=n=>id()?.[`_${n}`];class uC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}function ol(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function U1(n){return(await fetch(n,{credentials:"include"})).ok}function hC(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},i=t||"demo-project",a=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[kf(JSON.stringify(e)),kf(JSON.stringify(c)),""].join(".")}const Pc={};function fC(){const n={prod:[],emulator:[]};for(const t of Object.keys(Pc))Pc[t]?n.emulator.push(t):n.prod.push(t);return n}function dC(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let Lv=!1;function B1(n,t){if(typeof window>"u"||typeof document>"u"||!ol(window.location.host)||Pc[n]===t||Pc[n]||Lv)return;Pc[n]=t;function e(T){return`__firebase__banner__${T}`}const i="__firebase__banner",o=fC().prod.length>0;function c(){const T=document.getElementById(i);T&&T.remove()}function h(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function f(T,x){T.setAttribute("width","24"),T.setAttribute("id",x),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function g(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{Lv=!0,c()},T}function y(T,x){T.setAttribute("id",x),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function b(){const T=dC(i),x=e("text"),I=document.getElementById(x)||document.createElement("span"),C=e("learnmore"),k=document.getElementById(C)||document.createElement("a"),U=e("preprendIcon"),W=document.getElementById(U)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const Z=T.element;h(Z),y(k,C);const nt=g();f(W,U),Z.append(W,I,k,nt),document.body.appendChild(Z)}o?(I.innerText="Preview backend disconnected.",W.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(W.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,I.innerText="Preview backend running in this workspace."),I.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function fn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fn())}function mC(){const n=id()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function pC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function yC(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function _C(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function bC(){const n=fn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function vC(){return!mC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function TC(){try{return typeof indexedDB=="object"}catch{return!1}}function EC(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},a.onupgradeneeded=()=>{e=!1},a.onerror=()=>{t(a.error?.message||"")}}catch(e){t(e)}})}const xC="FirebaseError";class zs extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=xC,Object.setPrototypeOf(this,zs.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,uu.prototype.create)}}class uu{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},a=`${this.service}/${t}`,o=this.errors[t],c=o?SC(o,i):"Error",h=`${this.serviceName}: ${c} (${a}).`;return new zs(a,h,i)}}function SC(n,t){return n.replace(wC,(e,i)=>{const a=t[i];return a!=null?String(a):`<${i}?>`})}const wC=/\{\$([^}]+)}/g;function AC(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function za(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const a of e){if(!i.includes(a))return!1;const o=n[a],c=t[a];if(jv(o)&&jv(c)){if(!za(o,c))return!1}else if(o!==c)return!1}for(const a of i)if(!e.includes(a))return!1;return!0}function jv(n){return n!==null&&typeof n=="object"}function hu(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(a=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function Rc(n){const t={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,o]=i.split("=");t[decodeURIComponent(a)]=decodeURIComponent(o)}}),t}function Ic(n){const t=n.indexOf("?");if(!t)return"";const e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}function CC(n,t){const e=new RC(n,t);return e.subscribe.bind(e)}class RC{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let a;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");IC(t,["next","error","complete"])?a=t:a={next:t,error:e,complete:i},a.next===void 0&&(a.next=Pm),a.error===void 0&&(a.error=Pm),a.complete===void 0&&(a.complete=Pm);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function IC(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function Pm(){}function Le(n){return n&&n._delegate?n._delegate:n}class Va{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const wa="[DEFAULT]";class kC{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new uC;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:e});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),i=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(NC(t))try{this.getOrInitializeService({instanceIdentifier:wa})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(e);try{const o=this.getOrInitializeService({instanceIdentifier:a});i.resolve(o)}catch{}}}}clearInstance(t=wa){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=wa){return this.instances.has(t)}getOptions(t=wa){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[o,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);i===h&&c.resolve(a)}return a}onInit(t,e){const i=this.normalizeInstanceIdentifier(e),a=this.onInitCallbacks.get(i)??new Set;a.add(t),this.onInitCallbacks.set(i,a);const o=this.instances.get(i);return o&&t(o,i),()=>{a.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const a of i)try{a(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:DC(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=wa){return this.component?this.component.multipleInstances?t:wa:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function DC(n){return n===wa?void 0:n}function NC(n){return n.instantiationMode==="EAGER"}class MC{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new kC(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}var Lt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Lt||(Lt={}));const OC={debug:Lt.DEBUG,verbose:Lt.VERBOSE,info:Lt.INFO,warn:Lt.WARN,error:Lt.ERROR,silent:Lt.SILENT},zC=Lt.INFO,VC={[Lt.DEBUG]:"log",[Lt.VERBOSE]:"log",[Lt.INFO]:"info",[Lt.WARN]:"warn",[Lt.ERROR]:"error"},PC=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),a=VC[t];if(a)console[a](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Xp{constructor(t){this.name=t,this._logLevel=zC,this._logHandler=PC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Lt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?OC[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Lt.DEBUG,...t),this._logHandler(this,Lt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Lt.VERBOSE,...t),this._logHandler(this,Lt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Lt.INFO,...t),this._logHandler(this,Lt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Lt.WARN,...t),this._logHandler(this,Lt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Lt.ERROR,...t),this._logHandler(this,Lt.ERROR,...t)}}const LC=(n,t)=>t.some(e=>n instanceof e);let Uv,Bv;function jC(){return Uv||(Uv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function UC(){return Bv||(Bv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const H1=new WeakMap,cp=new WeakMap,F1=new WeakMap,Lm=new WeakMap,Wp=new WeakMap;function BC(n){const t=new Promise((e,i)=>{const a=()=>{n.removeEventListener("success",o),n.removeEventListener("error",c)},o=()=>{e(Cr(n.result)),a()},c=()=>{i(n.error),a()};n.addEventListener("success",o),n.addEventListener("error",c)});return t.then(e=>{e instanceof IDBCursor&&H1.set(e,n)}).catch(()=>{}),Wp.set(t,n),t}function HC(n){if(cp.has(n))return;const t=new Promise((e,i)=>{const a=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",c),n.removeEventListener("abort",c)},o=()=>{e(),a()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",o),n.addEventListener("error",c),n.addEventListener("abort",c)});cp.set(n,t)}let up={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return cp.get(n);if(t==="objectStoreNames")return n.objectStoreNames||F1.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Cr(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function FC(n){up=n(up)}function qC(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(jm(this),t,...e);return F1.set(i,t.sort?t.sort():[t]),Cr(i)}:UC().includes(n)?function(...t){return n.apply(jm(this),t),Cr(H1.get(this))}:function(...t){return Cr(n.apply(jm(this),t))}}function GC(n){return typeof n=="function"?qC(n):(n instanceof IDBTransaction&&HC(n),LC(n,jC())?new Proxy(n,up):n)}function Cr(n){if(n instanceof IDBRequest)return BC(n);if(Lm.has(n))return Lm.get(n);const t=GC(n);return t!==n&&(Lm.set(n,t),Wp.set(t,n)),t}const jm=n=>Wp.get(n);function $C(n,t,{blocked:e,upgrade:i,blocking:a,terminated:o}={}){const c=indexedDB.open(n,t),h=Cr(c);return i&&c.addEventListener("upgradeneeded",f=>{i(Cr(c.result),f.oldVersion,f.newVersion,Cr(c.transaction),f)}),e&&c.addEventListener("blocked",f=>e(f.oldVersion,f.newVersion,f)),h.then(f=>{o&&f.addEventListener("close",()=>o()),a&&f.addEventListener("versionchange",g=>a(g.oldVersion,g.newVersion,g))}).catch(()=>{}),h}const YC=["get","getKey","getAll","getAllKeys","count"],KC=["put","add","delete","clear"],Um=new Map;function Hv(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(Um.get(t))return Um.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,a=KC.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(a||YC.includes(e)))return;const o=async function(c,...h){const f=this.transaction(c,a?"readwrite":"readonly");let g=f.store;return i&&(g=g.index(h.shift())),(await Promise.all([g[e](...h),a&&f.done]))[0]};return Um.set(t,o),o}FC(n=>({...n,get:(t,e,i)=>Hv(t,e)||n.get(t,e,i),has:(t,e)=>!!Hv(t,e)||n.has(t,e)}));class QC{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(XC(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function XC(n){return n.getComponent()?.type==="VERSION"}const hp="@firebase/app",Fv="0.14.6";const Ds=new Xp("@firebase/app"),WC="@firebase/app-compat",ZC="@firebase/analytics-compat",JC="@firebase/analytics",tR="@firebase/app-check-compat",eR="@firebase/app-check",nR="@firebase/auth",iR="@firebase/auth-compat",sR="@firebase/database",rR="@firebase/data-connect",aR="@firebase/database-compat",oR="@firebase/functions",lR="@firebase/functions-compat",cR="@firebase/installations",uR="@firebase/installations-compat",hR="@firebase/messaging",fR="@firebase/messaging-compat",dR="@firebase/performance",gR="@firebase/performance-compat",mR="@firebase/remote-config",pR="@firebase/remote-config-compat",yR="@firebase/storage",_R="@firebase/storage-compat",bR="@firebase/firestore",vR="@firebase/ai",TR="@firebase/firestore-compat",ER="firebase",xR="12.6.0";const fp="[DEFAULT]",SR={[hp]:"fire-core",[WC]:"fire-core-compat",[JC]:"fire-analytics",[ZC]:"fire-analytics-compat",[eR]:"fire-app-check",[tR]:"fire-app-check-compat",[nR]:"fire-auth",[iR]:"fire-auth-compat",[sR]:"fire-rtdb",[rR]:"fire-data-connect",[aR]:"fire-rtdb-compat",[oR]:"fire-fn",[lR]:"fire-fn-compat",[cR]:"fire-iid",[uR]:"fire-iid-compat",[hR]:"fire-fcm",[fR]:"fire-fcm-compat",[dR]:"fire-perf",[gR]:"fire-perf-compat",[mR]:"fire-rc",[pR]:"fire-rc-compat",[yR]:"fire-gcs",[_R]:"fire-gcs-compat",[bR]:"fire-fst",[TR]:"fire-fst-compat",[vR]:"fire-vertex","fire-js":"fire-js",[ER]:"fire-js-all"};const Df=new Map,wR=new Map,dp=new Map;function qv(n,t){try{n.container.addComponent(t)}catch(e){Ds.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Qo(n){const t=n.name;if(dp.has(t))return Ds.debug(`There were multiple attempts to register component ${t}.`),!1;dp.set(t,n);for(const e of Df.values())qv(e,n);for(const e of wR.values())qv(e,n);return!0}function Zp(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function An(n){return n==null?!1:n.settings!==void 0}const AR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Rr=new uu("app","Firebase",AR);class CR{constructor(t,e,i){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new Va("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Rr.create("app-deleted",{appName:this._name})}}const ll=xR;function q1(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const i={name:fp,automaticDataCollectionEnabled:!0,...t},a=i.name;if(typeof a!="string"||!a)throw Rr.create("bad-app-name",{appName:String(a)});if(e||(e=L1()),!e)throw Rr.create("no-options");const o=Df.get(a);if(o){if(za(e,o.options)&&za(i,o.config))return o;throw Rr.create("duplicate-app",{appName:a})}const c=new MC(a);for(const f of dp.values())c.addComponent(f);const h=new CR(e,i,c);return Df.set(a,h),h}function G1(n=fp){const t=Df.get(n);if(!t&&n===fp&&L1())return q1();if(!t)throw Rr.create("no-app",{appName:n});return t}function Ir(n,t,e){let i=SR[n]??n;e&&(i+=`-${e}`);const a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){const c=[`Unable to register library "${i}" with version "${t}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&o&&c.push("and"),o&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ds.warn(c.join(" "));return}Qo(new Va(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}const RR="firebase-heartbeat-database",IR=1,Kc="firebase-heartbeat-store";let Bm=null;function $1(){return Bm||(Bm=$C(RR,IR,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Kc)}catch(e){console.warn(e)}}}}).catch(n=>{throw Rr.create("idb-open",{originalErrorMessage:n.message})})),Bm}async function kR(n){try{const e=(await $1()).transaction(Kc),i=await e.objectStore(Kc).get(Y1(n));return await e.done,i}catch(t){if(t instanceof zs)Ds.warn(t.message);else{const e=Rr.create("idb-get",{originalErrorMessage:t?.message});Ds.warn(e.message)}}}async function Gv(n,t){try{const i=(await $1()).transaction(Kc,"readwrite");await i.objectStore(Kc).put(t,Y1(n)),await i.done}catch(e){if(e instanceof zs)Ds.warn(e.message);else{const i=Rr.create("idb-set",{originalErrorMessage:e?.message});Ds.warn(i.message)}}}function Y1(n){return`${n.name}!${n.options.appId}`}const DR=1024,NR=30;class MR{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new zR(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=$v();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:e}),this._heartbeatsCache.heartbeats.length>NR){const a=VR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Ds.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=$v(),{heartbeatsToSend:e,unsentEntries:i}=OR(this._heartbeatsCache.heartbeats),a=kf(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Ds.warn(t),""}}}function $v(){return new Date().toISOString().substring(0,10)}function OR(n,t=DR){const e=[];let i=n.slice();for(const a of n){const o=e.find(c=>c.agent===a.agent);if(o){if(o.dates.push(a.date),Yv(e)>t){o.dates.pop();break}}else if(e.push({agent:a.agent,dates:[a.date]}),Yv(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class zR{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return TC()?EC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await kR(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return Gv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return Gv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function Yv(n){return kf(JSON.stringify({version:2,heartbeats:n})).length}function VR(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}function PR(n){Qo(new Va("platform-logger",t=>new QC(t),"PRIVATE")),Qo(new Va("heartbeat",t=>new MR(t),"PRIVATE")),Ir(hp,Fv,n),Ir(hp,Fv,"esm2020"),Ir("fire-js","")}PR("");var LR="firebase",jR="12.6.0";Ir(LR,jR,"app");function K1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const UR=K1,Q1=new uu("auth","Firebase",K1());const Nf=new Xp("@firebase/auth");function BR(n,...t){Nf.logLevel<=Lt.WARN&&Nf.warn(`Auth (${ll}): ${n}`,...t)}function yf(n,...t){Nf.logLevel<=Lt.ERROR&&Nf.error(`Auth (${ll}): ${n}`,...t)}function xi(n,...t){throw Jp(n,...t)}function Zi(n,...t){return Jp(n,...t)}function X1(n,t,e){const i={...UR(),[t]:e};return new uu("auth","Firebase",i).create(t,{appName:n.name})}function Ti(n){return X1(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Jp(n,...t){if(typeof n!="string"){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return Q1.create(n,...t)}function xt(n,t,...e){if(!n)throw Jp(t,...e)}function Is(n){const t="INTERNAL ASSERTION FAILED: "+n;throw yf(t),new Error(t)}function Ns(n,t){n||Is(t)}function gp(){return typeof self<"u"&&self.location?.href||""}function HR(){return Kv()==="http:"||Kv()==="https:"}function Kv(){return typeof self<"u"&&self.location?.protocol||null}function FR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(HR()||yC()||"connection"in navigator)?navigator.onLine:!0}function qR(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class fu{constructor(t,e){this.shortDelay=t,this.longDelay=e,Ns(e>t,"Short delay should be less than long delay!"),this.isMobile=gC()||_C()}get(){return FR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function ty(n,t){Ns(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}class W1{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Is("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Is("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Is("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const GR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const $R=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],YR=new fu(3e4,6e4);function Vs(n,t){return n.tenantId&&!t.tenantId?{...t,tenantId:n.tenantId}:t}async function Ps(n,t,e,i,a={}){return Z1(n,a,async()=>{let o={},c={};i&&(t==="GET"?c=i:o={body:JSON.stringify(i)});const h=hu({key:n.config.apiKey,...c}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const g={method:t,headers:f,...o};return pC()||(g.referrerPolicy="no-referrer"),n.emulatorConfig&&ol(n.emulatorConfig.host)&&(g.credentials="include"),W1.fetch()(await J1(n,n.config.apiHost,e,h),g)})}async function Z1(n,t,e){n._canInitEmulator=!1;const i={...GR,...t};try{const a=new QR(n),o=await Promise.race([e(),a.promise]);a.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw Wh(n,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const h=o.ok?c.errorMessage:c.error.message,[f,g]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Wh(n,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw Wh(n,"email-already-in-use",c);if(f==="USER_DISABLED")throw Wh(n,"user-disabled",c);const y=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(g)throw X1(n,y,g);xi(n,y)}}catch(a){if(a instanceof zs)throw a;xi(n,"network-request-failed",{message:String(a)})}}async function cl(n,t,e,i,a={}){const o=await Ps(n,t,e,i,a);return"mfaPendingCredential"in o&&xi(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function J1(n,t,e,i){const a=`${t}${e}?${i}`,o=n,c=o.config.emulator?ty(n.config,a):`${n.config.apiScheme}://${a}`;return $R.includes(e)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}function KR(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class QR{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(Zi(this.auth,"network-request-failed")),YR.get())})}}function Wh(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const a=Zi(n,t,i);return a.customData._tokenResponse=e,a}function Qv(n){return n!==void 0&&n.enterprise!==void 0}class XR{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return KR(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function WR(n,t){return Ps(n,"GET","/v2/recaptchaConfig",Vs(n,t))}async function ZR(n,t){return Ps(n,"POST","/v1/accounts:delete",t)}async function Mf(n,t){return Ps(n,"POST","/v1/accounts:lookup",t)}function Lc(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function JR(n,t=!1){const e=Le(n),i=await e.getIdToken(t),a=ey(i);xt(a&&a.exp&&a.auth_time&&a.iat,e.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,c=o?.sign_in_provider;return{claims:a,token:i,authTime:Lc(Hm(a.auth_time)),issuedAtTime:Lc(Hm(a.iat)),expirationTime:Lc(Hm(a.exp)),signInProvider:c||null,signInSecondFactor:o?.sign_in_second_factor||null}}function Hm(n){return Number(n)*1e3}function ey(n){const[t,e,i]=n.split(".");if(t===void 0||e===void 0||i===void 0)return yf("JWT malformed, contained fewer than 3 sections"),null;try{const a=V1(e);return a?JSON.parse(a):(yf("Failed to decode base64 JWT payload"),null)}catch(a){return yf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function Xv(n){const t=ey(n);return xt(t,"internal-error"),xt(typeof t.exp<"u","internal-error"),xt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Xo(n,t,e=!1){if(e)return t;try{return await t}catch(i){throw i instanceof zs&&tI(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function tI({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class eI{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class mp{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=Lc(this.lastLoginAt),this.creationTime=Lc(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Of(n){const t=n.auth,e=await n.getIdToken(),i=await Xo(n,Mf(t,{idToken:e}));xt(i?.users.length,t,"internal-error");const a=i.users[0];n._notifyReloadListener(a);const o=a.providerUserInfo?.length?tx(a.providerUserInfo):[],c=iI(n.providerData,o),h=n.isAnonymous,f=!(n.email&&a.passwordHash)&&!c?.length,g=h?f:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new mp(a.createdAt,a.lastLoginAt),isAnonymous:g};Object.assign(n,y)}async function nI(n){const t=Le(n);await Of(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function iI(n,t){return[...n.filter(i=>!t.some(a=>a.providerId===i.providerId)),...t]}function tx(n){return n.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}async function sI(n,t){const e=await Z1(n,{},async()=>{const i=hu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:o}=n.config,c=await J1(n,a,"/v1/token",`key=${o}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:h,body:i};return n.emulatorConfig&&ol(n.emulatorConfig.host)&&(f.credentials="include"),W1.fetch()(c,f)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function rI(n,t){return Ps(n,"POST","/v2/accounts:revokeToken",Vs(n,t))}class Fo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){xt(t.idToken,"internal-error"),xt(typeof t.idToken<"u","internal-error"),xt(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Xv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){xt(t.length!==0,"internal-error");const e=Xv(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(xt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:i,refreshToken:a,expiresIn:o}=await sI(t,e);this.updateTokensAndExpiration(i,a,Number(o))}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,e){const{refreshToken:i,accessToken:a,expirationTime:o}=e,c=new Fo;return i&&(xt(typeof i=="string","internal-error",{appName:t}),c.refreshToken=i),a&&(xt(typeof a=="string","internal-error",{appName:t}),c.accessToken=a),o&&(xt(typeof o=="number","internal-error",{appName:t}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Fo,this.toJSON())}_performRefresh(){return Is("not implemented")}}function _r(n,t){xt(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class _i{constructor({uid:t,auth:e,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new eI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new mp(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(t){const e=await Xo(this,this.stsTokenManager.getToken(this.auth,t));return xt(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return JR(this,t)}reload(){return nI(this)}_assign(t){this!==t&&(xt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new _i({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){xt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&await Of(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(An(this.auth.app))return Promise.reject(Ti(this.auth));const t=await this.getIdToken();return await Xo(this,ZR(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const i=e.displayName??void 0,a=e.email??void 0,o=e.phoneNumber??void 0,c=e.photoURL??void 0,h=e.tenantId??void 0,f=e._redirectEventId??void 0,g=e.createdAt??void 0,y=e.lastLoginAt??void 0,{uid:b,emailVerified:T,isAnonymous:x,providerData:I,stsTokenManager:C}=e;xt(b&&C,t,"internal-error");const k=Fo.fromJSON(this.name,C);xt(typeof b=="string",t,"internal-error"),_r(i,t.name),_r(a,t.name),xt(typeof T=="boolean",t,"internal-error"),xt(typeof x=="boolean",t,"internal-error"),_r(o,t.name),_r(c,t.name),_r(h,t.name),_r(f,t.name),_r(g,t.name),_r(y,t.name);const U=new _i({uid:b,auth:t,email:a,emailVerified:T,displayName:i,isAnonymous:x,photoURL:c,phoneNumber:o,tenantId:h,stsTokenManager:k,createdAt:g,lastLoginAt:y});return I&&Array.isArray(I)&&(U.providerData=I.map(W=>({...W}))),f&&(U._redirectEventId=f),U}static async _fromIdTokenResponse(t,e,i=!1){const a=new Fo;a.updateFromServerResponse(e);const o=new _i({uid:e.localId,auth:t,stsTokenManager:a,isAnonymous:i});return await Of(o),o}static async _fromGetAccountInfoResponse(t,e,i){const a=e.users[0];xt(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?tx(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!o?.length,h=new Fo;h.updateFromIdToken(i);const f=new _i({uid:a.localId,auth:t,stsTokenManager:h,isAnonymous:c}),g={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new mp(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!o?.length};return Object.assign(f,g),f}}const Wv=new Map;function ks(n){Ns(n instanceof Function,"Expected a class definition");let t=Wv.get(n);return t?(Ns(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,Wv.set(n,t),t)}class ex{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}ex.type="NONE";const Zv=ex;function _f(n,t,e){return`firebase:${n}:${t}:${e}`}class qo{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:a,name:o}=this.auth;this.fullUserKey=_f(this.userKey,a.apiKey,o),this.fullPersistenceKey=_f("persistence",a.apiKey,o),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await Mf(this.auth,{idToken:t}).catch(()=>{});return e?_i._fromGetAccountInfoResponse(this.auth,e,t):null}return _i._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,i="authUser"){if(!e.length)return new qo(ks(Zv),t,i);const a=(await Promise.all(e.map(async g=>{if(await g._isAvailable())return g}))).filter(g=>g);let o=a[0]||ks(Zv);const c=_f(i,t.config.apiKey,t.name);let h=null;for(const g of e)try{const y=await g._get(c);if(y){let b;if(typeof y=="string"){const T=await Mf(t,{idToken:y}).catch(()=>{});if(!T)break;b=await _i._fromGetAccountInfoResponse(t,T,y)}else b=_i._fromJSON(t,y);g!==o&&(h=b),o=g;break}}catch{}const f=a.filter(g=>g._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new qo(o,t,i):(o=f[0],h&&await o._set(c,h.toJSON()),await Promise.all(e.map(async g=>{if(g!==o)try{await g._remove(c)}catch{}})),new qo(o,t,i))}}function Jv(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(rx(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(nx(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ox(t))return"Blackberry";if(lx(t))return"Webos";if(ix(t))return"Safari";if((t.includes("chrome/")||sx(t))&&!t.includes("edge/"))return"Chrome";if(ax(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(e);if(i?.length===2)return i[1]}return"Other"}function nx(n=fn()){return/firefox\//i.test(n)}function ix(n=fn()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function sx(n=fn()){return/crios\//i.test(n)}function rx(n=fn()){return/iemobile/i.test(n)}function ax(n=fn()){return/android/i.test(n)}function ox(n=fn()){return/blackberry/i.test(n)}function lx(n=fn()){return/webos/i.test(n)}function ny(n=fn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function aI(n=fn()){return ny(n)&&!!window.navigator?.standalone}function oI(){return bC()&&document.documentMode===10}function cx(n=fn()){return ny(n)||ax(n)||lx(n)||ox(n)||/windows phone/i.test(n)||rx(n)}function ux(n,t=[]){let e;switch(n){case"Browser":e=Jv(fn());break;case"Worker":e=`${Jv(fn())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${ll}/${i}`}class lI{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=o=>new Promise((c,h)=>{try{const f=t(o);c(f)}catch(f){h(f)}});i.onAbort=e,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const i of this.queue)await i(t),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(const a of e)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function cI(n,t={}){return Ps(n,"GET","/v2/passwordPolicy",Vs(n,t))}const uI=6;class hI{constructor(t){const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??uI,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),a&&(e.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let i;for(let a=0;a<t.length;a++)i=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,a,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}class fI{constructor(t,e,i,a){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tT(this),this.idTokenSubscription=new tT(this),this.beforeStateQueue=new lI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Q1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=ks(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await qo.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await Mf(this,{idToken:t}),i=await _i._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(An(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let i=e,a=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,c=i?._redirectEventId,h=await this.tryRedirectSignIn(t);(!o||o===c)&&h?.user&&(i=h.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return xt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Of(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=qR()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(An(this.app))return Promise.reject(Ti(this));const e=t?Le(t):null;return e&&xt(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&xt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return An(this.app)?Promise.reject(Ti(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return An(this.app)?Promise.reject(Ti(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ks(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await cI(this),e=new hI(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new uu("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(i.tenantId=this.tenantId),await rI(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){const i=await this.getOrInitRedirectPersistenceManager(e);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&ks(t)||this._popupRedirectResolver;xt(e,this,"argument-error"),this.redirectPersistenceManager=await qo.create(this,[ks(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,a){if(this._deleted)return()=>{};const o=typeof e=="function"?e:e.next.bind(e);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(xt(h,this,"internal-error"),h.then(()=>{c||o(this.currentUser)}),typeof e=="function"){const f=t.addObserver(e,i,a);return()=>{c=!0,f()}}else{const f=t.addObserver(e);return()=>{c=!0,f()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return xt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=ux(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){if(An(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&BR(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Ls(n){return Le(n)}class tT{constructor(t){this.auth=t,this.observer=null,this.addObserver=CC(e=>this.observer=e)}get next(){return xt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let sd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function dI(n){sd=n}function hx(n){return sd.loadJS(n)}function gI(){return sd.recaptchaEnterpriseScript}function mI(){return sd.gapiScript}function pI(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class yI{constructor(){this.enterprise=new _I}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class _I{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const bI="recaptcha-enterprise",fx="NO_RECAPTCHA";class vI{constructor(t){this.type=bI,this.auth=Ls(t)}async verify(t="verify",e=!1){async function i(o){if(!e){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(c,h)=>{WR(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const g=new XR(f);return o.tenantId==null?o._agentRecaptchaConfig=g:o._tenantRecaptchaConfigs[o.tenantId]=g,c(g.siteKey)}}).catch(f=>{h(f)})})}function a(o,c,h){const f=window.grecaptcha;Qv(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:t}).then(g=>{c(g)}).catch(()=>{c(fx)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new yI().execute("siteKey",{action:"verify"}):new Promise((o,c)=>{i(this.auth).then(h=>{if(!e&&Qv(window.grecaptcha))a(h,o,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let f=gI();f.length!==0&&(f+=h),hx(f).then(()=>{a(h,o,c)}).catch(g=>{c(g)})}}).catch(h=>{c(h)})})}}async function eT(n,t,e,i=!1,a=!1){const o=new vI(n);let c;if(a)c=fx;else try{c=await o.verify(e)}catch{c=await o.verify(e,!0)}const h={...t};if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,g=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:g,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return i?Object.assign(h,{captchaResp:c}):Object.assign(h,{captchaResponse:c}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function pp(n,t,e,i,a){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await eT(n,t,e,e==="getOobCode");return i(n,o)}else return i(n,t).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await eT(n,t,e,e==="getOobCode");return i(n,c)}else return Promise.reject(o)})}function TI(n,t){const e=Zp(n,"auth");if(e.isInitialized()){const a=e.getImmediate(),o=e.getOptions();if(za(o,t??{}))return a;xi(a,"already-initialized")}return e.initialize({options:t})}function EI(n,t){const e=t?.persistence||[],i=(Array.isArray(e)?e:[e]).map(ks);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t?.popupRedirectResolver)}function xI(n,t,e){const i=Ls(n);xt(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const a=!1,o=dx(t),{host:c,port:h}=SI(t),f=h===null?"":`:${h}`,g={url:`${o}//${c}${f}/`},y=Object.freeze({host:c,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){xt(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),xt(za(g,i.config.emulator)&&za(y,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=g,i.emulatorConfig=y,i.settings.appVerificationDisabledForTesting=!0,ol(c)?(U1(`${o}//${c}${f}`),B1("Auth",!0)):wI()}function dx(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function SI(n){const t=dx(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const i=e[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const o=a[1];return{host:o,port:nT(i.substr(o.length+1))}}else{const[o,c]=i.split(":");return{host:o,port:nT(c)}}}function nT(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function wI(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class iy{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return Is("not implemented")}_getIdTokenResponse(t){return Is("not implemented")}_linkToIdToken(t,e){return Is("not implemented")}_getReauthenticationResolver(t){return Is("not implemented")}}async function AI(n,t){return Ps(n,"POST","/v1/accounts:signUp",t)}async function CI(n,t){return cl(n,"POST","/v1/accounts:signInWithPassword",Vs(n,t))}async function RI(n,t){return cl(n,"POST","/v1/accounts:signInWithEmailLink",Vs(n,t))}async function II(n,t){return cl(n,"POST","/v1/accounts:signInWithEmailLink",Vs(n,t))}class Qc extends iy{constructor(t,e,i,a=null){super("password",i),this._email=t,this._password=e,this._tenantId=a}static _fromEmailAndPassword(t,e){return new Qc(t,e,"password")}static _fromEmailAndCode(t,e,i=null){return new Qc(t,e,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e?.email&&e?.password){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return pp(t,e,"signInWithPassword",CI);case"emailLink":return RI(t,{email:this._email,oobCode:this._password});default:xi(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const i={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return pp(t,i,"signUpPassword",AI);case"emailLink":return II(t,{idToken:e,email:this._email,oobCode:this._password});default:xi(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function Go(n,t){return cl(n,"POST","/v1/accounts:signInWithIdp",Vs(n,t))}const kI="http://localhost";class Pa extends iy{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Pa(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):xi("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:a,...o}=e;if(!i||!a)return null;const c=new Pa(i,a);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(t){const e=this.buildRequest();return Go(t,e)}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,Go(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Go(t,e)}buildRequest(){const t={requestUri:kI,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=hu(e)}return t}}function DI(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function NI(n){const t=Rc(Ic(n)).link,e=t?Rc(Ic(t)).deep_link_id:null,i=Rc(Ic(n)).deep_link_id;return(i?Rc(Ic(i)).link:null)||i||e||t||n}class sy{constructor(t){const e=Rc(Ic(t)),i=e.apiKey??null,a=e.oobCode??null,o=DI(e.mode??null);xt(i&&a&&o,"argument-error"),this.apiKey=i,this.operation=o,this.code=a,this.continueUrl=e.continueUrl??null,this.languageCode=e.lang??null,this.tenantId=e.tenantId??null}static parseLink(t){const e=NI(t);try{return new sy(e)}catch{return null}}}class ul{constructor(){this.providerId=ul.PROVIDER_ID}static credential(t,e){return Qc._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const i=sy.parseLink(e);return xt(i,"argument-error"),Qc._fromEmailAndCode(t,i.code,i.tenantId)}}ul.PROVIDER_ID="password";ul.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ul.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class gx{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class du extends gx{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class br extends du{constructor(){super("facebook.com")}static credential(t){return Pa._fromParams({providerId:br.PROVIDER_ID,signInMethod:br.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return br.credentialFromTaggedObject(t)}static credentialFromError(t){return br.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return br.credential(t.oauthAccessToken)}catch{return null}}}br.FACEBOOK_SIGN_IN_METHOD="facebook.com";br.PROVIDER_ID="facebook.com";class vr extends du{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Pa._fromParams({providerId:vr.PROVIDER_ID,signInMethod:vr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return vr.credentialFromTaggedObject(t)}static credentialFromError(t){return vr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:i}=t;if(!e&&!i)return null;try{return vr.credential(e,i)}catch{return null}}}vr.GOOGLE_SIGN_IN_METHOD="google.com";vr.PROVIDER_ID="google.com";class Tr extends du{constructor(){super("github.com")}static credential(t){return Pa._fromParams({providerId:Tr.PROVIDER_ID,signInMethod:Tr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Tr.credentialFromTaggedObject(t)}static credentialFromError(t){return Tr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Tr.credential(t.oauthAccessToken)}catch{return null}}}Tr.GITHUB_SIGN_IN_METHOD="github.com";Tr.PROVIDER_ID="github.com";class Er extends du{constructor(){super("twitter.com")}static credential(t,e){return Pa._fromParams({providerId:Er.PROVIDER_ID,signInMethod:Er.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return Er.credentialFromTaggedObject(t)}static credentialFromError(t){return Er.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:i}=t;if(!e||!i)return null;try{return Er.credential(e,i)}catch{return null}}}Er.TWITTER_SIGN_IN_METHOD="twitter.com";Er.PROVIDER_ID="twitter.com";async function mx(n,t){return cl(n,"POST","/v1/accounts:signUp",Vs(n,t))}class ss{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,i,a=!1){const o=await _i._fromIdTokenResponse(t,i,a),c=iT(i);return new ss({user:o,providerId:c,_tokenResponse:i,operationType:e})}static async _forOperation(t,e,i){await t._updateTokensIfNecessary(i,!0);const a=iT(i);return new ss({user:t,providerId:a,_tokenResponse:i,operationType:e})}}function iT(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}async function MI(n){if(An(n.app))return Promise.reject(Ti(n));const t=Ls(n);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new ss({user:t.currentUser,providerId:null,operationType:"signIn"});const e=await mx(t,{returnSecureToken:!0}),i=await ss._fromIdTokenResponse(t,"signIn",e,!0);return await t._updateCurrentUser(i.user),i}class zf extends zs{constructor(t,e,i,a){super(e.code,e.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,zf.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,a){return new zf(t,e,i,a)}}function px(n,t,e,i){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?zf._fromErrorAndOperation(n,o,t,i):o})}async function OI(n,t,e=!1){const i=await Xo(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return ss._forOperation(n,"link",i)}async function zI(n,t,e=!1){const{auth:i}=n;if(An(i.app))return Promise.reject(Ti(i));const a="reauthenticate";try{const o=await Xo(n,px(i,a,t,n),e);xt(o.idToken,i,"internal-error");const c=ey(o.idToken);xt(c,i,"internal-error");const{sub:h}=c;return xt(n.uid===h,i,"user-mismatch"),ss._forOperation(n,a,o)}catch(o){throw o?.code==="auth/user-not-found"&&xi(i,"user-mismatch"),o}}async function yx(n,t,e=!1){if(An(n.app))return Promise.reject(Ti(n));const i="signIn",a=await px(n,i,t),o=await ss._fromIdTokenResponse(n,i,a);return e||await n._updateCurrentUser(o.user),o}async function VI(n,t){return yx(Ls(n),t)}async function PI(n,t){return cl(n,"POST","/v1/accounts:signInWithCustomToken",Vs(n,t))}async function LI(n,t){if(An(n.app))return Promise.reject(Ti(n));const e=Ls(n),i=await PI(e,{token:t,returnSecureToken:!0}),a=await ss._fromIdTokenResponse(e,"signIn",i);return await e._updateCurrentUser(a.user),a}async function _x(n){const t=Ls(n);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function jI(n,t,e){if(An(n.app))return Promise.reject(Ti(n));const i=Ls(n),c=await pp(i,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",mx).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&_x(n),f}),h=await ss._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(h.user),h}function UI(n,t,e){return An(n.app)?Promise.reject(Ti(n)):VI(Le(n),ul.credential(t,e)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&_x(n),i})}async function BI(n,t){return Ps(n,"POST","/v1/accounts:update",t)}async function HI(n,{displayName:t,photoURL:e}){if(t===void 0&&e===void 0)return;const i=Le(n),o={idToken:await i.getIdToken(),displayName:t,photoUrl:e,returnSecureToken:!0},c=await Xo(i,BI(i.auth,o));i.displayName=c.displayName||null,i.photoURL=c.photoUrl||null;const h=i.providerData.find(({providerId:f})=>f==="password");h&&(h.displayName=i.displayName,h.photoURL=i.photoURL),await i._updateTokensIfNecessary(c)}function FI(n,t,e,i){return Le(n).onIdTokenChanged(t,e,i)}function qI(n,t,e){return Le(n).beforeAuthStateChanged(t,e)}function GI(n,t,e,i){return Le(n).onAuthStateChanged(t,e,i)}function bx(n){return Le(n).signOut()}const Vf="__sak";class vx{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Vf,"1"),this.storage.removeItem(Vf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const $I=1e3,YI=10;class Tx extends vx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=cx(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const i=this.storage.getItem(e),a=this.localCache[e];i!==a&&t(e,a,i)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((c,h,f)=>{this.notifyListeners(c,f)});return}const i=t.key;e?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!e&&this.localCache[i]===c||this.notifyListeners(i,c)},o=this.storage.getItem(i);oI()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,YI):a()}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const a of Array.from(i))a(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:i}),!0)})},$I)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}Tx.type="LOCAL";const KI=Tx;class Ex extends vx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}Ex.type="SESSION";const xx=Ex;function QI(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}class rd{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(a=>a.isListeningto(t));if(e)return e;const i=new rd(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:i,eventType:a,data:o}=e.data,c=this.handlersMap[a];if(!c?.size)return;e.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const h=Array.from(c).map(async g=>g(e.origin,o)),f=await QI(h);e.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:f})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}rd.receivers=[];function ry(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(Math.random()*10);return n+e}class XI{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,c;return new Promise((h,f)=>{const g=ry("",20);a.port1.start();const y=setTimeout(()=>{f(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(b){const T=b;if(T.data.eventId===g)switch(T.data.status){case"ack":clearTimeout(y),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(T.data.response);break;default:clearTimeout(y),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:g,data:e},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function Ji(){return window}function WI(n){Ji().location.href=n}function Sx(){return typeof Ji().WorkerGlobalScope<"u"&&typeof Ji().importScripts=="function"}async function ZI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function JI(){return navigator?.serviceWorker?.controller||null}function tk(){return Sx()?self:null}const wx="firebaseLocalStorageDb",ek=1,Pf="firebaseLocalStorage",Ax="fbase_key";class gu{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function ad(n,t){return n.transaction([Pf],t?"readwrite":"readonly").objectStore(Pf)}function nk(){const n=indexedDB.deleteDatabase(wx);return new gu(n).toPromise()}function yp(){const n=indexedDB.open(wx,ek);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Pf,{keyPath:Ax})}catch(a){e(a)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Pf)?t(i):(i.close(),await nk(),t(await yp()))})})}async function sT(n,t,e){const i=ad(n,!0).put({[Ax]:t,value:e});return new gu(i).toPromise()}async function ik(n,t){const e=ad(n,!1).get(t),i=await new gu(e).toPromise();return i===void 0?null:i.value}function rT(n,t){const e=ad(n,!0).delete(t);return new gu(e).toPromise()}const sk=800,rk=3;class Cx{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await yp(),this.db)}async _withRetries(t){let e=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(e++>rk)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Sx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=rd._getInstance(tk()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await ZI(),!this.activeServiceWorker)return;this.sender=new XI(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||JI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await yp();return await sT(t,Vf,"1"),await rT(t,Vf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(i=>sT(i,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(i=>ik(i,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>rT(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const o=ad(a,!1).getAll();return new gu(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],i=new Set;if(t.length!==0)for(const{fbase_key:a,value:o}of t)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),e.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),e.push(a));return e}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const a of Array.from(i))a(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),sk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Cx.type="LOCAL";const ak=Cx;new fu(3e4,6e4);function ok(n,t){return t?ks(t):(xt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class ay extends iy{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Go(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Go(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Go(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function lk(n){return yx(n.auth,new ay(n),n.bypassAuthState)}function ck(n){const{auth:t,user:e}=n;return xt(e,t,"internal-error"),zI(e,new ay(n),n.bypassAuthState)}async function uk(n){const{auth:t,user:e}=n;return xt(e,t,"internal-error"),OI(e,new ay(n),n.bypassAuthState)}class Rx{constructor(t,e,i,a,o=!1){this.auth=t,this.resolver=i,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:i,postBody:a,tenantId:o,error:c,type:h}=t;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:e,sessionId:i,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(g){this.reject(g)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return lk;case"linkViaPopup":case"linkViaRedirect":return uk;case"reauthViaPopup":case"reauthViaRedirect":return ck;default:xi(this.auth,"internal-error")}}resolve(t){Ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Ns(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const hk=new fu(2e3,1e4);class Bo extends Rx{constructor(t,e,i,a,o){super(t,e,a,o),this.provider=i,this.authWindow=null,this.pollId=null,Bo.currentPopupAction&&Bo.currentPopupAction.cancel(),Bo.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return xt(t,this.auth,"internal-error"),t}async onExecution(){Ns(this.filter.length===1,"Popup operations only handle one event");const t=ry();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Zi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Zi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Bo.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Zi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,hk.get())};t()}}Bo.currentPopupAction=null;const fk="pendingRedirect",bf=new Map;class dk extends Rx{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}async execute(){let t=bf.get(this.auth._key());if(!t){try{const i=await gk(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(e){t=()=>Promise.reject(e)}bf.set(this.auth._key(),t)}return this.bypassAuthState||bf.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function gk(n,t){const e=yk(t),i=pk(n);if(!await i._isAvailable())return!1;const a=await i._get(e)==="true";return await i._remove(e),a}function mk(n,t){bf.set(n._key(),t)}function pk(n){return ks(n._redirectPersistence)}function yk(n){return _f(fk,n.config.apiKey,n.name)}async function _k(n,t,e=!1){if(An(n.app))return Promise.reject(Ti(n));const i=Ls(n),a=ok(i,t),c=await new dk(i,a,e).execute();return c&&!e&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,t)),c}const bk=600*1e3;class vk{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Tk(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!Ix(t)){const i=t.error.code?.split("auth/")[1]||"internal-error";e.onError(Zi(this.auth,i))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=bk&&this.cachedEventUids.clear(),this.cachedEventUids.has(aT(t))}saveEventToCache(t){this.cachedEventUids.add(aT(t)),this.lastProcessedEventTime=Date.now()}}function aT(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function Ix({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function Tk(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Ix(n);default:return!1}}async function Ek(n,t={}){return Ps(n,"GET","/v1/projects",t)}const xk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Sk=/^https?/;async function wk(n){if(n.config.emulator)return;const{authorizedDomains:t}=await Ek(n);for(const e of t)try{if(Ak(e))return}catch{}xi(n,"unauthorized-domain")}function Ak(n){const t=gp(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&c.hostname===i}if(!Sk.test(e))return!1;if(xk.test(n))return i===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}const Ck=new fu(3e4,6e4);function oT(){const n=Ji().___jsl;if(n?.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function Rk(n){return new Promise((t,e)=>{function i(){oT(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{oT(),e(Zi(n,"network-request-failed"))},timeout:Ck.get()})}if(Ji().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ji().gapi?.load)i();else{const a=pI("iframefcb");return Ji()[a]=()=>{gapi.load?i():e(Zi(n,"network-request-failed"))},hx(`${mI()}?onload=${a}`).catch(o=>e(o))}}).catch(t=>{throw vf=null,t})}let vf=null;function Ik(n){return vf=vf||Rk(n),vf}const kk=new fu(5e3,15e3),Dk="__/auth/iframe",Nk="emulator/auth/iframe",Mk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Ok=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zk(n){const t=n.config;xt(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?ty(t,Nk):`https://${n.config.authDomain}/${Dk}`,i={apiKey:t.apiKey,appName:n.name,v:ll},a=Ok.get(n.config.apiHost);a&&(i.eid=a);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${e}?${hu(i).slice(1)}`}async function Vk(n){const t=await Ik(n),e=Ji().gapi;return xt(e,n,"internal-error"),t.open({where:document.body,url:zk(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Mk,dontclear:!0},i=>new Promise(async(a,o)=>{await i.restyle({setHideOnLeave:!1});const c=Zi(n,"network-request-failed"),h=Ji().setTimeout(()=>{o(c)},kk.get());function f(){Ji().clearTimeout(h),a(i)}i.ping(f).then(f,()=>{o(c)})}))}const Pk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Lk=500,jk=600,Uk="_blank",Bk="http://localhost";class lT{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Hk(n,t,e,i=Lk,a=jk){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const f={...Pk,width:i.toString(),height:a.toString(),top:o,left:c},g=fn().toLowerCase();e&&(h=sx(g)?Uk:e),nx(g)&&(t=t||Bk,f.scrollbars="yes");const y=Object.entries(f).reduce((T,[x,I])=>`${T}${x}=${I},`,"");if(aI(g)&&h!=="_self")return Fk(t||"",h),new lT(null);const b=window.open(t||"",h,y);xt(b,n,"popup-blocked");try{b.focus()}catch{}return new lT(b)}function Fk(n,t){const e=document.createElement("a");e.href=n,e.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}const qk="__/auth/handler",Gk="emulator/auth/handler",$k=encodeURIComponent("fac");async function cT(n,t,e,i,a,o){xt(n.config.authDomain,n,"auth-domain-config-required"),xt(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:ll,eventId:a};if(t instanceof gx){t.setDefaultLanguage(n.languageCode),c.providerId=t.providerId||"",AC(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[y,b]of Object.entries({}))c[y]=b}if(t instanceof du){const y=t.getScopes().filter(b=>b!=="");y.length>0&&(c.scopes=y.join(","))}n.tenantId&&(c.tid=n.tenantId);const h=c;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const f=await n._getAppCheckToken(),g=f?`#${$k}=${encodeURIComponent(f)}`:"";return`${Yk(n)}?${hu(h).slice(1)}${g}`}function Yk({config:n}){return n.emulator?ty(n,Gk):`https://${n.authDomain}/${qk}`}const Fm="webStorageSupport";class Kk{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=xx,this._completeRedirectFn=_k,this._overrideRedirectResult=mk}async _openPopup(t,e,i,a){Ns(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const o=await cT(t,e,i,gp(),a);return Hk(t,o,ry())}async _openRedirect(t,e,i,a){await this._originValidation(t);const o=await cT(t,e,i,gp(),a);return WI(o),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:a,promise:o}=this.eventManagers[e];return a?Promise.resolve(a):(Ns(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}async initAndGetManager(t){const e=await Vk(t),i=new vk(t);return e.register("authEvent",a=>(xt(a?.authEvent,t,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Fm,{type:Fm},a=>{const o=a?.[0]?.[Fm];o!==void 0&&e(!!o),xi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=wk(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return cx()||ix()||ny()}}const Qk=Kk;var uT="@firebase/auth",hT="1.11.1";class Xk{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){xt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Wk(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Zk(n){Qo(new Va("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=i.options;xt(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:c,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ux(n)},g=new fI(i,a,o,f);return EI(g,e),g},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),Qo(new Va("auth-internal",t=>{const e=Ls(t.getProvider("auth").getImmediate());return(i=>new Xk(i))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ir(uT,hT,Wk(n)),Ir(uT,hT,"esm2020")}const Jk=300,tD=j1("authIdTokenMaxAge")||Jk;let fT=null;const eD=n=>async t=>{const e=t&&await t.getIdTokenResult(),i=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(i&&i>tD)return;const a=e?.token;fT!==a&&(fT=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function nD(n=G1()){const t=Zp(n,"auth");if(t.isInitialized())return t.getImmediate();const e=TI(n,{popupRedirectResolver:Qk,persistence:[ak,KI,xx]}),i=j1("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const c=eD(o.toString());qI(e,c,()=>c(e.currentUser)),FI(e,h=>c(h))}}const a=P1("auth");return a&&xI(e,`http://${a}`),e}function iD(){return document.getElementsByTagName("head")?.[0]??document}dI({loadJS(n){return new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=a=>{const o=Zi("internal-error");o.customData=a,e(o)},i.type="text/javascript",i.charset="UTF-8",iD().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Zk("Browser");var dT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var kr,kx;(function(){var n;function t(D,A){function N(){}N.prototype=A.prototype,D.F=A.prototype,D.prototype=new N,D.prototype.constructor=D,D.D=function(P,z,L){for(var O=Array(arguments.length-2),wt=2;wt<arguments.length;wt++)O[wt-2]=arguments[wt];return A.prototype[z].apply(P,O)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(i,e),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(D,A,N){N||(N=0);const P=Array(16);if(typeof A=="string")for(var z=0;z<16;++z)P[z]=A.charCodeAt(N++)|A.charCodeAt(N++)<<8|A.charCodeAt(N++)<<16|A.charCodeAt(N++)<<24;else for(z=0;z<16;++z)P[z]=A[N++]|A[N++]<<8|A[N++]<<16|A[N++]<<24;A=D.g[0],N=D.g[1],z=D.g[2];let L=D.g[3],O;O=A+(L^N&(z^L))+P[0]+3614090360&4294967295,A=N+(O<<7&4294967295|O>>>25),O=L+(z^A&(N^z))+P[1]+3905402710&4294967295,L=A+(O<<12&4294967295|O>>>20),O=z+(N^L&(A^N))+P[2]+606105819&4294967295,z=L+(O<<17&4294967295|O>>>15),O=N+(A^z&(L^A))+P[3]+3250441966&4294967295,N=z+(O<<22&4294967295|O>>>10),O=A+(L^N&(z^L))+P[4]+4118548399&4294967295,A=N+(O<<7&4294967295|O>>>25),O=L+(z^A&(N^z))+P[5]+1200080426&4294967295,L=A+(O<<12&4294967295|O>>>20),O=z+(N^L&(A^N))+P[6]+2821735955&4294967295,z=L+(O<<17&4294967295|O>>>15),O=N+(A^z&(L^A))+P[7]+4249261313&4294967295,N=z+(O<<22&4294967295|O>>>10),O=A+(L^N&(z^L))+P[8]+1770035416&4294967295,A=N+(O<<7&4294967295|O>>>25),O=L+(z^A&(N^z))+P[9]+2336552879&4294967295,L=A+(O<<12&4294967295|O>>>20),O=z+(N^L&(A^N))+P[10]+4294925233&4294967295,z=L+(O<<17&4294967295|O>>>15),O=N+(A^z&(L^A))+P[11]+2304563134&4294967295,N=z+(O<<22&4294967295|O>>>10),O=A+(L^N&(z^L))+P[12]+1804603682&4294967295,A=N+(O<<7&4294967295|O>>>25),O=L+(z^A&(N^z))+P[13]+4254626195&4294967295,L=A+(O<<12&4294967295|O>>>20),O=z+(N^L&(A^N))+P[14]+2792965006&4294967295,z=L+(O<<17&4294967295|O>>>15),O=N+(A^z&(L^A))+P[15]+1236535329&4294967295,N=z+(O<<22&4294967295|O>>>10),O=A+(z^L&(N^z))+P[1]+4129170786&4294967295,A=N+(O<<5&4294967295|O>>>27),O=L+(N^z&(A^N))+P[6]+3225465664&4294967295,L=A+(O<<9&4294967295|O>>>23),O=z+(A^N&(L^A))+P[11]+643717713&4294967295,z=L+(O<<14&4294967295|O>>>18),O=N+(L^A&(z^L))+P[0]+3921069994&4294967295,N=z+(O<<20&4294967295|O>>>12),O=A+(z^L&(N^z))+P[5]+3593408605&4294967295,A=N+(O<<5&4294967295|O>>>27),O=L+(N^z&(A^N))+P[10]+38016083&4294967295,L=A+(O<<9&4294967295|O>>>23),O=z+(A^N&(L^A))+P[15]+3634488961&4294967295,z=L+(O<<14&4294967295|O>>>18),O=N+(L^A&(z^L))+P[4]+3889429448&4294967295,N=z+(O<<20&4294967295|O>>>12),O=A+(z^L&(N^z))+P[9]+568446438&4294967295,A=N+(O<<5&4294967295|O>>>27),O=L+(N^z&(A^N))+P[14]+3275163606&4294967295,L=A+(O<<9&4294967295|O>>>23),O=z+(A^N&(L^A))+P[3]+4107603335&4294967295,z=L+(O<<14&4294967295|O>>>18),O=N+(L^A&(z^L))+P[8]+1163531501&4294967295,N=z+(O<<20&4294967295|O>>>12),O=A+(z^L&(N^z))+P[13]+2850285829&4294967295,A=N+(O<<5&4294967295|O>>>27),O=L+(N^z&(A^N))+P[2]+4243563512&4294967295,L=A+(O<<9&4294967295|O>>>23),O=z+(A^N&(L^A))+P[7]+1735328473&4294967295,z=L+(O<<14&4294967295|O>>>18),O=N+(L^A&(z^L))+P[12]+2368359562&4294967295,N=z+(O<<20&4294967295|O>>>12),O=A+(N^z^L)+P[5]+4294588738&4294967295,A=N+(O<<4&4294967295|O>>>28),O=L+(A^N^z)+P[8]+2272392833&4294967295,L=A+(O<<11&4294967295|O>>>21),O=z+(L^A^N)+P[11]+1839030562&4294967295,z=L+(O<<16&4294967295|O>>>16),O=N+(z^L^A)+P[14]+4259657740&4294967295,N=z+(O<<23&4294967295|O>>>9),O=A+(N^z^L)+P[1]+2763975236&4294967295,A=N+(O<<4&4294967295|O>>>28),O=L+(A^N^z)+P[4]+1272893353&4294967295,L=A+(O<<11&4294967295|O>>>21),O=z+(L^A^N)+P[7]+4139469664&4294967295,z=L+(O<<16&4294967295|O>>>16),O=N+(z^L^A)+P[10]+3200236656&4294967295,N=z+(O<<23&4294967295|O>>>9),O=A+(N^z^L)+P[13]+681279174&4294967295,A=N+(O<<4&4294967295|O>>>28),O=L+(A^N^z)+P[0]+3936430074&4294967295,L=A+(O<<11&4294967295|O>>>21),O=z+(L^A^N)+P[3]+3572445317&4294967295,z=L+(O<<16&4294967295|O>>>16),O=N+(z^L^A)+P[6]+76029189&4294967295,N=z+(O<<23&4294967295|O>>>9),O=A+(N^z^L)+P[9]+3654602809&4294967295,A=N+(O<<4&4294967295|O>>>28),O=L+(A^N^z)+P[12]+3873151461&4294967295,L=A+(O<<11&4294967295|O>>>21),O=z+(L^A^N)+P[15]+530742520&4294967295,z=L+(O<<16&4294967295|O>>>16),O=N+(z^L^A)+P[2]+3299628645&4294967295,N=z+(O<<23&4294967295|O>>>9),O=A+(z^(N|~L))+P[0]+4096336452&4294967295,A=N+(O<<6&4294967295|O>>>26),O=L+(N^(A|~z))+P[7]+1126891415&4294967295,L=A+(O<<10&4294967295|O>>>22),O=z+(A^(L|~N))+P[14]+2878612391&4294967295,z=L+(O<<15&4294967295|O>>>17),O=N+(L^(z|~A))+P[5]+4237533241&4294967295,N=z+(O<<21&4294967295|O>>>11),O=A+(z^(N|~L))+P[12]+1700485571&4294967295,A=N+(O<<6&4294967295|O>>>26),O=L+(N^(A|~z))+P[3]+2399980690&4294967295,L=A+(O<<10&4294967295|O>>>22),O=z+(A^(L|~N))+P[10]+4293915773&4294967295,z=L+(O<<15&4294967295|O>>>17),O=N+(L^(z|~A))+P[1]+2240044497&4294967295,N=z+(O<<21&4294967295|O>>>11),O=A+(z^(N|~L))+P[8]+1873313359&4294967295,A=N+(O<<6&4294967295|O>>>26),O=L+(N^(A|~z))+P[15]+4264355552&4294967295,L=A+(O<<10&4294967295|O>>>22),O=z+(A^(L|~N))+P[6]+2734768916&4294967295,z=L+(O<<15&4294967295|O>>>17),O=N+(L^(z|~A))+P[13]+1309151649&4294967295,N=z+(O<<21&4294967295|O>>>11),O=A+(z^(N|~L))+P[4]+4149444226&4294967295,A=N+(O<<6&4294967295|O>>>26),O=L+(N^(A|~z))+P[11]+3174756917&4294967295,L=A+(O<<10&4294967295|O>>>22),O=z+(A^(L|~N))+P[2]+718787259&4294967295,z=L+(O<<15&4294967295|O>>>17),O=N+(L^(z|~A))+P[9]+3951481745&4294967295,D.g[0]=D.g[0]+A&4294967295,D.g[1]=D.g[1]+(z+(O<<21&4294967295|O>>>11))&4294967295,D.g[2]=D.g[2]+z&4294967295,D.g[3]=D.g[3]+L&4294967295}i.prototype.v=function(D,A){A===void 0&&(A=D.length);const N=A-this.blockSize,P=this.C;let z=this.h,L=0;for(;L<A;){if(z==0)for(;L<=N;)a(this,D,L),L+=this.blockSize;if(typeof D=="string"){for(;L<A;)if(P[z++]=D.charCodeAt(L++),z==this.blockSize){a(this,P),z=0;break}}else for(;L<A;)if(P[z++]=D[L++],z==this.blockSize){a(this,P),z=0;break}}this.h=z,this.o+=A},i.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var A=1;A<D.length-8;++A)D[A]=0;A=this.o*8;for(var N=D.length-8;N<D.length;++N)D[N]=A&255,A/=256;for(this.v(D),D=Array(16),A=0,N=0;N<4;++N)for(let P=0;P<32;P+=8)D[A++]=this.g[N]>>>P&255;return D};function o(D,A){var N=h;return Object.prototype.hasOwnProperty.call(N,D)?N[D]:N[D]=A(D)}function c(D,A){this.h=A;const N=[];let P=!0;for(let z=D.length-1;z>=0;z--){const L=D[z]|0;P&&L==A||(N[z]=L,P=!1)}this.g=N}var h={};function f(D){return-128<=D&&D<128?o(D,function(A){return new c([A|0],A<0?-1:0)}):new c([D|0],D<0?-1:0)}function g(D){if(isNaN(D)||!isFinite(D))return b;if(D<0)return k(g(-D));const A=[];let N=1;for(let P=0;D>=N;P++)A[P]=D/N|0,N*=4294967296;return new c(A,0)}function y(D,A){if(D.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(D.charAt(0)=="-")return k(y(D.substring(1),A));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=g(Math.pow(A,8));let P=b;for(let L=0;L<D.length;L+=8){var z=Math.min(8,D.length-L);const O=parseInt(D.substring(L,L+z),A);z<8?(z=g(Math.pow(A,z)),P=P.j(z).add(g(O))):(P=P.j(N),P=P.add(g(O)))}return P}var b=f(0),T=f(1),x=f(16777216);n=c.prototype,n.m=function(){if(C(this))return-k(this).m();let D=0,A=1;for(let N=0;N<this.g.length;N++){const P=this.i(N);D+=(P>=0?P:4294967296+P)*A,A*=4294967296}return D},n.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(I(this))return"0";if(C(this))return"-"+k(this).toString(D);const A=g(Math.pow(D,6));var N=this;let P="";for(;;){const z=nt(N,A).g;N=U(N,z.j(A));let L=((N.g.length>0?N.g[0]:N.h)>>>0).toString(D);if(N=z,I(N))return L+P;for(;L.length<6;)L="0"+L;P=L+P}},n.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function I(D){if(D.h!=0)return!1;for(let A=0;A<D.g.length;A++)if(D.g[A]!=0)return!1;return!0}function C(D){return D.h==-1}n.l=function(D){return D=U(this,D),C(D)?-1:I(D)?0:1};function k(D){const A=D.g.length,N=[];for(let P=0;P<A;P++)N[P]=~D.g[P];return new c(N,~D.h).add(T)}n.abs=function(){return C(this)?k(this):this},n.add=function(D){const A=Math.max(this.g.length,D.g.length),N=[];let P=0;for(let z=0;z<=A;z++){let L=P+(this.i(z)&65535)+(D.i(z)&65535),O=(L>>>16)+(this.i(z)>>>16)+(D.i(z)>>>16);P=O>>>16,L&=65535,O&=65535,N[z]=O<<16|L}return new c(N,N[N.length-1]&-2147483648?-1:0)};function U(D,A){return D.add(k(A))}n.j=function(D){if(I(this)||I(D))return b;if(C(this))return C(D)?k(this).j(k(D)):k(k(this).j(D));if(C(D))return k(this.j(k(D)));if(this.l(x)<0&&D.l(x)<0)return g(this.m()*D.m());const A=this.g.length+D.g.length,N=[];for(var P=0;P<2*A;P++)N[P]=0;for(P=0;P<this.g.length;P++)for(let z=0;z<D.g.length;z++){const L=this.i(P)>>>16,O=this.i(P)&65535,wt=D.i(z)>>>16,ut=D.i(z)&65535;N[2*P+2*z]+=O*ut,W(N,2*P+2*z),N[2*P+2*z+1]+=L*ut,W(N,2*P+2*z+1),N[2*P+2*z+1]+=O*wt,W(N,2*P+2*z+1),N[2*P+2*z+2]+=L*wt,W(N,2*P+2*z+2)}for(D=0;D<A;D++)N[D]=N[2*D+1]<<16|N[2*D];for(D=A;D<2*A;D++)N[D]=0;return new c(N,0)};function W(D,A){for(;(D[A]&65535)!=D[A];)D[A+1]+=D[A]>>>16,D[A]&=65535,A++}function Z(D,A){this.g=D,this.h=A}function nt(D,A){if(I(A))throw Error("division by zero");if(I(D))return new Z(b,b);if(C(D))return A=nt(k(D),A),new Z(k(A.g),k(A.h));if(C(A))return A=nt(D,k(A)),new Z(k(A.g),A.h);if(D.g.length>30){if(C(D)||C(A))throw Error("slowDivide_ only works with positive integers.");for(var N=T,P=A;P.l(D)<=0;)N=tt(N),P=tt(P);var z=lt(N,1),L=lt(P,1);for(P=lt(P,2),N=lt(N,2);!I(P);){var O=L.add(P);O.l(D)<=0&&(z=z.add(N),L=O),P=lt(P,1),N=lt(N,1)}return A=U(D,z.j(A)),new Z(z,A)}for(z=b;D.l(A)>=0;){for(N=Math.max(1,Math.floor(D.m()/A.m())),P=Math.ceil(Math.log(N)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),L=g(N),O=L.j(A);C(O)||O.l(D)>0;)N-=P,L=g(N),O=L.j(A);I(L)&&(L=T),z=z.add(L),D=U(D,O)}return new Z(z,D)}n.B=function(D){return nt(this,D).h},n.and=function(D){const A=Math.max(this.g.length,D.g.length),N=[];for(let P=0;P<A;P++)N[P]=this.i(P)&D.i(P);return new c(N,this.h&D.h)},n.or=function(D){const A=Math.max(this.g.length,D.g.length),N=[];for(let P=0;P<A;P++)N[P]=this.i(P)|D.i(P);return new c(N,this.h|D.h)},n.xor=function(D){const A=Math.max(this.g.length,D.g.length),N=[];for(let P=0;P<A;P++)N[P]=this.i(P)^D.i(P);return new c(N,this.h^D.h)};function tt(D){const A=D.g.length+1,N=[];for(let P=0;P<A;P++)N[P]=D.i(P)<<1|D.i(P-1)>>>31;return new c(N,D.h)}function lt(D,A){const N=A>>5;A%=32;const P=D.g.length-N,z=[];for(let L=0;L<P;L++)z[L]=A>0?D.i(L+N)>>>A|D.i(L+N+1)<<32-A:D.i(L+N);return new c(z,D.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,kx=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=g,c.fromString=y,kr=c}).apply(typeof dT<"u"?dT:typeof self<"u"?self:typeof window<"u"?window:{});var Zh=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Dx,kc,Nx,Tf,_p,Mx,Ox,zx;(function(){var n,t=Object.defineProperty;function e(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Zh=="object"&&Zh];for(var _=0;_<d.length;++_){var E=d[_];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var i=e(this);function a(d,_){if(_)t:{var E=i;d=d.split(".");for(var R=0;R<d.length-1;R++){var H=d[R];if(!(H in E))break t;E=E[H]}d=d[d.length-1],R=E[d],_=_(R),_!=R&&_!=null&&t(E,d,{configurable:!0,writable:!0,value:_})}}a("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(d){return d||function(_){var E=[],R;for(R in _)Object.prototype.hasOwnProperty.call(_,R)&&E.push([R,_[R]]);return E}});var o=o||{},c=this||self;function h(d){var _=typeof d;return _=="object"&&d!=null||_=="function"}function f(d,_,E){return d.call.apply(d.bind,arguments)}function g(d,_,E){return g=f,g.apply(null,arguments)}function y(d,_){var E=Array.prototype.slice.call(arguments,1);return function(){var R=E.slice();return R.push.apply(R,arguments),d.apply(this,R)}}function b(d,_){function E(){}E.prototype=_.prototype,d.Z=_.prototype,d.prototype=new E,d.prototype.constructor=d,d.Ob=function(R,H,Q){for(var ft=Array(arguments.length-2),kt=2;kt<arguments.length;kt++)ft[kt-2]=arguments[kt];return _.prototype[H].apply(R,ft)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function x(d){const _=d.length;if(_>0){const E=Array(_);for(let R=0;R<_;R++)E[R]=d[R];return E}return[]}function I(d,_){for(let R=1;R<arguments.length;R++){const H=arguments[R];var E=typeof H;if(E=E!="object"?E:H?Array.isArray(H)?"array":E:"null",E=="array"||E=="object"&&typeof H.length=="number"){E=d.length||0;const Q=H.length||0;d.length=E+Q;for(let ft=0;ft<Q;ft++)d[E+ft]=H[ft]}else d.push(H)}}class C{constructor(_,E){this.i=_,this.j=E,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function k(d){c.setTimeout(()=>{throw d},0)}function U(){var d=D;let _=null;return d.g&&(_=d.g,d.g=d.g.next,d.g||(d.h=null),_.next=null),_}class W{constructor(){this.h=this.g=null}add(_,E){const R=Z.get();R.set(_,E),this.h?this.h.next=R:this.g=R,this.h=R}}var Z=new C(()=>new nt,d=>d.reset());class nt{constructor(){this.next=this.g=this.h=null}set(_,E){this.h=_,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let tt,lt=!1,D=new W,A=()=>{const d=Promise.resolve(void 0);tt=()=>{d.then(N)}};function N(){for(var d;d=U();){try{d.h.call(d.g)}catch(E){k(E)}var _=Z;_.j(d),_.h<100&&(_.h++,d.next=_.g,_.g=d)}lt=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function z(d,_){this.type=d,this.g=this.target=_,this.defaultPrevented=!1}z.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var d=!1,_=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const E=()=>{};c.addEventListener("test",E,_),c.removeEventListener("test",E,_)}catch{}return d})();function O(d){return/^[\s\xa0]*$/.test(d)}function wt(d,_){z.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,_)}b(wt,z),wt.prototype.init=function(d,_){const E=this.type=d.type,R=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=_,_=d.relatedTarget,_||(E=="mouseover"?_=d.fromElement:E=="mouseout"&&(_=d.toElement)),this.relatedTarget=_,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&wt.Z.h.call(this)},wt.prototype.h=function(){wt.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var ut="closure_listenable_"+(Math.random()*1e6|0),F=0;function Y(d,_,E,R,H){this.listener=d,this.proxy=null,this.src=_,this.type=E,this.capture=!!R,this.ha=H,this.key=++F,this.da=this.fa=!1}function ht(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function Tt(d,_,E){for(const R in d)_.call(E,d[R],R,d)}function At(d,_){for(const E in d)_.call(void 0,d[E],E,d)}function M(d){const _={};for(const E in d)_[E]=d[E];return _}const $="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function at(d,_){let E,R;for(let H=1;H<arguments.length;H++){R=arguments[H];for(E in R)d[E]=R[E];for(let Q=0;Q<$.length;Q++)E=$[Q],Object.prototype.hasOwnProperty.call(R,E)&&(d[E]=R[E])}}function it(d){this.src=d,this.g={},this.h=0}it.prototype.add=function(d,_,E,R,H){const Q=d.toString();d=this.g[Q],d||(d=this.g[Q]=[],this.h++);const ft=ct(d,_,R,H);return ft>-1?(_=d[ft],E||(_.fa=!1)):(_=new Y(_,this.src,Q,!!R,H),_.fa=E,d.push(_)),_};function gt(d,_){const E=_.type;if(E in d.g){var R=d.g[E],H=Array.prototype.indexOf.call(R,_,void 0),Q;(Q=H>=0)&&Array.prototype.splice.call(R,H,1),Q&&(ht(_),d.g[E].length==0&&(delete d.g[E],d.h--))}}function ct(d,_,E,R){for(let H=0;H<d.length;++H){const Q=d[H];if(!Q.da&&Q.listener==_&&Q.capture==!!E&&Q.ha==R)return H}return-1}var Mt="closure_lm_"+(Math.random()*1e6|0),_e={};function fe(d,_,E,R,H){if(Array.isArray(_)){for(let Q=0;Q<_.length;Q++)fe(d,_[Q],E,R,H);return null}return E=bl(E),d&&d[ut]?d.J(_,E,h(R)?!!R.capture:!1,H):Gr(d,_,E,!1,R,H)}function Gr(d,_,E,R,H,Q){if(!_)throw Error("Invalid event type");const ft=h(H)?!!H.capture:!!H;let kt=$r(d);if(kt||(d[Mt]=kt=new it(d)),E=kt.add(_,E,R,ft,Q),E.proxy)return E;if(R=Ga(),E.proxy=R,R.src=d,R.listener=E,d.addEventListener)L||(H=ft),H===void 0&&(H=!1),d.addEventListener(_.toString(),R,H);else if(d.attachEvent)d.attachEvent(wi(_.toString()),R);else if(d.addListener&&d.removeListener)d.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Ga(){function d(E){return _.call(d.src,d.listener,E)}const _=yl;return d}function $a(d,_,E,R,H){if(Array.isArray(_))for(var Q=0;Q<_.length;Q++)$a(d,_[Q],E,R,H);else R=h(R)?!!R.capture:!!R,E=bl(E),d&&d[ut]?(d=d.i,Q=String(_).toString(),Q in d.g&&(_=d.g[Q],E=ct(_,E,R,H),E>-1&&(ht(_[E]),Array.prototype.splice.call(_,E,1),_.length==0&&(delete d.g[Q],d.h--)))):d&&(d=$r(d))&&(_=d.g[_.toString()],d=-1,_&&(d=ct(_,E,R,H)),(E=d>-1?_[d]:null)&&Ya(E))}function Ya(d){if(typeof d!="number"&&d&&!d.da){var _=d.src;if(_&&_[ut])gt(_.i,d);else{var E=d.type,R=d.proxy;_.removeEventListener?_.removeEventListener(E,R,d.capture):_.detachEvent?_.detachEvent(wi(E),R):_.addListener&&_.removeListener&&_.removeListener(R),(E=$r(_))?(gt(E,d),E.h==0&&(E.src=null,_[Mt]=null)):ht(d)}}}function wi(d){return d in _e?_e[d]:_e[d]="on"+d}function yl(d,_){if(d.da)d=!0;else{_=new wt(_,this);const E=d.listener,R=d.ha||d.src;d.fa&&Ya(d),d=E.call(R,_)}return d}function $r(d){return d=d[Mt],d instanceof it?d:null}var _l="__closure_events_fn_"+(Math.random()*1e9>>>0);function bl(d){return typeof d=="function"?d:(d[_l]||(d[_l]=function(_){return d.handleEvent(_)}),d[_l])}function Ae(){P.call(this),this.i=new it(this),this.M=this,this.G=null}b(Ae,P),Ae.prototype[ut]=!0,Ae.prototype.removeEventListener=function(d,_,E,R){$a(this,d,_,E,R)};function je(d,_){var E,R=d.G;if(R)for(E=[];R;R=R.G)E.push(R);if(d=d.M,R=_.type||_,typeof _=="string")_=new z(_,d);else if(_ instanceof z)_.target=_.target||d;else{var H=_;_=new z(R,d),at(_,H)}H=!0;let Q,ft;if(E)for(ft=E.length-1;ft>=0;ft--)Q=_.g=E[ft],H=js(Q,R,!0,_)&&H;if(Q=_.g=d,H=js(Q,R,!0,_)&&H,H=js(Q,R,!1,_)&&H,E)for(ft=0;ft<E.length;ft++)Q=_.g=E[ft],H=js(Q,R,!1,_)&&H}Ae.prototype.N=function(){if(Ae.Z.N.call(this),this.i){var d=this.i;for(const _ in d.g){const E=d.g[_];for(let R=0;R<E.length;R++)ht(E[R]);delete d.g[_],d.h--}}this.G=null},Ae.prototype.J=function(d,_,E,R){return this.i.add(String(d),_,!1,E,R)},Ae.prototype.K=function(d,_,E,R){return this.i.add(String(d),_,!0,E,R)};function js(d,_,E,R){if(_=d.i.g[String(_)],!_)return!0;_=_.concat();let H=!0;for(let Q=0;Q<_.length;++Q){const ft=_[Q];if(ft&&!ft.da&&ft.capture==E){const kt=ft.listener,ve=ft.ha||ft.src;ft.fa&&gt(d.i,ft),H=kt.call(ve,R)!==!1&&H}}return H&&!R.defaultPrevented}function Md(d,_){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=g(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:c.setTimeout(d,_||0)}function Eu(d){d.g=Md(()=>{d.g=null,d.i&&(d.i=!1,Eu(d))},d.l);const _=d.h;d.h=null,d.m.apply(null,_)}class gn extends P{constructor(_,E){super(),this.m=_,this.l=E,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:Eu(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Yr(d){P.call(this),this.h=d,this.g={}}b(Yr,P);var vl=[];function Tl(d){Tt(d.g,function(_,E){this.g.hasOwnProperty(E)&&Ya(_)},d),d.g={}}Yr.prototype.N=function(){Yr.Z.N.call(this),Tl(this)},Yr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Us=c.JSON.stringify,Od=c.JSON.parse,xu=class{stringify(d){return c.JSON.stringify(d,void 0)}parse(d){return c.JSON.parse(d,void 0)}};function Su(){}function wu(){}var ai={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Ke(){z.call(this,"d")}b(Ke,z);function Un(){z.call(this,"c")}b(Un,z);var be={},Au=null;function Ka(){return Au=Au||new Ae}be.Ia="serverreachability";function Cu(d){z.call(this,be.Ia,d)}b(Cu,z);function Ai(d){const _=Ka();je(_,new Cu(_))}be.STAT_EVENT="statevent";function Kr(d,_){z.call(this,be.STAT_EVENT,d),this.stat=_}b(Kr,z);function Ce(d){const _=Ka();je(_,new Kr(_,d))}be.Ja="timingevent";function Ci(d,_){z.call(this,be.Ja,d),this.size=_}b(Ci,z);function Ri(d,_){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){d()},_)}function oi(){this.g=!0}oi.prototype.ua=function(){this.g=!1};function zd(d,_,E,R,H,Q){d.info(function(){if(d.g)if(Q){var ft="",kt=Q.split("&");for(let Yt=0;Yt<kt.length;Yt++){var ve=kt[Yt].split("=");if(ve.length>1){const de=ve[0];ve=ve[1];const qn=de.split("_");ft=qn.length>=2&&qn[1]=="type"?ft+(de+"="+ve+"&"):ft+(de+"=redacted&")}}}else ft=null;else ft=Q;return"XMLHTTP REQ ("+R+") [attempt "+H+"]: "+_+`
`+E+`
`+ft})}function Ru(d,_,E,R,H,Q,ft){d.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+H+"]: "+_+`
`+E+`
`+Q+" "+ft})}function Ii(d,_,E,R){d.info(function(){return"XMLHTTP TEXT ("+_+"): "+Vd(d,E)+(R?" "+R:"")})}function Qr(d,_){d.info(function(){return"TIMEOUT: "+_})}oi.prototype.info=function(){};function Vd(d,_){if(!d.g)return _;if(!_)return null;try{const Q=JSON.parse(_);if(Q){for(d=0;d<Q.length;d++)if(Array.isArray(Q[d])){var E=Q[d];if(!(E.length<2)){var R=E[1];if(Array.isArray(R)&&!(R.length<1)){var H=R[0];if(H!="noop"&&H!="stop"&&H!="close")for(let ft=1;ft<R.length;ft++)R[ft]=""}}}}return Us(Q)}catch{return _}}var Xr={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},El={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},xl;function Wr(){}b(Wr,Su),Wr.prototype.g=function(){return new XMLHttpRequest},xl=new Wr;function as(d){return encodeURIComponent(String(d))}function Iu(d){var _=1;d=d.split(":");const E=[];for(;_>0&&d.length;)E.push(d.shift()),_--;return d.length&&E.push(d.join(":")),E}function li(d,_,E,R){this.j=d,this.i=_,this.l=E,this.S=R||1,this.V=new Yr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ci}function ci(){this.i=null,this.g="",this.h=!1}var Re={},Fe={};function ki(d,_,E){d.M=1,d.A=Zr(ke(_)),d.u=E,d.R=!0,Qa(d,null)}function Qa(d,_){d.F=Date.now(),Di(d),d.B=ke(d.A);var E=d.B,R=d.S;Array.isArray(R)||(R=[String(R)]),Ja(E.i,"t",R),d.C=0,E=d.j.L,d.h=new ci,d.g=qu(d.j,E?_:null,!d.u),d.P>0&&(d.O=new gn(g(d.Y,d,d.g),d.P)),_=d.V,E=d.g,R=d.ba;var H="readystatechange";Array.isArray(H)||(H&&(vl[0]=H.toString()),H=vl);for(let Q=0;Q<H.length;Q++){const ft=fe(E,H[Q],R||_.handleEvent,!1,_.h||_);if(!ft)break;_.g[ft.key]=ft}_=d.J?M(d.J):{},d.u?(d.v||(d.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,_)):(d.v="GET",d.g.ea(d.B,d.v,null,_)),Ai(),zd(d.i,d.v,d.B,d.l,d.S,d.u)}li.prototype.ba=function(d){d=d.target;const _=this.O;_&&fi(d)==3?_.j():this.Y(d)},li.prototype.Y=function(d){try{if(d==this.g)t:{const kt=fi(this.g),ve=this.g.ya(),Yt=this.g.ca();if(!(kt<3)&&(kt!=3||this.g&&(this.h.h||this.g.la()||Qe(this.g)))){this.K||kt!=4||ve==7||(ve==8||Yt<=0?Ai(3):Ai(2)),Ni(this);var _=this.g.ca();this.X=_;var E=Pd(this);if(this.o=_==200,Ru(this.i,this.v,this.B,this.l,this.S,kt,_),this.o){if(this.U&&!this.L){e:{if(this.g){var R,H=this.g;if((R=H.g?H.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(R)){var Q=R;break e}}Q=null}if(d=Q)Ii(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Mi(this,d);else{this.o=!1,this.m=3,Ce(12),In(this),Bn(this);break t}}if(this.R){d=!0;let de;for(;!this.K&&this.C<E.length;)if(de=Du(this,E),de==Fe){kt==4&&(this.m=4,Ce(14),d=!1),Ii(this.i,this.l,null,"[Incomplete Response]");break}else if(de==Re){this.m=4,Ce(15),Ii(this.i,this.l,E,"[Invalid Chunk]"),d=!1;break}else Ii(this.i,this.l,de,null),Mi(this,de);if(ku(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),kt!=4||E.length!=0||this.h.h||(this.m=1,Ce(16),d=!1),this.o=this.o&&d,!d)Ii(this.i,this.l,E,"[Invalid Chunked Response]"),In(this),Bn(this);else if(E.length>0&&!this.W){this.W=!0;var ft=this.j;ft.g==this&&ft.aa&&!ft.P&&(ft.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Ll(ft),ft.P=!0,Ce(11))}}else Ii(this.i,this.l,E,null),Mi(this,E);kt==4&&In(this),this.o&&!this.K&&(kt==4?Uu(this.j,this):(this.o=!1,Di(this)))}else ls(this.g),_==400&&E.indexOf("Unknown SID")>0?(this.m=3,Ce(12)):(this.m=0,Ce(13)),In(this),Bn(this)}}}catch{}finally{}};function Pd(d){if(!ku(d))return d.g.la();const _=Qe(d.g);if(_==="")return"";let E="";const R=_.length,H=fi(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return In(d),Bn(d),"";d.h.i=new c.TextDecoder}for(let Q=0;Q<R;Q++)d.h.h=!0,E+=d.h.i.decode(_[Q],{stream:!(H&&Q==R-1)});return _.length=0,d.h.g+=E,d.C=0,d.h.g}function ku(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function Du(d,_){var E=d.C,R=_.indexOf(`
`,E);return R==-1?Fe:(E=Number(_.substring(E,R)),isNaN(E)?Re:(R+=1,R+E>_.length?Fe:(_=_.slice(R,R+E),d.C=R+E,_)))}li.prototype.cancel=function(){this.K=!0,In(this)};function Di(d){d.T=Date.now()+d.H,Xa(d,d.H)}function Xa(d,_){if(d.D!=null)throw Error("WatchDog timer not null");d.D=Ri(g(d.aa,d),_)}function Ni(d){d.D&&(c.clearTimeout(d.D),d.D=null)}li.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(Qr(this.i,this.B),this.M!=2&&(Ai(),Ce(17)),In(this),this.m=2,Bn(this)):Xa(this,this.T-d)};function Bn(d){d.j.I==0||d.K||Uu(d.j,d)}function In(d){Ni(d);var _=d.O;_&&typeof _.dispose=="function"&&_.dispose(),d.O=null,Tl(d.V),d.g&&(_=d.g,d.g=null,_.abort(),_.dispose())}function Mi(d,_){try{var E=d.j;if(E.I!=0&&(E.g==d||zi(E.h,d))){if(!d.L&&zi(E.h,d)&&E.I==3){try{var R=E.Ba.g.parse(_)}catch{R=null}if(Array.isArray(R)&&R.length==3){var H=R;if(H[0]==0){t:if(!E.v){if(E.g)if(E.g.F+3e3<d.F)so(E),Ks(E);else break t;ra(E),Ce(18)}}else E.xa=H[1],0<E.xa-E.K&&H[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Ri(g(E.Va,E),6e3));Oi(E.h)<=1&&E.ta&&(E.ta=void 0)}else Bi(E,11)}else if((d.L||E.g==d)&&so(E),!O(_))for(H=E.Ba.g.parse(_),_=0;_<H.length;_++){let Yt=H[_];const de=Yt[0];if(!(de<=E.K))if(E.K=de,Yt=Yt[1],E.I==2)if(Yt[0]=="c"){E.M=Yt[1],E.ba=Yt[2];const qn=Yt[3];qn!=null&&(E.ka=qn,E.j.info("VER="+E.ka));const Hi=Yt[4];Hi!=null&&(E.za=Hi,E.j.info("SVER="+E.za));const di=Yt[5];di!=null&&typeof di=="number"&&di>0&&(R=1.5*di,E.O=R,E.j.info("backChannelRequestTimeoutMs_="+R)),R=E;const gi=d.g;if(gi){const aa=gi.g?gi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(aa){var Q=R.h;Q.g||aa.indexOf("spdy")==-1&&aa.indexOf("quic")==-1&&aa.indexOf("h2")==-1||(Q.j=Q.l,Q.g=new Set,Q.h&&(Al(Q,Q.h),Q.h=null))}if(R.G){const ro=gi.g?gi.g.getResponseHeader("X-HTTP-Session-Id"):null;ro&&(R.wa=ro,Xt(R.J,R.G,ro))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-d.F,E.j.info("Handshake RTT: "+E.T+"ms")),R=E;var ft=d;if(R.na=Fu(R,R.L?R.ba:null,R.W),ft.L){Cl(R.h,ft);var kt=ft,ve=R.O;ve&&(kt.H=ve),kt.D&&(Ni(kt),Di(kt)),R.g=ft}else Lu(R);E.i.length>0&&Ui(E)}else Yt[0]!="stop"&&Yt[0]!="close"||Bi(E,7);else E.I==3&&(Yt[0]=="stop"||Yt[0]=="close"?Yt[0]=="stop"?Bi(E,7):Vl(E):Yt[0]!="noop"&&E.l&&E.l.qa(Yt),E.A=0)}}Ai(4)}catch{}}var Ie=class{constructor(d,_){this.g=d,this.map=_}};function Sl(d){this.l=d||10,c.PerformanceNavigationTiming?(d=c.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function wl(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Oi(d){return d.h?1:d.g?d.g.size:0}function zi(d,_){return d.h?d.h==_:d.g?d.g.has(_):!1}function Al(d,_){d.g?d.g.add(_):d.h=_}function Cl(d,_){d.h&&d.h==_?d.h=null:d.g&&d.g.has(_)&&d.g.delete(_)}Sl.prototype.cancel=function(){if(this.i=Rl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function Rl(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let _=d.i;for(const E of d.g.values())_=_.concat(E.G);return _}return x(d.i)}var Nu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wa(d,_){if(d){d=d.split("&");for(let E=0;E<d.length;E++){const R=d[E].indexOf("=");let H,Q=null;R>=0?(H=d[E].substring(0,R),Q=d[E].substring(R+1)):H=d[E],_(H,Q?decodeURIComponent(Q.replace(/\+/g," ")):"")}}}function kn(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;d instanceof kn?(this.l=d.l,qe(this,d.j),this.o=d.o,this.g=d.g,Bs(this,d.u),this.h=d.h,Il(this,Vu(d.i)),this.m=d.m):d&&(_=String(d).match(Nu))?(this.l=!1,qe(this,_[1]||"",!0),this.o=Vi(_[2]||""),this.g=Vi(_[3]||"",!0),Bs(this,_[4]),this.h=Vi(_[5]||"",!0),Il(this,_[6]||"",!0),this.m=Vi(_[7]||"")):(this.l=!1,this.i=new Fs(null,this.l))}kn.prototype.toString=function(){const d=[];var _=this.j;_&&d.push(Jr(_,Za,!0),":");var E=this.g;return(E||_=="file")&&(d.push("//"),(_=this.o)&&d.push(Jr(_,Za,!0),"@"),d.push(as(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&d.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&d.push("/"),d.push(Jr(E,E.charAt(0)=="/"?kl:Mu,!0))),(E=this.i.toString())&&d.push("?",E),(E=this.m)&&d.push("#",Jr(E,Ou)),d.join("")},kn.prototype.resolve=function(d){const _=ke(this);let E=!!d.j;E?qe(_,d.j):E=!!d.o,E?_.o=d.o:E=!!d.g,E?_.g=d.g:E=d.u!=null;var R=d.h;if(E)Bs(_,d.u);else if(E=!!d.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var H=_.h.lastIndexOf("/");H!=-1&&(R=_.h.slice(0,H+1)+R)}if(H=R,H==".."||H==".")R="";else if(H.indexOf("./")!=-1||H.indexOf("/.")!=-1){R=H.lastIndexOf("/",0)==0,H=H.split("/");const Q=[];for(let ft=0;ft<H.length;){const kt=H[ft++];kt=="."?R&&ft==H.length&&Q.push(""):kt==".."?((Q.length>1||Q.length==1&&Q[0]!="")&&Q.pop(),R&&ft==H.length&&Q.push("")):(Q.push(kt),R=!0)}R=Q.join("/")}else R=H}return E?_.h=R:E=d.i.toString()!=="",E?Il(_,Vu(d.i)):E=!!d.m,E&&(_.m=d.m),_};function ke(d){return new kn(d)}function qe(d,_,E){d.j=E?Vi(_,!0):_,d.j&&(d.j=d.j.replace(/:$/,""))}function Bs(d,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);d.u=_}else d.u=null}function Il(d,_,E){_ instanceof Fs?(d.i=_,to(d.i,d.l)):(E||(_=Jr(_,Hs)),d.i=new Fs(_,d.l))}function Xt(d,_,E){d.i.set(_,E)}function Zr(d){return Xt(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function Vi(d,_){return d?_?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function Jr(d,_,E){return typeof d=="string"?(d=encodeURI(d).replace(_,yn),E&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function yn(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Za=/[#\/\?@]/g,Mu=/[#\?:]/g,kl=/[#\?]/g,Hs=/[#\?@]/g,Ou=/#/g;function Fs(d,_){this.h=this.g=null,this.i=d||null,this.j=!!_}function _n(d){d.g||(d.g=new Map,d.h=0,d.i&&Wa(d.i,function(_,E){d.add(decodeURIComponent(_.replace(/\+/g," ")),E)}))}n=Fs.prototype,n.add=function(d,_){_n(this),this.i=null,d=qs(this,d);let E=this.g.get(d);return E||this.g.set(d,E=[]),E.push(_),this.h+=1,this};function zu(d,_){_n(d),_=qs(d,_),d.g.has(_)&&(d.i=null,d.h-=d.g.get(_).length,d.g.delete(_))}function Dl(d,_){return _n(d),_=qs(d,_),d.g.has(_)}n.forEach=function(d,_){_n(this),this.g.forEach(function(E,R){E.forEach(function(H){d.call(_,H,R,this)},this)},this)};function Nl(d,_){_n(d);let E=[];if(typeof _=="string")Dl(d,_)&&(E=E.concat(d.g.get(qs(d,_))));else for(d=Array.from(d.g.values()),_=0;_<d.length;_++)E=E.concat(d[_]);return E}n.set=function(d,_){return _n(this),this.i=null,d=qs(this,d),Dl(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[_]),this.h+=1,this},n.get=function(d,_){return d?(d=Nl(this,d),d.length>0?String(d[0]):_):_};function Ja(d,_,E){zu(d,_),E.length>0&&(d.i=null,d.g.set(qs(d,_),x(E)),d.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],_=Array.from(this.g.keys());for(let R=0;R<_.length;R++){var E=_[R];const H=as(E);E=Nl(this,E);for(let Q=0;Q<E.length;Q++){let ft=H;E[Q]!==""&&(ft+="="+as(E[Q])),d.push(ft)}}return this.i=d.join("&")};function Vu(d){const _=new Fs;return _.i=d.i,d.g&&(_.g=new Map(d.g),_.h=d.h),_}function qs(d,_){return _=String(_),d.j&&(_=_.toLowerCase()),_}function to(d,_){_&&!d.j&&(_n(d),d.i=null,d.g.forEach(function(E,R){const H=R.toLowerCase();R!=H&&(zu(this,R),Ja(this,H,E))},d)),d.j=_}function ui(d,_){const E=new oi;if(c.Image){const R=new Image;R.onload=y(Hn,E,"TestLoadImage: loaded",!0,_,R),R.onerror=y(Hn,E,"TestLoadImage: error",!1,_,R),R.onabort=y(Hn,E,"TestLoadImage: abort",!1,_,R),R.ontimeout=y(Hn,E,"TestLoadImage: timeout",!1,_,R),c.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=d}else _(!1)}function Ml(d,_){const E=new oi,R=new AbortController,H=setTimeout(()=>{R.abort(),Hn(E,"TestPingServer: timeout",!1,_)},1e4);fetch(d,{signal:R.signal}).then(Q=>{clearTimeout(H),Q.ok?Hn(E,"TestPingServer: ok",!0,_):Hn(E,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(H),Hn(E,"TestPingServer: error",!1,_)})}function Hn(d,_,E,R,H){try{H&&(H.onload=null,H.onerror=null,H.onabort=null,H.ontimeout=null),R(E)}catch{}}function Gs(){this.g=new xu}function Pi(d){this.i=d.Sb||null,this.h=d.ab||!1}b(Pi,Su),Pi.prototype.g=function(){return new ta(this.i,this.h)};function ta(d,_){Ae.call(this),this.H=d,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(ta,Ae),n=ta.prototype,n.open=function(d,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=_,this.readyState=1,hi(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(_.body=d),(this.H||c).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,$s(this)),this.readyState=0},n.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,hi(this)),this.g&&(this.readyState=3,hi(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;eo(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function eo(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}n.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var _=d.value?d.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!d.done}))&&(this.response=this.responseText+=_)}d.done?$s(this):hi(this),this.readyState==3&&eo(this)}},n.Oa=function(d){this.g&&(this.response=this.responseText=d,$s(this))},n.Na=function(d){this.g&&(this.response=d,$s(this))},n.ga=function(){this.g&&$s(this)};function $s(d){d.readyState=4,d.l=null,d.j=null,d.B=null,hi(d)}n.setRequestHeader=function(d,_){this.A.append(d,_)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],_=this.h.entries();for(var E=_.next();!E.done;)E=E.value,d.push(E[0]+": "+E[1]),E=_.next();return d.join(`\r
`)};function hi(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(ta.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function Fn(d){let _="";return Tt(d,function(E,R){_+=R,_+=":",_+=E,_+=`\r
`}),_}function ea(d,_,E){t:{for(R in E){var R=!1;break t}R=!0}R||(E=Fn(E),typeof d=="string"?E!=null&&as(E):Xt(d,_,E))}function te(d){Ae.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(te,Ae);var Li=/^https?$/i,Ol=["POST","PUT"];n=te.prototype,n.Fa=function(d){this.H=d},n.ea=function(d,_,E,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);_=_?_.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():xl.g(),this.g.onreadystatechange=T(g(this.Ca,this));try{this.B=!0,this.g.open(_,String(d),!0),this.B=!1}catch(Q){na(this,Q);return}if(d=E||"",E=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var H in R)E.set(H,R[H]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const Q of R.keys())E.set(Q,R.get(Q));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(E.keys()).find(Q=>Q.toLowerCase()=="content-type"),H=c.FormData&&d instanceof c.FormData,!(Array.prototype.indexOf.call(Ol,_,void 0)>=0)||R||H||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Q,ft]of E)this.g.setRequestHeader(Q,ft);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(Q){na(this,Q)}};function na(d,_){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=_,d.o=5,zl(d),os(d)}function zl(d){d.A||(d.A=!0,je(d,"complete"),je(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,je(this,"complete"),je(this,"abort"),os(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),os(this,!0)),te.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?ia(this):this.Xa())},n.Xa=function(){ia(this)};function ia(d){if(d.h&&typeof o<"u"){if(d.v&&fi(d)==4)setTimeout(d.Ca.bind(d),0);else if(je(d,"readystatechange"),fi(d)==4){d.h=!1;try{const Q=d.ca();t:switch(Q){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break t;default:_=!1}var E;if(!(E=_)){var R;if(R=Q===0){let ft=String(d.D).match(Nu)[1]||null;!ft&&c.self&&c.self.location&&(ft=c.self.location.protocol.slice(0,-1)),R=!Li.test(ft?ft.toLowerCase():"")}E=R}if(E)je(d,"complete"),je(d,"success");else{d.o=6;try{var H=fi(d)>2?d.g.statusText:""}catch{H=""}d.l=H+" ["+d.ca()+"]",zl(d)}}finally{os(d)}}}}function os(d,_){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const E=d.g;d.g=null,_||je(d,"ready");try{E.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function fi(d){return d.g?d.g.readyState:0}n.ca=function(){try{return fi(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(d){if(this.g){var _=this.g.responseText;return d&&_.indexOf(d)==0&&(_=_.substring(d.length)),Od(_)}};function Qe(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function ls(d){const _={};d=(d.g&&fi(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<d.length;R++){if(O(d[R]))continue;var E=Iu(d[R]);const H=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const Q=_[H]||[];_[H]=Q,Q.push(E)}At(_,function(R){return R.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ji(d,_,E){return E&&E.internalChannelParams&&E.internalChannelParams[d]||_}function Ys(d){this.za=0,this.i=[],this.j=new oi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ji("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ji("baseRetryDelayMs",5e3,d),this.Za=ji("retryDelaySeedMs",1e4,d),this.Ta=ji("forwardChannelMaxRetries",2,d),this.va=ji("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new Sl(d&&d.concurrentRequestLimit),this.Ba=new Gs,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Ys.prototype,n.ka=8,n.I=1,n.connect=function(d,_,E,R){Ce(0),this.W=d,this.H=_||{},E&&R!==void 0&&(this.H.OSID=E,this.H.OAID=R),this.F=this.X,this.J=Fu(this,null,this.W),Ui(this)};function Vl(d){if(no(d),d.I==3){var _=d.V++,E=ke(d.J);if(Xt(E,"SID",d.M),Xt(E,"RID",_),Xt(E,"TYPE","terminate"),sa(d,E),_=new li(d,d.j,_),_.M=2,_.A=Zr(ke(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(_.A.toString(),"")}catch{}!E&&c.Image&&(new Image().src=_.A,E=!0),E||(_.g=qu(_.j,null),_.g.ea(_.A)),_.F=Date.now(),Di(_)}Hu(d)}function Ks(d){d.g&&(Ll(d),d.g.cancel(),d.g=null)}function no(d){Ks(d),d.v&&(c.clearTimeout(d.v),d.v=null),so(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&c.clearTimeout(d.m),d.m=null)}function Ui(d){if(!wl(d.h)&&!d.m){d.m=!0;var _=d.Ea;tt||A(),lt||(tt(),lt=!0),D.add(_,d),d.D=0}}function io(d,_){return Oi(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=_.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=Ri(g(d.Ea,d,_),Bu(d,d.D)),d.D++,!0)}n.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const H=new li(this,this.j,d);let Q=this.o;if(this.U&&(Q?(Q=M(Q),at(Q,this.U)):Q=this.U),this.u!==null||this.R||(H.J=Q,Q=null),this.S)t:{for(var _=0,E=0;E<this.i.length;E++){e:{var R=this.i[E];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break e}R=void 0}if(R===void 0)break;if(_+=R,_>4096){_=E;break t}if(_===4096||E===this.i.length-1){_=E+1;break t}}_=1e3}else _=1e3;_=Pu(this,H,_),E=ke(this.J),Xt(E,"RID",d),Xt(E,"CVER",22),this.G&&Xt(E,"X-HTTP-Session-Id",this.G),sa(this,E),Q&&(this.R?_="headers="+as(Fn(Q))+"&"+_:this.u&&ea(E,this.u,Q)),Al(this.h,H),this.Ra&&Xt(E,"TYPE","init"),this.S?(Xt(E,"$req",_),Xt(E,"SID","null"),H.U=!0,ki(H,E,null)):ki(H,E,_),this.I=2}}else this.I==3&&(d?Pl(this,d):this.i.length==0||wl(this.h)||Pl(this))};function Pl(d,_){var E;_?E=_.l:E=d.V++;const R=ke(d.J);Xt(R,"SID",d.M),Xt(R,"RID",E),Xt(R,"AID",d.K),sa(d,R),d.u&&d.o&&ea(R,d.u,d.o),E=new li(d,d.j,E,d.D+1),d.u===null&&(E.J=d.o),_&&(d.i=_.G.concat(d.i)),_=Pu(d,E,1e3),E.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),Al(d.h,E),ki(E,R,_)}function sa(d,_){d.H&&Tt(d.H,function(E,R){Xt(_,R,E)}),d.l&&Tt({},function(E,R){Xt(_,R,E)})}function Pu(d,_,E){E=Math.min(d.i.length,E);const R=d.l?g(d.l.Ka,d.l,d):null;t:{var H=d.i;let kt=-1;for(;;){const ve=["count="+E];kt==-1?E>0?(kt=H[0].g,ve.push("ofs="+kt)):kt=0:ve.push("ofs="+kt);let Yt=!0;for(let de=0;de<E;de++){var Q=H[de].g;const qn=H[de].map;if(Q-=kt,Q<0)kt=Math.max(0,H[de].g-100),Yt=!1;else try{Q="req"+Q+"_"||"";try{var ft=qn instanceof Map?qn:Object.entries(qn);for(const[Hi,di]of ft){let gi=di;h(di)&&(gi=Us(di)),ve.push(Q+Hi+"="+encodeURIComponent(gi))}}catch(Hi){throw ve.push(Q+"type="+encodeURIComponent("_badmap")),Hi}}catch{R&&R(qn)}}if(Yt){ft=ve.join("&");break t}}ft=void 0}return d=d.i.splice(0,E),_.G=d,ft}function Lu(d){if(!d.g&&!d.v){d.Y=1;var _=d.Da;tt||A(),lt||(tt(),lt=!0),D.add(_,d),d.A=0}}function ra(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=Ri(g(d.Da,d),Bu(d,d.A)),d.A++,!0)}n.Da=function(){if(this.v=null,ju(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=Ri(g(this.Wa,this),d)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ce(10),Ks(this),ju(this))};function Ll(d){d.B!=null&&(c.clearTimeout(d.B),d.B=null)}function ju(d){d.g=new li(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var _=ke(d.na);Xt(_,"RID","rpc"),Xt(_,"SID",d.M),Xt(_,"AID",d.K),Xt(_,"CI",d.F?"0":"1"),!d.F&&d.ia&&Xt(_,"TO",d.ia),Xt(_,"TYPE","xmlhttp"),sa(d,_),d.u&&d.o&&ea(_,d.u,d.o),d.O&&(d.g.H=d.O);var E=d.g;d=d.ba,E.M=1,E.A=Zr(ke(_)),E.u=null,E.R=!0,Qa(E,d)}n.Va=function(){this.C!=null&&(this.C=null,Ks(this),ra(this),Ce(19))};function so(d){d.C!=null&&(c.clearTimeout(d.C),d.C=null)}function Uu(d,_){var E=null;if(d.g==_){so(d),Ll(d),d.g=null;var R=2}else if(zi(d.h,_))E=_.G,Cl(d.h,_),R=1;else return;if(d.I!=0){if(_.o)if(R==1){E=_.u?_.u.length:0,_=Date.now()-_.F;var H=d.D;R=Ka(),je(R,new Ci(R,E)),Ui(d)}else Lu(d);else if(H=_.m,H==3||H==0&&_.X>0||!(R==1&&io(d,_)||R==2&&ra(d)))switch(E&&E.length>0&&(_=d.h,_.i=_.i.concat(E)),H){case 1:Bi(d,5);break;case 4:Bi(d,10);break;case 3:Bi(d,6);break;default:Bi(d,2)}}}function Bu(d,_){let E=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(E*=2),E*_}function Bi(d,_){if(d.j.info("Error code "+_),_==2){var E=g(d.bb,d),R=d.Ua;const H=!R;R=new kn(R||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||qe(R,"https"),Zr(R),H?ui(R.toString(),E):Ml(R.toString(),E)}else Ce(2);d.I=0,d.l&&d.l.pa(_),Hu(d),no(d)}n.bb=function(d){d?(this.j.info("Successfully pinged google.com"),Ce(2)):(this.j.info("Failed to ping google.com"),Ce(1))};function Hu(d){if(d.I=0,d.ja=[],d.l){const _=Rl(d.h);(_.length!=0||d.i.length!=0)&&(I(d.ja,_),I(d.ja,d.i),d.h.i.length=0,x(d.i),d.i.length=0),d.l.oa()}}function Fu(d,_,E){var R=E instanceof kn?ke(E):new kn(E);if(R.g!="")_&&(R.g=_+"."+R.g),Bs(R,R.u);else{var H=c.location;R=H.protocol,_=_?_+"."+H.hostname:H.hostname,H=+H.port;const Q=new kn(null);R&&qe(Q,R),_&&(Q.g=_),H&&Bs(Q,H),E&&(Q.h=E),R=Q}return E=d.G,_=d.wa,E&&_&&Xt(R,E,_),Xt(R,"VER",d.ka),sa(d,R),R}function qu(d,_,E){if(_&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=d.Aa&&!d.ma?new te(new Pi({ab:E})):new te(d.ma),_.Fa(d.L),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Gu(){}n=Gu.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Qs(){}Qs.prototype.g=function(d,_){return new mn(d,_)};function mn(d,_){Ae.call(this),this.g=new Ys(_),this.l=d,this.h=_&&_.messageUrlParams||null,d=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(d?d["X-WebChannel-Content-Type"]=_.messageContentType:d={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(d?d["X-WebChannel-Client-Profile"]=_.sa:d={"X-WebChannel-Client-Profile":_.sa}),this.g.U=d,(d=_&&_.Qb)&&!O(d)&&(this.g.u=d),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!O(_)&&(this.g.G=_,d=this.h,d!==null&&_ in d&&(d=this.h,_ in d&&delete d[_])),this.j=new cs(this)}b(mn,Ae),mn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){Vl(this.g)},mn.prototype.o=function(d){var _=this.g;if(typeof d=="string"){var E={};E.__data__=d,d=E}else this.v&&(E={},E.__data__=Us(d),d=E);_.i.push(new Ie(_.Ya++,d)),_.I==3&&Ui(_)},mn.prototype.N=function(){this.g.l=null,delete this.j,Vl(this.g),delete this.g,mn.Z.N.call(this)};function $u(d){Ke.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var _=d.__sm__;if(_){t:{for(const E in _){d=E;break t}d=void 0}(this.i=d)&&(d=this.i,_=_!==null&&d in _?_[d]:void 0),this.data=_}else this.data=d}b($u,Ke);function Yu(){Un.call(this),this.status=1}b(Yu,Un);function cs(d){this.g=d}b(cs,Gu),cs.prototype.ra=function(){je(this.g,"a")},cs.prototype.qa=function(d){je(this.g,new $u(d))},cs.prototype.pa=function(d){je(this.g,new Yu)},cs.prototype.oa=function(){je(this.g,"b")},Qs.prototype.createWebChannel=Qs.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,zx=function(){return new Qs},Ox=function(){return Ka()},Mx=be,_p={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Xr.NO_ERROR=0,Xr.TIMEOUT=8,Xr.HTTP_ERROR=6,Tf=Xr,El.COMPLETE="complete",Nx=El,wu.EventType=ai,ai.OPEN="a",ai.CLOSE="b",ai.ERROR="c",ai.MESSAGE="d",Ae.prototype.listen=Ae.prototype.J,kc=wu,te.prototype.listenOnce=te.prototype.K,te.prototype.getLastError=te.prototype.Ha,te.prototype.getLastErrorCode=te.prototype.ya,te.prototype.getStatus=te.prototype.ca,te.prototype.getResponseJson=te.prototype.La,te.prototype.getResponseText=te.prototype.la,te.prototype.send=te.prototype.ea,te.prototype.setWithCredentials=te.prototype.Fa,Dx=te}).apply(typeof Zh<"u"?Zh:typeof self<"u"?self:typeof window<"u"?window:{});const gT="@firebase/firestore",mT="4.9.2";let on=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};on.UNAUTHENTICATED=new on(null),on.GOOGLE_CREDENTIALS=new on("google-credentials-uid"),on.FIRST_PARTY=new on("first-party-uid"),on.MOCK_USER=new on("mock-user");let hl="12.3.0";const La=new Xp("@firebase/firestore");function Po(){return La.logLevel}function pt(n,...t){if(La.logLevel<=Lt.DEBUG){const e=t.map(oy);La.debug(`Firestore (${hl}): ${n}`,...e)}}function Ms(n,...t){if(La.logLevel<=Lt.ERROR){const e=t.map(oy);La.error(`Firestore (${hl}): ${n}`,...e)}}function Wo(n,...t){if(La.logLevel<=Lt.WARN){const e=t.map(oy);La.warn(`Firestore (${hl}): ${n}`,...e)}}function oy(n){if(typeof n=="string")return n;try{return(function(e){return JSON.stringify(e)})(n)}catch{return n}}function St(n,t,e){let i="Unexpected state";typeof t=="string"?i=t:e=t,Vx(n,i,e)}function Vx(n,t,e){let i=`FIRESTORE (${hl}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{i+=" CONTEXT: "+JSON.stringify(e)}catch{i+=" CONTEXT: "+e}throw Ms(i),new Error(i)}function Qt(n,t,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,n||Vx(t,a,i)}function It(n,t){return n}const rt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class mt extends zs{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Dr{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}class Px{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class sD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(on.UNAUTHENTICATED)))}shutdown(){}}class rD{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class aD{constructor(t){this.t=t,this.currentUser=on.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Qt(this.o===void 0,42304);let i=this.i;const a=f=>this.i!==i?(i=this.i,e(f)):Promise.resolve();let o=new Dr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Dr,t.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const f=o;t.enqueueRetryable((async()=>{await f.promise,await a(this.currentUser)}))},h=f=>{pt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((f=>h(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(pt("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Dr)}}),0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((i=>this.i!==t?(pt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Qt(typeof i.accessToken=="string",31837,{l:i}),new Px(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Qt(t===null||typeof t=="string",2055,{h:t}),new on(t)}}class oD{constructor(t,e,i){this.P=t,this.T=e,this.I=i,this.type="FirstParty",this.user=on.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class lD{constructor(t,e,i){this.P=t,this.T=e,this.I=i}getToken(){return Promise.resolve(new oD(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(on.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class pT{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class cD{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,An(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){Qt(this.o===void 0,3512);const i=o=>{o.error!=null&&pt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,pt("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable((()=>i(o)))};const a=o=>{pt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>a(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?a(o):pt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new pT(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(Qt(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new pT(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function uD(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class ly{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=uD(40);for(let o=0;o<a.length;++o)i.length<20&&a[o]<e&&(i+=t.charAt(a[o]%62))}return i}}function jt(n,t){return n<t?-1:n>t?1:0}function bp(n,t){const e=Math.min(n.length,t.length);for(let i=0;i<e;i++){const a=n.charAt(i),o=t.charAt(i);if(a!==o)return qm(a)===qm(o)?jt(a,o):qm(a)?1:-1}return jt(n.length,t.length)}const hD=55296,fD=57343;function qm(n){const t=n.charCodeAt(0);return t>=hD&&t<=fD}function Zo(n,t,e){return n.length===t.length&&n.every(((i,a)=>e(i,t[a])))}const yT="__name__";class Xi{constructor(t,e,i){e===void 0?e=0:e>t.length&&St(637,{offset:e,range:t.length}),i===void 0?i=t.length-e:i>t.length-e&&St(1746,{length:i,range:t.length-e}),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return Xi.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Xi?t.forEach((i=>{e.push(i)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let a=0;a<i;a++){const o=Xi.compareSegments(t.get(a),e.get(a));if(o!==0)return o}return jt(t.length,e.length)}static compareSegments(t,e){const i=Xi.isNumericId(t),a=Xi.isNumericId(e);return i&&!a?-1:!i&&a?1:i&&a?Xi.extractNumericId(t).compare(Xi.extractNumericId(e)):bp(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return kr.fromString(t.substring(4,t.length-2))}}class re extends Xi{construct(t,e,i){return new re(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new mt(rt.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((a=>a.length>0)))}return new re(e)}static emptyPath(){return new re([])}}const dD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class en extends Xi{construct(t,e,i){return new en(t,e,i)}static isValidIdentifier(t){return dD.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),en.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===yT}static keyField(){return new en([yT])}static fromServerFormat(t){const e=[];let i="",a=0;const o=()=>{if(i.length===0)throw new mt(rt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let c=!1;for(;a<t.length;){const h=t[a];if(h==="\\"){if(a+1===t.length)throw new mt(rt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const f=t[a+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new mt(rt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=f,a+=2}else h==="`"?(c=!c,a++):h!=="."||c?(i+=h,a++):(o(),a++)}if(o(),c)throw new mt(rt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new en(e)}static emptyPath(){return new en([])}}class vt{constructor(t){this.path=t}static fromPath(t){return new vt(re.fromString(t))}static fromName(t){return new vt(re.fromString(t).popFirst(5))}static empty(){return new vt(re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&re.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return re.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new vt(new re(t.slice()))}}function Lx(n,t,e){if(!e)throw new mt(rt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function gD(n,t,e,i){if(t===!0&&i===!0)throw new mt(rt.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function _T(n){if(!vt.isDocumentKey(n))throw new mt(rt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function bT(n){if(vt.isDocumentKey(n))throw new mt(rt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function jx(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function od(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(i){return i.constructor?i.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":St(12329,{type:typeof n})}function ii(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new mt(rt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=od(n);throw new mt(rt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function Pe(n,t){const e={typeString:n};return t&&(e.value=t),e}function mu(n,t){if(!jx(n))throw new mt(rt.INVALID_ARGUMENT,"JSON must be an object");let e;for(const i in t)if(t[i]){const a=t[i].typeString,o="value"in t[i]?{value:t[i].value}:void 0;if(!(i in n)){e=`JSON missing required field: '${i}'`;break}const c=n[i];if(a&&typeof c!==a){e=`JSON field '${i}' must be a ${a}.`;break}if(o!==void 0&&c!==o.value){e=`Expected '${i}' field to equal '${o.value}'`;break}}if(e)throw new mt(rt.INVALID_ARGUMENT,e);return!0}const vT=-62135596800,TT=1e6;class he{static now(){return he.fromMillis(Date.now())}static fromDate(t){return he.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor((t-1e3*e)*TT);return new he(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new mt(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new mt(rt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<vT)throw new mt(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new mt(rt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/TT}_compareTo(t){return this.seconds===t.seconds?jt(this.nanoseconds,t.nanoseconds):jt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:he._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(mu(t,he._jsonSchema))return new he(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-vT;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}he._jsonSchemaVersion="firestore/timestamp/1.0",he._jsonSchema={type:Pe("string",he._jsonSchemaVersion),seconds:Pe("number"),nanoseconds:Pe("number")};class Ct{static fromTimestamp(t){return new Ct(t)}static min(){return new Ct(new he(0,0))}static max(){return new Ct(new he(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Xc=-1;function mD(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,a=Ct.fromTimestamp(i===1e9?new he(e+1,0):new he(e,i));return new Or(a,vt.empty(),t)}function pD(n){return new Or(n.readTime,n.key,Xc)}class Or{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new Or(Ct.min(),vt.empty(),Xc)}static max(){return new Or(Ct.max(),vt.empty(),Xc)}}function yD(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=vt.comparator(n.documentKey,t.documentKey),e!==0?e:jt(n.largestBatchId,t.largestBatchId))}const _D="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function fl(n){if(n.code!==rt.FAILED_PRECONDITION||n.message!==_D)throw n;pt("LocalStore","Unexpectedly lost primary lease")}class ot{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&St(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new ot(((i,a)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,a)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,a)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof ot?e:ot.resolve(e)}catch(e){return ot.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):ot.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):ot.reject(e)}static resolve(t){return new ot(((e,i)=>{e(t)}))}static reject(t){return new ot(((e,i)=>{i(t)}))}static waitFor(t){return new ot(((e,i)=>{let a=0,o=0,c=!1;t.forEach((h=>{++a,h.next((()=>{++o,c&&o===a&&e()}),(f=>i(f)))})),c=!0,o===a&&e()}))}static or(t){let e=ot.resolve(!1);for(const i of t)e=e.next((a=>a?ot.resolve(a):i()));return e}static forEach(t,e){const i=[];return t.forEach(((a,o)=>{i.push(e.call(this,a,o))})),this.waitFor(i)}static mapArray(t,e){return new ot(((i,a)=>{const o=t.length,c=new Array(o);let h=0;for(let f=0;f<o;f++){const g=f;e(t[g]).next((y=>{c[g]=y,++h,h===o&&i(c)}),(y=>a(y)))}}))}static doWhile(t,e){return new ot(((i,a)=>{const o=()=>{t()===!0?e().next((()=>{o()}),a):i()};o()}))}}function vD(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function dl(n){return n.name==="IndexedDbTransactionError"}class ld{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>e.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}ld.ce=-1;const cy=-1;function cd(n){return n==null}function Lf(n){return n===0&&1/n==-1/0}function TD(n){return typeof n=="number"&&Number.isInteger(n)&&!Lf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const Ux="";function ED(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=ET(t)),t=xD(n.get(e),t);return ET(t)}function xD(n,t){let e=t;const i=n.length;for(let a=0;a<i;a++){const o=n.charAt(a);switch(o){case"\0":e+="";break;case Ux:e+="";break;default:e+=o}}return e}function ET(n){return n+Ux+""}function xT(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Hr(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function Bx(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class me{constructor(t,e){this.comparator=t,this.root=e||tn.EMPTY}insert(t,e){return new me(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,tn.BLACK,null,null))}remove(t){return new me(this.comparator,this.root.remove(t,this.comparator).copy(null,null,tn.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return e+i.left.size;a<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,i)=>(t(e,i),!1)))}toString(){const t=[];return this.inorderTraversal(((e,i)=>(t.push(`${e}:${i}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Jh(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Jh(this.root,t,this.comparator,!1)}getReverseIterator(){return new Jh(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Jh(this.root,t,this.comparator,!0)}}class Jh{constructor(t,e,i,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&a&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class tn{constructor(t,e,i,a,o){this.key=t,this.value=e,this.color=i??tn.RED,this.left=a??tn.EMPTY,this.right=o??tn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,a,o){return new tn(t??this.key,e??this.value,i??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let a=this;const o=i(t,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(t,e,i),null):o===0?a.copy(null,e,null,null,null):a.copy(null,null,null,null,a.right.insert(t,e,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return tn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,a=this;if(e(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,e),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),e(t,a.key)===0){if(a.right.isEmpty())return tn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,e))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,tn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,tn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw St(43730,{key:this.key,value:this.value});if(this.right.isRed())throw St(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw St(27949);return t+(this.isRed()?0:1)}}tn.EMPTY=null,tn.RED=!0,tn.BLACK=!1;tn.EMPTY=new class{constructor(){this.size=0}get key(){throw St(57766)}get value(){throw St(16141)}get color(){throw St(16727)}get left(){throw St(29726)}get right(){throw St(36894)}copy(t,e,i,a,o){return this}insert(t,e,i){return new tn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class He{constructor(t){this.comparator=t,this.data=new me(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,i)=>(t(e),!1)))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,t[1])>=0)return;e(a.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new ST(this.data.getIterator())}getIteratorFrom(t){return new ST(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((i=>{e=e.add(i)})),e}isEqual(t){if(!(t instanceof He)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const a=e.getNext().key,o=i.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new He(this.comparator);return e.data=t,e}}class ST{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ln{constructor(t){this.fields=t,t.sort(en.comparator)}static empty(){return new Ln([])}unionWith(t){let e=new He(en.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new Ln(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Zo(this.fields,t.fields,((e,i)=>e.isEqual(i)))}}class Hx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class nn{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Hx("Invalid base64 string: "+o):o}})(t);return new nn(e)}static fromUint8Array(t){const e=(function(a){let o="";for(let c=0;c<a.length;++c)o+=String.fromCharCode(a[c]);return o})(t);return new nn(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const i=new Uint8Array(e.length);for(let a=0;a<e.length;a++)i[a]=e.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return jt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}nn.EMPTY_BYTE_STRING=new nn("");const SD=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function zr(n){if(Qt(!!n,39018),typeof n=="string"){let t=0;const e=SD.exec(n);if(Qt(!!e,46558,{timestamp:n}),e[1]){let a=e[1];a=(a+"000000000").substr(0,9),t=Number(a)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:xe(n.seconds),nanos:xe(n.nanos)}}function xe(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Vr(n){return typeof n=="string"?nn.fromBase64String(n):nn.fromUint8Array(n)}const Fx="server_timestamp",qx="__type__",Gx="__previous_value__",$x="__local_write_time__";function uy(n){return(n?.mapValue?.fields||{})[qx]?.stringValue===Fx}function ud(n){const t=n.mapValue.fields[Gx];return uy(t)?ud(t):t}function Wc(n){const t=zr(n.mapValue.fields[$x].timestampValue);return new he(t.seconds,t.nanos)}class wD{constructor(t,e,i,a,o,c,h,f,g,y){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=a,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=g,this.isUsingEmulator=y}}const jf="(default)";class Zc{constructor(t,e){this.projectId=t,this.database=e||jf}static empty(){return new Zc("","")}get isDefaultDatabase(){return this.database===jf}isEqual(t){return t instanceof Zc&&t.projectId===this.projectId&&t.database===this.database}}const Yx="__type__",AD="__max__",tf={mapValue:{}},Kx="__vector__",Uf="value";function Pr(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?uy(n)?4:RD(n)?9007199254740991:CD(n)?10:11:St(28295,{value:n})}function rs(n,t){if(n===t)return!0;const e=Pr(n);if(e!==Pr(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Wc(n).isEqual(Wc(t));case 3:return(function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const c=zr(a.timestampValue),h=zr(o.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(a,o){return Vr(a.bytesValue).isEqual(Vr(o.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(a,o){return xe(a.geoPointValue.latitude)===xe(o.geoPointValue.latitude)&&xe(a.geoPointValue.longitude)===xe(o.geoPointValue.longitude)})(n,t);case 2:return(function(a,o){if("integerValue"in a&&"integerValue"in o)return xe(a.integerValue)===xe(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const c=xe(a.doubleValue),h=xe(o.doubleValue);return c===h?Lf(c)===Lf(h):isNaN(c)&&isNaN(h)}return!1})(n,t);case 9:return Zo(n.arrayValue.values||[],t.arrayValue.values||[],rs);case 10:case 11:return(function(a,o){const c=a.mapValue.fields||{},h=o.mapValue.fields||{};if(xT(c)!==xT(h))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(h[f]===void 0||!rs(c[f],h[f])))return!1;return!0})(n,t);default:return St(52216,{left:n})}}function Jc(n,t){return(n.values||[]).find((e=>rs(e,t)))!==void 0}function Jo(n,t){if(n===t)return 0;const e=Pr(n),i=Pr(t);if(e!==i)return jt(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return jt(n.booleanValue,t.booleanValue);case 2:return(function(o,c){const h=xe(o.integerValue||o.doubleValue),f=xe(c.integerValue||c.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1})(n,t);case 3:return wT(n.timestampValue,t.timestampValue);case 4:return wT(Wc(n),Wc(t));case 5:return bp(n.stringValue,t.stringValue);case 6:return(function(o,c){const h=Vr(o),f=Vr(c);return h.compareTo(f)})(n.bytesValue,t.bytesValue);case 7:return(function(o,c){const h=o.split("/"),f=c.split("/");for(let g=0;g<h.length&&g<f.length;g++){const y=jt(h[g],f[g]);if(y!==0)return y}return jt(h.length,f.length)})(n.referenceValue,t.referenceValue);case 8:return(function(o,c){const h=jt(xe(o.latitude),xe(c.latitude));return h!==0?h:jt(xe(o.longitude),xe(c.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return AT(n.arrayValue,t.arrayValue);case 10:return(function(o,c){const h=o.fields||{},f=c.fields||{},g=h[Uf]?.arrayValue,y=f[Uf]?.arrayValue,b=jt(g?.values?.length||0,y?.values?.length||0);return b!==0?b:AT(g,y)})(n.mapValue,t.mapValue);case 11:return(function(o,c){if(o===tf.mapValue&&c===tf.mapValue)return 0;if(o===tf.mapValue)return 1;if(c===tf.mapValue)return-1;const h=o.fields||{},f=Object.keys(h),g=c.fields||{},y=Object.keys(g);f.sort(),y.sort();for(let b=0;b<f.length&&b<y.length;++b){const T=bp(f[b],y[b]);if(T!==0)return T;const x=Jo(h[f[b]],g[y[b]]);if(x!==0)return x}return jt(f.length,y.length)})(n.mapValue,t.mapValue);default:throw St(23264,{he:e})}}function wT(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return jt(n,t);const e=zr(n),i=zr(t),a=jt(e.seconds,i.seconds);return a!==0?a:jt(e.nanos,i.nanos)}function AT(n,t){const e=n.values||[],i=t.values||[];for(let a=0;a<e.length&&a<i.length;++a){const o=Jo(e[a],i[a]);if(o)return o}return jt(e.length,i.length)}function tl(n){return vp(n)}function vp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(e){const i=zr(e);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(e){return Vr(e).toBase64()})(n.bytesValue):"referenceValue"in n?(function(e){return vt.fromName(e).toString()})(n.referenceValue):"geoPointValue"in n?(function(e){return`geo(${e.latitude},${e.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(e){let i="[",a=!0;for(const o of e.values||[])a?a=!1:i+=",",i+=vp(o);return i+"]"})(n.arrayValue):"mapValue"in n?(function(e){const i=Object.keys(e.fields||{}).sort();let a="{",o=!0;for(const c of i)o?o=!1:a+=",",a+=`${c}:${vp(e.fields[c])}`;return a+"}"})(n.mapValue):St(61005,{value:n})}function Ef(n){switch(Pr(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=ud(n);return t?16+Ef(t):16;case 5:return 2*n.stringValue.length;case 6:return Vr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((a,o)=>a+Ef(o)),0)})(n.arrayValue);case 10:case 11:return(function(i){let a=0;return Hr(i.fields,((o,c)=>{a+=o.length+Ef(c)})),a})(n.mapValue);default:throw St(13486,{value:n})}}function CT(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function Tp(n){return!!n&&"integerValue"in n}function hy(n){return!!n&&"arrayValue"in n}function RT(n){return!!n&&"nullValue"in n}function IT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function xf(n){return!!n&&"mapValue"in n}function CD(n){return(n?.mapValue?.fields||{})[Yx]?.stringValue===Kx}function jc(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return Hr(n.mapValue.fields,((e,i)=>t.mapValue.fields[e]=jc(i))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=jc(n.arrayValue.values[e]);return t}return{...n}}function RD(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===AD}class Cn{constructor(t){this.value=t}static empty(){return new Cn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!xf(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=jc(e)}setAll(t){let e=en.emptyPath(),i={},a=[];t.forEach(((c,h)=>{if(!e.isImmediateParentOf(h)){const f=this.getFieldsMap(e);this.applyChanges(f,i,a),i={},a=[],e=h.popLast()}c?i[h.lastSegment()]=jc(c):a.push(h.lastSegment())}));const o=this.getFieldsMap(e);this.applyChanges(o,i,a)}delete(t){const e=this.field(t.popLast());xf(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return rs(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let a=e.mapValue.fields[t.get(i)];xf(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=a),e=a}return e.mapValue.fields}applyChanges(t,e,i){Hr(e,((a,o)=>t[a]=o));for(const a of i)delete t[a]}clone(){return new Cn(jc(this.value))}}function Qx(n){const t=[];return Hr(n.fields,((e,i)=>{const a=new en([e]);if(xf(i)){const o=Qx(i.mapValue).fields;if(o.length===0)t.push(a);else for(const c of o)t.push(a.child(c))}else t.push(a)})),new Ln(t)}class ln{constructor(t,e,i,a,o,c,h){this.key=t,this.documentType=e,this.version=i,this.readTime=a,this.createTime=o,this.data=c,this.documentState=h}static newInvalidDocument(t){return new ln(t,0,Ct.min(),Ct.min(),Ct.min(),Cn.empty(),0)}static newFoundDocument(t,e,i,a){return new ln(t,1,e,Ct.min(),i,a,0)}static newNoDocument(t,e){return new ln(t,2,e,Ct.min(),Ct.min(),Cn.empty(),0)}static newUnknownDocument(t,e){return new ln(t,3,e,Ct.min(),Ct.min(),Cn.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Ct.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Cn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ct.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof ln&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Bf{constructor(t,e){this.position=t,this.inclusive=e}}function kT(n,t,e){let i=0;for(let a=0;a<n.position.length;a++){const o=t[a],c=n.position[a];if(o.field.isKeyField()?i=vt.comparator(vt.fromName(c.referenceValue),e.key):i=Jo(c,e.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function DT(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!rs(n.position[e],t.position[e]))return!1;return!0}class tu{constructor(t,e="asc"){this.field=t,this.dir=e}}function ID(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class Xx{}class Ve extends Xx{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,i):new DD(t,e,i):e==="array-contains"?new OD(t,i):e==="in"?new zD(t,i):e==="not-in"?new VD(t,i):e==="array-contains-any"?new PD(t,i):new Ve(t,e,i)}static createKeyFieldInFilter(t,e,i){return e==="in"?new ND(t,i):new MD(t,i)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Jo(e,this.value)):e!==null&&Pr(this.value)===Pr(e)&&this.matchesComparison(Jo(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return St(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Si extends Xx{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new Si(t,e)}matches(t){return Wx(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Wx(n){return n.op==="and"}function Zx(n){return kD(n)&&Wx(n)}function kD(n){for(const t of n.filters)if(t instanceof Si)return!1;return!0}function Ep(n){if(n instanceof Ve)return n.field.canonicalString()+n.op.toString()+tl(n.value);if(Zx(n))return n.filters.map((t=>Ep(t))).join(",");{const t=n.filters.map((e=>Ep(e))).join(",");return`${n.op}(${t})`}}function Jx(n,t){return n instanceof Ve?(function(i,a){return a instanceof Ve&&i.op===a.op&&i.field.isEqual(a.field)&&rs(i.value,a.value)})(n,t):n instanceof Si?(function(i,a){return a instanceof Si&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((o,c,h)=>o&&Jx(c,a.filters[h])),!0):!1})(n,t):void St(19439)}function tS(n){return n instanceof Ve?(function(e){return`${e.field.canonicalString()} ${e.op} ${tl(e.value)}`})(n):n instanceof Si?(function(e){return e.op.toString()+" {"+e.getFilters().map(tS).join(" ,")+"}"})(n):"Filter"}class DD extends Ve{constructor(t,e,i){super(t,e,i),this.key=vt.fromName(i.referenceValue)}matches(t){const e=vt.comparator(t.key,this.key);return this.matchesComparison(e)}}class ND extends Ve{constructor(t,e){super(t,"in",e),this.keys=eS("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class MD extends Ve{constructor(t,e){super(t,"not-in",e),this.keys=eS("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function eS(n,t){return(t.arrayValue?.values||[]).map((e=>vt.fromName(e.referenceValue)))}class OD extends Ve{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return hy(e)&&Jc(e.arrayValue,this.value)}}class zD extends Ve{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Jc(this.value.arrayValue,e)}}class VD extends Ve{constructor(t,e){super(t,"not-in",e)}matches(t){if(Jc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Jc(this.value.arrayValue,e)}}class PD extends Ve{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!hy(e)||!e.arrayValue.values)&&e.arrayValue.values.some((i=>Jc(this.value.arrayValue,i)))}}class LD{constructor(t,e=null,i=[],a=[],o=null,c=null,h=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=a,this.limit=o,this.startAt=c,this.endAt=h,this.Te=null}}function NT(n,t=null,e=[],i=[],a=null,o=null,c=null){return new LD(n,t,e,i,a,o,c)}function fy(n){const t=It(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((i=>Ep(i))).join(","),e+="|ob:",e+=t.orderBy.map((i=>(function(o){return o.field.canonicalString()+o.dir})(i))).join(","),cd(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((i=>tl(i))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((i=>tl(i))).join(",")),t.Te=e}return t.Te}function dy(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!ID(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!Jx(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!DT(n.startAt,t.startAt)&&DT(n.endAt,t.endAt)}function xp(n){return vt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class gl{constructor(t,e=null,i=[],a=[],o=null,c="F",h=null,f=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=a,this.limit=o,this.limitType=c,this.startAt=h,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function jD(n,t,e,i,a,o,c,h){return new gl(n,t,e,i,a,o,c,h)}function gy(n){return new gl(n)}function MT(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function nS(n){return n.collectionGroup!==null}function Uc(n){const t=It(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const o of t.explicitOrderBy)t.Ie.push(o),e.add(o.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new He(en.comparator);return c.filters.forEach((f=>{f.getFlattenedFilters().forEach((g=>{g.isInequality()&&(h=h.add(g.field))}))})),h})(t).forEach((o=>{e.has(o.canonicalString())||o.isKeyField()||t.Ie.push(new tu(o,i))})),e.has(en.keyField().canonicalString())||t.Ie.push(new tu(en.keyField(),i))}return t.Ie}function ts(n){const t=It(n);return t.Ee||(t.Ee=UD(t,Uc(n))),t.Ee}function UD(n,t){if(n.limitType==="F")return NT(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((a=>{const o=a.dir==="desc"?"asc":"desc";return new tu(a.field,o)}));const e=n.endAt?new Bf(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Bf(n.startAt.position,n.startAt.inclusive):null;return NT(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}function Sp(n,t){const e=n.filters.concat([t]);return new gl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function wp(n,t,e){return new gl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function hd(n,t){return dy(ts(n),ts(t))&&n.limitType===t.limitType}function iS(n){return`${fy(ts(n))}|lt:${n.limitType}`}function Lo(n){return`Query(target=${(function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map((a=>tS(a))).join(", ")}]`),cd(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>tl(a))).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>tl(a))).join(",")),`Target(${i})`})(ts(n))}; limitType=${n.limitType})`}function fd(n,t){return t.isFoundDocument()&&(function(i,a){const o=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):vt.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)})(n,t)&&(function(i,a){for(const o of Uc(i))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0})(n,t)&&(function(i,a){for(const o of i.filters)if(!o.matches(a))return!1;return!0})(n,t)&&(function(i,a){return!(i.startAt&&!(function(c,h,f){const g=kT(c,h,f);return c.inclusive?g<=0:g<0})(i.startAt,Uc(i),a)||i.endAt&&!(function(c,h,f){const g=kT(c,h,f);return c.inclusive?g>=0:g>0})(i.endAt,Uc(i),a))})(n,t)}function BD(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function sS(n){return(t,e)=>{let i=!1;for(const a of Uc(n)){const o=HD(a,t,e);if(o!==0)return o;i=i||a.field.isKeyField()}return 0}}function HD(n,t,e){const i=n.field.isKeyField()?vt.comparator(t.key,e.key):(function(o,c,h){const f=c.data.field(o),g=h.data.field(o);return f!==null&&g!==null?Jo(f,g):St(42886)})(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return St(19790,{direction:n.dir})}}class Ba{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(const[a,o]of i)if(this.equalsFn(a,t))return o}}has(t){return this.get(t)!==void 0}set(t,e){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],t))return void(a[o]=[t,e]);a.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],t))return i.length===1?delete this.inner[e]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(t){Hr(this.inner,((e,i)=>{for(const[a,o]of i)t(a,o)}))}isEmpty(){return Bx(this.inner)}size(){return this.innerSize}}const FD=new me(vt.comparator);function Os(){return FD}const rS=new me(vt.comparator);function Dc(...n){let t=rS;for(const e of n)t=t.insert(e.key,e);return t}function aS(n){let t=rS;return n.forEach(((e,i)=>t=t.insert(e,i.overlayedDocument))),t}function Ra(){return Bc()}function oS(){return Bc()}function Bc(){return new Ba((n=>n.toString()),((n,t)=>n.isEqual(t)))}const qD=new me(vt.comparator),GD=new He(vt.comparator);function Ut(...n){let t=GD;for(const e of n)t=t.add(e);return t}const $D=new He(jt);function YD(){return $D}function my(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lf(t)?"-0":t}}function lS(n){return{integerValue:""+n}}function KD(n,t){return TD(t)?lS(t):my(n,t)}class dd{constructor(){this._=void 0}}function QD(n,t,e){return n instanceof eu?(function(a,o){const c={fields:{[qx]:{stringValue:Fx},[$x]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&uy(o)&&(o=ud(o)),o&&(c.fields[Gx]=o),{mapValue:c}})(e,t):n instanceof nu?uS(n,t):n instanceof iu?hS(n,t):(function(a,o){const c=cS(a,o),h=OT(c)+OT(a.Ae);return Tp(c)&&Tp(a.Ae)?lS(h):my(a.serializer,h)})(n,t)}function XD(n,t,e){return n instanceof nu?uS(n,t):n instanceof iu?hS(n,t):e}function cS(n,t){return n instanceof Hf?(function(i){return Tp(i)||(function(o){return!!o&&"doubleValue"in o})(i)})(t)?t:{integerValue:0}:null}class eu extends dd{}class nu extends dd{constructor(t){super(),this.elements=t}}function uS(n,t){const e=fS(t);for(const i of n.elements)e.some((a=>rs(a,i)))||e.push(i);return{arrayValue:{values:e}}}class iu extends dd{constructor(t){super(),this.elements=t}}function hS(n,t){let e=fS(t);for(const i of n.elements)e=e.filter((a=>!rs(a,i)));return{arrayValue:{values:e}}}class Hf extends dd{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function OT(n){return xe(n.integerValue||n.doubleValue)}function fS(n){return hy(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class WD{constructor(t,e){this.field=t,this.transform=e}}function ZD(n,t){return n.field.isEqual(t.field)&&(function(i,a){return i instanceof nu&&a instanceof nu||i instanceof iu&&a instanceof iu?Zo(i.elements,a.elements,rs):i instanceof Hf&&a instanceof Hf?rs(i.Ae,a.Ae):i instanceof eu&&a instanceof eu})(n.transform,t.transform)}class JD{constructor(t,e){this.version=t,this.transformResults=e}}class si{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new si}static exists(t){return new si(void 0,t)}static updateTime(t){return new si(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Sf(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class gd{}function dS(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new py(n.key,si.none()):new pu(n.key,n.data,si.none());{const e=n.data,i=Cn.empty();let a=new He(en.comparator);for(let o of t.fields)if(!a.has(o)){let c=e.field(o);c===null&&o.length>1&&(o=o.popLast(),c=e.field(o)),c===null?i.delete(o):i.set(o,c),a=a.add(o)}return new Fr(n.key,i,new Ln(a.toArray()),si.none())}}function tN(n,t,e){n instanceof pu?(function(a,o,c){const h=a.value.clone(),f=VT(a.fieldTransforms,o,c.transformResults);h.setAll(f),o.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(n,t,e):n instanceof Fr?(function(a,o,c){if(!Sf(a.precondition,o))return void o.convertToUnknownDocument(c.version);const h=VT(a.fieldTransforms,o,c.transformResults),f=o.data;f.setAll(gS(a)),f.setAll(h),o.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(n,t,e):(function(a,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,e)}function Hc(n,t,e,i){return n instanceof pu?(function(o,c,h,f){if(!Sf(o.precondition,c))return h;const g=o.value.clone(),y=PT(o.fieldTransforms,f,c);return g.setAll(y),c.convertToFoundDocument(c.version,g).setHasLocalMutations(),null})(n,t,e,i):n instanceof Fr?(function(o,c,h,f){if(!Sf(o.precondition,c))return h;const g=PT(o.fieldTransforms,f,c),y=c.data;return y.setAll(gS(o)),y.setAll(g),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((b=>b.field)))})(n,t,e,i):(function(o,c,h){return Sf(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(n,t,e)}function eN(n,t){let e=null;for(const i of n.fieldTransforms){const a=t.data.field(i.field),o=cS(i.transform,a||null);o!=null&&(e===null&&(e=Cn.empty()),e.set(i.field,o))}return e||null}function zT(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&Zo(i,a,((o,c)=>ZD(o,c)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class pu extends gd{constructor(t,e,i,a=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Fr extends gd{constructor(t,e,i,a,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function gS(n){const t=new Map;return n.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}})),t}function VT(n,t,e){const i=new Map;Qt(n.length===e.length,32656,{Re:e.length,Ve:n.length});for(let a=0;a<e.length;a++){const o=n[a],c=o.transform,h=t.data.field(o.field);i.set(o.field,XD(c,h,e[a]))}return i}function PT(n,t,e){const i=new Map;for(const a of n){const o=a.transform,c=e.data.field(a.field);i.set(a.field,QD(o,c,t))}return i}class py extends gd{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class nN extends gd{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class iN{constructor(t,e,i,a){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(t.key)&&tN(o,t,i[a])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=Hc(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=Hc(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=oS();return this.mutations.forEach((a=>{const o=t.get(a.key),c=o.overlayedDocument;let h=this.applyToLocalView(c,o.mutatedFields);h=e.has(a.key)?null:h;const f=dS(c,h);f!==null&&i.set(a.key,f),c.isValidDocument()||c.convertToNoDocument(Ct.min())})),i}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),Ut())}isEqual(t){return this.batchId===t.batchId&&Zo(this.mutations,t.mutations,((e,i)=>zT(e,i)))&&Zo(this.baseMutations,t.baseMutations,((e,i)=>zT(e,i)))}}class yy{constructor(t,e,i,a){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=a}static from(t,e,i){Qt(t.mutations.length===i.length,58842,{me:t.mutations.length,fe:i.length});let a=(function(){return qD})();const o=t.mutations;for(let c=0;c<o.length;c++)a=a.insert(o[c].key,i[c].version);return new yy(t,e,i,a)}}class sN{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class rN{constructor(t,e){this.count=t,this.unchangedNames=e}}var ze,Ft;function aN(n){switch(n){case rt.OK:return St(64938);case rt.CANCELLED:case rt.UNKNOWN:case rt.DEADLINE_EXCEEDED:case rt.RESOURCE_EXHAUSTED:case rt.INTERNAL:case rt.UNAVAILABLE:case rt.UNAUTHENTICATED:return!1;case rt.INVALID_ARGUMENT:case rt.NOT_FOUND:case rt.ALREADY_EXISTS:case rt.PERMISSION_DENIED:case rt.FAILED_PRECONDITION:case rt.ABORTED:case rt.OUT_OF_RANGE:case rt.UNIMPLEMENTED:case rt.DATA_LOSS:return!0;default:return St(15467,{code:n})}}function mS(n){if(n===void 0)return Ms("GRPC error has no .code"),rt.UNKNOWN;switch(n){case ze.OK:return rt.OK;case ze.CANCELLED:return rt.CANCELLED;case ze.UNKNOWN:return rt.UNKNOWN;case ze.DEADLINE_EXCEEDED:return rt.DEADLINE_EXCEEDED;case ze.RESOURCE_EXHAUSTED:return rt.RESOURCE_EXHAUSTED;case ze.INTERNAL:return rt.INTERNAL;case ze.UNAVAILABLE:return rt.UNAVAILABLE;case ze.UNAUTHENTICATED:return rt.UNAUTHENTICATED;case ze.INVALID_ARGUMENT:return rt.INVALID_ARGUMENT;case ze.NOT_FOUND:return rt.NOT_FOUND;case ze.ALREADY_EXISTS:return rt.ALREADY_EXISTS;case ze.PERMISSION_DENIED:return rt.PERMISSION_DENIED;case ze.FAILED_PRECONDITION:return rt.FAILED_PRECONDITION;case ze.ABORTED:return rt.ABORTED;case ze.OUT_OF_RANGE:return rt.OUT_OF_RANGE;case ze.UNIMPLEMENTED:return rt.UNIMPLEMENTED;case ze.DATA_LOSS:return rt.DATA_LOSS;default:return St(39323,{code:n})}}(Ft=ze||(ze={}))[Ft.OK=0]="OK",Ft[Ft.CANCELLED=1]="CANCELLED",Ft[Ft.UNKNOWN=2]="UNKNOWN",Ft[Ft.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ft[Ft.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ft[Ft.NOT_FOUND=5]="NOT_FOUND",Ft[Ft.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ft[Ft.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ft[Ft.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ft[Ft.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ft[Ft.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ft[Ft.ABORTED=10]="ABORTED",Ft[Ft.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ft[Ft.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ft[Ft.INTERNAL=13]="INTERNAL",Ft[Ft.UNAVAILABLE=14]="UNAVAILABLE",Ft[Ft.DATA_LOSS=15]="DATA_LOSS";function oN(){return new TextEncoder}const lN=new kr([4294967295,4294967295],0);function LT(n){const t=oN().encode(n),e=new kx;return e.update(t),new Uint8Array(e.digest())}function jT(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),a=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new kr([e,i],0),new kr([a,o],0)]}class _y{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new Nc(`Invalid padding: ${e}`);if(i<0)throw new Nc(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new Nc(`Invalid hash count: ${i}`);if(t.length===0&&e!==0)throw new Nc(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=kr.fromNumber(this.ge)}ye(t,e,i){let a=t.add(e.multiply(kr.fromNumber(i)));return a.compare(lN)===1&&(a=new kr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=LT(t),[i,a]=jT(e);for(let o=0;o<this.hashCount;o++){const c=this.ye(i,a,o);if(!this.we(c))return!1}return!0}static create(t,e,i){const a=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),c=new _y(o,a,e);return i.forEach((h=>c.insert(h))),c}insert(t){if(this.ge===0)return;const e=LT(t),[i,a]=jT(e);for(let o=0;o<this.hashCount;o++){const c=this.ye(i,a,o);this.Se(c)}}Se(t){const e=Math.floor(t/8),i=t%8;this.bitmap[e]|=1<<i}}class Nc extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class md{constructor(t,e,i,a,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const a=new Map;return a.set(t,yu.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new md(Ct.min(),a,new me(jt),Os(),Ut())}}class yu{constructor(t,e,i,a,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new yu(i,e,Ut(),Ut(),Ut())}}class wf{constructor(t,e,i,a){this.be=t,this.removedTargetIds=e,this.key=i,this.De=a}}class pS{constructor(t,e){this.targetId=t,this.Ce=e}}class yS{constructor(t,e,i=nn.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=a}}class UT{constructor(){this.ve=0,this.Fe=BT(),this.Me=nn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ut(),e=Ut(),i=Ut();return this.Fe.forEach(((a,o)=>{switch(o){case 0:t=t.add(a);break;case 2:e=e.add(a);break;case 1:i=i.add(a);break;default:St(38017,{changeType:o})}})),new yu(this.Me,this.xe,t,e,i)}qe(){this.Oe=!1,this.Fe=BT()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Qt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class cN{constructor(t){this.Ge=t,this.ze=new Map,this.je=Os(),this.Je=ef(),this.He=ef(),this.Ye=new me(jt)}Ze(t){for(const e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const i=this.nt(e);switch(t.state){case 0:this.rt(e)&&i.Le(t.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(t.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(i.We(),i.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),i.Le(t.resumeToken));break;default:St(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((i,a)=>{this.rt(a)&&e(a)}))}st(t){const e=t.targetId,i=t.Ce.count,a=this.ot(e);if(a){const o=a.target;if(xp(o))if(i===0){const c=new vt(o.path);this.et(e,c,ln.newNoDocument(c,Ct.min()))}else Qt(i===1,20013,{expectedCount:i});else{const c=this._t(e);if(c!==i){const h=this.ut(t),f=h?this.ct(h,t,c):1;if(f!==0){this.it(e);const g=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,g)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:o=0}=e;let c,h;try{c=Vr(i).toUint8Array()}catch(f){if(f instanceof Hx)return Wo("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new _y(c,a,o)}catch(f){return Wo(f instanceof Nc?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.ge===0?null:h}ct(t,e,i){return e.Ce.count===i-this.Pt(t,e.targetId)?0:2}Pt(t,e){const i=this.Ge.getRemoteKeysForTarget(e);let a=0;return i.forEach((o=>{const c=this.Ge.ht(),h=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;t.mightContain(h)||(this.et(e,o,null),a++)})),a}Tt(t){const e=new Map;this.ze.forEach(((o,c)=>{const h=this.ot(c);if(h){if(o.current&&xp(h.target)){const f=new vt(h.target.path);this.It(f).has(c)||this.Et(c,f)||this.et(c,f,ln.newNoDocument(f,t))}o.Be&&(e.set(c,o.ke()),o.qe())}}));let i=Ut();this.He.forEach(((o,c)=>{let h=!0;c.forEachWhile((f=>{const g=this.ot(f);return!g||g.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(i=i.add(o))})),this.je.forEach(((o,c)=>c.setReadTime(t)));const a=new md(t,e,this.Ye,this.je,i);return this.je=Os(),this.Je=ef(),this.He=ef(),this.Ye=new me(jt),a}Xe(t,e){if(!this.rt(t))return;const i=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,i),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,i){if(!this.rt(t))return;const a=this.nt(t);this.Et(t,e)?a.Qe(e,1):a.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),i&&(this.je=this.je.insert(e,i))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new UT,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new He(jt),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new He(jt),this.Je=this.Je.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||pt("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new UT),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function ef(){return new me(vt.comparator)}function BT(){return new me(vt.comparator)}const uN={asc:"ASCENDING",desc:"DESCENDING"},hN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},fN={and:"AND",or:"OR"};class dN{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function Ap(n,t){return n.useProto3Json||cd(t)?t:{value:t}}function Ff(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function _S(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function gN(n,t){return Ff(n,t.toTimestamp())}function es(n){return Qt(!!n,49232),Ct.fromTimestamp((function(e){const i=zr(e);return new he(i.seconds,i.nanos)})(n))}function by(n,t){return Cp(n,t).canonicalString()}function Cp(n,t){const e=(function(a){return new re(["projects",a.projectId,"databases",a.database])})(n).child("documents");return t===void 0?e:e.child(t)}function bS(n){const t=re.fromString(n);return Qt(SS(t),10190,{key:t.toString()}),t}function Rp(n,t){return by(n.databaseId,t.path)}function Gm(n,t){const e=bS(t);if(e.get(1)!==n.databaseId.projectId)throw new mt(rt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new mt(rt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new vt(TS(e))}function vS(n,t){return by(n.databaseId,t)}function mN(n){const t=bS(n);return t.length===4?re.emptyPath():TS(t)}function Ip(n){return new re(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function TS(n){return Qt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function HT(n,t,e){return{name:Rp(n,t),fields:e.value.mapValue.fields}}function pN(n,t){let e;if("targetChange"in t){t.targetChange;const i=(function(g){return g==="NO_CHANGE"?0:g==="ADD"?1:g==="REMOVE"?2:g==="CURRENT"?3:g==="RESET"?4:St(39313,{state:g})})(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],o=(function(g,y){return g.useProto3Json?(Qt(y===void 0||typeof y=="string",58123),nn.fromBase64String(y||"")):(Qt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),nn.fromUint8Array(y||new Uint8Array))})(n,t.targetChange.resumeToken),c=t.targetChange.cause,h=c&&(function(g){const y=g.code===void 0?rt.UNKNOWN:mS(g.code);return new mt(y,g.message||"")})(c);e=new yS(i,a,o,h||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const a=Gm(n,i.document.name),o=es(i.document.updateTime),c=i.document.createTime?es(i.document.createTime):Ct.min(),h=new Cn({mapValue:{fields:i.document.fields}}),f=ln.newFoundDocument(a,o,c,h),g=i.targetIds||[],y=i.removedTargetIds||[];e=new wf(g,y,f.key,f)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const a=Gm(n,i.document),o=i.readTime?es(i.readTime):Ct.min(),c=ln.newNoDocument(a,o),h=i.removedTargetIds||[];e=new wf([],h,c.key,c)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const a=Gm(n,i.document),o=i.removedTargetIds||[];e=new wf([],o,a,null)}else{if(!("filter"in t))return St(11601,{Rt:t});{t.filter;const i=t.filter;i.targetId;const{count:a=0,unchangedNames:o}=i,c=new rN(a,o),h=i.targetId;e=new pS(h,c)}}return e}function yN(n,t){let e;if(t instanceof pu)e={update:HT(n,t.key,t.value)};else if(t instanceof py)e={delete:Rp(n,t.key)};else if(t instanceof Fr)e={update:HT(n,t.key,t.data),updateMask:AN(t.fieldMask)};else{if(!(t instanceof nN))return St(16599,{Vt:t.type});e={verify:Rp(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((i=>(function(o,c){const h=c.transform;if(h instanceof eu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof nu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof iu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Hf)return{fieldPath:c.field.canonicalString(),increment:h.Ae};throw St(20930,{transform:c.transform})})(0,i)))),t.precondition.isNone||(e.currentDocument=(function(a,o){return o.updateTime!==void 0?{updateTime:gN(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:St(27497)})(n,t.precondition)),e}function _N(n,t){return n&&n.length>0?(Qt(t!==void 0,14353),n.map((e=>(function(a,o){let c=a.updateTime?es(a.updateTime):es(o);return c.isEqual(Ct.min())&&(c=es(o)),new JD(c,a.transformResults||[])})(e,t)))):[]}function bN(n,t){return{documents:[vS(n,t.path)]}}function vN(n,t){const e={structuredQuery:{}},i=t.path;let a;t.collectionGroup!==null?(a=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=vS(n,a);const o=(function(g){if(g.length!==0)return xS(Si.create(g,"and"))})(t.filters);o&&(e.structuredQuery.where=o);const c=(function(g){if(g.length!==0)return g.map((y=>(function(T){return{field:jo(T.field),direction:xN(T.dir)}})(y)))})(t.orderBy);c&&(e.structuredQuery.orderBy=c);const h=Ap(n,t.limit);return h!==null&&(e.structuredQuery.limit=h),t.startAt&&(e.structuredQuery.startAt=(function(g){return{before:g.inclusive,values:g.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(g){return{before:!g.inclusive,values:g.position}})(t.endAt)),{ft:e,parent:a}}function TN(n){let t=mN(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let a=null;if(i>0){Qt(i===1,65062);const y=e.from[0];y.allDescendants?a=y.collectionId:t=t.child(y.collectionId)}let o=[];e.where&&(o=(function(b){const T=ES(b);return T instanceof Si&&Zx(T)?T.getFilters():[T]})(e.where));let c=[];e.orderBy&&(c=(function(b){return b.map((T=>(function(I){return new tu(Uo(I.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(I.direction))})(T)))})(e.orderBy));let h=null;e.limit&&(h=(function(b){let T;return T=typeof b=="object"?b.value:b,cd(T)?null:T})(e.limit));let f=null;e.startAt&&(f=(function(b){const T=!!b.before,x=b.values||[];return new Bf(x,T)})(e.startAt));let g=null;return e.endAt&&(g=(function(b){const T=!b.before,x=b.values||[];return new Bf(x,T)})(e.endAt)),jD(t,a,c,o,h,"F",f,g)}function EN(n,t){const e=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return St(28987,{purpose:a})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function ES(n){return n.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=Uo(e.unaryFilter.field);return Ve.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=Uo(e.unaryFilter.field);return Ve.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Uo(e.unaryFilter.field);return Ve.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Uo(e.unaryFilter.field);return Ve.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return St(61313);default:return St(60726)}})(n):n.fieldFilter!==void 0?(function(e){return Ve.create(Uo(e.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return St(58110);default:return St(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(e){return Si.create(e.compositeFilter.filters.map((i=>ES(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return St(1026)}})(e.compositeFilter.op))})(n):St(30097,{filter:n})}function xN(n){return uN[n]}function SN(n){return hN[n]}function wN(n){return fN[n]}function jo(n){return{fieldPath:n.canonicalString()}}function Uo(n){return en.fromServerFormat(n.fieldPath)}function xS(n){return n instanceof Ve?(function(e){if(e.op==="=="){if(IT(e.value))return{unaryFilter:{field:jo(e.field),op:"IS_NAN"}};if(RT(e.value))return{unaryFilter:{field:jo(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(IT(e.value))return{unaryFilter:{field:jo(e.field),op:"IS_NOT_NAN"}};if(RT(e.value))return{unaryFilter:{field:jo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:jo(e.field),op:SN(e.op),value:e.value}}})(n):n instanceof Si?(function(e){const i=e.getFilters().map((a=>xS(a)));return i.length===1?i[0]:{compositeFilter:{op:wN(e.op),filters:i}}})(n):St(54877,{filter:n})}function AN(n){const t=[];return n.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function SS(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}class xr{constructor(t,e,i,a,o=Ct.min(),c=Ct.min(),h=nn.EMPTY_BYTE_STRING,f=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(t){return new xr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new xr(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new xr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class CN{constructor(t){this.yt=t}}function RN(n){const t=TN({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?wp(t,t.limit,"L"):t}class IN{constructor(){this.Cn=new kN}addToCollectionParentIndex(t,e){return this.Cn.add(e),ot.resolve()}getCollectionParents(t,e){return ot.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return ot.resolve()}deleteFieldIndex(t,e){return ot.resolve()}deleteAllFieldIndexes(t){return ot.resolve()}createTargetIndexes(t,e){return ot.resolve()}getDocumentsMatchingTarget(t,e){return ot.resolve(null)}getIndexType(t,e){return ot.resolve(0)}getFieldIndexes(t,e){return ot.resolve([])}getNextCollectionGroupToUpdate(t){return ot.resolve(null)}getMinOffset(t,e){return ot.resolve(Or.min())}getMinOffsetFromCollectionGroup(t,e){return ot.resolve(Or.min())}updateCollectionGroup(t,e,i){return ot.resolve()}updateIndexEntries(t,e){return ot.resolve()}}class kN{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),a=this.index[e]||new He(re.comparator),o=!a.has(i);return this.index[e]=a.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),a=this.index[e];return a&&a.has(i)}getEntries(t){return(this.index[t]||new He(re.comparator)).toArray()}}const FT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},wS=41943040;class wn{static withCacheSize(t){return new wn(t,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}}wn.DEFAULT_COLLECTION_PERCENTILE=10,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wn.DEFAULT=new wn(wS,wn.DEFAULT_COLLECTION_PERCENTILE,wn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wn.DISABLED=new wn(-1,0,0);class el{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new el(0)}static cr(){return new el(-1)}}const qT="LruGarbageCollector",DN=1048576;function GT([n,t],[e,i]){const a=jt(n,e);return a===0?jt(t,i):a}class NN{constructor(t){this.Ir=t,this.buffer=new He(GT),this.Er=0}dr(){return++this.Er}Ar(t){const e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();GT(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class MN{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){pt(qT,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){dl(e)?pt(qT,"Ignoring IndexedDB error during garbage collection: ",e):await fl(e)}await this.Vr(3e5)}))}}class ON{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next((i=>Math.floor(e/100*i)))}nthSequenceNumber(t,e){if(e===0)return ot.resolve(ld.ce);const i=new NN(e);return this.mr.forEachTarget(t,(a=>i.Ar(a.sequenceNumber))).next((()=>this.mr.pr(t,(a=>i.Ar(a))))).next((()=>i.maxValue))}removeTargets(t,e,i){return this.mr.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(pt("LruGarbageCollector","Garbage collection skipped; disabled"),ot.resolve(FT)):this.getCacheSize(t).next((i=>i<this.params.cacheSizeCollectionThreshold?(pt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),FT):this.yr(t,e)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let i,a,o,c,h,f,g;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(pt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),a=this.params.maximumSequenceNumbersToCollect):a=b,c=Date.now(),this.nthSequenceNumber(t,a)))).next((b=>(i=b,h=Date.now(),this.removeTargets(t,i,e)))).next((b=>(o=b,f=Date.now(),this.removeOrphanedDocuments(t,i)))).next((b=>(g=Date.now(),Po()<=Lt.DEBUG&&pt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(h-c)+`ms
	Removed ${o} targets in `+(f-h)+`ms
	Removed ${b} documents in `+(g-f)+`ms
Total Duration: ${g-y}ms`),ot.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:b}))))}}function zN(n,t){return new ON(n,t)}class VN{constructor(){this.changes=new Ba((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,ln.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return i!==void 0?ot.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class PN{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class LN{constructor(t,e,i,a){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=a}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next((a=>(i=a,this.remoteDocumentCache.getEntry(t,e)))).next((a=>(i!==null&&Hc(i.mutation,a,Ln.empty(),he.now()),a)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.getLocalViewOfDocuments(t,i,Ut()).next((()=>i))))}getLocalViewOfDocuments(t,e,i=Ut()){const a=Ra();return this.populateOverlays(t,a,e).next((()=>this.computeViews(t,e,a,i).next((o=>{let c=Dc();return o.forEach(((h,f)=>{c=c.insert(h,f.overlayedDocument)})),c}))))}getOverlayedDocuments(t,e){const i=Ra();return this.populateOverlays(t,i,e).next((()=>this.computeViews(t,e,i,Ut())))}populateOverlays(t,e,i){const a=[];return i.forEach((o=>{e.has(o)||a.push(o)})),this.documentOverlayCache.getOverlays(t,a).next((o=>{o.forEach(((c,h)=>{e.set(c,h)}))}))}computeViews(t,e,i,a){let o=Os();const c=Bc(),h=(function(){return Bc()})();return e.forEach(((f,g)=>{const y=i.get(g.key);a.has(g.key)&&(y===void 0||y.mutation instanceof Fr)?o=o.insert(g.key,g):y!==void 0?(c.set(g.key,y.mutation.getFieldMask()),Hc(y.mutation,g,y.mutation.getFieldMask(),he.now())):c.set(g.key,Ln.empty())})),this.recalculateAndSaveOverlays(t,o).next((f=>(f.forEach(((g,y)=>c.set(g,y))),e.forEach(((g,y)=>h.set(g,new PN(y,c.get(g)??null)))),h)))}recalculateAndSaveOverlays(t,e){const i=Bc();let a=new me(((c,h)=>c-h)),o=Ut();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((c=>{for(const h of c)h.keys().forEach((f=>{const g=e.get(f);if(g===null)return;let y=i.get(f)||Ln.empty();y=h.applyToLocalView(g,y),i.set(f,y);const b=(a.get(h.batchId)||Ut()).add(f);a=a.insert(h.batchId,b)}))})).next((()=>{const c=[],h=a.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),g=f.key,y=f.value,b=oS();y.forEach((T=>{if(!o.has(T)){const x=dS(e.get(T),i.get(T));x!==null&&b.set(T,x),o=o.add(T)}})),c.push(this.documentOverlayCache.saveOverlays(t,g,b))}return ot.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.recalculateAndSaveOverlays(t,i)))}getDocumentsMatchingQuery(t,e,i,a){return(function(c){return vt.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):nS(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,a):this.getDocumentsMatchingCollectionQuery(t,e,i,a)}getNextDocuments(t,e,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,a).next((o=>{const c=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,a-o.size):ot.resolve(Ra());let h=Xc,f=o;return c.next((g=>ot.forEach(g,((y,b)=>(h<b.largestBatchId&&(h=b.largestBatchId),o.get(y)?ot.resolve():this.remoteDocumentCache.getEntry(t,y).next((T=>{f=f.insert(y,T)}))))).next((()=>this.populateOverlays(t,g,o))).next((()=>this.computeViews(t,f,g,Ut()))).next((y=>({batchId:h,changes:aS(y)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new vt(e)).next((i=>{let a=Dc();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(t,e,i,a){const o=e.collectionGroup;let c=Dc();return this.indexManager.getCollectionParents(t,o).next((h=>ot.forEach(h,(f=>{const g=(function(b,T){return new gl(T,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(e,f.child(o));return this.getDocumentsMatchingCollectionQuery(t,g,i,a).next((y=>{y.forEach(((b,T)=>{c=c.insert(b,T)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,e,i,a){let o;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next((c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,o,a)))).next((c=>{o.forEach(((f,g)=>{const y=g.getKey();c.get(y)===null&&(c=c.insert(y,ln.newInvalidDocument(y)))}));let h=Dc();return c.forEach(((f,g)=>{const y=o.get(f);y!==void 0&&Hc(y.mutation,g,Ln.empty(),he.now()),fd(e,g)&&(h=h.insert(f,g))})),h}))}}class jN{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return ot.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,(function(a){return{id:a.id,version:a.version,createTime:es(a.createTime)}})(e)),ot.resolve()}getNamedQuery(t,e){return ot.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,(function(a){return{name:a.name,query:RN(a.bundledQuery),readTime:es(a.readTime)}})(e)),ot.resolve()}}class UN{constructor(){this.overlays=new me(vt.comparator),this.qr=new Map}getOverlay(t,e){return ot.resolve(this.overlays.get(e))}getOverlays(t,e){const i=Ra();return ot.forEach(e,(a=>this.getOverlay(t,a).next((o=>{o!==null&&i.set(a,o)})))).next((()=>i))}saveOverlays(t,e,i){return i.forEach(((a,o)=>{this.St(t,e,o)})),ot.resolve()}removeOverlaysForBatchId(t,e,i){const a=this.qr.get(i);return a!==void 0&&(a.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(i)),ot.resolve()}getOverlaysForCollection(t,e,i){const a=Ra(),o=e.length+1,c=new vt(e.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const f=h.getNext().value,g=f.getKey();if(!e.isPrefixOf(g.path))break;g.path.length===o&&f.largestBatchId>i&&a.set(f.getKey(),f)}return ot.resolve(a)}getOverlaysForCollectionGroup(t,e,i,a){let o=new me(((g,y)=>g-y));const c=this.overlays.getIterator();for(;c.hasNext();){const g=c.getNext().value;if(g.getKey().getCollectionGroup()===e&&g.largestBatchId>i){let y=o.get(g.largestBatchId);y===null&&(y=Ra(),o=o.insert(g.largestBatchId,y)),y.set(g.getKey(),g)}}const h=Ra(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((g,y)=>h.set(g,y))),!(h.size()>=a)););return ot.resolve(h)}St(t,e,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(i.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new sN(e,i));let o=this.qr.get(e);o===void 0&&(o=Ut(),this.qr.set(e,o)),this.qr.set(e,o.add(i.key))}}class BN{constructor(){this.sessionToken=nn.EMPTY_BYTE_STRING}getSessionToken(t){return ot.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,ot.resolve()}}class vy{constructor(){this.Qr=new He($e.$r),this.Ur=new He($e.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){const i=new $e(t,e);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(t,e){t.forEach((i=>this.addReference(i,e)))}removeReference(t,e){this.Gr(new $e(t,e))}zr(t,e){t.forEach((i=>this.removeReference(i,e)))}jr(t){const e=new vt(new re([])),i=new $e(e,t),a=new $e(e,t+1),o=[];return this.Ur.forEachInRange([i,a],(c=>{this.Gr(c),o.push(c.key)})),o}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const e=new vt(new re([])),i=new $e(e,t),a=new $e(e,t+1);let o=Ut();return this.Ur.forEachInRange([i,a],(c=>{o=o.add(c.key)})),o}containsKey(t){const e=new $e(t,0),i=this.Qr.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}}class $e{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return vt.comparator(t.key,e.key)||jt(t.Yr,e.Yr)}static Kr(t,e){return jt(t.Yr,e.Yr)||vt.comparator(t.key,e.key)}}class HN{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new He($e.$r)}checkEmpty(t){return ot.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,a){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new iN(o,e,i,a);this.mutationQueue.push(c);for(const h of a)this.Zr=this.Zr.add(new $e(h.key,o)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return ot.resolve(c)}lookupMutationBatch(t,e){return ot.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,a=this.ei(i),o=a<0?0:a;return ot.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ot.resolve(this.mutationQueue.length===0?cy:this.tr-1)}getAllMutationBatches(t){return ot.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new $e(e,0),a=new $e(e,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([i,a],(c=>{const h=this.Xr(c.Yr);o.push(h)})),ot.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new He(jt);return e.forEach((a=>{const o=new $e(a,0),c=new $e(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,c],(h=>{i=i.add(h.Yr)}))})),ot.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,a=i.length+1;let o=i;vt.isDocumentKey(o)||(o=o.child(""));const c=new $e(new vt(o),0);let h=new He(jt);return this.Zr.forEachWhile((f=>{const g=f.key.path;return!!i.isPrefixOf(g)&&(g.length===a&&(h=h.add(f.Yr)),!0)}),c),ot.resolve(this.ti(h))}ti(t){const e=[];return t.forEach((i=>{const a=this.Xr(i);a!==null&&e.push(a)})),e}removeMutationBatch(t,e){Qt(this.ni(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return ot.forEach(e.mutations,(a=>{const o=new $e(a.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)})).next((()=>{this.Zr=i}))}ir(t){}containsKey(t,e){const i=new $e(e,0),a=this.Zr.firstAfterOrEqual(i);return ot.resolve(e.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,ot.resolve()}ni(t,e){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class FN{constructor(t){this.ri=t,this.docs=(function(){return new me(vt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,a=this.docs.get(i),o=a?a.size:0,c=this.ri(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return ot.resolve(i?i.document.mutableCopy():ln.newInvalidDocument(e))}getEntries(t,e){let i=Os();return e.forEach((a=>{const o=this.docs.get(a);i=i.insert(a,o?o.document.mutableCopy():ln.newInvalidDocument(a))})),ot.resolve(i)}getDocumentsMatchingQuery(t,e,i,a){let o=Os();const c=e.path,h=new vt(c.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:g,value:{document:y}}=f.getNext();if(!c.isPrefixOf(g.path))break;g.path.length>c.length+1||yD(pD(y),i)<=0||(a.has(y.key)||fd(e,y))&&(o=o.insert(y.key,y.mutableCopy()))}return ot.resolve(o)}getAllFromCollectionGroup(t,e,i,a){St(9500)}ii(t,e){return ot.forEach(this.docs,(i=>e(i)))}newChangeBuffer(t){return new qN(this)}getSize(t){return ot.resolve(this.size)}}class qN extends VN{constructor(t){super(),this.Nr=t}applyChanges(t){const e=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?e.push(this.Nr.addEntry(t,a)):this.Nr.removeEntry(i)})),ot.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}}class GN{constructor(t){this.persistence=t,this.si=new Ba((e=>fy(e)),dy),this.lastRemoteSnapshotVersion=Ct.min(),this.highestTargetId=0,this.oi=0,this._i=new vy,this.targetCount=0,this.ai=el.ur()}forEachTarget(t,e){return this.si.forEach(((i,a)=>e(a))),ot.resolve()}getLastRemoteSnapshotVersion(t){return ot.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ot.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),ot.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.oi&&(this.oi=e),ot.resolve()}Pr(t){this.si.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ai=new el(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,ot.resolve()}updateTargetData(t,e){return this.Pr(e),ot.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,ot.resolve()}removeTargets(t,e,i){let a=0;const o=[];return this.si.forEach(((c,h)=>{h.sequenceNumber<=e&&i.get(h.targetId)===null&&(this.si.delete(c),o.push(this.removeMatchingKeysForTargetId(t,h.targetId)),a++)})),ot.waitFor(o).next((()=>a))}getTargetCount(t){return ot.resolve(this.targetCount)}getTargetData(t,e){const i=this.si.get(e)||null;return ot.resolve(i)}addMatchingKeys(t,e,i){return this._i.Wr(e,i),ot.resolve()}removeMatchingKeys(t,e,i){this._i.zr(e,i);const a=this.persistence.referenceDelegate,o=[];return a&&e.forEach((c=>{o.push(a.markPotentiallyOrphaned(t,c))})),ot.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),ot.resolve()}getMatchingKeysForTargetId(t,e){const i=this._i.Hr(e);return ot.resolve(i)}containsKey(t,e){return ot.resolve(this._i.containsKey(e))}}class AS{constructor(t,e){this.ui={},this.overlays={},this.ci=new ld(0),this.li=!1,this.li=!0,this.hi=new BN,this.referenceDelegate=t(this),this.Pi=new GN(this),this.indexManager=new IN,this.remoteDocumentCache=(function(a){return new FN(a)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new CN(e),this.Ii=new jN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new UN,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.ui[t.toKey()];return i||(i=new HN(e,this.referenceDelegate),this.ui[t.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,i){pt("MemoryPersistence","Starting transaction:",t);const a=new $N(this.ci.next());return this.referenceDelegate.Ei(),i(a).next((o=>this.referenceDelegate.di(a).next((()=>o)))).toPromise().then((o=>(a.raiseOnCommittedEvent(),o)))}Ai(t,e){return ot.or(Object.values(this.ui).map((i=>()=>i.containsKey(t,e))))}}class $N extends bD{constructor(t){super(),this.currentSequenceNumber=t}}class Ty{constructor(t){this.persistence=t,this.Ri=new vy,this.Vi=null}static mi(t){return new Ty(t)}get fi(){if(this.Vi)return this.Vi;throw St(60996)}addReference(t,e,i){return this.Ri.addReference(i,e),this.fi.delete(i.toString()),ot.resolve()}removeReference(t,e,i){return this.Ri.removeReference(i,e),this.fi.add(i.toString()),ot.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),ot.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach((a=>this.fi.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next((a=>{a.forEach((o=>this.fi.add(o.toString())))})).next((()=>i.removeTargetData(t,e)))}Ei(){this.Vi=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ot.forEach(this.fi,(i=>{const a=vt.fromPath(i);return this.gi(t,a).next((o=>{o||e.removeEntry(a,Ct.min())}))})).next((()=>(this.Vi=null,e.apply(t))))}updateLimboDocument(t,e){return this.gi(t,e).next((i=>{i?this.fi.delete(e.toString()):this.fi.add(e.toString())}))}Ti(t){return 0}gi(t,e){return ot.or([()=>ot.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}class qf{constructor(t,e){this.persistence=t,this.pi=new Ba((i=>ED(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=zN(this,e)}static mi(t,e){return new qf(t,e)}Ei(){}di(t){return ot.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){const e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((i=>e.next((a=>i+a))))}wr(t){let e=0;return this.pr(t,(i=>{e++})).next((()=>e))}pr(t,e){return ot.forEach(this.pi,((i,a)=>this.br(t,i,a).next((o=>o?ot.resolve():e(a)))))}removeTargets(t,e,i){return this.persistence.getTargetCache().removeTargets(t,e,i)}removeOrphanedDocuments(t,e){let i=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.ii(t,(c=>this.br(t,c,e).next((h=>{h||(i++,o.removeEntry(c,Ct.min()))})))).next((()=>o.apply(t))).next((()=>i))}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),ot.resolve()}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,e,i){return this.pi.set(i,t.currentSequenceNumber),ot.resolve()}removeReference(t,e,i){return this.pi.set(i,t.currentSequenceNumber),ot.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),ot.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=Ef(t.data.value)),e}br(t,e,i){return ot.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const a=this.pi.get(e);return ot.resolve(a!==void 0&&a>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Ey{constructor(t,e,i,a){this.targetId=t,this.fromCache=e,this.Es=i,this.ds=a}static As(t,e){let i=Ut(),a=Ut();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new Ey(t,e.fromCache,i,a)}}class YN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class KN{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return vC()?8:vD(fn())>0?6:4})()}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,i,a){const o={result:null};return this.ys(t,e).next((c=>{o.result=c})).next((()=>{if(!o.result)return this.ws(t,e,a,i).next((c=>{o.result=c}))})).next((()=>{if(o.result)return;const c=new YN;return this.Ss(t,e,c).next((h=>{if(o.result=h,this.Vs)return this.bs(t,e,c,h.size)}))})).next((()=>o.result))}bs(t,e,i,a){return i.documentReadCount<this.fs?(Po()<=Lt.DEBUG&&pt("QueryEngine","SDK will not create cache indexes for query:",Lo(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ot.resolve()):(Po()<=Lt.DEBUG&&pt("QueryEngine","Query:",Lo(e),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.gs*a?(Po()<=Lt.DEBUG&&pt("QueryEngine","The SDK decides to create cache indexes for query:",Lo(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ts(e))):ot.resolve())}ys(t,e){if(MT(e))return ot.resolve(null);let i=ts(e);return this.indexManager.getIndexType(t,i).next((a=>a===0?null:(e.limit!==null&&a===1&&(e=wp(e,null,"F"),i=ts(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next((o=>{const c=Ut(...o);return this.ps.getDocuments(t,c).next((h=>this.indexManager.getMinOffset(t,i).next((f=>{const g=this.Ds(e,h);return this.Cs(e,g,c,f.readTime)?this.ys(t,wp(e,null,"F")):this.vs(t,g,e,f)}))))})))))}ws(t,e,i,a){return MT(e)||a.isEqual(Ct.min())?ot.resolve(null):this.ps.getDocuments(t,i).next((o=>{const c=this.Ds(e,o);return this.Cs(e,c,i,a)?ot.resolve(null):(Po()<=Lt.DEBUG&&pt("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Lo(e)),this.vs(t,c,e,mD(a,Xc)).next((h=>h)))}))}Ds(t,e){let i=new He(sS(t));return e.forEach(((a,o)=>{fd(t,o)&&(i=i.add(o))})),i}Cs(t,e,i,a){if(t.limit===null)return!1;if(i.size!==e.size)return!0;const o=t.limitType==="F"?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}Ss(t,e,i){return Po()<=Lt.DEBUG&&pt("QueryEngine","Using full collection scan to execute query:",Lo(e)),this.ps.getDocumentsMatchingQuery(t,e,Or.min(),i)}vs(t,e,i,a){return this.ps.getDocumentsMatchingQuery(t,i,a).next((o=>(e.forEach((c=>{o=o.insert(c.key,c)})),o)))}}const xy="LocalStore",QN=3e8;class XN{constructor(t,e,i,a){this.persistence=t,this.Fs=e,this.serializer=a,this.Ms=new me(jt),this.xs=new Ba((o=>fy(o)),dy),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(i)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new LN(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.Ms)))}}function WN(n,t,e,i){return new XN(n,t,e,i)}async function CS(n,t){const e=It(n);return await e.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return e.mutationQueue.getAllMutationBatches(i).next((o=>(a=o,e.Bs(t),e.mutationQueue.getAllMutationBatches(i)))).next((o=>{const c=[],h=[];let f=Ut();for(const g of a){c.push(g.batchId);for(const y of g.mutations)f=f.add(y.key)}for(const g of o){h.push(g.batchId);for(const y of g.mutations)f=f.add(y.key)}return e.localDocuments.getDocuments(i,f).next((g=>({Ls:g,removedBatchIds:c,addedBatchIds:h})))}))}))}function ZN(n,t){const e=It(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const a=t.batch.keys(),o=e.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,f,g,y){const b=g.batch,T=b.keys();let x=ot.resolve();return T.forEach((I=>{x=x.next((()=>y.getEntry(f,I))).next((C=>{const k=g.docVersions.get(I);Qt(k!==null,48541),C.version.compareTo(k)<0&&(b.applyToRemoteDocument(C,g),C.isValidDocument()&&(C.setReadTime(g.commitVersion),y.addEntry(C)))}))})),x.next((()=>h.mutationQueue.removeMutationBatch(f,b)))})(e,i,t,o).next((()=>o.apply(i))).next((()=>e.mutationQueue.performConsistencyCheck(i))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(i,a,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(h){let f=Ut();for(let g=0;g<h.mutationResults.length;++g)h.mutationResults[g].transformResults.length>0&&(f=f.add(h.batch.mutations[g].key));return f})(t)))).next((()=>e.localDocuments.getDocuments(i,a)))}))}function RS(n){const t=It(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Pi.getLastRemoteSnapshotVersion(e)))}function JN(n,t){const e=It(n),i=t.snapshotVersion;let a=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const c=e.Ns.newChangeBuffer({trackRemovals:!0});a=e.Ms;const h=[];t.targetChanges.forEach(((y,b)=>{const T=a.get(b);if(!T)return;h.push(e.Pi.removeMatchingKeys(o,y.removedDocuments,b).next((()=>e.Pi.addMatchingKeys(o,y.addedDocuments,b))));let x=T.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(b)!==null?x=x.withResumeToken(nn.EMPTY_BYTE_STRING,Ct.min()).withLastLimboFreeSnapshotVersion(Ct.min()):y.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(y.resumeToken,i)),a=a.insert(b,x),(function(C,k,U){return C.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=QN?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0})(T,x,y)&&h.push(e.Pi.updateTargetData(o,x))}));let f=Os(),g=Ut();if(t.documentUpdates.forEach((y=>{t.resolvedLimboDocuments.has(y)&&h.push(e.persistence.referenceDelegate.updateLimboDocument(o,y))})),h.push(tM(o,c,t.documentUpdates).next((y=>{f=y.ks,g=y.qs}))),!i.isEqual(Ct.min())){const y=e.Pi.getLastRemoteSnapshotVersion(o).next((b=>e.Pi.setTargetsMetadata(o,o.currentSequenceNumber,i)));h.push(y)}return ot.waitFor(h).next((()=>c.apply(o))).next((()=>e.localDocuments.getLocalViewOfDocuments(o,f,g))).next((()=>f))})).then((o=>(e.Ms=a,o)))}function tM(n,t,e){let i=Ut(),a=Ut();return e.forEach((o=>i=i.add(o))),t.getEntries(n,i).next((o=>{let c=Os();return e.forEach(((h,f)=>{const g=o.get(h);f.isFoundDocument()!==g.isFoundDocument()&&(a=a.add(h)),f.isNoDocument()&&f.version.isEqual(Ct.min())?(t.removeEntry(h,f.readTime),c=c.insert(h,f)):!g.isValidDocument()||f.version.compareTo(g.version)>0||f.version.compareTo(g.version)===0&&g.hasPendingWrites?(t.addEntry(f),c=c.insert(h,f)):pt(xy,"Ignoring outdated watch update for ",h,". Current version:",g.version," Watch version:",f.version)})),{ks:c,qs:a}}))}function eM(n,t){const e=It(n);return e.persistence.runTransaction("Get next mutation batch","readonly",(i=>(t===void 0&&(t=cy),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t))))}function nM(n,t){const e=It(n);return e.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return e.Pi.getTargetData(i,t).next((o=>o?(a=o,ot.resolve(a)):e.Pi.allocateTargetId(i).next((c=>(a=new xr(t,c,"TargetPurposeListen",i.currentSequenceNumber),e.Pi.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=e.Ms.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(e.Ms=e.Ms.insert(i.targetId,i),e.xs.set(t,i.targetId)),i}))}async function kp(n,t,e){const i=It(n),a=i.Ms.get(t),o=e?"readwrite":"readwrite-primary";try{e||await i.persistence.runTransaction("Release target",o,(c=>i.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!dl(c))throw c;pt(xy,`Failed to update sequence numbers for target ${t}: ${c}`)}i.Ms=i.Ms.remove(t),i.xs.delete(a.target)}function $T(n,t,e){const i=It(n);let a=Ct.min(),o=Ut();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(f,g,y){const b=It(f),T=b.xs.get(y);return T!==void 0?ot.resolve(b.Ms.get(T)):b.Pi.getTargetData(g,y)})(i,c,ts(t)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(c,h.targetId).next((f=>{o=f}))})).next((()=>i.Fs.getDocumentsMatchingQuery(c,t,e?a:Ct.min(),e?o:Ut()))).next((h=>(iM(i,BD(t),h),{documents:h,Qs:o})))))}function iM(n,t,e){let i=n.Os.get(t)||Ct.min();e.forEach(((a,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)})),n.Os.set(t,i)}class YT{constructor(){this.activeTargetIds=YD()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class sM{constructor(){this.Mo=new YT,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,i){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new YT,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class rM{Oo(t){}shutdown(){}}const KT="ConnectivityMonitor";class QT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){pt(KT,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){pt(KT,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let nf=null;function Dp(){return nf===null?nf=(function(){return 268435456+Math.round(2147483648*Math.random())})():nf++,"0x"+nf.toString(16)}const $m="RestConnection",aM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class oM{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${i}/databases/${a}`,this.Wo=this.databaseId.database===jf?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Go(t,e,i,a,o){const c=Dp(),h=this.zo(t,e.toUriEncodedString());pt($m,`Sending RPC '${t}' ${c}:`,h,i);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,a,o);const{host:g}=new URL(h),y=ol(g);return this.Jo(t,h,f,i,y).then((b=>(pt($m,`Received RPC '${t}' ${c}: `,b),b)),(b=>{throw Wo($m,`RPC '${t}' ${c} failed with error: `,b,"url: ",h,"request:",i),b}))}Ho(t,e,i,a,o,c){return this.Go(t,e,i,a,o)}jo(t,e,i){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+hl})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((a,o)=>t[o]=a)),i&&i.headers.forEach(((a,o)=>t[o]=a))}zo(t,e){const i=aM[t];return`${this.Uo}/v1/${e}:${i}`}terminate(){}}class lM{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const rn="WebChannelConnection";class cM extends oM{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,i,a,o){const c=Dp();return new Promise(((h,f)=>{const g=new Dx;g.setWithCredentials(!0),g.listenOnce(Nx.COMPLETE,(()=>{try{switch(g.getLastErrorCode()){case Tf.NO_ERROR:const b=g.getResponseJson();pt(rn,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(b)),h(b);break;case Tf.TIMEOUT:pt(rn,`RPC '${t}' ${c} timed out`),f(new mt(rt.DEADLINE_EXCEEDED,"Request time out"));break;case Tf.HTTP_ERROR:const T=g.getStatus();if(pt(rn,`RPC '${t}' ${c} failed with status:`,T,"response text:",g.getResponseText()),T>0){let x=g.getResponseJson();Array.isArray(x)&&(x=x[0]);const I=x?.error;if(I&&I.status&&I.message){const C=(function(U){const W=U.toLowerCase().replace(/_/g,"-");return Object.values(rt).indexOf(W)>=0?W:rt.UNKNOWN})(I.status);f(new mt(C,I.message))}else f(new mt(rt.UNKNOWN,"Server responded with status "+g.getStatus()))}else f(new mt(rt.UNAVAILABLE,"Connection failed."));break;default:St(9055,{l_:t,streamId:c,h_:g.getLastErrorCode(),P_:g.getLastError()})}}finally{pt(rn,`RPC '${t}' ${c} completed.`)}}));const y=JSON.stringify(a);pt(rn,`RPC '${t}' ${c} sending request:`,a),g.send(e,"POST",y,i,15)}))}T_(t,e,i){const a=Dp(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=zx(),h=Ox(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},g=this.longPollingOptions.timeoutSeconds;g!==void 0&&(f.longPollingTimeout=Math.round(1e3*g)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,e,i),f.encodeInitMessageHeaders=!0;const y=o.join("");pt(rn,`Creating RPC '${t}' stream ${a}: ${y}`,f);const b=c.createWebChannel(y,f);this.I_(b);let T=!1,x=!1;const I=new lM({Yo:k=>{x?pt(rn,`Not sending because RPC '${t}' stream ${a} is closed:`,k):(T||(pt(rn,`Opening RPC '${t}' stream ${a} transport.`),b.open(),T=!0),pt(rn,`RPC '${t}' stream ${a} sending:`,k),b.send(k))},Zo:()=>b.close()}),C=(k,U,W)=>{k.listen(U,(Z=>{try{W(Z)}catch(nt){setTimeout((()=>{throw nt}),0)}}))};return C(b,kc.EventType.OPEN,(()=>{x||(pt(rn,`RPC '${t}' stream ${a} transport opened.`),I.o_())})),C(b,kc.EventType.CLOSE,(()=>{x||(x=!0,pt(rn,`RPC '${t}' stream ${a} transport closed`),I.a_(),this.E_(b))})),C(b,kc.EventType.ERROR,(k=>{x||(x=!0,Wo(rn,`RPC '${t}' stream ${a} transport errored. Name:`,k.name,"Message:",k.message),I.a_(new mt(rt.UNAVAILABLE,"The operation could not be completed")))})),C(b,kc.EventType.MESSAGE,(k=>{if(!x){const U=k.data[0];Qt(!!U,16349);const W=U,Z=W?.error||W[0]?.error;if(Z){pt(rn,`RPC '${t}' stream ${a} received error:`,Z);const nt=Z.status;let tt=(function(A){const N=ze[A];if(N!==void 0)return mS(N)})(nt),lt=Z.message;tt===void 0&&(tt=rt.INTERNAL,lt="Unknown error status: "+nt+" with message "+Z.message),x=!0,I.a_(new mt(tt,lt)),b.close()}else pt(rn,`RPC '${t}' stream ${a} received:`,U),I.u_(U)}})),C(h,Mx.STAT_EVENT,(k=>{k.stat===_p.PROXY?pt(rn,`RPC '${t}' stream ${a} detected buffering proxy`):k.stat===_p.NOPROXY&&pt(rn,`RPC '${t}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{I.__()}),0),I}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((e=>e===t))}}function Ym(){return typeof document<"u"?document:null}function pd(n){return new dN(n,!0)}class IS{constructor(t,e,i=1e3,a=1.5,o=6e4){this.Mi=t,this.timerId=e,this.d_=i,this.A_=a,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,e-i);a>0&&pt("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const XT="PersistentStream";class kS{constructor(t,e,i,a,o,c,h,f){this.Mi=t,this.S_=i,this.b_=a,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new IS(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===rt.RESOURCE_EXHAUSTED?(Ms(e.toString()),Ms("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===rt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.D_===e&&this.G_(i,a)}),(i=>{t((()=>{const a=new mt(rt.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)}))}))}G_(t,e){const i=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{i((()=>this.z_(a)))})),this.stream.onMessage((a=>{i((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return pt(XT,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget((()=>this.D_===t?e():(pt(XT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class uM extends kS{constructor(t,e,i,a,o,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,a,c),this.serializer=o}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=pN(this.serializer,t),i=(function(o){if(!("targetChange"in o))return Ct.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?Ct.min():c.readTime?es(c.readTime):Ct.min()})(t);return this.listener.H_(e,i)}Y_(t){const e={};e.database=Ip(this.serializer),e.addTarget=(function(o,c){let h;const f=c.target;if(h=xp(f)?{documents:bN(o,f)}:{query:vN(o,f).ft},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=_S(o,c.resumeToken);const g=Ap(o,c.expectedCount);g!==null&&(h.expectedCount=g)}else if(c.snapshotVersion.compareTo(Ct.min())>0){h.readTime=Ff(o,c.snapshotVersion.toTimestamp());const g=Ap(o,c.expectedCount);g!==null&&(h.expectedCount=g)}return h})(this.serializer,t);const i=EN(this.serializer,t);i&&(e.labels=i),this.q_(e)}Z_(t){const e={};e.database=Ip(this.serializer),e.removeTarget=t,this.q_(e)}}class hM extends kS{constructor(t,e,i,a,o,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,a,c),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}J_(t){return Qt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Qt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Qt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=_N(t.writeResults,t.commitTime),i=es(t.commitTime);return this.listener.na(i,e)}ra(){const t={};t.database=Ip(this.serializer),this.q_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((i=>yN(this.serializer,i)))};this.q_(e)}}class fM{}class dM extends fM{constructor(t,e,i,a){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new mt(rt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Go(t,Cp(e,i),a,o,c))).catch((o=>{throw o.name==="FirebaseError"?(o.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new mt(rt.UNKNOWN,o.toString())}))}Ho(t,e,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Ho(t,Cp(e,i),a,c,h,o))).catch((c=>{throw c.name==="FirebaseError"?(c.code===rt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new mt(rt.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class gM{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ms(e),this.aa=!1):pt("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const ja="RemoteStore";class mM{constructor(t,e,i,a,o){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((c=>{i.enqueueAndForget((async()=>{Ha(this)&&(pt(ja,"Restarting streams for network reachability change."),await(async function(f){const g=It(f);g.Ea.add(4),await _u(g),g.Ra.set("Unknown"),g.Ea.delete(4),await yd(g)})(this))}))})),this.Ra=new gM(i,a)}}async function yd(n){if(Ha(n))for(const t of n.da)await t(!0)}async function _u(n){for(const t of n.da)await t(!1)}function DS(n,t){const e=It(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),Cy(e)?Ay(e):ml(e).O_()&&wy(e,t))}function Sy(n,t){const e=It(n),i=ml(e);e.Ia.delete(t),i.O_()&&NS(e,t),e.Ia.size===0&&(i.O_()?i.L_():Ha(e)&&e.Ra.set("Unknown"))}function wy(n,t){if(n.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Ct.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}ml(n).Y_(t)}function NS(n,t){n.Va.Ue(t),ml(n).Z_(t)}function Ay(n){n.Va=new cN({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),ml(n).start(),n.Ra.ua()}function Cy(n){return Ha(n)&&!ml(n).x_()&&n.Ia.size>0}function Ha(n){return It(n).Ea.size===0}function MS(n){n.Va=void 0}async function pM(n){n.Ra.set("Online")}async function yM(n){n.Ia.forEach(((t,e)=>{wy(n,t)}))}async function _M(n,t){MS(n),Cy(n)?(n.Ra.ha(t),Ay(n)):n.Ra.set("Unknown")}async function bM(n,t,e){if(n.Ra.set("Online"),t instanceof yS&&t.state===2&&t.cause)try{await(async function(a,o){const c=o.cause;for(const h of o.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,c),a.Ia.delete(h),a.Va.removeTarget(h))})(n,t)}catch(i){pt(ja,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await Gf(n,i)}else if(t instanceof wf?n.Va.Ze(t):t instanceof pS?n.Va.st(t):n.Va.tt(t),!e.isEqual(Ct.min()))try{const i=await RS(n.localStore);e.compareTo(i)>=0&&await(function(o,c){const h=o.Va.Tt(c);return h.targetChanges.forEach(((f,g)=>{if(f.resumeToken.approximateByteSize()>0){const y=o.Ia.get(g);y&&o.Ia.set(g,y.withResumeToken(f.resumeToken,c))}})),h.targetMismatches.forEach(((f,g)=>{const y=o.Ia.get(f);if(!y)return;o.Ia.set(f,y.withResumeToken(nn.EMPTY_BYTE_STRING,y.snapshotVersion)),NS(o,f);const b=new xr(y.target,f,g,y.sequenceNumber);wy(o,b)})),o.remoteSyncer.applyRemoteEvent(h)})(n,e)}catch(i){pt(ja,"Failed to raise snapshot:",i),await Gf(n,i)}}async function Gf(n,t,e){if(!dl(t))throw t;n.Ea.add(1),await _u(n),n.Ra.set("Offline"),e||(e=()=>RS(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{pt(ja,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await yd(n)}))}function OS(n,t){return t().catch((e=>Gf(n,e,t)))}async function _d(n){const t=It(n),e=Lr(t);let i=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:cy;for(;vM(t);)try{const a=await eM(t.localStore,i);if(a===null){t.Ta.length===0&&e.L_();break}i=a.batchId,TM(t,a)}catch(a){await Gf(t,a)}zS(t)&&VS(t)}function vM(n){return Ha(n)&&n.Ta.length<10}function TM(n,t){n.Ta.push(t);const e=Lr(n);e.O_()&&e.X_&&e.ea(t.mutations)}function zS(n){return Ha(n)&&!Lr(n).x_()&&n.Ta.length>0}function VS(n){Lr(n).start()}async function EM(n){Lr(n).ra()}async function xM(n){const t=Lr(n);for(const e of n.Ta)t.ea(e.mutations)}async function SM(n,t,e){const i=n.Ta.shift(),a=yy.from(i,t,e);await OS(n,(()=>n.remoteSyncer.applySuccessfulWrite(a))),await _d(n)}async function wM(n,t){t&&Lr(n).X_&&await(async function(i,a){if((function(c){return aN(c)&&c!==rt.ABORTED})(a.code)){const o=i.Ta.shift();Lr(i).B_(),await OS(i,(()=>i.remoteSyncer.rejectFailedWrite(o.batchId,a))),await _d(i)}})(n,t),zS(n)&&VS(n)}async function WT(n,t){const e=It(n);e.asyncQueue.verifyOperationInProgress(),pt(ja,"RemoteStore received new credentials");const i=Ha(e);e.Ea.add(3),await _u(e),i&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await yd(e)}async function AM(n,t){const e=It(n);t?(e.Ea.delete(2),await yd(e)):t||(e.Ea.add(2),await _u(e),e.Ra.set("Unknown"))}function ml(n){return n.ma||(n.ma=(function(e,i,a){const o=It(e);return o.sa(),new uM(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(n.datastore,n.asyncQueue,{Xo:pM.bind(null,n),t_:yM.bind(null,n),r_:_M.bind(null,n),H_:bM.bind(null,n)}),n.da.push((async t=>{t?(n.ma.B_(),Cy(n)?Ay(n):n.Ra.set("Unknown")):(await n.ma.stop(),MS(n))}))),n.ma}function Lr(n){return n.fa||(n.fa=(function(e,i,a){const o=It(e);return o.sa(),new hM(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:EM.bind(null,n),r_:wM.bind(null,n),ta:xM.bind(null,n),na:SM.bind(null,n)}),n.da.push((async t=>{t?(n.fa.B_(),await _d(n)):(await n.fa.stop(),n.Ta.length>0&&(pt(ja,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class Ry{constructor(t,e,i,a,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=a,this.removalCallback=o,this.deferred=new Dr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,a,o){const c=Date.now()+i,h=new Ry(t,e,c,a,o);return h.start(i),h}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new mt(rt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Iy(n,t){if(Ms("AsyncQueue",`${t}: ${n}`),dl(n))return new mt(rt.UNAVAILABLE,`${t}: ${n}`);throw n}class $o{static emptySet(t){return new $o(t.comparator)}constructor(t){this.comparator=t?(e,i)=>t(e,i)||vt.comparator(e.key,i.key):(e,i)=>vt.comparator(e.key,i.key),this.keyedMap=Dc(),this.sortedSet=new me(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,i)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof $o)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const a=e.getNext().key,o=i.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const i=new $o;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class ZT{constructor(){this.ga=new me(vt.comparator)}track(t){const e=t.doc.key,i=this.ga.get(e);i?t.type!==0&&i.type===3?this.ga=this.ga.insert(e,t):t.type===3&&i.type!==1?this.ga=this.ga.insert(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.ga=this.ga.remove(e):t.type===1&&i.type===2?this.ga=this.ga.insert(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):St(63341,{Rt:t,pa:i}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,i)=>{t.push(i)})),t}}class nl{constructor(t,e,i,a,o,c,h,f,g){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=g}static fromInitialDocuments(t,e,i,a,o){const c=[];return e.forEach((h=>{c.push({type:0,doc:h})})),new nl(t,e,$o.emptySet(e),c,i,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&hd(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let a=0;a<e.length;a++)if(e[a].type!==i[a].type||!e[a].doc.isEqual(i[a].doc))return!1;return!0}}class CM{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class RM{constructor(){this.queries=JT(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,i){const a=It(e),o=a.queries;a.queries=JT(),o.forEach(((c,h)=>{for(const f of h.Sa)f.onError(i)}))})(this,new mt(rt.ABORTED,"Firestore shutting down"))}}function JT(){return new Ba((n=>iS(n)),hd)}async function PS(n,t){const e=It(n);let i=3;const a=t.query;let o=e.queries.get(a);o?!o.ba()&&t.Da()&&(i=2):(o=new CM,i=t.Da()?0:1);try{switch(i){case 0:o.wa=await e.onListen(a,!0);break;case 1:o.wa=await e.onListen(a,!1);break;case 2:await e.onFirstRemoteStoreListen(a)}}catch(c){const h=Iy(c,`Initialization of query '${Lo(t.query)}' failed`);return void t.onError(h)}e.queries.set(a,o),o.Sa.push(t),t.va(e.onlineState),o.wa&&t.Fa(o.wa)&&ky(e)}async function LS(n,t){const e=It(n),i=t.query;let a=3;const o=e.queries.get(i);if(o){const c=o.Sa.indexOf(t);c>=0&&(o.Sa.splice(c,1),o.Sa.length===0?a=t.Da()?0:1:!o.ba()&&t.Da()&&(a=2))}switch(a){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}}function IM(n,t){const e=It(n);let i=!1;for(const a of t){const o=a.query,c=e.queries.get(o);if(c){for(const h of c.Sa)h.Fa(a)&&(i=!0);c.wa=a}}i&&ky(e)}function kM(n,t,e){const i=It(n),a=i.queries.get(t);if(a)for(const o of a.Sa)o.onError(e);i.queries.delete(t)}function ky(n){n.Ca.forEach((t=>{t.next()}))}var Np,tE;(tE=Np||(Np={})).Ma="default",tE.Cache="cache";class jS{constructor(t,e,i){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(t){if(!this.options.includeMetadataChanges){const i=[];for(const a of t.docChanges)a.type!==3&&i.push(a);t=new nl(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const i=e!=="Offline";return(!this.options.qa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=nl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==Np.Cache}}class US{constructor(t){this.key=t}}class BS{constructor(t){this.key=t}}class DM{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ut(),this.mutatedKeys=Ut(),this.eu=sS(t),this.tu=new $o(this.eu)}get nu(){return this.Ya}ru(t,e){const i=e?e.iu:new ZT,a=e?e.tu:this.tu;let o=e?e.mutatedKeys:this.mutatedKeys,c=a,h=!1;const f=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,g=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal(((y,b)=>{const T=a.get(y),x=fd(this.query,b)?b:null,I=!!T&&this.mutatedKeys.has(T.key),C=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let k=!1;T&&x?T.data.isEqual(x.data)?I!==C&&(i.track({type:3,doc:x}),k=!0):this.su(T,x)||(i.track({type:2,doc:x}),k=!0,(f&&this.eu(x,f)>0||g&&this.eu(x,g)<0)&&(h=!0)):!T&&x?(i.track({type:0,doc:x}),k=!0):T&&!x&&(i.track({type:1,doc:T}),k=!0,(f||g)&&(h=!0)),k&&(x?(c=c.add(x),o=C?o.add(y):o.delete(y)):(c=c.delete(y),o=o.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),o=o.delete(y.key),i.track({type:1,doc:y})}return{tu:c,iu:i,Cs:h,mutatedKeys:o}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,a){const o=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((y,b)=>(function(x,I){const C=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return St(20277,{Rt:k})}};return C(x)-C(I)})(y.type,b.type)||this.eu(y.doc,b.doc))),this.ou(i),a=a??!1;const h=e&&!a?this._u():[],f=this.Xa.size===0&&this.current&&!a?1:0,g=f!==this.Za;return this.Za=f,c.length!==0||g?{snapshot:new nl(this.query,t.tu,o,c,t.mutatedKeys,f===0,g,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new ZT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Ya=this.Ya.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Ya=this.Ya.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ut(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const e=[];return t.forEach((i=>{this.Xa.has(i)||e.push(new BS(i))})),this.Xa.forEach((i=>{t.has(i)||e.push(new US(i))})),e}cu(t){this.Ya=t.Qs,this.Xa=Ut();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return nl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Dy="SyncEngine";class NM{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class MM{constructor(t){this.key=t,this.hu=!1}}class OM{constructor(t,e,i,a,o,c){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new Ba((h=>iS(h)),hd),this.Iu=new Map,this.Eu=new Set,this.du=new me(vt.comparator),this.Au=new Map,this.Ru=new vy,this.Vu={},this.mu=new Map,this.fu=el.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function zM(n,t,e=!0){const i=YS(n);let a;const o=i.Tu.get(t);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.lu()):a=await HS(i,t,e,!0),a}async function VM(n,t){const e=YS(n);await HS(e,t,!0,!1)}async function HS(n,t,e,i){const a=await nM(n.localStore,ts(t)),o=a.targetId,c=n.sharedClientState.addLocalQueryTarget(o,e);let h;return i&&(h=await PM(n,t,o,c==="current",a.resumeToken)),n.isPrimaryClient&&e&&DS(n.remoteStore,a),h}async function PM(n,t,e,i,a){n.pu=(b,T,x)=>(async function(C,k,U,W){let Z=k.view.ru(U);Z.Cs&&(Z=await $T(C.localStore,k.query,!1).then((({documents:D})=>k.view.ru(D,Z))));const nt=W&&W.targetChanges.get(k.targetId),tt=W&&W.targetMismatches.get(k.targetId)!=null,lt=k.view.applyChanges(Z,C.isPrimaryClient,nt,tt);return nE(C,k.targetId,lt.au),lt.snapshot})(n,b,T,x);const o=await $T(n.localStore,t,!0),c=new DM(t,o.Qs),h=c.ru(o.documents),f=yu.createSynthesizedTargetChangeForCurrentChange(e,i&&n.onlineState!=="Offline",a),g=c.applyChanges(h,n.isPrimaryClient,f);nE(n,e,g.au);const y=new NM(t,e,c);return n.Tu.set(t,y),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),g.snapshot}async function LM(n,t,e){const i=It(n),a=i.Tu.get(t),o=i.Iu.get(a.targetId);if(o.length>1)return i.Iu.set(a.targetId,o.filter((c=>!hd(c,t)))),void i.Tu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await kp(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),e&&Sy(i.remoteStore,a.targetId),Mp(i,a.targetId)})).catch(fl)):(Mp(i,a.targetId),await kp(i.localStore,a.targetId,!0))}async function jM(n,t){const e=It(n),i=e.Tu.get(t),a=e.Iu.get(i.targetId);e.isPrimaryClient&&a.length===1&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),Sy(e.remoteStore,i.targetId))}async function UM(n,t,e){const i=YM(n);try{const a=await(function(c,h){const f=It(c),g=he.now(),y=h.reduce(((x,I)=>x.add(I.key)),Ut());let b,T;return f.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let I=Os(),C=Ut();return f.Ns.getEntries(x,y).next((k=>{I=k,I.forEach(((U,W)=>{W.isValidDocument()||(C=C.add(U))}))})).next((()=>f.localDocuments.getOverlayedDocuments(x,I))).next((k=>{b=k;const U=[];for(const W of h){const Z=eN(W,b.get(W.key).overlayedDocument);Z!=null&&U.push(new Fr(W.key,Z,Qx(Z.value.mapValue),si.exists(!0)))}return f.mutationQueue.addMutationBatch(x,g,U,h)})).next((k=>{T=k;const U=k.applyToLocalDocumentSet(b,C);return f.documentOverlayCache.saveOverlays(x,k.batchId,U)}))})).then((()=>({batchId:T.batchId,changes:aS(b)})))})(i.localStore,t);i.sharedClientState.addPendingMutation(a.batchId),(function(c,h,f){let g=c.Vu[c.currentUser.toKey()];g||(g=new me(jt)),g=g.insert(h,f),c.Vu[c.currentUser.toKey()]=g})(i,a.batchId,e),await bu(i,a.changes),await _d(i.remoteStore)}catch(a){const o=Iy(a,"Failed to persist write");e.reject(o)}}async function FS(n,t){const e=It(n);try{const i=await JN(e.localStore,t);t.targetChanges.forEach(((a,o)=>{const c=e.Au.get(o);c&&(Qt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?Qt(c.hu,14607):a.removedDocuments.size>0&&(Qt(c.hu,42227),c.hu=!1))})),await bu(e,i,t)}catch(i){await fl(i)}}function eE(n,t,e){const i=It(n);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){const a=[];i.Tu.forEach(((o,c)=>{const h=c.view.va(t);h.snapshot&&a.push(h.snapshot)})),(function(c,h){const f=It(c);f.onlineState=h;let g=!1;f.queries.forEach(((y,b)=>{for(const T of b.Sa)T.va(h)&&(g=!0)})),g&&ky(f)})(i.eventManager,t),a.length&&i.Pu.H_(a),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function BM(n,t,e){const i=It(n);i.sharedClientState.updateQueryState(t,"rejected",e);const a=i.Au.get(t),o=a&&a.key;if(o){let c=new me(vt.comparator);c=c.insert(o,ln.newNoDocument(o,Ct.min()));const h=Ut().add(o),f=new md(Ct.min(),new Map,new me(jt),c,h);await FS(i,f),i.du=i.du.remove(o),i.Au.delete(t),Ny(i)}else await kp(i.localStore,t,!1).then((()=>Mp(i,t,e))).catch(fl)}async function HM(n,t){const e=It(n),i=t.batch.batchId;try{const a=await ZN(e.localStore,t);GS(e,i,null),qS(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),await bu(e,a)}catch(a){await fl(a)}}async function FM(n,t,e){const i=It(n);try{const a=await(function(c,h){const f=It(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",(g=>{let y;return f.mutationQueue.lookupMutationBatch(g,h).next((b=>(Qt(b!==null,37113),y=b.keys(),f.mutationQueue.removeMutationBatch(g,b)))).next((()=>f.mutationQueue.performConsistencyCheck(g))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(g,y,h))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(g,y))).next((()=>f.localDocuments.getDocuments(g,y)))}))})(i.localStore,t);GS(i,t,e),qS(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),await bu(i,a)}catch(a){await fl(a)}}function qS(n,t){(n.mu.get(t)||[]).forEach((e=>{e.resolve()})),n.mu.delete(t)}function GS(n,t,e){const i=It(n);let a=i.Vu[i.currentUser.toKey()];if(a){const o=a.get(t);o&&(e?o.reject(e):o.resolve(),a=a.remove(t)),i.Vu[i.currentUser.toKey()]=a}}function Mp(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.Iu.get(t))n.Tu.delete(i),e&&n.Pu.yu(i,e);n.Iu.delete(t),n.isPrimaryClient&&n.Ru.jr(t).forEach((i=>{n.Ru.containsKey(i)||$S(n,i)}))}function $S(n,t){n.Eu.delete(t.path.canonicalString());const e=n.du.get(t);e!==null&&(Sy(n.remoteStore,e),n.du=n.du.remove(t),n.Au.delete(e),Ny(n))}function nE(n,t,e){for(const i of e)i instanceof US?(n.Ru.addReference(i.key,t),qM(n,i)):i instanceof BS?(pt(Dy,"Document no longer in limbo: "+i.key),n.Ru.removeReference(i.key,t),n.Ru.containsKey(i.key)||$S(n,i.key)):St(19791,{wu:i})}function qM(n,t){const e=t.key,i=e.path.canonicalString();n.du.get(e)||n.Eu.has(i)||(pt(Dy,"New document in limbo: "+e),n.Eu.add(i),Ny(n))}function Ny(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new vt(re.fromString(t)),i=n.fu.next();n.Au.set(i,new MM(e)),n.du=n.du.insert(e,i),DS(n.remoteStore,new xr(ts(gy(e.path)),i,"TargetPurposeLimboResolution",ld.ce))}}async function bu(n,t,e){const i=It(n),a=[],o=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach(((h,f)=>{c.push(i.pu(f,t,e).then((g=>{if((g||e)&&i.isPrimaryClient){const y=g?!g.fromCache:e?.targetChanges.get(f.targetId)?.current;i.sharedClientState.updateQueryState(f.targetId,y?"current":"not-current")}if(g){a.push(g);const y=Ey.As(f.targetId,g);o.push(y)}})))})),await Promise.all(c),i.Pu.H_(a),await(async function(f,g){const y=It(f);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>ot.forEach(g,(T=>ot.forEach(T.Es,(x=>y.persistence.referenceDelegate.addReference(b,T.targetId,x))).next((()=>ot.forEach(T.ds,(x=>y.persistence.referenceDelegate.removeReference(b,T.targetId,x)))))))))}catch(b){if(!dl(b))throw b;pt(xy,"Failed to update sequence numbers: "+b)}for(const b of g){const T=b.targetId;if(!b.fromCache){const x=y.Ms.get(T),I=x.snapshotVersion,C=x.withLastLimboFreeSnapshotVersion(I);y.Ms=y.Ms.insert(T,C)}}})(i.localStore,o))}async function GM(n,t){const e=It(n);if(!e.currentUser.isEqual(t)){pt(Dy,"User change. New user:",t.toKey());const i=await CS(e.localStore,t);e.currentUser=t,(function(o,c){o.mu.forEach((h=>{h.forEach((f=>{f.reject(new mt(rt.CANCELLED,c))}))})),o.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await bu(e,i.Ls)}}function $M(n,t){const e=It(n),i=e.Au.get(t);if(i&&i.hu)return Ut().add(i.key);{let a=Ut();const o=e.Iu.get(t);if(!o)return a;for(const c of o){const h=e.Tu.get(c);a=a.unionWith(h.view.nu)}return a}}function YS(n){const t=It(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=FS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=$M.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=BM.bind(null,t),t.Pu.H_=IM.bind(null,t.eventManager),t.Pu.yu=kM.bind(null,t.eventManager),t}function YM(n){const t=It(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=HM.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=FM.bind(null,t),t}class $f{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=pd(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return WN(this.persistence,new KN,t.initialUser,this.serializer)}Cu(t){return new AS(Ty.mi,this.serializer)}Du(t){return new sM}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}$f.provider={build:()=>new $f};class KM extends $f{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){Qt(this.persistence.referenceDelegate instanceof qf,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new MN(i,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?wn.withCacheSize(this.cacheSizeBytes):wn.DEFAULT;return new AS((i=>qf.mi(i,e)),this.serializer)}}class Op{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>eE(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=GM.bind(null,this.syncEngine),await AM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new RM})()}createDatastore(t){const e=pd(t.databaseInfo.databaseId),i=(function(o){return new cM(o)})(t.databaseInfo);return(function(o,c,h,f){return new dM(o,c,h,f)})(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return(function(i,a,o,c,h){return new mM(i,a,o,c,h)})(this.localStore,this.datastore,t.asyncQueue,(e=>eE(this.syncEngine,e,0)),(function(){return QT.v()?new QT:new rM})())}createSyncEngine(t,e){return(function(a,o,c,h,f,g,y){const b=new OM(a,o,c,h,f,g);return y&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await(async function(e){const i=It(e);pt(ja,"RemoteStore shutting down."),i.Ea.add(5),await _u(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Op.provider={build:()=>new Op};class KS{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Ms("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}const jr="FirestoreClient";class QM{constructor(t,e,i,a,o){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=a,this.user=on.UNAUTHENTICATED,this.clientId=ly.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,(async c=>{pt(jr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(pt(jr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Dr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=Iy(e,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}async function Km(n,t){n.asyncQueue.verifyOperationInProgress(),pt(jr,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener((async a=>{i.isEqual(a)||(await CS(t.localStore,a),i=a)})),t.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=t}async function iE(n,t){n.asyncQueue.verifyOperationInProgress();const e=await XM(n);pt(jr,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener((i=>WT(t.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,a)=>WT(t.remoteStore,a))),n._onlineComponents=t}async function XM(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){pt(jr,"Using user provided OfflineComponentProvider");try{await Km(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(a){return a.name==="FirebaseError"?a.code===rt.FAILED_PRECONDITION||a.code===rt.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(e))throw e;Wo("Error using user provided cache. Falling back to memory cache: "+e),await Km(n,new $f)}}else pt(jr,"Using default OfflineComponentProvider"),await Km(n,new KM(void 0));return n._offlineComponents}async function QS(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(pt(jr,"Using user provided OnlineComponentProvider"),await iE(n,n._uninitializedComponentsProvider._online)):(pt(jr,"Using default OnlineComponentProvider"),await iE(n,new Op))),n._onlineComponents}function WM(n){return QS(n).then((t=>t.syncEngine))}async function zp(n){const t=await QS(n),e=t.eventManager;return e.onListen=zM.bind(null,t.syncEngine),e.onUnlisten=LM.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=VM.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=jM.bind(null,t.syncEngine),e}function ZM(n,t,e={}){const i=new Dr;return n.asyncQueue.enqueueAndForget((async()=>(function(o,c,h,f,g){const y=new KS({next:T=>{y.Nu(),c.enqueueAndForget((()=>LS(o,b))),T.fromCache&&f.source==="server"?g.reject(new mt(rt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):g.resolve(T)},error:T=>g.reject(T)}),b=new jS(h,y,{includeMetadataChanges:!0,qa:!0});return PS(o,b)})(await zp(n),n.asyncQueue,t,e,i))),i.promise}function XS(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}const sE=new Map;const WS="firestore.googleapis.com",rE=!0;class aE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new mt(rt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=WS,this.ssl=rE}else this.host=t.host,this.ssl=t.ssl??rE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=wS;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<DN)throw new mt(rt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}gD("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=XS(t.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new mt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new mt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new mt(rt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class bd{constructor(t,e,i,a){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new aE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new mt(rt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new mt(rt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new aE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new sD;switch(i.type){case"firstParty":return new lD(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new mt(rt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const i=sE.get(e);i&&(pt("ComponentProvider","Removing Datastore"),sE.delete(e),i.terminate())})(this),Promise.resolve()}}function JM(n,t,e,i={}){n=ii(n,bd);const a=ol(t),o=n._getSettings(),c={...o,emulatorOptions:n._getEmulatorOptions()},h=`${t}:${e}`;a&&(U1(`https://${h}`),B1("Firestore",!0)),o.host!==WS&&o.host!==h&&Wo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...o,host:h,ssl:a,emulatorOptions:i};if(!za(f,c)&&(n._setSettings(f),i.mockUserToken)){let g,y;if(typeof i.mockUserToken=="string")g=i.mockUserToken,y=on.MOCK_USER;else{g=hC(i.mockUserToken,n._app?.options.projectId);const b=i.mockUserToken.sub||i.mockUserToken.user_id;if(!b)throw new mt(rt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new on(b)}n._authCredentials=new rD(new Px(g,y))}}class qr{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new qr(this.firestore,t,this._query)}}class Se{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Nr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Se(this.firestore,t,this._key)}toJSON(){return{type:Se._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,i){if(mu(e,Se._jsonSchema))return new Se(t,i||null,new vt(re.fromString(e.referencePath)))}}Se._jsonSchemaVersion="firestore/documentReference/1.0",Se._jsonSchema={type:Pe("string",Se._jsonSchemaVersion),referencePath:Pe("string")};class Nr extends qr{constructor(t,e,i){super(t,e,gy(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Se(this.firestore,null,new vt(t))}withConverter(t){return new Nr(this.firestore,t,this._path)}}function il(n,t,...e){if(n=Le(n),Lx("collection","path",t),n instanceof bd){const i=re.fromString(t,...e);return bT(i),new Nr(n,null,i)}{if(!(n instanceof Se||n instanceof Nr))throw new mt(rt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(re.fromString(t,...e));return bT(i),new Nr(n.firestore,null,i)}}function bi(n,t,...e){if(n=Le(n),arguments.length===1&&(t=ly.newId()),Lx("doc","path",t),n instanceof bd){const i=re.fromString(t,...e);return _T(i),new Se(n,null,new vt(i))}{if(!(n instanceof Se||n instanceof Nr))throw new mt(rt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(re.fromString(t,...e));return _T(i),new Se(n.firestore,n instanceof Nr?n.converter:null,new vt(i))}}const oE="AsyncQueue";class lE{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new IS(this,"async_queue_retry"),this._c=()=>{const i=Ym();i&&pt(oE,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const e=Ym();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=Ym();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new Dr;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!dl(t))throw t;pt(oE,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((i=>{throw this.nc=i,this.rc=!1,Ms("INTERNAL UNHANDLED ERROR: ",cE(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=e,e}enqueueAfterDelay(t,e,i){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const a=Ry.createAndSchedule(this,t,e,i,(o=>this.hc(o)));return this.tc.push(a),a}uc(){this.nc&&St(47125,{Pc:cE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,i)=>e.targetTimeMs-i.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function cE(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}function uE(n){return(function(e,i){if(typeof e!="object"||e===null)return!1;const a=e;for(const o of i)if(o in a&&typeof a[o]=="function")return!0;return!1})(n,["next","error","complete"])}class Ur extends bd{constructor(t,e,i,a){super(t,e,i,a),this.type="firestore",this._queue=new lE,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new lE(t),this._firestoreClient=void 0,await t}}}function tO(n,t){const e=typeof n=="object"?n:G1(),i=typeof n=="string"?n:jf,a=Zp(e,"firestore").getImmediate({identifier:i});if(!a._initialized){const o=cC("firestore");o&&JM(a,...o)}return a}function My(n){if(n._terminated)throw new mt(rt.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||eO(n),n._firestoreClient}function eO(n){const t=n._freezeSettings(),e=(function(a,o,c,h){return new wD(a,o,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,XS(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new QM(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&(function(a){const o=a?._online.build();return{_offline:a?._offline.build(o),_online:o}})(n._componentsProvider))}class ti{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ti(nn.fromBase64String(t))}catch(e){throw new mt(rt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new ti(nn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:ti._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(mu(t,ti._jsonSchema))return ti.fromBase64String(t.bytes)}}ti._jsonSchemaVersion="firestore/bytes/1.0",ti._jsonSchema={type:Pe("string",ti._jsonSchemaVersion),bytes:Pe("string")};class vd{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new mt(rt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new en(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Td{constructor(t){this._methodName=t}}class ns{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new mt(rt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new mt(rt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return jt(this._lat,t._lat)||jt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ns._jsonSchemaVersion}}static fromJSON(t){if(mu(t,ns._jsonSchema))return new ns(t.latitude,t.longitude)}}ns._jsonSchemaVersion="firestore/geoPoint/1.0",ns._jsonSchema={type:Pe("string",ns._jsonSchemaVersion),latitude:Pe("number"),longitude:Pe("number")};class is{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(i,a){if(i.length!==a.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==a[o])return!1;return!0})(this._values,t._values)}toJSON(){return{type:is._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(mu(t,is._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new is(t.vectorValues);throw new mt(rt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}is._jsonSchemaVersion="firestore/vectorValue/1.0",is._jsonSchema={type:Pe("string",is._jsonSchemaVersion),vectorValues:Pe("object")};const nO=/^__.*__$/;class iO{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return this.fieldMask!==null?new Fr(t,this.data,this.fieldMask,e,this.fieldTransforms):new pu(t,this.data,e,this.fieldTransforms)}}class ZS{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new Fr(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function JS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw St(40011,{Ac:n})}}class Oy{constructor(t,e,i,a,o,c){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=a,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new Oy({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const e=this.path?.child(t),i=this.Vc({path:e,fc:!1});return i.gc(t),i}yc(t){const e=this.path?.child(t),i=this.Vc({path:e,fc:!1});return i.Rc(),i}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Yf(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(JS(this.Ac)&&nO.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class sO{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||pd(t)}Cc(t,e,i,a=!1){return new Oy({Ac:t,methodName:e,Dc:i,path:en.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ed(n){const t=n._freezeSettings(),e=pd(n._databaseId);return new sO(n._databaseId,!!t.ignoreUndefinedProperties,e)}function tw(n,t,e,i,a,o={}){const c=n.Cc(o.merge||o.mergeFields?2:0,t,e,a);Vy("Data must be an object, but it was:",c,i);const h=ew(i,c);let f,g;if(o.merge)f=new Ln(c.fieldMask),g=c.fieldTransforms;else if(o.mergeFields){const y=[];for(const b of o.mergeFields){const T=Vp(t,b,e);if(!c.contains(T))throw new mt(rt.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);iw(y,T)||y.push(T)}f=new Ln(y),g=c.fieldTransforms.filter((b=>f.covers(b.field)))}else f=null,g=c.fieldTransforms;return new iO(new Cn(h),f,g)}class xd extends Td{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof xd}}class zy extends Td{_toFieldTransform(t){return new WD(t.path,new eu)}isEqual(t){return t instanceof zy}}function rO(n,t,e,i){const a=n.Cc(1,t,e);Vy("Data must be an object, but it was:",a,i);const o=[],c=Cn.empty();Hr(i,((f,g)=>{const y=Py(t,f,e);g=Le(g);const b=a.yc(y);if(g instanceof xd)o.push(y);else{const T=vu(g,b);T!=null&&(o.push(y),c.set(y,T))}}));const h=new Ln(o);return new ZS(c,h,a.fieldTransforms)}function aO(n,t,e,i,a,o){const c=n.Cc(1,t,e),h=[Vp(t,i,e)],f=[a];if(o.length%2!=0)throw new mt(rt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<o.length;T+=2)h.push(Vp(t,o[T])),f.push(o[T+1]);const g=[],y=Cn.empty();for(let T=h.length-1;T>=0;--T)if(!iw(g,h[T])){const x=h[T];let I=f[T];I=Le(I);const C=c.yc(x);if(I instanceof xd)g.push(x);else{const k=vu(I,C);k!=null&&(g.push(x),y.set(x,k))}}const b=new Ln(g);return new ZS(y,b,c.fieldTransforms)}function oO(n,t,e,i=!1){return vu(e,n.Cc(i?4:3,t))}function vu(n,t){if(nw(n=Le(n)))return Vy("Unsupported field value:",t,n),ew(n,t);if(n instanceof Td)return(function(i,a){if(!JS(a.Ac))throw a.Sc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(a);o&&a.fieldTransforms.push(o)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(i,a){const o=[];let c=0;for(const h of i){let f=vu(h,a.wc(c));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),c++}return{arrayValue:{values:o}}})(n,t)}return(function(i,a){if((i=Le(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return KD(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=he.fromDate(i);return{timestampValue:Ff(a.serializer,o)}}if(i instanceof he){const o=new he(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Ff(a.serializer,o)}}if(i instanceof ns)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ti)return{bytesValue:_S(a.serializer,i._byteString)};if(i instanceof Se){const o=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(o))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:by(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof is)return(function(c,h){return{mapValue:{fields:{[Yx]:{stringValue:Kx},[Uf]:{arrayValue:{values:c.toArray().map((g=>{if(typeof g!="number")throw h.Sc("VectorValues must only contain numeric values.");return my(h.serializer,g)}))}}}}}})(i,a);throw a.Sc(`Unsupported field value: ${od(i)}`)})(n,t)}function ew(n,t){const e={};return Bx(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Hr(n,((i,a)=>{const o=vu(a,t.mc(i));o!=null&&(e[i]=o)})),{mapValue:{fields:e}}}function nw(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof he||n instanceof ns||n instanceof ti||n instanceof Se||n instanceof Td||n instanceof is)}function Vy(n,t,e){if(!nw(e)||!jx(e)){const i=od(e);throw i==="an object"?t.Sc(n+" a custom object"):t.Sc(n+" "+i)}}function Vp(n,t,e){if((t=Le(t))instanceof vd)return t._internalPath;if(typeof t=="string")return Py(n,t);throw Yf("Field path arguments must be of type string or ",n,!1,void 0,e)}const lO=new RegExp("[~\\*/\\[\\]]");function Py(n,t,e){if(t.search(lO)>=0)throw Yf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new vd(...t.split("."))._internalPath}catch{throw Yf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function Yf(n,t,e,i,a){const o=i&&!i.isEmpty(),c=a!==void 0;let h=`Function ${t}() called with invalid data`;e&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(o||c)&&(f+=" (found",o&&(f+=` in field ${i}`),c&&(f+=` in document ${a}`),f+=")"),new mt(rt.INVALID_ARGUMENT,h+n+f)}function iw(n,t){return n.some((e=>e.isEqual(t)))}class sw{constructor(t,e,i,a,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Se(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new cO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(Ly("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class cO extends sw{data(){return super.data()}}function Ly(n,t){return typeof t=="string"?Py(n,t):t instanceof vd?t._internalPath:t._delegate._internalPath}function rw(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new mt(rt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class jy{}class aw extends jy{}function Pp(n,t,...e){let i=[];t instanceof jy&&i.push(t),i=i.concat(e),(function(o){const c=o.filter((f=>f instanceof By)).length,h=o.filter((f=>f instanceof Uy)).length;if(c>1||c>0&&h>0)throw new mt(rt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const a of i)n=a._apply(n);return n}class Uy extends aw{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new Uy(t,e,i)}_apply(t){const e=this._parse(t);return ow(t._query,e),new qr(t.firestore,t.converter,Sp(t._query,e))}_parse(t){const e=Ed(t.firestore);return(function(o,c,h,f,g,y,b){let T;if(g.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new mt(rt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){dE(b,y);const I=[];for(const C of b)I.push(fE(f,o,C));T={arrayValue:{values:I}}}else T=fE(f,o,b)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||dE(b,y),T=oO(h,c,b,y==="in"||y==="not-in");return Ve.create(g,y,T)})(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}class By extends jy{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new By(t,e)}_parse(t){const e=this._queryConstraints.map((i=>i._parse(t))).filter((i=>i.getFilters().length>0));return e.length===1?e[0]:Si.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:((function(a,o){let c=a;const h=o.getFlattenedFilters();for(const f of h)ow(c,f),c=Sp(c,f)})(t._query,e),new qr(t.firestore,t.converter,Sp(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Hy extends aw{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new Hy(t,e)}_apply(t){const e=(function(a,o,c){if(a.startAt!==null)throw new mt(rt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new mt(rt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new tu(o,c)})(t._query,this._field,this._direction);return new qr(t.firestore,t.converter,(function(a,o){const c=a.explicitOrderBy.concat([o]);return new gl(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(t._query,e))}}function hE(n,t="asc"){const e=t,i=Ly("orderBy",n);return Hy._create(i,e)}function fE(n,t,e){if(typeof(e=Le(e))=="string"){if(e==="")throw new mt(rt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!nS(t)&&e.indexOf("/")!==-1)throw new mt(rt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(re.fromString(e));if(!vt.isDocumentKey(i))throw new mt(rt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return CT(n,new vt(i))}if(e instanceof Se)return CT(n,e._key);throw new mt(rt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${od(e)}.`)}function dE(n,t){if(!Array.isArray(n)||n.length===0)throw new mt(rt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function ow(n,t){const e=(function(a,o){for(const c of a)for(const h of c.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null})(n.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(e!==null)throw e===t.op?new mt(rt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new mt(rt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class uO{convertValue(t,e="none"){switch(Pr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return xe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(Vr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw St(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return Hr(t,((a,o)=>{i[a]=this.convertValue(o,e)})),i}convertVectorValue(t){const e=t.fields?.[Uf].arrayValue?.values?.map((i=>xe(i.doubleValue)));return new is(e)}convertGeoPoint(t){return new ns(xe(t.latitude),xe(t.longitude))}convertArray(t,e){return(t.values||[]).map((i=>this.convertValue(i,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const i=ud(t);return i==null?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Wc(t));default:return null}}convertTimestamp(t){const e=zr(t);return new he(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=re.fromString(t);Qt(SS(i),9688,{name:t});const a=new Zc(i.get(1),i.get(3)),o=new vt(i.popFirst(5));return a.isEqual(e)||Ms(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}function lw(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class Mc{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class Da extends sw{constructor(t,e,i,a,o,c){super(t,e,i,a,c),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Af(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(Ly("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new mt(rt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=Da._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}Da._jsonSchemaVersion="firestore/documentSnapshot/1.0",Da._jsonSchema={type:Pe("string",Da._jsonSchemaVersion),bundleSource:Pe("string","DocumentSnapshot"),bundleName:Pe("string"),bundle:Pe("string")};class Af extends Da{data(t={}){return super.data(t)}}class Na{constructor(t,e,i,a){this._firestore=t,this._userDataWriter=e,this._snapshot=a,this.metadata=new Mc(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((i=>{t.call(e,new Af(this._firestore,this._userDataWriter,i.key,i,new Mc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new mt(rt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(a,o){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((h=>{const f=new Af(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Mc(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>o||h.type!==3)).map((h=>{const f=new Af(a._firestore,a._userDataWriter,h.doc.key,h.doc,new Mc(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let g=-1,y=-1;return h.type!==0&&(g=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),y=c.indexOf(h.doc.key)),{type:hO(h.type),doc:f,oldIndex:g,newIndex:y}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new mt(rt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Na._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=ly.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],i=[],a=[];return this.docs.forEach((o=>{o._document!==null&&(e.push(o._document),i.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),a.push(o.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function hO(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return St(61501,{type:n})}}Na._jsonSchemaVersion="firestore/querySnapshot/1.0",Na._jsonSchema={type:Pe("string",Na._jsonSchemaVersion),bundleSource:Pe("string","QuerySnapshot"),bundleName:Pe("string"),bundle:Pe("string")};class Fy extends uO{constructor(t){super(),this.firestore=t}convertBytes(t){return new ti(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Se(this.firestore,null,e)}}function gE(n){n=ii(n,qr);const t=ii(n.firestore,Ur),e=My(t),i=new Fy(t);return rw(n._query),ZM(e,n._query).then((a=>new Na(t,i,n,a)))}function Qm(n,t,e){n=ii(n,Se);const i=ii(n.firestore,Ur),a=lw(n.converter,t,e);return Sd(i,[tw(Ed(i),"setDoc",n._key,a,n.converter!==null,e).toMutation(n._key,si.none())])}function qy(n,t,e,...i){n=ii(n,Se);const a=ii(n.firestore,Ur),o=Ed(a);let c;return c=typeof(t=Le(t))=="string"||t instanceof vd?aO(o,"updateDoc",n._key,t,e,i):rO(o,"updateDoc",n._key,t),Sd(a,[c.toMutation(n._key,si.exists(!0))])}function cw(n){return Sd(ii(n.firestore,Ur),[new py(n._key,si.none())])}function uw(n,t){const e=ii(n.firestore,Ur),i=bi(n),a=lw(n.converter,t);return Sd(e,[tw(Ed(n.firestore),"addDoc",i._key,a,n.converter!==null,{}).toMutation(i._key,si.exists(!1))]).then((()=>i))}function Cf(n,...t){n=Le(n);let e={includeMetadataChanges:!1,source:"default"},i=0;typeof t[i]!="object"||uE(t[i])||(e=t[i++]);const a={includeMetadataChanges:e.includeMetadataChanges,source:e.source};if(uE(t[i])){const f=t[i];t[i]=f.next?.bind(f),t[i+1]=f.error?.bind(f),t[i+2]=f.complete?.bind(f)}let o,c,h;if(n instanceof Se)c=ii(n.firestore,Ur),h=gy(n._key.path),o={next:f=>{t[i]&&t[i](fO(c,n,f))},error:t[i+1],complete:t[i+2]};else{const f=ii(n,qr);c=ii(f.firestore,Ur),h=f._query;const g=new Fy(c);o={next:y=>{t[i]&&t[i](new Na(c,g,f,y))},error:t[i+1],complete:t[i+2]},rw(n._query)}return(function(g,y,b,T){const x=new KS(T),I=new jS(y,x,b);return g.asyncQueue.enqueueAndForget((async()=>PS(await zp(g),I))),()=>{x.Nu(),g.asyncQueue.enqueueAndForget((async()=>LS(await zp(g),I)))}})(My(c),h,a,o)}function Sd(n,t){return(function(i,a){const o=new Dr;return i.asyncQueue.enqueueAndForget((async()=>UM(await WM(i),a,o))),o.promise})(My(n),t)}function fO(n,t,e){const i=e.docs.get(t._key),a=new Fy(n);return new Da(n,a,t._key,i,new Mc(e.hasPendingWrites,e.fromCache),t.converter)}function Lp(){return new zy("serverTimestamp")}(function(t,e=!0){(function(a){hl=a})(ll),Qo(new Va("firestore",((i,{instanceIdentifier:a,options:o})=>{const c=i.getProvider("app").getImmediate(),h=new Ur(new aD(i.getProvider("auth-internal")),new cD(c,i.getProvider("app-check-internal")),(function(g,y){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new mt(rt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zc(g.options.projectId,y)})(c,a),c);return o={useFetchStreams:e,...o},h._setSettings(o),h}),"PUBLIC").setMultipleInstances(!0)),Ir(gT,mT,t),Ir(gT,mT,"esm2020")})();const dO=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),gO=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,i)=>i?i.toUpperCase():e.toLowerCase()),mE=n=>{const t=gO(n);return t.charAt(0).toUpperCase()+t.slice(1)},hw=(...n)=>n.filter((t,e,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===e).join(" ").trim(),mO=n=>{for(const t in n)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var pO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const yO=dt.forwardRef(({color:n="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:i,className:a="",children:o,iconNode:c,...h},f)=>dt.createElement("svg",{ref:f,...pO,width:t,height:t,stroke:n,strokeWidth:i?Number(e)*24/Number(t):e,className:hw("lucide",a),...!o&&!mO(h)&&{"aria-hidden":"true"},...h},[...c.map(([g,y])=>dt.createElement(g,y)),...Array.isArray(o)?o:[o]]));const oe=(n,t)=>{const e=dt.forwardRef(({className:i,...a},o)=>dt.createElement(yO,{ref:o,iconNode:t,className:hw(`lucide-${dO(mE(n))}`,`lucide-${n}`,i),...a}));return e.displayName=mE(n),e};const _O=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],jp=oe("activity",_O);const bO=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],fw=oe("calendar",bO);const vO=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],Gy=oe("chart-no-axes-column",vO);const TO=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Xm=oe("check",TO);const EO=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Wm=oe("chevron-down",EO);const xO=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],dw=oe("chevron-left",xO);const SO=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],$y=oe("chevron-right",SO);const wO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],AO=oe("circle-question-mark",wO);const CO=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],RO=oe("download",CO);const IO=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],gw=oe("flame",IO);const kO=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],DO=oe("history",kO);const NO=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],mw=oe("loader-circle",NO);const MO=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],OO=oe("log-out",MO);const zO=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],pE=oe("menu",zO);const VO=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],pw=oe("moon",VO);const PO=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],LO=oe("palette",PO);const jO=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],yw=oe("pen",jO);const UO=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Kf=oe("plus",UO);const BO=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],HO=oe("settings",BO);const FO=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],qO=oe("star",FO);const GO=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],$O=oe("sun",GO);const YO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],KO=oe("target",YO);const QO=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],_w=oe("trash-2",QO);const XO=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],WO=oe("upload",XO);const ZO=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],JO=oe("user",ZO);const t4=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Yo=oe("x",t4);function Tu(n){return n+.5|0}const Sr=(n,t,e)=>Math.max(Math.min(n,e),t);function Oc(n){return Sr(Tu(n*2.55),0,255)}function Mr(n){return Sr(Tu(n*255),0,255)}function Rs(n){return Sr(Tu(n/2.55)/100,0,1)}function yE(n){return Sr(Tu(n*100),0,100)}const Jn={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Up=[..."0123456789ABCDEF"],e4=n=>Up[n&15],n4=n=>Up[(n&240)>>4]+Up[n&15],sf=n=>(n&240)>>4===(n&15),i4=n=>sf(n.r)&&sf(n.g)&&sf(n.b)&&sf(n.a);function s4(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&Jn[n[1]]*17,g:255&Jn[n[2]]*17,b:255&Jn[n[3]]*17,a:t===5?Jn[n[4]]*17:255}:(t===7||t===9)&&(e={r:Jn[n[1]]<<4|Jn[n[2]],g:Jn[n[3]]<<4|Jn[n[4]],b:Jn[n[5]]<<4|Jn[n[6]],a:t===9?Jn[n[7]]<<4|Jn[n[8]]:255})),e}const r4=(n,t)=>n<255?t(n):"";function a4(n){var t=i4(n)?e4:n4;return n?"#"+t(n.r)+t(n.g)+t(n.b)+r4(n.a,t):void 0}const o4=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function bw(n,t,e){const i=t*Math.min(e,1-e),a=(o,c=(o+n/30)%12)=>e-i*Math.max(Math.min(c-3,9-c,1),-1);return[a(0),a(8),a(4)]}function l4(n,t,e){const i=(a,o=(a+n/60)%6)=>e-e*t*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function c4(n,t,e){const i=bw(n,1,.5);let a;for(t+e>1&&(a=1/(t+e),t*=a,e*=a),a=0;a<3;a++)i[a]*=1-t-e,i[a]+=t;return i}function u4(n,t,e,i,a){return n===a?(t-e)/i+(t<e?6:0):t===a?(e-n)/i+2:(n-t)/i+4}function Yy(n){const e=n.r/255,i=n.g/255,a=n.b/255,o=Math.max(e,i,a),c=Math.min(e,i,a),h=(o+c)/2;let f,g,y;return o!==c&&(y=o-c,g=h>.5?y/(2-o-c):y/(o+c),f=u4(e,i,a,y,o),f=f*60+.5),[f|0,g||0,h]}function Ky(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(Mr)}function Qy(n,t,e){return Ky(bw,n,t,e)}function h4(n,t,e){return Ky(c4,n,t,e)}function f4(n,t,e){return Ky(l4,n,t,e)}function vw(n){return(n%360+360)%360}function d4(n){const t=o4.exec(n);let e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?Oc(+t[5]):Mr(+t[5]));const a=vw(+t[2]),o=+t[3]/100,c=+t[4]/100;return t[1]==="hwb"?i=h4(a,o,c):t[1]==="hsv"?i=f4(a,o,c):i=Qy(a,o,c),{r:i[0],g:i[1],b:i[2],a:e}}function g4(n,t){var e=Yy(n);e[0]=vw(e[0]+t),e=Qy(e),n.r=e[0],n.g=e[1],n.b=e[2]}function m4(n){if(!n)return;const t=Yy(n),e=t[0],i=yE(t[1]),a=yE(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${a}%, ${Rs(n.a)})`:`hsl(${e}, ${i}%, ${a}%)`}const _E={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},bE={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function p4(){const n={},t=Object.keys(bE),e=Object.keys(_E);let i,a,o,c,h;for(i=0;i<t.length;i++){for(c=h=t[i],a=0;a<e.length;a++)o=e[a],h=h.replace(o,_E[o]);o=parseInt(bE[c],16),n[h]=[o>>16&255,o>>8&255,o&255]}return n}let rf;function y4(n){rf||(rf=p4(),rf.transparent=[0,0,0,0]);const t=rf[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const _4=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function b4(n){const t=_4.exec(n);let e=255,i,a,o;if(t){if(t[7]!==i){const c=+t[7];e=t[8]?Oc(c):Sr(c*255,0,255)}return i=+t[1],a=+t[3],o=+t[5],i=255&(t[2]?Oc(i):Sr(i,0,255)),a=255&(t[4]?Oc(a):Sr(a,0,255)),o=255&(t[6]?Oc(o):Sr(o,0,255)),{r:i,g:a,b:o,a:e}}}function v4(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Rs(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const Zm=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Vo=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function T4(n,t,e){const i=Vo(Rs(n.r)),a=Vo(Rs(n.g)),o=Vo(Rs(n.b));return{r:Mr(Zm(i+e*(Vo(Rs(t.r))-i))),g:Mr(Zm(a+e*(Vo(Rs(t.g))-a))),b:Mr(Zm(o+e*(Vo(Rs(t.b))-o))),a:n.a+e*(t.a-n.a)}}function af(n,t,e){if(n){let i=Yy(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=Qy(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function Tw(n,t){return n&&Object.assign(t||{},n)}function vE(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=Mr(n[3]))):(t=Tw(n,{r:0,g:0,b:0,a:1}),t.a=Mr(t.a)),t}function E4(n){return n.charAt(0)==="r"?b4(n):d4(n)}class su{constructor(t){if(t instanceof su)return t;const e=typeof t;let i;e==="object"?i=vE(t):e==="string"&&(i=s4(t)||y4(t)||E4(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=Tw(this._rgb);return t&&(t.a=Rs(t.a)),t}set rgb(t){this._rgb=vE(t)}rgbString(){return this._valid?v4(this._rgb):void 0}hexString(){return this._valid?a4(this._rgb):void 0}hslString(){return this._valid?m4(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,a=t.rgb;let o;const c=e===o?.5:e,h=2*c-1,f=i.a-a.a,g=((h*f===-1?h:(h+f)/(1+h*f))+1)/2;o=1-g,i.r=255&g*i.r+o*a.r+.5,i.g=255&g*i.g+o*a.g+.5,i.b=255&g*i.b+o*a.b+.5,i.a=c*i.a+(1-c)*a.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=T4(this._rgb,t._rgb,e)),this}clone(){return new su(this.rgb)}alpha(t){return this._rgb.a=Mr(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=Tu(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return af(this._rgb,2,t),this}darken(t){return af(this._rgb,2,-t),this}saturate(t){return af(this._rgb,1,t),this}desaturate(t){return af(this._rgb,1,-t),this}rotate(t){return g4(this._rgb,t),this}}function ws(){}const x4=(()=>{let n=0;return()=>n++})();function ae(n){return n==null}function Be(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function qt(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function dn(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Yi(n,t){return dn(n)?n:t}function Ht(n,t){return typeof n>"u"?t:n}const S4=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function ue(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function Jt(n,t,e,i){let a,o,c;if(Be(n))for(o=n.length,a=0;a<o;a++)t.call(e,n[a],a);else if(qt(n))for(c=Object.keys(n),o=c.length,a=0;a<o;a++)t.call(e,n[c[a]],c[a])}function Qf(n,t){let e,i,a,o;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(a=n[e],o=t[e],a.datasetIndex!==o.datasetIndex||a.index!==o.index)return!1;return!0}function Xf(n){if(Be(n))return n.map(Xf);if(qt(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let a=0;for(;a<i;++a)t[e[a]]=Xf(n[e[a]]);return t}return n}function Ew(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function w4(n,t,e,i){if(!Ew(n))return;const a=t[n],o=e[n];qt(a)&&qt(o)?ru(a,o,i):t[n]=Xf(o)}function ru(n,t,e){const i=Be(t)?t:[t],a=i.length;if(!qt(n))return n;e=e||{};const o=e.merger||w4;let c;for(let h=0;h<a;++h){if(c=i[h],!qt(c))continue;const f=Object.keys(c);for(let g=0,y=f.length;g<y;++g)o(f[g],n,c,e)}return n}function Fc(n,t){return ru(n,t,{merger:A4})}function A4(n,t,e){if(!Ew(n))return;const i=t[n],a=e[n];qt(i)&&qt(a)?Fc(i,a):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=Xf(a))}const TE={"":n=>n,x:n=>n.x,y:n=>n.y};function C4(n){const t=n.split("."),e=[];let i="";for(const a of t)i+=a,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function R4(n){const t=C4(n);return e=>{for(const i of t){if(i==="")break;e=e&&e[i]}return e}}function Wf(n,t){return(TE[t]||(TE[t]=R4(t)))(n)}function Xy(n){return n.charAt(0).toUpperCase()+n.slice(1)}const Zf=n=>typeof n<"u",Br=n=>typeof n=="function",EE=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function I4(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const Ye=Math.PI,Ei=2*Ye,k4=Ei+Ye,Jf=Number.POSITIVE_INFINITY,D4=Ye/180,vi=Ye/2,Ea=Ye/4,xE=Ye*2/3,xw=Math.log10,sl=Math.sign;function qc(n,t,e){return Math.abs(n-t)<e}function SE(n){const t=Math.round(n);n=qc(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(xw(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function N4(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((a,o)=>a-o).pop(),t}function M4(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function au(n){return!M4(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function O4(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function z4(n,t,e){let i,a,o;for(i=0,a=n.length;i<a;i++)o=n[i][e],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function Ia(n){return n*(Ye/180)}function V4(n){return n*(180/Ye)}function wE(n){if(!dn(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function P4(n,t){const e=t.x-n.x,i=t.y-n.y,a=Math.sqrt(e*e+i*i);let o=Math.atan2(i,e);return o<-.5*Ye&&(o+=Ei),{angle:o,distance:a}}function Bp(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function L4(n,t){return(n-t+k4)%Ei-Ye}function Wi(n){return(n%Ei+Ei)%Ei}function Sw(n,t,e,i){const a=Wi(n),o=Wi(t),c=Wi(e),h=Wi(o-a),f=Wi(c-a),g=Wi(a-o),y=Wi(a-c);return a===o||a===c||i&&o===c||h>f&&g<y}function ei(n,t,e){return Math.max(t,Math.min(e,n))}function j4(n){return ei(n,-32768,32767)}function Ho(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function Wy(n,t,e){e=e||(c=>n[c]<t);let i=n.length-1,a=0,o;for(;i-a>1;)o=a+i>>1,e(o)?a=o:i=o;return{lo:a,hi:i}}const ka=(n,t,e,i)=>Wy(n,e,i?a=>{const o=n[a][t];return o<e||o===e&&n[a+1][t]===e}:a=>n[a][t]<e),U4=(n,t,e)=>Wy(n,e,i=>n[i][t]>=e);function B4(n,t,e){let i=0,a=n.length;for(;i<a&&n[i]<t;)i++;for(;a>i&&n[a-1]>e;)a--;return i>0||a<n.length?n.slice(i,a):n}const ww=["push","pop","shift","splice","unshift"];function H4(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),ww.forEach(e=>{const i="_onData"+Xy(e),a=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...o){const c=a.apply(this,o);return n._chartjs.listeners.forEach(h=>{typeof h[i]=="function"&&h[i](...o)}),c}})})}function AE(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,a=i.indexOf(t);a!==-1&&i.splice(a,1),!(i.length>0)&&(ww.forEach(o=>{delete n[o]}),delete n._chartjs)}function F4(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const Aw=(function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame})();function Cw(n,t){let e=[],i=!1;return function(...a){e=a,i||(i=!0,Aw.call(window,()=>{i=!1,n.apply(t,e)}))}}function q4(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}const Zy=n=>n==="start"?"left":n==="end"?"right":"center",an=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,G4=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t;function $4(n,t,e){const i=t.length;let a=0,o=i;if(n._sorted){const{iScale:c,vScale:h,_parsed:f}=n,g=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,y=c.axis,{min:b,max:T,minDefined:x,maxDefined:I}=c.getUserBounds();if(x){if(a=Math.min(ka(f,y,b).lo,e?i:ka(t,y,c.getPixelForValue(b)).lo),g){const C=f.slice(0,a+1).reverse().findIndex(k=>!ae(k[h.axis]));a-=Math.max(0,C)}a=ei(a,0,i-1)}if(I){let C=Math.max(ka(f,c.axis,T,!0).hi+1,e?0:ka(t,y,c.getPixelForValue(T),!0).hi+1);if(g){const k=f.slice(C-1).findIndex(U=>!ae(U[h.axis]));C+=Math.max(0,k)}o=ei(C,a,i)-a}else o=i-a}return{start:a,count:o}}function Y4(n){const{xScale:t,yScale:e,_scaleRanges:i}=n,a={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return n._scaleRanges=a,!0;const o=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,a),o}const of=n=>n===0||n===1,CE=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*Ei/e)),RE=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*Ei/e)+1,Gc={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*vi)+1,easeOutSine:n=>Math.sin(n*vi),easeInOutSine:n=>-.5*(Math.cos(Ye*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>of(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>of(n)?n:CE(n,.075,.3),easeOutElastic:n=>of(n)?n:RE(n,.075,.3),easeInOutElastic(n){return of(n)?n:n<.5?.5*CE(n*2,.1125,.45):.5+.5*RE(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-Gc.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Gc.easeInBounce(n*2)*.5:Gc.easeOutBounce(n*2-1)*.5+.5};function Jy(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function IE(n){return Jy(n)?n:new su(n)}function Jm(n){return Jy(n)?n:new su(n).saturate(.5).darken(.1).hexString()}const K4=["x","y","borderWidth","radius","tension"],Q4=["color","borderColor","backgroundColor"];function X4(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:Q4},numbers:{type:"number",properties:K4}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function W4(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const kE=new Map;function Z4(n,t){t=t||{};const e=n+JSON.stringify(t);let i=kE.get(e);return i||(i=new Intl.NumberFormat(n,t),kE.set(e,i)),i}function Rw(n,t,e){return Z4(t,e).format(n)}const J4={values(n){return Be(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const i=this.chart.options.locale;let a,o=n;if(e.length>1){const g=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(g<1e-4||g>1e15)&&(a="scientific"),o=tz(n,e)}const c=xw(Math.abs(o)),h=isNaN(c)?1:Math.max(Math.min(-1*Math.floor(c),20),0),f={notation:a,minimumFractionDigits:h,maximumFractionDigits:h};return Object.assign(f,this.options.ticks.format),Rw(n,i,f)}};function tz(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var Iw={formatters:J4};function ez(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Iw.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Ua=Object.create(null),Hp=Object.create(null);function $c(n,t){if(!t)return n;const e=t.split(".");for(let i=0,a=e.length;i<a;++i){const o=e[i];n=n[o]||(n[o]=Object.create(null))}return n}function tp(n,t,e){return typeof t=="string"?ru($c(n,t),e):ru($c(n,""),t)}class nz{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,a)=>Jm(a.backgroundColor),this.hoverBorderColor=(i,a)=>Jm(a.borderColor),this.hoverColor=(i,a)=>Jm(a.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return tp(this,t,e)}get(t){return $c(this,t)}describe(t,e){return tp(Hp,t,e)}override(t,e){return tp(Ua,t,e)}route(t,e,i,a){const o=$c(this,t),c=$c(this,i),h="_"+e;Object.defineProperties(o,{[h]:{value:o[e],writable:!0},[e]:{enumerable:!0,get(){const f=this[h],g=c[a];return qt(f)?Object.assign({},g,f):Ht(f,g)},set(f){this[h]=f}}})}apply(t){t.forEach(e=>e(this))}}var we=new nz({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[X4,W4,ez]);function iz(n){return!n||ae(n.size)||ae(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function DE(n,t,e,i,a){let o=t[a];return o||(o=t[a]=n.measureText(a).width,e.push(a)),o>i&&(i=o),i}function xa(n,t,e){const i=n.currentDevicePixelRatio,a=e!==0?Math.max(e/2,.5):0;return Math.round((t-a)*i)/i+a}function NE(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function Fp(n,t,e,i){kw(n,t,e,i,null)}function kw(n,t,e,i,a){let o,c,h,f,g,y,b,T;const x=t.pointStyle,I=t.rotation,C=t.radius;let k=(I||0)*D4;if(x&&typeof x=="object"&&(o=x.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(k),n.drawImage(x,-x.width/2,-x.height/2,x.width,x.height),n.restore();return}if(!(isNaN(C)||C<=0)){switch(n.beginPath(),x){default:a?n.ellipse(e,i,a/2,C,0,0,Ei):n.arc(e,i,C,0,Ei),n.closePath();break;case"triangle":y=a?a/2:C,n.moveTo(e+Math.sin(k)*y,i-Math.cos(k)*C),k+=xE,n.lineTo(e+Math.sin(k)*y,i-Math.cos(k)*C),k+=xE,n.lineTo(e+Math.sin(k)*y,i-Math.cos(k)*C),n.closePath();break;case"rectRounded":g=C*.516,f=C-g,c=Math.cos(k+Ea)*f,b=Math.cos(k+Ea)*(a?a/2-g:f),h=Math.sin(k+Ea)*f,T=Math.sin(k+Ea)*(a?a/2-g:f),n.arc(e-b,i-h,g,k-Ye,k-vi),n.arc(e+T,i-c,g,k-vi,k),n.arc(e+b,i+h,g,k,k+vi),n.arc(e-T,i+c,g,k+vi,k+Ye),n.closePath();break;case"rect":if(!I){f=Math.SQRT1_2*C,y=a?a/2:f,n.rect(e-y,i-f,2*y,2*f);break}k+=Ea;case"rectRot":b=Math.cos(k)*(a?a/2:C),c=Math.cos(k)*C,h=Math.sin(k)*C,T=Math.sin(k)*(a?a/2:C),n.moveTo(e-b,i-h),n.lineTo(e+T,i-c),n.lineTo(e+b,i+h),n.lineTo(e-T,i+c),n.closePath();break;case"crossRot":k+=Ea;case"cross":b=Math.cos(k)*(a?a/2:C),c=Math.cos(k)*C,h=Math.sin(k)*C,T=Math.sin(k)*(a?a/2:C),n.moveTo(e-b,i-h),n.lineTo(e+b,i+h),n.moveTo(e+T,i-c),n.lineTo(e-T,i+c);break;case"star":b=Math.cos(k)*(a?a/2:C),c=Math.cos(k)*C,h=Math.sin(k)*C,T=Math.sin(k)*(a?a/2:C),n.moveTo(e-b,i-h),n.lineTo(e+b,i+h),n.moveTo(e+T,i-c),n.lineTo(e-T,i+c),k+=Ea,b=Math.cos(k)*(a?a/2:C),c=Math.cos(k)*C,h=Math.sin(k)*C,T=Math.sin(k)*(a?a/2:C),n.moveTo(e-b,i-h),n.lineTo(e+b,i+h),n.moveTo(e+T,i-c),n.lineTo(e-T,i+c);break;case"line":c=a?a/2:Math.cos(k)*C,h=Math.sin(k)*C,n.moveTo(e-c,i-h),n.lineTo(e+c,i+h);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(k)*(a?a/2:C),i+Math.sin(k)*C);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function ou(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function wd(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function Ad(n){n.restore()}function sz(n,t,e,i,a){if(!t)return n.lineTo(e.x,e.y);if(a==="middle"){const o=(t.x+e.x)/2;n.lineTo(o,t.y),n.lineTo(o,e.y)}else a==="after"!=!!i?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function rz(n,t,e,i){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function az(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),ae(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function oz(n,t,e,i,a){if(a.strikethrough||a.underline){const o=n.measureText(i),c=t-o.actualBoundingBoxLeft,h=t+o.actualBoundingBoxRight,f=e-o.actualBoundingBoxAscent,g=e+o.actualBoundingBoxDescent,y=a.strikethrough?(f+g)/2:g;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=a.decorationWidth||2,n.moveTo(c,y),n.lineTo(h,y),n.stroke()}}function lz(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function lu(n,t,e,i,a,o={}){const c=Be(t)?t:[t],h=o.strokeWidth>0&&o.strokeColor!=="";let f,g;for(n.save(),n.font=a.string,az(n,o),f=0;f<c.length;++f)g=c[f],o.backdrop&&lz(n,o.backdrop),h&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),ae(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(g,e,i,o.maxWidth)),n.fillText(g,e,i,o.maxWidth),oz(n,e,i,g,o),i+=Number(a.lineHeight);n.restore()}function qp(n,t){const{x:e,y:i,w:a,h:o,radius:c}=t;n.arc(e+c.topLeft,i+c.topLeft,c.topLeft,1.5*Ye,Ye,!0),n.lineTo(e,i+o-c.bottomLeft),n.arc(e+c.bottomLeft,i+o-c.bottomLeft,c.bottomLeft,Ye,vi,!0),n.lineTo(e+a-c.bottomRight,i+o),n.arc(e+a-c.bottomRight,i+o-c.bottomRight,c.bottomRight,vi,0,!0),n.lineTo(e+a,i+c.topRight),n.arc(e+a-c.topRight,i+c.topRight,c.topRight,0,-vi,!0),n.lineTo(e+c.topLeft,i)}const cz=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,uz=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function hz(n,t){const e=(""+n).match(cz);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const fz=n=>+n||0;function Dw(n,t){const e={},i=qt(t),a=i?Object.keys(t):t,o=qt(n)?i?c=>Ht(n[c],n[t[c]]):c=>n[c]:()=>n;for(const c of a)e[c]=fz(o(c));return e}function dz(n){return Dw(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Yc(n){return Dw(n,["topLeft","topRight","bottomLeft","bottomRight"])}function ri(n){const t=dz(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function cn(n,t){n=n||{},t=t||we.font;let e=Ht(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=Ht(n.style,t.style);i&&!(""+i).match(uz)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const a={family:Ht(n.family,t.family),lineHeight:hz(Ht(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:Ht(n.weight,t.weight),string:""};return a.string=iz(a),a}function lf(n,t,e,i){let a,o,c;for(a=0,o=n.length;a<o;++a)if(c=n[a],c!==void 0&&c!==void 0)return c}function gz(n,t,e){const{min:i,max:a}=n,o=S4(t,(a-i)/2),c=(h,f)=>e&&h===0?0:h+f;return{min:c(i,-Math.abs(o)),max:c(a,o)}}function Fa(n,t){return Object.assign(Object.create(n),t)}function t0(n,t=[""],e,i,a=()=>n[0]){const o=e||n;typeof i>"u"&&(i=zw("_fallback",n));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:i,_getTarget:a,override:h=>t0([h,...n],t,o,i)};return new Proxy(c,{deleteProperty(h,f){return delete h[f],delete h._keys,delete n[0][f],!0},get(h,f){return Mw(h,f,()=>Ez(f,t,n,h))},getOwnPropertyDescriptor(h,f){return Reflect.getOwnPropertyDescriptor(h._scopes[0],f)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(h,f){return OE(h).includes(f)},ownKeys(h){return OE(h)},set(h,f,g){const y=h._storage||(h._storage=a());return h[f]=y[f]=g,delete h._keys,!0}})}function rl(n,t,e,i){const a={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:Nw(n,i),setContext:o=>rl(n,o,e,i),override:o=>rl(n.override(o),t,e,i)};return new Proxy(a,{deleteProperty(o,c){return delete o[c],delete n[c],!0},get(o,c,h){return Mw(o,c,()=>pz(o,c,h))},getOwnPropertyDescriptor(o,c){return o._descriptors.allKeys?Reflect.has(n,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,c)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(o,c){return Reflect.has(n,c)},ownKeys(){return Reflect.ownKeys(n)},set(o,c,h){return n[c]=h,delete o[c],!0}})}function Nw(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:a=t.allKeys}=n;return{allKeys:a,scriptable:e,indexable:i,isScriptable:Br(e)?e:()=>e,isIndexable:Br(i)?i:()=>i}}const mz=(n,t)=>n?n+Xy(t):t,e0=(n,t)=>qt(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function Mw(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const i=e();return n[t]=i,i}function pz(n,t,e){const{_proxy:i,_context:a,_subProxy:o,_descriptors:c}=n;let h=i[t];return Br(h)&&c.isScriptable(t)&&(h=yz(t,h,n,e)),Be(h)&&h.length&&(h=_z(t,h,n,c.isIndexable)),e0(t,h)&&(h=rl(h,a,o&&o[t],c)),h}function yz(n,t,e,i){const{_proxy:a,_context:o,_subProxy:c,_stack:h}=e;if(h.has(n))throw new Error("Recursion detected: "+Array.from(h).join("->")+"->"+n);h.add(n);let f=t(o,c||i);return h.delete(n),e0(n,f)&&(f=n0(a._scopes,a,n,f)),f}function _z(n,t,e,i){const{_proxy:a,_context:o,_subProxy:c,_descriptors:h}=e;if(typeof o.index<"u"&&i(n))return t[o.index%t.length];if(qt(t[0])){const f=t,g=a._scopes.filter(y=>y!==f);t=[];for(const y of f){const b=n0(g,a,n,y);t.push(rl(b,o,c&&c[n],h))}}return t}function Ow(n,t,e){return Br(n)?n(t,e):n}const bz=(n,t)=>n===!0?t:typeof n=="string"?Wf(t,n):void 0;function vz(n,t,e,i,a){for(const o of t){const c=bz(e,o);if(c){n.add(c);const h=Ow(c._fallback,e,a);if(typeof h<"u"&&h!==e&&h!==i)return h}else if(c===!1&&typeof i<"u"&&e!==i)return null}return!1}function n0(n,t,e,i){const a=t._rootScopes,o=Ow(t._fallback,e,i),c=[...n,...a],h=new Set;h.add(i);let f=ME(h,c,e,o||e,i);return f===null||typeof o<"u"&&o!==e&&(f=ME(h,c,o,f,i),f===null)?!1:t0(Array.from(h),[""],a,o,()=>Tz(t,e,i))}function ME(n,t,e,i,a){for(;e;)e=vz(n,t,e,i,a);return e}function Tz(n,t,e){const i=n._getTarget();t in i||(i[t]={});const a=i[t];return Be(a)&&qt(e)?e:a||{}}function Ez(n,t,e,i){let a;for(const o of t)if(a=zw(mz(o,n),e),typeof a<"u")return e0(n,a)?n0(e,i,n,a):a}function zw(n,t){for(const e of t){if(!e)continue;const i=e[n];if(typeof i<"u")return i}}function OE(n){let t=n._keys;return t||(t=n._keys=xz(n._scopes)),t}function xz(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(a=>!a.startsWith("_")))t.add(i);return Array.from(t)}const Sz=Number.EPSILON||1e-14,al=(n,t)=>t<n.length&&!n[t].skip&&n[t],Vw=n=>n==="x"?"y":"x";function wz(n,t,e,i){const a=n.skip?t:n,o=t,c=e.skip?t:e,h=Bp(o,a),f=Bp(c,o);let g=h/(h+f),y=f/(h+f);g=isNaN(g)?0:g,y=isNaN(y)?0:y;const b=i*g,T=i*y;return{previous:{x:o.x-b*(c.x-a.x),y:o.y-b*(c.y-a.y)},next:{x:o.x+T*(c.x-a.x),y:o.y+T*(c.y-a.y)}}}function Az(n,t,e){const i=n.length;let a,o,c,h,f,g=al(n,0);for(let y=0;y<i-1;++y)if(f=g,g=al(n,y+1),!(!f||!g)){if(qc(t[y],0,Sz)){e[y]=e[y+1]=0;continue}a=e[y]/t[y],o=e[y+1]/t[y],h=Math.pow(a,2)+Math.pow(o,2),!(h<=9)&&(c=3/Math.sqrt(h),e[y]=a*c*t[y],e[y+1]=o*c*t[y])}}function Cz(n,t,e="x"){const i=Vw(e),a=n.length;let o,c,h,f=al(n,0);for(let g=0;g<a;++g){if(c=h,h=f,f=al(n,g+1),!h)continue;const y=h[e],b=h[i];c&&(o=(y-c[e])/3,h[`cp1${e}`]=y-o,h[`cp1${i}`]=b-o*t[g]),f&&(o=(f[e]-y)/3,h[`cp2${e}`]=y+o,h[`cp2${i}`]=b+o*t[g])}}function Rz(n,t="x"){const e=Vw(t),i=n.length,a=Array(i).fill(0),o=Array(i);let c,h,f,g=al(n,0);for(c=0;c<i;++c)if(h=f,f=g,g=al(n,c+1),!!f){if(g){const y=g[t]-f[t];a[c]=y!==0?(g[e]-f[e])/y:0}o[c]=h?g?sl(a[c-1])!==sl(a[c])?0:(a[c-1]+a[c])/2:a[c-1]:a[c]}Az(n,a,o),Cz(n,o,t)}function cf(n,t,e){return Math.max(Math.min(n,e),t)}function Iz(n,t){let e,i,a,o,c,h=ou(n[0],t);for(e=0,i=n.length;e<i;++e)c=o,o=h,h=e<i-1&&ou(n[e+1],t),o&&(a=n[e],c&&(a.cp1x=cf(a.cp1x,t.left,t.right),a.cp1y=cf(a.cp1y,t.top,t.bottom)),h&&(a.cp2x=cf(a.cp2x,t.left,t.right),a.cp2y=cf(a.cp2y,t.top,t.bottom)))}function kz(n,t,e,i,a){let o,c,h,f;if(t.spanGaps&&(n=n.filter(g=>!g.skip)),t.cubicInterpolationMode==="monotone")Rz(n,a);else{let g=i?n[n.length-1]:n[0];for(o=0,c=n.length;o<c;++o)h=n[o],f=wz(g,h,n[Math.min(o+1,c-(i?0:1))%c],t.tension),h.cp1x=f.previous.x,h.cp1y=f.previous.y,h.cp2x=f.next.x,h.cp2y=f.next.y,g=h}t.capBezierPoints&&Iz(n,e)}function i0(){return typeof window<"u"&&typeof document<"u"}function s0(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function td(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}const Cd=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function Dz(n,t){return Cd(n).getPropertyValue(t)}const Nz=["top","right","bottom","left"];function Ma(n,t,e){const i={};e=e?"-"+e:"";for(let a=0;a<4;a++){const o=Nz[a];i[o]=parseFloat(n[t+"-"+o+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const Mz=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function Oz(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:a,offsetY:o}=i;let c=!1,h,f;if(Mz(a,o,n.target))h=a,f=o;else{const g=t.getBoundingClientRect();h=i.clientX-g.left,f=i.clientY-g.top,c=!0}return{x:h,y:f,box:c}}function Aa(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,a=Cd(e),o=a.boxSizing==="border-box",c=Ma(a,"padding"),h=Ma(a,"border","width"),{x:f,y:g,box:y}=Oz(n,e),b=c.left+(y&&h.left),T=c.top+(y&&h.top);let{width:x,height:I}=t;return o&&(x-=c.width+h.width,I-=c.height+h.height),{x:Math.round((f-b)/x*e.width/i),y:Math.round((g-T)/I*e.height/i)}}function zz(n,t,e){let i,a;if(t===void 0||e===void 0){const o=n&&s0(n);if(!o)t=n.clientWidth,e=n.clientHeight;else{const c=o.getBoundingClientRect(),h=Cd(o),f=Ma(h,"border","width"),g=Ma(h,"padding");t=c.width-g.width-f.width,e=c.height-g.height-f.height,i=td(h.maxWidth,o,"clientWidth"),a=td(h.maxHeight,o,"clientHeight")}}return{width:t,height:e,maxWidth:i||Jf,maxHeight:a||Jf}}const wr=n=>Math.round(n*10)/10;function Vz(n,t,e,i){const a=Cd(n),o=Ma(a,"margin"),c=td(a.maxWidth,n,"clientWidth")||Jf,h=td(a.maxHeight,n,"clientHeight")||Jf,f=zz(n,t,e);let{width:g,height:y}=f;if(a.boxSizing==="content-box"){const T=Ma(a,"border","width"),x=Ma(a,"padding");g-=x.width+T.width,y-=x.height+T.height}return g=Math.max(0,g-o.width),y=Math.max(0,i?g/i:y-o.height),g=wr(Math.min(g,c,f.maxWidth)),y=wr(Math.min(y,h,f.maxHeight)),g&&!y&&(y=wr(g/2)),(t!==void 0||e!==void 0)&&i&&f.height&&y>f.height&&(y=f.height,g=wr(Math.floor(y*i))),{width:g,height:y}}function zE(n,t,e){const i=t||1,a=wr(n.height*i),o=wr(n.width*i);n.height=wr(n.height),n.width=wr(n.width);const c=n.canvas;return c.style&&(e||!c.style.height&&!c.style.width)&&(c.style.height=`${n.height}px`,c.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||c.height!==a||c.width!==o?(n.currentDevicePixelRatio=i,c.height=a,c.width=o,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const Pz=(function(){let n=!1;try{const t={get passive(){return n=!0,!1}};i0()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n})();function VE(n,t){const e=Dz(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Ca(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function Lz(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:i==="middle"?e<.5?n.y:t.y:i==="after"?e<1?n.y:t.y:e>0?t.y:n.y}}function jz(n,t,e,i){const a={x:n.cp2x,y:n.cp2y},o={x:t.cp1x,y:t.cp1y},c=Ca(n,a,e),h=Ca(a,o,e),f=Ca(o,t,e),g=Ca(c,h,e),y=Ca(h,f,e);return Ca(g,y,e)}const Uz=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},Bz=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function Ko(n,t,e){return n?Uz(t,e):Bz()}function Pw(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function Lw(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function jw(n){return n==="angle"?{between:Sw,compare:L4,normalize:Wi}:{between:Ho,compare:(t,e)=>t-e,normalize:t=>t}}function PE({start:n,end:t,count:e,loop:i,style:a}){return{start:n%e,end:t%e,loop:i&&(t-n+1)%e===0,style:a}}function Hz(n,t,e){const{property:i,start:a,end:o}=e,{between:c,normalize:h}=jw(i),f=t.length;let{start:g,end:y,loop:b}=n,T,x;if(b){for(g+=f,y+=f,T=0,x=f;T<x&&c(h(t[g%f][i]),a,o);++T)g--,y--;g%=f,y%=f}return y<g&&(y+=f),{start:g,end:y,loop:b,style:n.style}}function Uw(n,t,e){if(!e)return[n];const{property:i,start:a,end:o}=e,c=t.length,{compare:h,between:f,normalize:g}=jw(i),{start:y,end:b,loop:T,style:x}=Hz(n,t,e),I=[];let C=!1,k=null,U,W,Z;const nt=()=>f(a,Z,U)&&h(a,Z)!==0,tt=()=>h(o,U)===0||f(o,Z,U),lt=()=>C||nt(),D=()=>!C||tt();for(let A=y,N=y;A<=b;++A)W=t[A%c],!W.skip&&(U=g(W[i]),U!==Z&&(C=f(U,a,o),k===null&&lt()&&(k=h(U,a)===0?A:N),k!==null&&D()&&(I.push(PE({start:k,end:A,loop:T,count:c,style:x})),k=null),N=A,Z=U));return k!==null&&I.push(PE({start:k,end:b,loop:T,count:c,style:x})),I}function Bw(n,t){const e=[],i=n.segments;for(let a=0;a<i.length;a++){const o=Uw(i[a],n.points,t);o.length&&e.push(...o)}return e}function Fz(n,t,e,i){let a=0,o=t-1;if(e&&!i)for(;a<t&&!n[a].skip;)a++;for(;a<t&&n[a].skip;)a++;for(a%=t,e&&(o+=a);o>a&&n[o%t].skip;)o--;return o%=t,{start:a,end:o}}function qz(n,t,e,i){const a=n.length,o=[];let c=t,h=n[t],f;for(f=t+1;f<=e;++f){const g=n[f%a];g.skip||g.stop?h.skip||(i=!1,o.push({start:t%a,end:(f-1)%a,loop:i}),t=c=g.stop?f:null):(c=f,h.skip&&(t=f)),h=g}return c!==null&&o.push({start:t%a,end:c%a,loop:i}),o}function Gz(n,t){const e=n.points,i=n.options.spanGaps,a=e.length;if(!a)return[];const o=!!n._loop,{start:c,end:h}=Fz(e,a,o,i);if(i===!0)return LE(n,[{start:c,end:h,loop:o}],e,t);const f=h<c?h+a:h,g=!!n._fullLoop&&c===0&&h===a-1;return LE(n,qz(e,c,f,g),e,t)}function LE(n,t,e,i){return!i||!i.setContext||!e?t:$z(n,t,e,i)}function $z(n,t,e,i){const a=n._chart.getContext(),o=jE(n.options),{_datasetIndex:c,options:{spanGaps:h}}=n,f=e.length,g=[];let y=o,b=t[0].start,T=b;function x(I,C,k,U){const W=h?-1:1;if(I!==C){for(I+=f;e[I%f].skip;)I-=W;for(;e[C%f].skip;)C+=W;I%f!==C%f&&(g.push({start:I%f,end:C%f,loop:k,style:U}),y=U,b=C%f)}}for(const I of t){b=h?b:I.start;let C=e[b%f],k;for(T=b+1;T<=I.end;T++){const U=e[T%f];k=jE(i.setContext(Fa(a,{type:"segment",p0:C,p1:U,p0DataIndex:(T-1)%f,p1DataIndex:T%f,datasetIndex:c}))),Yz(k,y)&&x(b,T-1,I.loop,y),C=U,y=k}b<T-1&&x(b,T-1,I.loop,y)}return g}function jE(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function Yz(n,t){if(!t)return!1;const e=[],i=function(a,o){return Jy(o)?(e.includes(o)||e.push(o),e.indexOf(o)):o};return JSON.stringify(n,i)!==JSON.stringify(t,i)}function uf(n,t,e){return n.options.clip?n[e]:t[e]}function Kz(n,t){const{xScale:e,yScale:i}=n;return e&&i?{left:uf(e,t,"left"),right:uf(e,t,"right"),top:uf(i,t,"top"),bottom:uf(i,t,"bottom")}:t}function Hw(n,t){const e=t._clip;if(e.disabled)return!1;const i=Kz(t,n.chartArea);return{left:e.left===!1?0:i.left-(e.left===!0?0:e.left),right:e.right===!1?n.width:i.right+(e.right===!0?0:e.right),top:e.top===!1?0:i.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?n.height:i.bottom+(e.bottom===!0?0:e.bottom)}}class Qz{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,a){const o=e.listeners[a],c=e.duration;o.forEach(h=>h({chart:t,initial:e.initial,numSteps:c,currentStep:Math.min(i-e.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=Aw.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,a)=>{if(!i.running||!i.items.length)return;const o=i.items;let c=o.length-1,h=!1,f;for(;c>=0;--c)f=o[c],f._active?(f._total>i.duration&&(i.duration=f._total),f.tick(t),h=!0):(o[c]=o[o.length-1],o.pop());h&&(a.draw(),this._notify(a,i,t,"progress")),o.length||(i.running=!1,this._notify(a,i,t,"complete"),i.initial=!1),e+=o.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,a)=>Math.max(i,a._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let a=i.length-1;for(;a>=0;--a)i[a].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var As=new Qz;const UE="transparent",Xz={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const i=IE(n||UE),a=i.valid&&IE(t||UE);return a&&a.valid?a.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class Wz{constructor(t,e,i,a){const o=e[i];a=lf([t.to,a,o,t.from]);const c=lf([t.from,o,a]);this._active=!0,this._fn=t.fn||Xz[t.type||typeof c],this._easing=Gc[t.easing]||Gc.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=c,this._to=a,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const a=this._target[this._prop],o=i-this._start,c=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(c,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=lf([t.to,e,a,t.from]),this._from=lf([t.from,a,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,a=this._prop,o=this._from,c=this._loop,h=this._to;let f;if(this._active=o!==h&&(c||e<i),!this._active){this._target[a]=h,this._notify(!0);return}if(e<0){this._target[a]=o;return}f=e/i%2,f=c&&f>1?2-f:f,f=this._easing(Math.min(1,Math.max(0,f))),this._target[a]=this._fn(o,h,f)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let a=0;a<i.length;a++)i[a][e]()}}class Fw{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!qt(t))return;const e=Object.keys(we.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(a=>{const o=t[a];if(!qt(o))return;const c={};for(const h of e)c[h]=o[h];(Be(o.properties)&&o.properties||[a]).forEach(h=>{(h===a||!i.has(h))&&i.set(h,c)})})}_animateOptions(t,e){const i=e.options,a=Jz(t,i);if(!a)return[];const o=this._createAnimations(a,i);return i.$shared&&Zz(t.options.$animations,i).then(()=>{t.options=i},()=>{}),o}_createAnimations(t,e){const i=this._properties,a=[],o=t.$animations||(t.$animations={}),c=Object.keys(e),h=Date.now();let f;for(f=c.length-1;f>=0;--f){const g=c[f];if(g.charAt(0)==="$")continue;if(g==="options"){a.push(...this._animateOptions(t,e));continue}const y=e[g];let b=o[g];const T=i.get(g);if(b)if(T&&b.active()){b.update(T,y,h);continue}else b.cancel();if(!T||!T.duration){t[g]=y;continue}o[g]=b=new Wz(T,t,g,y),a.push(b)}return a}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const i=this._createAnimations(t,e);if(i.length)return As.add(this._chart,i),!0}}function Zz(n,t){const e=[],i=Object.keys(t);for(let a=0;a<i.length;a++){const o=n[i[a]];o&&o.active()&&e.push(o.wait())}return Promise.all(e)}function Jz(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function BE(n,t){const e=n&&n.options||{},i=e.reverse,a=e.min===void 0?t:0,o=e.max===void 0?t:0;return{start:i?o:a,end:i?a:o}}function t5(n,t,e){if(e===!1)return!1;const i=BE(n,e),a=BE(t,e);return{top:a.end,right:i.end,bottom:a.start,left:i.start}}function e5(n){let t,e,i,a;return qt(n)?(t=n.top,e=n.right,i=n.bottom,a=n.left):t=e=i=a=n,{top:t,right:e,bottom:i,left:a,disabled:n===!1}}function qw(n,t){const e=[],i=n._getSortedDatasetMetas(t);let a,o;for(a=0,o=i.length;a<o;++a)e.push(i[a].index);return e}function HE(n,t,e,i={}){const a=n.keys,o=i.mode==="single";let c,h,f,g;if(t===null)return;let y=!1;for(c=0,h=a.length;c<h;++c){if(f=+a[c],f===e){if(y=!0,i.all)continue;break}g=n.values[f],dn(g)&&(o||t===0||sl(t)===sl(g))&&(t+=g)}return!y&&!i.all?0:t}function n5(n,t){const{iScale:e,vScale:i}=t,a=e.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",c=Object.keys(n),h=new Array(c.length);let f,g,y;for(f=0,g=c.length;f<g;++f)y=c[f],h[f]={[a]:y,[o]:n[y]};return h}function ep(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function i5(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function s5(n){const{min:t,max:e,minDefined:i,maxDefined:a}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:a?e:Number.POSITIVE_INFINITY}}function r5(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function FE(n,t,e,i){for(const a of t.getMatchingVisibleMetas(i).reverse()){const o=n[a.index];if(e&&o>0||!e&&o<0)return a.index}return null}function qE(n,t){const{chart:e,_cachedMeta:i}=n,a=e._stacks||(e._stacks={}),{iScale:o,vScale:c,index:h}=i,f=o.axis,g=c.axis,y=i5(o,c,i),b=t.length;let T;for(let x=0;x<b;++x){const I=t[x],{[f]:C,[g]:k}=I,U=I._stacks||(I._stacks={});T=U[g]=r5(a,y,C),T[h]=k,T._top=FE(T,c,!0,i.type),T._bottom=FE(T,c,!1,i.type);const W=T._visualValues||(T._visualValues={});W[h]=k}}function np(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function a5(n,t){return Fa(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function o5(n,t,e){return Fa(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function xc(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const a of t){const o=a._stacks;if(!o||o[i]===void 0||o[i][e]===void 0)return;delete o[i][e],o[i]._visualValues!==void 0&&o[i]._visualValues[e]!==void 0&&delete o[i]._visualValues[e]}}}const ip=n=>n==="reset"||n==="none",GE=(n,t)=>t?n:Object.assign({},n),l5=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:qw(e,!0),values:null};class Gw{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=ep(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&xc(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),a=(b,T,x,I)=>b==="x"?T:b==="r"?I:x,o=e.xAxisID=Ht(i.xAxisID,np(t,"x")),c=e.yAxisID=Ht(i.yAxisID,np(t,"y")),h=e.rAxisID=Ht(i.rAxisID,np(t,"r")),f=e.indexAxis,g=e.iAxisID=a(f,o,c,h),y=e.vAxisID=a(f,c,o,h);e.xScale=this.getScaleForId(o),e.yScale=this.getScaleForId(c),e.rScale=this.getScaleForId(h),e.iScale=this.getScaleForId(g),e.vScale=this.getScaleForId(y)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&AE(this._data,this),t._stacked&&xc(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(qt(e)){const a=this._cachedMeta;this._data=n5(e,a)}else if(i!==e){if(i){AE(i,this);const a=this._cachedMeta;xc(a),a._parsed=[]}e&&Object.isExtensible(e)&&H4(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let a=!1;this._dataCheck();const o=e._stacked;e._stacked=ep(e.vScale,e),e.stack!==i.stack&&(a=!0,xc(e),e.stack=i.stack),this._resyncElements(t),(a||o!==e._stacked)&&(qE(this,e._parsed),e._stacked=ep(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:a}=this,{iScale:o,_stacked:c}=i,h=o.axis;let f=t===0&&e===a.length?!0:i._sorted,g=t>0&&i._parsed[t-1],y,b,T;if(this._parsing===!1)i._parsed=a,i._sorted=!0,T=a;else{Be(a[t])?T=this.parseArrayData(i,a,t,e):qt(a[t])?T=this.parseObjectData(i,a,t,e):T=this.parsePrimitiveData(i,a,t,e);const x=()=>b[h]===null||g&&b[h]<g[h];for(y=0;y<e;++y)i._parsed[y+t]=b=T[y],f&&(x()&&(f=!1),g=b);i._sorted=f}c&&qE(this,T)}parsePrimitiveData(t,e,i,a){const{iScale:o,vScale:c}=t,h=o.axis,f=c.axis,g=o.getLabels(),y=o===c,b=new Array(a);let T,x,I;for(T=0,x=a;T<x;++T)I=T+i,b[T]={[h]:y||o.parse(g[I],I),[f]:c.parse(e[I],I)};return b}parseArrayData(t,e,i,a){const{xScale:o,yScale:c}=t,h=new Array(a);let f,g,y,b;for(f=0,g=a;f<g;++f)y=f+i,b=e[y],h[f]={x:o.parse(b[0],y),y:c.parse(b[1],y)};return h}parseObjectData(t,e,i,a){const{xScale:o,yScale:c}=t,{xAxisKey:h="x",yAxisKey:f="y"}=this._parsing,g=new Array(a);let y,b,T,x;for(y=0,b=a;y<b;++y)T=y+i,x=e[T],g[y]={x:o.parse(Wf(x,h),T),y:c.parse(Wf(x,f),T)};return g}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const a=this.chart,o=this._cachedMeta,c=e[t.axis],h={keys:qw(a,!0),values:e._stacks[t.axis]._visualValues};return HE(h,c,o.index,{mode:i})}updateRangeFromParsed(t,e,i,a){const o=i[e.axis];let c=o===null?NaN:o;const h=a&&i._stacks[e.axis];a&&h&&(a.values=h,c=HE(a,o,this._cachedMeta.index)),t.min=Math.min(t.min,c),t.max=Math.max(t.max,c)}getMinMax(t,e){const i=this._cachedMeta,a=i._parsed,o=i._sorted&&t===i.iScale,c=a.length,h=this._getOtherScale(t),f=l5(e,i,this.chart),g={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:y,max:b}=s5(h);let T,x;function I(){x=a[T];const C=x[h.axis];return!dn(x[t.axis])||y>C||b<C}for(T=0;T<c&&!(!I()&&(this.updateRangeFromParsed(g,t,x,f),o));++T);if(o){for(T=c-1;T>=0;--T)if(!I()){this.updateRangeFromParsed(g,t,x,f);break}}return g}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let a,o,c;for(a=0,o=e.length;a<o;++a)c=e[a][t.axis],dn(c)&&i.push(c);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,a=e.vScale,o=this.getParsed(t);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:a?""+a.getLabelForValue(o[a.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=e5(Ht(this.options.clip,t5(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,a=i.data||[],o=e.chartArea,c=[],h=this._drawStart||0,f=this._drawCount||a.length-h,g=this.options.drawActiveElementsOnTop;let y;for(i.dataset&&i.dataset.draw(t,o,h,f),y=h;y<h+f;++y){const b=a[y];b.hidden||(b.active&&g?c.push(b):b.draw(t,o))}for(y=0;y<c.length;++y)c[y].draw(t,o)}getStyle(t,e){const i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const a=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const c=this._cachedMeta.data[t];o=c.$context||(c.$context=o5(this.getContext(),t,c)),o.parsed=this.getParsed(t),o.raw=a.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=a5(this.chart.getContext(),this.index)),o.dataset=a,o.index=o.datasetIndex=this.index;return o.active=!!e,o.mode=i,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const a=e==="active",o=this._cachedDataOpts,c=t+"-"+e,h=o[c],f=this.enableOptionSharing&&Zf(i);if(h)return GE(h,f);const g=this.chart.config,y=g.datasetElementScopeKeys(this._type,t),b=a?[`${t}Hover`,"hover",t,""]:[t,""],T=g.getOptionScopes(this.getDataset(),y),x=Object.keys(we.elements[t]),I=()=>this.getContext(i,a,e),C=g.resolveNamedOptions(T,x,I,b);return C.$shared&&(C.$shared=f,o[c]=Object.freeze(GE(C,f))),C}_resolveAnimations(t,e,i){const a=this.chart,o=this._cachedDataOpts,c=`animation-${e}`,h=o[c];if(h)return h;let f;if(a.options.animation!==!1){const y=this.chart.config,b=y.datasetAnimationScopeKeys(this._type,e),T=y.getOptionScopes(this.getDataset(),b);f=y.createResolver(T,this.getContext(t,i,e))}const g=new Fw(a,f&&f.animations);return f&&f._cacheable&&(o[c]=Object.freeze(g)),g}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||ip(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),a=this._sharedOptions,o=this.getSharedOptions(i),c=this.includeOptions(e,o)||o!==a;return this.updateSharedOptions(o,e,i),{sharedOptions:o,includeOptions:c}}updateElement(t,e,i,a){ip(a)?Object.assign(t,i):this._resolveAnimations(e,a).update(t,i)}updateSharedOptions(t,e,i){t&&!ip(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,a){t.active=a;const o=this.getStyle(e,a);this._resolveAnimations(e,i,a).update(t,{options:!a&&this.getSharedOptions(o)||o})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[h,f,g]of this._syncList)this[h](f,g);this._syncList=[];const a=i.length,o=e.length,c=Math.min(o,a);c&&this.parse(0,c),o>a?this._insertElements(a,o-a,t):o<a&&this._removeElements(o,a-o)}_insertElements(t,e,i=!0){const a=this._cachedMeta,o=a.data,c=t+e;let h;const f=g=>{for(g.length+=e,h=g.length-1;h>=c;h--)g[h]=g[h-e]};for(f(o),h=t;h<c;++h)o[h]=new this.dataElementType;this._parsing&&f(a._parsed),this.parse(t,e),i&&this.updateElements(o,t,e,"reset")}updateElements(t,e,i,a){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const a=i._parsed.splice(t,e);i._stacked&&xc(i,a)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,a]=t;this[e](i,a)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}class c5 extends Gw{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:i,data:a=[],_dataset:o}=e,c=this.chart._animationsDisabled;let{start:h,count:f}=$4(e,a,c);this._drawStart=h,this._drawCount=f,Y4(e)&&(h=0,f=a.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!o._decimated,i.points=a;const g=this.resolveDatasetElementOptions(t);this.options.showLine||(g.borderWidth=0),g.segment=this.options.segment,this.updateElement(i,void 0,{animated:!c,options:g},t),this.updateElements(a,h,f,t)}updateElements(t,e,i,a){const o=a==="reset",{iScale:c,vScale:h,_stacked:f,_dataset:g}=this._cachedMeta,{sharedOptions:y,includeOptions:b}=this._getSharedOptions(e,a),T=c.axis,x=h.axis,{spanGaps:I,segment:C}=this.options,k=au(I)?I:Number.POSITIVE_INFINITY,U=this.chart._animationsDisabled||o||a==="none",W=e+i,Z=t.length;let nt=e>0&&this.getParsed(e-1);for(let tt=0;tt<Z;++tt){const lt=t[tt],D=U?lt:{};if(tt<e||tt>=W){D.skip=!0;continue}const A=this.getParsed(tt),N=ae(A[x]),P=D[T]=c.getPixelForValue(A[T],tt),z=D[x]=o||N?h.getBasePixel():h.getPixelForValue(f?this.applyStack(h,A,f):A[x],tt);D.skip=isNaN(P)||isNaN(z)||N,D.stop=tt>0&&Math.abs(A[T]-nt[T])>k,C&&(D.parsed=A,D.raw=g.data[tt]),b&&(D.options=y||this.resolveDataElementOptions(tt,lt.active?"active":a)),U||this.updateElement(lt,tt,D,a),nt=A}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,i=e.options&&e.options.borderWidth||0,a=t.data||[];if(!a.length)return i;const o=a[0].size(this.resolveDataElementOptions(0)),c=a[a.length-1].size(this.resolveDataElementOptions(a.length-1));return Math.max(i,o,c)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}function Sa(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class r0{static override(t){Object.assign(r0.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return Sa()}parse(){return Sa()}format(){return Sa()}add(){return Sa()}diff(){return Sa()}startOf(){return Sa()}endOf(){return Sa()}}var u5={_date:r0};function h5(n,t,e,i){const{controller:a,data:o,_sorted:c}=n,h=a._cachedMeta.iScale,f=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(h&&t===h.axis&&t!=="r"&&c&&o.length){const g=h._reversePixels?U4:ka;if(i){if(a._sharedOptions){const y=o[0],b=typeof y.getRange=="function"&&y.getRange(t);if(b){const T=g(o,t,e-b),x=g(o,t,e+b);return{lo:T.lo,hi:x.hi}}}}else{const y=g(o,t,e);if(f){const{vScale:b}=a._cachedMeta,{_parsed:T}=n,x=T.slice(0,y.lo+1).reverse().findIndex(C=>!ae(C[b.axis]));y.lo-=Math.max(0,x);const I=T.slice(y.hi).findIndex(C=>!ae(C[b.axis]));y.hi+=Math.max(0,I)}return y}}return{lo:0,hi:o.length-1}}function Rd(n,t,e,i,a){const o=n.getSortedVisibleDatasetMetas(),c=e[t];for(let h=0,f=o.length;h<f;++h){const{index:g,data:y}=o[h],{lo:b,hi:T}=h5(o[h],t,c,a);for(let x=b;x<=T;++x){const I=y[x];I.skip||i(I,g,x)}}}function f5(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,a){const o=t?Math.abs(i.x-a.x):0,c=e?Math.abs(i.y-a.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(c,2))}}function sp(n,t,e,i,a){const o=[];return!a&&!n.isPointInArea(t)||Rd(n,e,t,function(h,f,g){!a&&!ou(h,n.chartArea,0)||h.inRange(t.x,t.y,i)&&o.push({element:h,datasetIndex:f,index:g})},!0),o}function d5(n,t,e,i){let a=[];function o(c,h,f){const{startAngle:g,endAngle:y}=c.getProps(["startAngle","endAngle"],i),{angle:b}=P4(c,{x:t.x,y:t.y});Sw(b,g,y)&&a.push({element:c,datasetIndex:h,index:f})}return Rd(n,e,t,o),a}function g5(n,t,e,i,a,o){let c=[];const h=f5(e);let f=Number.POSITIVE_INFINITY;function g(y,b,T){const x=y.inRange(t.x,t.y,a);if(i&&!x)return;const I=y.getCenterPoint(a);if(!(!!o||n.isPointInArea(I))&&!x)return;const k=h(t,I);k<f?(c=[{element:y,datasetIndex:b,index:T}],f=k):k===f&&c.push({element:y,datasetIndex:b,index:T})}return Rd(n,e,t,g),c}function rp(n,t,e,i,a,o){return!o&&!n.isPointInArea(t)?[]:e==="r"&&!i?d5(n,t,e,a):g5(n,t,e,i,a,o)}function $E(n,t,e,i,a){const o=[],c=e==="x"?"inXRange":"inYRange";let h=!1;return Rd(n,e,t,(f,g,y)=>{f[c]&&f[c](t[e],a)&&(o.push({element:f,datasetIndex:g,index:y}),h=h||f.inRange(t.x,t.y,a))}),i&&!h?[]:o}var m5={modes:{index(n,t,e,i){const a=Aa(t,n),o=e.axis||"x",c=e.includeInvisible||!1,h=e.intersect?sp(n,a,o,i,c):rp(n,a,o,!1,i,c),f=[];return h.length?(n.getSortedVisibleDatasetMetas().forEach(g=>{const y=h[0].index,b=g.data[y];b&&!b.skip&&f.push({element:b,datasetIndex:g.index,index:y})}),f):[]},dataset(n,t,e,i){const a=Aa(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;let h=e.intersect?sp(n,a,o,i,c):rp(n,a,o,!1,i,c);if(h.length>0){const f=h[0].datasetIndex,g=n.getDatasetMeta(f).data;h=[];for(let y=0;y<g.length;++y)h.push({element:g[y],datasetIndex:f,index:y})}return h},point(n,t,e,i){const a=Aa(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;return sp(n,a,o,i,c)},nearest(n,t,e,i){const a=Aa(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;return rp(n,a,o,e.intersect,i,c)},x(n,t,e,i){const a=Aa(t,n);return $E(n,a,"x",e.intersect,i)},y(n,t,e,i){const a=Aa(t,n);return $E(n,a,"y",e.intersect,i)}}};const $w=["left","top","right","bottom"];function Sc(n,t){return n.filter(e=>e.pos===t)}function YE(n,t){return n.filter(e=>$w.indexOf(e.pos)===-1&&e.box.axis===t)}function wc(n,t){return n.sort((e,i)=>{const a=t?i:e,o=t?e:i;return a.weight===o.weight?a.index-o.index:a.weight-o.weight})}function p5(n){const t=[];let e,i,a,o,c,h;for(e=0,i=(n||[]).length;e<i;++e)a=n[e],{position:o,options:{stack:c,stackWeight:h=1}}=a,t.push({index:e,box:a,pos:o,horizontal:a.isHorizontal(),weight:a.weight,stack:c&&o+c,stackWeight:h});return t}function y5(n){const t={};for(const e of n){const{stack:i,pos:a,stackWeight:o}=e;if(!i||!$w.includes(a))continue;const c=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=o}return t}function _5(n,t){const e=y5(n),{vBoxMaxWidth:i,hBoxMaxHeight:a}=t;let o,c,h;for(o=0,c=n.length;o<c;++o){h=n[o];const{fullSize:f}=h.box,g=e[h.stack],y=g&&h.stackWeight/g.weight;h.horizontal?(h.width=y?y*i:f&&t.availableWidth,h.height=a):(h.width=i,h.height=y?y*a:f&&t.availableHeight)}return e}function b5(n){const t=p5(n),e=wc(t.filter(g=>g.box.fullSize),!0),i=wc(Sc(t,"left"),!0),a=wc(Sc(t,"right")),o=wc(Sc(t,"top"),!0),c=wc(Sc(t,"bottom")),h=YE(t,"x"),f=YE(t,"y");return{fullSize:e,leftAndTop:i.concat(o),rightAndBottom:a.concat(f).concat(c).concat(h),chartArea:Sc(t,"chartArea"),vertical:i.concat(a).concat(f),horizontal:o.concat(c).concat(h)}}function KE(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function Yw(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function v5(n,t,e,i){const{pos:a,box:o}=e,c=n.maxPadding;if(!qt(a)){e.size&&(n[a]-=e.size);const b=i[e.stack]||{size:0,count:1};b.size=Math.max(b.size,e.horizontal?o.height:o.width),e.size=b.size/b.count,n[a]+=e.size}o.getPadding&&Yw(c,o.getPadding());const h=Math.max(0,t.outerWidth-KE(c,n,"left","right")),f=Math.max(0,t.outerHeight-KE(c,n,"top","bottom")),g=h!==n.w,y=f!==n.h;return n.w=h,n.h=f,e.horizontal?{same:g,other:y}:{same:y,other:g}}function T5(n){const t=n.maxPadding;function e(i){const a=Math.max(t[i]-n[i],0);return n[i]+=a,a}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function E5(n,t){const e=t.maxPadding;function i(a){const o={left:0,top:0,right:0,bottom:0};return a.forEach(c=>{o[c]=Math.max(t[c],e[c])}),o}return i(n?["left","right"]:["top","bottom"])}function zc(n,t,e,i){const a=[];let o,c,h,f,g,y;for(o=0,c=n.length,g=0;o<c;++o){h=n[o],f=h.box,f.update(h.width||t.w,h.height||t.h,E5(h.horizontal,t));const{same:b,other:T}=v5(t,e,h,i);g|=b&&a.length,y=y||T,f.fullSize||a.push(h)}return g&&zc(a,t,e,i)||y}function hf(n,t,e,i,a){n.top=e,n.left=t,n.right=t+i,n.bottom=e+a,n.width=i,n.height=a}function QE(n,t,e,i){const a=e.padding;let{x:o,y:c}=t;for(const h of n){const f=h.box,g=i[h.stack]||{placed:0,weight:1},y=h.stackWeight/g.weight||1;if(h.horizontal){const b=t.w*y,T=g.size||f.height;Zf(g.start)&&(c=g.start),f.fullSize?hf(f,a.left,c,e.outerWidth-a.right-a.left,T):hf(f,t.left+g.placed,c,b,T),g.start=c,g.placed+=b,c=f.bottom}else{const b=t.h*y,T=g.size||f.width;Zf(g.start)&&(o=g.start),f.fullSize?hf(f,o,a.top,T,e.outerHeight-a.bottom-a.top):hf(f,o,t.top+g.placed,T,b),g.start=o,g.placed+=b,o=f.right}}t.x=o,t.y=c}var ni={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const a=ri(n.options.layout.padding),o=Math.max(t-a.width,0),c=Math.max(e-a.height,0),h=b5(n.boxes),f=h.vertical,g=h.horizontal;Jt(n.boxes,C=>{typeof C.beforeLayout=="function"&&C.beforeLayout()});const y=f.reduce((C,k)=>k.box.options&&k.box.options.display===!1?C:C+1,0)||1,b=Object.freeze({outerWidth:t,outerHeight:e,padding:a,availableWidth:o,availableHeight:c,vBoxMaxWidth:o/2/y,hBoxMaxHeight:c/2}),T=Object.assign({},a);Yw(T,ri(i));const x=Object.assign({maxPadding:T,w:o,h:c,x:a.left,y:a.top},a),I=_5(f.concat(g),b);zc(h.fullSize,x,b,I),zc(f,x,b,I),zc(g,x,b,I)&&zc(f,x,b,I),T5(x),QE(h.leftAndTop,x,b,I),x.x+=x.w,x.y+=x.h,QE(h.rightAndBottom,x,b,I),n.chartArea={left:x.left,top:x.top,right:x.left+x.w,bottom:x.top+x.h,height:x.h,width:x.w},Jt(h.chartArea,C=>{const k=C.box;Object.assign(k,n.chartArea),k.update(x.w,x.h,{left:0,top:0,right:0,bottom:0})})}};class Kw{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,a){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,a?Math.floor(e/a):i)}}isAttached(t){return!0}updateConfig(t){}}class x5 extends Kw{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Rf="$chartjs",S5={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},XE=n=>n===null||n==="";function w5(n,t){const e=n.style,i=n.getAttribute("height"),a=n.getAttribute("width");if(n[Rf]={initial:{height:i,width:a,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",XE(a)){const o=VE(n,"width");o!==void 0&&(n.width=o)}if(XE(i))if(n.style.height==="")n.height=n.width/(t||2);else{const o=VE(n,"height");o!==void 0&&(n.height=o)}return n}const Qw=Pz?{passive:!0}:!1;function A5(n,t,e){n&&n.addEventListener(t,e,Qw)}function C5(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,Qw)}function R5(n,t){const e=S5[n.type]||n.type,{x:i,y:a}=Aa(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:a!==void 0?a:null}}function ed(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function I5(n,t,e){const i=n.canvas,a=new MutationObserver(o=>{let c=!1;for(const h of o)c=c||ed(h.addedNodes,i),c=c&&!ed(h.removedNodes,i);c&&e()});return a.observe(document,{childList:!0,subtree:!0}),a}function k5(n,t,e){const i=n.canvas,a=new MutationObserver(o=>{let c=!1;for(const h of o)c=c||ed(h.removedNodes,i),c=c&&!ed(h.addedNodes,i);c&&e()});return a.observe(document,{childList:!0,subtree:!0}),a}const cu=new Map;let WE=0;function Xw(){const n=window.devicePixelRatio;n!==WE&&(WE=n,cu.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function D5(n,t){cu.size||window.addEventListener("resize",Xw),cu.set(n,t)}function N5(n){cu.delete(n),cu.size||window.removeEventListener("resize",Xw)}function M5(n,t,e){const i=n.canvas,a=i&&s0(i);if(!a)return;const o=Cw((h,f)=>{const g=a.clientWidth;e(h,f),g<a.clientWidth&&e()},window),c=new ResizeObserver(h=>{const f=h[0],g=f.contentRect.width,y=f.contentRect.height;g===0&&y===0||o(g,y)});return c.observe(a),D5(n,o),c}function ap(n,t,e){e&&e.disconnect(),t==="resize"&&N5(n)}function O5(n,t,e){const i=n.canvas,a=Cw(o=>{n.ctx!==null&&e(R5(o,n))},n);return A5(i,t,a),a}class z5 extends Kw{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(w5(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[Rf])return!1;const i=e[Rf].initial;["height","width"].forEach(o=>{const c=i[o];ae(c)?e.removeAttribute(o):e.setAttribute(o,c)});const a=i.style||{};return Object.keys(a).forEach(o=>{e.style[o]=a[o]}),e.width=e.width,delete e[Rf],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const a=t.$proxies||(t.$proxies={}),c={attach:I5,detach:k5,resize:M5}[e]||O5;a[e]=c(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),a=i[e];if(!a)return;({attach:ap,detach:ap,resize:ap}[e]||C5)(t,e,a),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,a){return Vz(t,e,i,a)}isAttached(t){const e=t&&s0(t);return!!(e&&e.isConnected)}}function V5(n){return!i0()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?x5:z5}class qa{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return au(this.x)&&au(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const a={};return t.forEach(o=>{a[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),a}}function P5(n,t){const e=n.options.ticks,i=L5(n),a=Math.min(e.maxTicksLimit||i,i),o=e.major.enabled?U5(t):[],c=o.length,h=o[0],f=o[c-1],g=[];if(c>a)return B5(t,g,o,c/a),g;const y=j5(o,t,a);if(c>0){let b,T;const x=c>1?Math.round((f-h)/(c-1)):null;for(ff(t,g,y,ae(x)?0:h-x,h),b=0,T=c-1;b<T;b++)ff(t,g,y,o[b],o[b+1]);return ff(t,g,y,f,ae(x)?t.length:f+x),g}return ff(t,g,y),g}function L5(n){const t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),a=n._maxLength/e;return Math.floor(Math.min(i,a))}function j5(n,t,e){const i=H5(n),a=t.length/e;if(!i)return Math.max(a,1);const o=N4(i);for(let c=0,h=o.length-1;c<h;c++){const f=o[c];if(f>a)return f}return Math.max(a,1)}function U5(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function B5(n,t,e,i){let a=0,o=e[0],c;for(i=Math.ceil(i),c=0;c<n.length;c++)c===o&&(t.push(n[c]),a++,o=e[a*i])}function ff(n,t,e,i,a){const o=Ht(i,0),c=Math.min(Ht(a,n.length),n.length);let h=0,f,g,y;for(e=Math.ceil(e),a&&(f=a-i,e=f/Math.floor(f/e)),y=o;y<0;)h++,y=Math.round(o+h*e);for(g=Math.max(o,0);g<c;g++)g===y&&(t.push(n[g]),h++,y=Math.round(o+h*e))}function H5(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}const F5=n=>n==="left"?"right":n==="right"?"left":n,ZE=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,JE=(n,t)=>Math.min(t||n,n);function t1(n,t){const e=[],i=n.length/t,a=n.length;let o=0;for(;o<a;o+=i)e.push(n[Math.floor(o)]);return e}function q5(n,t,e){const i=n.ticks.length,a=Math.min(t,i-1),o=n._startPixel,c=n._endPixel,h=1e-6;let f=n.getPixelForTick(a),g;if(!(e&&(i===1?g=Math.max(f-o,c-f):t===0?g=(n.getPixelForTick(1)-f)/2:g=(f-n.getPixelForTick(a-1))/2,f+=a<t?g:-g,f<o-h||f>c+h)))return f}function G5(n,t){Jt(n,e=>{const i=e.gc,a=i.length/2;let o;if(a>t){for(o=0;o<a;++o)delete e.data[i[o]];i.splice(0,a)}})}function Ac(n){return n.drawTicks?n.tickLength:0}function e1(n,t){if(!n.display)return 0;const e=cn(n.font,t),i=ri(n.padding);return(Be(n.text)?n.text.length:1)*e.lineHeight+i.height}function $5(n,t){return Fa(n,{scale:t,type:"scale"})}function Y5(n,t,e){return Fa(n,{tick:e,index:t,type:"tick"})}function K5(n,t,e){let i=Zy(n);return(e&&t!=="right"||!e&&t==="right")&&(i=F5(i)),i}function Q5(n,t,e,i){const{top:a,left:o,bottom:c,right:h,chart:f}=n,{chartArea:g,scales:y}=f;let b=0,T,x,I;const C=c-a,k=h-o;if(n.isHorizontal()){if(x=an(i,o,h),qt(e)){const U=Object.keys(e)[0],W=e[U];I=y[U].getPixelForValue(W)+C-t}else e==="center"?I=(g.bottom+g.top)/2+C-t:I=ZE(n,e,t);T=h-o}else{if(qt(e)){const U=Object.keys(e)[0],W=e[U];x=y[U].getPixelForValue(W)-k+t}else e==="center"?x=(g.left+g.right)/2-k+t:x=ZE(n,e,t);I=an(i,c,a),b=e==="left"?-vi:vi}return{titleX:x,titleY:I,maxWidth:T,rotation:b}}class pl extends qa{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:a}=this;return t=Yi(t,Number.POSITIVE_INFINITY),e=Yi(e,Number.NEGATIVE_INFINITY),i=Yi(i,Number.POSITIVE_INFINITY),a=Yi(a,Number.NEGATIVE_INFINITY),{min:Yi(t,i),max:Yi(e,a),minDefined:dn(t),maxDefined:dn(e)}}getMinMax(t){let{min:e,max:i,minDefined:a,maxDefined:o}=this.getUserBounds(),c;if(a&&o)return{min:e,max:i};const h=this.getMatchingVisibleMetas();for(let f=0,g=h.length;f<g;++f)c=h[f].controller.getMinMax(this,t),a||(e=Math.min(e,c.min)),o||(i=Math.max(i,c.max));return e=o&&e>i?i:e,i=a&&e>i?e:i,{min:Yi(e,Yi(i,e)),max:Yi(i,Yi(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){ue(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:a,grace:o,ticks:c}=this.options,h=c.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=gz(this,o,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const f=h<this.ticks.length;this._convertTicksToLabels(f?t1(this.ticks,h):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||c.source==="auto")&&(this.ticks=P5(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),f&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){ue(this.options.afterUpdate,[this])}beforeSetDimensions(){ue(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){ue(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),ue(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){ue(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,a,o;for(i=0,a=t.length;i<a;i++)o=t[i],o.label=ue(e.callback,[o.value,i,t],this)}afterTickToLabelConversion(){ue(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){ue(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=JE(this.ticks.length,t.ticks.maxTicksLimit),a=e.minRotation||0,o=e.maxRotation;let c=a,h,f,g;if(!this._isVisible()||!e.display||a>=o||i<=1||!this.isHorizontal()){this.labelRotation=a;return}const y=this._getLabelSizes(),b=y.widest.width,T=y.highest.height,x=ei(this.chart.width-b,0,this.maxWidth);h=t.offset?this.maxWidth/i:x/(i-1),b+6>h&&(h=x/(i-(t.offset?.5:1)),f=this.maxHeight-Ac(t.grid)-e.padding-e1(t.title,this.chart.options.font),g=Math.sqrt(b*b+T*T),c=V4(Math.min(Math.asin(ei((y.highest.height+6)/h,-1,1)),Math.asin(ei(f/g,-1,1))-Math.asin(ei(T/g,-1,1)))),c=Math.max(a,Math.min(o,c))),this.labelRotation=c}afterCalculateLabelRotation(){ue(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){ue(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:a,grid:o}}=this,c=this._isVisible(),h=this.isHorizontal();if(c){const f=e1(a,e.options.font);if(h?(t.width=this.maxWidth,t.height=Ac(o)+f):(t.height=this.maxHeight,t.width=Ac(o)+f),i.display&&this.ticks.length){const{first:g,last:y,widest:b,highest:T}=this._getLabelSizes(),x=i.padding*2,I=Ia(this.labelRotation),C=Math.cos(I),k=Math.sin(I);if(h){const U=i.mirror?0:k*b.width+C*T.height;t.height=Math.min(this.maxHeight,t.height+U+x)}else{const U=i.mirror?0:C*b.width+k*T.height;t.width=Math.min(this.maxWidth,t.width+U+x)}this._calculatePadding(g,y,k,C)}}this._handleMargins(),h?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,a){const{ticks:{align:o,padding:c},position:h}=this.options,f=this.labelRotation!==0,g=h!=="top"&&this.axis==="x";if(this.isHorizontal()){const y=this.getPixelForTick(0)-this.left,b=this.right-this.getPixelForTick(this.ticks.length-1);let T=0,x=0;f?g?(T=a*t.width,x=i*e.height):(T=i*t.height,x=a*e.width):o==="start"?x=e.width:o==="end"?T=t.width:o!=="inner"&&(T=t.width/2,x=e.width/2),this.paddingLeft=Math.max((T-y+c)*this.width/(this.width-y),0),this.paddingRight=Math.max((x-b+c)*this.width/(this.width-b),0)}else{let y=e.height/2,b=t.height/2;o==="start"?(y=0,b=t.height):o==="end"&&(y=e.height,b=0),this.paddingTop=y+c,this.paddingBottom=b+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){ue(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)ae(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=t1(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:a,_longestTextCache:o}=this,c=[],h=[],f=Math.floor(e/JE(e,i));let g=0,y=0,b,T,x,I,C,k,U,W,Z,nt,tt;for(b=0;b<e;b+=f){if(I=t[b].label,C=this._resolveTickFontOptions(b),a.font=k=C.string,U=o[k]=o[k]||{data:{},gc:[]},W=C.lineHeight,Z=nt=0,!ae(I)&&!Be(I))Z=DE(a,U.data,U.gc,Z,I),nt=W;else if(Be(I))for(T=0,x=I.length;T<x;++T)tt=I[T],!ae(tt)&&!Be(tt)&&(Z=DE(a,U.data,U.gc,Z,tt),nt+=W);c.push(Z),h.push(nt),g=Math.max(Z,g),y=Math.max(nt,y)}G5(o,e);const lt=c.indexOf(g),D=h.indexOf(y),A=N=>({width:c[N]||0,height:h[N]||0});return{first:A(0),last:A(e-1),widest:A(lt),highest:A(D),widths:c,heights:h}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return j4(this._alignToPixels?xa(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=Y5(this.getContext(),t,i))}return this.$context||(this.$context=$5(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=Ia(this.labelRotation),i=Math.abs(Math.cos(e)),a=Math.abs(Math.sin(e)),o=this._getLabelSizes(),c=t.autoSkipPadding||0,h=o?o.widest.width+c:0,f=o?o.highest.height+c:0;return this.isHorizontal()?f*i>h*a?h/i:f/a:f*a<h*i?f/i:h/a}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,a=this.options,{grid:o,position:c,border:h}=a,f=o.offset,g=this.isHorizontal(),b=this.ticks.length+(f?1:0),T=Ac(o),x=[],I=h.setContext(this.getContext()),C=I.display?I.width:0,k=C/2,U=function(F){return xa(i,F,C)};let W,Z,nt,tt,lt,D,A,N,P,z,L,O;if(c==="top")W=U(this.bottom),D=this.bottom-T,N=W-k,z=U(t.top)+k,O=t.bottom;else if(c==="bottom")W=U(this.top),z=t.top,O=U(t.bottom)-k,D=W+k,N=this.top+T;else if(c==="left")W=U(this.right),lt=this.right-T,A=W-k,P=U(t.left)+k,L=t.right;else if(c==="right")W=U(this.left),P=t.left,L=U(t.right)-k,lt=W+k,A=this.left+T;else if(e==="x"){if(c==="center")W=U((t.top+t.bottom)/2+.5);else if(qt(c)){const F=Object.keys(c)[0],Y=c[F];W=U(this.chart.scales[F].getPixelForValue(Y))}z=t.top,O=t.bottom,D=W+k,N=D+T}else if(e==="y"){if(c==="center")W=U((t.left+t.right)/2);else if(qt(c)){const F=Object.keys(c)[0],Y=c[F];W=U(this.chart.scales[F].getPixelForValue(Y))}lt=W-k,A=lt-T,P=t.left,L=t.right}const wt=Ht(a.ticks.maxTicksLimit,b),ut=Math.max(1,Math.ceil(b/wt));for(Z=0;Z<b;Z+=ut){const F=this.getContext(Z),Y=o.setContext(F),ht=h.setContext(F),Tt=Y.lineWidth,At=Y.color,M=ht.dash||[],$=ht.dashOffset,at=Y.tickWidth,it=Y.tickColor,gt=Y.tickBorderDash||[],ct=Y.tickBorderDashOffset;nt=q5(this,Z,f),nt!==void 0&&(tt=xa(i,nt,Tt),g?lt=A=P=L=tt:D=N=z=O=tt,x.push({tx1:lt,ty1:D,tx2:A,ty2:N,x1:P,y1:z,x2:L,y2:O,width:Tt,color:At,borderDash:M,borderDashOffset:$,tickWidth:at,tickColor:it,tickBorderDash:gt,tickBorderDashOffset:ct}))}return this._ticksLength=b,this._borderValue=W,x}_computeLabelItems(t){const e=this.axis,i=this.options,{position:a,ticks:o}=i,c=this.isHorizontal(),h=this.ticks,{align:f,crossAlign:g,padding:y,mirror:b}=o,T=Ac(i.grid),x=T+y,I=b?-y:x,C=-Ia(this.labelRotation),k=[];let U,W,Z,nt,tt,lt,D,A,N,P,z,L,O="middle";if(a==="top")lt=this.bottom-I,D=this._getXAxisLabelAlignment();else if(a==="bottom")lt=this.top+I,D=this._getXAxisLabelAlignment();else if(a==="left"){const ut=this._getYAxisLabelAlignment(T);D=ut.textAlign,tt=ut.x}else if(a==="right"){const ut=this._getYAxisLabelAlignment(T);D=ut.textAlign,tt=ut.x}else if(e==="x"){if(a==="center")lt=(t.top+t.bottom)/2+x;else if(qt(a)){const ut=Object.keys(a)[0],F=a[ut];lt=this.chart.scales[ut].getPixelForValue(F)+x}D=this._getXAxisLabelAlignment()}else if(e==="y"){if(a==="center")tt=(t.left+t.right)/2-x;else if(qt(a)){const ut=Object.keys(a)[0],F=a[ut];tt=this.chart.scales[ut].getPixelForValue(F)}D=this._getYAxisLabelAlignment(T).textAlign}e==="y"&&(f==="start"?O="top":f==="end"&&(O="bottom"));const wt=this._getLabelSizes();for(U=0,W=h.length;U<W;++U){Z=h[U],nt=Z.label;const ut=o.setContext(this.getContext(U));A=this.getPixelForTick(U)+o.labelOffset,N=this._resolveTickFontOptions(U),P=N.lineHeight,z=Be(nt)?nt.length:1;const F=z/2,Y=ut.color,ht=ut.textStrokeColor,Tt=ut.textStrokeWidth;let At=D;c?(tt=A,D==="inner"&&(U===W-1?At=this.options.reverse?"left":"right":U===0?At=this.options.reverse?"right":"left":At="center"),a==="top"?g==="near"||C!==0?L=-z*P+P/2:g==="center"?L=-wt.highest.height/2-F*P+P:L=-wt.highest.height+P/2:g==="near"||C!==0?L=P/2:g==="center"?L=wt.highest.height/2-F*P:L=wt.highest.height-z*P,b&&(L*=-1),C!==0&&!ut.showLabelBackdrop&&(tt+=P/2*Math.sin(C))):(lt=A,L=(1-z)*P/2);let M;if(ut.showLabelBackdrop){const $=ri(ut.backdropPadding),at=wt.heights[U],it=wt.widths[U];let gt=L-$.top,ct=0-$.left;switch(O){case"middle":gt-=at/2;break;case"bottom":gt-=at;break}switch(D){case"center":ct-=it/2;break;case"right":ct-=it;break;case"inner":U===W-1?ct-=it:U>0&&(ct-=it/2);break}M={left:ct,top:gt,width:it+$.width,height:at+$.height,color:ut.backdropColor}}k.push({label:nt,font:N,textOffset:L,options:{rotation:C,color:Y,strokeColor:ht,strokeWidth:Tt,textAlign:At,textBaseline:O,translation:[tt,lt],backdrop:M}})}return k}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-Ia(this.labelRotation))return t==="top"?"left":"right";let a="center";return e.align==="start"?a="left":e.align==="end"?a="right":e.align==="inner"&&(a="inner"),a}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:a,padding:o}}=this.options,c=this._getLabelSizes(),h=t+o,f=c.widest.width;let g,y;return e==="left"?a?(y=this.right+o,i==="near"?g="left":i==="center"?(g="center",y+=f/2):(g="right",y+=f)):(y=this.right-h,i==="near"?g="right":i==="center"?(g="center",y-=f/2):(g="left",y=this.left)):e==="right"?a?(y=this.left+o,i==="near"?g="right":i==="center"?(g="center",y-=f/2):(g="left",y-=f)):(y=this.left+h,i==="near"?g="left":i==="center"?(g="center",y+=f/2):(g="right",y=this.right)):g="right",{textAlign:g,x:y}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:a,width:o,height:c}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,a,o,c),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const a=this.ticks.findIndex(o=>o.value===t);return a>=0?e.setContext(this.getContext(a)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,c;const h=(f,g,y)=>{!y.width||!y.color||(i.save(),i.lineWidth=y.width,i.strokeStyle=y.color,i.setLineDash(y.borderDash||[]),i.lineDashOffset=y.borderDashOffset,i.beginPath(),i.moveTo(f.x,f.y),i.lineTo(g.x,g.y),i.stroke(),i.restore())};if(e.display)for(o=0,c=a.length;o<c;++o){const f=a[o];e.drawOnChartArea&&h({x:f.x1,y:f.y1},{x:f.x2,y:f.y2},f),e.drawTicks&&h({x:f.tx1,y:f.ty1},{x:f.tx2,y:f.ty2},{color:f.tickColor,width:f.tickWidth,borderDash:f.tickBorderDash,borderDashOffset:f.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:a}}=this,o=i.setContext(this.getContext()),c=i.display?o.width:0;if(!c)return;const h=a.setContext(this.getContext(0)).lineWidth,f=this._borderValue;let g,y,b,T;this.isHorizontal()?(g=xa(t,this.left,c)-c/2,y=xa(t,this.right,h)+h/2,b=T=f):(b=xa(t,this.top,c)-c/2,T=xa(t,this.bottom,h)+h/2,g=y=f),e.save(),e.lineWidth=o.width,e.strokeStyle=o.color,e.beginPath(),e.moveTo(g,b),e.lineTo(y,T),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,a=this._computeLabelArea();a&&wd(i,a);const o=this.getLabelItems(t);for(const c of o){const h=c.options,f=c.font,g=c.label,y=c.textOffset;lu(i,g,0,y,f,h)}a&&Ad(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:a}}=this;if(!i.display)return;const o=cn(i.font),c=ri(i.padding),h=i.align;let f=o.lineHeight/2;e==="bottom"||e==="center"||qt(e)?(f+=c.bottom,Be(i.text)&&(f+=o.lineHeight*(i.text.length-1))):f+=c.top;const{titleX:g,titleY:y,maxWidth:b,rotation:T}=Q5(this,f,e,h);lu(t,i.text,0,0,o,{color:i.color,maxWidth:b,rotation:T,textAlign:K5(h,e,a),textBaseline:"middle",translation:[g,y]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=Ht(t.grid&&t.grid.z,-1),a=Ht(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==pl.prototype.draw?[{z:e,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:a,draw:()=>{this.drawBorder()}},{z:e,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",a=[];let o,c;for(o=0,c=e.length;o<c;++o){const h=e[o];h[i]===this.id&&(!t||h.type===t)&&a.push(h)}return a}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return cn(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class df{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;Z5(e)&&(i=this.register(e));const a=this.items,o=t.id,c=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in a||(a[o]=t,X5(t,c,i),this.override&&we.override(t.id,t.overrides)),c}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,a=this.scope;i in e&&delete e[i],a&&i in we[a]&&(delete we[a][i],this.override&&delete Ua[i])}}function X5(n,t,e){const i=ru(Object.create(null),[e?we.get(e):{},we.get(t),n.defaults]);we.set(t,i),n.defaultRoutes&&W5(t,n.defaultRoutes),n.descriptors&&we.describe(t,n.descriptors)}function W5(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),a=i.pop(),o=[n].concat(i).join("."),c=t[e].split("."),h=c.pop(),f=c.join(".");we.route(o,a,f,h)})}function Z5(n){return"id"in n&&"defaults"in n}class J5{constructor(){this.controllers=new df(Gw,"datasets",!0),this.elements=new df(qa,"elements"),this.plugins=new df(Object,"plugins"),this.scales=new df(pl,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(a=>{const o=i||this._getRegistryForType(a);i||o.isForType(a)||o===this.plugins&&a.id?this._exec(t,o,a):Jt(a,c=>{const h=i||this._getRegistryForType(c);this._exec(t,h,c)})})}_exec(t,e,i){const a=Xy(t);ue(i["before"+a],[],i),e[t](i),ue(i["after"+a],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const a=e.get(t);if(a===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return a}}var Qi=new J5;class tV{constructor(){this._init=void 0}notify(t,e,i,a){if(e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install")),this._init===void 0)return;const o=a?this._descriptors(t).filter(a):this._descriptors(t),c=this._notify(o,t,e,i);return e==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall"),this._init=void 0),c}_notify(t,e,i,a){a=a||{};for(const o of t){const c=o.plugin,h=c[i],f=[e,a,o.options];if(ue(h,f,c)===!1&&a.cancelable)return!1}return!0}invalidate(){ae(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,a=Ht(i.options&&i.options.plugins,{}),o=eV(i);return a===!1&&!e?[]:iV(t,o,a,e)}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,a=(o,c)=>o.filter(h=>!c.some(f=>h.plugin.id===f.plugin.id));this._notify(a(e,i),t,"stop"),this._notify(a(i,e),t,"start")}}function eV(n){const t={},e=[],i=Object.keys(Qi.plugins.items);for(let o=0;o<i.length;o++)e.push(Qi.getPlugin(i[o]));const a=n.plugins||[];for(let o=0;o<a.length;o++){const c=a[o];e.indexOf(c)===-1&&(e.push(c),t[c.id]=!0)}return{plugins:e,localIds:t}}function nV(n,t){return!t&&n===!1?null:n===!0?{}:n}function iV(n,{plugins:t,localIds:e},i,a){const o=[],c=n.getContext();for(const h of t){const f=h.id,g=nV(i[f],a);g!==null&&o.push({plugin:h,options:sV(n.config,{plugin:h,local:e[f]},g,c)})}return o}function sV(n,{plugin:t,local:e},i,a){const o=n.pluginScopeKeys(t),c=n.getOptionScopes(i,o);return e&&t.defaults&&c.push(t.defaults),n.createResolver(c,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Gp(n,t){const e=we.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function rV(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function aV(n,t){return n===t?"_index_":"_value_"}function n1(n){if(n==="x"||n==="y"||n==="r")return n}function oV(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function $p(n,...t){if(n1(n))return n;for(const e of t){const i=e.axis||oV(e.position)||n.length>1&&n1(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function i1(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function lV(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return i1(n,"x",e[0])||i1(n,"y",e[0])}return{}}function cV(n,t){const e=Ua[n.type]||{scales:{}},i=t.scales||{},a=Gp(n.type,t),o=Object.create(null);return Object.keys(i).forEach(c=>{const h=i[c];if(!qt(h))return console.error(`Invalid scale configuration for scale: ${c}`);if(h._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const f=$p(c,h,lV(c,n),we.scales[h.type]),g=aV(f,a),y=e.scales||{};o[c]=Fc(Object.create(null),[{axis:f},h,y[f],y[g]])}),n.data.datasets.forEach(c=>{const h=c.type||n.type,f=c.indexAxis||Gp(h,t),y=(Ua[h]||{}).scales||{};Object.keys(y).forEach(b=>{const T=rV(b,f),x=c[T+"AxisID"]||T;o[x]=o[x]||Object.create(null),Fc(o[x],[{axis:T},i[x],y[b]])})}),Object.keys(o).forEach(c=>{const h=o[c];Fc(h,[we.scales[h.type],we.scale])}),o}function Ww(n){const t=n.options||(n.options={});t.plugins=Ht(t.plugins,{}),t.scales=cV(n,t)}function Zw(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function uV(n){return n=n||{},n.data=Zw(n.data),Ww(n),n}const s1=new Map,Jw=new Set;function gf(n,t){let e=s1.get(n);return e||(e=t(),s1.set(n,e),Jw.add(e)),e}const Cc=(n,t,e)=>{const i=Wf(t,e);i!==void 0&&n.add(i)};class hV{constructor(t){this._config=uV(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=Zw(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),Ww(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return gf(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return gf(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return gf(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,i=this.type;return gf(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let a=i.get(t);return(!a||e)&&(a=new Map,i.set(t,a)),a}getOptionScopes(t,e,i){const{options:a,type:o}=this,c=this._cachedScopes(t,i),h=c.get(e);if(h)return h;const f=new Set;e.forEach(y=>{t&&(f.add(t),y.forEach(b=>Cc(f,t,b))),y.forEach(b=>Cc(f,a,b)),y.forEach(b=>Cc(f,Ua[o]||{},b)),y.forEach(b=>Cc(f,we,b)),y.forEach(b=>Cc(f,Hp,b))});const g=Array.from(f);return g.length===0&&g.push(Object.create(null)),Jw.has(e)&&c.set(e,g),g}chartOptionScopes(){const{options:t,type:e}=this;return[t,Ua[e]||{},we.datasets[e]||{},{type:e},we,Hp]}resolveNamedOptions(t,e,i,a=[""]){const o={$shared:!0},{resolver:c,subPrefixes:h}=r1(this._resolverCache,t,a);let f=c;if(dV(c,e)){o.$shared=!1,i=Br(i)?i():i;const g=this.createResolver(t,i,h);f=rl(c,i,g)}for(const g of e)o[g]=f[g];return o}createResolver(t,e,i=[""],a){const{resolver:o}=r1(this._resolverCache,t,i);return qt(e)?rl(o,e,void 0,a):o}}function r1(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const a=e.join();let o=i.get(a);return o||(o={resolver:t0(t,e),subPrefixes:e.filter(h=>!h.toLowerCase().includes("hover"))},i.set(a,o)),o}const fV=n=>qt(n)&&Object.getOwnPropertyNames(n).some(t=>Br(n[t]));function dV(n,t){const{isScriptable:e,isIndexable:i}=Nw(n);for(const a of t){const o=e(a),c=i(a),h=(c||o)&&n[a];if(o&&(Br(h)||fV(h))||c&&Be(h))return!0}return!1}var gV="4.5.1";const mV=["top","bottom","left","right","chartArea"];function a1(n,t){return n==="top"||n==="bottom"||mV.indexOf(n)===-1&&t==="x"}function o1(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function l1(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),ue(e&&e.onComplete,[n],t)}function pV(n){const t=n.chart,e=t.options.animation;ue(e&&e.onProgress,[n],t)}function tA(n){return i0()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const If={},c1=n=>{const t=tA(n);return Object.values(If).filter(e=>e.canvas===t).pop()};function yV(n,t,e){const i=Object.keys(n);for(const a of i){const o=+a;if(o>=t){const c=n[a];delete n[a],(e>0||o>t)&&(n[o+e]=c)}}}function _V(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}let Id=class{static defaults=we;static instances=If;static overrides=Ua;static registry=Qi;static version=gV;static getChart=c1;static register(...t){Qi.add(...t),u1()}static unregister(...t){Qi.remove(...t),u1()}constructor(t,e){const i=this.config=new hV(e),a=tA(t),o=c1(a);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const c=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||V5(a)),this.platform.updateConfig(i);const h=this.platform.acquireContext(a,c.aspectRatio),f=h&&h.canvas,g=f&&f.height,y=f&&f.width;if(this.id=x4(),this.ctx=h,this.canvas=f,this.width=y,this.height=g,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new tV,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=q4(b=>this.update(b),c.resizeDelay||0),this._dataChanges=[],If[this.id]=this,!h||!f){console.error("Failed to create chart: can't acquire context from the given item");return}As.listen(this,"complete",l1),As.listen(this,"progress",pV),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:a,_aspectRatio:o}=this;return ae(t)?e&&o?o:a?i/a:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Qi}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():zE(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return NE(this.canvas,this.ctx),this}stop(){return As.stop(this),this}resize(t,e){As.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,a=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,c=this.platform.getMaximumSize(a,t,e,o),h=i.devicePixelRatio||this.platform.getDevicePixelRatio(),f=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,zE(this,h,!0)&&(this.notifyPlugins("resize",{size:c}),ue(i.onResize,[this,c],this),this.attached&&this._doResize(f)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};Jt(e,(i,a)=>{i.id=a})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,a=Object.keys(i).reduce((c,h)=>(c[h]=!1,c),{});let o=[];e&&(o=o.concat(Object.keys(e).map(c=>{const h=e[c],f=$p(c,h),g=f==="r",y=f==="x";return{options:h,dposition:g?"chartArea":y?"bottom":"left",dtype:g?"radialLinear":y?"category":"linear"}}))),Jt(o,c=>{const h=c.options,f=h.id,g=$p(f,h),y=Ht(h.type,c.dtype);(h.position===void 0||a1(h.position,g)!==a1(c.dposition))&&(h.position=c.dposition),a[f]=!0;let b=null;if(f in i&&i[f].type===y)b=i[f];else{const T=Qi.getScale(y);b=new T({id:f,type:y,ctx:this.ctx,chart:this}),i[b.id]=b}b.init(h,t)}),Jt(a,(c,h)=>{c||delete i[h]}),Jt(i,c=>{ni.configure(this,c,c.options),ni.addBox(this,c)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((a,o)=>a.index-o.index),i>e){for(let a=e;a<i;++a)this._destroyDatasetMeta(a);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(o1("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,a)=>{e.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,a;for(this._removeUnreferencedMetasets(),i=0,a=e.length;i<a;i++){const o=e[i];let c=this.getDatasetMeta(i);const h=o.type||this.config.type;if(c.type&&c.type!==h&&(this._destroyDatasetMeta(i),c=this.getDatasetMeta(i)),c.type=h,c.indexAxis=o.indexAxis||Gp(h,this.options),c.order=o.order||0,c.index=i,c.label=""+o.label,c.visible=this.isDatasetVisible(i),c.controller)c.controller.updateIndex(i),c.controller.linkScales();else{const f=Qi.getController(h),{datasetElementType:g,dataElementType:y}=we.datasets[h];Object.assign(f,{dataElementType:Qi.getElement(y),datasetElementType:g&&Qi.getElement(g)}),c.controller=new f(this,i),t.push(c.controller)}}return this._updateMetasets(),t}_resetElements(){Jt(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let g=0,y=this.data.datasets.length;g<y;g++){const{controller:b}=this.getDatasetMeta(g),T=!a&&o.indexOf(b)===-1;b.buildOrUpdateElements(T),c=Math.max(+b.getMaxOverflow(),c)}c=this._minPadding=i.layout.autoPadding?c:0,this._updateLayout(c),a||Jt(o,g=>{g.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(o1("z","_idx"));const{_active:h,_lastEvent:f}=this;f?this._eventHandler(f,!0):h.length&&this._updateHoverStyles(h,h,!0),this.render()}_updateScales(){Jt(this.scales,t=>{ni.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!EE(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:a,count:o}of e){const c=i==="_removeElements"?-o:o;yV(t,a,c)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=o=>new Set(t.filter(c=>c[0]===o).map((c,h)=>h+","+c.splice(1).join(","))),a=i(0);for(let o=1;o<e;o++)if(!EE(a,i(o)))return;return Array.from(a).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;ni.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],Jt(this.boxes,a=>{i&&a.position==="chartArea"||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,o)=>{a._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,Br(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),a={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",a)!==!1&&(i.controller._update(e),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(As.has(this)?this.attached&&!As.running(this)&&As.start(this):(this.draw(),l1({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:a}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,a)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let a,o;for(a=0,o=e.length;a<o;++a){const c=e[a];(!t||c.visible)&&i.push(c)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i={meta:t,index:t.index,cancelable:!0},a=Hw(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(a&&wd(e,a),t.controller.draw(),a&&Ad(e),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return ou(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,a){const o=m5.modes[e];return typeof o=="function"?o(this,t,i,a):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let a=i.filter(o=>o&&o._dataset===e).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(a)),a}getContext(){return this.$context||(this.$context=Fa(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const a=i?"show":"hide",o=this.getDatasetMeta(t),c=o.controller._resolveAnimations(void 0,a);Zf(e)?(o.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),c.update(o,{visible:i}),this.update(h=>h.datasetIndex===t?a:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),As.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),NE(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete If[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(o,c)=>{e.addEventListener(this,o,c),t[o]=c},a=(o,c,h)=>{o.offsetX=c,o.offsetY=h,this._eventHandler(o)};Jt(this.options.events,o=>i(o,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(f,g)=>{e.addEventListener(this,f,g),t[f]=g},a=(f,g)=>{t[f]&&(e.removeEventListener(this,f,g),delete t[f])},o=(f,g)=>{this.canvas&&this.resize(f,g)};let c;const h=()=>{a("attach",h),this.attached=!0,this.resize(),i("resize",o),i("detach",c)};c=()=>{this.attached=!1,a("resize",o),this._stop(),this._resize(0,0),i("attach",h)},e.isAttached(this.canvas)?h():c()}unbindEvents(){Jt(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},Jt(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const a=i?"set":"remove";let o,c,h,f;for(e==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+a+"DatasetHoverStyle"]()),h=0,f=t.length;h<f;++h){c=t[h];const g=c&&this.getDatasetMeta(c.datasetIndex).controller;g&&g[a+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:o,index:c})=>{const h=this.getDatasetMeta(o);if(!h)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:h.data[c],index:c}});!Qf(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,i){const a=this.options.hover,o=(f,g)=>f.filter(y=>!g.some(b=>y.datasetIndex===b.datasetIndex&&y.index===b.index)),c=o(e,t),h=i?t:o(t,e);c.length&&this.updateHoverStyle(c,a.mode,!1),h.length&&a.mode&&this.updateHoverStyle(h,a.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},a=c=>(c.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,a)===!1)return;const o=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,a),(o||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:a=[],options:o}=this,c=e,h=this._getActiveElements(t,a,i,c),f=I4(t),g=_V(t,this._lastEvent,i,f);i&&(this._lastEvent=null,ue(o.onHover,[t,h,this],this),f&&ue(o.onClick,[t,h,this],this));const y=!Qf(h,a);return(y||e)&&(this._active=h,this._updateHoverStyles(h,a,e)),this._lastEvent=g,y}_getActiveElements(t,e,i,a){if(t.type==="mouseout")return[];if(!i)return e;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,a)}};function u1(){return Jt(Id.instances,n=>n._plugins.invalidate())}function eA(n,t,e=t){n.lineCap=Ht(e.borderCapStyle,t.borderCapStyle),n.setLineDash(Ht(e.borderDash,t.borderDash)),n.lineDashOffset=Ht(e.borderDashOffset,t.borderDashOffset),n.lineJoin=Ht(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=Ht(e.borderWidth,t.borderWidth),n.strokeStyle=Ht(e.borderColor,t.borderColor)}function bV(n,t,e){n.lineTo(e.x,e.y)}function vV(n){return n.stepped?sz:n.tension||n.cubicInterpolationMode==="monotone"?rz:bV}function nA(n,t,e={}){const i=n.length,{start:a=0,end:o=i-1}=e,{start:c,end:h}=t,f=Math.max(a,c),g=Math.min(o,h),y=a<c&&o<c||a>h&&o>h;return{count:i,start:f,loop:t.loop,ilen:g<f&&!y?i+g-f:g-f}}function TV(n,t,e,i){const{points:a,options:o}=t,{count:c,start:h,loop:f,ilen:g}=nA(a,e,i),y=vV(o);let{move:b=!0,reverse:T}=i||{},x,I,C;for(x=0;x<=g;++x)I=a[(h+(T?g-x:x))%c],!I.skip&&(b?(n.moveTo(I.x,I.y),b=!1):y(n,C,I,T,o.stepped),C=I);return f&&(I=a[(h+(T?g:0))%c],y(n,C,I,T,o.stepped)),!!f}function EV(n,t,e,i){const a=t.points,{count:o,start:c,ilen:h}=nA(a,e,i),{move:f=!0,reverse:g}=i||{};let y=0,b=0,T,x,I,C,k,U;const W=nt=>(c+(g?h-nt:nt))%o,Z=()=>{C!==k&&(n.lineTo(y,k),n.lineTo(y,C),n.lineTo(y,U))};for(f&&(x=a[W(0)],n.moveTo(x.x,x.y)),T=0;T<=h;++T){if(x=a[W(T)],x.skip)continue;const nt=x.x,tt=x.y,lt=nt|0;lt===I?(tt<C?C=tt:tt>k&&(k=tt),y=(b*y+nt)/++b):(Z(),n.lineTo(nt,tt),I=lt,b=0,C=k=tt),U=tt}Z()}function Yp(n){const t=n.options,e=t.borderDash&&t.borderDash.length;return!n._decimated&&!n._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?EV:TV}function xV(n){return n.stepped?Lz:n.tension||n.cubicInterpolationMode==="monotone"?jz:Ca}function SV(n,t,e,i){let a=t._path;a||(a=t._path=new Path2D,t.path(a,e,i)&&a.closePath()),eA(n,t.options),n.stroke(a)}function wV(n,t,e,i){const{segments:a,options:o}=t,c=Yp(t);for(const h of a)eA(n,o,h.style),n.beginPath(),c(n,t,h,{start:e,end:e+i-1})&&n.closePath(),n.stroke()}const AV=typeof Path2D=="function";function CV(n,t,e,i){AV&&!t.options.segment?SV(n,t,e,i):wV(n,t,e,i)}class kd extends qa{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const a=i.spanGaps?this._loop:this._fullLoop;kz(this._points,i,t,a,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Gz(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,i=t.length;return i&&e[t[i-1].end]}interpolate(t,e){const i=this.options,a=t[e],o=this.points,c=Bw(this,{property:e,start:a,end:a});if(!c.length)return;const h=[],f=xV(i);let g,y;for(g=0,y=c.length;g<y;++g){const{start:b,end:T}=c[g],x=o[b],I=o[T];if(x===I){h.push(x);continue}const C=Math.abs((a-x[e])/(I[e]-x[e])),k=f(x,I,C,i.stepped);k[e]=t[e],h.push(k)}return h.length===1?h[0]:h}pathSegment(t,e,i){return Yp(this)(t,this,e,i)}path(t,e,i){const a=this.segments,o=Yp(this);let c=this._loop;e=e||0,i=i||this.points.length-e;for(const h of a)c&=o(t,this,h,{start:e,end:e+i-1});return!!c}draw(t,e,i,a){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(t.save(),CV(t,this,i,a),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function h1(n,t,e,i){const a=n.options,{[e]:o}=n.getProps([e],i);return Math.abs(t-o)<a.radius+a.hitRadius}class RV extends qa{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,i){const a=this.options,{x:o,y:c}=this.getProps(["x","y"],i);return Math.pow(t-o,2)+Math.pow(e-c,2)<Math.pow(a.hitRadius+a.radius,2)}inXRange(t,e){return h1(this,t,"x",e)}inYRange(t,e){return h1(this,t,"y",e)}getCenterPoint(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}size(t){t=t||this.options||{};let e=t.radius||0;e=Math.max(e,e&&t.hoverRadius||0);const i=e&&t.borderWidth||0;return(e+i)*2}draw(t,e){const i=this.options;this.skip||i.radius<.1||!ou(this,e,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,Fp(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function IV(n,t,e){const i=n.segments,a=n.points,o=t.points,c=[];for(const h of i){let{start:f,end:g}=h;g=Dd(f,g,a);const y=Kp(e,a[f],a[g],h.loop);if(!t.segments){c.push({source:h,target:y,start:a[f],end:a[g]});continue}const b=Bw(t,y);for(const T of b){const x=Kp(e,o[T.start],o[T.end],T.loop),I=Uw(h,a,x);for(const C of I)c.push({source:C,target:T,start:{[e]:f1(y,x,"start",Math.max)},end:{[e]:f1(y,x,"end",Math.min)}})}}return c}function Kp(n,t,e,i){if(i)return;let a=t[n],o=e[n];return n==="angle"&&(a=Wi(a),o=Wi(o)),{property:n,start:a,end:o}}function kV(n,t){const{x:e=null,y:i=null}=n||{},a=t.points,o=[];return t.segments.forEach(({start:c,end:h})=>{h=Dd(c,h,a);const f=a[c],g=a[h];i!==null?(o.push({x:f.x,y:i}),o.push({x:g.x,y:i})):e!==null&&(o.push({x:e,y:f.y}),o.push({x:e,y:g.y}))}),o}function Dd(n,t,e){for(;t>n;t--){const i=e[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function f1(n,t,e,i){return n&&t?i(n[e],t[e]):n?n[e]:t?t[e]:0}function iA(n,t){let e=[],i=!1;return Be(n)?(i=!0,e=n):e=kV(n,t),e.length?new kd({points:e,options:{tension:0},_loop:i,_fullLoop:i}):null}function d1(n){return n&&n.fill!==!1}function DV(n,t,e){let a=n[t].fill;const o=[t];let c;if(!e)return a;for(;a!==!1&&o.indexOf(a)===-1;){if(!dn(a))return a;if(c=n[a],!c)return!1;if(c.visible)return a;o.push(a),a=c.fill}return!1}function NV(n,t,e){const i=VV(n);if(qt(i))return isNaN(i.value)?!1:i;let a=parseFloat(i);return dn(a)&&Math.floor(a)===a?MV(i[0],t,a,e):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function MV(n,t,e,i){return(n==="-"||n==="+")&&(e=t+e),e===t||e<0||e>=i?!1:e}function OV(n,t){let e=null;return n==="start"?e=t.bottom:n==="end"?e=t.top:qt(n)?e=t.getPixelForValue(n.value):t.getBasePixel&&(e=t.getBasePixel()),e}function zV(n,t,e){let i;return n==="start"?i=e:n==="end"?i=t.options.reverse?t.min:t.max:qt(n)?i=n.value:i=t.getBaseValue(),i}function VV(n){const t=n.options,e=t.fill;let i=Ht(e&&e.target,e);return i===void 0&&(i=!!t.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function PV(n){const{scale:t,index:e,line:i}=n,a=[],o=i.segments,c=i.points,h=LV(t,e);h.push(iA({x:null,y:t.bottom},i));for(let f=0;f<o.length;f++){const g=o[f];for(let y=g.start;y<=g.end;y++)jV(a,c[y],h)}return new kd({points:a,options:{}})}function LV(n,t){const e=[],i=n.getMatchingVisibleMetas("line");for(let a=0;a<i.length;a++){const o=i[a];if(o.index===t)break;o.hidden||e.unshift(o.dataset)}return e}function jV(n,t,e){const i=[];for(let a=0;a<e.length;a++){const o=e[a],{first:c,last:h,point:f}=UV(o,t,"x");if(!(!f||c&&h)){if(c)i.unshift(f);else if(n.push(f),!h)break}}n.push(...i)}function UV(n,t,e){const i=n.interpolate(t,e);if(!i)return{};const a=i[e],o=n.segments,c=n.points;let h=!1,f=!1;for(let g=0;g<o.length;g++){const y=o[g],b=c[y.start][e],T=c[y.end][e];if(Ho(a,b,T)){h=a===b,f=a===T;break}}return{first:h,last:f,point:i}}class sA{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,i){const{x:a,y:o,radius:c}=this;return e=e||{start:0,end:Ei},t.arc(a,o,c,e.end,e.start,!0),!i.bounds}interpolate(t){const{x:e,y:i,radius:a}=this,o=t.angle;return{x:e+Math.cos(o)*a,y:i+Math.sin(o)*a,angle:o}}}function BV(n){const{chart:t,fill:e,line:i}=n;if(dn(e))return HV(t,e);if(e==="stack")return PV(n);if(e==="shape")return!0;const a=FV(n);return a instanceof sA?a:iA(a,i)}function HV(n,t){const e=n.getDatasetMeta(t);return e&&n.isDatasetVisible(t)?e.dataset:null}function FV(n){return(n.scale||{}).getPointPositionForValue?GV(n):qV(n)}function qV(n){const{scale:t={},fill:e}=n,i=OV(e,t);if(dn(i)){const a=t.isHorizontal();return{x:a?i:null,y:a?null:i}}return null}function GV(n){const{scale:t,fill:e}=n,i=t.options,a=t.getLabels().length,o=i.reverse?t.max:t.min,c=zV(e,t,o),h=[];if(i.grid.circular){const f=t.getPointPositionForValue(0,o);return new sA({x:f.x,y:f.y,radius:t.getDistanceFromCenterForValue(c)})}for(let f=0;f<a;++f)h.push(t.getPointPositionForValue(f,c));return h}function op(n,t,e){const i=BV(t),{chart:a,index:o,line:c,scale:h,axis:f}=t,g=c.options,y=g.fill,b=g.backgroundColor,{above:T=b,below:x=b}=y||{},I=a.getDatasetMeta(o),C=Hw(a,I);i&&c.points.length&&(wd(n,e),$V(n,{line:c,target:i,above:T,below:x,area:e,scale:h,axis:f,clip:C}),Ad(n))}function $V(n,t){const{line:e,target:i,above:a,below:o,area:c,scale:h,clip:f}=t,g=e._loop?"angle":t.axis;n.save();let y=o;o!==a&&(g==="x"?(g1(n,i,c.top),lp(n,{line:e,target:i,color:a,scale:h,property:g,clip:f}),n.restore(),n.save(),g1(n,i,c.bottom)):g==="y"&&(m1(n,i,c.left),lp(n,{line:e,target:i,color:o,scale:h,property:g,clip:f}),n.restore(),n.save(),m1(n,i,c.right),y=a)),lp(n,{line:e,target:i,color:y,scale:h,property:g,clip:f}),n.restore()}function g1(n,t,e){const{segments:i,points:a}=t;let o=!0,c=!1;n.beginPath();for(const h of i){const{start:f,end:g}=h,y=a[f],b=a[Dd(f,g,a)];o?(n.moveTo(y.x,y.y),o=!1):(n.lineTo(y.x,e),n.lineTo(y.x,y.y)),c=!!t.pathSegment(n,h,{move:c}),c?n.closePath():n.lineTo(b.x,e)}n.lineTo(t.first().x,e),n.closePath(),n.clip()}function m1(n,t,e){const{segments:i,points:a}=t;let o=!0,c=!1;n.beginPath();for(const h of i){const{start:f,end:g}=h,y=a[f],b=a[Dd(f,g,a)];o?(n.moveTo(y.x,y.y),o=!1):(n.lineTo(e,y.y),n.lineTo(y.x,y.y)),c=!!t.pathSegment(n,h,{move:c}),c?n.closePath():n.lineTo(e,b.y)}n.lineTo(e,t.first().y),n.closePath(),n.clip()}function lp(n,t){const{line:e,target:i,property:a,color:o,scale:c,clip:h}=t,f=IV(e,i,a);for(const{source:g,target:y,start:b,end:T}of f){const{style:{backgroundColor:x=o}={}}=g,I=i!==!0;n.save(),n.fillStyle=x,YV(n,c,h,I&&Kp(a,b,T)),n.beginPath();const C=!!e.pathSegment(n,g);let k;if(I){C?n.closePath():p1(n,i,T,a);const U=!!i.pathSegment(n,y,{move:C,reverse:!0});k=C&&U,k||p1(n,i,b,a)}n.closePath(),n.fill(k?"evenodd":"nonzero"),n.restore()}}function YV(n,t,e,i){const a=t.chart.chartArea,{property:o,start:c,end:h}=i||{};if(o==="x"||o==="y"){let f,g,y,b;o==="x"?(f=c,g=a.top,y=h,b=a.bottom):(f=a.left,g=c,y=a.right,b=h),n.beginPath(),e&&(f=Math.max(f,e.left),y=Math.min(y,e.right),g=Math.max(g,e.top),b=Math.min(b,e.bottom)),n.rect(f,g,y-f,b-g),n.clip()}}function p1(n,t,e,i){const a=t.interpolate(e,i);a&&n.lineTo(a.x,a.y)}var KV={id:"filler",afterDatasetsUpdate(n,t,e){const i=(n.data.datasets||[]).length,a=[];let o,c,h,f;for(c=0;c<i;++c)o=n.getDatasetMeta(c),h=o.dataset,f=null,h&&h.options&&h instanceof kd&&(f={visible:n.isDatasetVisible(c),index:c,fill:NV(h,c,i),chart:n,axis:o.controller.options.indexAxis,scale:o.vScale,line:h}),o.$filler=f,a.push(f);for(c=0;c<i;++c)f=a[c],!(!f||f.fill===!1)&&(f.fill=DV(a,c,e.propagate))},beforeDraw(n,t,e){const i=e.drawTime==="beforeDraw",a=n.getSortedVisibleDatasetMetas(),o=n.chartArea;for(let c=a.length-1;c>=0;--c){const h=a[c].$filler;h&&(h.line.updateControlPoints(o,h.axis),i&&h.fill&&op(n.ctx,h,o))}},beforeDatasetsDraw(n,t,e){if(e.drawTime!=="beforeDatasetsDraw")return;const i=n.getSortedVisibleDatasetMetas();for(let a=i.length-1;a>=0;--a){const o=i[a].$filler;d1(o)&&op(n.ctx,o,n.chartArea)}},beforeDatasetDraw(n,t,e){const i=t.meta.$filler;!d1(i)||e.drawTime!=="beforeDatasetDraw"||op(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const y1=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},QV=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class _1 extends qa{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=ue(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,a)=>t.sort(i,a,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,a=cn(i.font),o=a.size,c=this._computeTitleHeight(),{boxWidth:h,itemHeight:f}=y1(i,o);let g,y;e.font=a.string,this.isHorizontal()?(g=this.maxWidth,y=this._fitRows(c,o,h,f)+10):(y=this.maxHeight,g=this._fitCols(c,a,h,f)+10),this.width=Math.min(g,t.maxWidth||this.maxWidth),this.height=Math.min(y,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,a){const{ctx:o,maxWidth:c,options:{labels:{padding:h}}}=this,f=this.legendHitBoxes=[],g=this.lineWidths=[0],y=a+h;let b=t;o.textAlign="left",o.textBaseline="middle";let T=-1,x=-y;return this.legendItems.forEach((I,C)=>{const k=i+e/2+o.measureText(I.text).width;(C===0||g[g.length-1]+k+2*h>c)&&(b+=y,g[g.length-(C>0?0:1)]=0,x+=y,T++),f[C]={left:0,top:x,row:T,width:k,height:a},g[g.length-1]+=k+h}),b}_fitCols(t,e,i,a){const{ctx:o,maxHeight:c,options:{labels:{padding:h}}}=this,f=this.legendHitBoxes=[],g=this.columnSizes=[],y=c-t;let b=h,T=0,x=0,I=0,C=0;return this.legendItems.forEach((k,U)=>{const{itemWidth:W,itemHeight:Z}=XV(i,e,o,k,a);U>0&&x+Z+2*h>y&&(b+=T+h,g.push({width:T,height:x}),I+=T+h,C++,T=x=0),f[U]={left:I,top:x,col:C,width:W,height:Z},T=Math.max(T,W),x+=Z+h}),b+=T,g.push({width:T,height:x}),b}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:a},rtl:o}}=this,c=Ko(o,this.left,this.width);if(this.isHorizontal()){let h=0,f=an(i,this.left+a,this.right-this.lineWidths[h]);for(const g of e)h!==g.row&&(h=g.row,f=an(i,this.left+a,this.right-this.lineWidths[h])),g.top+=this.top+t+a,g.left=c.leftForLtr(c.x(f),g.width),f+=g.width+a}else{let h=0,f=an(i,this.top+t+a,this.bottom-this.columnSizes[h].height);for(const g of e)g.col!==h&&(h=g.col,f=an(i,this.top+t+a,this.bottom-this.columnSizes[h].height)),g.top=f,g.left+=this.left+a,g.left=c.leftForLtr(c.x(g.left),g.width),f+=g.height+a}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;wd(t,this),this._draw(),Ad(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:a}=this,{align:o,labels:c}=t,h=we.color,f=Ko(t.rtl,this.left,this.width),g=cn(c.font),{padding:y}=c,b=g.size,T=b/2;let x;this.drawTitle(),a.textAlign=f.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=g.string;const{boxWidth:I,boxHeight:C,itemHeight:k}=y1(c,b),U=function(lt,D,A){if(isNaN(I)||I<=0||isNaN(C)||C<0)return;a.save();const N=Ht(A.lineWidth,1);if(a.fillStyle=Ht(A.fillStyle,h),a.lineCap=Ht(A.lineCap,"butt"),a.lineDashOffset=Ht(A.lineDashOffset,0),a.lineJoin=Ht(A.lineJoin,"miter"),a.lineWidth=N,a.strokeStyle=Ht(A.strokeStyle,h),a.setLineDash(Ht(A.lineDash,[])),c.usePointStyle){const P={radius:C*Math.SQRT2/2,pointStyle:A.pointStyle,rotation:A.rotation,borderWidth:N},z=f.xPlus(lt,I/2),L=D+T;kw(a,P,z,L,c.pointStyleWidth&&I)}else{const P=D+Math.max((b-C)/2,0),z=f.leftForLtr(lt,I),L=Yc(A.borderRadius);a.beginPath(),Object.values(L).some(O=>O!==0)?qp(a,{x:z,y:P,w:I,h:C,radius:L}):a.rect(z,P,I,C),a.fill(),N!==0&&a.stroke()}a.restore()},W=function(lt,D,A){lu(a,A.text,lt,D+k/2,g,{strikethrough:A.hidden,textAlign:f.textAlign(A.textAlign)})},Z=this.isHorizontal(),nt=this._computeTitleHeight();Z?x={x:an(o,this.left+y,this.right-i[0]),y:this.top+y+nt,line:0}:x={x:this.left+y,y:an(o,this.top+nt+y,this.bottom-e[0].height),line:0},Pw(this.ctx,t.textDirection);const tt=k+y;this.legendItems.forEach((lt,D)=>{a.strokeStyle=lt.fontColor,a.fillStyle=lt.fontColor;const A=a.measureText(lt.text).width,N=f.textAlign(lt.textAlign||(lt.textAlign=c.textAlign)),P=I+T+A;let z=x.x,L=x.y;f.setWidth(this.width),Z?D>0&&z+P+y>this.right&&(L=x.y+=tt,x.line++,z=x.x=an(o,this.left+y,this.right-i[x.line])):D>0&&L+tt>this.bottom&&(z=x.x=z+e[x.line].width+y,x.line++,L=x.y=an(o,this.top+nt+y,this.bottom-e[x.line].height));const O=f.x(z);if(U(O,L,lt),z=G4(N,z+I+T,Z?z+P:this.right,t.rtl),W(f.x(z),L,lt),Z)x.x+=P+y;else if(typeof lt.text!="string"){const wt=g.lineHeight;x.y+=rA(lt,wt)+y}else x.y+=tt}),Lw(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=cn(e.font),a=ri(e.padding);if(!e.display)return;const o=Ko(t.rtl,this.left,this.width),c=this.ctx,h=e.position,f=i.size/2,g=a.top+f;let y,b=this.left,T=this.width;if(this.isHorizontal())T=Math.max(...this.lineWidths),y=this.top+g,b=an(t.align,b,this.right-T);else{const I=this.columnSizes.reduce((C,k)=>Math.max(C,k.height),0);y=g+an(t.align,this.top,this.bottom-I-t.labels.padding-this._computeTitleHeight())}const x=an(h,b,b+T);c.textAlign=o.textAlign(Zy(h)),c.textBaseline="middle",c.strokeStyle=e.color,c.fillStyle=e.color,c.font=i.string,lu(c,e.text,x,y,i)}_computeTitleHeight(){const t=this.options.title,e=cn(t.font),i=ri(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,a,o;if(Ho(t,this.left,this.right)&&Ho(e,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(a=o[i],Ho(t,a.left,a.left+a.width)&&Ho(e,a.top,a.top+a.height))return this.legendItems[i]}return null}handleEvent(t){const e=this.options;if(!JV(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const a=this._hoveredItem,o=QV(a,i);a&&!o&&ue(e.onLeave,[t,a,this],this),this._hoveredItem=i,i&&!o&&ue(e.onHover,[t,i,this],this)}else i&&ue(e.onClick,[t,i,this],this)}}function XV(n,t,e,i,a){const o=WV(i,n,t,e),c=ZV(a,i,t.lineHeight);return{itemWidth:o,itemHeight:c}}function WV(n,t,e,i){let a=n.text;return a&&typeof a!="string"&&(a=a.reduce((o,c)=>o.length>c.length?o:c)),t+e.size/2+i.measureText(a).width}function ZV(n,t,e){let i=n;return typeof t.text!="string"&&(i=rA(t,e)),i}function rA(n,t){const e=n.text?n.text.length:0;return t*e}function JV(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var t3={id:"legend",_element:_1,start(n,t,e){const i=n.legend=new _1({ctx:n.ctx,options:e,chart:n});ni.configure(n,i,e),ni.addBox(n,i)},stop(n){ni.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;ni.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,a=e.chart;a.isDatasetVisible(i)?(a.hide(i),t.hidden=!0):(a.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:a,color:o,useBorderRadius:c,borderRadius:h}}=n.legend.options;return n._getSortedDatasetMetas().map(f=>{const g=f.controller.getStyle(e?0:void 0),y=ri(g.borderWidth);return{text:t[f.index].label,fillStyle:g.backgroundColor,fontColor:o,hidden:!f.visible,lineCap:g.borderCapStyle,lineDash:g.borderDash,lineDashOffset:g.borderDashOffset,lineJoin:g.borderJoinStyle,lineWidth:(y.width+y.height)/4,strokeStyle:g.borderColor,pointStyle:i||g.pointStyle,rotation:g.rotation,textAlign:a||g.textAlign,borderRadius:c&&(h||g.borderRadius),datasetIndex:f.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class aA extends qa{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const a=Be(i.text)?i.text.length:1;this._padding=ri(i.padding);const o=a*cn(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:i,bottom:a,right:o,options:c}=this,h=c.align;let f=0,g,y,b;return this.isHorizontal()?(y=an(h,i,o),b=e+t,g=o-i):(c.position==="left"?(y=i+t,b=an(h,a,e),f=Ye*-.5):(y=o-t,b=an(h,e,a),f=Ye*.5),g=a-e),{titleX:y,titleY:b,maxWidth:g,rotation:f}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=cn(e.font),o=i.lineHeight/2+this._padding.top,{titleX:c,titleY:h,maxWidth:f,rotation:g}=this._drawArgs(o);lu(t,e.text,0,0,i,{color:e.color,maxWidth:f,rotation:g,textAlign:Zy(e.align),textBaseline:"middle",translation:[c,h]})}}function e3(n,t){const e=new aA({ctx:n.ctx,options:t,chart:n});ni.configure(n,e,t),ni.addBox(n,e),n.titleBlock=e}var n3={id:"title",_element:aA,start(n,t,e){e3(n,e)},stop(n){const t=n.titleBlock;ni.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){const i=n.titleBlock;ni.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Vc={average(n){if(!n.length)return!1;let t,e,i=new Set,a=0,o=0;for(t=0,e=n.length;t<e;++t){const h=n[t].element;if(h&&h.hasValue()){const f=h.tooltipPosition();i.add(f.x),a+=f.y,++o}}return o===0||i.size===0?!1:{x:[...i].reduce((h,f)=>h+f)/i.size,y:a/o}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,a=Number.POSITIVE_INFINITY,o,c,h;for(o=0,c=n.length;o<c;++o){const f=n[o].element;if(f&&f.hasValue()){const g=f.getCenterPoint(),y=Bp(t,g);y<a&&(a=y,h=f)}}if(h){const f=h.tooltipPosition();e=f.x,i=f.y}return{x:e,y:i}}};function Ki(n,t){return t&&(Be(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function Cs(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function i3(n,t){const{element:e,datasetIndex:i,index:a}=t,o=n.getDatasetMeta(i).controller,{label:c,value:h}=o.getLabelAndValue(a);return{chart:n,label:c,parsed:o.getParsed(a),raw:n.data.datasets[i].data[a],formattedValue:h,dataset:o.getDataset(),dataIndex:a,datasetIndex:i,element:e}}function b1(n,t){const e=n.chart.ctx,{body:i,footer:a,title:o}=n,{boxWidth:c,boxHeight:h}=t,f=cn(t.bodyFont),g=cn(t.titleFont),y=cn(t.footerFont),b=o.length,T=a.length,x=i.length,I=ri(t.padding);let C=I.height,k=0,U=i.reduce((nt,tt)=>nt+tt.before.length+tt.lines.length+tt.after.length,0);if(U+=n.beforeBody.length+n.afterBody.length,b&&(C+=b*g.lineHeight+(b-1)*t.titleSpacing+t.titleMarginBottom),U){const nt=t.displayColors?Math.max(h,f.lineHeight):f.lineHeight;C+=x*nt+(U-x)*f.lineHeight+(U-1)*t.bodySpacing}T&&(C+=t.footerMarginTop+T*y.lineHeight+(T-1)*t.footerSpacing);let W=0;const Z=function(nt){k=Math.max(k,e.measureText(nt).width+W)};return e.save(),e.font=g.string,Jt(n.title,Z),e.font=f.string,Jt(n.beforeBody.concat(n.afterBody),Z),W=t.displayColors?c+2+t.boxPadding:0,Jt(i,nt=>{Jt(nt.before,Z),Jt(nt.lines,Z),Jt(nt.after,Z)}),W=0,e.font=y.string,Jt(n.footer,Z),e.restore(),k+=I.width,{width:k,height:C}}function s3(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function r3(n,t,e,i){const{x:a,width:o}=i,c=e.caretSize+e.caretPadding;if(n==="left"&&a+o+c>t.width||n==="right"&&a-o-c<0)return!0}function a3(n,t,e,i){const{x:a,width:o}=e,{width:c,chartArea:{left:h,right:f}}=n;let g="center";return i==="center"?g=a<=(h+f)/2?"left":"right":a<=o/2?g="left":a>=c-o/2&&(g="right"),r3(g,n,t,e)&&(g="center"),g}function v1(n,t,e){const i=e.yAlign||t.yAlign||s3(n,e);return{xAlign:e.xAlign||t.xAlign||a3(n,t,e,i),yAlign:i}}function o3(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function l3(n,t,e){let{y:i,height:a}=n;return t==="top"?i+=e:t==="bottom"?i-=a+e:i-=a/2,i}function T1(n,t,e,i){const{caretSize:a,caretPadding:o,cornerRadius:c}=n,{xAlign:h,yAlign:f}=e,g=a+o,{topLeft:y,topRight:b,bottomLeft:T,bottomRight:x}=Yc(c);let I=o3(t,h);const C=l3(t,f,g);return f==="center"?h==="left"?I+=g:h==="right"&&(I-=g):h==="left"?I-=Math.max(y,T)+a:h==="right"&&(I+=Math.max(b,x)+a),{x:ei(I,0,i.width-t.width),y:ei(C,0,i.height-t.height)}}function mf(n,t,e){const i=ri(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function E1(n){return Ki([],Cs(n))}function c3(n,t,e){return Fa(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function x1(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const oA={beforeTitle:ws,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:ws,beforeBody:ws,beforeLabel:ws,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return ae(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:ws,afterBody:ws,beforeFooter:ws,footer:ws,afterFooter:ws};function Sn(n,t,e,i){const a=n[t].call(e,i);return typeof a>"u"?oA[t].call(e,i):a}class S1 extends qa{static positioners=Vc;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),a=i.enabled&&e.options.animation&&i.animations,o=new Fw(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=c3(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,a=Sn(i,"beforeTitle",this,t),o=Sn(i,"title",this,t),c=Sn(i,"afterTitle",this,t);let h=[];return h=Ki(h,Cs(a)),h=Ki(h,Cs(o)),h=Ki(h,Cs(c)),h}getBeforeBody(t,e){return E1(Sn(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,a=[];return Jt(t,o=>{const c={before:[],lines:[],after:[]},h=x1(i,o);Ki(c.before,Cs(Sn(h,"beforeLabel",this,o))),Ki(c.lines,Sn(h,"label",this,o)),Ki(c.after,Cs(Sn(h,"afterLabel",this,o))),a.push(c)}),a}getAfterBody(t,e){return E1(Sn(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,a=Sn(i,"beforeFooter",this,t),o=Sn(i,"footer",this,t),c=Sn(i,"afterFooter",this,t);let h=[];return h=Ki(h,Cs(a)),h=Ki(h,Cs(o)),h=Ki(h,Cs(c)),h}_createItems(t){const e=this._active,i=this.chart.data,a=[],o=[],c=[];let h=[],f,g;for(f=0,g=e.length;f<g;++f)h.push(i3(this.chart,e[f]));return t.filter&&(h=h.filter((y,b,T)=>t.filter(y,b,T,i))),t.itemSort&&(h=h.sort((y,b)=>t.itemSort(y,b,i))),Jt(h,y=>{const b=x1(t.callbacks,y);a.push(Sn(b,"labelColor",this,y)),o.push(Sn(b,"labelPointStyle",this,y)),c.push(Sn(b,"labelTextColor",this,y))}),this.labelColors=a,this.labelPointStyles=o,this.labelTextColors=c,this.dataPoints=h,h}update(t,e){const i=this.options.setContext(this.getContext()),a=this._active;let o,c=[];if(!a.length)this.opacity!==0&&(o={opacity:0});else{const h=Vc[i.position].call(this,a,this._eventPosition);c=this._createItems(i),this.title=this.getTitle(c,i),this.beforeBody=this.getBeforeBody(c,i),this.body=this.getBody(c,i),this.afterBody=this.getAfterBody(c,i),this.footer=this.getFooter(c,i);const f=this._size=b1(this,i),g=Object.assign({},h,f),y=v1(this.chart,i,g),b=T1(i,g,y,this.chart);this.xAlign=y.xAlign,this.yAlign=y.yAlign,o={opacity:1,x:b.x,y:b.y,width:f.width,height:f.height,caretX:h.x,caretY:h.y}}this._tooltipItems=c,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,a){const o=this.getCaretPosition(t,i,a);e.lineTo(o.x1,o.y1),e.lineTo(o.x2,o.y2),e.lineTo(o.x3,o.y3)}getCaretPosition(t,e,i){const{xAlign:a,yAlign:o}=this,{caretSize:c,cornerRadius:h}=i,{topLeft:f,topRight:g,bottomLeft:y,bottomRight:b}=Yc(h),{x:T,y:x}=t,{width:I,height:C}=e;let k,U,W,Z,nt,tt;return o==="center"?(nt=x+C/2,a==="left"?(k=T,U=k-c,Z=nt+c,tt=nt-c):(k=T+I,U=k+c,Z=nt-c,tt=nt+c),W=k):(a==="left"?U=T+Math.max(f,y)+c:a==="right"?U=T+I-Math.max(g,b)-c:U=this.caretX,o==="top"?(Z=x,nt=Z-c,k=U-c,W=U+c):(Z=x+C,nt=Z+c,k=U+c,W=U-c),tt=Z),{x1:k,x2:U,x3:W,y1:Z,y2:nt,y3:tt}}drawTitle(t,e,i){const a=this.title,o=a.length;let c,h,f;if(o){const g=Ko(i.rtl,this.x,this.width);for(t.x=mf(this,i.titleAlign,i),e.textAlign=g.textAlign(i.titleAlign),e.textBaseline="middle",c=cn(i.titleFont),h=i.titleSpacing,e.fillStyle=i.titleColor,e.font=c.string,f=0;f<o;++f)e.fillText(a[f],g.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+h,f+1===o&&(t.y+=i.titleMarginBottom-h)}}_drawColorBox(t,e,i,a,o){const c=this.labelColors[i],h=this.labelPointStyles[i],{boxHeight:f,boxWidth:g}=o,y=cn(o.bodyFont),b=mf(this,"left",o),T=a.x(b),x=f<y.lineHeight?(y.lineHeight-f)/2:0,I=e.y+x;if(o.usePointStyle){const C={radius:Math.min(g,f)/2,pointStyle:h.pointStyle,rotation:h.rotation,borderWidth:1},k=a.leftForLtr(T,g)+g/2,U=I+f/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,Fp(t,C,k,U),t.strokeStyle=c.borderColor,t.fillStyle=c.backgroundColor,Fp(t,C,k,U)}else{t.lineWidth=qt(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,t.strokeStyle=c.borderColor,t.setLineDash(c.borderDash||[]),t.lineDashOffset=c.borderDashOffset||0;const C=a.leftForLtr(T,g),k=a.leftForLtr(a.xPlus(T,1),g-2),U=Yc(c.borderRadius);Object.values(U).some(W=>W!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,qp(t,{x:C,y:I,w:g,h:f,radius:U}),t.fill(),t.stroke(),t.fillStyle=c.backgroundColor,t.beginPath(),qp(t,{x:k,y:I+1,w:g-2,h:f-2,radius:U}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(C,I,g,f),t.strokeRect(C,I,g,f),t.fillStyle=c.backgroundColor,t.fillRect(k,I+1,g-2,f-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:a}=this,{bodySpacing:o,bodyAlign:c,displayColors:h,boxHeight:f,boxWidth:g,boxPadding:y}=i,b=cn(i.bodyFont);let T=b.lineHeight,x=0;const I=Ko(i.rtl,this.x,this.width),C=function(A){e.fillText(A,I.x(t.x+x),t.y+T/2),t.y+=T+o},k=I.textAlign(c);let U,W,Z,nt,tt,lt,D;for(e.textAlign=c,e.textBaseline="middle",e.font=b.string,t.x=mf(this,k,i),e.fillStyle=i.bodyColor,Jt(this.beforeBody,C),x=h&&k!=="right"?c==="center"?g/2+y:g+2+y:0,nt=0,lt=a.length;nt<lt;++nt){for(U=a[nt],W=this.labelTextColors[nt],e.fillStyle=W,Jt(U.before,C),Z=U.lines,h&&Z.length&&(this._drawColorBox(e,t,nt,I,i),T=Math.max(b.lineHeight,f)),tt=0,D=Z.length;tt<D;++tt)C(Z[tt]),T=b.lineHeight;Jt(U.after,C)}x=0,T=b.lineHeight,Jt(this.afterBody,C),t.y-=o}drawFooter(t,e,i){const a=this.footer,o=a.length;let c,h;if(o){const f=Ko(i.rtl,this.x,this.width);for(t.x=mf(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=f.textAlign(i.footerAlign),e.textBaseline="middle",c=cn(i.footerFont),e.fillStyle=i.footerColor,e.font=c.string,h=0;h<o;++h)e.fillText(a[h],f.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+i.footerSpacing}}drawBackground(t,e,i,a){const{xAlign:o,yAlign:c}=this,{x:h,y:f}=t,{width:g,height:y}=i,{topLeft:b,topRight:T,bottomLeft:x,bottomRight:I}=Yc(a.cornerRadius);e.fillStyle=a.backgroundColor,e.strokeStyle=a.borderColor,e.lineWidth=a.borderWidth,e.beginPath(),e.moveTo(h+b,f),c==="top"&&this.drawCaret(t,e,i,a),e.lineTo(h+g-T,f),e.quadraticCurveTo(h+g,f,h+g,f+T),c==="center"&&o==="right"&&this.drawCaret(t,e,i,a),e.lineTo(h+g,f+y-I),e.quadraticCurveTo(h+g,f+y,h+g-I,f+y),c==="bottom"&&this.drawCaret(t,e,i,a),e.lineTo(h+x,f+y),e.quadraticCurveTo(h,f+y,h,f+y-x),c==="center"&&o==="left"&&this.drawCaret(t,e,i,a),e.lineTo(h,f+b),e.quadraticCurveTo(h,f,h+b,f),e.closePath(),e.fill(),a.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,a=i&&i.x,o=i&&i.y;if(a||o){const c=Vc[t.position].call(this,this._active,this._eventPosition);if(!c)return;const h=this._size=b1(this,t),f=Object.assign({},c,this._size),g=v1(e,t,f),y=T1(t,f,g,e);(a._to!==y.x||o._to!==y.y)&&(this.xAlign=g.xAlign,this.yAlign=g.yAlign,this.width=h.width,this.height=h.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,y))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const a={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const c=ri(e.padding),h=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&h&&(t.save(),t.globalAlpha=i,this.drawBackground(o,t,a,e),Pw(t,e.textDirection),o.y+=c.top,this.drawTitle(o,t,e),this.drawBody(o,t,e),this.drawFooter(o,t,e),Lw(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,a=t.map(({datasetIndex:h,index:f})=>{const g=this.chart.getDatasetMeta(h);if(!g)throw new Error("Cannot find a dataset at index "+h);return{datasetIndex:h,element:g.data[f],index:f}}),o=!Qf(i,a),c=this._positionChanged(a,e);(o||c)&&(this._active=a,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const a=this.options,o=this._active||[],c=this._getActiveElements(t,o,e,i),h=this._positionChanged(c,t),f=e||!Qf(c,o)||h;return f&&(this._active=c,(a.enabled||a.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),f}_getActiveElements(t,e,i,a){const o=this.options;if(t.type==="mouseout")return[];if(!a)return e.filter(h=>this.chart.data.datasets[h.datasetIndex]&&this.chart.getDatasetMeta(h.datasetIndex).controller.getParsed(h.index)!==void 0);const c=this.chart.getElementsAtEventForMode(t,o.mode,o,i);return o.reverse&&c.reverse(),c}_positionChanged(t,e){const{caretX:i,caretY:a,options:o}=this,c=Vc[o.position].call(this,t,e);return c!==!1&&(i!==c.x||a!==c.y)}}var u3={id:"tooltip",_element:S1,positioners:Vc,afterInit(n,t,e){e&&(n.tooltip=new S1({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:oA},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const h3=(n,t,e,i)=>(typeof t=="string"?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function f3(n,t,e,i){const a=n.indexOf(t);if(a===-1)return h3(n,t,e,i);const o=n.lastIndexOf(t);return a!==o?e:a}const d3=(n,t)=>n===null?null:ei(Math.round(n),0,t);function w1(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class g3 extends pl{static id="category";static defaults={ticks:{callback:w1}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:a,label:o}of e)i[a]===o&&i.splice(a,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(ae(t))return null;const i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:f3(i,t,Ht(e,t),this._addedLabels),d3(e,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:a}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),e||(a=this.getLabels().length-1)),this.min=i,this.max=a}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,a=[];let o=this.getLabels();o=t===0&&e===o.length-1?o:o.slice(t,e+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let c=t;c<=e;c++)a.push({value:c});return a}getLabelForValue(t){return w1.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function m3(n,t){const e=[],{bounds:a,step:o,min:c,max:h,precision:f,count:g,maxTicks:y,maxDigits:b,includeBounds:T}=n,x=o||1,I=y-1,{min:C,max:k}=t,U=!ae(c),W=!ae(h),Z=!ae(g),nt=(k-C)/(b+1);let tt=SE((k-C)/I/x)*x,lt,D,A,N;if(tt<1e-14&&!U&&!W)return[{value:C},{value:k}];N=Math.ceil(k/tt)-Math.floor(C/tt),N>I&&(tt=SE(N*tt/I/x)*x),ae(f)||(lt=Math.pow(10,f),tt=Math.ceil(tt*lt)/lt),a==="ticks"?(D=Math.floor(C/tt)*tt,A=Math.ceil(k/tt)*tt):(D=C,A=k),U&&W&&o&&O4((h-c)/o,tt/1e3)?(N=Math.round(Math.min((h-c)/tt,y)),tt=(h-c)/N,D=c,A=h):Z?(D=U?c:D,A=W?h:A,N=g-1,tt=(A-D)/N):(N=(A-D)/tt,qc(N,Math.round(N),tt/1e3)?N=Math.round(N):N=Math.ceil(N));const P=Math.max(wE(tt),wE(D));lt=Math.pow(10,ae(f)?P:f),D=Math.round(D*lt)/lt,A=Math.round(A*lt)/lt;let z=0;for(U&&(T&&D!==c?(e.push({value:c}),D<c&&z++,qc(Math.round((D+z*tt)*lt)/lt,c,A1(c,nt,n))&&z++):D<c&&z++);z<N;++z){const L=Math.round((D+z*tt)*lt)/lt;if(W&&L>h)break;e.push({value:L})}return W&&T&&A!==h?e.length&&qc(e[e.length-1].value,h,A1(h,nt,n))?e[e.length-1].value=h:e.push({value:h}):(!W||A===h)&&e.push({value:A}),e}function A1(n,t,{horizontal:e,minRotation:i}){const a=Ia(i),o=(e?Math.sin(a):Math.cos(a))||.001,c=.75*t*(""+n).length;return Math.min(t/o,c)}class p3 extends pl{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return ae(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:a,max:o}=this;const c=f=>a=e?a:f,h=f=>o=i?o:f;if(t){const f=sl(a),g=sl(o);f<0&&g<0?h(0):f>0&&g>0&&c(0)}if(a===o){let f=o===0?1:Math.abs(o*.05);h(o+f),t||c(a-f)}this.min=a,this.max=o}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:i}=t,a;return i?(a=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,a>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${a} ticks. Limiting to 1000.`),a=1e3)):(a=this.computeTickLimit(),e=e||11),e&&(a=Math.min(e,a)),a}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const a={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},o=this._range||this,c=m3(a,o);return t.bounds==="ticks"&&z4(c,this,"value"),t.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const a=(i-e)/Math.max(t.length-1,1)/2;e-=a,i+=a}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return Rw(t,this.chart.options.locale,this.options.ticks.format)}}class y3 extends p3{static id="linear";static defaults={ticks:{callback:Iw.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=dn(t)?t:0,this.max=dn(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=Ia(this.options.ticks.minRotation),a=(t?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,o.lineHeight/a))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const Nd={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Rn=Object.keys(Nd);function C1(n,t){return n-t}function R1(n,t){if(ae(t))return null;const e=n._adapter,{parser:i,round:a,isoWeekday:o}=n._parseOpts;let c=t;return typeof i=="function"&&(c=i(c)),dn(c)||(c=typeof i=="string"?e.parse(c,i):e.parse(c)),c===null?null:(a&&(c=a==="week"&&(au(o)||o===!0)?e.startOf(c,"isoWeek",o):e.startOf(c,a)),+c)}function I1(n,t,e,i){const a=Rn.length;for(let o=Rn.indexOf(n);o<a-1;++o){const c=Nd[Rn[o]],h=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((e-t)/(h*c.size))<=i)return Rn[o]}return Rn[a-1]}function _3(n,t,e,i,a){for(let o=Rn.length-1;o>=Rn.indexOf(e);o--){const c=Rn[o];if(Nd[c].common&&n._adapter.diff(a,i,c)>=t-1)return c}return Rn[e?Rn.indexOf(e):0]}function b3(n){for(let t=Rn.indexOf(n)+1,e=Rn.length;t<e;++t)if(Nd[Rn[t]].common)return Rn[t]}function k1(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:i,hi:a}=Wy(e,t),o=e[i]>=t?e[i]:e[a];n[o]=!0}}function v3(n,t,e,i){const a=n._adapter,o=+a.startOf(t[0].value,i),c=t[t.length-1].value;let h,f;for(h=o;h<=c;h=+a.add(h,1,i))f=e[h],f>=0&&(t[f].major=!0);return t}function D1(n,t,e){const i=[],a={},o=t.length;let c,h;for(c=0;c<o;++c)h=t[c],a[h]=c,i.push({value:h,major:!1});return o===0||!e?i:v3(n,i,a,e)}class N1 extends pl{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),a=this._adapter=new u5._date(t.adapters.date);a.init(e),Fc(i.displayFormats,a.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:R1(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:a,max:o,minDefined:c,maxDefined:h}=this.getUserBounds();function f(g){!c&&!isNaN(g.min)&&(a=Math.min(a,g.min)),!h&&!isNaN(g.max)&&(o=Math.max(o,g.max))}(!c||!h)&&(f(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&f(this.getMinMax(!1))),a=dn(a)&&!isNaN(a)?a:+e.startOf(Date.now(),i),o=dn(o)&&!isNaN(o)?o:+e.endOf(Date.now(),i)+1,this.min=Math.min(a,o-1),this.max=Math.max(a+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,a=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);const o=this.min,c=this.max,h=B4(a,o,c);return this._unit=e.unit||(i.autoSkip?I1(e.minUnit,this.min,this.max,this._getLabelCapacity(o)):_3(this,h.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:b3(this._unit),this.initOffsets(a),t.reverse&&h.reverse(),D1(this,h,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,i=0,a,o;this.options.offset&&t.length&&(a=this.getDecimalForValue(t[0]),t.length===1?e=1-a:e=(this.getDecimalForValue(t[1])-a)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?i=o:i=(o-this.getDecimalForValue(t[t.length-2]))/2);const c=t.length<3?.5:.25;e=ei(e,0,c),i=ei(i,0,c),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,a=this.options,o=a.time,c=o.unit||I1(o.minUnit,e,i,this._getLabelCapacity(e)),h=Ht(a.ticks.stepSize,1),f=c==="week"?o.isoWeekday:!1,g=au(f)||f===!0,y={};let b=e,T,x;if(g&&(b=+t.startOf(b,"isoWeek",f)),b=+t.startOf(b,g?"day":c),t.diff(i,e,c)>1e5*h)throw new Error(e+" and "+i+" are too far apart with stepSize of "+h+" "+c);const I=a.ticks.source==="data"&&this.getDataTimestamps();for(T=b,x=0;T<i;T=+t.add(T,h,c),x++)k1(y,T,I);return(T===i||a.bounds==="ticks"||x===1)&&k1(y,T,I),Object.keys(y).sort(C1).map(C=>+C)}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const a=this.options.time.displayFormats,o=this._unit,c=e||a[o];return this._adapter.format(t,c)}_tickFormatFunction(t,e,i,a){const o=this.options,c=o.ticks.callback;if(c)return ue(c,[t,e,i],this);const h=o.time.displayFormats,f=this._unit,g=this._majorUnit,y=f&&h[f],b=g&&h[g],T=i[e],x=g&&b&&T&&T.major;return this._adapter.format(t,a||(x?b:y))}generateTickLabels(t){let e,i,a;for(e=0,i=t.length;e<i;++e)a=t[e],a.label=this._tickFormatFunction(a.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,a=Ia(this.isHorizontal()?e.maxRotation:e.minRotation),o=Math.cos(a),c=Math.sin(a),h=this._resolveTickFontOptions(0).size;return{w:i*o+h*c,h:i*c+h*o}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,a=i[e.unit]||i.millisecond,o=this._tickFormatFunction(t,0,D1(this,[t],this._majorUnit),a),c=this._getLabelSize(o),h=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return h>0?h:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;const a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(e=0,i=a.length;e<i;++e)t=t.concat(a[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const a=this.getLabels();for(e=0,i=a.length;e<i;++e)t.push(R1(this,a[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return F4(t.sort(C1))}}function pf(n,t,e){let i=0,a=n.length-1,o,c,h,f;e?(t>=n[i].pos&&t<=n[a].pos&&({lo:i,hi:a}=ka(n,"pos",t)),{pos:o,time:h}=n[i],{pos:c,time:f}=n[a]):(t>=n[i].time&&t<=n[a].time&&({lo:i,hi:a}=ka(n,"time",t)),{time:o,pos:h}=n[i],{time:c,pos:f}=n[a]);const g=c-o;return g?h+(f-h)*(t-o)/g:h}class H3 extends N1{static id="timeseries";static defaults=N1.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=pf(e,this.min),this._tableRange=pf(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,a=[],o=[];let c,h,f,g,y;for(c=0,h=t.length;c<h;++c)g=t[c],g>=e&&g<=i&&a.push(g);if(a.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(c=0,h=a.length;c<h;++c)y=a[c+1],f=a[c-1],g=a[c],Math.round((y+f)/2)!==g&&o.push({time:g,pos:c/(h-1)});return o}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((a,o)=>a-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(pf(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return pf(this._table,i*this._tableRange+this._minPos,!0)}}const lA="label";function M1(n,t){typeof n=="function"?n(t):n&&(n.current=t)}function T3(n,t){const e=n.options;e&&t&&Object.assign(e,t)}function cA(n,t){n.labels=t}function uA(n,t,e=lA){const i=[];n.datasets=t.map(a=>{const o=n.datasets.find(c=>c[e]===a[e]);return!o||!a.data||i.includes(o)?{...a}:(i.push(o),Object.assign(o,a),o)})}function E3(n,t=lA){const e={labels:[],datasets:[]};return cA(e,n.labels),uA(e,n.datasets,t),e}function x3(n,t){const{height:e=150,width:i=300,redraw:a=!1,datasetIdKey:o,type:c,data:h,options:f,plugins:g=[],fallbackContent:y,updateMode:b,...T}=n,x=dt.useRef(null),I=dt.useRef(null),C=()=>{x.current&&(I.current=new Id(x.current,{type:c,data:E3(h,o),options:f&&{...f},plugins:g}),M1(t,I.current))},k=()=>{M1(t,null),I.current&&(I.current.destroy(),I.current=null)};return dt.useEffect(()=>{!a&&I.current&&f&&T3(I.current,f)},[a,f]),dt.useEffect(()=>{!a&&I.current&&cA(I.current.config.data,h.labels)},[a,h.labels]),dt.useEffect(()=>{!a&&I.current&&h.datasets&&uA(I.current.config.data,h.datasets,o)},[a,h.datasets]),dt.useEffect(()=>{I.current&&(a?(k(),setTimeout(C)):I.current.update(b))},[a,f,h.labels,h.datasets,b]),dt.useEffect(()=>{I.current&&(k(),setTimeout(C))},[c]),dt.useEffect(()=>(C(),()=>k()),[]),S.jsx("canvas",{ref:x,role:"img",height:e,width:i,...T,children:y})}const S3=dt.forwardRef(x3);function w3(n,t){return Id.register(t),dt.forwardRef((e,i)=>S.jsx(S3,{...e,ref:i,type:n}))}const A3=w3("line",c5);Id.register(g3,y3,RV,kd,n3,u3,t3,KV);const C3=typeof __firebase_config<"u"?JSON.parse(__firebase_config):{apiKey:"AIzaSyAvBYzH_B2CY7e5tqJkHqj83hT62POyVT4",authDomain:"tracker-7953b.firebaseapp.com",projectId:"tracker-7953b",storageBucket:"tracker-7953b.firebasestorage.app",messagingSenderId:"277129788312",appId:"1:277129788312:web:ed28693354f33d1d6609ed"},hA=q1(C3),Oa=nD(hA),un=tO(hA),hn=typeof __app_id<"u"?__app_id:"default-app-id",nd={blue:{label:"Blue",primary:"bg-blue-600 hover:bg-blue-700 text-white shadow-blue-600/20",secondary:"bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400",border:"border-blue-200 dark:border-blue-800",text:"text-blue-600 dark:text-blue-400",ring:"focus:ring-blue-500",chartLine:"#2563EB",chartFill:"rgba(37, 99, 235, 0.1)",chartPoint:"#2563EB",activeNav:"bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-800",activeNavText:"text-blue-700 dark:text-blue-400"},purple:{label:"Purple",primary:"bg-purple-600 hover:bg-purple-700 text-white shadow-purple-600/20",secondary:"bg-purple-50 dark:bg-purple-900/20 text-purple-600 dark:text-purple-400",border:"border-purple-200 dark:border-purple-800",text:"text-purple-600 dark:text-purple-400",ring:"focus:ring-purple-500",chartLine:"#9333EA",chartFill:"rgba(147, 51, 234, 0.1)",chartPoint:"#9333EA",activeNav:"bg-purple-50 dark:bg-purple-900/20 border-purple-200 dark:border-purple-800",activeNavText:"text-purple-700 dark:text-purple-400"},emerald:{label:"Emerald",primary:"bg-emerald-600 hover:bg-emerald-700 text-white shadow-emerald-600/20",secondary:"bg-emerald-50 dark:bg-emerald-900/20 text-emerald-600 dark:text-emerald-400",border:"border-emerald-200 dark:border-emerald-800",text:"text-emerald-600 dark:text-emerald-400",ring:"focus:ring-emerald-500",chartLine:"#059669",chartFill:"rgba(5, 150, 105, 0.1)",chartPoint:"#059669",activeNav:"bg-emerald-50 dark:bg-emerald-900/20 border-emerald-200 dark:border-emerald-800",activeNavText:"text-emerald-700 dark:text-emerald-400"},amber:{label:"Amber",primary:"bg-amber-500 hover:bg-amber-600 text-white shadow-amber-500/20",secondary:"bg-amber-50 dark:bg-amber-900/20 text-amber-600 dark:text-amber-400",border:"border-amber-200 dark:border-amber-800",text:"text-amber-600 dark:text-amber-400",ring:"focus:ring-amber-500",chartLine:"#D97706",chartFill:"rgba(217, 119, 6, 0.1)",chartPoint:"#D97706",activeNav:"bg-amber-50 dark:bg-amber-900/20 border-amber-200 dark:border-amber-800",activeNavText:"text-amber-700 dark:text-amber-400"},rose:{label:"Rose",primary:"bg-rose-600 hover:bg-rose-700 text-white shadow-rose-600/20",secondary:"bg-rose-50 dark:bg-rose-900/20 text-rose-600 dark:text-rose-400",border:"border-rose-200 dark:border-rose-800",text:"text-rose-600 dark:text-rose-400",ring:"focus:ring-rose-500",chartLine:"#E11D48",chartFill:"rgba(225, 29, 72, 0.1)",chartPoint:"#E11D48",activeNav:"bg-rose-50 dark:bg-rose-900/20 border-rose-200 dark:border-rose-800",activeNavText:"text-rose-700 dark:text-rose-400"},indigo:{label:"Indigo",primary:"bg-indigo-600 hover:bg-indigo-700 text-white shadow-indigo-600/20",secondary:"bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 dark:text-indigo-400",border:"border-indigo-200 dark:border-indigo-800",text:"text-indigo-600 dark:text-indigo-400",ring:"focus:ring-indigo-500",chartLine:"#4F46E5",chartFill:"rgba(79, 70, 229, 0.1)",chartPoint:"#4F46E5",activeNav:"bg-indigo-50 dark:bg-indigo-900/20 border-indigo-200 dark:border-indigo-800",activeNavText:"text-indigo-700 dark:text-indigo-400"}},Ar=[{name:"Red",class:"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/40 dark:text-red-300 dark:border-red-800",dot:"bg-red-500"},{name:"Green",class:"bg-emerald-100 text-emerald-800 border-emerald-200 dark:bg-emerald-900/40 dark:text-emerald-300 dark:border-emerald-800",dot:"bg-emerald-500"},{name:"Blue",class:"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/40 dark:text-blue-300 dark:border-blue-800",dot:"bg-blue-500"},{name:"Yellow",class:"bg-yellow-100 text-yellow-800 border-yellow-200 dark:bg-yellow-900/40 dark:text-yellow-300 dark:border-yellow-800",dot:"bg-yellow-500"},{name:"Purple",class:"bg-purple-100 text-purple-800 border-purple-200 dark:bg-purple-900/40 dark:text-purple-300 dark:border-purple-800",dot:"bg-purple-500"},{name:"Orange",class:"bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900/40 dark:text-orange-300 dark:border-orange-800",dot:"bg-orange-500"},{name:"Pink",class:"bg-pink-100 text-pink-800 border-pink-200 dark:bg-pink-900/40 dark:text-pink-300 dark:border-pink-800",dot:"bg-pink-500"},{name:"Indigo",class:"bg-indigo-100 text-indigo-800 border-indigo-200 dark:bg-indigo-900/40 dark:text-indigo-300 dark:border-indigo-800",dot:"bg-indigo-500"}],fA=n=>{if(!n||n.length===0)return Ar[0];const t=new Set(n.map(i=>i.colorClass)),e=Ar.filter(i=>!t.has(i.class));return e.length>0?e[0]:Ar[Math.floor(Math.random()*Ar.length)]},a0=n=>new Date(n).toLocaleDateString("en-US",{month:"short",day:"numeric"}),jn=n=>{if(!n)return"";const t=new Date(n);return`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`},dA=(n,t)=>{const e=new Date(n,t,1),a=new Date(n,t+1,0).getDate(),o=e.getDay();return{daysInMonth:a,startDay:o}},R3=(n,t="average")=>{if(!n||n.length===0)return 0;const e=n.map(Number).filter(i=>!isNaN(i));return e.length===0?0:t==="sum"?e.reduce((i,a)=>i+a,0):e.reduce((i,a)=>i+a,0)/e.length},gA=(n,t)=>{if(!t||!n||n.length===0)return{streak:0,lastDate:null};const e=[...new Set(n)].sort((f,g)=>new Date(g)-new Date(f));if(e.length===0)return{streak:0,lastDate:null};let i=e[0];const a=jn(new Date);let o=null,c=0;for(let f=0;f<e.length;f++){const g=e[f];if(o===null)c=1,o=g;else if((new Date(o).getTime()-new Date(g).getTime())/864e5===1)c++,o=g;else break}return(new Date(a).getTime()-new Date(i).getTime())/(1e3*3600*24)>1?{streak:0,lastDate:i}:{streak:c,lastDate:i}},I3=({value:n,onChange:t,theme:e,isAmoled:i})=>{const[a,o]=dt.useState(new Date(n||new Date)),{daysInMonth:c,startDay:h}=dt.useMemo(()=>dA(a.getFullYear(),a.getMonth()),[a]);dt.useEffect(()=>{if(n){const I=new Date(n);(I.getMonth()!==a.getMonth()||I.getFullYear()!==a.getFullYear())&&o(I)}},[n]);const f=(I,C)=>{C.preventDefault();const k=new Date(a);k.setMonth(k.getMonth()+I),o(k)},g=(I,C)=>{C.preventDefault();const k=new Date(a.getFullYear(),a.getMonth(),I);t(jn(k))},y=a.toLocaleDateString("en-US",{month:"long",year:"numeric"}),b=n?new Date(n):new Date,T=I=>b.getDate()===I&&b.getMonth()===a.getMonth()&&b.getFullYear()===a.getFullYear(),x=[];for(let I=0;I<h;I++)x.push(S.jsx("div",{className:"h-8 md:h-10"},`empty-${I}`));for(let I=1;I<=c;I++){const C=T(I);x.push(S.jsx("button",{onClick:k=>g(I,k),className:`
                    h-8 md:h-10 w-full rounded-lg text-sm font-medium transition-all duration-200 active:scale-95
                    ${C?`${e.primary} shadow-md`:"text-zinc-600 dark:text-zinc-400 hover:bg-zinc-100 dark:hover:bg-zinc-700"}
                `,children:I},I))}return S.jsxs("div",{className:`border rounded-xl p-4 animate-in zoom-in-95 duration-300 ${i?"border-zinc-800 bg-zinc-900":"border-zinc-200 dark:border-zinc-700 bg-zinc-50 dark:bg-zinc-900/50"}`,children:[S.jsxs("div",{className:"flex items-center justify-between mb-4",children:[S.jsx("span",{className:"font-bold text-zinc-800 dark:text-white",children:y}),S.jsxs("div",{className:"flex space-x-1",children:[S.jsx("button",{onClick:I=>f(-1,I),className:"p-1.5 hover:bg-zinc-200 dark:hover:bg-zinc-700 rounded-lg text-zinc-500",children:S.jsx(dw,{className:"w-4 h-4"})}),S.jsx("button",{onClick:I=>f(1,I),className:"p-1.5 hover:bg-zinc-200 dark:hover:bg-zinc-700 rounded-lg text-zinc-500",children:S.jsx($y,{className:"w-4 h-4"})})]})]}),S.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[["Su","Mo","Tu","We","Th","Fr","Sa"].map(I=>S.jsx("div",{className:"text-center text-xs font-semibold text-zinc-400 mb-1",children:I},I)),x]})]})},k3=({aggregates:n,tracker:t,theme:e,isAmoled:i})=>{const a=n.length,o=n[n.length-1],c=n.map(b=>b.date),{streak:h}=dt.useMemo(()=>gA(c,t.enableStreak),[c,t.enableStreak]),g=(()=>{if(!o||t.goalDirection==="none")return null;const b=o.value,T=t.targetValue;if(t.goalDirection==="target"&&T){const x=Math.abs(b-T);return x===0?{text:"Target Hit"}:{text:`${x.toFixed(1)} off`}}return null})(),y=`p-4 rounded-xl shadow-sm border ${i?"bg-black border-zinc-800":"bg-white dark:bg-zinc-800 border-zinc-100 dark:border-zinc-700"}`;return S.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 pt-4 border-t border-zinc-100 dark:border-zinc-700 animate-in slide-in-from-bottom-2 duration-500 delay-100",children:[S.jsxs("div",{className:y,children:[S.jsxs("p",{className:"text-sm text-zinc-500 mb-1 flex items-center",children:[S.jsx(Gy,{className:`w-4 h-4 mr-1 ${e.text}`})," Total Days"]}),S.jsx("p",{className:"text-2xl font-bold dark:text-white",children:a})]}),S.jsxs("div",{className:y,children:[S.jsx("p",{className:"text-sm text-zinc-500 mb-1",children:"Latest Value"}),S.jsx("p",{className:"text-2xl font-bold dark:text-white",children:o?S.jsxs(S.Fragment,{children:[o.value.toFixed(t.type==="numeric"?1:0),S.jsx("span",{className:"text-sm font-normal text-zinc-400 ml-1",children:t.unit})]}):"-"})]}),S.jsxs("div",{className:y,children:[S.jsxs("p",{className:"text-sm text-zinc-500 mb-1 flex items-center",children:[S.jsx(KO,{className:"w-4 h-4 mr-1 text-green-500"})," Goal"]}),t.goalDirection==="target"?S.jsxs("div",{children:[S.jsx("p",{className:"text-2xl font-bold dark:text-white",children:g?g.text:t.targetValue}),S.jsxs("p",{className:"text-xs text-zinc-400",children:["Target: ",t.targetValue," ",t.unit]})]}):S.jsx("p",{className:"text-2xl font-bold dark:text-white capitalize",children:t.goalDirection==="none"?"No Set Goal":t.goalDirection})]}),S.jsxs("div",{className:y,children:[S.jsxs("p",{className:"text-sm text-zinc-500 mb-1 flex items-center",children:[S.jsx(gw,{className:"w-4 h-4 mr-1 text-amber-500"})," Streak"]}),S.jsx("p",{className:"text-2xl font-bold dark:text-white",children:t.enableStreak?`${h} Day${h===1?"":"s"}`:"Disabled"})]})]})},D3=({dailyAggregates:n,onDayClick:t,tracker:e,theme:i,isAmoled:a})=>{const[o,c]=dt.useState(new Date),{daysInMonth:h,startDay:f}=dt.useMemo(()=>dA(o.getFullYear(),o.getMonth()),[o]),g=C=>{const k=new Date(o);k.setMonth(k.getMonth()+C),c(k)},y=o.toLocaleDateString("en-US",{month:"long",year:"numeric"}),b=dt.useMemo(()=>[...n].sort((C,k)=>new Date(C.date)-new Date(k.date)),[n]),T=C=>{if(!C)return"border-zinc-100 dark:border-zinc-700 hover:bg-zinc-50 dark:hover:bg-zinc-700/50";if(e.goalDirection==="none")return`${i.secondary} ${i.border} hover:shadow-md`;const k=C.value,U=e.tolerance||0,W=b.findIndex(tt=>tt.date===C.date),Z=W>0?b[W-1]:null;let nt=null;if(e.goalDirection==="target"&&e.targetValue){const tt=Math.abs(k-e.targetValue);if(tt<=U)nt=!0;else if(Z){const lt=Math.abs(Z.value-e.targetValue);tt<lt?nt=!0:nt=!1}else nt=!1}else e.goalDirection==="increase"?Z&&(k>Z.value?nt=!0:k<Z.value&&(nt=!1)):e.goalDirection==="decrease"&&Z&&(k<Z.value?nt=!0:k>Z.value&&(nt=!1));return nt===!0?`border-emerald-200 dark:border-emerald-800 hover:shadow-md ${a?"bg-emerald-900/40":"bg-emerald-50 dark:bg-emerald-900/20"}`:nt===!1?`border-red-200 dark:border-red-800 hover:shadow-md ${a?"bg-red-900/40":"bg-red-50 dark:bg-red-900/20"}`:`${i.secondary} ${i.border} hover:shadow-md`},x=C=>C.includes("emerald")?"text-emerald-700 dark:text-emerald-400":C.includes("red")?"text-red-700 dark:text-red-400":C.includes("blue")||C.includes("purple")||C.includes("indigo")?i.text:"text-zinc-400",I=[];for(let C=0;C<f;C++)I.push(S.jsx("div",{className:`h-24 rounded-xl ${a?"bg-zinc-900/30":"bg-zinc-50/50 dark:bg-zinc-900/30"}`},`empty-${C}`));for(let C=1;C<=h;C++){const k=new Date(o.getFullYear(),o.getMonth(),C),U=jn(k),W=n.find(lt=>lt.date===U),Z=jn(new Date)===U,nt=T(W),tt=W?x(nt):"text-zinc-400";I.push(S.jsxs("div",{onClick:()=>t(k),className:`h-24 border rounded-xl p-2 cursor-pointer transition-all duration-300 hover:scale-[1.02] relative flex flex-col justify-between group ${nt} ${Z?`ring-2 ${i.ring} ring-offset-2 dark:ring-offset-zinc-800`:""}`,children:[S.jsx("span",{className:`text-sm font-medium ${tt}`,children:C}),W&&S.jsxs("div",{className:"text-right",children:[S.jsx("span",{className:`block text-lg font-bold leading-tight ${W?"dark:text-white":""}`,children:W.value.toFixed(e.type==="numeric"?1:0)}),S.jsx("span",{className:"text-[10px] text-zinc-500 uppercase tracking-wider",children:e.unit})]}),!W&&S.jsx("div",{className:"opacity-0 group-hover:opacity-100 absolute inset-0 flex items-center justify-center text-zinc-300 dark:text-zinc-600 transition-opacity",children:S.jsx(Kf,{className:"w-6 h-6"})})]},C))}return S.jsxs("div",{className:"space-y-4 animate-in fade-in duration-500",children:[S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsx("h3",{className:"text-lg font-bold dark:text-white",children:y}),S.jsxs("div",{className:"flex space-x-2",children:[S.jsx("button",{onClick:()=>g(-1),className:"p-2 hover:bg-zinc-100 dark:hover:bg-zinc-700 rounded-lg text-zinc-600 dark:text-zinc-400",children:S.jsx(dw,{className:"w-5 h-5"})}),S.jsx("button",{onClick:()=>g(1),className:"p-2 hover:bg-zinc-100 dark:hover:bg-zinc-700 rounded-lg text-zinc-600 dark:text-zinc-400",children:S.jsx($y,{className:"w-5 h-5"})})]})]}),S.jsxs("div",{className:"grid grid-cols-7 gap-2",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(C=>S.jsx("div",{className:"text-center text-xs font-semibold text-zinc-400 uppercase tracking-wide py-2",children:C},C)),I]})]})},N3=({entries:n,tracker:t,onEntryClick:e,theme:i,isAmoled:a})=>{const o=[...n].sort((c,h)=>new Date(h.date)-new Date(c.date)).slice(0,10);return o.length===0?null:S.jsxs("div",{className:`rounded-2xl shadow-sm border overflow-hidden animate-in slide-in-from-bottom-4 duration-500 delay-200 ${a?"bg-black border-zinc-800":"bg-white dark:bg-zinc-800 border-zinc-100 dark:border-zinc-700"}`,children:[S.jsx("div",{className:`p-4 border-b flex items-center justify-between ${a?"border-zinc-800":"border-zinc-100 dark:border-zinc-700"}`,children:S.jsxs("h3",{className:"font-semibold text-zinc-800 dark:text-white flex items-center gap-2",children:[S.jsx(DO,{className:"w-4 h-4 text-zinc-400"})," Recent Entries"]})}),S.jsx("div",{className:`divide-y ${a?"divide-zinc-800":"divide-zinc-100 dark:divide-zinc-700"}`,children:o.map(c=>S.jsxs("div",{onClick:()=>e(c),className:"p-4 flex items-center justify-between hover:bg-zinc-50 dark:hover:bg-zinc-700/50 cursor-pointer transition-colors",children:[S.jsxs("div",{children:[S.jsx("p",{className:"font-medium text-zinc-800 dark:text-white",children:a0(c.date)}),c.note&&S.jsx("p",{className:"text-xs text-zinc-500 truncate max-w-[200px]",children:c.note})]}),S.jsxs("div",{className:"text-right",children:[S.jsx("span",{className:`font-bold ${i.text}`,children:t.type==="boolean"?c.value?"Yes":"No":c.value}),S.jsx("span",{className:"text-xs text-zinc-400 ml-1",children:t.unit})]})]},c.id))})]})},M3=({isAmoled:n})=>{const[t,e]=dt.useState(""),[i,a]=dt.useState(""),[o,c]=dt.useState(!1),[h,f]=dt.useState(""),g=async b=>{b.preventDefault(),c(!0),f("");try{try{await UI(Oa,t,i)}catch(T){if(T.code==="auth/user-not-found"||T.code==="auth/invalid-credential")await jI(Oa,t,i);else throw T}}catch(T){console.error(T),f(T.message.replace("Firebase:","").trim()),c(!1)}},y=async()=>{c(!0);try{await MI(Oa)}catch(b){console.error(b),f("Could not sign in as guest."),c(!1)}};return S.jsx("div",{className:`flex items-center justify-center min-h-screen p-4 ${n?"bg-black text-white":"bg-zinc-50 dark:bg-zinc-900"}`,children:S.jsxs("div",{className:`rounded-2xl shadow-2xl p-8 w-full max-w-md border animate-in fade-in zoom-in-95 duration-300 ${n?"bg-zinc-900 border-zinc-800":"bg-white dark:bg-zinc-800 border-zinc-200 dark:border-zinc-700"}`,children:[S.jsxs("div",{className:"text-center mb-8",children:[S.jsx("div",{className:"bg-blue-600 w-16 h-16 rounded-2xl mx-auto flex items-center justify-center mb-6 shadow-lg shadow-blue-600/30",children:S.jsx(jp,{className:"text-white w-8 h-8"})}),S.jsx("h2",{className:"text-3xl font-bold mb-2 dark:text-white",children:"TrackIt"}),S.jsx("p",{className:"text-zinc-500 dark:text-zinc-400",children:"Sign in to sync your progress"})]}),S.jsxs("form",{onSubmit:g,className:"space-y-4",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"Email"}),S.jsx("input",{type:"email",required:!0,className:`w-full px-4 py-3 rounded-xl outline-none dark:text-white transition-all focus:ring-2 focus:ring-blue-500 ${n?"bg-black border-zinc-800":"bg-zinc-50 dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-700"}`,value:t,onChange:b=>e(b.target.value),placeholder:"hello@example.com"})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"Password"}),S.jsx("input",{type:"password",required:!0,className:`w-full px-4 py-3 rounded-xl outline-none dark:text-white transition-all focus:ring-2 focus:ring-blue-500 ${n?"bg-black border-zinc-800":"bg-zinc-50 dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-700"}`,value:i,onChange:b=>a(b.target.value),placeholder:""})]}),h&&S.jsx("div",{className:"p-3 bg-red-500/10 border border-red-500/20 text-red-500 rounded-lg text-sm",children:h}),S.jsx("button",{type:"submit",disabled:o,className:"w-full py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-medium shadow-lg shadow-blue-600/20 transition-all transform active:scale-95 disabled:opacity-50 disabled:active:scale-100 flex items-center justify-center",children:o?S.jsx(mw,{className:"w-5 h-5 animate-spin"}):"Continue"})]}),S.jsx("div",{className:"mt-8 pt-6 border-t border-zinc-200 dark:border-zinc-700 text-center",children:S.jsx("button",{type:"button",onClick:y,disabled:o,className:"text-zinc-500 hover:text-zinc-800 dark:hover:text-white font-medium transition-colors text-sm",children:"Or continue as Guest"})})]})})},O3=({isOpen:n,onClose:t,user:e,tags:i,onTagsChange:a,theme:o,onThemeChange:c,currentThemeKey:h,onImport:f,themeMode:g,onThemeModeChange:y,isAmoled:b})=>{const[T,x]=dt.useState(""),[I,C]=dt.useState(!1),[k,U]=dt.useState(""),[W,Z]=dt.useState(null),[nt,tt]=dt.useState(""),lt=dt.useRef(null);dt.useEffect(()=>{if(e){const Y=e.isAnonymous?`Guest (${e.uid.slice(0,5)}...)`:"User";U(e.displayName||Y)}},[e,n]);const D=async()=>{if(!T.trim())return;const Y={id:Date.now(),name:T,colorClass:fA(i).class};a([...i,Y]),x("")},A=async Y=>{a(i.filter(ht=>ht.id!==Y))},N=Y=>{Z(Y.id),tt(Y.name)},P=()=>{nt.trim()&&(a(i.map(Y=>Y.id===W?{...Y,name:nt}:Y)),Z(null))},z=Y=>{const ht=i.find(M=>M.id===Y);if(!ht)return;const At=(Ar.findIndex(M=>M.class===ht.colorClass)+1)%Ar.length;a(i.map(M=>M.id===Y?{...M,colorClass:Ar[At].class}:M))},L=async()=>{try{await HI(e,{displayName:k}),C(!1)}catch(Y){console.error("Error updating profile",Y)}},O=async()=>{try{await bx(Oa),t()}catch(Y){console.error("Error signing out:",Y)}},wt=()=>lt.current?.click(),ut=Y=>{const ht=Y.target.files[0];if(!ht)return;const Tt=new FileReader;Tt.onload=At=>{try{const M=JSON.parse(At.target.result);f(M)}catch{alert("Invalid backup file.")}},Tt.readAsText(ht),Y.target.value=null},F=async()=>{try{const Y={version:1,timestamp:new Date().toISOString(),settings:{tags:i,theme:h,mode:g},trackers:[]},ht=Pp(il(un,"artifacts",hn,"users",e.uid,"trackers")),Tt=await gE(ht);for(const at of Tt.docs){const it={id:at.id,...at.data()},gt=await gE(il(un,"artifacts",hn,"users",e.uid,"trackers",at.id,"entries"));it.entries=gt.docs.map(ct=>({id:ct.id,...ct.data()})),Y.trackers.push(it)}const At=new Blob([JSON.stringify(Y,null,2)],{type:"application/json"}),M=URL.createObjectURL(At),$=document.createElement("a");$.href=M,$.download=`trackit-backup-${jn(new Date)}.json`,document.body.appendChild($),$.click(),document.body.removeChild($)}catch(Y){console.error("Export Error",Y),alert("Failed to export data. Please try again.")}};return n?S.jsx("div",{className:`fixed inset-0 z-50 flex items-center justify-center p-4 ${b?"bg-black/80":"bg-zinc-900/60 backdrop-blur-sm"}`,onClick:t,children:S.jsxs("div",{className:`rounded-2xl shadow-2xl w-full max-w-lg overflow-hidden animate-in fade-in zoom-in-95 duration-300 ${b?"bg-black border border-zinc-800":"bg-white dark:bg-zinc-800"}`,onClick:Y=>Y.stopPropagation(),children:[S.jsxs("div",{className:`p-6 flex justify-between items-center border-b ${b?"border-zinc-800":"border-zinc-200 dark:border-zinc-700"}`,children:[S.jsx("h2",{className:"text-xl font-bold dark:text-white",children:"Settings"}),S.jsx("button",{onClick:t,children:S.jsx(Yo,{className:"w-5 h-5 text-zinc-500"})})]}),S.jsxs("div",{className:"p-6 space-y-8 max-h-[80vh] overflow-y-auto",children:[S.jsxs("div",{className:"flex items-center space-x-4",children:[S.jsx("div",{className:"w-16 h-16 bg-zinc-100 dark:bg-zinc-700 rounded-full flex items-center justify-center text-3xl shrink-0",children:e?.isAnonymous?"":""}),S.jsxs("div",{className:"flex-1",children:[S.jsx("div",{className:"flex items-center space-x-2 mb-1",children:I?S.jsxs(S.Fragment,{children:[S.jsx("input",{value:k,onChange:Y=>U(Y.target.value),className:"px-3 py-1 rounded bg-zinc-50 dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-700 dark:text-white flex-1",autoFocus:!0}),S.jsx("button",{onClick:L,className:"p-1.5 bg-green-500 text-white rounded hover:bg-green-600",children:S.jsx(Xm,{className:"w-4 h-4"})}),S.jsx("button",{onClick:()=>C(!1),className:"p-1.5 bg-zinc-200 dark:bg-zinc-700 text-zinc-500 rounded hover:bg-zinc-300",children:S.jsx(Yo,{className:"w-4 h-4"})})]}):S.jsxs(S.Fragment,{children:[S.jsx("h3",{className:"font-bold dark:text-white text-lg",children:e?.displayName||(e?.isAnonymous?`Guest (${e?.uid.substring(0,5)}...)`:"User")}),S.jsx("button",{onClick:()=>C(!0),className:"p-1 text-zinc-400 hover:text-blue-500 rounded-full",children:S.jsx(yw,{className:"w-4 h-4"})})]})}),S.jsx("p",{className:"text-sm text-zinc-500",children:e?.email||(e?.isAnonymous?`Guest: ${e?.uid.substring(0,5)}...`:"User Session")})]})]}),S.jsxs("div",{children:[S.jsxs("h3",{className:"font-bold mb-3 dark:text-white flex items-center gap-2",children:[S.jsx(pw,{className:"w-4 h-4 text-zinc-400"})," Theme Mode"]}),S.jsx("div",{className:`flex rounded-lg p-1 ${b?"bg-zinc-900":"bg-zinc-100 dark:bg-zinc-700"}`,children:["light","dark","amoled"].map(Y=>S.jsx("button",{onClick:()=>y(Y),className:`flex-1 py-2 text-sm font-medium rounded-md transition-all capitalize ${g===Y?"bg-white dark:bg-zinc-600 shadow text-zinc-900 dark:text-white":"text-zinc-500 dark:text-zinc-400"}`,children:Y==="amoled"?"True Dark":Y},Y))})]}),S.jsxs("div",{children:[S.jsxs("h3",{className:"font-bold mb-3 dark:text-white flex items-center gap-2",children:[S.jsx(LO,{className:"w-4 h-4 text-zinc-400"})," Accent Color"]}),S.jsx("div",{className:"grid grid-cols-6 gap-2",children:Object.keys(nd).map(Y=>{const ht=nd[Y],Tt=ht.primary.split(" ")[0];return S.jsx("button",{onClick:()=>c(Y),className:`h-10 rounded-full ${Tt} transition-transform hover:scale-110 flex items-center justify-center shadow-sm ${h===Y?"ring-2 ring-offset-2 ring-zinc-400 dark:ring-offset-zinc-800":""}`,title:ht.label,children:h===Y&&S.jsx(Xm,{className:"w-4 h-4 text-white"})},Y)})})]}),S.jsxs("div",{children:[S.jsx("h3",{className:"font-bold mb-3 dark:text-white",children:"Manage Tags"}),S.jsxs("div",{className:"flex gap-2 mb-3",children:[S.jsx("input",{value:T,onChange:Y=>x(Y.target.value),placeholder:"New Tag Name",className:`flex-1 px-3 py-1.5 text-sm rounded-lg border dark:text-white ${b?"bg-zinc-900 border-zinc-800":"dark:bg-zinc-900 dark:border-zinc-700"}`,onKeyDown:Y=>Y.key==="Enter"&&D()}),S.jsx("button",{onClick:D,disabled:!T.trim(),className:"text-sm bg-zinc-100 dark:bg-zinc-700 hover:bg-zinc-200 px-3 py-1.5 rounded-lg font-medium transition-colors dark:text-white",children:"Add"})]}),S.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.map(Y=>W===Y.id?S.jsxs("div",{className:`flex items-center gap-1 border rounded-lg p-1 ${b?"bg-zinc-900 border-zinc-800":"bg-white dark:bg-zinc-800"}`,children:[S.jsx("input",{value:nt,onChange:ht=>tt(ht.target.value),className:"w-24 text-sm px-1 outline-none dark:bg-zinc-800 bg-transparent dark:text-white",autoFocus:!0}),S.jsx("button",{onClick:()=>z(Y.id),className:"p-1 hover:bg-zinc-100 dark:hover:bg-zinc-700 rounded-full",title:"Change Color",children:S.jsx("div",{className:`w-4 h-4 rounded-full ${Ar.find(ht=>ht.class===Y.colorClass)?.dot||"bg-zinc-400"}`})}),S.jsx("button",{onClick:P,className:"p-1 text-green-500 hover:bg-zinc-100 dark:hover:bg-zinc-700 rounded",children:S.jsx(Xm,{className:"w-3 h-3"})})]},Y.id):S.jsxs("span",{className:`${Y.colorClass} pl-3 pr-2 py-1 rounded-full text-sm flex items-center border cursor-pointer hover:opacity-80 transition-opacity`,onClick:()=>N(Y),title:"Click to edit",children:[Y.name,S.jsx("button",{className:"ml-2 p-0.5 hover:bg-black/10 rounded-full",onClick:ht=>{ht.stopPropagation(),A(Y.id)},children:S.jsx(Yo,{className:"w-3 h-3"})})]},Y.id)),i.length===0&&S.jsx("p",{className:"text-sm text-zinc-400",children:"No tags yet."})]})]}),S.jsxs("div",{className:"pt-4 border-t border-zinc-100 dark:border-zinc-700",children:[S.jsx("h3",{className:"font-bold mb-3 dark:text-white",children:"Data Management"}),S.jsxs("div",{className:"flex gap-4",children:[S.jsxs("button",{onClick:F,className:"flex-1 flex flex-col items-center justify-center p-4 rounded-xl border border-zinc-200 dark:border-zinc-700 hover:bg-zinc-50 dark:hover:bg-zinc-700/50 transition-colors group",children:[S.jsx(RO,{className:`w-6 h-6 mb-2 ${o.text}`}),S.jsx("span",{className:"text-sm font-medium dark:text-white",children:"Export Data"})]}),S.jsxs("button",{onClick:wt,className:"flex-1 flex flex-col items-center justify-center p-4 rounded-xl border border-zinc-200 dark:border-zinc-700 hover:bg-zinc-50 dark:hover:bg-zinc-700/50 transition-colors group",children:[S.jsx(WO,{className:`w-6 h-6 mb-2 ${o.text}`}),S.jsx("span",{className:"text-sm font-medium dark:text-white",children:"Import Data"})]}),S.jsx("input",{type:"file",ref:lt,onChange:ut,accept:".json",className:"hidden"})]})]}),S.jsxs("button",{onClick:O,className:"w-full py-3 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-xl transition-colors font-medium flex items-center justify-center",children:[S.jsx(OO,{className:"w-4 h-4 mr-2"})," Sign Out"]})]})]})}):null},z3=({isOpen:n,onClose:t,user:e,editTracker:i=null,availableTags:a,onTagsChange:o,theme:c,isAmoled:h})=>{const[f,g]=dt.useState(""),[y,b]=dt.useState("numeric"),[T,x]=dt.useState(""),[I,C]=dt.useState("stars"),[k,U]=dt.useState("increase"),[W,Z]=dt.useState(""),[nt,tt]=dt.useState(""),[lt,D]=dt.useState(!1),[A,N]=dt.useState("graph"),[P,z]=dt.useState([]),[L,O]=dt.useState(!0),[wt,ut]=dt.useState(!1),[F,Y]=dt.useState(""),[ht,Tt]=dt.useState("average");if(dt.useEffect(()=>{i?(g(i.name),b(i.type),x(i.unit||""),C(i.ratingSystem||"stars"),U(i.goalDirection||"none"),Z(i.targetValue||""),tt(i.tolerance||""),N(i.preferredView||"graph"),z(i.tags||[]),O(i.enableStreak!==void 0?i.enableStreak:!0),Tt(i.aggregation||"average"),D(!0),ut(!1)):(g(""),b("numeric"),x(""),U("increase"),Z(""),tt(""),N("graph"),z([]),O(!0),Tt("average"),D(!1),ut(!1))},[i,n]),!n)return null;const At=ct=>{P.some(Mt=>Mt.id===ct.id)?z(P.filter(Mt=>Mt.id!==ct.id)):z([...P,ct])},M=()=>{if(!F.trim())return;const ct={id:Date.now(),name:F,colorClass:fA(a).class};o([...a,ct]),z([...P,ct]),Y("")},$=async()=>{if(!f.trim())return;const ct={name:f,type:y,unit:y==="numeric"?T:null,ratingSystem:y==="rating"?I:null,goalDirection:k,targetValue:k==="target"&&W?parseFloat(W):null,tolerance:nt?parseFloat(nt):0,preferredView:A,tags:P,enableStreak:L,aggregation:ht,updatedAt:Lp()};i?await qy(bi(un,"artifacts",hn,"users",e.uid,"trackers",i.id),ct):await uw(il(un,"artifacts",hn,"users",e.uid,"trackers"),{...ct,createdAt:Lp()}),t()},at=async()=>{if(i)try{const ct=bi(un,"artifacts",hn,"users",e.uid,"trackers",i.id);await cw(ct),t()}catch(ct){console.error("Error deleting tracker",ct)}},it=`w-full px-4 py-2 rounded-lg border focus:outline-none focus:ring-2 dark:text-white ${h?"bg-zinc-900 border-zinc-800":"bg-zinc-50 dark:bg-zinc-900 border-zinc-200 dark:border-zinc-700"} ${c.ring}`,gt=`w-full px-4 py-2 rounded-lg border appearance-none dark:text-white disabled:opacity-50 ${h?"bg-zinc-900 border-zinc-800":"bg-zinc-50 dark:bg-zinc-900 border-zinc-200 dark:border-zinc-700"}`;return S.jsx("div",{className:`fixed inset-0 z-50 flex items-center justify-center p-4 ${h?"bg-black/80":"bg-zinc-900/60 backdrop-blur-sm"}`,onClick:t,children:S.jsxs("div",{className:`rounded-2xl shadow-2xl w-full max-w-lg overflow-hidden animate-in fade-in zoom-in-95 duration-300 ${h?"bg-black border border-zinc-800":"bg-white dark:bg-zinc-800"}`,onClick:ct=>ct.stopPropagation(),children:[S.jsxs("div",{className:`p-6 flex justify-between items-center border-b ${h?"border-zinc-800":"border-zinc-200 dark:border-zinc-700"}`,children:[S.jsx("h2",{className:"text-xl font-bold dark:text-white",children:i?"Edit Tracker":"New Tracker"}),S.jsx("button",{onClick:t,children:S.jsx(Yo,{className:"w-5 h-5 text-zinc-500"})})]}),S.jsxs("div",{className:"p-6 space-y-6 max-h-[80vh] overflow-y-auto",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"Name"}),S.jsx("input",{value:f,onChange:ct=>g(ct.target.value),className:it,placeholder:"e.g. Water Intake, Meditation"})]}),S.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"Type"}),S.jsxs("div",{className:"relative",children:[S.jsxs("select",{disabled:!!i,value:y,onChange:ct=>b(ct.target.value),className:gt,children:[S.jsx("option",{value:"numeric",children:"Numeric"}),S.jsx("option",{value:"boolean",children:"Yes / No"}),S.jsx("option",{value:"rating",children:"Rating"})]}),S.jsx(Wm,{className:"absolute right-3 top-3 w-4 h-4 text-zinc-400 pointer-events-none"})]})]}),y==="numeric"&&S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"Units"}),S.jsx("input",{value:T,onChange:ct=>x(ct.target.value),className:it,placeholder:"e.g. ml, pages, km"})]}),y==="rating"&&S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"System"}),S.jsxs("div",{className:"relative",children:[S.jsxs("select",{value:I,onChange:ct=>C(ct.target.value),className:gt,children:[S.jsx("option",{value:"stars",children:"5 Stars"}),S.jsx("option",{value:"colors",children:"Traffic Lights"})]}),S.jsx(Wm,{className:"absolute right-3 top-3 w-4 h-4 text-zinc-400 pointer-events-none"})]})]})]}),S.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-2",children:"Goal Direction"}),S.jsxs("div",{className:"relative",children:[S.jsxs("select",{value:k,onChange:ct=>U(ct.target.value),className:gt,children:[S.jsx("option",{value:"increase",children:"Increase"}),S.jsx("option",{value:"decrease",children:"Decrease"}),S.jsx("option",{value:"target",children:"Target Value"}),S.jsx("option",{value:"none",children:"None"})]}),S.jsx(Wm,{className:"absolute right-3 top-3 w-4 h-4 text-zinc-400 pointer-events-none"})]})]}),k==="target"&&y!=="boolean"&&S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-2",children:"Target Value"}),S.jsx("input",{type:"number",value:W,onChange:ct=>Z(ct.target.value),className:it,placeholder:"2000"})]})]}),S.jsxs("div",{className:`border rounded-xl overflow-hidden ${h?"border-zinc-800":"border-zinc-200 dark:border-zinc-700"}`,children:[S.jsxs("button",{onClick:()=>D(!lt),className:`w-full flex justify-between items-center p-4 font-medium ${h?"bg-zinc-900 text-zinc-300":"bg-zinc-50 dark:bg-zinc-900 text-zinc-700 dark:text-zinc-300"}`,children:["Advanced Settings",S.jsx($y,{className:`w-4 h-4 transition-transform ${lt?"rotate-90":""}`})]}),lt&&S.jsxs("div",{className:`p-4 space-y-6 animate-in slide-in-from-top-2 duration-300 ${h?"bg-black":"bg-white dark:bg-zinc-800"}`,children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-2",children:"Daily Aggregation"}),S.jsxs("div",{className:`flex rounded-lg p-1 ${h?"bg-zinc-900":"bg-zinc-100 dark:bg-zinc-700"}`,children:[S.jsx("button",{onClick:()=>Tt("average"),className:`flex-1 py-1.5 text-sm font-medium rounded-md transition-all ${ht==="average"?"bg-white dark:bg-zinc-600 shadow text-zinc-900 dark:text-white":"text-zinc-500 dark:text-zinc-400"}`,children:"Average"}),S.jsx("button",{onClick:()=>Tt("sum"),className:`flex-1 py-1.5 text-sm font-medium rounded-md transition-all ${ht==="sum"?"bg-white dark:bg-zinc-600 shadow text-zinc-900 dark:text-white":"text-zinc-500 dark:text-zinc-400"}`,children:"Total (Sum)"})]}),S.jsx("p",{className:"text-xs text-zinc-500 mt-2",children:"Determines how multiple entries per day are calculated."})]}),y==="numeric"&&k==="target"&&S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"Goal Tolerance (+/-)"}),S.jsx("input",{type:"number",value:nt,onChange:ct=>tt(ct.target.value),className:it,placeholder:"0"}),S.jsx("p",{className:"text-xs text-zinc-500 mt-1",children:"Acceptable deviation from target."})]}),S.jsxs("div",{children:[S.jsx("div",{className:"flex justify-between items-end mb-3",children:S.jsx("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300",children:"Assign Tags"})}),S.jsxs("div",{className:"flex gap-2 mb-3",children:[S.jsx("input",{value:F,onChange:ct=>Y(ct.target.value),placeholder:"Create new tag...",className:`flex-1 px-3 py-1.5 text-sm rounded-lg border dark:text-white ${h?"bg-zinc-900 border-zinc-800":"dark:bg-zinc-900 dark:border-zinc-700"}`,onKeyDown:ct=>ct.key==="Enter"&&M()}),S.jsx("button",{onClick:M,disabled:!F.trim(),className:"text-sm bg-zinc-100 dark:bg-zinc-700 hover:bg-zinc-200 px-3 py-1.5 rounded-lg font-medium transition-colors dark:text-white",children:"Add"})]}),S.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.length===0&&S.jsx("p",{className:"text-sm text-zinc-400",children:"No tags available."}),a.map(ct=>{const Mt=P.some(_e=>_e.id===ct.id);return S.jsx("button",{onClick:()=>At(ct),className:`px-3 py-1 rounded-full text-sm border transition-all ${ct.colorClass} ${Mt?"opacity-100 font-semibold shadow-sm scale-105":"opacity-40 hover:opacity-100 grayscale hover:grayscale-0"}`,children:ct.name},ct.id)})]})]}),S.jsxs("div",{className:"flex items-center justify-between",children:[S.jsxs("div",{className:"flex items-center gap-2",children:[S.jsx("label",{className:"text-sm font-medium text-zinc-700 dark:text-zinc-300",children:"Track Streak"}),S.jsxs("div",{className:"group relative",children:[S.jsx(AO,{className:"w-4 h-4 text-zinc-400 cursor-help"}),S.jsx("div",{className:"absolute left-full top-1/2 -translate-y-1/2 ml-2 w-48 p-2 bg-zinc-800 text-white text-xs rounded-lg opacity-0 group-hover:opacity-100 pointer-events-none transition-opacity z-50",children:"Counts consecutive days."})]})]}),S.jsx("button",{onClick:()=>O(!L),className:`w-12 h-6 rounded-full transition-colors relative ${L?"bg-green-500":"bg-zinc-300 dark:bg-zinc-600"}`,children:S.jsx("div",{className:`w-4 h-4 bg-white rounded-full absolute top-1 transition-transform ${L?"left-7":"left-1"}`})})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-3 text-center",children:"Preferred View"}),S.jsxs("div",{className:"flex justify-center space-x-6",children:[S.jsxs("button",{onClick:()=>N("graph"),className:`w-32 h-32 p-4 rounded-xl border-2 flex flex-col items-center justify-center space-y-2 transition-all hover:scale-105 ${A==="graph"?`${c.border} ${c.secondary} ${c.text} shadow-md`:"border-zinc-200 dark:border-zinc-700 text-zinc-400 hover:border-zinc-300"}`,children:[S.jsx(Gy,{className:"w-10 h-10"}),S.jsx("span",{className:"font-medium",children:"Graph"})]}),S.jsxs("button",{onClick:()=>N("calendar"),className:`w-32 h-32 p-4 rounded-xl border-2 flex flex-col items-center justify-center space-y-2 transition-all hover:scale-105 ${A==="calendar"?`${c.border} ${c.secondary} ${c.text} shadow-md`:"border-zinc-200 dark:border-zinc-700 text-zinc-400 hover:border-zinc-300"}`,children:[S.jsx(fw,{className:"w-10 h-10"}),S.jsx("span",{className:"font-medium",children:"Calendar"})]})]})]})]})]}),S.jsxs("div",{className:"flex gap-3",children:[i&&(wt?S.jsxs("div",{className:"flex-1 flex gap-2 animate-in fade-in slide-in-from-right duration-200",children:[S.jsx("button",{onClick:()=>ut(!1),className:"flex-1 py-3 bg-zinc-200 dark:bg-zinc-700 text-zinc-700 dark:text-zinc-300 rounded-xl font-medium",children:"Cancel"}),S.jsx("button",{onClick:at,className:"flex-1 py-3 bg-red-600 hover:bg-red-700 text-white rounded-xl font-medium shadow-lg shadow-red-600/20",children:"Confirm"})]}):S.jsx("button",{onClick:()=>ut(!0),className:"px-4 py-3 bg-red-50 dark:bg-red-900/20 hover:bg-red-100 dark:hover:bg-red-900/40 text-red-600 dark:text-red-400 rounded-xl font-medium transition-colors",children:S.jsx(_w,{className:"w-5 h-5"})})),S.jsx("button",{onClick:$,disabled:!f.trim(),className:`flex-1 py-3 rounded-xl font-medium shadow-lg transition-all active:scale-95 hover:scale-105 disabled:opacity-50 disabled:scale-100 ${c.primary}`,children:i?"Save Changes":"Create Tracker"})]})]})]})})},V3=({isOpen:n,onClose:t,user:e,tracker:i,existingEntry:a,theme:o,isAmoled:c,allEntries:h=[],onEditEntry:f})=>{const[g,y]=dt.useState(""),[b,T]=dt.useState(""),[x,I]=dt.useState(jn(new Date)),[C,k]=dt.useState(null);dt.useEffect(()=>{a?(I(jn(a.date)),a.isNew?(y(""),T(""),k(null)):(y(String(a.value)),T(a.note||""),k(a.id))):n&&(y(""),T(""),I(jn(new Date)),k(null))},[a,n]);const U=dt.useMemo(()=>h.filter(A=>jn(A.date)===x).sort((A,N)=>N.timestamp-A.timestamp),[h,x]),W=()=>{y(""),T(""),k(null)},Z=A=>{y(String(A.value)),T(A.note||""),k(A.id)};if(!n||!i)return null;const nt=async()=>{if(!g)return;let A;i.type==="numeric"?A=parseFloat(g):i.type==="boolean"?A=g==="true":A=parseInt(g);const N={value:A,note:b,date:x};C?await qy(bi(un,"artifacts",hn,"users",e.uid,"trackers",i.id,"entries",C),N):await uw(il(un,"artifacts",hn,"users",e.uid,"trackers",i.id,"entries"),{...N,timestamp:Lp()}),t()},tt=async()=>{C&&(await cw(bi(un,"artifacts",hn,"users",e.uid,"trackers",i.id,"entries",C)),t())},lt=`flex-1 px-4 py-2 rounded-lg border focus:outline-none focus:ring-2 dark:text-white ${c?"bg-zinc-900 border-zinc-800":"bg-zinc-50 dark:bg-zinc-900 border-zinc-200 dark:border-zinc-700"} ${o.ring}`,D=`w-full px-4 py-2 rounded-lg border h-20 resize-none dark:text-white ${c?"bg-zinc-900 border-zinc-800":"bg-zinc-50 dark:bg-zinc-900 border-zinc-200 dark:border-zinc-700"}`;return S.jsx("div",{className:`fixed inset-0 z-50 flex items-center justify-center p-4 ${c?"bg-black/80":"bg-zinc-900/60 backdrop-blur-sm"}`,onClick:t,children:S.jsxs("div",{className:`rounded-2xl shadow-2xl w-full max-w-sm overflow-hidden animate-in fade-in zoom-in-95 duration-300 flex flex-col max-h-[90vh] ${c?"bg-black border border-zinc-800":"bg-white dark:bg-zinc-800"}`,onClick:A=>A.stopPropagation(),children:[S.jsxs("div",{className:`p-5 flex justify-between border-b ${c?"border-zinc-800":"border-zinc-200 dark:border-zinc-700"}`,children:[S.jsxs("h3",{className:"font-bold dark:text-white",children:[C?"Edit Entry":"New Entry"," for ",i.name]}),S.jsx("button",{onClick:t,children:S.jsx(Yo,{className:"w-5 h-5 text-zinc-500"})})]}),S.jsxs("div",{className:"overflow-y-auto p-6 space-y-4",children:[S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-2",children:"Date"}),S.jsx(I3,{value:x,onChange:I,theme:o,isAmoled:c})]}),U.length>0&&S.jsxs("div",{className:`rounded-xl border p-3 ${c?"border-zinc-800 bg-zinc-900/50":"border-zinc-100 bg-zinc-50/50 dark:border-zinc-700 dark:bg-zinc-900/50"}`,children:[S.jsxs("div",{className:"flex justify-between items-center mb-2",children:[S.jsxs("span",{className:"text-xs font-semibold text-zinc-500 uppercase",children:["Entries for ",a0(x)]}),C&&S.jsxs("button",{onClick:W,className:`text-xs font-medium flex items-center ${o.text}`,children:[S.jsx(Kf,{className:"w-3 h-3 mr-1"})," New"]})]}),S.jsx("div",{className:"space-y-2",children:U.map(A=>S.jsxs("button",{onClick:()=>Z(A),className:`w-full text-left p-2 rounded-lg text-sm flex justify-between items-center transition-all ${A.id===C?`${o.primary} text-white`:`hover:bg-zinc-100 dark:hover:bg-zinc-700 ${c?"hover:bg-zinc-800":""} dark:text-zinc-300`}`,children:[S.jsx("span",{className:"truncate flex-1 pr-2",children:A.note||"No note"}),S.jsx("span",{className:"font-mono font-bold",children:i.type==="boolean"?A.value?"Yes":"No":A.value})]},A.id))})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-2",children:"Value"}),i.type==="numeric"?S.jsxs("div",{className:"flex items-center space-x-2",children:[S.jsx("input",{type:"number",value:g,onChange:A=>y(A.target.value),className:lt,autoFocus:!0}),S.jsx("span",{className:"text-zinc-500",children:i.unit})]}):i.type==="boolean"?S.jsxs("div",{className:"flex space-x-2",children:[S.jsx("button",{onClick:()=>y("true"),className:`flex-1 py-2 rounded-lg border transition-all active:scale-95 ${String(g)==="true"?"bg-green-100 border-green-500 text-green-700 dark:bg-green-900/30 dark:text-green-400":"border-zinc-200 dark:border-zinc-700 dark:text-zinc-400"}`,children:"Yes"}),S.jsx("button",{onClick:()=>y("false"),className:`flex-1 py-2 rounded-lg border transition-all active:scale-95 ${String(g)==="false"?"bg-red-100 border-red-500 text-red-700 dark:bg-red-900/30 dark:text-red-400":"border-zinc-200 dark:border-zinc-700 dark:text-zinc-400"}`,children:"No"})]}):S.jsx("div",{className:"flex justify-between",children:[1,2,3,4,5].map(A=>S.jsx("button",{onClick:()=>y(A),className:`w-10 h-10 rounded-full flex items-center justify-center transition-all active:scale-90 hover:scale-110 ${parseInt(g)===A?"bg-amber-400 text-white shadow-lg shadow-amber-400/50":"bg-zinc-100 dark:bg-zinc-700 text-zinc-400"}`,children:i.ratingSystem==="colors"?S.jsx("div",{className:`w-4 h-4 rounded-full ${A<3?"bg-red-500":A===3?"bg-yellow-500":"bg-green-500"}`}):S.jsx(qO,{className:`w-5 h-5 ${parseInt(g)>=A?"fill-current":""}`})},A))})]}),S.jsxs("div",{children:[S.jsx("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-2",children:"Note"}),S.jsx("textarea",{value:b,onChange:A=>T(A.target.value),className:D})]}),S.jsxs("div",{className:"flex space-x-3 pt-2",children:[C&&S.jsx("button",{onClick:tt,className:"p-3 text-red-500 bg-red-50 dark:bg-red-900/20 hover:bg-red-100 rounded-xl transition-all active:scale-95",children:S.jsx(_w,{className:"w-5 h-5"})}),S.jsx("button",{onClick:nt,disabled:!g,className:`flex-1 py-3 rounded-xl font-medium shadow-lg transition-all active:scale-95 hover:scale-105 disabled:opacity-50 disabled:scale-100 ${o.primary}`,children:C?"Update Entry":"Save Entry"})]})]})]})})},P3=()=>{const[n,t]=dt.useState(null),[e,i]=dt.useState(!1),[a,o]=dt.useState("dark"),[c,h]=dt.useState("dark"),[f,g]=dt.useState("blue"),y=dt.useMemo(()=>nd[f]||nd.blue,[f]),b=a==="amoled";dt.useEffect(()=>{(async()=>{if(typeof __initial_auth_token<"u"&&__initial_auth_token)try{await LI(Oa,__initial_auth_token)}catch(k){console.error("Custom token sign-in failed",k)}else await bx(Oa)})().then(()=>{const k=GI(Oa,U=>{t(U),i(!0)});return()=>k()})},[]),dt.useEffect(()=>{const C=document.documentElement;C.classList.remove("dark"),(a==="dark"||a==="amoled")&&C.classList.add("dark")},[a]),dt.useEffect(()=>{if(!n)return;const C=Cf(bi(un,"artifacts",hn,"users",n.uid,"settings","tags"),k=>{if(k.exists()){const U=k.data();U.theme&&g(U.theme),U.mode&&(o(U.mode),(U.mode==="dark"||U.mode==="amoled")&&h(U.mode))}},k=>{console.log("Settings listener detached or permission denied (likely logout).")});return()=>C()},[n]);const T=async C=>{o(C),(C==="dark"||C==="amoled")&&h(C),n&&await Qm(bi(un,"artifacts",hn,"users",n.uid,"settings","tags"),{mode:C},{merge:!0})},x=async C=>{g(C),n&&await Qm(bi(un,"artifacts",hn,"users",n.uid,"settings","tags"),{theme:C},{merge:!0})},I=async C=>{n&&await Qm(bi(un,"artifacts",hn,"users",n.uid,"settings","tags"),{list:C,theme:f},{merge:!0})};return e?n?S.jsx(L3,{user:n,theme:y,isAmoled:b,themeMode:a,preferredDark:c,onThemeModeChange:T,onThemeChange:x,onTagsChange:I,accentColor:f}):S.jsx(M3,{isAmoled:b}):S.jsx("div",{className:`h-screen w-full flex items-center justify-center ${b?"bg-black text-white":"bg-zinc-50 dark:bg-zinc-900 dark:text-white"}`,children:S.jsx(mw,{className:"w-10 h-10 animate-spin text-blue-500"})})},L3=({user:n,theme:t,isAmoled:e,themeMode:i,preferredDark:a,onThemeModeChange:o,onThemeChange:c,onTagsChange:h,accentColor:f})=>{const[g,y]=dt.useState([]),[b,T]=dt.useState([]),[x,I]=dt.useState(null),[C,k]=dt.useState(!1),[U,W]=dt.useState(!1),[Z,nt]=dt.useState(!1),[tt,lt]=dt.useState(null),[D,A]=dt.useState("graph"),[N,P]=dt.useState([]),[z,L]=dt.useState(null),[O,wt]=dt.useState(!1);dt.useEffect(()=>{const M=Cf(bi(un,"artifacts",hn,"users",n.uid,"settings","tags"),$=>{$.exists()&&T($.data().list||[])},$=>{console.log("Tags listener error (likely logout).")});return()=>M()},[n]),dt.useEffect(()=>{const M=Pp(il(un,"artifacts",hn,"users",n.uid,"trackers"),hE("createdAt","desc")),$=Cf(M,at=>{const it=at.docs.map(gt=>({id:gt.id,...gt.data()}));y(it),it.length>0&&!x?I(it[0].id):it.length===0?I(null):x&&!it.find(gt=>gt.id===x)&&I(it[0].id)},at=>{console.log("Trackers listener error (likely logout).")});return()=>$()},[n,x]),dt.useEffect(()=>{if(!x)return;const M=Pp(il(un,"artifacts",hn,"users",n.uid,"trackers",x,"entries"),hE("date","asc")),$=Cf(M,at=>{P(at.docs.map(it=>({id:it.id,...it.data()})))},at=>{console.log("Entries listener error (likely logout).")});return()=>$()},[n,x]);const ut=dt.useMemo(()=>g.find(M=>M.id===x),[g,x]);dt.useEffect(()=>{if(!ut)return;const M=N.map(ct=>jn(ct.date)),{streak:$,lastDate:at}=gA(M,ut.enableStreak),it=ut.computedStreak,gt=ut.lastEntryDate;($!==it||at!==gt)&&qy(bi(un,"artifacts",hn,"users",n.uid,"trackers",ut.id),{computedStreak:$,lastEntryDate:at}).catch(ct=>console.error("Failed to sync streak (likely logout)",ct))},[N,ut,n]),dt.useEffect(()=>{ut?.preferredView&&A(ut.preferredView)},[x,ut]);const F=dt.useMemo(()=>{if(!N.length||!ut)return[];const M=N.reduce((at,it)=>{const gt=jn(it.date);return at[gt]||(at[gt]=[]),at[gt].push(it),at},{}),$=ut.aggregation||"average";return Object.keys(M).map(at=>{const it=M[at],gt=it.map(ct=>ut.type==="boolean"?ct.value?1:0:ct.value);return{date:at,value:R3(gt,$),entryId:it[0].id,rawEntries:it,allEntryIds:it.map(ct=>ct.id)}}).sort((at,it)=>new Date(at.date)-new Date(it.date))},[N,ut]),Y=dt.useMemo(()=>{if(!F.length)return{labels:[],datasets:[]};const M=[{label:ut?.name||"Value",data:F.map($=>$.value),borderColor:t.chartLine,backgroundColor:t.chartFill,tension:.3,fill:!0,pointBackgroundColor:t.chartPoint,pointRadius:4,pointHoverRadius:6}];return ut?.goalDirection==="target"&&ut?.targetValue&&M.push({label:"Target",data:F.map(()=>ut.targetValue),borderColor:"#10B981",borderWidth:2,borderDash:[5,5],pointRadius:0,fill:!1,tension:0}),{labels:F.map($=>a0($.date)),datasets:M}},[F,ut,t]),ht={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:ut?.goalDirection==="target"},tooltip:{callbacks:{label:M=>M.dataset.label==="Target"?`Target: ${M.raw}`:ut?.type==="boolean"?M.raw===1?"Yes":"No":`${M.raw.toFixed(ut?.type==="numeric"?1:0)} ${ut?.unit||""}`}}},scales:{y:{display:!0,grid:{color:e?"#27272a":i==="dark"?"#334155":"#E4E4E7"},ticks:{color:e||i==="dark"?"#A1A1AA":"#71717A"},...ut?.type==="boolean"?{min:0,max:1,ticks:{stepSize:1,callback:M=>M===1?"Yes":"No"}}:{},...ut?.type==="rating"?{min:0,max:5,ticks:{stepSize:1}}:{}},x:{grid:{display:!1},ticks:{color:e||i==="dark"?"#A1A1AA":"#71717A"}}},onClick:(M,$)=>{if($.length>0&&$[0].datasetIndex===0){const at=$[0].index,it=F[at],gt=N.find(ct=>ct.id===it.entryId);L(gt),nt(!0)}}},Tt=M=>{const $=jn(M),at=F.find(it=>it.date===$);if(at){const it=N.find(gt=>gt.id===at.entryId);L(it)}else L({date:$,value:"",isNew:!0});nt(!0)},At=()=>{o(i==="light"?a:"light")};return S.jsxs("div",{className:`h-screen w-full flex overflow-hidden font-sans transition-colors duration-300 ${e?"bg-black text-white":"bg-zinc-50 dark:bg-zinc-900 dark:text-white"}`,children:[S.jsx(O3,{isOpen:C,onClose:()=>k(!1),user:n,tags:b,onTagsChange:h,theme:t,onThemeChange:c,currentThemeKey:f,onImport:()=>{},themeMode:i,onThemeModeChange:o,trackers:g,isAmoled:e}),S.jsx(z3,{isOpen:U,onClose:()=>{W(!1),lt(null)},user:n,editTracker:tt,availableTags:b,onTagsChange:h,theme:t,isAmoled:e}),S.jsx(V3,{isOpen:Z,onClose:()=>{nt(!1),L(null)},user:n,tracker:ut,existingEntry:z?.isNew?z:z||null,theme:t,isAmoled:e,allEntries:N}),O&&S.jsx("div",{className:"fixed inset-0 bg-black/50 z-20 md:hidden backdrop-blur-sm",onClick:()=>wt(!1)}),S.jsxs("aside",{className:`
            fixed md:relative top-0 left-0 h-full z-30
            w-80 flex flex-col shadow-2xl md:shadow-none
            transition-transform duration-300 transform
            ${O?"translate-x-0":"-translate-x-full md:translate-x-0"}
            ${e?"bg-black border-r border-zinc-800":"bg-white dark:bg-zinc-800 border-r border-zinc-200 dark:border-zinc-700"}
        `,children:[S.jsxs("div",{className:`p-6 border-b flex items-center justify-between ${e?"border-zinc-800":"border-zinc-200 dark:border-zinc-700"}`,children:[S.jsxs("div",{className:"flex items-center space-x-3",children:[S.jsx("div",{className:`rounded-lg p-2 ${t.primary} animate-in zoom-in duration-300`,children:S.jsx(jp,{className:"text-white w-5 h-5"})}),S.jsx("h1",{className:"text-xl font-bold text-zinc-900 dark:text-white",children:"TrackIt"})]}),S.jsx("button",{onClick:()=>wt(!1),className:"md:hidden text-zinc-500",children:S.jsx(Yo,{className:"w-6 h-6"})})]}),S.jsx("div",{className:"p-4",children:S.jsxs("button",{onClick:()=>{lt(null),W(!0),wt(!1)},className:`w-full flex items-center justify-center space-x-2 py-3 rounded-xl transition-all shadow-md active:scale-95 hover:brightness-110 ${t.primary}`,children:[S.jsx(Kf,{className:"w-5 h-5"}),S.jsx("span",{className:"font-medium",children:"New Tracker"})]})}),S.jsxs("div",{className:"flex-1 overflow-y-auto px-4 space-y-3",children:[g.length===0&&S.jsxs("div",{className:"text-center text-zinc-400 py-10 animate-in fade-in duration-500",children:[S.jsx("p",{className:"text-sm",children:"No trackers yet."}),S.jsx("p",{className:"text-xs",children:"Create one to get started!"})]}),g.map(M=>{const $=M.lastEntryDate===jn(new Date),at=M.computedStreak||0;return S.jsxs("div",{onClick:()=>{I(M.id),wt(!1)},className:`p-4 rounded-xl cursor-pointer transition-all border animate-in slide-in-from-left-4 duration-300 ${x===M.id?`${t.activeNav} ${t.border}`:`${e?"bg-zinc-900 border-zinc-800 hover:border-zinc-700":"bg-white dark:bg-zinc-800 border-zinc-100 dark:border-zinc-700 hover:border-zinc-300 dark:hover:border-zinc-600"}`}`,children:[S.jsxs("div",{className:"flex justify-between items-start",children:[S.jsxs("div",{className:"flex-1 min-w-0",children:[S.jsx("h3",{className:`font-bold truncate ${x===M.id?t.activeNavText:"text-zinc-700 dark:text-zinc-300"}`,children:M.name}),S.jsxs("p",{className:"text-xs text-zinc-500 mt-1 capitalize",children:[M.type," ",M.unit?`(${M.unit})`:""]})]}),M.enableStreak&&S.jsxs("div",{className:"flex items-center gap-1 shrink-0 ml-2",children:[S.jsx(gw,{className:`w-4 h-4 ${$?"text-amber-500 fill-amber-500":"text-zinc-300 dark:text-zinc-600"}`}),S.jsx("span",{className:`text-xs font-bold ${$?"text-amber-600":"text-zinc-400"}`,children:at})]})]}),M.tags&&M.tags.length>0&&S.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:M.tags.filter(it=>b.some(gt=>gt.id===it.id)).map((it,gt)=>S.jsx("span",{className:`${it.colorClass} px-2 py-0.5 rounded-full text-[10px] font-medium border opacity-80`,children:it.name},gt))})]},M.id)})]}),S.jsxs("div",{className:`p-4 border-t flex space-x-2 mt-auto ${e?"border-zinc-800":"border-zinc-200 dark:border-zinc-700"}`,children:[S.jsxs("button",{onClick:()=>{k(!0),wt(!1)},className:`flex-1 flex items-center space-x-3 px-4 py-3 rounded-xl transition-colors text-zinc-600 dark:text-zinc-400 ${e?"hover:bg-zinc-900":"hover:bg-zinc-100 dark:hover:bg-zinc-700"}`,children:[S.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center shrink-0 ${e?"bg-zinc-900":"bg-zinc-200 dark:bg-zinc-600"}`,children:S.jsx(JO,{className:"w-4 h-4"})}),S.jsxs("div",{className:"text-left flex-1 truncate",children:[S.jsx("p",{className:"text-sm font-medium dark:text-white truncate",children:n?.displayName||(n.isAnonymous?`Guest (${n.uid.slice(0,5)}...)`:"User")}),S.jsx("p",{className:"text-xs text-zinc-500",children:"Settings"})]}),S.jsx(HO,{className:"w-4 h-4"})]}),S.jsx("button",{onClick:At,className:`w-12 flex items-center justify-center rounded-xl transition-colors text-zinc-500 hover:text-amber-500 dark:hover:text-amber-400 ${e?"bg-zinc-900":"bg-zinc-100 dark:bg-zinc-700"}`,children:i==="light"?S.jsx($O,{className:"w-5 h-5"}):S.jsx(pw,{className:"w-5 h-5"})})]})]}),S.jsx("main",{className:"flex-1 flex flex-col h-full overflow-hidden relative",children:ut?S.jsxs(S.Fragment,{children:[S.jsxs("header",{className:`p-6 flex justify-between items-center z-10 sticky top-0 animate-in slide-in-from-top-4 duration-500 border-b ${e?"bg-black/80 border-zinc-800 backdrop-blur-md":"bg-white/80 dark:bg-zinc-900/80 border-zinc-200 dark:border-zinc-700 backdrop-blur-md"}`,children:[S.jsxs("div",{className:"flex items-center space-x-3",children:[S.jsx("button",{onClick:()=>wt(!0),className:"md:hidden -ml-2 p-2 mr-1",children:S.jsx(pE,{className:"w-6 h-6 text-zinc-700 dark:text-zinc-200"})}),S.jsx("h2",{className:"text-2xl font-bold text-zinc-900 dark:text-white truncate max-w-[150px] md:max-w-xs",children:ut.name}),S.jsx("button",{onClick:()=>{lt(ut),W(!0)},className:`p-1.5 rounded-lg text-zinc-400 hover:${t.text} transition-colors ${e?"hover:bg-zinc-900":"hover:bg-zinc-100 dark:hover:bg-zinc-800"}`,children:S.jsx(yw,{className:"w-4 h-4"})}),ut.goalDirection==="target"&&ut.targetValue&&S.jsxs("span",{className:`hidden sm:inline-block text-sm text-zinc-500 px-2 py-1 rounded-md ml-2 animate-in fade-in ${e?"bg-zinc-900":"bg-zinc-100 dark:bg-zinc-800"}`,children:["Target: ",ut.targetValue," ",ut.unit]})]}),S.jsx("div",{className:"flex items-center space-x-4",children:S.jsxs("div",{className:`flex rounded-lg p-1 ${e?"bg-zinc-900":"bg-zinc-100 dark:bg-zinc-800"}`,children:[S.jsx("button",{onClick:()=>A("graph"),className:`p-2 rounded-md transition-all ${D==="graph"?`${e?"bg-zinc-800":"bg-white dark:bg-zinc-700 shadow"} ${t.text}`:"text-zinc-400"}`,children:S.jsx(Gy,{className:"w-5 h-5"})}),S.jsx("button",{onClick:()=>A("calendar"),className:`p-2 rounded-md transition-all ${D==="calendar"?`${e?"bg-zinc-800":"bg-white dark:bg-zinc-700 shadow"} ${t.text}`:"text-zinc-400"}`,children:S.jsx(fw,{className:"w-5 h-5"})})]})})]}),S.jsxs("div",{className:"flex-1 overflow-y-auto p-4 md:p-8 space-y-6",children:[S.jsx("div",{className:"w-full",children:S.jsxs("button",{onClick:()=>Tt(new Date),className:`w-full py-3 rounded-xl font-medium shadow-lg transition-transform hover:scale-[1.005] active:scale-[0.99] flex items-center justify-center space-x-2 animate-in fade-in duration-500 ${t.primary}`,children:[S.jsx(Kf,{className:"w-5 h-5"}),S.jsx("span",{children:"Add New Entry"})]})}),S.jsx("div",{className:`p-6 rounded-2xl shadow-lg border min-h-[400px] animate-in slide-in-from-bottom-4 duration-500 ${e?"bg-black border-zinc-800":"bg-white dark:bg-zinc-800 border-zinc-100 dark:border-zinc-700"}`,children:D==="graph"?S.jsxs(S.Fragment,{children:[S.jsx("div",{className:"flex justify-between items-center mb-4",children:S.jsx("h3",{className:"text-lg font-semibold dark:text-white",children:"Activity Overview"})}),F.length===0?S.jsx("div",{className:"h-80 flex items-center justify-center text-zinc-400",children:S.jsx("p",{children:"No data recorded yet. Add your first entry!"})}):S.jsx("div",{className:"h-80 w-full",children:S.jsx(A3,{data:Y,options:ht})})]}):S.jsx(D3,{dailyAggregates:F,onDayClick:Tt,tracker:ut,theme:t,isAmoled:e})}),F.length>0&&S.jsx(k3,{aggregates:F,tracker:ut,theme:t,isAmoled:e}),N.length>0&&S.jsx(N3,{entries:N,tracker:ut,onEntryClick:M=>{L(M),nt(!0)},theme:t,isAmoled:e}),S.jsx("div",{className:"h-4"})," "]})]}):S.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-zinc-400 animate-in fade-in duration-500 p-8 text-center",children:[S.jsx("button",{onClick:()=>wt(!0),className:"md:hidden absolute top-4 left-4 p-2 bg-white dark:bg-zinc-800 rounded-lg shadow",children:S.jsx(pE,{className:"w-6 h-6 text-zinc-700 dark:text-zinc-200"})}),S.jsx(jp,{className:"w-16 h-16 mb-4 opacity-20"}),S.jsx("p",{className:"mb-4",children:"Select a tracker or create a new one to get started."}),S.jsx("button",{onClick:()=>wt(!0),className:"md:hidden text-blue-500 font-medium",children:"Open Menu"})]})})]})};tC.createRoot(document.getElementById("root")).render(S.jsx(dt.StrictMode,{children:S.jsx(P3,{})}));
