(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function e(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=e(r);fetch(r.href,o)}})();function Jg(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var My={exports:{}},ju={};var FT;function sO(){if(FT)return ju;FT=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,r,o){var l=null;if(o!==void 0&&(l=""+o),r.key!==void 0&&(l=""+r.key),"key"in r){o={};for(var u in r)u!=="key"&&(o[u]=r[u])}else o=r;return r=o.ref,{$$typeof:n,type:i,key:l,ref:r!==void 0?r:null,props:o}}return ju.Fragment=t,ju.jsx=e,ju.jsxs=e,ju}var HT;function oO(){return HT||(HT=1,My.exports=sO()),My.exports}var C=oO(),Oy={exports:{}},Ft={};var qT;function aO(){if(qT)return Ft;qT=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),_=Symbol.iterator;function v(H){return H===null||typeof H!="object"?null:(H=_&&H[_]||H["@@iterator"],typeof H=="function"?H:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,E={};function O(H,st,gt){this.props=H,this.context=st,this.refs=E,this.updater=gt||S}O.prototype.isReactComponent={},O.prototype.setState=function(H,st){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,st,"setState")},O.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function V(){}V.prototype=O.prototype;function q(H,st,gt){this.props=H,this.context=st,this.refs=E,this.updater=gt||S}var Y=q.prototype=new V;Y.constructor=q,A(Y,O.prototype),Y.isPureReactComponent=!0;var $=Array.isArray;function Q(){}var M={H:null,A:null,T:null,S:null},D=Object.prototype.hasOwnProperty;function N(H,st,gt){var pt=gt.ref;return{$$typeof:n,type:H,key:st,ref:pt!==void 0?pt:null,props:gt}}function L(H,st){return N(H.type,st,H.props)}function z(H){return typeof H=="object"&&H!==null&&H.$$typeof===n}function B(H){var st={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(gt){return st[gt]})}var U=/\/+/g;function Ot(H,st){return typeof H=="object"&&H!==null&&H.key!=null?B(""+H.key):st.toString(36)}function St(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(Q,Q):(H.status="pending",H.then(function(st){H.status==="pending"&&(H.status="fulfilled",H.value=st)},function(st){H.status==="pending"&&(H.status="rejected",H.reason=st)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function tt(H,st,gt,pt,Tt){var Dt=typeof H;(Dt==="undefined"||Dt==="boolean")&&(H=null);var dt=!1;if(H===null)dt=!0;else switch(Dt){case"bigint":case"string":case"number":dt=!0;break;case"object":switch(H.$$typeof){case n:case t:dt=!0;break;case p:return dt=H._init,tt(dt(H._payload),st,gt,pt,Tt)}}if(dt)return Tt=Tt(H),dt=pt===""?"."+Ot(H,0):pt,$(Tt)?(gt="",dt!=null&&(gt=dt.replace(U,"$&/")+"/"),tt(Tt,st,gt,"",function($t){return $t})):Tt!=null&&(z(Tt)&&(Tt=L(Tt,gt+(Tt.key==null||H&&H.key===Tt.key?"":(""+Tt.key).replace(U,"$&/")+"/")+dt)),st.push(Tt)),1;dt=0;var Vt=pt===""?".":pt+":";if($(H))for(var At=0;At<H.length;At++)pt=H[At],Dt=Vt+Ot(pt,At),dt+=tt(pt,st,gt,Dt,Tt);else if(At=v(H),typeof At=="function")for(H=At.call(H),At=0;!(pt=H.next()).done;)pt=pt.value,Dt=Vt+Ot(pt,At++),dt+=tt(pt,st,gt,Dt,Tt);else if(Dt==="object"){if(typeof H.then=="function")return tt(St(H),st,gt,pt,Tt);throw st=String(H),Error("Objects are not valid as a React child (found: "+(st==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":st)+"). If you meant to render a collection of children, use an array instead.")}return dt}function ft(H,st,gt){if(H==null)return H;var pt=[],Tt=0;return tt(H,pt,"","",function(Dt){return st.call(gt,Dt,Tt++)}),pt}function xt(H){if(H._status===-1){var st=H._result;st=st(),st.then(function(gt){(H._status===0||H._status===-1)&&(H._status=1,H._result=gt)},function(gt){(H._status===0||H._status===-1)&&(H._status=2,H._result=gt)}),H._status===-1&&(H._status=0,H._result=st)}if(H._status===1)return H._result.default;throw H._result}var Mt=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var st=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(st))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)},Pt={map:ft,forEach:function(H,st,gt){ft(H,function(){st.apply(this,arguments)},gt)},count:function(H){var st=0;return ft(H,function(){st++}),st},toArray:function(H){return ft(H,function(st){return st})||[]},only:function(H){if(!z(H))throw Error("React.Children.only expected to receive a single React element child.");return H}};return Ft.Activity=y,Ft.Children=Pt,Ft.Component=O,Ft.Fragment=e,Ft.Profiler=r,Ft.PureComponent=q,Ft.StrictMode=i,Ft.Suspense=d,Ft.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=M,Ft.__COMPILER_RUNTIME={__proto__:null,c:function(H){return M.H.useMemoCache(H)}},Ft.cache=function(H){return function(){return H.apply(null,arguments)}},Ft.cacheSignal=function(){return null},Ft.cloneElement=function(H,st,gt){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var pt=A({},H.props),Tt=H.key;if(st!=null)for(Dt in st.key!==void 0&&(Tt=""+st.key),st)!D.call(st,Dt)||Dt==="key"||Dt==="__self"||Dt==="__source"||Dt==="ref"&&st.ref===void 0||(pt[Dt]=st[Dt]);var Dt=arguments.length-2;if(Dt===1)pt.children=gt;else if(1<Dt){for(var dt=Array(Dt),Vt=0;Vt<Dt;Vt++)dt[Vt]=arguments[Vt+2];pt.children=dt}return N(H.type,Tt,pt)},Ft.createContext=function(H){return H={$$typeof:l,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:o,_context:H},H},Ft.createElement=function(H,st,gt){var pt,Tt={},Dt=null;if(st!=null)for(pt in st.key!==void 0&&(Dt=""+st.key),st)D.call(st,pt)&&pt!=="key"&&pt!=="__self"&&pt!=="__source"&&(Tt[pt]=st[pt]);var dt=arguments.length-2;if(dt===1)Tt.children=gt;else if(1<dt){for(var Vt=Array(dt),At=0;At<dt;At++)Vt[At]=arguments[At+2];Tt.children=Vt}if(H&&H.defaultProps)for(pt in dt=H.defaultProps,dt)Tt[pt]===void 0&&(Tt[pt]=dt[pt]);return N(H,Dt,Tt)},Ft.createRef=function(){return{current:null}},Ft.forwardRef=function(H){return{$$typeof:u,render:H}},Ft.isValidElement=z,Ft.lazy=function(H){return{$$typeof:p,_payload:{_status:-1,_result:H},_init:xt}},Ft.memo=function(H,st){return{$$typeof:f,type:H,compare:st===void 0?null:st}},Ft.startTransition=function(H){var st=M.T,gt={};M.T=gt;try{var pt=H(),Tt=M.S;Tt!==null&&Tt(gt,pt),typeof pt=="object"&&pt!==null&&typeof pt.then=="function"&&pt.then(Q,Mt)}catch(Dt){Mt(Dt)}finally{st!==null&&gt.types!==null&&(st.types=gt.types),M.T=st}},Ft.unstable_useCacheRefresh=function(){return M.H.useCacheRefresh()},Ft.use=function(H){return M.H.use(H)},Ft.useActionState=function(H,st,gt){return M.H.useActionState(H,st,gt)},Ft.useCallback=function(H,st){return M.H.useCallback(H,st)},Ft.useContext=function(H){return M.H.useContext(H)},Ft.useDebugValue=function(){},Ft.useDeferredValue=function(H,st){return M.H.useDeferredValue(H,st)},Ft.useEffect=function(H,st){return M.H.useEffect(H,st)},Ft.useEffectEvent=function(H){return M.H.useEffectEvent(H)},Ft.useId=function(){return M.H.useId()},Ft.useImperativeHandle=function(H,st,gt){return M.H.useImperativeHandle(H,st,gt)},Ft.useInsertionEffect=function(H,st){return M.H.useInsertionEffect(H,st)},Ft.useLayoutEffect=function(H,st){return M.H.useLayoutEffect(H,st)},Ft.useMemo=function(H,st){return M.H.useMemo(H,st)},Ft.useOptimistic=function(H,st){return M.H.useOptimistic(H,st)},Ft.useReducer=function(H,st,gt){return M.H.useReducer(H,st,gt)},Ft.useRef=function(H){return M.H.useRef(H)},Ft.useState=function(H){return M.H.useState(H)},Ft.useSyncExternalStore=function(H,st,gt){return M.H.useSyncExternalStore(H,st,gt)},Ft.useTransition=function(){return M.H.useTransition()},Ft.version="19.2.1",Ft}var GT;function tp(){return GT||(GT=1,Oy.exports=aO()),Oy.exports}var W=tp();const Je=Jg(W);var ky={exports:{}},Bu={},Py={exports:{}},zy={};var YT;function lO(){return YT||(YT=1,(function(n){function t(tt,ft){var xt=tt.length;tt.push(ft);t:for(;0<xt;){var Mt=xt-1>>>1,Pt=tt[Mt];if(0<r(Pt,ft))tt[Mt]=ft,tt[xt]=Pt,xt=Mt;else break t}}function e(tt){return tt.length===0?null:tt[0]}function i(tt){if(tt.length===0)return null;var ft=tt[0],xt=tt.pop();if(xt!==ft){tt[0]=xt;t:for(var Mt=0,Pt=tt.length,H=Pt>>>1;Mt<H;){var st=2*(Mt+1)-1,gt=tt[st],pt=st+1,Tt=tt[pt];if(0>r(gt,xt))pt<Pt&&0>r(Tt,gt)?(tt[Mt]=Tt,tt[pt]=xt,Mt=pt):(tt[Mt]=gt,tt[st]=xt,Mt=st);else if(pt<Pt&&0>r(Tt,xt))tt[Mt]=Tt,tt[pt]=xt,Mt=pt;else break t}}return ft}function r(tt,ft){var xt=tt.sortIndex-ft.sortIndex;return xt!==0?xt:tt.id-ft.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var d=[],f=[],p=1,y=null,_=3,v=!1,S=!1,A=!1,E=!1,O=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;function Y(tt){for(var ft=e(f);ft!==null;){if(ft.callback===null)i(f);else if(ft.startTime<=tt)i(f),ft.sortIndex=ft.expirationTime,t(d,ft);else break;ft=e(f)}}function $(tt){if(A=!1,Y(tt),!S)if(e(d)!==null)S=!0,Q||(Q=!0,B());else{var ft=e(f);ft!==null&&St($,ft.startTime-tt)}}var Q=!1,M=-1,D=5,N=-1;function L(){return E?!0:!(n.unstable_now()-N<D)}function z(){if(E=!1,Q){var tt=n.unstable_now();N=tt;var ft=!0;try{t:{S=!1,A&&(A=!1,V(M),M=-1),v=!0;var xt=_;try{e:{for(Y(tt),y=e(d);y!==null&&!(y.expirationTime>tt&&L());){var Mt=y.callback;if(typeof Mt=="function"){y.callback=null,_=y.priorityLevel;var Pt=Mt(y.expirationTime<=tt);if(tt=n.unstable_now(),typeof Pt=="function"){y.callback=Pt,Y(tt),ft=!0;break e}y===e(d)&&i(d),Y(tt)}else i(d);y=e(d)}if(y!==null)ft=!0;else{var H=e(f);H!==null&&St($,H.startTime-tt),ft=!1}}break t}finally{y=null,_=xt,v=!1}ft=void 0}}finally{ft?B():Q=!1}}}var B;if(typeof q=="function")B=function(){q(z)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,Ot=U.port2;U.port1.onmessage=z,B=function(){Ot.postMessage(null)}}else B=function(){O(z,0)};function St(tt,ft){M=O(function(){tt(n.unstable_now())},ft)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(tt){tt.callback=null},n.unstable_forceFrameRate=function(tt){0>tt||125<tt?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):D=0<tt?Math.floor(1e3/tt):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_next=function(tt){switch(_){case 1:case 2:case 3:var ft=3;break;default:ft=_}var xt=_;_=ft;try{return tt()}finally{_=xt}},n.unstable_requestPaint=function(){E=!0},n.unstable_runWithPriority=function(tt,ft){switch(tt){case 1:case 2:case 3:case 4:case 5:break;default:tt=3}var xt=_;_=tt;try{return ft()}finally{_=xt}},n.unstable_scheduleCallback=function(tt,ft,xt){var Mt=n.unstable_now();switch(typeof xt=="object"&&xt!==null?(xt=xt.delay,xt=typeof xt=="number"&&0<xt?Mt+xt:Mt):xt=Mt,tt){case 1:var Pt=-1;break;case 2:Pt=250;break;case 5:Pt=1073741823;break;case 4:Pt=1e4;break;default:Pt=5e3}return Pt=xt+Pt,tt={id:p++,callback:ft,priorityLevel:tt,startTime:xt,expirationTime:Pt,sortIndex:-1},xt>Mt?(tt.sortIndex=xt,t(f,tt),e(d)===null&&tt===e(f)&&(A?(V(M),M=-1):A=!0,St($,xt-Mt))):(tt.sortIndex=Pt,t(d,tt),S||v||(S=!0,Q||(Q=!0,B()))),tt},n.unstable_shouldYield=L,n.unstable_wrapCallback=function(tt){var ft=_;return function(){var xt=_;_=ft;try{return tt.apply(this,arguments)}finally{_=xt}}}})(zy)),zy}var $T;function cO(){return $T||($T=1,Py.exports=lO()),Py.exports}var Ly={exports:{}},Xn={};var WT;function uO(){if(WT)return Xn;WT=1;var n=tp();function t(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(d,f,p){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:y==null?null:""+y,children:d,containerInfo:f,implementation:p}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return Xn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,Xn.createPortal=function(d,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return o(d,f,null,p)},Xn.flushSync=function(d){var f=l.T,p=i.p;try{if(l.T=null,i.p=2,d)return d()}finally{l.T=f,i.p=p,i.d.f()}},Xn.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(d,f))},Xn.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},Xn.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var p=f.as,y=u(p,f.crossOrigin),_=typeof f.integrity=="string"?f.integrity:void 0,v=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?i.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:y,integrity:_,fetchPriority:v}):p==="script"&&i.d.X(d,{crossOrigin:y,integrity:_,fetchPriority:v,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},Xn.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=u(f.as,f.crossOrigin);i.d.M(d,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(d)},Xn.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,y=u(p,f.crossOrigin);i.d.L(d,p,{crossOrigin:y,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},Xn.preloadModule=function(d,f){if(typeof d=="string")if(f){var p=u(f.as,f.crossOrigin);i.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(d)},Xn.requestFormReset=function(d){i.d.r(d)},Xn.unstable_batchedUpdates=function(d,f){return d(f)},Xn.useFormState=function(d,f,p){return l.H.useFormState(d,f,p)},Xn.useFormStatus=function(){return l.H.useHostTransitionStatus()},Xn.version="19.2.1",Xn}var XT;function JA(){if(XT)return Ly.exports;XT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Ly.exports=uO(),Ly.exports}var QT;function dO(){if(QT)return Bu;QT=1;var n=cO(),t=tp(),e=JA();function i(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var a=s,c=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(c=a.return),s=a.return;while(s)}return a.tag===3?c:null}function l(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function u(s){if(s.tag===31){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function d(s){if(o(s)!==s)throw Error(i(188))}function f(s){var a=s.alternate;if(!a){if(a=o(s),a===null)throw Error(i(188));return a!==s?null:s}for(var c=s,h=a;;){var m=c.return;if(m===null)break;var b=m.alternate;if(b===null){if(h=m.return,h!==null){c=h;continue}break}if(m.child===b.child){for(b=m.child;b;){if(b===c)return d(m),s;if(b===h)return d(m),a;b=b.sibling}throw Error(i(188))}if(c.return!==h.return)c=m,h=b;else{for(var w=!1,R=m.child;R;){if(R===c){w=!0,c=m,h=b;break}if(R===h){w=!0,h=m,c=b;break}R=R.sibling}if(!w){for(R=b.child;R;){if(R===c){w=!0,c=b,h=m;break}if(R===h){w=!0,h=b,c=m;break}R=R.sibling}if(!w)throw Error(i(189))}}if(c.alternate!==h)throw Error(i(190))}if(c.tag!==3)throw Error(i(188));return c.stateNode.current===c?s:a}function p(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=p(s),a!==null)return a;s=s.sibling}return null}var y=Object.assign,_=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),A=Symbol.for("react.fragment"),E=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),V=Symbol.for("react.consumer"),q=Symbol.for("react.context"),Y=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),D=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),L=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function B(s){return s===null||typeof s!="object"?null:(s=z&&s[z]||s["@@iterator"],typeof s=="function"?s:null)}var U=Symbol.for("react.client.reference");function Ot(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===U?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case A:return"Fragment";case O:return"Profiler";case E:return"StrictMode";case $:return"Suspense";case Q:return"SuspenseList";case N:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case S:return"Portal";case q:return s.displayName||"Context";case V:return(s._context.displayName||"Context")+".Consumer";case Y:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case M:return a=s.displayName||null,a!==null?a:Ot(s.type)||"Memo";case D:a=s._payload,s=s._init;try{return Ot(s(a))}catch{}}return null}var St=Array.isArray,tt=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ft=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,xt={pending:!1,data:null,method:null,action:null},Mt=[],Pt=-1;function H(s){return{current:s}}function st(s){0>Pt||(s.current=Mt[Pt],Mt[Pt]=null,Pt--)}function gt(s,a){Pt++,Mt[Pt]=s.current,s.current=a}var pt=H(null),Tt=H(null),Dt=H(null),dt=H(null);function Vt(s,a){switch(gt(Dt,a),gt(Tt,s),gt(pt,null),a.nodeType){case 9:case 11:s=(s=a.documentElement)&&(s=s.namespaceURI)?dT(s):0;break;default:if(s=a.tagName,a=a.namespaceURI)a=dT(a),s=hT(a,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}st(pt),gt(pt,s)}function At(){st(pt),st(Tt),st(Dt)}function $t(s){s.memoizedState!==null&&gt(dt,s);var a=pt.current,c=hT(a,s.type);a!==c&&(gt(Tt,s),gt(pt,c))}function $e(s){Tt.current===s&&(st(pt),st(Tt)),dt.current===s&&(st(dt),zu._currentValue=xt)}var Te,fn;function Dn(s){if(Te===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);Te=a&&a[1]||"",fn=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Te+s+fn}var Di=!1;function Ue(s,a){if(!s||Di)return"";Di=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(a){var ct=function(){throw Error()};if(Object.defineProperty(ct.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ct,[])}catch(rt){var et=rt}Reflect.construct(s,[],ct)}else{try{ct.call()}catch(rt){et=rt}s.call(ct.prototype)}}else{try{throw Error()}catch(rt){et=rt}(ct=s())&&typeof ct.catch=="function"&&ct.catch(function(){})}}catch(rt){if(rt&&et&&typeof rt.stack=="string")return[rt.stack,et.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=h.DetermineComponentFrameRoot(),w=b[0],R=b[1];if(w&&R){var F=w.split(`
`),J=R.split(`
`);for(m=h=0;h<F.length&&!F[h].includes("DetermineComponentFrameRoot");)h++;for(;m<J.length&&!J[m].includes("DetermineComponentFrameRoot");)m++;if(h===F.length||m===J.length)for(h=F.length-1,m=J.length-1;1<=h&&0<=m&&F[h]!==J[m];)m--;for(;1<=h&&0<=m;h--,m--)if(F[h]!==J[m]){if(h!==1||m!==1)do if(h--,m--,0>m||F[h]!==J[m]){var ot=`
`+F[h].replace(" at new "," at ");return s.displayName&&ot.includes("<anonymous>")&&(ot=ot.replace("<anonymous>",s.displayName)),ot}while(1<=h&&0<=m);break}}}finally{Di=!1,Error.prepareStackTrace=c}return(c=s?s.displayName||s.name:"")?Dn(c):""}function ii(s,a){switch(s.tag){case 26:case 27:case 5:return Dn(s.type);case 16:return Dn("Lazy");case 13:return s.child!==a&&a!==null?Dn("Suspense Fallback"):Dn("Suspense");case 19:return Dn("SuspenseList");case 0:case 15:return Ue(s.type,!1);case 11:return Ue(s.type.render,!1);case 1:return Ue(s.type,!0);case 31:return Dn("Activity");default:return""}}function Wi(s){try{var a="",c=null;do a+=ii(s,c),c=s,s=s.return;while(s);return a}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var yt=Object.prototype.hasOwnProperty,Xt=n.unstable_scheduleCallback,ue=n.unstable_cancelCallback,pa=n.unstable_shouldYield,Tl=n.unstable_requestPaint,Pn=n.unstable_now,_s=n.unstable_getCurrentPriorityLevel,ma=n.unstable_ImmediatePriority,ro=n.unstable_UserBlockingPriority,Tr=n.unstable_NormalPriority,El=n.unstable_LowPriority,ya=n.unstable_IdlePriority,vs=n.log,so=n.unstable_setDisableYieldValue,Ii=null,Tn=null;function hi(s){if(typeof vs=="function"&&so(s),Tn&&typeof Tn.setStrictMode=="function")try{Tn.setStrictMode(Ii,s)}catch{}}var je=Math.clz32?Math.clz32:Al,Sl=Math.log,Er=Math.LN2;function Al(s){return s>>>=0,s===0?32:31-(Sl(s)/Er|0)|0}var Xi=256,Br=262144,Be=4194304;function fi(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Qi(s,a,c){var h=s.pendingLanes;if(h===0)return 0;var m=0,b=s.suspendedLanes,w=s.pingedLanes;s=s.warmLanes;var R=h&134217727;return R!==0?(h=R&~b,h!==0?m=fi(h):(w&=R,w!==0?m=fi(w):c||(c=R&~s,c!==0&&(m=fi(c))))):(R=h&~b,R!==0?m=fi(R):w!==0?m=fi(w):c||(c=h&~s,c!==0&&(m=fi(c)))),m===0?0:a!==0&&a!==m&&(a&b)===0&&(b=m&-m,c=a&-a,b>=c||b===32&&(c&4194048)!==0)?a:m}function Ri(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function Qc(s,a){switch(s){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ba(){var s=Be;return Be<<=1,(Be&62914560)===0&&(Be=4194304),s}function Ki(s){for(var a=[],c=0;31>c;c++)a.push(s);return a}function xs(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Kc(s,a,c,h,m,b){var w=s.pendingLanes;s.pendingLanes=c,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=c,s.entangledLanes&=c,s.errorRecoveryDisabledLanes&=c,s.shellSuspendCounter=0;var R=s.entanglements,F=s.expirationTimes,J=s.hiddenUpdates;for(c=w&~c;0<c;){var ot=31-je(c),ct=1<<ot;R[ot]=0,F[ot]=-1;var et=J[ot];if(et!==null)for(J[ot]=null,ot=0;ot<et.length;ot++){var rt=et[ot];rt!==null&&(rt.lane&=-536870913)}c&=~ct}h!==0&&Zi(s,h,0),b!==0&&m===0&&s.tag!==0&&(s.suspendedLanes|=b&~(w&~a))}function Zi(s,a,c){s.pendingLanes|=a,s.suspendedLanes&=~a;var h=31-je(a);s.entangledLanes|=a,s.entanglements[h]=s.entanglements[h]|1073741824|c&261930}function _a(s,a){var c=s.entangledLanes|=a;for(s=s.entanglements;c;){var h=31-je(c),m=1<<h;m&a|s[h]&a&&(s[h]|=a),c&=~m}}function va(s,a){var c=a&-a;return c=(c&42)!==0?1:Fr(c),(c&(s.suspendedLanes|a))!==0?0:c}function Fr(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Ni(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Cl(){var s=ft.p;return s!==0?s:(s=window.event,s===void 0?32:PT(s.type))}function gi(s,a){var c=ft.p;try{return ft.p=s,a()}finally{ft.p=c}}var Mi=Math.random().toString(36).slice(2),Fe="__reactFiber$"+Mi,rn="__reactProps$"+Mi,Oi="__reactContainer$"+Mi,ws="__reactEvents$"+Mi,xa="__reactListeners$"+Mi,Ji="__reactHandles$"+Mi,Hr="__reactResources$"+Mi,Yn="__reactMarker$"+Mi;function Sr(s){delete s[Fe],delete s[rn],delete s[ws],delete s[xa],delete s[Ji]}function pi(s){var a=s[Fe];if(a)return a;for(var c=s.parentNode;c;){if(a=c[Oi]||c[Fe]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(s=_T(s);s!==null;){if(c=s[Fe])return c;s=_T(s)}return a}s=c,c=s.parentNode}return null}function mi(s){if(s=s[Fe]||s[Oi]){var a=s.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return s}return null}function ri(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(i(33))}function si(s){var a=s[Hr];return a||(a=s[Hr]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function de(s){s[Yn]=!0}var tr=new Set,yi={};function gn(s,a){$n(s,a),$n(s+"Capture",a)}function $n(s,a){for(yi[s]=a,s=0;s<a.length;s++)tr.add(a[s])}var Wn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),oi={},oo={};function wa(s){return yt.call(oo,s)?!0:yt.call(oi,s)?!1:Wn.test(s)?oo[s]=!0:(oi[s]=!0,!1)}function Ar(s,a,c){if(wa(a))if(c===null)s.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var h=a.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+c)}}function Me(s,a,c){if(c===null)s.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+c)}}function Oe(s,a,c,h){if(h===null)s.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(c);return}s.setAttributeNS(a,c,""+h)}}function We(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function er(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function Ts(s,a,c){var h=Object.getOwnPropertyDescriptor(s.constructor.prototype,a);if(!s.hasOwnProperty(a)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var m=h.get,b=h.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return m.call(this)},set:function(w){c=""+w,b.call(this,w)}}),Object.defineProperty(s,a,{enumerable:h.enumerable}),{getValue:function(){return c},setValue:function(w){c=""+w},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function he(s){if(!s._valueTracker){var a=er(s)?"checked":"value";s._valueTracker=Ts(s,a,""+s[a])}}function nr(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var c=a.getValue(),h="";return s&&(h=er(s)?s.checked?"true":"false":s.value),s=h,s!==c?(a.setValue(s),!0):!1}function En(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Es=/[\n"\\]/g;function zn(s){return s.replace(Es,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function qr(s,a,c,h,m,b,w,R){s.name="",w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"?s.type=w:s.removeAttribute("type"),a!=null?w==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+We(a)):s.value!==""+We(a)&&(s.value=""+We(a)):w!=="submit"&&w!=="reset"||s.removeAttribute("value"),a!=null?Ea(s,w,We(a)):c!=null?Ea(s,w,We(c)):h!=null&&s.removeAttribute("value"),m==null&&b!=null&&(s.defaultChecked=!!b),m!=null&&(s.checked=m&&typeof m!="function"&&typeof m!="symbol"),R!=null&&typeof R!="function"&&typeof R!="symbol"&&typeof R!="boolean"?s.name=""+We(R):s.removeAttribute("name")}function Ta(s,a,c,h,m,b,w,R){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(s.type=b),a!=null||c!=null){if(!(b!=="submit"&&b!=="reset"||a!=null)){he(s);return}c=c!=null?""+We(c):"",a=a!=null?""+We(a):c,R||a===s.value||(s.value=a),s.defaultValue=a}h=h??m,h=typeof h!="function"&&typeof h!="symbol"&&!!h,s.checked=R?s.checked:!!h,s.defaultChecked=!!h,w!=null&&typeof w!="function"&&typeof w!="symbol"&&typeof w!="boolean"&&(s.name=w),he(s)}function Ea(s,a,c){a==="number"&&En(s.ownerDocument)===s||s.defaultValue===""+c||(s.defaultValue=""+c)}function Gr(s,a,c,h){if(s=s.options,a){a={};for(var m=0;m<c.length;m++)a["$"+c[m]]=!0;for(c=0;c<s.length;c++)m=a.hasOwnProperty("$"+s[c].value),s[c].selected!==m&&(s[c].selected=m),m&&h&&(s[c].defaultSelected=!0)}else{for(c=""+We(c),a=null,m=0;m<s.length;m++){if(s[m].value===c){s[m].selected=!0,h&&(s[m].defaultSelected=!0);return}a!==null||s[m].disabled||(a=s[m])}a!==null&&(a.selected=!0)}}function I(s,a,c){if(a!=null&&(a=""+We(a),a!==s.value&&(s.value=a),c==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=c!=null?""+We(c):""}function k(s,a,c,h){if(a==null){if(h!=null){if(c!=null)throw Error(i(92));if(St(h)){if(1<h.length)throw Error(i(93));h=h[0]}c=h}c==null&&(c=""),a=c}c=We(a),s.defaultValue=c,h=s.textContent,h===c&&h!==""&&h!==null&&(s.value=h),he(s)}function j(s,a){if(a){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=a;return}}s.textContent=a}var nt=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function ht(s,a,c){var h=a.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?h?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":h?s.setProperty(a,c):typeof c!="number"||c===0||nt.has(a)?a==="float"?s.cssFloat=c:s[a]=(""+c).trim():s[a]=c+"px"}function _t(s,a,c){if(a!=null&&typeof a!="object")throw Error(i(62));if(s=s.style,c!=null){for(var h in c)!c.hasOwnProperty(h)||a!=null&&a.hasOwnProperty(h)||(h.indexOf("--")===0?s.setProperty(h,""):h==="float"?s.cssFloat="":s[h]="");for(var m in a)h=a[m],a.hasOwnProperty(m)&&c[m]!==h&&ht(s,m,h)}else for(var b in a)a.hasOwnProperty(b)&&ht(s,b,a[b])}function Bt(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var He=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ie=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Xe(s){return Ie.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Qe(){}var Zc=null;function ir(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var ao=null,Yr=null;function Sa(s){var a=mi(s);if(a&&(s=a.stateNode)){var c=s[rn]||null;t:switch(s=a.stateNode,a.type){case"input":if(qr(s,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),a=c.name,c.type==="radio"&&a!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+zn(""+a)+'"][type="radio"]'),a=0;a<c.length;a++){var h=c[a];if(h!==s&&h.form===s.form){var m=h[rn]||null;if(!m)throw Error(i(90));qr(h,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(a=0;a<c.length;a++)h=c[a],h.form===s.form&&nr(h)}break t;case"textarea":I(s,c.value,c.defaultValue);break t;case"select":a=c.value,a!=null&&Gr(s,!!c.multiple,a,!1)}}}var Dl=!1;function lo(s,a,c){if(Dl)return s(a,c);Dl=!0;try{var h=s(a);return h}finally{if(Dl=!1,(ao!==null||Yr!==null)&&(cf(),ao&&(a=ao,s=Yr,Yr=ao=null,Sa(a),s)))for(a=0;a<s.length;a++)Sa(s[a])}}function Cr(s,a){var c=s.stateNode;if(c===null)return null;var h=c[rn]||null;if(h===null)return null;c=h[a];t:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break t;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(i(231,a,typeof c));return c}var rr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Aa=!1;if(rr)try{var Ee={};Object.defineProperty(Ee,"passive",{get:function(){Aa=!0}}),window.addEventListener("test",Ee,Ee),window.removeEventListener("test",Ee,Ee)}catch{Aa=!1}var $r=null,Jc=null,Ca=null;function tu(){if(Ca)return Ca;var s,a=Jc,c=a.length,h,m="value"in $r?$r.value:$r.textContent,b=m.length;for(s=0;s<c&&a[s]===m[s];s++);var w=c-s;for(h=1;h<=w&&a[c-h]===m[b-h];h++);return Ca=m.slice(s,1<h?1-h:void 0)}function Da(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function Ss(){return!0}function Dr(){return!1}function Ln(s){function a(c,h,m,b,w){this._reactName=c,this._targetInst=m,this.type=h,this.nativeEvent=b,this.target=w,this.currentTarget=null;for(var R in s)s.hasOwnProperty(R)&&(c=s[R],this[R]=c?c(b):b[R]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Ss:Dr,this.isPropagationStopped=Dr,this}return y(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Ss)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Ss)},persist:function(){},isPersistent:Ss}),a}var As={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wr=Ln(As),co=y({},As,{view:0,detail:0}),eu=Ln(co),uo,Il,Xr,Rl=y({},co,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ho,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Xr&&(Xr&&s.type==="mousemove"?(uo=s.screenX-Xr.screenX,Il=s.screenY-Xr.screenY):Il=uo=0,Xr=s),uo)},movementY:function(s){return"movementY"in s?s.movementY:Il}}),nu=Ln(Rl),Ia=y({},Rl,{dataTransfer:0}),mh=Ln(Ia),yh=y({},co,{relatedTarget:0}),Ra=Ln(yh),iu=y({},As,{animationName:0,elapsedTime:0,pseudoElement:0}),bh=Ln(iu),Nl=y({},As,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),_h=Ln(Nl),vh=y({},As,{data:0}),Qr=Ln(vh),xh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Th={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Eh(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=Th[s])?!!a[s]:!1}function ho(){return Eh}var ai=y({},co,{key:function(s){if(s.key){var a=xh[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=Da(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?wh[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ho,charCode:function(s){return s.type==="keypress"?Da(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Da(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Sh=Ln(ai),Ah=y({},Rl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cs=Ln(Ah),g=y({},co,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ho}),x=Ln(g),T=y({},As,{propertyName:0,elapsedTime:0,pseudoElement:0}),P=Ln(T),K=y({},Rl,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),it=Ln(K),bt=y({},As,{newState:0,oldState:0}),Gt=Ln(bt),sn=[9,13,27,32],pe=rr&&"CompositionEvent"in window,Le=null;rr&&"documentMode"in document&&(Le=document.documentMode);var sr=rr&&"TextEvent"in window&&!Le,Kr=rr&&(!pe||Le&&8<Le&&11>=Le),Ir=" ",Rr=!1;function Na(s,a){switch(s){case"keyup":return sn.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ml(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ol=!1;function IN(s,a){switch(s){case"compositionend":return Ml(a);case"keypress":return a.which!==32?null:(Rr=!0,Ir);case"textInput":return s=a.data,s===Ir&&Rr?null:s;default:return null}}function RN(s,a){if(Ol)return s==="compositionend"||!pe&&Na(s,a)?(s=tu(),Ca=Jc=$r=null,Ol=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Kr&&a.locale!=="ko"?null:a.data;default:return null}}var NN={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wv(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!NN[s.type]:a==="textarea"}function Tv(s,a,c,h){ao?Yr?Yr.push(h):Yr=[h]:ao=h,a=mf(a,"onChange"),0<a.length&&(c=new Wr("onChange","change",null,c,h),s.push({event:c,listeners:a}))}var ru=null,su=null;function MN(s){sT(s,0)}function Ch(s){var a=ri(s);if(nr(a))return s}function Ev(s,a){if(s==="change")return a}var Sv=!1;if(rr){var Up;if(rr){var jp="oninput"in document;if(!jp){var Av=document.createElement("div");Av.setAttribute("oninput","return;"),jp=typeof Av.oninput=="function"}Up=jp}else Up=!1;Sv=Up&&(!document.documentMode||9<document.documentMode)}function Cv(){ru&&(ru.detachEvent("onpropertychange",Dv),su=ru=null)}function Dv(s){if(s.propertyName==="value"&&Ch(su)){var a=[];Tv(a,su,s,ir(s)),lo(MN,a)}}function ON(s,a,c){s==="focusin"?(Cv(),ru=a,su=c,ru.attachEvent("onpropertychange",Dv)):s==="focusout"&&Cv()}function kN(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Ch(su)}function PN(s,a){if(s==="click")return Ch(a)}function zN(s,a){if(s==="input"||s==="change")return Ch(a)}function LN(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var ki=typeof Object.is=="function"?Object.is:LN;function ou(s,a){if(ki(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var c=Object.keys(s),h=Object.keys(a);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var m=c[h];if(!yt.call(a,m)||!ki(s[m],a[m]))return!1}return!0}function Iv(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Rv(s,a){var c=Iv(s);s=0;for(var h;c;){if(c.nodeType===3){if(h=s+c.textContent.length,s<=a&&h>=a)return{node:c,offset:a-s};s=h}t:{for(;c;){if(c.nextSibling){c=c.nextSibling;break t}c=c.parentNode}c=void 0}c=Iv(c)}}function Nv(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?Nv(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function Mv(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=En(s.document);a instanceof s.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)s=a.contentWindow;else break;a=En(s.document)}return a}function Bp(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}var VN=rr&&"documentMode"in document&&11>=document.documentMode,kl=null,Fp=null,au=null,Hp=!1;function Ov(s,a,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;Hp||kl==null||kl!==En(h)||(h=kl,"selectionStart"in h&&Bp(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),au&&ou(au,h)||(au=h,h=mf(Fp,"onSelect"),0<h.length&&(a=new Wr("onSelect","select",null,a,c),s.push({event:a,listeners:h}),a.target=kl)))}function Ma(s,a){var c={};return c[s.toLowerCase()]=a.toLowerCase(),c["Webkit"+s]="webkit"+a,c["Moz"+s]="moz"+a,c}var Pl={animationend:Ma("Animation","AnimationEnd"),animationiteration:Ma("Animation","AnimationIteration"),animationstart:Ma("Animation","AnimationStart"),transitionrun:Ma("Transition","TransitionRun"),transitionstart:Ma("Transition","TransitionStart"),transitioncancel:Ma("Transition","TransitionCancel"),transitionend:Ma("Transition","TransitionEnd")},qp={},kv={};rr&&(kv=document.createElement("div").style,"AnimationEvent"in window||(delete Pl.animationend.animation,delete Pl.animationiteration.animation,delete Pl.animationstart.animation),"TransitionEvent"in window||delete Pl.transitionend.transition);function Oa(s){if(qp[s])return qp[s];if(!Pl[s])return s;var a=Pl[s],c;for(c in a)if(a.hasOwnProperty(c)&&c in kv)return qp[s]=a[c];return s}var Pv=Oa("animationend"),zv=Oa("animationiteration"),Lv=Oa("animationstart"),UN=Oa("transitionrun"),jN=Oa("transitionstart"),BN=Oa("transitioncancel"),Vv=Oa("transitionend"),Uv=new Map,Gp="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gp.push("scrollEnd");function Nr(s,a){Uv.set(s,a),gn(a,[s])}var Dh=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},or=[],zl=0,Yp=0;function Ih(){for(var s=zl,a=Yp=zl=0;a<s;){var c=or[a];or[a++]=null;var h=or[a];or[a++]=null;var m=or[a];or[a++]=null;var b=or[a];if(or[a++]=null,h!==null&&m!==null){var w=h.pending;w===null?m.next=m:(m.next=w.next,w.next=m),h.pending=m}b!==0&&jv(c,m,b)}}function Rh(s,a,c,h){or[zl++]=s,or[zl++]=a,or[zl++]=c,or[zl++]=h,Yp|=h,s.lanes|=h,s=s.alternate,s!==null&&(s.lanes|=h)}function $p(s,a,c,h){return Rh(s,a,c,h),Nh(s)}function ka(s,a){return Rh(s,null,null,a),Nh(s)}function jv(s,a,c){s.lanes|=c;var h=s.alternate;h!==null&&(h.lanes|=c);for(var m=!1,b=s.return;b!==null;)b.childLanes|=c,h=b.alternate,h!==null&&(h.childLanes|=c),b.tag===22&&(s=b.stateNode,s===null||s._visibility&1||(m=!0)),s=b,b=b.return;return s.tag===3?(b=s.stateNode,m&&a!==null&&(m=31-je(c),s=b.hiddenUpdates,h=s[m],h===null?s[m]=[a]:h.push(a),a.lane=c|536870912),b):null}function Nh(s){if(50<Iu)throw Iu=0,ny=null,Error(i(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var Ll={};function FN(s,a,c,h){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pi(s,a,c,h){return new FN(s,a,c,h)}function Wp(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Ds(s,a){var c=s.alternate;return c===null?(c=Pi(s.tag,a,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=a,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&65011712,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,a=s.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c.refCleanup=s.refCleanup,c}function Bv(s,a){s.flags&=65011714;var c=s.alternate;return c===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,a=c.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function Mh(s,a,c,h,m,b){var w=0;if(h=s,typeof s=="function")Wp(s)&&(w=1);else if(typeof s=="string")w=$M(s,c,pt.current)?26:s==="html"||s==="head"||s==="body"?27:5;else t:switch(s){case N:return s=Pi(31,c,a,m),s.elementType=N,s.lanes=b,s;case A:return Pa(c.children,m,b,a);case E:w=8,m|=24;break;case O:return s=Pi(12,c,a,m|2),s.elementType=O,s.lanes=b,s;case $:return s=Pi(13,c,a,m),s.elementType=$,s.lanes=b,s;case Q:return s=Pi(19,c,a,m),s.elementType=Q,s.lanes=b,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case q:w=10;break t;case V:w=9;break t;case Y:w=11;break t;case M:w=14;break t;case D:w=16,h=null;break t}w=29,c=Error(i(130,s===null?"null":typeof s,"")),h=null}return a=Pi(w,c,a,m),a.elementType=s,a.type=h,a.lanes=b,a}function Pa(s,a,c,h){return s=Pi(7,s,h,a),s.lanes=c,s}function Xp(s,a,c){return s=Pi(6,s,null,a),s.lanes=c,s}function Fv(s){var a=Pi(18,null,null,0);return a.stateNode=s,a}function Qp(s,a,c){return a=Pi(4,s.children!==null?s.children:[],s.key,a),a.lanes=c,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}var Hv=new WeakMap;function ar(s,a){if(typeof s=="object"&&s!==null){var c=Hv.get(s);return c!==void 0?c:(a={value:s,source:a,stack:Wi(a)},Hv.set(s,a),a)}return{value:s,source:a,stack:Wi(a)}}var Vl=[],Ul=0,Oh=null,lu=0,lr=[],cr=0,fo=null,Zr=1,Jr="";function Is(s,a){Vl[Ul++]=lu,Vl[Ul++]=Oh,Oh=s,lu=a}function qv(s,a,c){lr[cr++]=Zr,lr[cr++]=Jr,lr[cr++]=fo,fo=s;var h=Zr;s=Jr;var m=32-je(h)-1;h&=~(1<<m),c+=1;var b=32-je(a)+m;if(30<b){var w=m-m%5;b=(h&(1<<w)-1).toString(32),h>>=w,m-=w,Zr=1<<32-je(a)+m|c<<m|h,Jr=b+s}else Zr=1<<b|c<<m|h,Jr=s}function Kp(s){s.return!==null&&(Is(s,1),qv(s,1,0))}function Zp(s){for(;s===Oh;)Oh=Vl[--Ul],Vl[Ul]=null,lu=Vl[--Ul],Vl[Ul]=null;for(;s===fo;)fo=lr[--cr],lr[cr]=null,Jr=lr[--cr],lr[cr]=null,Zr=lr[--cr],lr[cr]=null}function Gv(s,a){lr[cr++]=Zr,lr[cr++]=Jr,lr[cr++]=fo,Zr=a.id,Jr=a.overflow,fo=s}var Vn=null,ke=null,oe=!1,go=null,ur=!1,Jp=Error(i(519));function po(s){var a=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw cu(ar(a,s)),Jp}function Yv(s){var a=s.stateNode,c=s.type,h=s.memoizedProps;switch(a[Fe]=s,a[rn]=h,c){case"dialog":Jt("cancel",a),Jt("close",a);break;case"iframe":case"object":case"embed":Jt("load",a);break;case"video":case"audio":for(c=0;c<Nu.length;c++)Jt(Nu[c],a);break;case"source":Jt("error",a);break;case"img":case"image":case"link":Jt("error",a),Jt("load",a);break;case"details":Jt("toggle",a);break;case"input":Jt("invalid",a),Ta(a,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":Jt("invalid",a);break;case"textarea":Jt("invalid",a),k(a,h.value,h.defaultValue,h.children)}c=h.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||a.textContent===""+c||h.suppressHydrationWarning===!0||cT(a.textContent,c)?(h.popover!=null&&(Jt("beforetoggle",a),Jt("toggle",a)),h.onScroll!=null&&Jt("scroll",a),h.onScrollEnd!=null&&Jt("scrollend",a),h.onClick!=null&&(a.onclick=Qe),a=!0):a=!1,a||po(s,!0)}function $v(s){for(Vn=s.return;Vn;)switch(Vn.tag){case 5:case 31:case 13:ur=!1;return;case 27:case 3:ur=!0;return;default:Vn=Vn.return}}function jl(s){if(s!==Vn)return!1;if(!oe)return $v(s),oe=!0,!1;var a=s.tag,c;if((c=a!==3&&a!==27)&&((c=a===5)&&(c=s.type,c=!(c!=="form"&&c!=="button")||yy(s.type,s.memoizedProps)),c=!c),c&&ke&&po(s),$v(s),a===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));ke=bT(s)}else if(a===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));ke=bT(s)}else a===27?(a=ke,Io(s.type)?(s=wy,wy=null,ke=s):ke=a):ke=Vn?hr(s.stateNode.nextSibling):null;return!0}function za(){ke=Vn=null,oe=!1}function tm(){var s=go;return s!==null&&(xi===null?xi=s:xi.push.apply(xi,s),go=null),s}function cu(s){go===null?go=[s]:go.push(s)}var em=H(null),La=null,Rs=null;function mo(s,a,c){gt(em,a._currentValue),a._currentValue=c}function Ns(s){s._currentValue=em.current,st(em)}function nm(s,a,c){for(;s!==null;){var h=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,h!==null&&(h.childLanes|=a)):h!==null&&(h.childLanes&a)!==a&&(h.childLanes|=a),s===c)break;s=s.return}}function im(s,a,c,h){var m=s.child;for(m!==null&&(m.return=s);m!==null;){var b=m.dependencies;if(b!==null){var w=m.child;b=b.firstContext;t:for(;b!==null;){var R=b;b=m;for(var F=0;F<a.length;F++)if(R.context===a[F]){b.lanes|=c,R=b.alternate,R!==null&&(R.lanes|=c),nm(b.return,c,s),h||(w=null);break t}b=R.next}}else if(m.tag===18){if(w=m.return,w===null)throw Error(i(341));w.lanes|=c,b=w.alternate,b!==null&&(b.lanes|=c),nm(w,c,s),w=null}else w=m.child;if(w!==null)w.return=m;else for(w=m;w!==null;){if(w===s){w=null;break}if(m=w.sibling,m!==null){m.return=w.return,w=m;break}w=w.return}m=w}}function Bl(s,a,c,h){s=null;for(var m=a,b=!1;m!==null;){if(!b){if((m.flags&524288)!==0)b=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var w=m.alternate;if(w===null)throw Error(i(387));if(w=w.memoizedProps,w!==null){var R=m.type;ki(m.pendingProps.value,w.value)||(s!==null?s.push(R):s=[R])}}else if(m===dt.current){if(w=m.alternate,w===null)throw Error(i(387));w.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(s!==null?s.push(zu):s=[zu])}m=m.return}s!==null&&im(a,s,c,h),a.flags|=262144}function kh(s){for(s=s.firstContext;s!==null;){if(!ki(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Va(s){La=s,Rs=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Un(s){return Wv(La,s)}function Ph(s,a){return La===null&&Va(s),Wv(s,a)}function Wv(s,a){var c=a._currentValue;if(a={context:a,memoizedValue:c,next:null},Rs===null){if(s===null)throw Error(i(308));Rs=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else Rs=Rs.next=a;return c}var HN=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(c,h){s.push(h)}};this.abort=function(){a.aborted=!0,s.forEach(function(c){return c()})}},qN=n.unstable_scheduleCallback,GN=n.unstable_NormalPriority,pn={$$typeof:q,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rm(){return{controller:new HN,data:new Map,refCount:0}}function uu(s){s.refCount--,s.refCount===0&&qN(GN,function(){s.controller.abort()})}var du=null,sm=0,Fl=0,Hl=null;function YN(s,a){if(du===null){var c=du=[];sm=0,Fl=ly(),Hl={status:"pending",value:void 0,then:function(h){c.push(h)}}}return sm++,a.then(Xv,Xv),a}function Xv(){if(--sm===0&&du!==null){Hl!==null&&(Hl.status="fulfilled");var s=du;du=null,Fl=0,Hl=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function $N(s,a){var c=[],h={status:"pending",value:null,reason:null,then:function(m){c.push(m)}};return s.then(function(){h.status="fulfilled",h.value=a;for(var m=0;m<c.length;m++)(0,c[m])(a)},function(m){for(h.status="rejected",h.reason=m,m=0;m<c.length;m++)(0,c[m])(void 0)}),h}var Qv=tt.S;tt.S=function(s,a){Ow=Pn(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&YN(s,a),Qv!==null&&Qv(s,a)};var Ua=H(null);function om(){var s=Ua.current;return s!==null?s:De.pooledCache}function zh(s,a){a===null?gt(Ua,Ua.current):gt(Ua,a.pool)}function Kv(){var s=om();return s===null?null:{parent:pn._currentValue,pool:s}}var ql=Error(i(460)),am=Error(i(474)),Lh=Error(i(542)),Vh={then:function(){}};function Zv(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Jv(s,a,c){switch(c=s[c],c===void 0?s.push(a):c!==a&&(a.then(Qe,Qe),a=c),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,ex(s),s;default:if(typeof a.status=="string")a.then(Qe,Qe);else{if(s=De,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=a,s.status="pending",s.then(function(h){if(a.status==="pending"){var m=a;m.status="fulfilled",m.value=h}},function(h){if(a.status==="pending"){var m=a;m.status="rejected",m.reason=h}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,ex(s),s}throw Ba=a,ql}}function ja(s){try{var a=s._init;return a(s._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(Ba=c,ql):c}}var Ba=null;function tx(){if(Ba===null)throw Error(i(459));var s=Ba;return Ba=null,s}function ex(s){if(s===ql||s===Lh)throw Error(i(483))}var Gl=null,hu=0;function Uh(s){var a=hu;return hu+=1,Gl===null&&(Gl=[]),Jv(Gl,s,a)}function fu(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function jh(s,a){throw a.$$typeof===_?Error(i(525)):(s=Object.prototype.toString.call(a),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function nx(s){function a(X,G){if(s){var Z=X.deletions;Z===null?(X.deletions=[G],X.flags|=16):Z.push(G)}}function c(X,G){if(!s)return null;for(;G!==null;)a(X,G),G=G.sibling;return null}function h(X){for(var G=new Map;X!==null;)X.key!==null?G.set(X.key,X):G.set(X.index,X),X=X.sibling;return G}function m(X,G){return X=Ds(X,G),X.index=0,X.sibling=null,X}function b(X,G,Z){return X.index=Z,s?(Z=X.alternate,Z!==null?(Z=Z.index,Z<G?(X.flags|=67108866,G):Z):(X.flags|=67108866,G)):(X.flags|=1048576,G)}function w(X){return s&&X.alternate===null&&(X.flags|=67108866),X}function R(X,G,Z,at){return G===null||G.tag!==6?(G=Xp(Z,X.mode,at),G.return=X,G):(G=m(G,Z),G.return=X,G)}function F(X,G,Z,at){var Rt=Z.type;return Rt===A?ot(X,G,Z.props.children,at,Z.key):G!==null&&(G.elementType===Rt||typeof Rt=="object"&&Rt!==null&&Rt.$$typeof===D&&ja(Rt)===G.type)?(G=m(G,Z.props),fu(G,Z),G.return=X,G):(G=Mh(Z.type,Z.key,Z.props,null,X.mode,at),fu(G,Z),G.return=X,G)}function J(X,G,Z,at){return G===null||G.tag!==4||G.stateNode.containerInfo!==Z.containerInfo||G.stateNode.implementation!==Z.implementation?(G=Qp(Z,X.mode,at),G.return=X,G):(G=m(G,Z.children||[]),G.return=X,G)}function ot(X,G,Z,at,Rt){return G===null||G.tag!==7?(G=Pa(Z,X.mode,at,Rt),G.return=X,G):(G=m(G,Z),G.return=X,G)}function ct(X,G,Z){if(typeof G=="string"&&G!==""||typeof G=="number"||typeof G=="bigint")return G=Xp(""+G,X.mode,Z),G.return=X,G;if(typeof G=="object"&&G!==null){switch(G.$$typeof){case v:return Z=Mh(G.type,G.key,G.props,null,X.mode,Z),fu(Z,G),Z.return=X,Z;case S:return G=Qp(G,X.mode,Z),G.return=X,G;case D:return G=ja(G),ct(X,G,Z)}if(St(G)||B(G))return G=Pa(G,X.mode,Z,null),G.return=X,G;if(typeof G.then=="function")return ct(X,Uh(G),Z);if(G.$$typeof===q)return ct(X,Ph(X,G),Z);jh(X,G)}return null}function et(X,G,Z,at){var Rt=G!==null?G.key:null;if(typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint")return Rt!==null?null:R(X,G,""+Z,at);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case v:return Z.key===Rt?F(X,G,Z,at):null;case S:return Z.key===Rt?J(X,G,Z,at):null;case D:return Z=ja(Z),et(X,G,Z,at)}if(St(Z)||B(Z))return Rt!==null?null:ot(X,G,Z,at,null);if(typeof Z.then=="function")return et(X,G,Uh(Z),at);if(Z.$$typeof===q)return et(X,G,Ph(X,Z),at);jh(X,Z)}return null}function rt(X,G,Z,at,Rt){if(typeof at=="string"&&at!==""||typeof at=="number"||typeof at=="bigint")return X=X.get(Z)||null,R(G,X,""+at,Rt);if(typeof at=="object"&&at!==null){switch(at.$$typeof){case v:return X=X.get(at.key===null?Z:at.key)||null,F(G,X,at,Rt);case S:return X=X.get(at.key===null?Z:at.key)||null,J(G,X,at,Rt);case D:return at=ja(at),rt(X,G,Z,at,Rt)}if(St(at)||B(at))return X=X.get(Z)||null,ot(G,X,at,Rt,null);if(typeof at.then=="function")return rt(X,G,Z,Uh(at),Rt);if(at.$$typeof===q)return rt(X,G,Z,Ph(G,at),Rt);jh(G,at)}return null}function Et(X,G,Z,at){for(var Rt=null,fe=null,Ct=G,Wt=G=0,ne=null;Ct!==null&&Wt<Z.length;Wt++){Ct.index>Wt?(ne=Ct,Ct=null):ne=Ct.sibling;var ge=et(X,Ct,Z[Wt],at);if(ge===null){Ct===null&&(Ct=ne);break}s&&Ct&&ge.alternate===null&&a(X,Ct),G=b(ge,G,Wt),fe===null?Rt=ge:fe.sibling=ge,fe=ge,Ct=ne}if(Wt===Z.length)return c(X,Ct),oe&&Is(X,Wt),Rt;if(Ct===null){for(;Wt<Z.length;Wt++)Ct=ct(X,Z[Wt],at),Ct!==null&&(G=b(Ct,G,Wt),fe===null?Rt=Ct:fe.sibling=Ct,fe=Ct);return oe&&Is(X,Wt),Rt}for(Ct=h(Ct);Wt<Z.length;Wt++)ne=rt(Ct,X,Wt,Z[Wt],at),ne!==null&&(s&&ne.alternate!==null&&Ct.delete(ne.key===null?Wt:ne.key),G=b(ne,G,Wt),fe===null?Rt=ne:fe.sibling=ne,fe=ne);return s&&Ct.forEach(function(ko){return a(X,ko)}),oe&&Is(X,Wt),Rt}function kt(X,G,Z,at){if(Z==null)throw Error(i(151));for(var Rt=null,fe=null,Ct=G,Wt=G=0,ne=null,ge=Z.next();Ct!==null&&!ge.done;Wt++,ge=Z.next()){Ct.index>Wt?(ne=Ct,Ct=null):ne=Ct.sibling;var ko=et(X,Ct,ge.value,at);if(ko===null){Ct===null&&(Ct=ne);break}s&&Ct&&ko.alternate===null&&a(X,Ct),G=b(ko,G,Wt),fe===null?Rt=ko:fe.sibling=ko,fe=ko,Ct=ne}if(ge.done)return c(X,Ct),oe&&Is(X,Wt),Rt;if(Ct===null){for(;!ge.done;Wt++,ge=Z.next())ge=ct(X,ge.value,at),ge!==null&&(G=b(ge,G,Wt),fe===null?Rt=ge:fe.sibling=ge,fe=ge);return oe&&Is(X,Wt),Rt}for(Ct=h(Ct);!ge.done;Wt++,ge=Z.next())ge=rt(Ct,X,Wt,ge.value,at),ge!==null&&(s&&ge.alternate!==null&&Ct.delete(ge.key===null?Wt:ge.key),G=b(ge,G,Wt),fe===null?Rt=ge:fe.sibling=ge,fe=ge);return s&&Ct.forEach(function(rO){return a(X,rO)}),oe&&Is(X,Wt),Rt}function Ce(X,G,Z,at){if(typeof Z=="object"&&Z!==null&&Z.type===A&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case v:t:{for(var Rt=Z.key;G!==null;){if(G.key===Rt){if(Rt=Z.type,Rt===A){if(G.tag===7){c(X,G.sibling),at=m(G,Z.props.children),at.return=X,X=at;break t}}else if(G.elementType===Rt||typeof Rt=="object"&&Rt!==null&&Rt.$$typeof===D&&ja(Rt)===G.type){c(X,G.sibling),at=m(G,Z.props),fu(at,Z),at.return=X,X=at;break t}c(X,G);break}else a(X,G);G=G.sibling}Z.type===A?(at=Pa(Z.props.children,X.mode,at,Z.key),at.return=X,X=at):(at=Mh(Z.type,Z.key,Z.props,null,X.mode,at),fu(at,Z),at.return=X,X=at)}return w(X);case S:t:{for(Rt=Z.key;G!==null;){if(G.key===Rt)if(G.tag===4&&G.stateNode.containerInfo===Z.containerInfo&&G.stateNode.implementation===Z.implementation){c(X,G.sibling),at=m(G,Z.children||[]),at.return=X,X=at;break t}else{c(X,G);break}else a(X,G);G=G.sibling}at=Qp(Z,X.mode,at),at.return=X,X=at}return w(X);case D:return Z=ja(Z),Ce(X,G,Z,at)}if(St(Z))return Et(X,G,Z,at);if(B(Z)){if(Rt=B(Z),typeof Rt!="function")throw Error(i(150));return Z=Rt.call(Z),kt(X,G,Z,at)}if(typeof Z.then=="function")return Ce(X,G,Uh(Z),at);if(Z.$$typeof===q)return Ce(X,G,Ph(X,Z),at);jh(X,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"||typeof Z=="bigint"?(Z=""+Z,G!==null&&G.tag===6?(c(X,G.sibling),at=m(G,Z),at.return=X,X=at):(c(X,G),at=Xp(Z,X.mode,at),at.return=X,X=at),w(X)):c(X,G)}return function(X,G,Z,at){try{hu=0;var Rt=Ce(X,G,Z,at);return Gl=null,Rt}catch(Ct){if(Ct===ql||Ct===Lh)throw Ct;var fe=Pi(29,Ct,null,X.mode);return fe.lanes=at,fe.return=X,fe}finally{}}}var Fa=nx(!0),ix=nx(!1),yo=!1;function lm(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function cm(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function bo(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function _o(s,a,c){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,(me&2)!==0){var m=h.pending;return m===null?a.next=a:(a.next=m.next,m.next=a),h.pending=a,a=Nh(s),jv(s,null,c),a}return Rh(s,h,a,c),Nh(s)}function gu(s,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194048)!==0)){var h=a.lanes;h&=s.pendingLanes,c|=h,a.lanes=c,_a(s,c)}}function um(s,a){var c=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var m=null,b=null;if(c=c.firstBaseUpdate,c!==null){do{var w={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};b===null?m=b=w:b=b.next=w,c=c.next}while(c!==null);b===null?m=b=a:b=b.next=a}else m=b=a;c={baseState:h.baseState,firstBaseUpdate:m,lastBaseUpdate:b,shared:h.shared,callbacks:h.callbacks},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=a:s.next=a,c.lastBaseUpdate=a}var dm=!1;function pu(){if(dm){var s=Hl;if(s!==null)throw s}}function mu(s,a,c,h){dm=!1;var m=s.updateQueue;yo=!1;var b=m.firstBaseUpdate,w=m.lastBaseUpdate,R=m.shared.pending;if(R!==null){m.shared.pending=null;var F=R,J=F.next;F.next=null,w===null?b=J:w.next=J,w=F;var ot=s.alternate;ot!==null&&(ot=ot.updateQueue,R=ot.lastBaseUpdate,R!==w&&(R===null?ot.firstBaseUpdate=J:R.next=J,ot.lastBaseUpdate=F))}if(b!==null){var ct=m.baseState;w=0,ot=J=F=null,R=b;do{var et=R.lane&-536870913,rt=et!==R.lane;if(rt?(ee&et)===et:(h&et)===et){et!==0&&et===Fl&&(dm=!0),ot!==null&&(ot=ot.next={lane:0,tag:R.tag,payload:R.payload,callback:null,next:null});t:{var Et=s,kt=R;et=a;var Ce=c;switch(kt.tag){case 1:if(Et=kt.payload,typeof Et=="function"){ct=Et.call(Ce,ct,et);break t}ct=Et;break t;case 3:Et.flags=Et.flags&-65537|128;case 0:if(Et=kt.payload,et=typeof Et=="function"?Et.call(Ce,ct,et):Et,et==null)break t;ct=y({},ct,et);break t;case 2:yo=!0}}et=R.callback,et!==null&&(s.flags|=64,rt&&(s.flags|=8192),rt=m.callbacks,rt===null?m.callbacks=[et]:rt.push(et))}else rt={lane:et,tag:R.tag,payload:R.payload,callback:R.callback,next:null},ot===null?(J=ot=rt,F=ct):ot=ot.next=rt,w|=et;if(R=R.next,R===null){if(R=m.shared.pending,R===null)break;rt=R,R=rt.next,rt.next=null,m.lastBaseUpdate=rt,m.shared.pending=null}}while(!0);ot===null&&(F=ct),m.baseState=F,m.firstBaseUpdate=J,m.lastBaseUpdate=ot,b===null&&(m.shared.lanes=0),Eo|=w,s.lanes=w,s.memoizedState=ct}}function rx(s,a){if(typeof s!="function")throw Error(i(191,s));s.call(a)}function sx(s,a){var c=s.callbacks;if(c!==null)for(s.callbacks=null,s=0;s<c.length;s++)rx(c[s],a)}var Yl=H(null),Bh=H(0);function ox(s,a){s=js,gt(Bh,s),gt(Yl,a),js=s|a.baseLanes}function hm(){gt(Bh,js),gt(Yl,Yl.current)}function fm(){js=Bh.current,st(Yl),st(Bh)}var zi=H(null),dr=null;function vo(s){var a=s.alternate;gt(on,on.current&1),gt(zi,s),dr===null&&(a===null||Yl.current!==null||a.memoizedState!==null)&&(dr=s)}function gm(s){gt(on,on.current),gt(zi,s),dr===null&&(dr=s)}function ax(s){s.tag===22?(gt(on,on.current),gt(zi,s),dr===null&&(dr=s)):xo()}function xo(){gt(on,on.current),gt(zi,zi.current)}function Li(s){st(zi),dr===s&&(dr=null),st(on)}var on=H(0);function Fh(s){for(var a=s;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||vy(c)||xy(c)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Ms=0,Yt=null,Se=null,mn=null,Hh=!1,$l=!1,Ha=!1,qh=0,yu=0,Wl=null,WN=0;function Ke(){throw Error(i(321))}function pm(s,a){if(a===null)return!1;for(var c=0;c<a.length&&c<s.length;c++)if(!ki(s[c],a[c]))return!1;return!0}function mm(s,a,c,h,m,b){return Ms=b,Yt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,tt.H=s===null||s.memoizedState===null?qx:Nm,Ha=!1,b=c(h,m),Ha=!1,$l&&(b=cx(a,c,h,m)),lx(s),b}function lx(s){tt.H=vu;var a=Se!==null&&Se.next!==null;if(Ms=0,mn=Se=Yt=null,Hh=!1,yu=0,Wl=null,a)throw Error(i(300));s===null||yn||(s=s.dependencies,s!==null&&kh(s)&&(yn=!0))}function cx(s,a,c,h){Yt=s;var m=0;do{if($l&&(Wl=null),yu=0,$l=!1,25<=m)throw Error(i(301));if(m+=1,mn=Se=null,s.updateQueue!=null){var b=s.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}tt.H=Gx,b=a(c,h)}while($l);return b}function XN(){var s=tt.H,a=s.useState()[0];return a=typeof a.then=="function"?bu(a):a,s=s.useState()[0],(Se!==null?Se.memoizedState:null)!==s&&(Yt.flags|=1024),a}function ym(){var s=qh!==0;return qh=0,s}function bm(s,a,c){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~c}function _m(s){if(Hh){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}Hh=!1}Ms=0,mn=Se=Yt=null,$l=!1,yu=qh=0,Wl=null}function li(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mn===null?Yt.memoizedState=mn=s:mn=mn.next=s,mn}function an(){if(Se===null){var s=Yt.alternate;s=s!==null?s.memoizedState:null}else s=Se.next;var a=mn===null?Yt.memoizedState:mn.next;if(a!==null)mn=a,Se=s;else{if(s===null)throw Yt.alternate===null?Error(i(467)):Error(i(310));Se=s,s={memoizedState:Se.memoizedState,baseState:Se.baseState,baseQueue:Se.baseQueue,queue:Se.queue,next:null},mn===null?Yt.memoizedState=mn=s:mn=mn.next=s}return mn}function Gh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function bu(s){var a=yu;return yu+=1,Wl===null&&(Wl=[]),s=Jv(Wl,s,a),a=Yt,(mn===null?a.memoizedState:mn.next)===null&&(a=a.alternate,tt.H=a===null||a.memoizedState===null?qx:Nm),s}function Yh(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return bu(s);if(s.$$typeof===q)return Un(s)}throw Error(i(438,String(s)))}function vm(s){var a=null,c=Yt.updateQueue;if(c!==null&&(a=c.memoCache),a==null){var h=Yt.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(a={data:h.data.map(function(m){return m.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),c===null&&(c=Gh(),Yt.updateQueue=c),c.memoCache=a,c=a.data[a.index],c===void 0)for(c=a.data[a.index]=Array(s),h=0;h<s;h++)c[h]=L;return a.index++,c}function Os(s,a){return typeof a=="function"?a(s):a}function $h(s){var a=an();return xm(a,Se,s)}function xm(s,a,c){var h=s.queue;if(h===null)throw Error(i(311));h.lastRenderedReducer=c;var m=s.baseQueue,b=h.pending;if(b!==null){if(m!==null){var w=m.next;m.next=b.next,b.next=w}a.baseQueue=m=b,h.pending=null}if(b=s.baseState,m===null)s.memoizedState=b;else{a=m.next;var R=w=null,F=null,J=a,ot=!1;do{var ct=J.lane&-536870913;if(ct!==J.lane?(ee&ct)===ct:(Ms&ct)===ct){var et=J.revertLane;if(et===0)F!==null&&(F=F.next={lane:0,revertLane:0,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null}),ct===Fl&&(ot=!0);else if((Ms&et)===et){J=J.next,et===Fl&&(ot=!0);continue}else ct={lane:0,revertLane:J.revertLane,gesture:null,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},F===null?(R=F=ct,w=b):F=F.next=ct,Yt.lanes|=et,Eo|=et;ct=J.action,Ha&&c(b,ct),b=J.hasEagerState?J.eagerState:c(b,ct)}else et={lane:ct,revertLane:J.revertLane,gesture:J.gesture,action:J.action,hasEagerState:J.hasEagerState,eagerState:J.eagerState,next:null},F===null?(R=F=et,w=b):F=F.next=et,Yt.lanes|=ct,Eo|=ct;J=J.next}while(J!==null&&J!==a);if(F===null?w=b:F.next=R,!ki(b,s.memoizedState)&&(yn=!0,ot&&(c=Hl,c!==null)))throw c;s.memoizedState=b,s.baseState=w,s.baseQueue=F,h.lastRenderedState=b}return m===null&&(h.lanes=0),[s.memoizedState,h.dispatch]}function wm(s){var a=an(),c=a.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=s;var h=c.dispatch,m=c.pending,b=a.memoizedState;if(m!==null){c.pending=null;var w=m=m.next;do b=s(b,w.action),w=w.next;while(w!==m);ki(b,a.memoizedState)||(yn=!0),a.memoizedState=b,a.baseQueue===null&&(a.baseState=b),c.lastRenderedState=b}return[b,h]}function ux(s,a,c){var h=Yt,m=an(),b=oe;if(b){if(c===void 0)throw Error(i(407));c=c()}else c=a();var w=!ki((Se||m).memoizedState,c);if(w&&(m.memoizedState=c,yn=!0),m=m.queue,Sm(fx.bind(null,h,m,s),[s]),m.getSnapshot!==a||w||mn!==null&&mn.memoizedState.tag&1){if(h.flags|=2048,Xl(9,{destroy:void 0},hx.bind(null,h,m,c,a),null),De===null)throw Error(i(349));b||(Ms&127)!==0||dx(h,a,c)}return c}function dx(s,a,c){s.flags|=16384,s={getSnapshot:a,value:c},a=Yt.updateQueue,a===null?(a=Gh(),Yt.updateQueue=a,a.stores=[s]):(c=a.stores,c===null?a.stores=[s]:c.push(s))}function hx(s,a,c,h){a.value=c,a.getSnapshot=h,gx(a)&&px(s)}function fx(s,a,c){return c(function(){gx(a)&&px(s)})}function gx(s){var a=s.getSnapshot;s=s.value;try{var c=a();return!ki(s,c)}catch{return!0}}function px(s){var a=ka(s,2);a!==null&&wi(a,s,2)}function Tm(s){var a=li();if(typeof s=="function"){var c=s;if(s=c(),Ha){hi(!0);try{c()}finally{hi(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Os,lastRenderedState:s},a}function mx(s,a,c,h){return s.baseState=c,xm(s,Se,typeof h=="function"?h:Os)}function QN(s,a,c,h,m){if(Qh(s))throw Error(i(485));if(s=a.action,s!==null){var b={payload:m,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(w){b.listeners.push(w)}};tt.T!==null?c(!0):b.isTransition=!1,h(b),c=a.pending,c===null?(b.next=a.pending=b,yx(a,b)):(b.next=c.next,a.pending=c.next=b)}}function yx(s,a){var c=a.action,h=a.payload,m=s.state;if(a.isTransition){var b=tt.T,w={};tt.T=w;try{var R=c(m,h),F=tt.S;F!==null&&F(w,R),bx(s,a,R)}catch(J){Em(s,a,J)}finally{b!==null&&w.types!==null&&(b.types=w.types),tt.T=b}}else try{b=c(m,h),bx(s,a,b)}catch(J){Em(s,a,J)}}function bx(s,a,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(h){_x(s,a,h)},function(h){return Em(s,a,h)}):_x(s,a,c)}function _x(s,a,c){a.status="fulfilled",a.value=c,vx(a),s.state=c,a=s.pending,a!==null&&(c=a.next,c===a?s.pending=null:(c=c.next,a.next=c,yx(s,c)))}function Em(s,a,c){var h=s.pending;if(s.pending=null,h!==null){h=h.next;do a.status="rejected",a.reason=c,vx(a),a=a.next;while(a!==h)}s.action=null}function vx(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function xx(s,a){return a}function wx(s,a){if(oe){var c=De.formState;if(c!==null){t:{var h=Yt;if(oe){if(ke){e:{for(var m=ke,b=ur;m.nodeType!==8;){if(!b){m=null;break e}if(m=hr(m.nextSibling),m===null){m=null;break e}}b=m.data,m=b==="F!"||b==="F"?m:null}if(m){ke=hr(m.nextSibling),h=m.data==="F!";break t}}po(h)}h=!1}h&&(a=c[0])}}return c=li(),c.memoizedState=c.baseState=a,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:xx,lastRenderedState:a},c.queue=h,c=Bx.bind(null,Yt,h),h.dispatch=c,h=Tm(!1),b=Rm.bind(null,Yt,!1,h.queue),h=li(),m={state:a,dispatch:null,action:s,pending:null},h.queue=m,c=QN.bind(null,Yt,m,b,c),m.dispatch=c,h.memoizedState=s,[a,c,!1]}function Tx(s){var a=an();return Ex(a,Se,s)}function Ex(s,a,c){if(a=xm(s,a,xx)[0],s=$h(Os)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var h=bu(a)}catch(w){throw w===ql?Lh:w}else h=a;a=an();var m=a.queue,b=m.dispatch;return c!==a.memoizedState&&(Yt.flags|=2048,Xl(9,{destroy:void 0},KN.bind(null,m,c),null)),[h,b,s]}function KN(s,a){s.action=a}function Sx(s){var a=an(),c=Se;if(c!==null)return Ex(a,c,s);an(),a=a.memoizedState,c=an();var h=c.queue.dispatch;return c.memoizedState=s,[a,h,!1]}function Xl(s,a,c,h){return s={tag:s,create:c,deps:h,inst:a,next:null},a=Yt.updateQueue,a===null&&(a=Gh(),Yt.updateQueue=a),c=a.lastEffect,c===null?a.lastEffect=s.next=s:(h=c.next,c.next=s,s.next=h,a.lastEffect=s),s}function Ax(){return an().memoizedState}function Wh(s,a,c,h){var m=li();Yt.flags|=s,m.memoizedState=Xl(1|a,{destroy:void 0},c,h===void 0?null:h)}function Xh(s,a,c,h){var m=an();h=h===void 0?null:h;var b=m.memoizedState.inst;Se!==null&&h!==null&&pm(h,Se.memoizedState.deps)?m.memoizedState=Xl(a,b,c,h):(Yt.flags|=s,m.memoizedState=Xl(1|a,b,c,h))}function Cx(s,a){Wh(8390656,8,s,a)}function Sm(s,a){Xh(2048,8,s,a)}function ZN(s){Yt.flags|=4;var a=Yt.updateQueue;if(a===null)a=Gh(),Yt.updateQueue=a,a.events=[s];else{var c=a.events;c===null?a.events=[s]:c.push(s)}}function Dx(s){var a=an().memoizedState;return ZN({ref:a,nextImpl:s}),function(){if((me&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}function Ix(s,a){return Xh(4,2,s,a)}function Rx(s,a){return Xh(4,4,s,a)}function Nx(s,a){if(typeof a=="function"){s=s();var c=a(s);return function(){typeof c=="function"?c():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function Mx(s,a,c){c=c!=null?c.concat([s]):null,Xh(4,4,Nx.bind(null,a,s),c)}function Am(){}function Ox(s,a){var c=an();a=a===void 0?null:a;var h=c.memoizedState;return a!==null&&pm(a,h[1])?h[0]:(c.memoizedState=[s,a],s)}function kx(s,a){var c=an();a=a===void 0?null:a;var h=c.memoizedState;if(a!==null&&pm(a,h[1]))return h[0];if(h=s(),Ha){hi(!0);try{s()}finally{hi(!1)}}return c.memoizedState=[h,a],h}function Cm(s,a,c){return c===void 0||(Ms&1073741824)!==0&&(ee&261930)===0?s.memoizedState=a:(s.memoizedState=c,s=Pw(),Yt.lanes|=s,Eo|=s,c)}function Px(s,a,c,h){return ki(c,a)?c:Yl.current!==null?(s=Cm(s,c,h),ki(s,a)||(yn=!0),s):(Ms&42)===0||(Ms&1073741824)!==0&&(ee&261930)===0?(yn=!0,s.memoizedState=c):(s=Pw(),Yt.lanes|=s,Eo|=s,a)}function zx(s,a,c,h,m){var b=ft.p;ft.p=b!==0&&8>b?b:8;var w=tt.T,R={};tt.T=R,Rm(s,!1,a,c);try{var F=m(),J=tt.S;if(J!==null&&J(R,F),F!==null&&typeof F=="object"&&typeof F.then=="function"){var ot=$N(F,h);_u(s,a,ot,ji(s))}else _u(s,a,h,ji(s))}catch(ct){_u(s,a,{then:function(){},status:"rejected",reason:ct},ji())}finally{ft.p=b,w!==null&&R.types!==null&&(w.types=R.types),tt.T=w}}function JN(){}function Dm(s,a,c,h){if(s.tag!==5)throw Error(i(476));var m=Lx(s).queue;zx(s,m,a,xt,c===null?JN:function(){return Vx(s),c(h)})}function Lx(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:xt,baseState:xt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Os,lastRenderedState:xt},next:null};var c={};return a.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Os,lastRenderedState:c},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function Vx(s){var a=Lx(s);a.next===null&&(a=s.alternate.memoizedState),_u(s,a.next.queue,{},ji())}function Im(){return Un(zu)}function Ux(){return an().memoizedState}function jx(){return an().memoizedState}function tM(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var c=ji();s=bo(c);var h=_o(a,s,c);h!==null&&(wi(h,a,c),gu(h,a,c)),a={cache:rm()},s.payload=a;return}a=a.return}}function eM(s,a,c){var h=ji();c={lane:h,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},Qh(s)?Fx(a,c):(c=$p(s,a,c,h),c!==null&&(wi(c,s,h),Hx(c,a,h)))}function Bx(s,a,c){var h=ji();_u(s,a,c,h)}function _u(s,a,c,h){var m={lane:h,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(Qh(s))Fx(a,m);else{var b=s.alternate;if(s.lanes===0&&(b===null||b.lanes===0)&&(b=a.lastRenderedReducer,b!==null))try{var w=a.lastRenderedState,R=b(w,c);if(m.hasEagerState=!0,m.eagerState=R,ki(R,w))return Rh(s,a,m,0),De===null&&Ih(),!1}catch{}finally{}if(c=$p(s,a,m,h),c!==null)return wi(c,s,h),Hx(c,a,h),!0}return!1}function Rm(s,a,c,h){if(h={lane:2,revertLane:ly(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},Qh(s)){if(a)throw Error(i(479))}else a=$p(s,c,h,2),a!==null&&wi(a,s,2)}function Qh(s){var a=s.alternate;return s===Yt||a!==null&&a===Yt}function Fx(s,a){$l=Hh=!0;var c=s.pending;c===null?a.next=a:(a.next=c.next,c.next=a),s.pending=a}function Hx(s,a,c){if((c&4194048)!==0){var h=a.lanes;h&=s.pendingLanes,c|=h,a.lanes=c,_a(s,c)}}var vu={readContext:Un,use:Yh,useCallback:Ke,useContext:Ke,useEffect:Ke,useImperativeHandle:Ke,useLayoutEffect:Ke,useInsertionEffect:Ke,useMemo:Ke,useReducer:Ke,useRef:Ke,useState:Ke,useDebugValue:Ke,useDeferredValue:Ke,useTransition:Ke,useSyncExternalStore:Ke,useId:Ke,useHostTransitionStatus:Ke,useFormState:Ke,useActionState:Ke,useOptimistic:Ke,useMemoCache:Ke,useCacheRefresh:Ke};vu.useEffectEvent=Ke;var qx={readContext:Un,use:Yh,useCallback:function(s,a){return li().memoizedState=[s,a===void 0?null:a],s},useContext:Un,useEffect:Cx,useImperativeHandle:function(s,a,c){c=c!=null?c.concat([s]):null,Wh(4194308,4,Nx.bind(null,a,s),c)},useLayoutEffect:function(s,a){return Wh(4194308,4,s,a)},useInsertionEffect:function(s,a){Wh(4,2,s,a)},useMemo:function(s,a){var c=li();a=a===void 0?null:a;var h=s();if(Ha){hi(!0);try{s()}finally{hi(!1)}}return c.memoizedState=[h,a],h},useReducer:function(s,a,c){var h=li();if(c!==void 0){var m=c(a);if(Ha){hi(!0);try{c(a)}finally{hi(!1)}}}else m=a;return h.memoizedState=h.baseState=m,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:m},h.queue=s,s=s.dispatch=eM.bind(null,Yt,s),[h.memoizedState,s]},useRef:function(s){var a=li();return s={current:s},a.memoizedState=s},useState:function(s){s=Tm(s);var a=s.queue,c=Bx.bind(null,Yt,a);return a.dispatch=c,[s.memoizedState,c]},useDebugValue:Am,useDeferredValue:function(s,a){var c=li();return Cm(c,s,a)},useTransition:function(){var s=Tm(!1);return s=zx.bind(null,Yt,s.queue,!0,!1),li().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,c){var h=Yt,m=li();if(oe){if(c===void 0)throw Error(i(407));c=c()}else{if(c=a(),De===null)throw Error(i(349));(ee&127)!==0||dx(h,a,c)}m.memoizedState=c;var b={value:c,getSnapshot:a};return m.queue=b,Cx(fx.bind(null,h,b,s),[s]),h.flags|=2048,Xl(9,{destroy:void 0},hx.bind(null,h,b,c,a),null),c},useId:function(){var s=li(),a=De.identifierPrefix;if(oe){var c=Jr,h=Zr;c=(h&~(1<<32-je(h)-1)).toString(32)+c,a="_"+a+"R_"+c,c=qh++,0<c&&(a+="H"+c.toString(32)),a+="_"}else c=WN++,a="_"+a+"r_"+c.toString(32)+"_";return s.memoizedState=a},useHostTransitionStatus:Im,useFormState:wx,useActionState:wx,useOptimistic:function(s){var a=li();a.memoizedState=a.baseState=s;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=c,a=Rm.bind(null,Yt,!0,c),c.dispatch=a,[s,a]},useMemoCache:vm,useCacheRefresh:function(){return li().memoizedState=tM.bind(null,Yt)},useEffectEvent:function(s){var a=li(),c={impl:s};return a.memoizedState=c,function(){if((me&2)!==0)throw Error(i(440));return c.impl.apply(void 0,arguments)}}},Nm={readContext:Un,use:Yh,useCallback:Ox,useContext:Un,useEffect:Sm,useImperativeHandle:Mx,useInsertionEffect:Ix,useLayoutEffect:Rx,useMemo:kx,useReducer:$h,useRef:Ax,useState:function(){return $h(Os)},useDebugValue:Am,useDeferredValue:function(s,a){var c=an();return Px(c,Se.memoizedState,s,a)},useTransition:function(){var s=$h(Os)[0],a=an().memoizedState;return[typeof s=="boolean"?s:bu(s),a]},useSyncExternalStore:ux,useId:Ux,useHostTransitionStatus:Im,useFormState:Tx,useActionState:Tx,useOptimistic:function(s,a){var c=an();return mx(c,Se,s,a)},useMemoCache:vm,useCacheRefresh:jx};Nm.useEffectEvent=Dx;var Gx={readContext:Un,use:Yh,useCallback:Ox,useContext:Un,useEffect:Sm,useImperativeHandle:Mx,useInsertionEffect:Ix,useLayoutEffect:Rx,useMemo:kx,useReducer:wm,useRef:Ax,useState:function(){return wm(Os)},useDebugValue:Am,useDeferredValue:function(s,a){var c=an();return Se===null?Cm(c,s,a):Px(c,Se.memoizedState,s,a)},useTransition:function(){var s=wm(Os)[0],a=an().memoizedState;return[typeof s=="boolean"?s:bu(s),a]},useSyncExternalStore:ux,useId:Ux,useHostTransitionStatus:Im,useFormState:Sx,useActionState:Sx,useOptimistic:function(s,a){var c=an();return Se!==null?mx(c,Se,s,a):(c.baseState=s,[s,c.queue.dispatch])},useMemoCache:vm,useCacheRefresh:jx};Gx.useEffectEvent=Dx;function Mm(s,a,c,h){a=s.memoizedState,c=c(h,a),c=c==null?a:y({},a,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var Om={enqueueSetState:function(s,a,c){s=s._reactInternals;var h=ji(),m=bo(h);m.payload=a,c!=null&&(m.callback=c),a=_o(s,m,h),a!==null&&(wi(a,s,h),gu(a,s,h))},enqueueReplaceState:function(s,a,c){s=s._reactInternals;var h=ji(),m=bo(h);m.tag=1,m.payload=a,c!=null&&(m.callback=c),a=_o(s,m,h),a!==null&&(wi(a,s,h),gu(a,s,h))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var c=ji(),h=bo(c);h.tag=2,a!=null&&(h.callback=a),a=_o(s,h,c),a!==null&&(wi(a,s,c),gu(a,s,c))}};function Yx(s,a,c,h,m,b,w){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,b,w):a.prototype&&a.prototype.isPureReactComponent?!ou(c,h)||!ou(m,b):!0}function $x(s,a,c,h){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,h),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,h),a.state!==s&&Om.enqueueReplaceState(a,a.state,null)}function qa(s,a){var c=a;if("ref"in a){c={};for(var h in a)h!=="ref"&&(c[h]=a[h])}if(s=s.defaultProps){c===a&&(c=y({},c));for(var m in s)c[m]===void 0&&(c[m]=s[m])}return c}function Wx(s){Dh(s)}function Xx(s){console.error(s)}function Qx(s){Dh(s)}function Kh(s,a){try{var c=s.onUncaughtError;c(a.value,{componentStack:a.stack})}catch(h){setTimeout(function(){throw h})}}function Kx(s,a,c){try{var h=s.onCaughtError;h(c.value,{componentStack:c.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function km(s,a,c){return c=bo(c),c.tag=3,c.payload={element:null},c.callback=function(){Kh(s,a)},c}function Zx(s){return s=bo(s),s.tag=3,s}function Jx(s,a,c,h){var m=c.type.getDerivedStateFromError;if(typeof m=="function"){var b=h.value;s.payload=function(){return m(b)},s.callback=function(){Kx(a,c,h)}}var w=c.stateNode;w!==null&&typeof w.componentDidCatch=="function"&&(s.callback=function(){Kx(a,c,h),typeof m!="function"&&(So===null?So=new Set([this]):So.add(this));var R=h.stack;this.componentDidCatch(h.value,{componentStack:R!==null?R:""})})}function nM(s,a,c,h,m){if(c.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(a=c.alternate,a!==null&&Bl(a,c,m,!0),c=zi.current,c!==null){switch(c.tag){case 31:case 13:return dr===null?uf():c.alternate===null&&Ze===0&&(Ze=3),c.flags&=-257,c.flags|=65536,c.lanes=m,h===Vh?c.flags|=16384:(a=c.updateQueue,a===null?c.updateQueue=new Set([h]):a.add(h),sy(s,h,m)),!1;case 22:return c.flags|=65536,h===Vh?c.flags|=16384:(a=c.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([h])},c.updateQueue=a):(c=a.retryQueue,c===null?a.retryQueue=new Set([h]):c.add(h)),sy(s,h,m)),!1}throw Error(i(435,c.tag))}return sy(s,h,m),uf(),!1}if(oe)return a=zi.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=m,h!==Jp&&(s=Error(i(422),{cause:h}),cu(ar(s,c)))):(h!==Jp&&(a=Error(i(423),{cause:h}),cu(ar(a,c))),s=s.current.alternate,s.flags|=65536,m&=-m,s.lanes|=m,h=ar(h,c),m=km(s.stateNode,h,m),um(s,m),Ze!==4&&(Ze=2)),!1;var b=Error(i(520),{cause:h});if(b=ar(b,c),Du===null?Du=[b]:Du.push(b),Ze!==4&&(Ze=2),a===null)return!0;h=ar(h,c),c=a;do{switch(c.tag){case 3:return c.flags|=65536,s=m&-m,c.lanes|=s,s=km(c.stateNode,h,s),um(c,s),!1;case 1:if(a=c.type,b=c.stateNode,(c.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(So===null||!So.has(b))))return c.flags|=65536,m&=-m,c.lanes|=m,m=Zx(m),Jx(m,s,c,h),um(c,m),!1}c=c.return}while(c!==null);return!1}var Pm=Error(i(461)),yn=!1;function jn(s,a,c,h){a.child=s===null?ix(a,null,c,h):Fa(a,s.child,c,h)}function tw(s,a,c,h,m){c=c.render;var b=a.ref;if("ref"in h){var w={};for(var R in h)R!=="ref"&&(w[R]=h[R])}else w=h;return Va(a),h=mm(s,a,c,w,b,m),R=ym(),s!==null&&!yn?(bm(s,a,m),ks(s,a,m)):(oe&&R&&Kp(a),a.flags|=1,jn(s,a,h,m),a.child)}function ew(s,a,c,h,m){if(s===null){var b=c.type;return typeof b=="function"&&!Wp(b)&&b.defaultProps===void 0&&c.compare===null?(a.tag=15,a.type=b,nw(s,a,b,h,m)):(s=Mh(c.type,null,h,a,a.mode,m),s.ref=a.ref,s.return=a,a.child=s)}if(b=s.child,!Hm(s,m)){var w=b.memoizedProps;if(c=c.compare,c=c!==null?c:ou,c(w,h)&&s.ref===a.ref)return ks(s,a,m)}return a.flags|=1,s=Ds(b,h),s.ref=a.ref,s.return=a,a.child=s}function nw(s,a,c,h,m){if(s!==null){var b=s.memoizedProps;if(ou(b,h)&&s.ref===a.ref)if(yn=!1,a.pendingProps=h=b,Hm(s,m))(s.flags&131072)!==0&&(yn=!0);else return a.lanes=s.lanes,ks(s,a,m)}return zm(s,a,c,h,m)}function iw(s,a,c,h){var m=h.children,b=s!==null?s.memoizedState:null;if(s===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((a.flags&128)!==0){if(b=b!==null?b.baseLanes|c:c,s!==null){for(h=a.child=s.child,m=0;h!==null;)m=m|h.lanes|h.childLanes,h=h.sibling;h=m&~b}else h=0,a.child=null;return rw(s,a,b,c,h)}if((c&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&zh(a,b!==null?b.cachePool:null),b!==null?ox(a,b):hm(),ax(a);else return h=a.lanes=536870912,rw(s,a,b!==null?b.baseLanes|c:c,c,h)}else b!==null?(zh(a,b.cachePool),ox(a,b),xo(),a.memoizedState=null):(s!==null&&zh(a,null),hm(),xo());return jn(s,a,m,c),a.child}function xu(s,a){return s!==null&&s.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function rw(s,a,c,h,m){var b=om();return b=b===null?null:{parent:pn._currentValue,pool:b},a.memoizedState={baseLanes:c,cachePool:b},s!==null&&zh(a,null),hm(),ax(a),s!==null&&Bl(s,a,h,!0),a.childLanes=m,null}function Zh(s,a){return a=tf({mode:a.mode,children:a.children},s.mode),a.ref=s.ref,s.child=a,a.return=s,a}function sw(s,a,c){return Fa(a,s.child,null,c),s=Zh(a,a.pendingProps),s.flags|=2,Li(a),a.memoizedState=null,s}function iM(s,a,c){var h=a.pendingProps,m=(a.flags&128)!==0;if(a.flags&=-129,s===null){if(oe){if(h.mode==="hidden")return s=Zh(a,h),a.lanes=536870912,xu(null,s);if(gm(a),(s=ke)?(s=yT(s,ur),s=s!==null&&s.data==="&"?s:null,s!==null&&(a.memoizedState={dehydrated:s,treeContext:fo!==null?{id:Zr,overflow:Jr}:null,retryLane:536870912,hydrationErrors:null},c=Fv(s),c.return=a,a.child=c,Vn=a,ke=null)):s=null,s===null)throw po(a);return a.lanes=536870912,null}return Zh(a,h)}var b=s.memoizedState;if(b!==null){var w=b.dehydrated;if(gm(a),m)if(a.flags&256)a.flags&=-257,a=sw(s,a,c);else if(a.memoizedState!==null)a.child=s.child,a.flags|=128,a=null;else throw Error(i(558));else if(yn||Bl(s,a,c,!1),m=(c&s.childLanes)!==0,yn||m){if(h=De,h!==null&&(w=va(h,c),w!==0&&w!==b.retryLane))throw b.retryLane=w,ka(s,w),wi(h,s,w),Pm;uf(),a=sw(s,a,c)}else s=b.treeContext,ke=hr(w.nextSibling),Vn=a,oe=!0,go=null,ur=!1,s!==null&&Gv(a,s),a=Zh(a,h),a.flags|=4096;return a}return s=Ds(s.child,{mode:h.mode,children:h.children}),s.ref=a.ref,a.child=s,s.return=a,s}function Jh(s,a){var c=a.ref;if(c===null)s!==null&&s.ref!==null&&(a.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(i(284));(s===null||s.ref!==c)&&(a.flags|=4194816)}}function zm(s,a,c,h,m){return Va(a),c=mm(s,a,c,h,void 0,m),h=ym(),s!==null&&!yn?(bm(s,a,m),ks(s,a,m)):(oe&&h&&Kp(a),a.flags|=1,jn(s,a,c,m),a.child)}function ow(s,a,c,h,m,b){return Va(a),a.updateQueue=null,c=cx(a,h,c,m),lx(s),h=ym(),s!==null&&!yn?(bm(s,a,b),ks(s,a,b)):(oe&&h&&Kp(a),a.flags|=1,jn(s,a,c,b),a.child)}function aw(s,a,c,h,m){if(Va(a),a.stateNode===null){var b=Ll,w=c.contextType;typeof w=="object"&&w!==null&&(b=Un(w)),b=new c(h,b),a.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=Om,a.stateNode=b,b._reactInternals=a,b=a.stateNode,b.props=h,b.state=a.memoizedState,b.refs={},lm(a),w=c.contextType,b.context=typeof w=="object"&&w!==null?Un(w):Ll,b.state=a.memoizedState,w=c.getDerivedStateFromProps,typeof w=="function"&&(Mm(a,c,w,h),b.state=a.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(w=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),w!==b.state&&Om.enqueueReplaceState(b,b.state,null),mu(a,h,b,m),pu(),b.state=a.memoizedState),typeof b.componentDidMount=="function"&&(a.flags|=4194308),h=!0}else if(s===null){b=a.stateNode;var R=a.memoizedProps,F=qa(c,R);b.props=F;var J=b.context,ot=c.contextType;w=Ll,typeof ot=="object"&&ot!==null&&(w=Un(ot));var ct=c.getDerivedStateFromProps;ot=typeof ct=="function"||typeof b.getSnapshotBeforeUpdate=="function",R=a.pendingProps!==R,ot||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(R||J!==w)&&$x(a,b,h,w),yo=!1;var et=a.memoizedState;b.state=et,mu(a,h,b,m),pu(),J=a.memoizedState,R||et!==J||yo?(typeof ct=="function"&&(Mm(a,c,ct,h),J=a.memoizedState),(F=yo||Yx(a,c,F,h,et,J,w))?(ot||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(a.flags|=4194308)):(typeof b.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=h,a.memoizedState=J),b.props=h,b.state=J,b.context=w,h=F):(typeof b.componentDidMount=="function"&&(a.flags|=4194308),h=!1)}else{b=a.stateNode,cm(s,a),w=a.memoizedProps,ot=qa(c,w),b.props=ot,ct=a.pendingProps,et=b.context,J=c.contextType,F=Ll,typeof J=="object"&&J!==null&&(F=Un(J)),R=c.getDerivedStateFromProps,(J=typeof R=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(w!==ct||et!==F)&&$x(a,b,h,F),yo=!1,et=a.memoizedState,b.state=et,mu(a,h,b,m),pu();var rt=a.memoizedState;w!==ct||et!==rt||yo||s!==null&&s.dependencies!==null&&kh(s.dependencies)?(typeof R=="function"&&(Mm(a,c,R,h),rt=a.memoizedState),(ot=yo||Yx(a,c,ot,h,et,rt,F)||s!==null&&s.dependencies!==null&&kh(s.dependencies))?(J||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(h,rt,F),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(h,rt,F)),typeof b.componentDidUpdate=="function"&&(a.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof b.componentDidUpdate!="function"||w===s.memoizedProps&&et===s.memoizedState||(a.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||w===s.memoizedProps&&et===s.memoizedState||(a.flags|=1024),a.memoizedProps=h,a.memoizedState=rt),b.props=h,b.state=rt,b.context=F,h=ot):(typeof b.componentDidUpdate!="function"||w===s.memoizedProps&&et===s.memoizedState||(a.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||w===s.memoizedProps&&et===s.memoizedState||(a.flags|=1024),h=!1)}return b=h,Jh(s,a),h=(a.flags&128)!==0,b||h?(b=a.stateNode,c=h&&typeof c.getDerivedStateFromError!="function"?null:b.render(),a.flags|=1,s!==null&&h?(a.child=Fa(a,s.child,null,m),a.child=Fa(a,null,c,m)):jn(s,a,c,m),a.memoizedState=b.state,s=a.child):s=ks(s,a,m),s}function lw(s,a,c,h){return za(),a.flags|=256,jn(s,a,c,h),a.child}var Lm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Vm(s){return{baseLanes:s,cachePool:Kv()}}function Um(s,a,c){return s=s!==null?s.childLanes&~c:0,a&&(s|=Ui),s}function cw(s,a,c){var h=a.pendingProps,m=!1,b=(a.flags&128)!==0,w;if((w=b)||(w=s!==null&&s.memoizedState===null?!1:(on.current&2)!==0),w&&(m=!0,a.flags&=-129),w=(a.flags&32)!==0,a.flags&=-33,s===null){if(oe){if(m?vo(a):xo(),(s=ke)?(s=yT(s,ur),s=s!==null&&s.data!=="&"?s:null,s!==null&&(a.memoizedState={dehydrated:s,treeContext:fo!==null?{id:Zr,overflow:Jr}:null,retryLane:536870912,hydrationErrors:null},c=Fv(s),c.return=a,a.child=c,Vn=a,ke=null)):s=null,s===null)throw po(a);return xy(s)?a.lanes=32:a.lanes=536870912,null}var R=h.children;return h=h.fallback,m?(xo(),m=a.mode,R=tf({mode:"hidden",children:R},m),h=Pa(h,m,c,null),R.return=a,h.return=a,R.sibling=h,a.child=R,h=a.child,h.memoizedState=Vm(c),h.childLanes=Um(s,w,c),a.memoizedState=Lm,xu(null,h)):(vo(a),jm(a,R))}var F=s.memoizedState;if(F!==null&&(R=F.dehydrated,R!==null)){if(b)a.flags&256?(vo(a),a.flags&=-257,a=Bm(s,a,c)):a.memoizedState!==null?(xo(),a.child=s.child,a.flags|=128,a=null):(xo(),R=h.fallback,m=a.mode,h=tf({mode:"visible",children:h.children},m),R=Pa(R,m,c,null),R.flags|=2,h.return=a,R.return=a,h.sibling=R,a.child=h,Fa(a,s.child,null,c),h=a.child,h.memoizedState=Vm(c),h.childLanes=Um(s,w,c),a.memoizedState=Lm,a=xu(null,h));else if(vo(a),xy(R)){if(w=R.nextSibling&&R.nextSibling.dataset,w)var J=w.dgst;w=J,h=Error(i(419)),h.stack="",h.digest=w,cu({value:h,source:null,stack:null}),a=Bm(s,a,c)}else if(yn||Bl(s,a,c,!1),w=(c&s.childLanes)!==0,yn||w){if(w=De,w!==null&&(h=va(w,c),h!==0&&h!==F.retryLane))throw F.retryLane=h,ka(s,h),wi(w,s,h),Pm;vy(R)||uf(),a=Bm(s,a,c)}else vy(R)?(a.flags|=192,a.child=s.child,a=null):(s=F.treeContext,ke=hr(R.nextSibling),Vn=a,oe=!0,go=null,ur=!1,s!==null&&Gv(a,s),a=jm(a,h.children),a.flags|=4096);return a}return m?(xo(),R=h.fallback,m=a.mode,F=s.child,J=F.sibling,h=Ds(F,{mode:"hidden",children:h.children}),h.subtreeFlags=F.subtreeFlags&65011712,J!==null?R=Ds(J,R):(R=Pa(R,m,c,null),R.flags|=2),R.return=a,h.return=a,h.sibling=R,a.child=h,xu(null,h),h=a.child,R=s.child.memoizedState,R===null?R=Vm(c):(m=R.cachePool,m!==null?(F=pn._currentValue,m=m.parent!==F?{parent:F,pool:F}:m):m=Kv(),R={baseLanes:R.baseLanes|c,cachePool:m}),h.memoizedState=R,h.childLanes=Um(s,w,c),a.memoizedState=Lm,xu(s.child,h)):(vo(a),c=s.child,s=c.sibling,c=Ds(c,{mode:"visible",children:h.children}),c.return=a,c.sibling=null,s!==null&&(w=a.deletions,w===null?(a.deletions=[s],a.flags|=16):w.push(s)),a.child=c,a.memoizedState=null,c)}function jm(s,a){return a=tf({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function tf(s,a){return s=Pi(22,s,null,a),s.lanes=0,s}function Bm(s,a,c){return Fa(a,s.child,null,c),s=jm(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function uw(s,a,c){s.lanes|=a;var h=s.alternate;h!==null&&(h.lanes|=a),nm(s.return,a,c)}function Fm(s,a,c,h,m,b){var w=s.memoizedState;w===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:m,treeForkCount:b}:(w.isBackwards=a,w.rendering=null,w.renderingStartTime=0,w.last=h,w.tail=c,w.tailMode=m,w.treeForkCount=b)}function dw(s,a,c){var h=a.pendingProps,m=h.revealOrder,b=h.tail;h=h.children;var w=on.current,R=(w&2)!==0;if(R?(w=w&1|2,a.flags|=128):w&=1,gt(on,w),jn(s,a,h,c),h=oe?lu:0,!R&&s!==null&&(s.flags&128)!==0)t:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&uw(s,c,a);else if(s.tag===19)uw(s,c,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break t;for(;s.sibling===null;){if(s.return===null||s.return===a)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(m){case"forwards":for(c=a.child,m=null;c!==null;)s=c.alternate,s!==null&&Fh(s)===null&&(m=c),c=c.sibling;c=m,c===null?(m=a.child,a.child=null):(m=c.sibling,c.sibling=null),Fm(a,!1,m,c,b,h);break;case"backwards":case"unstable_legacy-backwards":for(c=null,m=a.child,a.child=null;m!==null;){if(s=m.alternate,s!==null&&Fh(s)===null){a.child=m;break}s=m.sibling,m.sibling=c,c=m,m=s}Fm(a,!0,c,null,b,h);break;case"together":Fm(a,!1,null,null,void 0,h);break;default:a.memoizedState=null}return a.child}function ks(s,a,c){if(s!==null&&(a.dependencies=s.dependencies),Eo|=a.lanes,(c&a.childLanes)===0)if(s!==null){if(Bl(s,a,c,!1),(c&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(i(153));if(a.child!==null){for(s=a.child,c=Ds(s,s.pendingProps),a.child=c,c.return=a;s.sibling!==null;)s=s.sibling,c=c.sibling=Ds(s,s.pendingProps),c.return=a;c.sibling=null}return a.child}function Hm(s,a){return(s.lanes&a)!==0?!0:(s=s.dependencies,!!(s!==null&&kh(s)))}function rM(s,a,c){switch(a.tag){case 3:Vt(a,a.stateNode.containerInfo),mo(a,pn,s.memoizedState.cache),za();break;case 27:case 5:$t(a);break;case 4:Vt(a,a.stateNode.containerInfo);break;case 10:mo(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,gm(a),null;break;case 13:var h=a.memoizedState;if(h!==null)return h.dehydrated!==null?(vo(a),a.flags|=128,null):(c&a.child.childLanes)!==0?cw(s,a,c):(vo(a),s=ks(s,a,c),s!==null?s.sibling:null);vo(a);break;case 19:var m=(s.flags&128)!==0;if(h=(c&a.childLanes)!==0,h||(Bl(s,a,c,!1),h=(c&a.childLanes)!==0),m){if(h)return dw(s,a,c);a.flags|=128}if(m=a.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),gt(on,on.current),h)break;return null;case 22:return a.lanes=0,iw(s,a,c,a.pendingProps);case 24:mo(a,pn,s.memoizedState.cache)}return ks(s,a,c)}function hw(s,a,c){if(s!==null)if(s.memoizedProps!==a.pendingProps)yn=!0;else{if(!Hm(s,c)&&(a.flags&128)===0)return yn=!1,rM(s,a,c);yn=(s.flags&131072)!==0}else yn=!1,oe&&(a.flags&1048576)!==0&&qv(a,lu,a.index);switch(a.lanes=0,a.tag){case 16:t:{var h=a.pendingProps;if(s=ja(a.elementType),a.type=s,typeof s=="function")Wp(s)?(h=qa(s,h),a.tag=1,a=aw(null,a,s,h,c)):(a.tag=0,a=zm(null,a,s,h,c));else{if(s!=null){var m=s.$$typeof;if(m===Y){a.tag=11,a=tw(null,a,s,h,c);break t}else if(m===M){a.tag=14,a=ew(null,a,s,h,c);break t}}throw a=Ot(s)||s,Error(i(306,a,""))}}return a;case 0:return zm(s,a,a.type,a.pendingProps,c);case 1:return h=a.type,m=qa(h,a.pendingProps),aw(s,a,h,m,c);case 3:t:{if(Vt(a,a.stateNode.containerInfo),s===null)throw Error(i(387));h=a.pendingProps;var b=a.memoizedState;m=b.element,cm(s,a),mu(a,h,null,c);var w=a.memoizedState;if(h=w.cache,mo(a,pn,h),h!==b.cache&&im(a,[pn],c,!0),pu(),h=w.element,b.isDehydrated)if(b={element:h,isDehydrated:!1,cache:w.cache},a.updateQueue.baseState=b,a.memoizedState=b,a.flags&256){a=lw(s,a,h,c);break t}else if(h!==m){m=ar(Error(i(424)),a),cu(m),a=lw(s,a,h,c);break t}else{switch(s=a.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(ke=hr(s.firstChild),Vn=a,oe=!0,go=null,ur=!0,c=ix(a,null,h,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(za(),h===m){a=ks(s,a,c);break t}jn(s,a,h,c)}a=a.child}return a;case 26:return Jh(s,a),s===null?(c=TT(a.type,null,a.pendingProps,null))?a.memoizedState=c:oe||(c=a.type,s=a.pendingProps,h=yf(Dt.current).createElement(c),h[Fe]=a,h[rn]=s,Bn(h,c,s),de(h),a.stateNode=h):a.memoizedState=TT(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return $t(a),s===null&&oe&&(h=a.stateNode=vT(a.type,a.pendingProps,Dt.current),Vn=a,ur=!0,m=ke,Io(a.type)?(wy=m,ke=hr(h.firstChild)):ke=m),jn(s,a,a.pendingProps.children,c),Jh(s,a),s===null&&(a.flags|=4194304),a.child;case 5:return s===null&&oe&&((m=h=ke)&&(h=kM(h,a.type,a.pendingProps,ur),h!==null?(a.stateNode=h,Vn=a,ke=hr(h.firstChild),ur=!1,m=!0):m=!1),m||po(a)),$t(a),m=a.type,b=a.pendingProps,w=s!==null?s.memoizedProps:null,h=b.children,yy(m,b)?h=null:w!==null&&yy(m,w)&&(a.flags|=32),a.memoizedState!==null&&(m=mm(s,a,XN,null,null,c),zu._currentValue=m),Jh(s,a),jn(s,a,h,c),a.child;case 6:return s===null&&oe&&((s=c=ke)&&(c=PM(c,a.pendingProps,ur),c!==null?(a.stateNode=c,Vn=a,ke=null,s=!0):s=!1),s||po(a)),null;case 13:return cw(s,a,c);case 4:return Vt(a,a.stateNode.containerInfo),h=a.pendingProps,s===null?a.child=Fa(a,null,h,c):jn(s,a,h,c),a.child;case 11:return tw(s,a,a.type,a.pendingProps,c);case 7:return jn(s,a,a.pendingProps,c),a.child;case 8:return jn(s,a,a.pendingProps.children,c),a.child;case 12:return jn(s,a,a.pendingProps.children,c),a.child;case 10:return h=a.pendingProps,mo(a,a.type,h.value),jn(s,a,h.children,c),a.child;case 9:return m=a.type._context,h=a.pendingProps.children,Va(a),m=Un(m),h=h(m),a.flags|=1,jn(s,a,h,c),a.child;case 14:return ew(s,a,a.type,a.pendingProps,c);case 15:return nw(s,a,a.type,a.pendingProps,c);case 19:return dw(s,a,c);case 31:return iM(s,a,c);case 22:return iw(s,a,c,a.pendingProps);case 24:return Va(a),h=Un(pn),s===null?(m=om(),m===null&&(m=De,b=rm(),m.pooledCache=b,b.refCount++,b!==null&&(m.pooledCacheLanes|=c),m=b),a.memoizedState={parent:h,cache:m},lm(a),mo(a,pn,m)):((s.lanes&c)!==0&&(cm(s,a),mu(a,null,null,c),pu()),m=s.memoizedState,b=a.memoizedState,m.parent!==h?(m={parent:h,cache:h},a.memoizedState=m,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=m),mo(a,pn,h)):(h=b.cache,mo(a,pn,h),h!==m.cache&&im(a,[pn],c,!0))),jn(s,a,a.pendingProps.children,c),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function Ps(s){s.flags|=4}function qm(s,a,c,h,m){if((a=(s.mode&32)!==0)&&(a=!1),a){if(s.flags|=16777216,(m&335544128)===m)if(s.stateNode.complete)s.flags|=8192;else if(Uw())s.flags|=8192;else throw Ba=Vh,am}else s.flags&=-16777217}function fw(s,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!DT(a))if(Uw())s.flags|=8192;else throw Ba=Vh,am}function ef(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?ba():536870912,s.lanes|=a,Jl|=a)}function wu(s,a){if(!oe)switch(s.tailMode){case"hidden":a=s.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function Pe(s){var a=s.alternate!==null&&s.alternate.child===s.child,c=0,h=0;if(a)for(var m=s.child;m!==null;)c|=m.lanes|m.childLanes,h|=m.subtreeFlags&65011712,h|=m.flags&65011712,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)c|=m.lanes|m.childLanes,h|=m.subtreeFlags,h|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=h,s.childLanes=c,a}function sM(s,a,c){var h=a.pendingProps;switch(Zp(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pe(a),null;case 1:return Pe(a),null;case 3:return c=a.stateNode,h=null,s!==null&&(h=s.memoizedState.cache),a.memoizedState.cache!==h&&(a.flags|=2048),Ns(pn),At(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(s===null||s.child===null)&&(jl(a)?Ps(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,tm())),Pe(a),null;case 26:var m=a.type,b=a.memoizedState;return s===null?(Ps(a),b!==null?(Pe(a),fw(a,b)):(Pe(a),qm(a,m,null,h,c))):b?b!==s.memoizedState?(Ps(a),Pe(a),fw(a,b)):(Pe(a),a.flags&=-16777217):(s=s.memoizedProps,s!==h&&Ps(a),Pe(a),qm(a,m,s,h,c)),null;case 27:if($e(a),c=Dt.current,m=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==h&&Ps(a);else{if(!h){if(a.stateNode===null)throw Error(i(166));return Pe(a),null}s=pt.current,jl(a)?Yv(a):(s=vT(m,h,c),a.stateNode=s,Ps(a))}return Pe(a),null;case 5:if($e(a),m=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==h&&Ps(a);else{if(!h){if(a.stateNode===null)throw Error(i(166));return Pe(a),null}if(b=pt.current,jl(a))Yv(a);else{var w=yf(Dt.current);switch(b){case 1:b=w.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:b=w.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":b=w.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":b=w.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":b=w.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof h.is=="string"?w.createElement("select",{is:h.is}):w.createElement("select"),h.multiple?b.multiple=!0:h.size&&(b.size=h.size);break;default:b=typeof h.is=="string"?w.createElement(m,{is:h.is}):w.createElement(m)}}b[Fe]=a,b[rn]=h;t:for(w=a.child;w!==null;){if(w.tag===5||w.tag===6)b.appendChild(w.stateNode);else if(w.tag!==4&&w.tag!==27&&w.child!==null){w.child.return=w,w=w.child;continue}if(w===a)break t;for(;w.sibling===null;){if(w.return===null||w.return===a)break t;w=w.return}w.sibling.return=w.return,w=w.sibling}a.stateNode=b;t:switch(Bn(b,m,h),m){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break t;case"img":h=!0;break t;default:h=!1}h&&Ps(a)}}return Pe(a),qm(a,a.type,s===null?null:s.memoizedProps,a.pendingProps,c),null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==h&&Ps(a);else{if(typeof h!="string"&&a.stateNode===null)throw Error(i(166));if(s=Dt.current,jl(a)){if(s=a.stateNode,c=a.memoizedProps,h=null,m=Vn,m!==null)switch(m.tag){case 27:case 5:h=m.memoizedProps}s[Fe]=a,s=!!(s.nodeValue===c||h!==null&&h.suppressHydrationWarning===!0||cT(s.nodeValue,c)),s||po(a,!0)}else s=yf(s).createTextNode(h),s[Fe]=a,a.stateNode=s}return Pe(a),null;case 31:if(c=a.memoizedState,s===null||s.memoizedState!==null){if(h=jl(a),c!==null){if(s===null){if(!h)throw Error(i(318));if(s=a.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(557));s[Fe]=a}else za(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Pe(a),s=!1}else c=tm(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=c),s=!0;if(!s)return a.flags&256?(Li(a),a):(Li(a),null);if((a.flags&128)!==0)throw Error(i(558))}return Pe(a),null;case 13:if(h=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(m=jl(a),h!==null&&h.dehydrated!==null){if(s===null){if(!m)throw Error(i(318));if(m=a.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[Fe]=a}else za(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;Pe(a),m=!1}else m=tm(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=m),m=!0;if(!m)return a.flags&256?(Li(a),a):(Li(a),null)}return Li(a),(a.flags&128)!==0?(a.lanes=c,a):(c=h!==null,s=s!==null&&s.memoizedState!==null,c&&(h=a.child,m=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(m=h.alternate.memoizedState.cachePool.pool),b=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(b=h.memoizedState.cachePool.pool),b!==m&&(h.flags|=2048)),c!==s&&c&&(a.child.flags|=8192),ef(a,a.updateQueue),Pe(a),null);case 4:return At(),s===null&&hy(a.stateNode.containerInfo),Pe(a),null;case 10:return Ns(a.type),Pe(a),null;case 19:if(st(on),h=a.memoizedState,h===null)return Pe(a),null;if(m=(a.flags&128)!==0,b=h.rendering,b===null)if(m)wu(h,!1);else{if(Ze!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(b=Fh(s),b!==null){for(a.flags|=128,wu(h,!1),s=b.updateQueue,a.updateQueue=s,ef(a,s),a.subtreeFlags=0,s=c,c=a.child;c!==null;)Bv(c,s),c=c.sibling;return gt(on,on.current&1|2),oe&&Is(a,h.treeForkCount),a.child}s=s.sibling}h.tail!==null&&Pn()>af&&(a.flags|=128,m=!0,wu(h,!1),a.lanes=4194304)}else{if(!m)if(s=Fh(b),s!==null){if(a.flags|=128,m=!0,s=s.updateQueue,a.updateQueue=s,ef(a,s),wu(h,!0),h.tail===null&&h.tailMode==="hidden"&&!b.alternate&&!oe)return Pe(a),null}else 2*Pn()-h.renderingStartTime>af&&c!==536870912&&(a.flags|=128,m=!0,wu(h,!1),a.lanes=4194304);h.isBackwards?(b.sibling=a.child,a.child=b):(s=h.last,s!==null?s.sibling=b:a.child=b,h.last=b)}return h.tail!==null?(s=h.tail,h.rendering=s,h.tail=s.sibling,h.renderingStartTime=Pn(),s.sibling=null,c=on.current,gt(on,m?c&1|2:c&1),oe&&Is(a,h.treeForkCount),s):(Pe(a),null);case 22:case 23:return Li(a),fm(),h=a.memoizedState!==null,s!==null?s.memoizedState!==null!==h&&(a.flags|=8192):h&&(a.flags|=8192),h?(c&536870912)!==0&&(a.flags&128)===0&&(Pe(a),a.subtreeFlags&6&&(a.flags|=8192)):Pe(a),c=a.updateQueue,c!==null&&ef(a,c.retryQueue),c=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),h=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),h!==c&&(a.flags|=2048),s!==null&&st(Ua),null;case 24:return c=null,s!==null&&(c=s.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),Ns(pn),Pe(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function oM(s,a){switch(Zp(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return Ns(pn),At(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return $e(a),null;case 31:if(a.memoizedState!==null){if(Li(a),a.alternate===null)throw Error(i(340));za()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 13:if(Li(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(i(340));za()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return st(on),null;case 4:return At(),null;case 10:return Ns(a.type),null;case 22:case 23:return Li(a),fm(),s!==null&&st(Ua),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return Ns(pn),null;case 25:return null;default:return null}}function gw(s,a){switch(Zp(a),a.tag){case 3:Ns(pn),At();break;case 26:case 27:case 5:$e(a);break;case 4:At();break;case 31:a.memoizedState!==null&&Li(a);break;case 13:Li(a);break;case 19:st(on);break;case 10:Ns(a.type);break;case 22:case 23:Li(a),fm(),s!==null&&st(Ua);break;case 24:Ns(pn)}}function Tu(s,a){try{var c=a.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var m=h.next;c=m;do{if((c.tag&s)===s){h=void 0;var b=c.create,w=c.inst;h=b(),w.destroy=h}c=c.next}while(c!==m)}}catch(R){xe(a,a.return,R)}}function wo(s,a,c){try{var h=a.updateQueue,m=h!==null?h.lastEffect:null;if(m!==null){var b=m.next;h=b;do{if((h.tag&s)===s){var w=h.inst,R=w.destroy;if(R!==void 0){w.destroy=void 0,m=a;var F=c,J=R;try{J()}catch(ot){xe(m,F,ot)}}}h=h.next}while(h!==b)}}catch(ot){xe(a,a.return,ot)}}function pw(s){var a=s.updateQueue;if(a!==null){var c=s.stateNode;try{sx(a,c)}catch(h){xe(s,s.return,h)}}}function mw(s,a,c){c.props=qa(s.type,s.memoizedProps),c.state=s.memoizedState;try{c.componentWillUnmount()}catch(h){xe(s,a,h)}}function Eu(s,a){try{var c=s.ref;if(c!==null){switch(s.tag){case 26:case 27:case 5:var h=s.stateNode;break;case 30:h=s.stateNode;break;default:h=s.stateNode}typeof c=="function"?s.refCleanup=c(h):c.current=h}}catch(m){xe(s,a,m)}}function ts(s,a){var c=s.ref,h=s.refCleanup;if(c!==null)if(typeof h=="function")try{h()}catch(m){xe(s,a,m)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(m){xe(s,a,m)}else c.current=null}function yw(s){var a=s.type,c=s.memoizedProps,h=s.stateNode;try{t:switch(a){case"button":case"input":case"select":case"textarea":c.autoFocus&&h.focus();break t;case"img":c.src?h.src=c.src:c.srcSet&&(h.srcset=c.srcSet)}}catch(m){xe(s,s.return,m)}}function Gm(s,a,c){try{var h=s.stateNode;DM(h,s.type,c,a),h[rn]=a}catch(m){xe(s,s.return,m)}}function bw(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&Io(s.type)||s.tag===4}function Ym(s){t:for(;;){for(;s.sibling===null;){if(s.return===null||bw(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&Io(s.type)||s.flags&2||s.child===null||s.tag===4)continue t;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function $m(s,a,c){var h=s.tag;if(h===5||h===6)s=s.stateNode,a?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(s,a):(a=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,a.appendChild(s),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=Qe));else if(h!==4&&(h===27&&Io(s.type)&&(c=s.stateNode,a=null),s=s.child,s!==null))for($m(s,a,c),s=s.sibling;s!==null;)$m(s,a,c),s=s.sibling}function nf(s,a,c){var h=s.tag;if(h===5||h===6)s=s.stateNode,a?c.insertBefore(s,a):c.appendChild(s);else if(h!==4&&(h===27&&Io(s.type)&&(c=s.stateNode),s=s.child,s!==null))for(nf(s,a,c),s=s.sibling;s!==null;)nf(s,a,c),s=s.sibling}function _w(s){var a=s.stateNode,c=s.memoizedProps;try{for(var h=s.type,m=a.attributes;m.length;)a.removeAttributeNode(m[0]);Bn(a,h,c),a[Fe]=s,a[rn]=c}catch(b){xe(s,s.return,b)}}var zs=!1,bn=!1,Wm=!1,vw=typeof WeakSet=="function"?WeakSet:Set,In=null;function aM(s,a){if(s=s.containerInfo,py=Ef,s=Mv(s),Bp(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else t:{c=(c=s.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var m=h.anchorOffset,b=h.focusNode;h=h.focusOffset;try{c.nodeType,b.nodeType}catch{c=null;break t}var w=0,R=-1,F=-1,J=0,ot=0,ct=s,et=null;e:for(;;){for(var rt;ct!==c||m!==0&&ct.nodeType!==3||(R=w+m),ct!==b||h!==0&&ct.nodeType!==3||(F=w+h),ct.nodeType===3&&(w+=ct.nodeValue.length),(rt=ct.firstChild)!==null;)et=ct,ct=rt;for(;;){if(ct===s)break e;if(et===c&&++J===m&&(R=w),et===b&&++ot===h&&(F=w),(rt=ct.nextSibling)!==null)break;ct=et,et=ct.parentNode}ct=rt}c=R===-1||F===-1?null:{start:R,end:F}}else c=null}c=c||{start:0,end:0}}else c=null;for(my={focusedElem:s,selectionRange:c},Ef=!1,In=a;In!==null;)if(a=In,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,In=s;else for(;In!==null;){switch(a=In,b=a.alternate,s=a.flags,a.tag){case 0:if((s&4)!==0&&(s=a.updateQueue,s=s!==null?s.events:null,s!==null))for(c=0;c<s.length;c++)m=s[c],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&b!==null){s=void 0,c=a,m=b.memoizedProps,b=b.memoizedState,h=c.stateNode;try{var Et=qa(c.type,m);s=h.getSnapshotBeforeUpdate(Et,b),h.__reactInternalSnapshotBeforeUpdate=s}catch(kt){xe(c,c.return,kt)}}break;case 3:if((s&1024)!==0){if(s=a.stateNode.containerInfo,c=s.nodeType,c===9)_y(s);else if(c===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":_y(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=a.sibling,s!==null){s.return=a.return,In=s;break}In=a.return}}function xw(s,a,c){var h=c.flags;switch(c.tag){case 0:case 11:case 15:Vs(s,c),h&4&&Tu(5,c);break;case 1:if(Vs(s,c),h&4)if(s=c.stateNode,a===null)try{s.componentDidMount()}catch(w){xe(c,c.return,w)}else{var m=qa(c.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(m,a,s.__reactInternalSnapshotBeforeUpdate)}catch(w){xe(c,c.return,w)}}h&64&&pw(c),h&512&&Eu(c,c.return);break;case 3:if(Vs(s,c),h&64&&(s=c.updateQueue,s!==null)){if(a=null,c.child!==null)switch(c.child.tag){case 27:case 5:a=c.child.stateNode;break;case 1:a=c.child.stateNode}try{sx(s,a)}catch(w){xe(c,c.return,w)}}break;case 27:a===null&&h&4&&_w(c);case 26:case 5:Vs(s,c),a===null&&h&4&&yw(c),h&512&&Eu(c,c.return);break;case 12:Vs(s,c);break;case 31:Vs(s,c),h&4&&Ew(s,c);break;case 13:Vs(s,c),h&4&&Sw(s,c),h&64&&(s=c.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(c=mM.bind(null,c),zM(s,c))));break;case 22:if(h=c.memoizedState!==null||zs,!h){a=a!==null&&a.memoizedState!==null||bn,m=zs;var b=bn;zs=h,(bn=a)&&!b?Us(s,c,(c.subtreeFlags&8772)!==0):Vs(s,c),zs=m,bn=b}break;case 30:break;default:Vs(s,c)}}function ww(s){var a=s.alternate;a!==null&&(s.alternate=null,ww(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&Sr(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Ve=null,bi=!1;function Ls(s,a,c){for(c=c.child;c!==null;)Tw(s,a,c),c=c.sibling}function Tw(s,a,c){if(Tn&&typeof Tn.onCommitFiberUnmount=="function")try{Tn.onCommitFiberUnmount(Ii,c)}catch{}switch(c.tag){case 26:bn||ts(c,a),Ls(s,a,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:bn||ts(c,a);var h=Ve,m=bi;Io(c.type)&&(Ve=c.stateNode,bi=!1),Ls(s,a,c),Ou(c.stateNode),Ve=h,bi=m;break;case 5:bn||ts(c,a);case 6:if(h=Ve,m=bi,Ve=null,Ls(s,a,c),Ve=h,bi=m,Ve!==null)if(bi)try{(Ve.nodeType===9?Ve.body:Ve.nodeName==="HTML"?Ve.ownerDocument.body:Ve).removeChild(c.stateNode)}catch(b){xe(c,a,b)}else try{Ve.removeChild(c.stateNode)}catch(b){xe(c,a,b)}break;case 18:Ve!==null&&(bi?(s=Ve,pT(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,c.stateNode),ac(s)):pT(Ve,c.stateNode));break;case 4:h=Ve,m=bi,Ve=c.stateNode.containerInfo,bi=!0,Ls(s,a,c),Ve=h,bi=m;break;case 0:case 11:case 14:case 15:wo(2,c,a),bn||wo(4,c,a),Ls(s,a,c);break;case 1:bn||(ts(c,a),h=c.stateNode,typeof h.componentWillUnmount=="function"&&mw(c,a,h)),Ls(s,a,c);break;case 21:Ls(s,a,c);break;case 22:bn=(h=bn)||c.memoizedState!==null,Ls(s,a,c),bn=h;break;default:Ls(s,a,c)}}function Ew(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{ac(s)}catch(c){xe(a,a.return,c)}}}function Sw(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{ac(s)}catch(c){xe(a,a.return,c)}}function lM(s){switch(s.tag){case 31:case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new vw),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new vw),a;default:throw Error(i(435,s.tag))}}function rf(s,a){var c=lM(s);a.forEach(function(h){if(!c.has(h)){c.add(h);var m=yM.bind(null,s,h);h.then(m,m)}})}function _i(s,a){var c=a.deletions;if(c!==null)for(var h=0;h<c.length;h++){var m=c[h],b=s,w=a,R=w;t:for(;R!==null;){switch(R.tag){case 27:if(Io(R.type)){Ve=R.stateNode,bi=!1;break t}break;case 5:Ve=R.stateNode,bi=!1;break t;case 3:case 4:Ve=R.stateNode.containerInfo,bi=!0;break t}R=R.return}if(Ve===null)throw Error(i(160));Tw(b,w,m),Ve=null,bi=!1,b=m.alternate,b!==null&&(b.return=null),m.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)Aw(a,s),a=a.sibling}var Mr=null;function Aw(s,a){var c=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:_i(a,s),vi(s),h&4&&(wo(3,s,s.return),Tu(3,s),wo(5,s,s.return));break;case 1:_i(a,s),vi(s),h&512&&(bn||c===null||ts(c,c.return)),h&64&&zs&&(s=s.updateQueue,s!==null&&(h=s.callbacks,h!==null&&(c=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=c===null?h:c.concat(h))));break;case 26:var m=Mr;if(_i(a,s),vi(s),h&512&&(bn||c===null||ts(c,c.return)),h&4){var b=c!==null?c.memoizedState:null;if(h=s.memoizedState,c===null)if(h===null)if(s.stateNode===null){t:{h=s.type,c=s.memoizedProps,m=m.ownerDocument||m;e:switch(h){case"title":b=m.getElementsByTagName("title")[0],(!b||b[Yn]||b[Fe]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=m.createElement(h),m.head.insertBefore(b,m.querySelector("head > title"))),Bn(b,h,c),b[Fe]=s,de(b),h=b;break t;case"link":var w=AT("link","href",m).get(h+(c.href||""));if(w){for(var R=0;R<w.length;R++)if(b=w[R],b.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&b.getAttribute("rel")===(c.rel==null?null:c.rel)&&b.getAttribute("title")===(c.title==null?null:c.title)&&b.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){w.splice(R,1);break e}}b=m.createElement(h),Bn(b,h,c),m.head.appendChild(b);break;case"meta":if(w=AT("meta","content",m).get(h+(c.content||""))){for(R=0;R<w.length;R++)if(b=w[R],b.getAttribute("content")===(c.content==null?null:""+c.content)&&b.getAttribute("name")===(c.name==null?null:c.name)&&b.getAttribute("property")===(c.property==null?null:c.property)&&b.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&b.getAttribute("charset")===(c.charSet==null?null:c.charSet)){w.splice(R,1);break e}}b=m.createElement(h),Bn(b,h,c),m.head.appendChild(b);break;default:throw Error(i(468,h))}b[Fe]=s,de(b),h=b}s.stateNode=h}else CT(m,s.type,s.stateNode);else s.stateNode=ST(m,h,s.memoizedProps);else b!==h?(b===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):b.count--,h===null?CT(m,s.type,s.stateNode):ST(m,h,s.memoizedProps)):h===null&&s.stateNode!==null&&Gm(s,s.memoizedProps,c.memoizedProps)}break;case 27:_i(a,s),vi(s),h&512&&(bn||c===null||ts(c,c.return)),c!==null&&h&4&&Gm(s,s.memoizedProps,c.memoizedProps);break;case 5:if(_i(a,s),vi(s),h&512&&(bn||c===null||ts(c,c.return)),s.flags&32){m=s.stateNode;try{j(m,"")}catch(Et){xe(s,s.return,Et)}}h&4&&s.stateNode!=null&&(m=s.memoizedProps,Gm(s,m,c!==null?c.memoizedProps:m)),h&1024&&(Wm=!0);break;case 6:if(_i(a,s),vi(s),h&4){if(s.stateNode===null)throw Error(i(162));h=s.memoizedProps,c=s.stateNode;try{c.nodeValue=h}catch(Et){xe(s,s.return,Et)}}break;case 3:if(vf=null,m=Mr,Mr=bf(a.containerInfo),_i(a,s),Mr=m,vi(s),h&4&&c!==null&&c.memoizedState.isDehydrated)try{ac(a.containerInfo)}catch(Et){xe(s,s.return,Et)}Wm&&(Wm=!1,Cw(s));break;case 4:h=Mr,Mr=bf(s.stateNode.containerInfo),_i(a,s),vi(s),Mr=h;break;case 12:_i(a,s),vi(s);break;case 31:_i(a,s),vi(s),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,rf(s,h)));break;case 13:_i(a,s),vi(s),s.child.flags&8192&&s.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(of=Pn()),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,rf(s,h)));break;case 22:m=s.memoizedState!==null;var F=c!==null&&c.memoizedState!==null,J=zs,ot=bn;if(zs=J||m,bn=ot||F,_i(a,s),bn=ot,zs=J,vi(s),h&8192)t:for(a=s.stateNode,a._visibility=m?a._visibility&-2:a._visibility|1,m&&(c===null||F||zs||bn||Ga(s)),c=null,a=s;;){if(a.tag===5||a.tag===26){if(c===null){F=c=a;try{if(b=F.stateNode,m)w=b.style,typeof w.setProperty=="function"?w.setProperty("display","none","important"):w.display="none";else{R=F.stateNode;var ct=F.memoizedProps.style,et=ct!=null&&ct.hasOwnProperty("display")?ct.display:null;R.style.display=et==null||typeof et=="boolean"?"":(""+et).trim()}}catch(Et){xe(F,F.return,Et)}}}else if(a.tag===6){if(c===null){F=a;try{F.stateNode.nodeValue=m?"":F.memoizedProps}catch(Et){xe(F,F.return,Et)}}}else if(a.tag===18){if(c===null){F=a;try{var rt=F.stateNode;m?mT(rt,!0):mT(F.stateNode,!1)}catch(Et){xe(F,F.return,Et)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break t;for(;a.sibling===null;){if(a.return===null||a.return===s)break t;c===a&&(c=null),a=a.return}c===a&&(c=null),a.sibling.return=a.return,a=a.sibling}h&4&&(h=s.updateQueue,h!==null&&(c=h.retryQueue,c!==null&&(h.retryQueue=null,rf(s,c))));break;case 19:_i(a,s),vi(s),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,rf(s,h)));break;case 30:break;case 21:break;default:_i(a,s),vi(s)}}function vi(s){var a=s.flags;if(a&2){try{for(var c,h=s.return;h!==null;){if(bw(h)){c=h;break}h=h.return}if(c==null)throw Error(i(160));switch(c.tag){case 27:var m=c.stateNode,b=Ym(s);nf(s,b,m);break;case 5:var w=c.stateNode;c.flags&32&&(j(w,""),c.flags&=-33);var R=Ym(s);nf(s,R,w);break;case 3:case 4:var F=c.stateNode.containerInfo,J=Ym(s);$m(s,J,F);break;default:throw Error(i(161))}}catch(ot){xe(s,s.return,ot)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function Cw(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;Cw(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function Vs(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)xw(s,a.alternate,a),a=a.sibling}function Ga(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:wo(4,a,a.return),Ga(a);break;case 1:ts(a,a.return);var c=a.stateNode;typeof c.componentWillUnmount=="function"&&mw(a,a.return,c),Ga(a);break;case 27:Ou(a.stateNode);case 26:case 5:ts(a,a.return),Ga(a);break;case 22:a.memoizedState===null&&Ga(a);break;case 30:Ga(a);break;default:Ga(a)}s=s.sibling}}function Us(s,a,c){for(c=c&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var h=a.alternate,m=s,b=a,w=b.flags;switch(b.tag){case 0:case 11:case 15:Us(m,b,c),Tu(4,b);break;case 1:if(Us(m,b,c),h=b,m=h.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(J){xe(h,h.return,J)}if(h=b,m=h.updateQueue,m!==null){var R=h.stateNode;try{var F=m.shared.hiddenCallbacks;if(F!==null)for(m.shared.hiddenCallbacks=null,m=0;m<F.length;m++)rx(F[m],R)}catch(J){xe(h,h.return,J)}}c&&w&64&&pw(b),Eu(b,b.return);break;case 27:_w(b);case 26:case 5:Us(m,b,c),c&&h===null&&w&4&&yw(b),Eu(b,b.return);break;case 12:Us(m,b,c);break;case 31:Us(m,b,c),c&&w&4&&Ew(m,b);break;case 13:Us(m,b,c),c&&w&4&&Sw(m,b);break;case 22:b.memoizedState===null&&Us(m,b,c),Eu(b,b.return);break;case 30:break;default:Us(m,b,c)}a=a.sibling}}function Xm(s,a){var c=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==c&&(s!=null&&s.refCount++,c!=null&&uu(c))}function Qm(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&uu(s))}function Or(s,a,c,h){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Dw(s,a,c,h),a=a.sibling}function Dw(s,a,c,h){var m=a.flags;switch(a.tag){case 0:case 11:case 15:Or(s,a,c,h),m&2048&&Tu(9,a);break;case 1:Or(s,a,c,h);break;case 3:Or(s,a,c,h),m&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&uu(s)));break;case 12:if(m&2048){Or(s,a,c,h),s=a.stateNode;try{var b=a.memoizedProps,w=b.id,R=b.onPostCommit;typeof R=="function"&&R(w,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(F){xe(a,a.return,F)}}else Or(s,a,c,h);break;case 31:Or(s,a,c,h);break;case 13:Or(s,a,c,h);break;case 23:break;case 22:b=a.stateNode,w=a.alternate,a.memoizedState!==null?b._visibility&2?Or(s,a,c,h):Su(s,a):b._visibility&2?Or(s,a,c,h):(b._visibility|=2,Ql(s,a,c,h,(a.subtreeFlags&10256)!==0||!1)),m&2048&&Xm(w,a);break;case 24:Or(s,a,c,h),m&2048&&Qm(a.alternate,a);break;default:Or(s,a,c,h)}}function Ql(s,a,c,h,m){for(m=m&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var b=s,w=a,R=c,F=h,J=w.flags;switch(w.tag){case 0:case 11:case 15:Ql(b,w,R,F,m),Tu(8,w);break;case 23:break;case 22:var ot=w.stateNode;w.memoizedState!==null?ot._visibility&2?Ql(b,w,R,F,m):Su(b,w):(ot._visibility|=2,Ql(b,w,R,F,m)),m&&J&2048&&Xm(w.alternate,w);break;case 24:Ql(b,w,R,F,m),m&&J&2048&&Qm(w.alternate,w);break;default:Ql(b,w,R,F,m)}a=a.sibling}}function Su(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var c=s,h=a,m=h.flags;switch(h.tag){case 22:Su(c,h),m&2048&&Xm(h.alternate,h);break;case 24:Su(c,h),m&2048&&Qm(h.alternate,h);break;default:Su(c,h)}a=a.sibling}}var Au=8192;function Kl(s,a,c){if(s.subtreeFlags&Au)for(s=s.child;s!==null;)Iw(s,a,c),s=s.sibling}function Iw(s,a,c){switch(s.tag){case 26:Kl(s,a,c),s.flags&Au&&s.memoizedState!==null&&WM(c,Mr,s.memoizedState,s.memoizedProps);break;case 5:Kl(s,a,c);break;case 3:case 4:var h=Mr;Mr=bf(s.stateNode.containerInfo),Kl(s,a,c),Mr=h;break;case 22:s.memoizedState===null&&(h=s.alternate,h!==null&&h.memoizedState!==null?(h=Au,Au=16777216,Kl(s,a,c),Au=h):Kl(s,a,c));break;default:Kl(s,a,c)}}function Rw(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function Cu(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var c=0;c<a.length;c++){var h=a[c];In=h,Mw(h,s)}Rw(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Nw(s),s=s.sibling}function Nw(s){switch(s.tag){case 0:case 11:case 15:Cu(s),s.flags&2048&&wo(9,s,s.return);break;case 3:Cu(s);break;case 12:Cu(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&2&&(s.return===null||s.return.tag!==13)?(a._visibility&=-3,sf(s)):Cu(s);break;default:Cu(s)}}function sf(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var c=0;c<a.length;c++){var h=a[c];In=h,Mw(h,s)}Rw(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:wo(8,a,a.return),sf(a);break;case 22:c=a.stateNode,c._visibility&2&&(c._visibility&=-3,sf(a));break;default:sf(a)}s=s.sibling}}function Mw(s,a){for(;In!==null;){var c=In;switch(c.tag){case 0:case 11:case 15:wo(8,c,a);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var h=c.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:uu(c.memoizedState.cache)}if(h=c.child,h!==null)h.return=c,In=h;else t:for(c=s;In!==null;){h=In;var m=h.sibling,b=h.return;if(ww(h),h===c){In=null;break t}if(m!==null){m.return=b,In=m;break t}In=b}}}var cM={getCacheForType:function(s){var a=Un(pn),c=a.data.get(s);return c===void 0&&(c=s(),a.data.set(s,c)),c},cacheSignal:function(){return Un(pn).controller.signal}},uM=typeof WeakMap=="function"?WeakMap:Map,me=0,De=null,Zt=null,ee=0,ve=0,Vi=null,To=!1,Zl=!1,Km=!1,js=0,Ze=0,Eo=0,Ya=0,Zm=0,Ui=0,Jl=0,Du=null,xi=null,Jm=!1,of=0,Ow=0,af=1/0,lf=null,So=null,Sn=0,Ao=null,tc=null,Bs=0,ty=0,ey=null,kw=null,Iu=0,ny=null;function ji(){return(me&2)!==0&&ee!==0?ee&-ee:tt.T!==null?ly():Cl()}function Pw(){if(Ui===0)if((ee&536870912)===0||oe){var s=Br;Br<<=1,(Br&3932160)===0&&(Br=262144),Ui=s}else Ui=536870912;return s=zi.current,s!==null&&(s.flags|=32),Ui}function wi(s,a,c){(s===De&&(ve===2||ve===9)||s.cancelPendingCommit!==null)&&(ec(s,0),Co(s,ee,Ui,!1)),xs(s,c),((me&2)===0||s!==De)&&(s===De&&((me&2)===0&&(Ya|=c),Ze===4&&Co(s,ee,Ui,!1)),es(s))}function zw(s,a,c){if((me&6)!==0)throw Error(i(327));var h=!c&&(a&127)===0&&(a&s.expiredLanes)===0||Ri(s,a),m=h?fM(s,a):ry(s,a,!0),b=h;do{if(m===0){Zl&&!h&&Co(s,a,0,!1);break}else{if(c=s.current.alternate,b&&!dM(c)){m=ry(s,a,!1),b=!1;continue}if(m===2){if(b=a,s.errorRecoveryDisabledLanes&b)var w=0;else w=s.pendingLanes&-536870913,w=w!==0?w:w&536870912?536870912:0;if(w!==0){a=w;t:{var R=s;m=Du;var F=R.current.memoizedState.isDehydrated;if(F&&(ec(R,w).flags|=256),w=ry(R,w,!1),w!==2){if(Km&&!F){R.errorRecoveryDisabledLanes|=b,Ya|=b,m=4;break t}b=xi,xi=m,b!==null&&(xi===null?xi=b:xi.push.apply(xi,b))}m=w}if(b=!1,m!==2)continue}}if(m===1){ec(s,0),Co(s,a,0,!0);break}t:{switch(h=s,b=m,b){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:Co(h,a,Ui,!To);break t;case 2:xi=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(m=of+300-Pn(),10<m)){if(Co(h,a,Ui,!To),Qi(h,0,!0)!==0)break t;Bs=a,h.timeoutHandle=fT(Lw.bind(null,h,c,xi,lf,Jm,a,Ui,Ya,Jl,To,b,"Throttled",-0,0),m);break t}Lw(h,c,xi,lf,Jm,a,Ui,Ya,Jl,To,b,null,-0,0)}}break}while(!0);es(s)}function Lw(s,a,c,h,m,b,w,R,F,J,ot,ct,et,rt){if(s.timeoutHandle=-1,ct=a.subtreeFlags,ct&8192||(ct&16785408)===16785408){ct={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Qe},Iw(a,b,ct);var Et=(b&62914560)===b?of-Pn():(b&4194048)===b?Ow-Pn():0;if(Et=XM(ct,Et),Et!==null){Bs=b,s.cancelPendingCommit=Et(Gw.bind(null,s,a,b,c,h,m,w,R,F,ot,ct,null,et,rt)),Co(s,b,w,!J);return}}Gw(s,a,b,c,h,m,w,R,F)}function dM(s){for(var a=s;;){var c=a.tag;if((c===0||c===11||c===15)&&a.flags&16384&&(c=a.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var h=0;h<c.length;h++){var m=c[h],b=m.getSnapshot;m=m.value;try{if(!ki(b(),m))return!1}catch{return!1}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Co(s,a,c,h){a&=~Zm,a&=~Ya,s.suspendedLanes|=a,s.pingedLanes&=~a,h&&(s.warmLanes|=a),h=s.expirationTimes;for(var m=a;0<m;){var b=31-je(m),w=1<<b;h[b]=-1,m&=~w}c!==0&&Zi(s,c,a)}function cf(){return(me&6)===0?(Ru(0),!1):!0}function iy(){if(Zt!==null){if(ve===0)var s=Zt.return;else s=Zt,Rs=La=null,_m(s),Gl=null,hu=0,s=Zt;for(;s!==null;)gw(s.alternate,s),s=s.return;Zt=null}}function ec(s,a){var c=s.timeoutHandle;c!==-1&&(s.timeoutHandle=-1,NM(c)),c=s.cancelPendingCommit,c!==null&&(s.cancelPendingCommit=null,c()),Bs=0,iy(),De=s,Zt=c=Ds(s.current,null),ee=a,ve=0,Vi=null,To=!1,Zl=Ri(s,a),Km=!1,Jl=Ui=Zm=Ya=Eo=Ze=0,xi=Du=null,Jm=!1,(a&8)!==0&&(a|=a&32);var h=s.entangledLanes;if(h!==0)for(s=s.entanglements,h&=a;0<h;){var m=31-je(h),b=1<<m;a|=s[m],h&=~b}return js=a,Ih(),c}function Vw(s,a){Yt=null,tt.H=vu,a===ql||a===Lh?(a=tx(),ve=3):a===am?(a=tx(),ve=4):ve=a===Pm?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Vi=a,Zt===null&&(Ze=1,Kh(s,ar(a,s.current)))}function Uw(){var s=zi.current;return s===null?!0:(ee&4194048)===ee?dr===null:(ee&62914560)===ee||(ee&536870912)!==0?s===dr:!1}function jw(){var s=tt.H;return tt.H=vu,s===null?vu:s}function Bw(){var s=tt.A;return tt.A=cM,s}function uf(){Ze=4,To||(ee&4194048)!==ee&&zi.current!==null||(Zl=!0),(Eo&134217727)===0&&(Ya&134217727)===0||De===null||Co(De,ee,Ui,!1)}function ry(s,a,c){var h=me;me|=2;var m=jw(),b=Bw();(De!==s||ee!==a)&&(lf=null,ec(s,a)),a=!1;var w=Ze;t:do try{if(ve!==0&&Zt!==null){var R=Zt,F=Vi;switch(ve){case 8:iy(),w=6;break t;case 3:case 2:case 9:case 6:zi.current===null&&(a=!0);var J=ve;if(ve=0,Vi=null,nc(s,R,F,J),c&&Zl){w=0;break t}break;default:J=ve,ve=0,Vi=null,nc(s,R,F,J)}}hM(),w=Ze;break}catch(ot){Vw(s,ot)}while(!0);return a&&s.shellSuspendCounter++,Rs=La=null,me=h,tt.H=m,tt.A=b,Zt===null&&(De=null,ee=0,Ih()),w}function hM(){for(;Zt!==null;)Fw(Zt)}function fM(s,a){var c=me;me|=2;var h=jw(),m=Bw();De!==s||ee!==a?(lf=null,af=Pn()+500,ec(s,a)):Zl=Ri(s,a);t:do try{if(ve!==0&&Zt!==null){a=Zt;var b=Vi;e:switch(ve){case 1:ve=0,Vi=null,nc(s,a,b,1);break;case 2:case 9:if(Zv(b)){ve=0,Vi=null,Hw(a);break}a=function(){ve!==2&&ve!==9||De!==s||(ve=7),es(s)},b.then(a,a);break t;case 3:ve=7;break t;case 4:ve=5;break t;case 7:Zv(b)?(ve=0,Vi=null,Hw(a)):(ve=0,Vi=null,nc(s,a,b,7));break;case 5:var w=null;switch(Zt.tag){case 26:w=Zt.memoizedState;case 5:case 27:var R=Zt;if(w?DT(w):R.stateNode.complete){ve=0,Vi=null;var F=R.sibling;if(F!==null)Zt=F;else{var J=R.return;J!==null?(Zt=J,df(J)):Zt=null}break e}}ve=0,Vi=null,nc(s,a,b,5);break;case 6:ve=0,Vi=null,nc(s,a,b,6);break;case 8:iy(),Ze=6;break t;default:throw Error(i(462))}}gM();break}catch(ot){Vw(s,ot)}while(!0);return Rs=La=null,tt.H=h,tt.A=m,me=c,Zt!==null?0:(De=null,ee=0,Ih(),Ze)}function gM(){for(;Zt!==null&&!pa();)Fw(Zt)}function Fw(s){var a=hw(s.alternate,s,js);s.memoizedProps=s.pendingProps,a===null?df(s):Zt=a}function Hw(s){var a=s,c=a.alternate;switch(a.tag){case 15:case 0:a=ow(c,a,a.pendingProps,a.type,void 0,ee);break;case 11:a=ow(c,a,a.pendingProps,a.type.render,a.ref,ee);break;case 5:_m(a);default:gw(c,a),a=Zt=Bv(a,js),a=hw(c,a,js)}s.memoizedProps=s.pendingProps,a===null?df(s):Zt=a}function nc(s,a,c,h){Rs=La=null,_m(a),Gl=null,hu=0;var m=a.return;try{if(nM(s,m,a,c,ee)){Ze=1,Kh(s,ar(c,s.current)),Zt=null;return}}catch(b){if(m!==null)throw Zt=m,b;Ze=1,Kh(s,ar(c,s.current)),Zt=null;return}a.flags&32768?(oe||h===1?s=!0:Zl||(ee&536870912)!==0?s=!1:(To=s=!0,(h===2||h===9||h===3||h===6)&&(h=zi.current,h!==null&&h.tag===13&&(h.flags|=16384))),qw(a,s)):df(a)}function df(s){var a=s;do{if((a.flags&32768)!==0){qw(a,To);return}s=a.return;var c=sM(a.alternate,a,js);if(c!==null){Zt=c;return}if(a=a.sibling,a!==null){Zt=a;return}Zt=a=s}while(a!==null);Ze===0&&(Ze=5)}function qw(s,a){do{var c=oM(s.alternate,s);if(c!==null){c.flags&=32767,Zt=c;return}if(c=s.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!a&&(s=s.sibling,s!==null)){Zt=s;return}Zt=s=c}while(s!==null);Ze=6,Zt=null}function Gw(s,a,c,h,m,b,w,R,F){s.cancelPendingCommit=null;do hf();while(Sn!==0);if((me&6)!==0)throw Error(i(327));if(a!==null){if(a===s.current)throw Error(i(177));if(b=a.lanes|a.childLanes,b|=Yp,Kc(s,c,b,w,R,F),s===De&&(Zt=De=null,ee=0),tc=a,Ao=s,Bs=c,ty=b,ey=m,kw=h,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,bM(Tr,function(){return Qw(),null})):(s.callbackNode=null,s.callbackPriority=0),h=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||h){h=tt.T,tt.T=null,m=ft.p,ft.p=2,w=me,me|=4;try{aM(s,a,c)}finally{me=w,ft.p=m,tt.T=h}}Sn=1,Yw(),$w(),Ww()}}function Yw(){if(Sn===1){Sn=0;var s=Ao,a=tc,c=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||c){c=tt.T,tt.T=null;var h=ft.p;ft.p=2;var m=me;me|=4;try{Aw(a,s);var b=my,w=Mv(s.containerInfo),R=b.focusedElem,F=b.selectionRange;if(w!==R&&R&&R.ownerDocument&&Nv(R.ownerDocument.documentElement,R)){if(F!==null&&Bp(R)){var J=F.start,ot=F.end;if(ot===void 0&&(ot=J),"selectionStart"in R)R.selectionStart=J,R.selectionEnd=Math.min(ot,R.value.length);else{var ct=R.ownerDocument||document,et=ct&&ct.defaultView||window;if(et.getSelection){var rt=et.getSelection(),Et=R.textContent.length,kt=Math.min(F.start,Et),Ce=F.end===void 0?kt:Math.min(F.end,Et);!rt.extend&&kt>Ce&&(w=Ce,Ce=kt,kt=w);var X=Rv(R,kt),G=Rv(R,Ce);if(X&&G&&(rt.rangeCount!==1||rt.anchorNode!==X.node||rt.anchorOffset!==X.offset||rt.focusNode!==G.node||rt.focusOffset!==G.offset)){var Z=ct.createRange();Z.setStart(X.node,X.offset),rt.removeAllRanges(),kt>Ce?(rt.addRange(Z),rt.extend(G.node,G.offset)):(Z.setEnd(G.node,G.offset),rt.addRange(Z))}}}}for(ct=[],rt=R;rt=rt.parentNode;)rt.nodeType===1&&ct.push({element:rt,left:rt.scrollLeft,top:rt.scrollTop});for(typeof R.focus=="function"&&R.focus(),R=0;R<ct.length;R++){var at=ct[R];at.element.scrollLeft=at.left,at.element.scrollTop=at.top}}Ef=!!py,my=py=null}finally{me=m,ft.p=h,tt.T=c}}s.current=a,Sn=2}}function $w(){if(Sn===2){Sn=0;var s=Ao,a=tc,c=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||c){c=tt.T,tt.T=null;var h=ft.p;ft.p=2;var m=me;me|=4;try{xw(s,a.alternate,a)}finally{me=m,ft.p=h,tt.T=c}}Sn=3}}function Ww(){if(Sn===4||Sn===3){Sn=0,Tl();var s=Ao,a=tc,c=Bs,h=kw;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Sn=5:(Sn=0,tc=Ao=null,Xw(s,s.pendingLanes));var m=s.pendingLanes;if(m===0&&(So=null),Ni(c),a=a.stateNode,Tn&&typeof Tn.onCommitFiberRoot=="function")try{Tn.onCommitFiberRoot(Ii,a,void 0,(a.current.flags&128)===128)}catch{}if(h!==null){a=tt.T,m=ft.p,ft.p=2,tt.T=null;try{for(var b=s.onRecoverableError,w=0;w<h.length;w++){var R=h[w];b(R.value,{componentStack:R.stack})}}finally{tt.T=a,ft.p=m}}(Bs&3)!==0&&hf(),es(s),m=s.pendingLanes,(c&261930)!==0&&(m&42)!==0?s===ny?Iu++:(Iu=0,ny=s):Iu=0,Ru(0)}}function Xw(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,uu(a)))}function hf(){return Yw(),$w(),Ww(),Qw()}function Qw(){if(Sn!==5)return!1;var s=Ao,a=ty;ty=0;var c=Ni(Bs),h=tt.T,m=ft.p;try{ft.p=32>c?32:c,tt.T=null,c=ey,ey=null;var b=Ao,w=Bs;if(Sn=0,tc=Ao=null,Bs=0,(me&6)!==0)throw Error(i(331));var R=me;if(me|=4,Nw(b.current),Dw(b,b.current,w,c),me=R,Ru(0,!1),Tn&&typeof Tn.onPostCommitFiberRoot=="function")try{Tn.onPostCommitFiberRoot(Ii,b)}catch{}return!0}finally{ft.p=m,tt.T=h,Xw(s,a)}}function Kw(s,a,c){a=ar(c,a),a=km(s.stateNode,a,2),s=_o(s,a,2),s!==null&&(xs(s,2),es(s))}function xe(s,a,c){if(s.tag===3)Kw(s,s,c);else for(;a!==null;){if(a.tag===3){Kw(a,s,c);break}else if(a.tag===1){var h=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(So===null||!So.has(h))){s=ar(c,s),c=Zx(2),h=_o(a,c,2),h!==null&&(Jx(c,h,a,s),xs(h,2),es(h));break}}a=a.return}}function sy(s,a,c){var h=s.pingCache;if(h===null){h=s.pingCache=new uM;var m=new Set;h.set(a,m)}else m=h.get(a),m===void 0&&(m=new Set,h.set(a,m));m.has(c)||(Km=!0,m.add(c),s=pM.bind(null,s,a,c),a.then(s,s))}function pM(s,a,c){var h=s.pingCache;h!==null&&h.delete(a),s.pingedLanes|=s.suspendedLanes&c,s.warmLanes&=~c,De===s&&(ee&c)===c&&(Ze===4||Ze===3&&(ee&62914560)===ee&&300>Pn()-of?(me&2)===0&&ec(s,0):Zm|=c,Jl===ee&&(Jl=0)),es(s)}function Zw(s,a){a===0&&(a=ba()),s=ka(s,a),s!==null&&(xs(s,a),es(s))}function mM(s){var a=s.memoizedState,c=0;a!==null&&(c=a.retryLane),Zw(s,c)}function yM(s,a){var c=0;switch(s.tag){case 31:case 13:var h=s.stateNode,m=s.memoizedState;m!==null&&(c=m.retryLane);break;case 19:h=s.stateNode;break;case 22:h=s.stateNode._retryCache;break;default:throw Error(i(314))}h!==null&&h.delete(a),Zw(s,c)}function bM(s,a){return Xt(s,a)}var ff=null,ic=null,oy=!1,gf=!1,ay=!1,Do=0;function es(s){s!==ic&&s.next===null&&(ic===null?ff=ic=s:ic=ic.next=s),gf=!0,oy||(oy=!0,vM())}function Ru(s,a){if(!ay&&gf){ay=!0;do for(var c=!1,h=ff;h!==null;){if(s!==0){var m=h.pendingLanes;if(m===0)var b=0;else{var w=h.suspendedLanes,R=h.pingedLanes;b=(1<<31-je(42|s)+1)-1,b&=m&~(w&~R),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(c=!0,nT(h,b))}else b=ee,b=Qi(h,h===De?b:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(b&3)===0||Ri(h,b)||(c=!0,nT(h,b));h=h.next}while(c);ay=!1}}function _M(){Jw()}function Jw(){gf=oy=!1;var s=0;Do!==0&&RM()&&(s=Do);for(var a=Pn(),c=null,h=ff;h!==null;){var m=h.next,b=tT(h,a);b===0?(h.next=null,c===null?ff=m:c.next=m,m===null&&(ic=c)):(c=h,(s!==0||(b&3)!==0)&&(gf=!0)),h=m}Sn!==0&&Sn!==5||Ru(s),Do!==0&&(Do=0)}function tT(s,a){for(var c=s.suspendedLanes,h=s.pingedLanes,m=s.expirationTimes,b=s.pendingLanes&-62914561;0<b;){var w=31-je(b),R=1<<w,F=m[w];F===-1?((R&c)===0||(R&h)!==0)&&(m[w]=Qc(R,a)):F<=a&&(s.expiredLanes|=R),b&=~R}if(a=De,c=ee,c=Qi(s,s===a?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),h=s.callbackNode,c===0||s===a&&(ve===2||ve===9)||s.cancelPendingCommit!==null)return h!==null&&h!==null&&ue(h),s.callbackNode=null,s.callbackPriority=0;if((c&3)===0||Ri(s,c)){if(a=c&-c,a===s.callbackPriority)return a;switch(h!==null&&ue(h),Ni(c)){case 2:case 8:c=ro;break;case 32:c=Tr;break;case 268435456:c=ya;break;default:c=Tr}return h=eT.bind(null,s),c=Xt(c,h),s.callbackPriority=a,s.callbackNode=c,a}return h!==null&&h!==null&&ue(h),s.callbackPriority=2,s.callbackNode=null,2}function eT(s,a){if(Sn!==0&&Sn!==5)return s.callbackNode=null,s.callbackPriority=0,null;var c=s.callbackNode;if(hf()&&s.callbackNode!==c)return null;var h=ee;return h=Qi(s,s===De?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),h===0?null:(zw(s,h,a),tT(s,Pn()),s.callbackNode!=null&&s.callbackNode===c?eT.bind(null,s):null)}function nT(s,a){if(hf())return null;zw(s,a,!0)}function vM(){MM(function(){(me&6)!==0?Xt(ma,_M):Jw()})}function ly(){if(Do===0){var s=Fl;s===0&&(s=Xi,Xi<<=1,(Xi&261888)===0&&(Xi=256)),Do=s}return Do}function iT(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Xe(""+s)}function rT(s,a){var c=a.ownerDocument.createElement("input");return c.name=a.name,c.value=a.value,s.id&&c.setAttribute("form",s.id),a.parentNode.insertBefore(c,a),s=new FormData(s),c.parentNode.removeChild(c),s}function xM(s,a,c,h,m){if(a==="submit"&&c&&c.stateNode===m){var b=iT((m[rn]||null).action),w=h.submitter;w&&(a=(a=w[rn]||null)?iT(a.formAction):w.getAttribute("formAction"),a!==null&&(b=a,w=null));var R=new Wr("action","action",null,h,m);s.push({event:R,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Do!==0){var F=w?rT(m,w):new FormData(m);Dm(c,{pending:!0,data:F,method:m.method,action:b},null,F)}}else typeof b=="function"&&(R.preventDefault(),F=w?rT(m,w):new FormData(m),Dm(c,{pending:!0,data:F,method:m.method,action:b},b,F))},currentTarget:m}]})}}for(var cy=0;cy<Gp.length;cy++){var uy=Gp[cy],wM=uy.toLowerCase(),TM=uy[0].toUpperCase()+uy.slice(1);Nr(wM,"on"+TM)}Nr(Pv,"onAnimationEnd"),Nr(zv,"onAnimationIteration"),Nr(Lv,"onAnimationStart"),Nr("dblclick","onDoubleClick"),Nr("focusin","onFocus"),Nr("focusout","onBlur"),Nr(UN,"onTransitionRun"),Nr(jN,"onTransitionStart"),Nr(BN,"onTransitionCancel"),Nr(Vv,"onTransitionEnd"),$n("onMouseEnter",["mouseout","mouseover"]),$n("onMouseLeave",["mouseout","mouseover"]),$n("onPointerEnter",["pointerout","pointerover"]),$n("onPointerLeave",["pointerout","pointerover"]),gn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),gn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),gn("onBeforeInput",["compositionend","keypress","textInput","paste"]),gn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),gn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),gn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Nu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),EM=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Nu));function sT(s,a){a=(a&4)!==0;for(var c=0;c<s.length;c++){var h=s[c],m=h.event;h=h.listeners;t:{var b=void 0;if(a)for(var w=h.length-1;0<=w;w--){var R=h[w],F=R.instance,J=R.currentTarget;if(R=R.listener,F!==b&&m.isPropagationStopped())break t;b=R,m.currentTarget=J;try{b(m)}catch(ot){Dh(ot)}m.currentTarget=null,b=F}else for(w=0;w<h.length;w++){if(R=h[w],F=R.instance,J=R.currentTarget,R=R.listener,F!==b&&m.isPropagationStopped())break t;b=R,m.currentTarget=J;try{b(m)}catch(ot){Dh(ot)}m.currentTarget=null,b=F}}}}function Jt(s,a){var c=a[ws];c===void 0&&(c=a[ws]=new Set);var h=s+"__bubble";c.has(h)||(oT(a,s,2,!1),c.add(h))}function dy(s,a,c){var h=0;a&&(h|=4),oT(c,s,h,a)}var pf="_reactListening"+Math.random().toString(36).slice(2);function hy(s){if(!s[pf]){s[pf]=!0,tr.forEach(function(c){c!=="selectionchange"&&(EM.has(c)||dy(c,!1,s),dy(c,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[pf]||(a[pf]=!0,dy("selectionchange",!1,a))}}function oT(s,a,c,h){switch(PT(a)){case 2:var m=ZM;break;case 8:m=JM;break;default:m=Cy}c=m.bind(null,a,c,s),m=void 0,!Aa||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(m=!0),h?m!==void 0?s.addEventListener(a,c,{capture:!0,passive:m}):s.addEventListener(a,c,!0):m!==void 0?s.addEventListener(a,c,{passive:m}):s.addEventListener(a,c,!1)}function fy(s,a,c,h,m){var b=h;if((a&1)===0&&(a&2)===0&&h!==null)t:for(;;){if(h===null)return;var w=h.tag;if(w===3||w===4){var R=h.stateNode.containerInfo;if(R===m)break;if(w===4)for(w=h.return;w!==null;){var F=w.tag;if((F===3||F===4)&&w.stateNode.containerInfo===m)return;w=w.return}for(;R!==null;){if(w=pi(R),w===null)return;if(F=w.tag,F===5||F===6||F===26||F===27){h=b=w;continue t}R=R.parentNode}}h=h.return}lo(function(){var J=b,ot=ir(c),ct=[];t:{var et=Uv.get(s);if(et!==void 0){var rt=Wr,Et=s;switch(s){case"keypress":if(Da(c)===0)break t;case"keydown":case"keyup":rt=Sh;break;case"focusin":Et="focus",rt=Ra;break;case"focusout":Et="blur",rt=Ra;break;case"beforeblur":case"afterblur":rt=Ra;break;case"click":if(c.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":rt=nu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":rt=mh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":rt=x;break;case Pv:case zv:case Lv:rt=bh;break;case Vv:rt=P;break;case"scroll":case"scrollend":rt=eu;break;case"wheel":rt=it;break;case"copy":case"cut":case"paste":rt=_h;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":rt=Cs;break;case"toggle":case"beforetoggle":rt=Gt}var kt=(a&4)!==0,Ce=!kt&&(s==="scroll"||s==="scrollend"),X=kt?et!==null?et+"Capture":null:et;kt=[];for(var G=J,Z;G!==null;){var at=G;if(Z=at.stateNode,at=at.tag,at!==5&&at!==26&&at!==27||Z===null||X===null||(at=Cr(G,X),at!=null&&kt.push(Mu(G,at,Z))),Ce)break;G=G.return}0<kt.length&&(et=new rt(et,Et,null,c,ot),ct.push({event:et,listeners:kt}))}}if((a&7)===0){t:{if(et=s==="mouseover"||s==="pointerover",rt=s==="mouseout"||s==="pointerout",et&&c!==Zc&&(Et=c.relatedTarget||c.fromElement)&&(pi(Et)||Et[Oi]))break t;if((rt||et)&&(et=ot.window===ot?ot:(et=ot.ownerDocument)?et.defaultView||et.parentWindow:window,rt?(Et=c.relatedTarget||c.toElement,rt=J,Et=Et?pi(Et):null,Et!==null&&(Ce=o(Et),kt=Et.tag,Et!==Ce||kt!==5&&kt!==27&&kt!==6)&&(Et=null)):(rt=null,Et=J),rt!==Et)){if(kt=nu,at="onMouseLeave",X="onMouseEnter",G="mouse",(s==="pointerout"||s==="pointerover")&&(kt=Cs,at="onPointerLeave",X="onPointerEnter",G="pointer"),Ce=rt==null?et:ri(rt),Z=Et==null?et:ri(Et),et=new kt(at,G+"leave",rt,c,ot),et.target=Ce,et.relatedTarget=Z,at=null,pi(ot)===J&&(kt=new kt(X,G+"enter",Et,c,ot),kt.target=Z,kt.relatedTarget=Ce,at=kt),Ce=at,rt&&Et)e:{for(kt=SM,X=rt,G=Et,Z=0,at=X;at;at=kt(at))Z++;at=0;for(var Rt=G;Rt;Rt=kt(Rt))at++;for(;0<Z-at;)X=kt(X),Z--;for(;0<at-Z;)G=kt(G),at--;for(;Z--;){if(X===G||G!==null&&X===G.alternate){kt=X;break e}X=kt(X),G=kt(G)}kt=null}else kt=null;rt!==null&&aT(ct,et,rt,kt,!1),Et!==null&&Ce!==null&&aT(ct,Ce,Et,kt,!0)}}t:{if(et=J?ri(J):window,rt=et.nodeName&&et.nodeName.toLowerCase(),rt==="select"||rt==="input"&&et.type==="file")var fe=Ev;else if(wv(et))if(Sv)fe=zN;else{fe=kN;var Ct=ON}else rt=et.nodeName,!rt||rt.toLowerCase()!=="input"||et.type!=="checkbox"&&et.type!=="radio"?J&&Bt(J.elementType)&&(fe=Ev):fe=PN;if(fe&&(fe=fe(s,J))){Tv(ct,fe,c,ot);break t}Ct&&Ct(s,et,J),s==="focusout"&&J&&et.type==="number"&&J.memoizedProps.value!=null&&Ea(et,"number",et.value)}switch(Ct=J?ri(J):window,s){case"focusin":(wv(Ct)||Ct.contentEditable==="true")&&(kl=Ct,Fp=J,au=null);break;case"focusout":au=Fp=kl=null;break;case"mousedown":Hp=!0;break;case"contextmenu":case"mouseup":case"dragend":Hp=!1,Ov(ct,c,ot);break;case"selectionchange":if(VN)break;case"keydown":case"keyup":Ov(ct,c,ot)}var Wt;if(pe)t:{switch(s){case"compositionstart":var ne="onCompositionStart";break t;case"compositionend":ne="onCompositionEnd";break t;case"compositionupdate":ne="onCompositionUpdate";break t}ne=void 0}else Ol?Na(s,c)&&(ne="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(ne="onCompositionStart");ne&&(Kr&&c.locale!=="ko"&&(Ol||ne!=="onCompositionStart"?ne==="onCompositionEnd"&&Ol&&(Wt=tu()):($r=ot,Jc="value"in $r?$r.value:$r.textContent,Ol=!0)),Ct=mf(J,ne),0<Ct.length&&(ne=new Qr(ne,s,null,c,ot),ct.push({event:ne,listeners:Ct}),Wt?ne.data=Wt:(Wt=Ml(c),Wt!==null&&(ne.data=Wt)))),(Wt=sr?IN(s,c):RN(s,c))&&(ne=mf(J,"onBeforeInput"),0<ne.length&&(Ct=new Qr("onBeforeInput","beforeinput",null,c,ot),ct.push({event:Ct,listeners:ne}),Ct.data=Wt)),xM(ct,s,J,c,ot)}sT(ct,a)})}function Mu(s,a,c){return{instance:s,listener:a,currentTarget:c}}function mf(s,a){for(var c=a+"Capture",h=[];s!==null;){var m=s,b=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||b===null||(m=Cr(s,c),m!=null&&h.unshift(Mu(s,m,b)),m=Cr(s,a),m!=null&&h.push(Mu(s,m,b))),s.tag===3)return h;s=s.return}return[]}function SM(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function aT(s,a,c,h,m){for(var b=a._reactName,w=[];c!==null&&c!==h;){var R=c,F=R.alternate,J=R.stateNode;if(R=R.tag,F!==null&&F===h)break;R!==5&&R!==26&&R!==27||J===null||(F=J,m?(J=Cr(c,b),J!=null&&w.unshift(Mu(c,J,F))):m||(J=Cr(c,b),J!=null&&w.push(Mu(c,J,F)))),c=c.return}w.length!==0&&s.push({event:a,listeners:w})}var AM=/\r\n?/g,CM=/\u0000|\uFFFD/g;function lT(s){return(typeof s=="string"?s:""+s).replace(AM,`
`).replace(CM,"")}function cT(s,a){return a=lT(a),lT(s)===a}function Ae(s,a,c,h,m,b){switch(c){case"children":typeof h=="string"?a==="body"||a==="textarea"&&h===""||j(s,h):(typeof h=="number"||typeof h=="bigint")&&a!=="body"&&j(s,""+h);break;case"className":Me(s,"class",h);break;case"tabIndex":Me(s,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Me(s,c,h);break;case"style":_t(s,h,b);break;case"data":if(a!=="object"){Me(s,"data",h);break}case"src":case"href":if(h===""&&(a!=="a"||c!=="href")){s.removeAttribute(c);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){s.removeAttribute(c);break}h=Xe(""+h),s.setAttribute(c,h);break;case"action":case"formAction":if(typeof h=="function"){s.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(c==="formAction"?(a!=="input"&&Ae(s,a,"name",m.name,m,null),Ae(s,a,"formEncType",m.formEncType,m,null),Ae(s,a,"formMethod",m.formMethod,m,null),Ae(s,a,"formTarget",m.formTarget,m,null)):(Ae(s,a,"encType",m.encType,m,null),Ae(s,a,"method",m.method,m,null),Ae(s,a,"target",m.target,m,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){s.removeAttribute(c);break}h=Xe(""+h),s.setAttribute(c,h);break;case"onClick":h!=null&&(s.onclick=Qe);break;case"onScroll":h!=null&&Jt("scroll",s);break;case"onScrollEnd":h!=null&&Jt("scrollend",s);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(i(61));if(c=h.__html,c!=null){if(m.children!=null)throw Error(i(60));s.innerHTML=c}}break;case"multiple":s.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":s.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){s.removeAttribute("xlink:href");break}c=Xe(""+h),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(c,""+h):s.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(c,""):s.removeAttribute(c);break;case"capture":case"download":h===!0?s.setAttribute(c,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(c,h):s.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?s.setAttribute(c,h):s.removeAttribute(c);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?s.removeAttribute(c):s.setAttribute(c,h);break;case"popover":Jt("beforetoggle",s),Jt("toggle",s),Ar(s,"popover",h);break;case"xlinkActuate":Oe(s,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Oe(s,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Oe(s,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Oe(s,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Oe(s,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Oe(s,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Oe(s,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Oe(s,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Oe(s,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Ar(s,"is",h);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=He.get(c)||c,Ar(s,c,h))}}function gy(s,a,c,h,m,b){switch(c){case"style":_t(s,h,b);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(i(61));if(c=h.__html,c!=null){if(m.children!=null)throw Error(i(60));s.innerHTML=c}}break;case"children":typeof h=="string"?j(s,h):(typeof h=="number"||typeof h=="bigint")&&j(s,""+h);break;case"onScroll":h!=null&&Jt("scroll",s);break;case"onScrollEnd":h!=null&&Jt("scrollend",s);break;case"onClick":h!=null&&(s.onclick=Qe);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!yi.hasOwnProperty(c))t:{if(c[0]==="o"&&c[1]==="n"&&(m=c.endsWith("Capture"),a=c.slice(2,m?c.length-7:void 0),b=s[rn]||null,b=b!=null?b[c]:null,typeof b=="function"&&s.removeEventListener(a,b,m),typeof h=="function")){typeof b!="function"&&b!==null&&(c in s?s[c]=null:s.hasAttribute(c)&&s.removeAttribute(c)),s.addEventListener(a,h,m);break t}c in s?s[c]=h:h===!0?s.setAttribute(c,""):Ar(s,c,h)}}}function Bn(s,a,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Jt("error",s),Jt("load",s);var h=!1,m=!1,b;for(b in c)if(c.hasOwnProperty(b)){var w=c[b];if(w!=null)switch(b){case"src":h=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Ae(s,a,b,w,c,null)}}m&&Ae(s,a,"srcSet",c.srcSet,c,null),h&&Ae(s,a,"src",c.src,c,null);return;case"input":Jt("invalid",s);var R=b=w=m=null,F=null,J=null;for(h in c)if(c.hasOwnProperty(h)){var ot=c[h];if(ot!=null)switch(h){case"name":m=ot;break;case"type":w=ot;break;case"checked":F=ot;break;case"defaultChecked":J=ot;break;case"value":b=ot;break;case"defaultValue":R=ot;break;case"children":case"dangerouslySetInnerHTML":if(ot!=null)throw Error(i(137,a));break;default:Ae(s,a,h,ot,c,null)}}Ta(s,b,R,F,J,w,m,!1);return;case"select":Jt("invalid",s),h=w=b=null;for(m in c)if(c.hasOwnProperty(m)&&(R=c[m],R!=null))switch(m){case"value":b=R;break;case"defaultValue":w=R;break;case"multiple":h=R;default:Ae(s,a,m,R,c,null)}a=b,c=w,s.multiple=!!h,a!=null?Gr(s,!!h,a,!1):c!=null&&Gr(s,!!h,c,!0);return;case"textarea":Jt("invalid",s),b=m=h=null;for(w in c)if(c.hasOwnProperty(w)&&(R=c[w],R!=null))switch(w){case"value":h=R;break;case"defaultValue":m=R;break;case"children":b=R;break;case"dangerouslySetInnerHTML":if(R!=null)throw Error(i(91));break;default:Ae(s,a,w,R,c,null)}k(s,h,m,b);return;case"option":for(F in c)if(c.hasOwnProperty(F)&&(h=c[F],h!=null))switch(F){case"selected":s.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:Ae(s,a,F,h,c,null)}return;case"dialog":Jt("beforetoggle",s),Jt("toggle",s),Jt("cancel",s),Jt("close",s);break;case"iframe":case"object":Jt("load",s);break;case"video":case"audio":for(h=0;h<Nu.length;h++)Jt(Nu[h],s);break;case"image":Jt("error",s),Jt("load",s);break;case"details":Jt("toggle",s);break;case"embed":case"source":case"link":Jt("error",s),Jt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(J in c)if(c.hasOwnProperty(J)&&(h=c[J],h!=null))switch(J){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:Ae(s,a,J,h,c,null)}return;default:if(Bt(a)){for(ot in c)c.hasOwnProperty(ot)&&(h=c[ot],h!==void 0&&gy(s,a,ot,h,c,void 0));return}}for(R in c)c.hasOwnProperty(R)&&(h=c[R],h!=null&&Ae(s,a,R,h,c,null))}function DM(s,a,c,h){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,b=null,w=null,R=null,F=null,J=null,ot=null;for(rt in c){var ct=c[rt];if(c.hasOwnProperty(rt)&&ct!=null)switch(rt){case"checked":break;case"value":break;case"defaultValue":F=ct;default:h.hasOwnProperty(rt)||Ae(s,a,rt,null,h,ct)}}for(var et in h){var rt=h[et];if(ct=c[et],h.hasOwnProperty(et)&&(rt!=null||ct!=null))switch(et){case"type":b=rt;break;case"name":m=rt;break;case"checked":J=rt;break;case"defaultChecked":ot=rt;break;case"value":w=rt;break;case"defaultValue":R=rt;break;case"children":case"dangerouslySetInnerHTML":if(rt!=null)throw Error(i(137,a));break;default:rt!==ct&&Ae(s,a,et,rt,h,ct)}}qr(s,w,R,F,J,ot,b,m);return;case"select":rt=w=R=et=null;for(b in c)if(F=c[b],c.hasOwnProperty(b)&&F!=null)switch(b){case"value":break;case"multiple":rt=F;default:h.hasOwnProperty(b)||Ae(s,a,b,null,h,F)}for(m in h)if(b=h[m],F=c[m],h.hasOwnProperty(m)&&(b!=null||F!=null))switch(m){case"value":et=b;break;case"defaultValue":R=b;break;case"multiple":w=b;default:b!==F&&Ae(s,a,m,b,h,F)}a=R,c=w,h=rt,et!=null?Gr(s,!!c,et,!1):!!h!=!!c&&(a!=null?Gr(s,!!c,a,!0):Gr(s,!!c,c?[]:"",!1));return;case"textarea":rt=et=null;for(R in c)if(m=c[R],c.hasOwnProperty(R)&&m!=null&&!h.hasOwnProperty(R))switch(R){case"value":break;case"children":break;default:Ae(s,a,R,null,h,m)}for(w in h)if(m=h[w],b=c[w],h.hasOwnProperty(w)&&(m!=null||b!=null))switch(w){case"value":et=m;break;case"defaultValue":rt=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==b&&Ae(s,a,w,m,h,b)}I(s,et,rt);return;case"option":for(var Et in c)if(et=c[Et],c.hasOwnProperty(Et)&&et!=null&&!h.hasOwnProperty(Et))switch(Et){case"selected":s.selected=!1;break;default:Ae(s,a,Et,null,h,et)}for(F in h)if(et=h[F],rt=c[F],h.hasOwnProperty(F)&&et!==rt&&(et!=null||rt!=null))switch(F){case"selected":s.selected=et&&typeof et!="function"&&typeof et!="symbol";break;default:Ae(s,a,F,et,h,rt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var kt in c)et=c[kt],c.hasOwnProperty(kt)&&et!=null&&!h.hasOwnProperty(kt)&&Ae(s,a,kt,null,h,et);for(J in h)if(et=h[J],rt=c[J],h.hasOwnProperty(J)&&et!==rt&&(et!=null||rt!=null))switch(J){case"children":case"dangerouslySetInnerHTML":if(et!=null)throw Error(i(137,a));break;default:Ae(s,a,J,et,h,rt)}return;default:if(Bt(a)){for(var Ce in c)et=c[Ce],c.hasOwnProperty(Ce)&&et!==void 0&&!h.hasOwnProperty(Ce)&&gy(s,a,Ce,void 0,h,et);for(ot in h)et=h[ot],rt=c[ot],!h.hasOwnProperty(ot)||et===rt||et===void 0&&rt===void 0||gy(s,a,ot,et,h,rt);return}}for(var X in c)et=c[X],c.hasOwnProperty(X)&&et!=null&&!h.hasOwnProperty(X)&&Ae(s,a,X,null,h,et);for(ct in h)et=h[ct],rt=c[ct],!h.hasOwnProperty(ct)||et===rt||et==null&&rt==null||Ae(s,a,ct,et,h,rt)}function uT(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function IM(){if(typeof performance.getEntriesByType=="function"){for(var s=0,a=0,c=performance.getEntriesByType("resource"),h=0;h<c.length;h++){var m=c[h],b=m.transferSize,w=m.initiatorType,R=m.duration;if(b&&R&&uT(w)){for(w=0,R=m.responseEnd,h+=1;h<c.length;h++){var F=c[h],J=F.startTime;if(J>R)break;var ot=F.transferSize,ct=F.initiatorType;ot&&uT(ct)&&(F=F.responseEnd,w+=ot*(F<R?1:(R-J)/(F-J)))}if(--h,a+=8*(b+w)/(m.duration/1e3),s++,10<s)break}}if(0<s)return a/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var py=null,my=null;function yf(s){return s.nodeType===9?s:s.ownerDocument}function dT(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function hT(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function yy(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var by=null;function RM(){var s=window.event;return s&&s.type==="popstate"?s===by?!1:(by=s,!0):(by=null,!1)}var fT=typeof setTimeout=="function"?setTimeout:void 0,NM=typeof clearTimeout=="function"?clearTimeout:void 0,gT=typeof Promise=="function"?Promise:void 0,MM=typeof queueMicrotask=="function"?queueMicrotask:typeof gT<"u"?function(s){return gT.resolve(null).then(s).catch(OM)}:fT;function OM(s){setTimeout(function(){throw s})}function Io(s){return s==="head"}function pT(s,a){var c=a,h=0;do{var m=c.nextSibling;if(s.removeChild(c),m&&m.nodeType===8)if(c=m.data,c==="/$"||c==="/&"){if(h===0){s.removeChild(m),ac(a);return}h--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")h++;else if(c==="html")Ou(s.ownerDocument.documentElement);else if(c==="head"){c=s.ownerDocument.head,Ou(c);for(var b=c.firstChild;b;){var w=b.nextSibling,R=b.nodeName;b[Yn]||R==="SCRIPT"||R==="STYLE"||R==="LINK"&&b.rel.toLowerCase()==="stylesheet"||c.removeChild(b),b=w}}else c==="body"&&Ou(s.ownerDocument.body);c=m}while(c);ac(a)}function mT(s,a){var c=s;s=0;do{var h=c.nextSibling;if(c.nodeType===1?a?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(a?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),h&&h.nodeType===8)if(c=h.data,c==="/$"){if(s===0)break;s--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||s++;c=h}while(c)}function _y(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var c=a;switch(a=a.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":_y(c),Sr(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}s.removeChild(c)}}function kM(s,a,c,h){for(;s.nodeType===1;){var m=c;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!h&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(h){if(!s[Yn])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(b=s.getAttribute("rel"),b==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(b!==m.rel||s.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||s.getAttribute("title")!==(m.title==null?null:m.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(b=s.getAttribute("src"),(b!==(m.src==null?null:m.src)||s.getAttribute("type")!==(m.type==null?null:m.type)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&b&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var b=m.name==null?null:""+m.name;if(m.type==="hidden"&&s.getAttribute("name")===b)return s}else return s;if(s=hr(s.nextSibling),s===null)break}return null}function PM(s,a,c){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!c||(s=hr(s.nextSibling),s===null))return null;return s}function yT(s,a){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!a||(s=hr(s.nextSibling),s===null))return null;return s}function vy(s){return s.data==="$?"||s.data==="$~"}function xy(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function zM(s,a){var c=s.ownerDocument;if(s.data==="$~")s._reactRetry=a;else if(s.data!=="$?"||c.readyState!=="loading")a();else{var h=function(){a(),c.removeEventListener("DOMContentLoaded",h)};c.addEventListener("DOMContentLoaded",h),s._reactRetry=h}}function hr(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return s}var wy=null;function bT(s){s=s.nextSibling;for(var a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"||c==="/&"){if(a===0)return hr(s.nextSibling);a--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||a++}s=s.nextSibling}return null}function _T(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(a===0)return s;a--}else c!=="/$"&&c!=="/&"||a++}s=s.previousSibling}return null}function vT(s,a,c){switch(a=yf(c),s){case"html":if(s=a.documentElement,!s)throw Error(i(452));return s;case"head":if(s=a.head,!s)throw Error(i(453));return s;case"body":if(s=a.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function Ou(s){for(var a=s.attributes;a.length;)s.removeAttributeNode(a[0]);Sr(s)}var fr=new Map,xT=new Set;function bf(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Fs=ft.d;ft.d={f:LM,r:VM,D:UM,C:jM,L:BM,m:FM,X:qM,S:HM,M:GM};function LM(){var s=Fs.f(),a=cf();return s||a}function VM(s){var a=mi(s);a!==null&&a.tag===5&&a.type==="form"?Vx(a):Fs.r(s)}var rc=typeof document>"u"?null:document;function wT(s,a,c){var h=rc;if(h&&typeof a=="string"&&a){var m=zn(a);m='link[rel="'+s+'"][href="'+m+'"]',typeof c=="string"&&(m+='[crossorigin="'+c+'"]'),xT.has(m)||(xT.add(m),s={rel:s,crossOrigin:c,href:a},h.querySelector(m)===null&&(a=h.createElement("link"),Bn(a,"link",s),de(a),h.head.appendChild(a)))}}function UM(s){Fs.D(s),wT("dns-prefetch",s,null)}function jM(s,a){Fs.C(s,a),wT("preconnect",s,a)}function BM(s,a,c){Fs.L(s,a,c);var h=rc;if(h&&s&&a){var m='link[rel="preload"][as="'+zn(a)+'"]';a==="image"&&c&&c.imageSrcSet?(m+='[imagesrcset="'+zn(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(m+='[imagesizes="'+zn(c.imageSizes)+'"]')):m+='[href="'+zn(s)+'"]';var b=m;switch(a){case"style":b=sc(s);break;case"script":b=oc(s)}fr.has(b)||(s=y({rel:"preload",href:a==="image"&&c&&c.imageSrcSet?void 0:s,as:a},c),fr.set(b,s),h.querySelector(m)!==null||a==="style"&&h.querySelector(ku(b))||a==="script"&&h.querySelector(Pu(b))||(a=h.createElement("link"),Bn(a,"link",s),de(a),h.head.appendChild(a)))}}function FM(s,a){Fs.m(s,a);var c=rc;if(c&&s){var h=a&&typeof a.as=="string"?a.as:"script",m='link[rel="modulepreload"][as="'+zn(h)+'"][href="'+zn(s)+'"]',b=m;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=oc(s)}if(!fr.has(b)&&(s=y({rel:"modulepreload",href:s},a),fr.set(b,s),c.querySelector(m)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector(Pu(b)))return}h=c.createElement("link"),Bn(h,"link",s),de(h),c.head.appendChild(h)}}}function HM(s,a,c){Fs.S(s,a,c);var h=rc;if(h&&s){var m=si(h).hoistableStyles,b=sc(s);a=a||"default";var w=m.get(b);if(!w){var R={loading:0,preload:null};if(w=h.querySelector(ku(b)))R.loading=5;else{s=y({rel:"stylesheet",href:s,"data-precedence":a},c),(c=fr.get(b))&&Ty(s,c);var F=w=h.createElement("link");de(F),Bn(F,"link",s),F._p=new Promise(function(J,ot){F.onload=J,F.onerror=ot}),F.addEventListener("load",function(){R.loading|=1}),F.addEventListener("error",function(){R.loading|=2}),R.loading|=4,_f(w,a,h)}w={type:"stylesheet",instance:w,count:1,state:R},m.set(b,w)}}}function qM(s,a){Fs.X(s,a);var c=rc;if(c&&s){var h=si(c).hoistableScripts,m=oc(s),b=h.get(m);b||(b=c.querySelector(Pu(m)),b||(s=y({src:s,async:!0},a),(a=fr.get(m))&&Ey(s,a),b=c.createElement("script"),de(b),Bn(b,"link",s),c.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},h.set(m,b))}}function GM(s,a){Fs.M(s,a);var c=rc;if(c&&s){var h=si(c).hoistableScripts,m=oc(s),b=h.get(m);b||(b=c.querySelector(Pu(m)),b||(s=y({src:s,async:!0,type:"module"},a),(a=fr.get(m))&&Ey(s,a),b=c.createElement("script"),de(b),Bn(b,"link",s),c.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},h.set(m,b))}}function TT(s,a,c,h){var m=(m=Dt.current)?bf(m):null;if(!m)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(a=sc(c.href),c=si(m).hoistableStyles,h=c.get(a),h||(h={type:"style",instance:null,count:0,state:null},c.set(a,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){s=sc(c.href);var b=si(m).hoistableStyles,w=b.get(s);if(w||(m=m.ownerDocument||m,w={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(s,w),(b=m.querySelector(ku(s)))&&!b._p&&(w.instance=b,w.state.loading=5),fr.has(s)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},fr.set(s,c),b||YM(m,s,c,w.state))),a&&h===null)throw Error(i(528,""));return w}if(a&&h!==null)throw Error(i(529,""));return null;case"script":return a=c.async,c=c.src,typeof c=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=oc(c),c=si(m).hoistableScripts,h=c.get(a),h||(h={type:"script",instance:null,count:0,state:null},c.set(a,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function sc(s){return'href="'+zn(s)+'"'}function ku(s){return'link[rel="stylesheet"]['+s+"]"}function ET(s){return y({},s,{"data-precedence":s.precedence,precedence:null})}function YM(s,a,c,h){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?h.loading=1:(a=s.createElement("link"),h.preload=a,a.addEventListener("load",function(){return h.loading|=1}),a.addEventListener("error",function(){return h.loading|=2}),Bn(a,"link",c),de(a),s.head.appendChild(a))}function oc(s){return'[src="'+zn(s)+'"]'}function Pu(s){return"script[async]"+s}function ST(s,a,c){if(a.count++,a.instance===null)switch(a.type){case"style":var h=s.querySelector('style[data-href~="'+zn(c.href)+'"]');if(h)return a.instance=h,de(h),h;var m=y({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return h=(s.ownerDocument||s).createElement("style"),de(h),Bn(h,"style",m),_f(h,c.precedence,s),a.instance=h;case"stylesheet":m=sc(c.href);var b=s.querySelector(ku(m));if(b)return a.state.loading|=4,a.instance=b,de(b),b;h=ET(c),(m=fr.get(m))&&Ty(h,m),b=(s.ownerDocument||s).createElement("link"),de(b);var w=b;return w._p=new Promise(function(R,F){w.onload=R,w.onerror=F}),Bn(b,"link",h),a.state.loading|=4,_f(b,c.precedence,s),a.instance=b;case"script":return b=oc(c.src),(m=s.querySelector(Pu(b)))?(a.instance=m,de(m),m):(h=c,(m=fr.get(b))&&(h=y({},c),Ey(h,m)),s=s.ownerDocument||s,m=s.createElement("script"),de(m),Bn(m,"link",h),s.head.appendChild(m),a.instance=m);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(h=a.instance,a.state.loading|=4,_f(h,c.precedence,s));return a.instance}function _f(s,a,c){for(var h=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=h.length?h[h.length-1]:null,b=m,w=0;w<h.length;w++){var R=h[w];if(R.dataset.precedence===a)b=R;else if(b!==m)break}b?b.parentNode.insertBefore(s,b.nextSibling):(a=c.nodeType===9?c.head:c,a.insertBefore(s,a.firstChild))}function Ty(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function Ey(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var vf=null;function AT(s,a,c){if(vf===null){var h=new Map,m=vf=new Map;m.set(c,h)}else m=vf,h=m.get(c),h||(h=new Map,m.set(c,h));if(h.has(s))return h;for(h.set(s,null),c=c.getElementsByTagName(s),m=0;m<c.length;m++){var b=c[m];if(!(b[Yn]||b[Fe]||s==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var w=b.getAttribute(a)||"";w=s+w;var R=h.get(w);R?R.push(b):h.set(w,[b])}}return h}function CT(s,a,c){s=s.ownerDocument||s,s.head.insertBefore(c,a==="title"?s.querySelector("head > title"):null)}function $M(s,a,c){if(c===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return s=a.disabled,typeof a.precedence=="string"&&s==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function DT(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function WM(s,a,c,h){if(c.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var m=sc(h.href),b=a.querySelector(ku(m));if(b){a=b._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(s.count++,s=xf.bind(s),a.then(s,s)),c.state.loading|=4,c.instance=b,de(b);return}b=a.ownerDocument||a,h=ET(h),(m=fr.get(m))&&Ty(h,m),b=b.createElement("link"),de(b);var w=b;w._p=new Promise(function(R,F){w.onload=R,w.onerror=F}),Bn(b,"link",h),c.instance=b}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(c,a),(a=c.state.preload)&&(c.state.loading&3)===0&&(s.count++,c=xf.bind(s),a.addEventListener("load",c),a.addEventListener("error",c))}}var Sy=0;function XM(s,a){return s.stylesheets&&s.count===0&&Tf(s,s.stylesheets),0<s.count||0<s.imgCount?function(c){var h=setTimeout(function(){if(s.stylesheets&&Tf(s,s.stylesheets),s.unsuspend){var b=s.unsuspend;s.unsuspend=null,b()}},6e4+a);0<s.imgBytes&&Sy===0&&(Sy=62500*IM());var m=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Tf(s,s.stylesheets),s.unsuspend)){var b=s.unsuspend;s.unsuspend=null,b()}},(s.imgBytes>Sy?50:800)+a);return s.unsuspend=c,function(){s.unsuspend=null,clearTimeout(h),clearTimeout(m)}}:null}function xf(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Tf(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var wf=null;function Tf(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,wf=new Map,a.forEach(QM,s),wf=null,xf.call(s))}function QM(s,a){if(!(a.state.loading&4)){var c=wf.get(s);if(c)var h=c.get(null);else{c=new Map,wf.set(s,c);for(var m=s.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<m.length;b++){var w=m[b];(w.nodeName==="LINK"||w.getAttribute("media")!=="not all")&&(c.set(w.dataset.precedence,w),h=w)}h&&c.set(null,h)}m=a.instance,w=m.getAttribute("data-precedence"),b=c.get(w)||h,b===h&&c.set(null,m),c.set(w,m),this.count++,h=xf.bind(this),m.addEventListener("load",h),m.addEventListener("error",h),b?b.parentNode.insertBefore(m,b.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(m,s.firstChild)),a.state.loading|=4}}var zu={$$typeof:q,Provider:null,Consumer:null,_currentValue:xt,_currentValue2:xt,_threadCount:0};function KM(s,a,c,h,m,b,w,R,F){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ki(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ki(0),this.hiddenUpdates=Ki(null),this.identifierPrefix=h,this.onUncaughtError=m,this.onCaughtError=b,this.onRecoverableError=w,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=F,this.incompleteTransitions=new Map}function IT(s,a,c,h,m,b,w,R,F,J,ot,ct){return s=new KM(s,a,c,w,F,J,ot,ct,R),a=1,b===!0&&(a|=24),b=Pi(3,null,null,a),s.current=b,b.stateNode=s,a=rm(),a.refCount++,s.pooledCache=a,a.refCount++,b.memoizedState={element:h,isDehydrated:c,cache:a},lm(b),s}function RT(s){return s?(s=Ll,s):Ll}function NT(s,a,c,h,m,b){m=RT(m),h.context===null?h.context=m:h.pendingContext=m,h=bo(a),h.payload={element:c},b=b===void 0?null:b,b!==null&&(h.callback=b),c=_o(s,h,a),c!==null&&(wi(c,s,a),gu(c,s,a))}function MT(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<a?c:a}}function Ay(s,a){MT(s,a),(s=s.alternate)&&MT(s,a)}function OT(s){if(s.tag===13||s.tag===31){var a=ka(s,67108864);a!==null&&wi(a,s,67108864),Ay(s,67108864)}}function kT(s){if(s.tag===13||s.tag===31){var a=ji();a=Fr(a);var c=ka(s,a);c!==null&&wi(c,s,a),Ay(s,a)}}var Ef=!0;function ZM(s,a,c,h){var m=tt.T;tt.T=null;var b=ft.p;try{ft.p=2,Cy(s,a,c,h)}finally{ft.p=b,tt.T=m}}function JM(s,a,c,h){var m=tt.T;tt.T=null;var b=ft.p;try{ft.p=8,Cy(s,a,c,h)}finally{ft.p=b,tt.T=m}}function Cy(s,a,c,h){if(Ef){var m=Dy(h);if(m===null)fy(s,a,h,Sf,c),zT(s,h);else if(eO(m,s,a,c,h))h.stopPropagation();else if(zT(s,h),a&4&&-1<tO.indexOf(s)){for(;m!==null;){var b=mi(m);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var w=fi(b.pendingLanes);if(w!==0){var R=b;for(R.pendingLanes|=2,R.entangledLanes|=2;w;){var F=1<<31-je(w);R.entanglements[1]|=F,w&=~F}es(b),(me&6)===0&&(af=Pn()+500,Ru(0))}}break;case 31:case 13:R=ka(b,2),R!==null&&wi(R,b,2),cf(),Ay(b,2)}if(b=Dy(h),b===null&&fy(s,a,h,Sf,c),b===m)break;m=b}m!==null&&h.stopPropagation()}else fy(s,a,h,null,c)}}function Dy(s){return s=ir(s),Iy(s)}var Sf=null;function Iy(s){if(Sf=null,s=pi(s),s!==null){var a=o(s);if(a===null)s=null;else{var c=a.tag;if(c===13){if(s=l(a),s!==null)return s;s=null}else if(c===31){if(s=u(a),s!==null)return s;s=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return Sf=s,null}function PT(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(_s()){case ma:return 2;case ro:return 8;case Tr:case El:return 32;case ya:return 268435456;default:return 32}default:return 32}}var Ry=!1,Ro=null,No=null,Mo=null,Lu=new Map,Vu=new Map,Oo=[],tO="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function zT(s,a){switch(s){case"focusin":case"focusout":Ro=null;break;case"dragenter":case"dragleave":No=null;break;case"mouseover":case"mouseout":Mo=null;break;case"pointerover":case"pointerout":Lu.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vu.delete(a.pointerId)}}function Uu(s,a,c,h,m,b){return s===null||s.nativeEvent!==b?(s={blockedOn:a,domEventName:c,eventSystemFlags:h,nativeEvent:b,targetContainers:[m]},a!==null&&(a=mi(a),a!==null&&OT(a)),s):(s.eventSystemFlags|=h,a=s.targetContainers,m!==null&&a.indexOf(m)===-1&&a.push(m),s)}function eO(s,a,c,h,m){switch(a){case"focusin":return Ro=Uu(Ro,s,a,c,h,m),!0;case"dragenter":return No=Uu(No,s,a,c,h,m),!0;case"mouseover":return Mo=Uu(Mo,s,a,c,h,m),!0;case"pointerover":var b=m.pointerId;return Lu.set(b,Uu(Lu.get(b)||null,s,a,c,h,m)),!0;case"gotpointercapture":return b=m.pointerId,Vu.set(b,Uu(Vu.get(b)||null,s,a,c,h,m)),!0}return!1}function LT(s){var a=pi(s.target);if(a!==null){var c=o(a);if(c!==null){if(a=c.tag,a===13){if(a=l(c),a!==null){s.blockedOn=a,gi(s.priority,function(){kT(c)});return}}else if(a===31){if(a=u(c),a!==null){s.blockedOn=a,gi(s.priority,function(){kT(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Af(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var c=Dy(s.nativeEvent);if(c===null){c=s.nativeEvent;var h=new c.constructor(c.type,c);Zc=h,c.target.dispatchEvent(h),Zc=null}else return a=mi(c),a!==null&&OT(a),s.blockedOn=c,!1;a.shift()}return!0}function VT(s,a,c){Af(s)&&c.delete(a)}function nO(){Ry=!1,Ro!==null&&Af(Ro)&&(Ro=null),No!==null&&Af(No)&&(No=null),Mo!==null&&Af(Mo)&&(Mo=null),Lu.forEach(VT),Vu.forEach(VT)}function Cf(s,a){s.blockedOn===a&&(s.blockedOn=null,Ry||(Ry=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,nO)))}var Df=null;function UT(s){Df!==s&&(Df=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Df===s&&(Df=null);for(var a=0;a<s.length;a+=3){var c=s[a],h=s[a+1],m=s[a+2];if(typeof h!="function"){if(Iy(h||c)===null)continue;break}var b=mi(c);b!==null&&(s.splice(a,3),a-=3,Dm(b,{pending:!0,data:m,method:c.method,action:h},h,m))}}))}function ac(s){function a(F){return Cf(F,s)}Ro!==null&&Cf(Ro,s),No!==null&&Cf(No,s),Mo!==null&&Cf(Mo,s),Lu.forEach(a),Vu.forEach(a);for(var c=0;c<Oo.length;c++){var h=Oo[c];h.blockedOn===s&&(h.blockedOn=null)}for(;0<Oo.length&&(c=Oo[0],c.blockedOn===null);)LT(c),c.blockedOn===null&&Oo.shift();if(c=(s.ownerDocument||s).$$reactFormReplay,c!=null)for(h=0;h<c.length;h+=3){var m=c[h],b=c[h+1],w=m[rn]||null;if(typeof b=="function")w||UT(c);else if(w){var R=null;if(b&&b.hasAttribute("formAction")){if(m=b,w=b[rn]||null)R=w.formAction;else if(Iy(m)!==null)continue}else R=w.action;typeof R=="function"?c[h+1]=R:(c.splice(h,3),h-=3),UT(c)}}}function jT(){function s(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(w){return m=w})},focusReset:"manual",scroll:"manual"})}function a(){m!==null&&(m(),m=null),h||setTimeout(c,20)}function c(){if(!h&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,m=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(c,100),function(){h=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),m!==null&&(m(),m=null)}}}function Ny(s){this._internalRoot=s}If.prototype.render=Ny.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(i(409));var c=a.current,h=ji();NT(c,h,s,a,null,null)},If.prototype.unmount=Ny.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;NT(s.current,2,null,s,null,null),cf(),a[Oi]=null}};function If(s){this._internalRoot=s}If.prototype.unstable_scheduleHydration=function(s){if(s){var a=Cl();s={blockedOn:null,target:s,priority:a};for(var c=0;c<Oo.length&&a!==0&&a<Oo[c].priority;c++);Oo.splice(c,0,s),c===0&&LT(s)}};var BT=t.version;if(BT!=="19.2.1")throw Error(i(527,BT,"19.2.1"));ft.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=f(a),s=s!==null?p(s):null,s=s===null?null:s.stateNode,s};var iO={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:tt,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Rf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Rf.isDisabled&&Rf.supportsFiber)try{Ii=Rf.inject(iO),Tn=Rf}catch{}}return Bu.createRoot=function(s,a){if(!r(s))throw Error(i(299));var c=!1,h="",m=Wx,b=Xx,w=Qx;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(w=a.onRecoverableError)),a=IT(s,1,!1,null,null,c,h,null,m,b,w,jT),s[Oi]=a.current,hy(s),new Ny(a)},Bu.hydrateRoot=function(s,a,c){if(!r(s))throw Error(i(299));var h=!1,m="",b=Wx,w=Xx,R=Qx,F=null;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(m=c.identifierPrefix),c.onUncaughtError!==void 0&&(b=c.onUncaughtError),c.onCaughtError!==void 0&&(w=c.onCaughtError),c.onRecoverableError!==void 0&&(R=c.onRecoverableError),c.formState!==void 0&&(F=c.formState)),a=IT(s,1,!0,a,c??null,h,m,F,b,w,R,jT),a.context=RT(null),c=a.current,h=ji(),h=Fr(h),m=bo(h),m.callback=null,_o(c,m,h),c=h,a.current.lanes=c,xs(a,c),es(a),s[Oi]=a.current,hy(s),new If(a)},Bu.version="19.2.1",Bu}var KT;function hO(){if(KT)return ky.exports;KT=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),ky.exports=dO(),ky.exports}var fO=hO();const gO=Jg(fO),pO=()=>{};var ZT={};const tC=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=r&63|128):(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=r&63|128)}return t},mO=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const r=n[e++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=n[e++];t[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=n[e++],l=n[e++],u=n[e++],d=((r&7)<<18|(o&63)<<12|(l&63)<<6|u&63)-65536;t[i++]=String.fromCharCode(55296+(d>>10)),t[i++]=String.fromCharCode(56320+(d&1023))}else{const o=n[e++],l=n[e++];t[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|l&63)}}return t.join("")},eC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const o=n[r],l=r+1<n.length,u=l?n[r+1]:0,d=r+2<n.length,f=d?n[r+2]:0,p=o>>2,y=(o&3)<<4|u>>4;let _=(u&15)<<2|f>>6,v=f&63;d||(v=64,l||(_=64)),i.push(e[p],e[y],e[_],e[v])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(tC(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):mO(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const o=e[n.charAt(r++)],u=r<n.length?e[n.charAt(r)]:0;++r;const f=r<n.length?e[n.charAt(r)]:64;++r;const y=r<n.length?e[n.charAt(r)]:64;if(++r,o==null||u==null||f==null||y==null)throw new yO;const _=o<<2|u>>4;if(i.push(_),f!==64){const v=u<<4&240|f>>2;if(i.push(v),y!==64){const S=f<<6&192|y;i.push(S)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class yO extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const bO=function(n){const t=tC(n);return eC.encodeByteArray(t,!0)},pg=function(n){return bO(n).replace(/\./g,"")},nC=function(n){try{return eC.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function _O(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const vO=()=>_O().__FIREBASE_DEFAULTS__,xO=()=>{if(typeof process>"u"||typeof ZT>"u")return;const n=ZT.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},wO=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&nC(n[1]);return t&&JSON.parse(t)},ep=()=>{try{return pO()||vO()||xO()||wO()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},iC=n=>ep()?.emulatorHosts?.[n],TO=n=>{const t=iC(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),i]:[t.substring(0,e),i]},rC=()=>ep()?.config,sC=n=>ep()?.[`_${n}`];class EO{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}function Lc(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function oC(n){return(await fetch(n,{credentials:"include"})).ok}function SO(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},i=t||"demo-project",r=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[pg(JSON.stringify(e)),pg(JSON.stringify(l)),""].join(".")}const ld={};function AO(){const n={prod:[],emulator:[]};for(const t of Object.keys(ld))ld[t]?n.emulator.push(t):n.prod.push(t);return n}function CO(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let JT=!1;function aC(n,t){if(typeof window>"u"||typeof document>"u"||!Lc(window.location.host)||ld[n]===t||ld[n]||JT)return;ld[n]=t;function e(_){return`__firebase__banner__${_}`}const i="__firebase__banner",o=AO().prod.length>0;function l(){const _=document.getElementById(i);_&&_.remove()}function u(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function d(_,v){_.setAttribute("width","24"),_.setAttribute("id",v),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function f(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{JT=!0,l()},_}function p(_,v){_.setAttribute("id",v),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function y(){const _=CO(i),v=e("text"),S=document.getElementById(v)||document.createElement("span"),A=e("learnmore"),E=document.getElementById(A)||document.createElement("a"),O=e("preprendIcon"),V=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const q=_.element;u(q),p(E,A);const Y=f();d(V,O),q.append(V,S,E,Y),document.body.appendChild(q)}o?(S.innerText="Preview backend disconnected.",V.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(V.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}function ei(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function DO(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ei())}function IO(){const n=ep()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function RO(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function NO(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function MO(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function OO(){const n=ei();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function kO(){return!IO()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function PO(){try{return typeof indexedDB=="object"}catch{return!1}}function zO(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{e=!1},r.onerror=()=>{t(r.error?.message||"")}}catch(e){t(e)}})}const LO="FirebaseError";class eo extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=LO,Object.setPrototypeOf(this,eo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xd.prototype.create)}}class Xd{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},r=`${this.service}/${t}`,o=this.errors[t],l=o?VO(o,i):"Error",u=`${this.serviceName}: ${l} (${r}).`;return new eo(r,u,i)}}function VO(n,t){return n.replace(UO,(e,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const UO=/\{\$([^}]+)}/g;function jO(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function ll(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const r of e){if(!i.includes(r))return!1;const o=n[r],l=t[r];if(tE(o)&&tE(l)){if(!ll(o,l))return!1}else if(o!==l)return!1}for(const r of i)if(!e.includes(r))return!1;return!0}function tE(n){return n!==null&&typeof n=="object"}function Qd(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function Ju(n){const t={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,o]=i.split("=");t[decodeURIComponent(r)]=decodeURIComponent(o)}}),t}function td(n){const t=n.indexOf("?");if(!t)return"";const e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}function BO(n,t){const e=new FO(n,t);return e.subscribe.bind(e)}class FO{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let r;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");HO(t,["next","error","complete"])?r=t:r={next:t,error:e,complete:i},r.next===void 0&&(r.next=Vy),r.error===void 0&&(r.error=Vy),r.complete===void 0&&(r.complete=Vy);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function HO(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function Vy(){}function tn(n){return n&&n._delegate?n._delegate:n}class cl{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Ka="[DEFAULT]";let qO=class{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new EO;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:e});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),i=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(YO(t))try{this.getOrInitializeService({instanceIdentifier:Ka})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(t=Ka){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ka){return this.instances.has(t)}getOptions(t=Ka){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[o,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);i===u&&l.resolve(r)}return r}onInit(t,e){const i=this.normalizeInstanceIdentifier(e),r=this.onInitCallbacks.get(i)??new Set;r.add(t),this.onInitCallbacks.set(i,r);const o=this.instances.get(i);return o&&t(o,i),()=>{r.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const r of i)try{r(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:GO(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Ka){return this.component?this.component.multipleInstances?t:Ka:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function GO(n){return n===Ka?void 0:n}function YO(n){return n.instantiationMode==="EAGER"}class $O{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new qO(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}var ie;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(ie||(ie={}));const WO={debug:ie.DEBUG,verbose:ie.VERBOSE,info:ie.INFO,warn:ie.WARN,error:ie.ERROR,silent:ie.SILENT},XO=ie.INFO,QO={[ie.DEBUG]:"log",[ie.VERBOSE]:"log",[ie.INFO]:"info",[ie.WARN]:"warn",[ie.ERROR]:"error"},KO=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),r=QO[t];if(r)console[r](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Rb{constructor(t){this.name=t,this._logLevel=XO,this._logHandler=KO,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in ie))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?WO[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,ie.DEBUG,...t),this._logHandler(this,ie.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,ie.VERBOSE,...t),this._logHandler(this,ie.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,ie.INFO,...t),this._logHandler(this,ie.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,ie.WARN,...t),this._logHandler(this,ie.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,ie.ERROR,...t),this._logHandler(this,ie.ERROR,...t)}}const ZO=(n,t)=>t.some(e=>n instanceof e);let eE,nE;function JO(){return eE||(eE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tk(){return nE||(nE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const lC=new WeakMap,S0=new WeakMap,cC=new WeakMap,Uy=new WeakMap,Nb=new WeakMap;function ek(n){const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",l)},o=()=>{e(Go(n.result)),r()},l=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",l)});return t.then(e=>{e instanceof IDBCursor&&lC.set(e,n)}).catch(()=>{}),Nb.set(t,n),t}function nk(n){if(S0.has(n))return;const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",l),n.removeEventListener("abort",l)},o=()=>{e(),r()},l=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",l),n.addEventListener("abort",l)});S0.set(n,t)}let A0={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return S0.get(n);if(t==="objectStoreNames")return n.objectStoreNames||cC.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Go(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function ik(n){A0=n(A0)}function rk(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(jy(this),t,...e);return cC.set(i,t.sort?t.sort():[t]),Go(i)}:tk().includes(n)?function(...t){return n.apply(jy(this),t),Go(lC.get(this))}:function(...t){return Go(n.apply(jy(this),t))}}function sk(n){return typeof n=="function"?rk(n):(n instanceof IDBTransaction&&nk(n),ZO(n,JO())?new Proxy(n,A0):n)}function Go(n){if(n instanceof IDBRequest)return ek(n);if(Uy.has(n))return Uy.get(n);const t=sk(n);return t!==n&&(Uy.set(n,t),Nb.set(t,n)),t}const jy=n=>Nb.get(n);function ok(n,t,{blocked:e,upgrade:i,blocking:r,terminated:o}={}){const l=indexedDB.open(n,t),u=Go(l);return i&&l.addEventListener("upgradeneeded",d=>{i(Go(l.result),d.oldVersion,d.newVersion,Go(l.transaction),d)}),e&&l.addEventListener("blocked",d=>e(d.oldVersion,d.newVersion,d)),u.then(d=>{o&&d.addEventListener("close",()=>o()),r&&d.addEventListener("versionchange",f=>r(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const ak=["get","getKey","getAll","getAllKeys","count"],lk=["put","add","delete","clear"],By=new Map;function iE(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(By.get(t))return By.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,r=lk.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(r||ak.includes(e)))return;const o=async function(l,...u){const d=this.transaction(l,r?"readwrite":"readonly");let f=d.store;return i&&(f=f.index(u.shift())),(await Promise.all([f[e](...u),r&&d.done]))[0]};return By.set(t,o),o}ik(n=>({...n,get:(t,e,i)=>iE(t,e)||n.get(t,e,i),has:(t,e)=>!!iE(t,e)||n.has(t,e)}));class ck{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(uk(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function uk(n){return n.getComponent()?.type==="VERSION"}const C0="@firebase/app",rE="0.14.6";const Xs=new Rb("@firebase/app"),dk="@firebase/app-compat",hk="@firebase/analytics-compat",fk="@firebase/analytics",gk="@firebase/app-check-compat",pk="@firebase/app-check",mk="@firebase/auth",yk="@firebase/auth-compat",bk="@firebase/database",_k="@firebase/data-connect",vk="@firebase/database-compat",xk="@firebase/functions",wk="@firebase/functions-compat",Tk="@firebase/installations",Ek="@firebase/installations-compat",Sk="@firebase/messaging",Ak="@firebase/messaging-compat",Ck="@firebase/performance",Dk="@firebase/performance-compat",Ik="@firebase/remote-config",Rk="@firebase/remote-config-compat",Nk="@firebase/storage",Mk="@firebase/storage-compat",Ok="@firebase/firestore",kk="@firebase/ai",Pk="@firebase/firestore-compat",zk="firebase",Lk="12.6.0";const D0="[DEFAULT]",Vk={[C0]:"fire-core",[dk]:"fire-core-compat",[fk]:"fire-analytics",[hk]:"fire-analytics-compat",[pk]:"fire-app-check",[gk]:"fire-app-check-compat",[mk]:"fire-auth",[yk]:"fire-auth-compat",[bk]:"fire-rtdb",[_k]:"fire-data-connect",[vk]:"fire-rtdb-compat",[xk]:"fire-fn",[wk]:"fire-fn-compat",[Tk]:"fire-iid",[Ek]:"fire-iid-compat",[Sk]:"fire-fcm",[Ak]:"fire-fcm-compat",[Ck]:"fire-perf",[Dk]:"fire-perf-compat",[Ik]:"fire-rc",[Rk]:"fire-rc-compat",[Nk]:"fire-gcs",[Mk]:"fire-gcs-compat",[Ok]:"fire-fst",[Pk]:"fire-fst-compat",[kk]:"fire-vertex","fire-js":"fire-js",[zk]:"fire-js-all"};const mg=new Map,Uk=new Map,I0=new Map;function sE(n,t){try{n.container.addComponent(t)}catch(e){Xs.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function wc(n){const t=n.name;if(I0.has(t))return Xs.debug(`There were multiple attempts to register component ${t}.`),!1;I0.set(t,n);for(const e of mg.values())sE(e,n);for(const e of Uk.values())sE(e,n);return!0}function Mb(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function Bi(n){return n==null?!1:n.settings!==void 0}const jk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Yo=new Xd("app","Firebase",jk);class Bk{constructor(t,e,i){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new cl("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Yo.create("app-deleted",{appName:this._name})}}const Vc=Lk;function uC(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const i={name:D0,automaticDataCollectionEnabled:!0,...t},r=i.name;if(typeof r!="string"||!r)throw Yo.create("bad-app-name",{appName:String(r)});if(e||(e=rC()),!e)throw Yo.create("no-options");const o=mg.get(r);if(o){if(ll(e,o.options)&&ll(i,o.config))return o;throw Yo.create("duplicate-app",{appName:r})}const l=new $O(r);for(const d of I0.values())l.addComponent(d);const u=new Bk(e,i,l);return mg.set(r,u),u}function dC(n=D0){const t=mg.get(n);if(!t&&n===D0&&rC())return uC();if(!t)throw Yo.create("no-app",{appName:n});return t}function $o(n,t,e){let i=Vk[n]??n;e&&(i+=`-${e}`);const r=i.match(/\s|\//),o=t.match(/\s|\//);if(r||o){const l=[`Unable to register library "${i}" with version "${t}":`];r&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&o&&l.push("and"),o&&l.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Xs.warn(l.join(" "));return}wc(new cl(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}const Fk="firebase-heartbeat-database",Hk=1,Ed="firebase-heartbeat-store";let Fy=null;function hC(){return Fy||(Fy=ok(Fk,Hk,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Ed)}catch(e){console.warn(e)}}}}).catch(n=>{throw Yo.create("idb-open",{originalErrorMessage:n.message})})),Fy}async function qk(n){try{const e=(await hC()).transaction(Ed),i=await e.objectStore(Ed).get(fC(n));return await e.done,i}catch(t){if(t instanceof eo)Xs.warn(t.message);else{const e=Yo.create("idb-get",{originalErrorMessage:t?.message});Xs.warn(e.message)}}}async function oE(n,t){try{const i=(await hC()).transaction(Ed,"readwrite");await i.objectStore(Ed).put(t,fC(n)),await i.done}catch(e){if(e instanceof eo)Xs.warn(e.message);else{const i=Yo.create("idb-set",{originalErrorMessage:e?.message});Xs.warn(i.message)}}}function fC(n){return`${n.name}!${n.options.appId}`}const Gk=1024,Yk=30;class $k{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new Xk(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=aE();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(r=>r.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:e}),this._heartbeatsCache.heartbeats.length>Yk){const r=Qk(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(r,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Xs.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=aE(),{heartbeatsToSend:e,unsentEntries:i}=Wk(this._heartbeatsCache.heartbeats),r=pg(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(t){return Xs.warn(t),""}}}function aE(){return new Date().toISOString().substring(0,10)}function Wk(n,t=Gk){const e=[];let i=n.slice();for(const r of n){const o=e.find(l=>l.agent===r.agent);if(o){if(o.dates.push(r.date),lE(e)>t){o.dates.pop();break}}else if(e.push({agent:r.agent,dates:[r.date]}),lE(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class Xk{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return PO()?zO().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await qk(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return oE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return oE(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function lE(n){return pg(JSON.stringify({version:2,heartbeats:n})).length}function Qk(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}function Kk(n){wc(new cl("platform-logger",t=>new ck(t),"PRIVATE")),wc(new cl("heartbeat",t=>new $k(t),"PRIVATE")),$o(C0,rE,n),$o(C0,rE,"esm2020"),$o("fire-js","")}Kk("");function gC(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Zk=gC,pC=new Xd("auth","Firebase",gC());const yg=new Rb("@firebase/auth");function Jk(n,...t){yg.logLevel<=ie.WARN&&yg.warn(`Auth (${Vc}): ${n}`,...t)}function ng(n,...t){yg.logLevel<=ie.ERROR&&yg.error(`Auth (${Vc}): ${n}`,...t)}function Ur(n,...t){throw Ob(n,...t)}function us(n,...t){return Ob(n,...t)}function mC(n,t,e){const i={...Zk(),[t]:e};return new Xd("auth","Firebase",i).create(t,{appName:n.name})}function ds(n){return mC(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ob(n,...t){if(typeof n!="string"){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return pC.create(n,...t)}function zt(n,t,...e){if(!n)throw Ob(t,...e)}function $s(n){const t="INTERNAL ASSERTION FAILED: "+n;throw ng(t),new Error(t)}function Qs(n,t){n||$s(t)}function R0(){return typeof self<"u"&&self.location?.href||""}function tP(){return cE()==="http:"||cE()==="https:"}function cE(){return typeof self<"u"&&self.location?.protocol||null}function eP(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(tP()||NO()||"connection"in navigator)?navigator.onLine:!0}function nP(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class Kd{constructor(t,e){this.shortDelay=t,this.longDelay=e,Qs(e>t,"Short delay should be less than long delay!"),this.isMobile=DO()||MO()}get(){return eP()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function kb(n,t){Qs(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}class yC{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;$s("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;$s("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;$s("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const iP={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const rP=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],sP=new Kd(3e4,6e4);function ua(n,t){return n.tenantId&&!t.tenantId?{...t,tenantId:n.tenantId}:t}async function no(n,t,e,i,r={}){return bC(n,r,async()=>{let o={},l={};i&&(t==="GET"?l=i:o={body:JSON.stringify(i)});const u=Qd({key:n.config.apiKey,...l}).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const f={method:t,headers:d,...o};return RO()||(f.referrerPolicy="no-referrer"),n.emulatorConfig&&Lc(n.emulatorConfig.host)&&(f.credentials="include"),yC.fetch()(await _C(n,n.config.apiHost,e,u),f)})}async function bC(n,t,e){n._canInitEmulator=!1;const i={...iP,...t};try{const r=new aP(n),o=await Promise.race([e(),r.promise]);r.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw Nf(n,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const u=o.ok?l.errorMessage:l.error.message,[d,f]=u.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Nf(n,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw Nf(n,"email-already-in-use",l);if(d==="USER_DISABLED")throw Nf(n,"user-disabled",l);const p=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw mC(n,p,f);Ur(n,p)}}catch(r){if(r instanceof eo)throw r;Ur(n,"network-request-failed",{message:String(r)})}}async function Zd(n,t,e,i,r={}){const o=await no(n,t,e,i,r);return"mfaPendingCredential"in o&&Ur(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function _C(n,t,e,i){const r=`${t}${e}?${i}`,o=n,l=o.config.emulator?kb(n.config,r):`${n.config.apiScheme}://${r}`;return rP.includes(e)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(l).toString():l}function oP(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class aP{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(us(this.auth,"network-request-failed")),sP.get())})}}function Nf(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const r=us(n,t,i);return r.customData._tokenResponse=e,r}function uE(n){return n!==void 0&&n.enterprise!==void 0}class lP{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return oP(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function cP(n,t){return no(n,"GET","/v2/recaptchaConfig",ua(n,t))}async function uP(n,t){return no(n,"POST","/v1/accounts:delete",t)}async function bg(n,t){return no(n,"POST","/v1/accounts:lookup",t)}function cd(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function dP(n,t=!1){const e=tn(n),i=await e.getIdToken(t),r=Pb(i);zt(r&&r.exp&&r.auth_time&&r.iat,e.auth,"internal-error");const o=typeof r.firebase=="object"?r.firebase:void 0,l=o?.sign_in_provider;return{claims:r,token:i,authTime:cd(Hy(r.auth_time)),issuedAtTime:cd(Hy(r.iat)),expirationTime:cd(Hy(r.exp)),signInProvider:l||null,signInSecondFactor:o?.sign_in_second_factor||null}}function Hy(n){return Number(n)*1e3}function Pb(n){const[t,e,i]=n.split(".");if(t===void 0||e===void 0||i===void 0)return ng("JWT malformed, contained fewer than 3 sections"),null;try{const r=nC(e);return r?JSON.parse(r):(ng("Failed to decode base64 JWT payload"),null)}catch(r){return ng("Caught error parsing JWT payload as JSON",r?.toString()),null}}function dE(n){const t=Pb(n);return zt(t,"internal-error"),zt(typeof t.exp<"u","internal-error"),zt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Tc(n,t,e=!1){if(e)return t;try{return await t}catch(i){throw i instanceof eo&&hP(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function hP({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class fP{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class N0{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=cd(this.lastLoginAt),this.creationTime=cd(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function _g(n){const t=n.auth,e=await n.getIdToken(),i=await Tc(n,bg(t,{idToken:e}));zt(i?.users.length,t,"internal-error");const r=i.users[0];n._notifyReloadListener(r);const o=r.providerUserInfo?.length?vC(r.providerUserInfo):[],l=pP(n.providerData,o),u=n.isAnonymous,d=!(n.email&&r.passwordHash)&&!l?.length,f=u?d:!1,p={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:l,metadata:new N0(r.createdAt,r.lastLoginAt),isAnonymous:f};Object.assign(n,p)}async function gP(n){const t=tn(n);await _g(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function pP(n,t){return[...n.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function vC(n){return n.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}async function mP(n,t){const e=await bC(n,{},async()=>{const i=Qd({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:o}=n.config,l=await _C(n,r,"/v1/token",`key=${o}`),u=await n._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:u,body:i};return n.emulatorConfig&&Lc(n.emulatorConfig.host)&&(d.credentials="include"),yC.fetch()(l,d)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function yP(n,t){return no(n,"POST","/v2/accounts:revokeToken",ua(n,t))}class mc{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){zt(t.idToken,"internal-error"),zt(typeof t.idToken<"u","internal-error"),zt(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):dE(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){zt(t.length!==0,"internal-error");const e=dE(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(zt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:i,refreshToken:r,expiresIn:o}=await mP(t,e);this.updateTokensAndExpiration(i,r,Number(o))}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,e){const{refreshToken:i,accessToken:r,expirationTime:o}=e,l=new mc;return i&&(zt(typeof i=="string","internal-error",{appName:t}),l.refreshToken=i),r&&(zt(typeof r=="string","internal-error",{appName:t}),l.accessToken=r),o&&(zt(typeof o=="number","internal-error",{appName:t}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new mc,this.toJSON())}_performRefresh(){return $s("not implemented")}}function Po(n,t){zt(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class Pr{constructor({uid:t,auth:e,stsTokenManager:i,...r}){this.providerId="firebase",this.proactiveRefresh=new fP(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new N0(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(t){const e=await Tc(this,this.stsTokenManager.getToken(this.auth,t));return zt(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return dP(this,t)}reload(){return gP(this)}_assign(t){this!==t&&(zt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new Pr({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){zt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&await _g(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Bi(this.auth.app))return Promise.reject(ds(this.auth));const t=await this.getIdToken();return await Tc(this,uP(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const i=e.displayName??void 0,r=e.email??void 0,o=e.phoneNumber??void 0,l=e.photoURL??void 0,u=e.tenantId??void 0,d=e._redirectEventId??void 0,f=e.createdAt??void 0,p=e.lastLoginAt??void 0,{uid:y,emailVerified:_,isAnonymous:v,providerData:S,stsTokenManager:A}=e;zt(y&&A,t,"internal-error");const E=mc.fromJSON(this.name,A);zt(typeof y=="string",t,"internal-error"),Po(i,t.name),Po(r,t.name),zt(typeof _=="boolean",t,"internal-error"),zt(typeof v=="boolean",t,"internal-error"),Po(o,t.name),Po(l,t.name),Po(u,t.name),Po(d,t.name),Po(f,t.name),Po(p,t.name);const O=new Pr({uid:y,auth:t,email:r,emailVerified:_,displayName:i,isAnonymous:v,photoURL:l,phoneNumber:o,tenantId:u,stsTokenManager:E,createdAt:f,lastLoginAt:p});return S&&Array.isArray(S)&&(O.providerData=S.map(V=>({...V}))),d&&(O._redirectEventId=d),O}static async _fromIdTokenResponse(t,e,i=!1){const r=new mc;r.updateFromServerResponse(e);const o=new Pr({uid:e.localId,auth:t,stsTokenManager:r,isAnonymous:i});return await _g(o),o}static async _fromGetAccountInfoResponse(t,e,i){const r=e.users[0];zt(r.localId!==void 0,"internal-error");const o=r.providerUserInfo!==void 0?vC(r.providerUserInfo):[],l=!(r.email&&r.passwordHash)&&!o?.length,u=new mc;u.updateFromIdToken(i);const d=new Pr({uid:r.localId,auth:t,stsTokenManager:u,isAnonymous:l}),f={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new N0(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!o?.length};return Object.assign(d,f),d}}const hE=new Map;function Ws(n){Qs(n instanceof Function,"Expected a class definition");let t=hE.get(n);return t?(Qs(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,hE.set(n,t),t)}class xC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}xC.type="NONE";const fE=xC;function ig(n,t,e){return`firebase:${n}:${t}:${e}`}class yc{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:r,name:o}=this.auth;this.fullUserKey=ig(this.userKey,r.apiKey,o),this.fullPersistenceKey=ig("persistence",r.apiKey,o),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await bg(this.auth,{idToken:t}).catch(()=>{});return e?Pr._fromGetAccountInfoResponse(this.auth,e,t):null}return Pr._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,i="authUser"){if(!e.length)return new yc(Ws(fE),t,i);const r=(await Promise.all(e.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=r[0]||Ws(fE);const l=ig(i,t.config.apiKey,t.name);let u=null;for(const f of e)try{const p=await f._get(l);if(p){let y;if(typeof p=="string"){const _=await bg(t,{idToken:p}).catch(()=>{});if(!_)break;y=await Pr._fromGetAccountInfoResponse(t,_,p)}else y=Pr._fromJSON(t,p);f!==o&&(u=y),o=f;break}}catch{}const d=r.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new yc(o,t,i):(o=d[0],u&&await o._set(l,u.toJSON()),await Promise.all(e.map(async f=>{if(f!==o)try{await f._remove(l)}catch{}})),new yc(o,t,i))}}function gE(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(SC(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(wC(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(CC(t))return"Blackberry";if(DC(t))return"Webos";if(TC(t))return"Safari";if((t.includes("chrome/")||EC(t))&&!t.includes("edge/"))return"Chrome";if(AC(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(e);if(i?.length===2)return i[1]}return"Other"}function wC(n=ei()){return/firefox\//i.test(n)}function TC(n=ei()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function EC(n=ei()){return/crios\//i.test(n)}function SC(n=ei()){return/iemobile/i.test(n)}function AC(n=ei()){return/android/i.test(n)}function CC(n=ei()){return/blackberry/i.test(n)}function DC(n=ei()){return/webos/i.test(n)}function zb(n=ei()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function bP(n=ei()){return zb(n)&&!!window.navigator?.standalone}function _P(){return OO()&&document.documentMode===10}function IC(n=ei()){return zb(n)||AC(n)||DC(n)||CC(n)||/windows phone/i.test(n)||SC(n)}function RC(n,t=[]){let e;switch(n){case"Browser":e=gE(ei());break;case"Worker":e=`${gE(ei())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Vc}/${i}`}class vP{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=o=>new Promise((l,u)=>{try{const d=t(o);l(d)}catch(d){u(d)}});i.onAbort=e,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const i of this.queue)await i(t),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(const r of e)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function xP(n,t={}){return no(n,"GET","/v2/passwordPolicy",ua(n,t))}const wP=6;class TP{constructor(t){const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??wP,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),r&&(e.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let i;for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}class EP{constructor(t,e,i,r){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new pE(this),this.idTokenSubscription=new pE(this),this.beforeStateQueue=new vP(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=pC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Ws(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await yc.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await bg(this,{idToken:t}),i=await Pr._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Bi(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let i=e,r=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,l=i?._redirectEventId,u=await this.tryRedirectSignIn(t);(!o||o===l)&&u?.user&&(i=u.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return zt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await _g(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=nP()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Bi(this.app))return Promise.reject(ds(this));const e=t?tn(t):null;return e&&zt(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&zt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Bi(this.app)?Promise.reject(ds(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Bi(this.app)?Promise.reject(ds(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ws(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await xP(this),e=new TP(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new Xd("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(i.tenantId=this.tenantId),await yP(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){const i=await this.getOrInitRedirectPersistenceManager(e);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&Ws(t)||this._popupRedirectResolver;zt(e,this,"argument-error"),this.redirectPersistenceManager=await yc.create(this,[Ws(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,r){if(this._deleted)return()=>{};const o=typeof e=="function"?e:e.next.bind(e);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(zt(u,this,"internal-error"),u.then(()=>{l||o(this.currentUser)}),typeof e=="function"){const d=t.addObserver(e,i,r);return()=>{l=!0,d()}}else{const d=t.addObserver(e);return()=>{l=!0,d()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return zt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=RC(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){if(Bi(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&Jk(`Error while retrieving App Check token: ${t.error}`),t?.token}}function da(n){return tn(n)}class pE{constructor(t){this.auth=t,this.observer=null,this.addObserver=BO(e=>this.observer=e)}get next(){return zt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let np={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function SP(n){np=n}function NC(n){return np.loadJS(n)}function AP(){return np.recaptchaEnterpriseScript}function CP(){return np.gapiScript}function DP(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class IP{constructor(){this.enterprise=new RP}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class RP{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const NP="recaptcha-enterprise",MC="NO_RECAPTCHA";class MP{constructor(t){this.type=NP,this.auth=da(t)}async verify(t="verify",e=!1){async function i(o){if(!e){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,u)=>{cP(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const f=new lP(d);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,l(f.siteKey)}}).catch(d=>{u(d)})})}function r(o,l,u){const d=window.grecaptcha;uE(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:t}).then(f=>{l(f)}).catch(()=>{l(MC)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new IP().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{i(this.auth).then(u=>{if(!e&&uE(window.grecaptcha))r(u,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=AP();d.length!==0&&(d+=u),NC(d).then(()=>{r(u,o,l)}).catch(f=>{l(f)})}}).catch(u=>{l(u)})})}}async function mE(n,t,e,i=!1,r=!1){const o=new MP(n);let l;if(r)l=MC;else try{l=await o.verify(e)}catch{l=await o.verify(e,!0)}const u={...t};if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const d=u.phoneEnrollmentInfo.phoneNumber,f=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const d=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return i?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function M0(n,t,e,i,r){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await mE(n,t,e,e==="getOobCode");return i(n,o)}else return i(n,t).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await mE(n,t,e,e==="getOobCode");return i(n,l)}else return Promise.reject(o)})}function OP(n,t){const e=Mb(n,"auth");if(e.isInitialized()){const r=e.getImmediate(),o=e.getOptions();if(ll(o,t??{}))return r;Ur(r,"already-initialized")}return e.initialize({options:t})}function kP(n,t){const e=t?.persistence||[],i=(Array.isArray(e)?e:[e]).map(Ws);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t?.popupRedirectResolver)}function PP(n,t,e){const i=da(n);zt(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!1,o=OC(t),{host:l,port:u}=zP(t),d=u===null?"":`:${u}`,f={url:`${o}//${l}${d}/`},p=Object.freeze({host:l,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){zt(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),zt(ll(f,i.config.emulator)&&ll(p,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=f,i.emulatorConfig=p,i.settings.appVerificationDisabledForTesting=!0,Lc(l)?(oC(`${o}//${l}${d}`),aC("Auth",!0)):LP()}function OC(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function zP(n){const t=OC(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const i=e[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const o=r[1];return{host:o,port:yE(i.substr(o.length+1))}}else{const[o,l]=i.split(":");return{host:o,port:yE(l)}}}function yE(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function LP(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class Lb{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return $s("not implemented")}_getIdTokenResponse(t){return $s("not implemented")}_linkToIdToken(t,e){return $s("not implemented")}_getReauthenticationResolver(t){return $s("not implemented")}}async function VP(n,t){return no(n,"POST","/v1/accounts:signUp",t)}async function UP(n,t){return Zd(n,"POST","/v1/accounts:signInWithPassword",ua(n,t))}async function jP(n,t){return Zd(n,"POST","/v1/accounts:signInWithEmailLink",ua(n,t))}async function BP(n,t){return Zd(n,"POST","/v1/accounts:signInWithEmailLink",ua(n,t))}class Sd extends Lb{constructor(t,e,i,r=null){super("password",i),this._email=t,this._password=e,this._tenantId=r}static _fromEmailAndPassword(t,e){return new Sd(t,e,"password")}static _fromEmailAndCode(t,e,i=null){return new Sd(t,e,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e?.email&&e?.password){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return M0(t,e,"signInWithPassword",UP);case"emailLink":return jP(t,{email:this._email,oobCode:this._password});default:Ur(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const i={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return M0(t,i,"signUpPassword",VP);case"emailLink":return BP(t,{idToken:e,email:this._email,oobCode:this._password});default:Ur(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function bc(n,t){return Zd(n,"POST","/v1/accounts:signInWithIdp",ua(n,t))}const FP="http://localhost";class ul extends Lb{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new ul(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Ur("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:r,...o}=e;if(!i||!r)return null;const l=new ul(i,r);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(t){const e=this.buildRequest();return bc(t,e)}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,bc(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,bc(t,e)}buildRequest(){const t={requestUri:FP,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=Qd(e)}return t}}function HP(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function qP(n){const t=Ju(td(n)).link,e=t?Ju(td(t)).deep_link_id:null,i=Ju(td(n)).deep_link_id;return(i?Ju(td(i)).link:null)||i||e||t||n}class Vb{constructor(t){const e=Ju(td(t)),i=e.apiKey??null,r=e.oobCode??null,o=HP(e.mode??null);zt(i&&r&&o,"argument-error"),this.apiKey=i,this.operation=o,this.code=r,this.continueUrl=e.continueUrl??null,this.languageCode=e.lang??null,this.tenantId=e.tenantId??null}static parseLink(t){const e=qP(t);try{return new Vb(e)}catch{return null}}}class Uc{constructor(){this.providerId=Uc.PROVIDER_ID}static credential(t,e){return Sd._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const i=Vb.parseLink(e);return zt(i,"argument-error"),Sd._fromEmailAndCode(t,i.code,i.tenantId)}}Uc.PROVIDER_ID="password";Uc.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Uc.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class kC{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class Jd extends kC{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Lo extends Jd{constructor(){super("facebook.com")}static credential(t){return ul._fromParams({providerId:Lo.PROVIDER_ID,signInMethod:Lo.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Lo.credentialFromTaggedObject(t)}static credentialFromError(t){return Lo.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Lo.credential(t.oauthAccessToken)}catch{return null}}}Lo.FACEBOOK_SIGN_IN_METHOD="facebook.com";Lo.PROVIDER_ID="facebook.com";class Vo extends Jd{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return ul._fromParams({providerId:Vo.PROVIDER_ID,signInMethod:Vo.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return Vo.credentialFromTaggedObject(t)}static credentialFromError(t){return Vo.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:i}=t;if(!e&&!i)return null;try{return Vo.credential(e,i)}catch{return null}}}Vo.GOOGLE_SIGN_IN_METHOD="google.com";Vo.PROVIDER_ID="google.com";class Uo extends Jd{constructor(){super("github.com")}static credential(t){return ul._fromParams({providerId:Uo.PROVIDER_ID,signInMethod:Uo.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Uo.credentialFromTaggedObject(t)}static credentialFromError(t){return Uo.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Uo.credential(t.oauthAccessToken)}catch{return null}}}Uo.GITHUB_SIGN_IN_METHOD="github.com";Uo.PROVIDER_ID="github.com";class jo extends Jd{constructor(){super("twitter.com")}static credential(t,e){return ul._fromParams({providerId:jo.PROVIDER_ID,signInMethod:jo.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return jo.credentialFromTaggedObject(t)}static credentialFromError(t){return jo.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:i}=t;if(!e||!i)return null;try{return jo.credential(e,i)}catch{return null}}}jo.TWITTER_SIGN_IN_METHOD="twitter.com";jo.PROVIDER_ID="twitter.com";async function PC(n,t){return Zd(n,"POST","/v1/accounts:signUp",ua(n,t))}class Ks{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,i,r=!1){const o=await Pr._fromIdTokenResponse(t,i,r),l=bE(i);return new Ks({user:o,providerId:l,_tokenResponse:i,operationType:e})}static async _forOperation(t,e,i){await t._updateTokensIfNecessary(i,!0);const r=bE(i);return new Ks({user:t,providerId:r,_tokenResponse:i,operationType:e})}}function bE(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}async function GP(n){if(Bi(n.app))return Promise.reject(ds(n));const t=da(n);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new Ks({user:t.currentUser,providerId:null,operationType:"signIn"});const e=await PC(t,{returnSecureToken:!0}),i=await Ks._fromIdTokenResponse(t,"signIn",e,!0);return await t._updateCurrentUser(i.user),i}class vg extends eo{constructor(t,e,i,r){super(e.code,e.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,vg.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,r){return new vg(t,e,i,r)}}function zC(n,t,e,i){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?vg._fromErrorAndOperation(n,o,t,i):o})}async function YP(n,t,e=!1){const i=await Tc(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return Ks._forOperation(n,"link",i)}async function $P(n,t,e=!1){const{auth:i}=n;if(Bi(i.app))return Promise.reject(ds(i));const r="reauthenticate";try{const o=await Tc(n,zC(i,r,t,n),e);zt(o.idToken,i,"internal-error");const l=Pb(o.idToken);zt(l,i,"internal-error");const{sub:u}=l;return zt(n.uid===u,i,"user-mismatch"),Ks._forOperation(n,r,o)}catch(o){throw o?.code==="auth/user-not-found"&&Ur(i,"user-mismatch"),o}}async function LC(n,t,e=!1){if(Bi(n.app))return Promise.reject(ds(n));const i="signIn",r=await zC(n,i,t),o=await Ks._fromIdTokenResponse(n,i,r);return e||await n._updateCurrentUser(o.user),o}async function WP(n,t){return LC(da(n),t)}async function VC(n){const t=da(n);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function XP(n,t,e){if(Bi(n.app))return Promise.reject(ds(n));const i=da(n),l=await M0(i,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",PC).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&VC(n),d}),u=await Ks._fromIdTokenResponse(i,"signIn",l);return await i._updateCurrentUser(u.user),u}function QP(n,t,e){return Bi(n.app)?Promise.reject(ds(n)):WP(tn(n),Uc.credential(t,e)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&VC(n),i})}async function KP(n,t){return no(n,"POST","/v1/accounts:update",t)}async function qy(n,{displayName:t,photoURL:e}){if(t===void 0&&e===void 0)return;const i=tn(n),o={idToken:await i.getIdToken(),displayName:t,photoUrl:e,returnSecureToken:!0},l=await Tc(i,KP(i.auth,o));i.displayName=l.displayName||null,i.photoURL=l.photoUrl||null;const u=i.providerData.find(({providerId:d})=>d==="password");u&&(u.displayName=i.displayName,u.photoURL=i.photoURL),await i._updateTokensIfNecessary(l)}function ZP(n,t,e,i){return tn(n).onIdTokenChanged(t,e,i)}function JP(n,t,e){return tn(n).beforeAuthStateChanged(t,e)}function tz(n,t,e,i){return tn(n).onAuthStateChanged(t,e,i)}function ez(n){return tn(n).signOut()}const xg="__sak";class UC{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(xg,"1"),this.storage.removeItem(xg),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const nz=1e3,iz=10;class jC extends UC{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=IC(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const i=this.storage.getItem(e),r=this.localCache[e];i!==r&&t(e,r,i)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((l,u,d)=>{this.notifyListeners(l,d)});return}const i=t.key;e?this.detachListener():this.stopPolling();const r=()=>{const l=this.storage.getItem(i);!e&&this.localCache[i]===l||this.notifyListeners(i,l)},o=this.storage.getItem(i);_P()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,iz):r()}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:i}),!0)})},nz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}jC.type="LOCAL";const rz=jC;class BC extends UC{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}BC.type="SESSION";const FC=BC;function sz(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}class ip{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(r=>r.isListeningto(t));if(e)return e;const i=new ip(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:i,eventType:r,data:o}=e.data,l=this.handlersMap[r];if(!l?.size)return;e.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const u=Array.from(l).map(async f=>f(e.origin,o)),d=await sz(u);e.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:d})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ip.receivers=[];function Ub(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(Math.random()*10);return n+e}class oz{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,l;return new Promise((u,d)=>{const f=Ub("",20);r.port1.start();const p=setTimeout(()=>{d(new Error("unsupported_event"))},i);l={messageChannel:r,onMessage(y){const _=y;if(_.data.eventId===f)switch(_.data.status){case"ack":clearTimeout(p),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(_.data.response);break;default:clearTimeout(p),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(l),r.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:t,eventId:f,data:e},[r.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}function hs(){return window}function az(n){hs().location.href=n}function HC(){return typeof hs().WorkerGlobalScope<"u"&&typeof hs().importScripts=="function"}async function lz(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function cz(){return navigator?.serviceWorker?.controller||null}function uz(){return HC()?self:null}const qC="firebaseLocalStorageDb",dz=1,wg="firebaseLocalStorage",GC="fbase_key";class th{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function rp(n,t){return n.transaction([wg],t?"readwrite":"readonly").objectStore(wg)}function hz(){const n=indexedDB.deleteDatabase(qC);return new th(n).toPromise()}function O0(){const n=indexedDB.open(qC,dz);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(wg,{keyPath:GC})}catch(r){e(r)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(wg)?t(i):(i.close(),await hz(),t(await O0()))})})}async function _E(n,t,e){const i=rp(n,!0).put({[GC]:t,value:e});return new th(i).toPromise()}async function fz(n,t){const e=rp(n,!1).get(t),i=await new th(e).toPromise();return i===void 0?null:i.value}function vE(n,t){const e=rp(n,!0).delete(t);return new th(e).toPromise()}const gz=800,pz=3;class YC{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await O0(),this.db)}async _withRetries(t){let e=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(e++>pz)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return HC()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ip._getInstance(uz()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await lz(),!this.activeServiceWorker)return;this.sender=new oz(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||cz()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await O0();return await _E(t,xg,"1"),await vE(t,xg),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(i=>_E(i,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(i=>fz(i,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>vE(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(r=>{const o=rp(r,!1).getAll();return new th(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],i=new Set;if(t.length!==0)for(const{fbase_key:r,value:o}of t)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),e.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),e.push(r));return e}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),gz)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}YC.type="LOCAL";const mz=YC;new Kd(3e4,6e4);function yz(n,t){return t?Ws(t):(zt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class jb extends Lb{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return bc(t,this._buildIdpRequest())}_linkToIdToken(t,e){return bc(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return bc(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function bz(n){return LC(n.auth,new jb(n),n.bypassAuthState)}function _z(n){const{auth:t,user:e}=n;return zt(e,t,"internal-error"),$P(e,new jb(n),n.bypassAuthState)}async function vz(n){const{auth:t,user:e}=n;return zt(e,t,"internal-error"),YP(e,new jb(n),n.bypassAuthState)}class $C{constructor(t,e,i,r,o=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:i,postBody:r,tenantId:o,error:l,type:u}=t;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:e,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(d))}catch(f){this.reject(f)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return bz;case"linkViaPopup":case"linkViaRedirect":return vz;case"reauthViaPopup":case"reauthViaRedirect":return _z;default:Ur(this.auth,"internal-error")}}resolve(t){Qs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Qs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const xz=new Kd(2e3,1e4);class gc extends $C{constructor(t,e,i,r,o){super(t,e,r,o),this.provider=i,this.authWindow=null,this.pollId=null,gc.currentPopupAction&&gc.currentPopupAction.cancel(),gc.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return zt(t,this.auth,"internal-error"),t}async onExecution(){Qs(this.filter.length===1,"Popup operations only handle one event");const t=Ub();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(us(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(us(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,gc.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(us(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,xz.get())};t()}}gc.currentPopupAction=null;const wz="pendingRedirect",rg=new Map;class Tz extends $C{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}async execute(){let t=rg.get(this.auth._key());if(!t){try{const i=await Ez(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(e){t=()=>Promise.reject(e)}rg.set(this.auth._key(),t)}return this.bypassAuthState||rg.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Ez(n,t){const e=Cz(t),i=Az(n);if(!await i._isAvailable())return!1;const r=await i._get(e)==="true";return await i._remove(e),r}function Sz(n,t){rg.set(n._key(),t)}function Az(n){return Ws(n._redirectPersistence)}function Cz(n){return ig(wz,n.config.apiKey,n.name)}async function Dz(n,t,e=!1){if(Bi(n.app))return Promise.reject(ds(n));const i=da(n),r=yz(i,t),l=await new Tz(i,r,e).execute();return l&&!e&&(delete l.user._redirectEventId,await i._persistUserIfCurrent(l.user),await i._setRedirectUser(null,t)),l}const Iz=600*1e3;class Rz{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Nz(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!WC(t)){const i=t.error.code?.split("auth/")[1]||"internal-error";e.onError(us(this.auth,i))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Iz&&this.cachedEventUids.clear(),this.cachedEventUids.has(xE(t))}saveEventToCache(t){this.cachedEventUids.add(xE(t)),this.lastProcessedEventTime=Date.now()}}function xE(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function WC({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function Nz(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return WC(n);default:return!1}}async function Mz(n,t={}){return no(n,"GET","/v1/projects",t)}const Oz=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,kz=/^https?/;async function Pz(n){if(n.config.emulator)return;const{authorizedDomains:t}=await Mz(n);for(const e of t)try{if(zz(e))return}catch{}Ur(n,"unauthorized-domain")}function zz(n){const t=R0(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&i===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&l.hostname===i}if(!kz.test(e))return!1;if(Oz.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}const Lz=new Kd(3e4,6e4);function wE(){const n=hs().___jsl;if(n?.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function Vz(n){return new Promise((t,e)=>{function i(){wE(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{wE(),e(us(n,"network-request-failed"))},timeout:Lz.get()})}if(hs().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(hs().gapi?.load)i();else{const r=DP("iframefcb");return hs()[r]=()=>{gapi.load?i():e(us(n,"network-request-failed"))},NC(`${CP()}?onload=${r}`).catch(o=>e(o))}}).catch(t=>{throw sg=null,t})}let sg=null;function Uz(n){return sg=sg||Vz(n),sg}const jz=new Kd(5e3,15e3),Bz="__/auth/iframe",Fz="emulator/auth/iframe",Hz={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},qz=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Gz(n){const t=n.config;zt(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?kb(t,Fz):`https://${n.config.authDomain}/${Bz}`,i={apiKey:t.apiKey,appName:n.name,v:Vc},r=qz.get(n.config.apiHost);r&&(i.eid=r);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${e}?${Qd(i).slice(1)}`}async function Yz(n){const t=await Uz(n),e=hs().gapi;return zt(e,n,"internal-error"),t.open({where:document.body,url:Gz(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Hz,dontclear:!0},i=>new Promise(async(r,o)=>{await i.restyle({setHideOnLeave:!1});const l=us(n,"network-request-failed"),u=hs().setTimeout(()=>{o(l)},jz.get());function d(){hs().clearTimeout(u),r(i)}i.ping(d).then(d,()=>{o(l)})}))}const $z={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Wz=500,Xz=600,Qz="_blank",Kz="http://localhost";class TE{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Zz(n,t,e,i=Wz,r=Xz){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),l=Math.max((window.screen.availWidth-i)/2,0).toString();let u="";const d={...$z,width:i.toString(),height:r.toString(),top:o,left:l},f=ei().toLowerCase();e&&(u=EC(f)?Qz:e),wC(f)&&(t=t||Kz,d.scrollbars="yes");const p=Object.entries(d).reduce((_,[v,S])=>`${_}${v}=${S},`,"");if(bP(f)&&u!=="_self")return Jz(t||"",u),new TE(null);const y=window.open(t||"",u,p);zt(y,n,"popup-blocked");try{y.focus()}catch{}return new TE(y)}function Jz(n,t){const e=document.createElement("a");e.href=n,e.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}const t4="__/auth/handler",e4="emulator/auth/handler",n4=encodeURIComponent("fac");async function EE(n,t,e,i,r,o){zt(n.config.authDomain,n,"auth-domain-config-required"),zt(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:Vc,eventId:r};if(t instanceof kC){t.setDefaultLanguage(n.languageCode),l.providerId=t.providerId||"",jO(t.getCustomParameters())||(l.customParameters=JSON.stringify(t.getCustomParameters()));for(const[p,y]of Object.entries({}))l[p]=y}if(t instanceof Jd){const p=t.getScopes().filter(y=>y!=="");p.length>0&&(l.scopes=p.join(","))}n.tenantId&&(l.tid=n.tenantId);const u=l;for(const p of Object.keys(u))u[p]===void 0&&delete u[p];const d=await n._getAppCheckToken(),f=d?`#${n4}=${encodeURIComponent(d)}`:"";return`${i4(n)}?${Qd(u).slice(1)}${f}`}function i4({config:n}){return n.emulator?kb(n,e4):`https://${n.authDomain}/${t4}`}const Gy="webStorageSupport";class r4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=FC,this._completeRedirectFn=Dz,this._overrideRedirectResult=Sz}async _openPopup(t,e,i,r){Qs(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const o=await EE(t,e,i,R0(),r);return Zz(t,o,Ub())}async _openRedirect(t,e,i,r){await this._originValidation(t);const o=await EE(t,e,i,R0(),r);return az(o),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:r,promise:o}=this.eventManagers[e];return r?Promise.resolve(r):(Qs(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}async initAndGetManager(t){const e=await Yz(t),i=new Rz(t);return e.register("authEvent",r=>(zt(r?.authEvent,t,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Gy,{type:Gy},r=>{const o=r?.[0]?.[Gy];o!==void 0&&e(!!o),Ur(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=Pz(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return IC()||TC()||zb()}}const s4=r4;var SE="@firebase/auth",AE="1.11.1";class o4{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){zt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function a4(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function l4(n){wc(new cl("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=i.options;zt(l&&!l.includes(":"),"invalid-api-key",{appName:i.name});const d={apiKey:l,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:RC(n)},f=new EP(i,r,o,d);return kP(f,e),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),wc(new cl("auth-internal",t=>{const e=da(t.getProvider("auth").getImmediate());return(i=>new o4(i))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),$o(SE,AE,a4(n)),$o(SE,AE,"esm2020")}const c4=300,u4=sC("authIdTokenMaxAge")||c4;let CE=null;const d4=n=>async t=>{const e=t&&await t.getIdTokenResult(),i=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(i&&i>u4)return;const r=e?.token;CE!==r&&(CE=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function h4(n=dC()){const t=Mb(n,"auth");if(t.isInitialized())return t.getImmediate();const e=OP(n,{popupRedirectResolver:s4,persistence:[mz,rz,FC]}),i=sC("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const l=d4(o.toString());JP(e,l,()=>l(e.currentUser)),ZP(e,u=>l(u))}}const r=iC("auth");return r&&PP(e,`http://${r}`),e}function f4(){return document.getElementsByTagName("head")?.[0]??document}SP({loadJS(n){return new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=r=>{const o=us("internal-error");o.customData=r,e(o)},i.type="text/javascript",i.charset="UTF-8",f4().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});l4("Browser");var g4="firebase",p4="12.6.0";$o(g4,p4,"app");var DE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Wo,XC;(function(){var n;function t(M,D){function N(){}N.prototype=D.prototype,M.F=D.prototype,M.prototype=new N,M.prototype.constructor=M,M.D=function(L,z,B){for(var U=Array(arguments.length-2),Ot=2;Ot<arguments.length;Ot++)U[Ot-2]=arguments[Ot];return D.prototype[z].apply(L,U)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(i,e),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(M,D,N){N||(N=0);const L=Array(16);if(typeof D=="string")for(var z=0;z<16;++z)L[z]=D.charCodeAt(N++)|D.charCodeAt(N++)<<8|D.charCodeAt(N++)<<16|D.charCodeAt(N++)<<24;else for(z=0;z<16;++z)L[z]=D[N++]|D[N++]<<8|D[N++]<<16|D[N++]<<24;D=M.g[0],N=M.g[1],z=M.g[2];let B=M.g[3],U;U=D+(B^N&(z^B))+L[0]+3614090360&4294967295,D=N+(U<<7&4294967295|U>>>25),U=B+(z^D&(N^z))+L[1]+3905402710&4294967295,B=D+(U<<12&4294967295|U>>>20),U=z+(N^B&(D^N))+L[2]+606105819&4294967295,z=B+(U<<17&4294967295|U>>>15),U=N+(D^z&(B^D))+L[3]+3250441966&4294967295,N=z+(U<<22&4294967295|U>>>10),U=D+(B^N&(z^B))+L[4]+4118548399&4294967295,D=N+(U<<7&4294967295|U>>>25),U=B+(z^D&(N^z))+L[5]+1200080426&4294967295,B=D+(U<<12&4294967295|U>>>20),U=z+(N^B&(D^N))+L[6]+2821735955&4294967295,z=B+(U<<17&4294967295|U>>>15),U=N+(D^z&(B^D))+L[7]+4249261313&4294967295,N=z+(U<<22&4294967295|U>>>10),U=D+(B^N&(z^B))+L[8]+1770035416&4294967295,D=N+(U<<7&4294967295|U>>>25),U=B+(z^D&(N^z))+L[9]+2336552879&4294967295,B=D+(U<<12&4294967295|U>>>20),U=z+(N^B&(D^N))+L[10]+4294925233&4294967295,z=B+(U<<17&4294967295|U>>>15),U=N+(D^z&(B^D))+L[11]+2304563134&4294967295,N=z+(U<<22&4294967295|U>>>10),U=D+(B^N&(z^B))+L[12]+1804603682&4294967295,D=N+(U<<7&4294967295|U>>>25),U=B+(z^D&(N^z))+L[13]+4254626195&4294967295,B=D+(U<<12&4294967295|U>>>20),U=z+(N^B&(D^N))+L[14]+2792965006&4294967295,z=B+(U<<17&4294967295|U>>>15),U=N+(D^z&(B^D))+L[15]+1236535329&4294967295,N=z+(U<<22&4294967295|U>>>10),U=D+(z^B&(N^z))+L[1]+4129170786&4294967295,D=N+(U<<5&4294967295|U>>>27),U=B+(N^z&(D^N))+L[6]+3225465664&4294967295,B=D+(U<<9&4294967295|U>>>23),U=z+(D^N&(B^D))+L[11]+643717713&4294967295,z=B+(U<<14&4294967295|U>>>18),U=N+(B^D&(z^B))+L[0]+3921069994&4294967295,N=z+(U<<20&4294967295|U>>>12),U=D+(z^B&(N^z))+L[5]+3593408605&4294967295,D=N+(U<<5&4294967295|U>>>27),U=B+(N^z&(D^N))+L[10]+38016083&4294967295,B=D+(U<<9&4294967295|U>>>23),U=z+(D^N&(B^D))+L[15]+3634488961&4294967295,z=B+(U<<14&4294967295|U>>>18),U=N+(B^D&(z^B))+L[4]+3889429448&4294967295,N=z+(U<<20&4294967295|U>>>12),U=D+(z^B&(N^z))+L[9]+568446438&4294967295,D=N+(U<<5&4294967295|U>>>27),U=B+(N^z&(D^N))+L[14]+3275163606&4294967295,B=D+(U<<9&4294967295|U>>>23),U=z+(D^N&(B^D))+L[3]+4107603335&4294967295,z=B+(U<<14&4294967295|U>>>18),U=N+(B^D&(z^B))+L[8]+1163531501&4294967295,N=z+(U<<20&4294967295|U>>>12),U=D+(z^B&(N^z))+L[13]+2850285829&4294967295,D=N+(U<<5&4294967295|U>>>27),U=B+(N^z&(D^N))+L[2]+4243563512&4294967295,B=D+(U<<9&4294967295|U>>>23),U=z+(D^N&(B^D))+L[7]+1735328473&4294967295,z=B+(U<<14&4294967295|U>>>18),U=N+(B^D&(z^B))+L[12]+2368359562&4294967295,N=z+(U<<20&4294967295|U>>>12),U=D+(N^z^B)+L[5]+4294588738&4294967295,D=N+(U<<4&4294967295|U>>>28),U=B+(D^N^z)+L[8]+2272392833&4294967295,B=D+(U<<11&4294967295|U>>>21),U=z+(B^D^N)+L[11]+1839030562&4294967295,z=B+(U<<16&4294967295|U>>>16),U=N+(z^B^D)+L[14]+4259657740&4294967295,N=z+(U<<23&4294967295|U>>>9),U=D+(N^z^B)+L[1]+2763975236&4294967295,D=N+(U<<4&4294967295|U>>>28),U=B+(D^N^z)+L[4]+1272893353&4294967295,B=D+(U<<11&4294967295|U>>>21),U=z+(B^D^N)+L[7]+4139469664&4294967295,z=B+(U<<16&4294967295|U>>>16),U=N+(z^B^D)+L[10]+3200236656&4294967295,N=z+(U<<23&4294967295|U>>>9),U=D+(N^z^B)+L[13]+681279174&4294967295,D=N+(U<<4&4294967295|U>>>28),U=B+(D^N^z)+L[0]+3936430074&4294967295,B=D+(U<<11&4294967295|U>>>21),U=z+(B^D^N)+L[3]+3572445317&4294967295,z=B+(U<<16&4294967295|U>>>16),U=N+(z^B^D)+L[6]+76029189&4294967295,N=z+(U<<23&4294967295|U>>>9),U=D+(N^z^B)+L[9]+3654602809&4294967295,D=N+(U<<4&4294967295|U>>>28),U=B+(D^N^z)+L[12]+3873151461&4294967295,B=D+(U<<11&4294967295|U>>>21),U=z+(B^D^N)+L[15]+530742520&4294967295,z=B+(U<<16&4294967295|U>>>16),U=N+(z^B^D)+L[2]+3299628645&4294967295,N=z+(U<<23&4294967295|U>>>9),U=D+(z^(N|~B))+L[0]+4096336452&4294967295,D=N+(U<<6&4294967295|U>>>26),U=B+(N^(D|~z))+L[7]+1126891415&4294967295,B=D+(U<<10&4294967295|U>>>22),U=z+(D^(B|~N))+L[14]+2878612391&4294967295,z=B+(U<<15&4294967295|U>>>17),U=N+(B^(z|~D))+L[5]+4237533241&4294967295,N=z+(U<<21&4294967295|U>>>11),U=D+(z^(N|~B))+L[12]+1700485571&4294967295,D=N+(U<<6&4294967295|U>>>26),U=B+(N^(D|~z))+L[3]+2399980690&4294967295,B=D+(U<<10&4294967295|U>>>22),U=z+(D^(B|~N))+L[10]+4293915773&4294967295,z=B+(U<<15&4294967295|U>>>17),U=N+(B^(z|~D))+L[1]+2240044497&4294967295,N=z+(U<<21&4294967295|U>>>11),U=D+(z^(N|~B))+L[8]+1873313359&4294967295,D=N+(U<<6&4294967295|U>>>26),U=B+(N^(D|~z))+L[15]+4264355552&4294967295,B=D+(U<<10&4294967295|U>>>22),U=z+(D^(B|~N))+L[6]+2734768916&4294967295,z=B+(U<<15&4294967295|U>>>17),U=N+(B^(z|~D))+L[13]+1309151649&4294967295,N=z+(U<<21&4294967295|U>>>11),U=D+(z^(N|~B))+L[4]+4149444226&4294967295,D=N+(U<<6&4294967295|U>>>26),U=B+(N^(D|~z))+L[11]+3174756917&4294967295,B=D+(U<<10&4294967295|U>>>22),U=z+(D^(B|~N))+L[2]+718787259&4294967295,z=B+(U<<15&4294967295|U>>>17),U=N+(B^(z|~D))+L[9]+3951481745&4294967295,M.g[0]=M.g[0]+D&4294967295,M.g[1]=M.g[1]+(z+(U<<21&4294967295|U>>>11))&4294967295,M.g[2]=M.g[2]+z&4294967295,M.g[3]=M.g[3]+B&4294967295}i.prototype.v=function(M,D){D===void 0&&(D=M.length);const N=D-this.blockSize,L=this.C;let z=this.h,B=0;for(;B<D;){if(z==0)for(;B<=N;)r(this,M,B),B+=this.blockSize;if(typeof M=="string"){for(;B<D;)if(L[z++]=M.charCodeAt(B++),z==this.blockSize){r(this,L),z=0;break}}else for(;B<D;)if(L[z++]=M[B++],z==this.blockSize){r(this,L),z=0;break}}this.h=z,this.o+=D},i.prototype.A=function(){var M=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);M[0]=128;for(var D=1;D<M.length-8;++D)M[D]=0;D=this.o*8;for(var N=M.length-8;N<M.length;++N)M[N]=D&255,D/=256;for(this.v(M),M=Array(16),D=0,N=0;N<4;++N)for(let L=0;L<32;L+=8)M[D++]=this.g[N]>>>L&255;return M};function o(M,D){var N=u;return Object.prototype.hasOwnProperty.call(N,M)?N[M]:N[M]=D(M)}function l(M,D){this.h=D;const N=[];let L=!0;for(let z=M.length-1;z>=0;z--){const B=M[z]|0;L&&B==D||(N[z]=B,L=!1)}this.g=N}var u={};function d(M){return-128<=M&&M<128?o(M,function(D){return new l([D|0],D<0?-1:0)}):new l([M|0],M<0?-1:0)}function f(M){if(isNaN(M)||!isFinite(M))return y;if(M<0)return E(f(-M));const D=[];let N=1;for(let L=0;M>=N;L++)D[L]=M/N|0,N*=4294967296;return new l(D,0)}function p(M,D){if(M.length==0)throw Error("number format error: empty string");if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(M.charAt(0)=="-")return E(p(M.substring(1),D));if(M.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=f(Math.pow(D,8));let L=y;for(let B=0;B<M.length;B+=8){var z=Math.min(8,M.length-B);const U=parseInt(M.substring(B,B+z),D);z<8?(z=f(Math.pow(D,z)),L=L.j(z).add(f(U))):(L=L.j(N),L=L.add(f(U)))}return L}var y=d(0),_=d(1),v=d(16777216);n=l.prototype,n.m=function(){if(A(this))return-E(this).m();let M=0,D=1;for(let N=0;N<this.g.length;N++){const L=this.i(N);M+=(L>=0?L:4294967296+L)*D,D*=4294967296}return M},n.toString=function(M){if(M=M||10,M<2||36<M)throw Error("radix out of range: "+M);if(S(this))return"0";if(A(this))return"-"+E(this).toString(M);const D=f(Math.pow(M,6));var N=this;let L="";for(;;){const z=Y(N,D).g;N=O(N,z.j(D));let B=((N.g.length>0?N.g[0]:N.h)>>>0).toString(M);if(N=z,S(N))return B+L;for(;B.length<6;)B="0"+B;L=B+L}},n.i=function(M){return M<0?0:M<this.g.length?this.g[M]:this.h};function S(M){if(M.h!=0)return!1;for(let D=0;D<M.g.length;D++)if(M.g[D]!=0)return!1;return!0}function A(M){return M.h==-1}n.l=function(M){return M=O(this,M),A(M)?-1:S(M)?0:1};function E(M){const D=M.g.length,N=[];for(let L=0;L<D;L++)N[L]=~M.g[L];return new l(N,~M.h).add(_)}n.abs=function(){return A(this)?E(this):this},n.add=function(M){const D=Math.max(this.g.length,M.g.length),N=[];let L=0;for(let z=0;z<=D;z++){let B=L+(this.i(z)&65535)+(M.i(z)&65535),U=(B>>>16)+(this.i(z)>>>16)+(M.i(z)>>>16);L=U>>>16,B&=65535,U&=65535,N[z]=U<<16|B}return new l(N,N[N.length-1]&-2147483648?-1:0)};function O(M,D){return M.add(E(D))}n.j=function(M){if(S(this)||S(M))return y;if(A(this))return A(M)?E(this).j(E(M)):E(E(this).j(M));if(A(M))return E(this.j(E(M)));if(this.l(v)<0&&M.l(v)<0)return f(this.m()*M.m());const D=this.g.length+M.g.length,N=[];for(var L=0;L<2*D;L++)N[L]=0;for(L=0;L<this.g.length;L++)for(let z=0;z<M.g.length;z++){const B=this.i(L)>>>16,U=this.i(L)&65535,Ot=M.i(z)>>>16,St=M.i(z)&65535;N[2*L+2*z]+=U*St,V(N,2*L+2*z),N[2*L+2*z+1]+=B*St,V(N,2*L+2*z+1),N[2*L+2*z+1]+=U*Ot,V(N,2*L+2*z+1),N[2*L+2*z+2]+=B*Ot,V(N,2*L+2*z+2)}for(M=0;M<D;M++)N[M]=N[2*M+1]<<16|N[2*M];for(M=D;M<2*D;M++)N[M]=0;return new l(N,0)};function V(M,D){for(;(M[D]&65535)!=M[D];)M[D+1]+=M[D]>>>16,M[D]&=65535,D++}function q(M,D){this.g=M,this.h=D}function Y(M,D){if(S(D))throw Error("division by zero");if(S(M))return new q(y,y);if(A(M))return D=Y(E(M),D),new q(E(D.g),E(D.h));if(A(D))return D=Y(M,E(D)),new q(E(D.g),D.h);if(M.g.length>30){if(A(M)||A(D))throw Error("slowDivide_ only works with positive integers.");for(var N=_,L=D;L.l(M)<=0;)N=$(N),L=$(L);var z=Q(N,1),B=Q(L,1);for(L=Q(L,2),N=Q(N,2);!S(L);){var U=B.add(L);U.l(M)<=0&&(z=z.add(N),B=U),L=Q(L,1),N=Q(N,1)}return D=O(M,z.j(D)),new q(z,D)}for(z=y;M.l(D)>=0;){for(N=Math.max(1,Math.floor(M.m()/D.m())),L=Math.ceil(Math.log(N)/Math.LN2),L=L<=48?1:Math.pow(2,L-48),B=f(N),U=B.j(D);A(U)||U.l(M)>0;)N-=L,B=f(N),U=B.j(D);S(B)&&(B=_),z=z.add(B),M=O(M,U)}return new q(z,M)}n.B=function(M){return Y(this,M).h},n.and=function(M){const D=Math.max(this.g.length,M.g.length),N=[];for(let L=0;L<D;L++)N[L]=this.i(L)&M.i(L);return new l(N,this.h&M.h)},n.or=function(M){const D=Math.max(this.g.length,M.g.length),N=[];for(let L=0;L<D;L++)N[L]=this.i(L)|M.i(L);return new l(N,this.h|M.h)},n.xor=function(M){const D=Math.max(this.g.length,M.g.length),N=[];for(let L=0;L<D;L++)N[L]=this.i(L)^M.i(L);return new l(N,this.h^M.h)};function $(M){const D=M.g.length+1,N=[];for(let L=0;L<D;L++)N[L]=M.i(L)<<1|M.i(L-1)>>>31;return new l(N,M.h)}function Q(M,D){const N=D>>5;D%=32;const L=M.g.length-N,z=[];for(let B=0;B<L;B++)z[B]=D>0?M.i(B+N)>>>D|M.i(B+N+1)<<32-D:M.i(B+N);return new l(z,M.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,XC=i,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=p,Wo=l}).apply(typeof DE<"u"?DE:typeof self<"u"?self:typeof window<"u"?window:{});var Mf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var QC,ed,KC,og,k0,ZC,JC,tD;(function(){var n,t=Object.defineProperty;function e(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof Mf=="object"&&Mf];for(var x=0;x<g.length;++x){var T=g[x];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var i=e(this);function r(g,x){if(x)t:{var T=i;g=g.split(".");for(var P=0;P<g.length-1;P++){var K=g[P];if(!(K in T))break t;T=T[K]}g=g[g.length-1],P=T[g],x=x(P),x!=P&&x!=null&&t(T,g,{configurable:!0,writable:!0,value:x})}}r("Symbol.dispose",function(g){return g||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(g){return g||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(g){return g||function(x){var T=[],P;for(P in x)Object.prototype.hasOwnProperty.call(x,P)&&T.push([P,x[P]]);return T}});var o=o||{},l=this||self;function u(g){var x=typeof g;return x=="object"&&g!=null||x=="function"}function d(g,x,T){return g.call.apply(g.bind,arguments)}function f(g,x,T){return f=d,f.apply(null,arguments)}function p(g,x){var T=Array.prototype.slice.call(arguments,1);return function(){var P=T.slice();return P.push.apply(P,arguments),g.apply(this,P)}}function y(g,x){function T(){}T.prototype=x.prototype,g.Z=x.prototype,g.prototype=new T,g.prototype.constructor=g,g.Ob=function(P,K,it){for(var bt=Array(arguments.length-2),Gt=2;Gt<arguments.length;Gt++)bt[Gt-2]=arguments[Gt];return x.prototype[K].apply(P,bt)}}var _=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?g=>g&&AsyncContext.Snapshot.wrap(g):g=>g;function v(g){const x=g.length;if(x>0){const T=Array(x);for(let P=0;P<x;P++)T[P]=g[P];return T}return[]}function S(g,x){for(let P=1;P<arguments.length;P++){const K=arguments[P];var T=typeof K;if(T=T!="object"?T:K?Array.isArray(K)?"array":T:"null",T=="array"||T=="object"&&typeof K.length=="number"){T=g.length||0;const it=K.length||0;g.length=T+it;for(let bt=0;bt<it;bt++)g[T+bt]=K[bt]}else g.push(K)}}class A{constructor(x,T){this.i=x,this.j=T,this.h=0,this.g=null}get(){let x;return this.h>0?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function E(g){l.setTimeout(()=>{throw g},0)}function O(){var g=M;let x=null;return g.g&&(x=g.g,g.g=g.g.next,g.g||(g.h=null),x.next=null),x}class V{constructor(){this.h=this.g=null}add(x,T){const P=q.get();P.set(x,T),this.h?this.h.next=P:this.g=P,this.h=P}}var q=new A(()=>new Y,g=>g.reset());class Y{constructor(){this.next=this.g=this.h=null}set(x,T){this.h=x,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let $,Q=!1,M=new V,D=()=>{const g=Promise.resolve(void 0);$=()=>{g.then(N)}};function N(){for(var g;g=O();){try{g.h.call(g.g)}catch(T){E(T)}var x=q;x.j(g),x.h<100&&(x.h++,g.next=x.g,x.g=g)}Q=!1}function L(){this.u=this.u,this.C=this.C}L.prototype.u=!1,L.prototype.dispose=function(){this.u||(this.u=!0,this.N())},L.prototype[Symbol.dispose]=function(){this.dispose()},L.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function z(g,x){this.type=g,this.g=this.target=x,this.defaultPrevented=!1}z.prototype.h=function(){this.defaultPrevented=!0};var B=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var g=!1,x=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const T=()=>{};l.addEventListener("test",T,x),l.removeEventListener("test",T,x)}catch{}return g})();function U(g){return/^[\s\xa0]*$/.test(g)}function Ot(g,x){z.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g&&this.init(g,x)}y(Ot,z),Ot.prototype.init=function(g,x){const T=this.type=g.type,P=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;this.target=g.target||g.srcElement,this.g=x,x=g.relatedTarget,x||(T=="mouseover"?x=g.fromElement:T=="mouseout"&&(x=g.toElement)),this.relatedTarget=x,P?(this.clientX=P.clientX!==void 0?P.clientX:P.pageX,this.clientY=P.clientY!==void 0?P.clientY:P.pageY,this.screenX=P.screenX||0,this.screenY=P.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=g.pointerType,this.state=g.state,this.i=g,g.defaultPrevented&&Ot.Z.h.call(this)},Ot.prototype.h=function(){Ot.Z.h.call(this);const g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var St="closure_listenable_"+(Math.random()*1e6|0),tt=0;function ft(g,x,T,P,K){this.listener=g,this.proxy=null,this.src=x,this.type=T,this.capture=!!P,this.ha=K,this.key=++tt,this.da=this.fa=!1}function xt(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function Mt(g,x,T){for(const P in g)x.call(T,g[P],P,g)}function Pt(g,x){for(const T in g)x.call(void 0,g[T],T,g)}function H(g){const x={};for(const T in g)x[T]=g[T];return x}const st="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function gt(g,x){let T,P;for(let K=1;K<arguments.length;K++){P=arguments[K];for(T in P)g[T]=P[T];for(let it=0;it<st.length;it++)T=st[it],Object.prototype.hasOwnProperty.call(P,T)&&(g[T]=P[T])}}function pt(g){this.src=g,this.g={},this.h=0}pt.prototype.add=function(g,x,T,P,K){const it=g.toString();g=this.g[it],g||(g=this.g[it]=[],this.h++);const bt=Dt(g,x,P,K);return bt>-1?(x=g[bt],T||(x.fa=!1)):(x=new ft(x,this.src,it,!!P,K),x.fa=T,g.push(x)),x};function Tt(g,x){const T=x.type;if(T in g.g){var P=g.g[T],K=Array.prototype.indexOf.call(P,x,void 0),it;(it=K>=0)&&Array.prototype.splice.call(P,K,1),it&&(xt(x),g.g[T].length==0&&(delete g.g[T],g.h--))}}function Dt(g,x,T,P){for(let K=0;K<g.length;++K){const it=g[K];if(!it.da&&it.listener==x&&it.capture==!!T&&it.ha==P)return K}return-1}var dt="closure_lm_"+(Math.random()*1e6|0),Vt={};function At(g,x,T,P,K){if(Array.isArray(x)){for(let it=0;it<x.length;it++)At(g,x[it],T,P,K);return null}return T=Wi(T),g&&g[St]?g.J(x,T,u(P)?!!P.capture:!1,K):$t(g,x,T,!1,P,K)}function $t(g,x,T,P,K,it){if(!x)throw Error("Invalid event type");const bt=u(K)?!!K.capture:!!K;let Gt=Ue(g);if(Gt||(g[dt]=Gt=new pt(g)),T=Gt.add(x,T,P,bt,it),T.proxy)return T;if(P=$e(),T.proxy=P,P.src=g,P.listener=T,g.addEventListener)B||(K=bt),K===void 0&&(K=!1),g.addEventListener(x.toString(),P,K);else if(g.attachEvent)g.attachEvent(Dn(x.toString()),P);else if(g.addListener&&g.removeListener)g.addListener(P);else throw Error("addEventListener and attachEvent are unavailable.");return T}function $e(){function g(T){return x.call(g.src,g.listener,T)}const x=Di;return g}function Te(g,x,T,P,K){if(Array.isArray(x))for(var it=0;it<x.length;it++)Te(g,x[it],T,P,K);else P=u(P)?!!P.capture:!!P,T=Wi(T),g&&g[St]?(g=g.i,it=String(x).toString(),it in g.g&&(x=g.g[it],T=Dt(x,T,P,K),T>-1&&(xt(x[T]),Array.prototype.splice.call(x,T,1),x.length==0&&(delete g.g[it],g.h--)))):g&&(g=Ue(g))&&(x=g.g[x.toString()],g=-1,x&&(g=Dt(x,T,P,K)),(T=g>-1?x[g]:null)&&fn(T))}function fn(g){if(typeof g!="number"&&g&&!g.da){var x=g.src;if(x&&x[St])Tt(x.i,g);else{var T=g.type,P=g.proxy;x.removeEventListener?x.removeEventListener(T,P,g.capture):x.detachEvent?x.detachEvent(Dn(T),P):x.addListener&&x.removeListener&&x.removeListener(P),(T=Ue(x))?(Tt(T,g),T.h==0&&(T.src=null,x[dt]=null)):xt(g)}}}function Dn(g){return g in Vt?Vt[g]:Vt[g]="on"+g}function Di(g,x){if(g.da)g=!0;else{x=new Ot(x,this);const T=g.listener,P=g.ha||g.src;g.fa&&fn(g),g=T.call(P,x)}return g}function Ue(g){return g=g[dt],g instanceof pt?g:null}var ii="__closure_events_fn_"+(Math.random()*1e9>>>0);function Wi(g){return typeof g=="function"?g:(g[ii]||(g[ii]=function(x){return g.handleEvent(x)}),g[ii])}function yt(){L.call(this),this.i=new pt(this),this.M=this,this.G=null}y(yt,L),yt.prototype[St]=!0,yt.prototype.removeEventListener=function(g,x,T,P){Te(this,g,x,T,P)};function Xt(g,x){var T,P=g.G;if(P)for(T=[];P;P=P.G)T.push(P);if(g=g.M,P=x.type||x,typeof x=="string")x=new z(x,g);else if(x instanceof z)x.target=x.target||g;else{var K=x;x=new z(P,g),gt(x,K)}K=!0;let it,bt;if(T)for(bt=T.length-1;bt>=0;bt--)it=x.g=T[bt],K=ue(it,P,!0,x)&&K;if(it=x.g=g,K=ue(it,P,!0,x)&&K,K=ue(it,P,!1,x)&&K,T)for(bt=0;bt<T.length;bt++)it=x.g=T[bt],K=ue(it,P,!1,x)&&K}yt.prototype.N=function(){if(yt.Z.N.call(this),this.i){var g=this.i;for(const x in g.g){const T=g.g[x];for(let P=0;P<T.length;P++)xt(T[P]);delete g.g[x],g.h--}}this.G=null},yt.prototype.J=function(g,x,T,P){return this.i.add(String(g),x,!1,T,P)},yt.prototype.K=function(g,x,T,P){return this.i.add(String(g),x,!0,T,P)};function ue(g,x,T,P){if(x=g.i.g[String(x)],!x)return!0;x=x.concat();let K=!0;for(let it=0;it<x.length;++it){const bt=x[it];if(bt&&!bt.da&&bt.capture==T){const Gt=bt.listener,sn=bt.ha||bt.src;bt.fa&&Tt(g.i,bt),K=Gt.call(sn,P)!==!1&&K}}return K&&!P.defaultPrevented}function pa(g,x){if(typeof g!="function")if(g&&typeof g.handleEvent=="function")g=f(g.handleEvent,g);else throw Error("Invalid listener argument");return Number(x)>2147483647?-1:l.setTimeout(g,x||0)}function Tl(g){g.g=pa(()=>{g.g=null,g.i&&(g.i=!1,Tl(g))},g.l);const x=g.h;g.h=null,g.m.apply(null,x)}class Pn extends L{constructor(x,T){super(),this.m=x,this.l=T,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:Tl(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function _s(g){L.call(this),this.h=g,this.g={}}y(_s,L);var ma=[];function ro(g){Mt(g.g,function(x,T){this.g.hasOwnProperty(T)&&fn(x)},g),g.g={}}_s.prototype.N=function(){_s.Z.N.call(this),ro(this)},_s.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Tr=l.JSON.stringify,El=l.JSON.parse,ya=class{stringify(g){return l.JSON.stringify(g,void 0)}parse(g){return l.JSON.parse(g,void 0)}};function vs(){}function so(){}var Ii={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Tn(){z.call(this,"d")}y(Tn,z);function hi(){z.call(this,"c")}y(hi,z);var je={},Sl=null;function Er(){return Sl=Sl||new yt}je.Ia="serverreachability";function Al(g){z.call(this,je.Ia,g)}y(Al,z);function Xi(g){const x=Er();Xt(x,new Al(x))}je.STAT_EVENT="statevent";function Br(g,x){z.call(this,je.STAT_EVENT,g),this.stat=x}y(Br,z);function Be(g){const x=Er();Xt(x,new Br(x,g))}je.Ja="timingevent";function fi(g,x){z.call(this,je.Ja,g),this.size=x}y(fi,z);function Qi(g,x){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){g()},x)}function Ri(){this.g=!0}Ri.prototype.ua=function(){this.g=!1};function Qc(g,x,T,P,K,it){g.info(function(){if(g.g)if(it){var bt="",Gt=it.split("&");for(let pe=0;pe<Gt.length;pe++){var sn=Gt[pe].split("=");if(sn.length>1){const Le=sn[0];sn=sn[1];const sr=Le.split("_");bt=sr.length>=2&&sr[1]=="type"?bt+(Le+"="+sn+"&"):bt+(Le+"=redacted&")}}}else bt=null;else bt=it;return"XMLHTTP REQ ("+P+") [attempt "+K+"]: "+x+`
`+T+`
`+bt})}function ba(g,x,T,P,K,it,bt){g.info(function(){return"XMLHTTP RESP ("+P+") [ attempt "+K+"]: "+x+`
`+T+`
`+it+" "+bt})}function Ki(g,x,T,P){g.info(function(){return"XMLHTTP TEXT ("+x+"): "+Kc(g,T)+(P?" "+P:"")})}function xs(g,x){g.info(function(){return"TIMEOUT: "+x})}Ri.prototype.info=function(){};function Kc(g,x){if(!g.g)return x;if(!x)return null;try{const it=JSON.parse(x);if(it){for(g=0;g<it.length;g++)if(Array.isArray(it[g])){var T=it[g];if(!(T.length<2)){var P=T[1];if(Array.isArray(P)&&!(P.length<1)){var K=P[0];if(K!="noop"&&K!="stop"&&K!="close")for(let bt=1;bt<P.length;bt++)P[bt]=""}}}}return Tr(it)}catch{return x}}var Zi={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},_a={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},va;function Fr(){}y(Fr,vs),Fr.prototype.g=function(){return new XMLHttpRequest},va=new Fr;function Ni(g){return encodeURIComponent(String(g))}function Cl(g){var x=1;g=g.split(":");const T=[];for(;x>0&&g.length;)T.push(g.shift()),x--;return g.length&&T.push(g.join(":")),T}function gi(g,x,T,P){this.j=g,this.i=x,this.l=T,this.S=P||1,this.V=new _s(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Mi}function Mi(){this.i=null,this.g="",this.h=!1}var Fe={},rn={};function Oi(g,x,T){g.M=1,g.A=nr(Oe(x)),g.u=T,g.R=!0,ws(g,null)}function ws(g,x){g.F=Date.now(),Yn(g),g.B=Oe(g.A);var T=g.B,P=g.S;Array.isArray(P)||(P=[String(P)]),Bt(T.i,"t",P),g.C=0,T=g.j.L,g.h=new Mi,g.g=Th(g.j,T?x:null,!g.u),g.P>0&&(g.O=new Pn(f(g.Y,g,g.g),g.P)),x=g.V,T=g.g,P=g.ba;var K="readystatechange";Array.isArray(K)||(K&&(ma[0]=K.toString()),K=ma);for(let it=0;it<K.length;it++){const bt=At(T,K[it],P||x.handleEvent,!1,x.h||x);if(!bt)break;x.g[bt.key]=bt}x=g.J?H(g.J):{},g.u?(g.v||(g.v="POST"),x["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.B,g.v,g.u,x)):(g.v="GET",g.g.ea(g.B,g.v,null,x)),Xi(),Qc(g.i,g.v,g.B,g.l,g.S,g.u)}gi.prototype.ba=function(g){g=g.target;const x=this.O;x&&Dr(g)==3?x.j():this.Y(g)},gi.prototype.Y=function(g){try{if(g==this.g)t:{const Gt=Dr(this.g),sn=this.g.ya(),pe=this.g.ca();if(!(Gt<3)&&(Gt!=3||this.g&&(this.h.h||this.g.la()||Ln(this.g)))){this.K||Gt!=4||sn==7||(sn==8||pe<=0?Xi(3):Xi(2)),pi(this);var x=this.g.ca();this.X=x;var T=xa(this);if(this.o=x==200,ba(this.i,this.v,this.B,this.l,this.S,Gt,x),this.o){if(this.U&&!this.L){e:{if(this.g){var P,K=this.g;if((P=K.g?K.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(P)){var it=P;break e}}it=null}if(g=it)Ki(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,si(this,g);else{this.o=!1,this.m=3,Be(12),ri(this),mi(this);break t}}if(this.R){g=!0;let Le;for(;!this.K&&this.C<T.length;)if(Le=Hr(this,T),Le==rn){Gt==4&&(this.m=4,Be(14),g=!1),Ki(this.i,this.l,null,"[Incomplete Response]");break}else if(Le==Fe){this.m=4,Be(15),Ki(this.i,this.l,T,"[Invalid Chunk]"),g=!1;break}else Ki(this.i,this.l,Le,null),si(this,Le);if(Ji(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Gt!=4||T.length!=0||this.h.h||(this.m=1,Be(16),g=!1),this.o=this.o&&g,!g)Ki(this.i,this.l,T,"[Invalid Chunked Response]"),ri(this),mi(this);else if(T.length>0&&!this.W){this.W=!0;var bt=this.j;bt.g==this&&bt.aa&&!bt.P&&(bt.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),iu(bt),bt.P=!0,Be(11))}}else Ki(this.i,this.l,T,null),si(this,T);Gt==4&&ri(this),this.o&&!this.K&&(Gt==4?_h(this.j,this):(this.o=!1,Yn(this)))}else As(this.g),x==400&&T.indexOf("Unknown SID")>0?(this.m=3,Be(12)):(this.m=0,Be(13)),ri(this),mi(this)}}}catch{}finally{}};function xa(g){if(!Ji(g))return g.g.la();const x=Ln(g.g);if(x==="")return"";let T="";const P=x.length,K=Dr(g.g)==4;if(!g.h.i){if(typeof TextDecoder>"u")return ri(g),mi(g),"";g.h.i=new l.TextDecoder}for(let it=0;it<P;it++)g.h.h=!0,T+=g.h.i.decode(x[it],{stream:!(K&&it==P-1)});return x.length=0,g.h.g+=T,g.C=0,g.h.g}function Ji(g){return g.g?g.v=="GET"&&g.M!=2&&g.j.Aa:!1}function Hr(g,x){var T=g.C,P=x.indexOf(`
`,T);return P==-1?rn:(T=Number(x.substring(T,P)),isNaN(T)?Fe:(P+=1,P+T>x.length?rn:(x=x.slice(P,P+T),g.C=P+T,x)))}gi.prototype.cancel=function(){this.K=!0,ri(this)};function Yn(g){g.T=Date.now()+g.H,Sr(g,g.H)}function Sr(g,x){if(g.D!=null)throw Error("WatchDog timer not null");g.D=Qi(f(g.aa,g),x)}function pi(g){g.D&&(l.clearTimeout(g.D),g.D=null)}gi.prototype.aa=function(){this.D=null;const g=Date.now();g-this.T>=0?(xs(this.i,this.B),this.M!=2&&(Xi(),Be(17)),ri(this),this.m=2,mi(this)):Sr(this,this.T-g)};function mi(g){g.j.I==0||g.K||_h(g.j,g)}function ri(g){pi(g);var x=g.O;x&&typeof x.dispose=="function"&&x.dispose(),g.O=null,ro(g.V),g.g&&(x=g.g,g.g=null,x.abort(),x.dispose())}function si(g,x){try{var T=g.j;if(T.I!=0&&(T.g==g||$n(T.h,g))){if(!g.L&&$n(T.h,g)&&T.I==3){try{var P=T.Ba.g.parse(x)}catch{P=null}if(Array.isArray(P)&&P.length==3){var K=P;if(K[0]==0){t:if(!T.v){if(T.g)if(T.g.F+3e3<g.F)Nl(T),uo(T);else break t;Ra(T),Be(18)}}else T.xa=K[1],0<T.xa-T.K&&K[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=Qi(f(T.Va,T),6e3));gn(T.h)<=1&&T.ta&&(T.ta=void 0)}else Qr(T,11)}else if((g.L||T.g==g)&&Nl(T),!U(x))for(K=T.Ba.g.parse(x),x=0;x<K.length;x++){let pe=K[x];const Le=pe[0];if(!(Le<=T.K))if(T.K=Le,pe=pe[1],T.I==2)if(pe[0]=="c"){T.M=pe[1],T.ba=pe[2];const sr=pe[3];sr!=null&&(T.ka=sr,T.j.info("VER="+T.ka));const Kr=pe[4];Kr!=null&&(T.za=Kr,T.j.info("SVER="+T.za));const Ir=pe[5];Ir!=null&&typeof Ir=="number"&&Ir>0&&(P=1.5*Ir,T.O=P,T.j.info("backChannelRequestTimeoutMs_="+P)),P=T;const Rr=g.g;if(Rr){const Na=Rr.g?Rr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Na){var it=P.h;it.g||Na.indexOf("spdy")==-1&&Na.indexOf("quic")==-1&&Na.indexOf("h2")==-1||(it.j=it.l,it.g=new Set,it.h&&(Wn(it,it.h),it.h=null))}if(P.G){const Ml=Rr.g?Rr.g.getResponseHeader("X-HTTP-Session-Id"):null;Ml&&(P.wa=Ml,he(P.J,P.G,Ml))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-g.F,T.j.info("Handshake RTT: "+T.T+"ms")),P=T;var bt=g;if(P.na=wh(P,P.L?P.ba:null,P.W),bt.L){oi(P.h,bt);var Gt=bt,sn=P.O;sn&&(Gt.H=sn),Gt.D&&(pi(Gt),Yn(Gt)),P.g=bt}else yh(P);T.i.length>0&&Xr(T)}else pe[0]!="stop"&&pe[0]!="close"||Qr(T,7);else T.I==3&&(pe[0]=="stop"||pe[0]=="close"?pe[0]=="stop"?Qr(T,7):eu(T):pe[0]!="noop"&&T.l&&T.l.qa(pe),T.A=0)}}Xi(4)}catch{}}var de=class{constructor(g,x){this.g=g,this.map=x}};function tr(g){this.l=g||10,l.PerformanceNavigationTiming?(g=l.performance.getEntriesByType("navigation"),g=g.length>0&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function yi(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function gn(g){return g.h?1:g.g?g.g.size:0}function $n(g,x){return g.h?g.h==x:g.g?g.g.has(x):!1}function Wn(g,x){g.g?g.g.add(x):g.h=x}function oi(g,x){g.h&&g.h==x?g.h=null:g.g&&g.g.has(x)&&g.g.delete(x)}tr.prototype.cancel=function(){if(this.i=oo(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function oo(g){if(g.h!=null)return g.i.concat(g.h.G);if(g.g!=null&&g.g.size!==0){let x=g.i;for(const T of g.g.values())x=x.concat(T.G);return x}return v(g.i)}var wa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ar(g,x){if(g){g=g.split("&");for(let T=0;T<g.length;T++){const P=g[T].indexOf("=");let K,it=null;P>=0?(K=g[T].substring(0,P),it=g[T].substring(P+1)):K=g[T],x(K,it?decodeURIComponent(it.replace(/\+/g," ")):"")}}}function Me(g){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let x;g instanceof Me?(this.l=g.l,We(this,g.j),this.o=g.o,this.g=g.g,er(this,g.u),this.h=g.h,Ts(this,He(g.i)),this.m=g.m):g&&(x=String(g).match(wa))?(this.l=!1,We(this,x[1]||"",!0),this.o=En(x[2]||""),this.g=En(x[3]||"",!0),er(this,x[4]),this.h=En(x[5]||"",!0),Ts(this,x[6]||"",!0),this.m=En(x[7]||"")):(this.l=!1,this.i=new k(null,this.l))}Me.prototype.toString=function(){const g=[];var x=this.j;x&&g.push(Es(x,qr,!0),":");var T=this.g;return(T||x=="file")&&(g.push("//"),(x=this.o)&&g.push(Es(x,qr,!0),"@"),g.push(Ni(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&g.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&g.push("/"),g.push(Es(T,T.charAt(0)=="/"?Ea:Ta,!0))),(T=this.i.toString())&&g.push("?",T),(T=this.m)&&g.push("#",Es(T,I)),g.join("")},Me.prototype.resolve=function(g){const x=Oe(this);let T=!!g.j;T?We(x,g.j):T=!!g.o,T?x.o=g.o:T=!!g.g,T?x.g=g.g:T=g.u!=null;var P=g.h;if(T)er(x,g.u);else if(T=!!g.h){if(P.charAt(0)!="/")if(this.g&&!this.h)P="/"+P;else{var K=x.h.lastIndexOf("/");K!=-1&&(P=x.h.slice(0,K+1)+P)}if(K=P,K==".."||K==".")P="";else if(K.indexOf("./")!=-1||K.indexOf("/.")!=-1){P=K.lastIndexOf("/",0)==0,K=K.split("/");const it=[];for(let bt=0;bt<K.length;){const Gt=K[bt++];Gt=="."?P&&bt==K.length&&it.push(""):Gt==".."?((it.length>1||it.length==1&&it[0]!="")&&it.pop(),P&&bt==K.length&&it.push("")):(it.push(Gt),P=!0)}P=it.join("/")}else P=K}return T?x.h=P:T=g.i.toString()!=="",T?Ts(x,He(g.i)):T=!!g.m,T&&(x.m=g.m),x};function Oe(g){return new Me(g)}function We(g,x,T){g.j=T?En(x,!0):x,g.j&&(g.j=g.j.replace(/:$/,""))}function er(g,x){if(x){if(x=Number(x),isNaN(x)||x<0)throw Error("Bad port number "+x);g.u=x}else g.u=null}function Ts(g,x,T){x instanceof k?(g.i=x,Xe(g.i,g.l)):(T||(x=Es(x,Gr)),g.i=new k(x,g.l))}function he(g,x,T){g.i.set(x,T)}function nr(g){return he(g,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),g}function En(g,x){return g?x?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function Es(g,x,T){return typeof g=="string"?(g=encodeURI(g).replace(x,zn),T&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function zn(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var qr=/[#\/\?@]/g,Ta=/[#\?:]/g,Ea=/[#\?]/g,Gr=/[#\?@]/g,I=/#/g;function k(g,x){this.h=this.g=null,this.i=g||null,this.j=!!x}function j(g){g.g||(g.g=new Map,g.h=0,g.i&&Ar(g.i,function(x,T){g.add(decodeURIComponent(x.replace(/\+/g," ")),T)}))}n=k.prototype,n.add=function(g,x){j(this),this.i=null,g=Ie(this,g);let T=this.g.get(g);return T||this.g.set(g,T=[]),T.push(x),this.h+=1,this};function nt(g,x){j(g),x=Ie(g,x),g.g.has(x)&&(g.i=null,g.h-=g.g.get(x).length,g.g.delete(x))}function ht(g,x){return j(g),x=Ie(g,x),g.g.has(x)}n.forEach=function(g,x){j(this),this.g.forEach(function(T,P){T.forEach(function(K){g.call(x,K,P,this)},this)},this)};function _t(g,x){j(g);let T=[];if(typeof x=="string")ht(g,x)&&(T=T.concat(g.g.get(Ie(g,x))));else for(g=Array.from(g.g.values()),x=0;x<g.length;x++)T=T.concat(g[x]);return T}n.set=function(g,x){return j(this),this.i=null,g=Ie(this,g),ht(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[x]),this.h+=1,this},n.get=function(g,x){return g?(g=_t(this,g),g.length>0?String(g[0]):x):x};function Bt(g,x,T){nt(g,x),T.length>0&&(g.i=null,g.g.set(Ie(g,x),v(T)),g.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],x=Array.from(this.g.keys());for(let P=0;P<x.length;P++){var T=x[P];const K=Ni(T);T=_t(this,T);for(let it=0;it<T.length;it++){let bt=K;T[it]!==""&&(bt+="="+Ni(T[it])),g.push(bt)}}return this.i=g.join("&")};function He(g){const x=new k;return x.i=g.i,g.g&&(x.g=new Map(g.g),x.h=g.h),x}function Ie(g,x){return x=String(x),g.j&&(x=x.toLowerCase()),x}function Xe(g,x){x&&!g.j&&(j(g),g.i=null,g.g.forEach(function(T,P){const K=P.toLowerCase();P!=K&&(nt(this,P),Bt(this,K,T))},g)),g.j=x}function Qe(g,x){const T=new Ri;if(l.Image){const P=new Image;P.onload=p(ir,T,"TestLoadImage: loaded",!0,x,P),P.onerror=p(ir,T,"TestLoadImage: error",!1,x,P),P.onabort=p(ir,T,"TestLoadImage: abort",!1,x,P),P.ontimeout=p(ir,T,"TestLoadImage: timeout",!1,x,P),l.setTimeout(function(){P.ontimeout&&P.ontimeout()},1e4),P.src=g}else x(!1)}function Zc(g,x){const T=new Ri,P=new AbortController,K=setTimeout(()=>{P.abort(),ir(T,"TestPingServer: timeout",!1,x)},1e4);fetch(g,{signal:P.signal}).then(it=>{clearTimeout(K),it.ok?ir(T,"TestPingServer: ok",!0,x):ir(T,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(K),ir(T,"TestPingServer: error",!1,x)})}function ir(g,x,T,P,K){try{K&&(K.onload=null,K.onerror=null,K.onabort=null,K.ontimeout=null),P(T)}catch{}}function ao(){this.g=new ya}function Yr(g){this.i=g.Sb||null,this.h=g.ab||!1}y(Yr,vs),Yr.prototype.g=function(){return new Sa(this.i,this.h)};function Sa(g,x){yt.call(this),this.H=g,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}y(Sa,yt),n=Sa.prototype,n.open=function(g,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=g,this.D=x,this.readyState=1,Cr(this)},n.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const x={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};g&&(x.body=g),(this.H||l).fetch(new Request(this.D,x)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,lo(this)),this.readyState=0},n.Pa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,Cr(this)),this.g&&(this.readyState=3,Cr(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Dl(this)}else g.text().then(this.Oa.bind(this),this.ga.bind(this))};function Dl(g){g.j.read().then(g.Ma.bind(g)).catch(g.ga.bind(g))}n.Ma=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var x=g.value?g.value:new Uint8Array(0);(x=this.B.decode(x,{stream:!g.done}))&&(this.response=this.responseText+=x)}g.done?lo(this):Cr(this),this.readyState==3&&Dl(this)}},n.Oa=function(g){this.g&&(this.response=this.responseText=g,lo(this))},n.Na=function(g){this.g&&(this.response=g,lo(this))},n.ga=function(){this.g&&lo(this)};function lo(g){g.readyState=4,g.l=null,g.j=null,g.B=null,Cr(g)}n.setRequestHeader=function(g,x){this.A.append(g,x)},n.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],x=this.h.entries();for(var T=x.next();!T.done;)T=T.value,g.push(T[0]+": "+T[1]),T=x.next();return g.join(`\r
`)};function Cr(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(Sa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function rr(g){let x="";return Mt(g,function(T,P){x+=P,x+=":",x+=T,x+=`\r
`}),x}function Aa(g,x,T){t:{for(P in T){var P=!1;break t}P=!0}P||(T=rr(T),typeof g=="string"?T!=null&&Ni(T):he(g,x,T))}function Ee(g){yt.call(this),this.headers=new Map,this.L=g||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}y(Ee,yt);var $r=/^https?$/i,Jc=["POST","PUT"];n=Ee.prototype,n.Fa=function(g){this.H=g},n.ea=function(g,x,T,P){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);x=x?x.toUpperCase():"GET",this.D=g,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():va.g(),this.g.onreadystatechange=_(f(this.Ca,this));try{this.B=!0,this.g.open(x,String(g),!0),this.B=!1}catch(it){Ca(this,it);return}if(g=T||"",T=new Map(this.headers),P)if(Object.getPrototypeOf(P)===Object.prototype)for(var K in P)T.set(K,P[K]);else if(typeof P.keys=="function"&&typeof P.get=="function")for(const it of P.keys())T.set(it,P.get(it));else throw Error("Unknown input type for opt_headers: "+String(P));P=Array.from(T.keys()).find(it=>it.toLowerCase()=="content-type"),K=l.FormData&&g instanceof l.FormData,!(Array.prototype.indexOf.call(Jc,x,void 0)>=0)||P||K||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[it,bt]of T)this.g.setRequestHeader(it,bt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(g),this.v=!1}catch(it){Ca(this,it)}};function Ca(g,x){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=x,g.o=5,tu(g),Ss(g)}function tu(g){g.A||(g.A=!0,Xt(g,"complete"),Xt(g,"error"))}n.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=g||7,Xt(this,"complete"),Xt(this,"abort"),Ss(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ss(this,!0)),Ee.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Da(this):this.Xa())},n.Xa=function(){Da(this)};function Da(g){if(g.h&&typeof o<"u"){if(g.v&&Dr(g)==4)setTimeout(g.Ca.bind(g),0);else if(Xt(g,"readystatechange"),Dr(g)==4){g.h=!1;try{const it=g.ca();t:switch(it){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break t;default:x=!1}var T;if(!(T=x)){var P;if(P=it===0){let bt=String(g.D).match(wa)[1]||null;!bt&&l.self&&l.self.location&&(bt=l.self.location.protocol.slice(0,-1)),P=!$r.test(bt?bt.toLowerCase():"")}T=P}if(T)Xt(g,"complete"),Xt(g,"success");else{g.o=6;try{var K=Dr(g)>2?g.g.statusText:""}catch{K=""}g.l=K+" ["+g.ca()+"]",tu(g)}}finally{Ss(g)}}}}function Ss(g,x){if(g.g){g.m&&(clearTimeout(g.m),g.m=null);const T=g.g;g.g=null,x||Xt(g,"ready");try{T.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function Dr(g){return g.g?g.g.readyState:0}n.ca=function(){try{return Dr(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(g){if(this.g){var x=this.g.responseText;return g&&x.indexOf(g)==0&&(x=x.substring(g.length)),El(x)}};function Ln(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.F){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function As(g){const x={};g=(g.g&&Dr(g)>=2&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let P=0;P<g.length;P++){if(U(g[P]))continue;var T=Cl(g[P]);const K=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const it=x[K]||[];x[K]=it,it.push(T)}Pt(x,function(P){return P.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Wr(g,x,T){return T&&T.internalChannelParams&&T.internalChannelParams[g]||x}function co(g){this.za=0,this.i=[],this.j=new Ri,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Wr("failFast",!1,g),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Wr("baseRetryDelayMs",5e3,g),this.Za=Wr("retryDelaySeedMs",1e4,g),this.Ta=Wr("forwardChannelMaxRetries",2,g),this.va=Wr("forwardChannelRequestTimeoutMs",2e4,g),this.ma=g&&g.xmlHttpFactory||void 0,this.Ua=g&&g.Rb||void 0,this.Aa=g&&g.useFetchStreams||!1,this.O=void 0,this.L=g&&g.supportsCrossDomainXhr||!1,this.M="",this.h=new tr(g&&g.concurrentRequestLimit),this.Ba=new ao,this.S=g&&g.fastHandshake||!1,this.R=g&&g.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=g&&g.Pb||!1,g&&g.ua&&this.j.ua(),g&&g.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&g&&g.detectBufferingProxy||!1,this.ia=void 0,g&&g.longPollingTimeout&&g.longPollingTimeout>0&&(this.ia=g.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=co.prototype,n.ka=8,n.I=1,n.connect=function(g,x,T,P){Be(0),this.W=g,this.H=x||{},T&&P!==void 0&&(this.H.OSID=T,this.H.OAID=P),this.F=this.X,this.J=wh(this,null,this.W),Xr(this)};function eu(g){if(Il(g),g.I==3){var x=g.V++,T=Oe(g.J);if(he(T,"SID",g.M),he(T,"RID",x),he(T,"TYPE","terminate"),Ia(g,T),x=new gi(g,g.j,x),x.M=2,x.A=nr(Oe(T)),T=!1,l.navigator&&l.navigator.sendBeacon)try{T=l.navigator.sendBeacon(x.A.toString(),"")}catch{}!T&&l.Image&&(new Image().src=x.A,T=!0),T||(x.g=Th(x.j,null),x.g.ea(x.A)),x.F=Date.now(),Yn(x)}xh(g)}function uo(g){g.g&&(iu(g),g.g.cancel(),g.g=null)}function Il(g){uo(g),g.v&&(l.clearTimeout(g.v),g.v=null),Nl(g),g.h.cancel(),g.m&&(typeof g.m=="number"&&l.clearTimeout(g.m),g.m=null)}function Xr(g){if(!yi(g.h)&&!g.m){g.m=!0;var x=g.Ea;$||D(),Q||($(),Q=!0),M.add(x,g),g.D=0}}function Rl(g,x){return gn(g.h)>=g.h.j-(g.m?1:0)?!1:g.m?(g.i=x.G.concat(g.i),!0):g.I==1||g.I==2||g.D>=(g.Sa?0:g.Ta)?!1:(g.m=Qi(f(g.Ea,g,x),vh(g,g.D)),g.D++,!0)}n.Ea=function(g){if(this.m)if(this.m=null,this.I==1){if(!g){this.V=Math.floor(Math.random()*1e5),g=this.V++;const K=new gi(this,this.j,g);let it=this.o;if(this.U&&(it?(it=H(it),gt(it,this.U)):it=this.U),this.u!==null||this.R||(K.J=it,it=null),this.S)t:{for(var x=0,T=0;T<this.i.length;T++){e:{var P=this.i[T];if("__data__"in P.map&&(P=P.map.__data__,typeof P=="string")){P=P.length;break e}P=void 0}if(P===void 0)break;if(x+=P,x>4096){x=T;break t}if(x===4096||T===this.i.length-1){x=T+1;break t}}x=1e3}else x=1e3;x=mh(this,K,x),T=Oe(this.J),he(T,"RID",g),he(T,"CVER",22),this.G&&he(T,"X-HTTP-Session-Id",this.G),Ia(this,T),it&&(this.R?x="headers="+Ni(rr(it))+"&"+x:this.u&&Aa(T,this.u,it)),Wn(this.h,K),this.Ra&&he(T,"TYPE","init"),this.S?(he(T,"$req",x),he(T,"SID","null"),K.U=!0,Oi(K,T,null)):Oi(K,T,x),this.I=2}}else this.I==3&&(g?nu(this,g):this.i.length==0||yi(this.h)||nu(this))};function nu(g,x){var T;x?T=x.l:T=g.V++;const P=Oe(g.J);he(P,"SID",g.M),he(P,"RID",T),he(P,"AID",g.K),Ia(g,P),g.u&&g.o&&Aa(P,g.u,g.o),T=new gi(g,g.j,T,g.D+1),g.u===null&&(T.J=g.o),x&&(g.i=x.G.concat(g.i)),x=mh(g,T,1e3),T.H=Math.round(g.va*.5)+Math.round(g.va*.5*Math.random()),Wn(g.h,T),Oi(T,P,x)}function Ia(g,x){g.H&&Mt(g.H,function(T,P){he(x,P,T)}),g.l&&Mt({},function(T,P){he(x,P,T)})}function mh(g,x,T){T=Math.min(g.i.length,T);const P=g.l?f(g.l.Ka,g.l,g):null;t:{var K=g.i;let Gt=-1;for(;;){const sn=["count="+T];Gt==-1?T>0?(Gt=K[0].g,sn.push("ofs="+Gt)):Gt=0:sn.push("ofs="+Gt);let pe=!0;for(let Le=0;Le<T;Le++){var it=K[Le].g;const sr=K[Le].map;if(it-=Gt,it<0)Gt=Math.max(0,K[Le].g-100),pe=!1;else try{it="req"+it+"_"||"";try{var bt=sr instanceof Map?sr:Object.entries(sr);for(const[Kr,Ir]of bt){let Rr=Ir;u(Ir)&&(Rr=Tr(Ir)),sn.push(it+Kr+"="+encodeURIComponent(Rr))}}catch(Kr){throw sn.push(it+"type="+encodeURIComponent("_badmap")),Kr}}catch{P&&P(sr)}}if(pe){bt=sn.join("&");break t}}bt=void 0}return g=g.i.splice(0,T),x.G=g,bt}function yh(g){if(!g.g&&!g.v){g.Y=1;var x=g.Da;$||D(),Q||($(),Q=!0),M.add(x,g),g.A=0}}function Ra(g){return g.g||g.v||g.A>=3?!1:(g.Y++,g.v=Qi(f(g.Da,g),vh(g,g.A)),g.A++,!0)}n.Da=function(){if(this.v=null,bh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var g=4*this.T;this.j.info("BP detection timer enabled: "+g),this.B=Qi(f(this.Wa,this),g)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Be(10),uo(this),bh(this))};function iu(g){g.B!=null&&(l.clearTimeout(g.B),g.B=null)}function bh(g){g.g=new gi(g,g.j,"rpc",g.Y),g.u===null&&(g.g.J=g.o),g.g.P=0;var x=Oe(g.na);he(x,"RID","rpc"),he(x,"SID",g.M),he(x,"AID",g.K),he(x,"CI",g.F?"0":"1"),!g.F&&g.ia&&he(x,"TO",g.ia),he(x,"TYPE","xmlhttp"),Ia(g,x),g.u&&g.o&&Aa(x,g.u,g.o),g.O&&(g.g.H=g.O);var T=g.g;g=g.ba,T.M=1,T.A=nr(Oe(x)),T.u=null,T.R=!0,ws(T,g)}n.Va=function(){this.C!=null&&(this.C=null,uo(this),Ra(this),Be(19))};function Nl(g){g.C!=null&&(l.clearTimeout(g.C),g.C=null)}function _h(g,x){var T=null;if(g.g==x){Nl(g),iu(g),g.g=null;var P=2}else if($n(g.h,x))T=x.G,oi(g.h,x),P=1;else return;if(g.I!=0){if(x.o)if(P==1){T=x.u?x.u.length:0,x=Date.now()-x.F;var K=g.D;P=Er(),Xt(P,new fi(P,T)),Xr(g)}else yh(g);else if(K=x.m,K==3||K==0&&x.X>0||!(P==1&&Rl(g,x)||P==2&&Ra(g)))switch(T&&T.length>0&&(x=g.h,x.i=x.i.concat(T)),K){case 1:Qr(g,5);break;case 4:Qr(g,10);break;case 3:Qr(g,6);break;default:Qr(g,2)}}}function vh(g,x){let T=g.Qa+Math.floor(Math.random()*g.Za);return g.isActive()||(T*=2),T*x}function Qr(g,x){if(g.j.info("Error code "+x),x==2){var T=f(g.bb,g),P=g.Ua;const K=!P;P=new Me(P||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||We(P,"https"),nr(P),K?Qe(P.toString(),T):Zc(P.toString(),T)}else Be(2);g.I=0,g.l&&g.l.pa(x),xh(g),Il(g)}n.bb=function(g){g?(this.j.info("Successfully pinged google.com"),Be(2)):(this.j.info("Failed to ping google.com"),Be(1))};function xh(g){if(g.I=0,g.ja=[],g.l){const x=oo(g.h);(x.length!=0||g.i.length!=0)&&(S(g.ja,x),S(g.ja,g.i),g.h.i.length=0,v(g.i),g.i.length=0),g.l.oa()}}function wh(g,x,T){var P=T instanceof Me?Oe(T):new Me(T);if(P.g!="")x&&(P.g=x+"."+P.g),er(P,P.u);else{var K=l.location;P=K.protocol,x=x?x+"."+K.hostname:K.hostname,K=+K.port;const it=new Me(null);P&&We(it,P),x&&(it.g=x),K&&er(it,K),T&&(it.h=T),P=it}return T=g.G,x=g.wa,T&&x&&he(P,T,x),he(P,"VER",g.ka),Ia(g,P),P}function Th(g,x,T){if(x&&!g.L)throw Error("Can't create secondary domain capable XhrIo object.");return x=g.Aa&&!g.ma?new Ee(new Yr({ab:T})):new Ee(g.ma),x.Fa(g.L),x}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Eh(){}n=Eh.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function ho(){}ho.prototype.g=function(g,x){return new ai(g,x)};function ai(g,x){yt.call(this),this.g=new co(x),this.l=g,this.h=x&&x.messageUrlParams||null,g=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(g?g["X-WebChannel-Content-Type"]=x.messageContentType:g={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.sa&&(g?g["X-WebChannel-Client-Profile"]=x.sa:g={"X-WebChannel-Client-Profile":x.sa}),this.g.U=g,(g=x&&x.Qb)&&!U(g)&&(this.g.u=g),this.A=x&&x.supportsCrossDomainXhr||!1,this.v=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!U(x)&&(this.g.G=x,g=this.h,g!==null&&x in g&&(g=this.h,x in g&&delete g[x])),this.j=new Cs(this)}y(ai,yt),ai.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},ai.prototype.close=function(){eu(this.g)},ai.prototype.o=function(g){var x=this.g;if(typeof g=="string"){var T={};T.__data__=g,g=T}else this.v&&(T={},T.__data__=Tr(g),g=T);x.i.push(new de(x.Ya++,g)),x.I==3&&Xr(x)},ai.prototype.N=function(){this.g.l=null,delete this.j,eu(this.g),delete this.g,ai.Z.N.call(this)};function Sh(g){Tn.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var x=g.__sm__;if(x){t:{for(const T in x){g=T;break t}g=void 0}(this.i=g)&&(g=this.i,x=x!==null&&g in x?x[g]:void 0),this.data=x}else this.data=g}y(Sh,Tn);function Ah(){hi.call(this),this.status=1}y(Ah,hi);function Cs(g){this.g=g}y(Cs,Eh),Cs.prototype.ra=function(){Xt(this.g,"a")},Cs.prototype.qa=function(g){Xt(this.g,new Sh(g))},Cs.prototype.pa=function(g){Xt(this.g,new Ah)},Cs.prototype.oa=function(){Xt(this.g,"b")},ho.prototype.createWebChannel=ho.prototype.g,ai.prototype.send=ai.prototype.o,ai.prototype.open=ai.prototype.m,ai.prototype.close=ai.prototype.close,tD=function(){return new ho},JC=function(){return Er()},ZC=je,k0={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Zi.NO_ERROR=0,Zi.TIMEOUT=8,Zi.HTTP_ERROR=6,og=Zi,_a.COMPLETE="complete",KC=_a,so.EventType=Ii,Ii.OPEN="a",Ii.CLOSE="b",Ii.ERROR="c",Ii.MESSAGE="d",yt.prototype.listen=yt.prototype.J,ed=so,Ee.prototype.listenOnce=Ee.prototype.K,Ee.prototype.getLastError=Ee.prototype.Ha,Ee.prototype.getLastErrorCode=Ee.prototype.ya,Ee.prototype.getStatus=Ee.prototype.ca,Ee.prototype.getResponseJson=Ee.prototype.La,Ee.prototype.getResponseText=Ee.prototype.la,Ee.prototype.send=Ee.prototype.ea,Ee.prototype.setWithCredentials=Ee.prototype.Fa,QC=Ee}).apply(typeof Mf<"u"?Mf:typeof self<"u"?self:typeof window<"u"?window:{});const IE="@firebase/firestore",RE="4.9.2";let Zn=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};Zn.UNAUTHENTICATED=new Zn(null),Zn.GOOGLE_CREDENTIALS=new Zn("google-credentials-uid"),Zn.FIRST_PARTY=new Zn("first-party-uid"),Zn.MOCK_USER=new Zn("mock-user");let jc="12.3.0";const dl=new Rb("@firebase/firestore");function uc(){return dl.logLevel}function wt(n,...t){if(dl.logLevel<=ie.DEBUG){const e=t.map(Bb);dl.debug(`Firestore (${jc}): ${n}`,...e)}}function Zs(n,...t){if(dl.logLevel<=ie.ERROR){const e=t.map(Bb);dl.error(`Firestore (${jc}): ${n}`,...e)}}function Ec(n,...t){if(dl.logLevel<=ie.WARN){const e=t.map(Bb);dl.warn(`Firestore (${jc}): ${n}`,...e)}}function Bb(n){if(typeof n=="string")return n;try{return(function(e){return JSON.stringify(e)})(n)}catch{return n}}function Lt(n,t,e){let i="Unexpected state";typeof t=="string"?i=t:e=t,eD(n,i,e)}function eD(n,t,e){let i=`FIRESTORE (${jc}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{i+=" CONTEXT: "+JSON.stringify(e)}catch{i+=" CONTEXT: "+e}throw Zs(i),new Error(i)}function _e(n,t,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,n||eD(t,r,i)}function Ht(n,t){return n}const lt={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class vt extends eo{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Xo{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}class nD{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class m4{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(Zn.UNAUTHENTICATED)))}shutdown(){}}class y4{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class b4{constructor(t){this.t=t,this.currentUser=Zn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){_e(this.o===void 0,42304);let i=this.i;const r=d=>this.i!==i?(i=this.i,e(d)):Promise.resolve();let o=new Xo;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Xo,t.enqueueRetryable((()=>r(this.currentUser)))};const l=()=>{const d=o;t.enqueueRetryable((async()=>{await d.promise,await r(this.currentUser)}))},u=d=>{wt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((d=>u(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?u(d):(wt("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Xo)}}),0),l()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((i=>this.i!==t?(wt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(_e(typeof i.accessToken=="string",31837,{l:i}),new nD(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return _e(t===null||typeof t=="string",2055,{h:t}),new Zn(t)}}class _4{constructor(t,e,i){this.P=t,this.T=e,this.I=i,this.type="FirstParty",this.user=Zn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class v4{constructor(t,e,i){this.P=t,this.T=e,this.I=i}getToken(){return Promise.resolve(new _4(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(Zn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class NE{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class x4{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Bi(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){_e(this.o===void 0,3512);const i=o=>{o.error!=null&&wt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.m;return this.m=o.token,wt("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable((()=>i(o)))};const r=o=>{wt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>r(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?r(o):wt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new NE(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(_e(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new NE(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function w4(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class Fb{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=w4(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<e&&(i+=t.charAt(r[o]%62))}return i}}function re(n,t){return n<t?-1:n>t?1:0}function P0(n,t){const e=Math.min(n.length,t.length);for(let i=0;i<e;i++){const r=n.charAt(i),o=t.charAt(i);if(r!==o)return Yy(r)===Yy(o)?re(r,o):Yy(r)?1:-1}return re(n.length,t.length)}const T4=55296,E4=57343;function Yy(n){const t=n.charCodeAt(0);return t>=T4&&t<=E4}function Sc(n,t,e){return n.length===t.length&&n.every(((i,r)=>e(i,t[r])))}const ME="__name__";class ss{constructor(t,e,i){e===void 0?e=0:e>t.length&&Lt(637,{offset:e,range:t.length}),i===void 0?i=t.length-e:i>t.length-e&&Lt(1746,{length:i,range:t.length-e}),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return ss.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof ss?t.forEach((i=>{e.push(i)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const o=ss.compareSegments(t.get(r),e.get(r));if(o!==0)return o}return re(t.length,e.length)}static compareSegments(t,e){const i=ss.isNumericId(t),r=ss.isNumericId(e);return i&&!r?-1:!i&&r?1:i&&r?ss.extractNumericId(t).compare(ss.extractNumericId(e)):P0(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Wo.fromString(t.substring(4,t.length-2))}}class Re extends ss{construct(t,e,i){return new Re(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new vt(lt.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((r=>r.length>0)))}return new Re(e)}static emptyPath(){return new Re([])}}const S4=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Hn extends ss{construct(t,e,i){return new Hn(t,e,i)}static isValidIdentifier(t){return S4.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Hn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===ME}static keyField(){return new Hn([ME])}static fromServerFormat(t){const e=[];let i="",r=0;const o=()=>{if(i.length===0)throw new vt(lt.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let l=!1;for(;r<t.length;){const u=t[r];if(u==="\\"){if(r+1===t.length)throw new vt(lt.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const d=t[r+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new vt(lt.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=d,r+=2}else u==="`"?(l=!l,r++):u!=="."||l?(i+=u,r++):(o(),r++)}if(o(),l)throw new vt(lt.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Hn(e)}static emptyPath(){return new Hn([])}}class Nt{constructor(t){this.path=t}static fromPath(t){return new Nt(Re.fromString(t))}static fromName(t){return new Nt(Re.fromString(t).popFirst(5))}static empty(){return new Nt(Re.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&Re.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return Re.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Nt(new Re(t.slice()))}}function iD(n,t,e){if(!e)throw new vt(lt.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function A4(n,t,e,i){if(t===!0&&i===!0)throw new vt(lt.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function OE(n){if(!Nt.isDocumentKey(n))throw new vt(lt.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function kE(n){if(Nt.isDocumentKey(n))throw new vt(lt.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function rD(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function sp(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(i){return i.constructor?i.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":Lt(12329,{type:typeof n})}function qi(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new vt(lt.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=sp(n);throw new vt(lt.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function wn(n,t){const e={typeString:n};return t&&(e.value=t),e}function eh(n,t){if(!rD(n))throw new vt(lt.INVALID_ARGUMENT,"JSON must be an object");let e;for(const i in t)if(t[i]){const r=t[i].typeString,o="value"in t[i]?{value:t[i].value}:void 0;if(!(i in n)){e=`JSON missing required field: '${i}'`;break}const l=n[i];if(r&&typeof l!==r){e=`JSON field '${i}' must be a ${r}.`;break}if(o!==void 0&&l!==o.value){e=`Expected '${i}' field to equal '${o.value}'`;break}}if(e)throw new vt(lt.INVALID_ARGUMENT,e);return!0}const PE=-62135596800,zE=1e6;class ze{static now(){return ze.fromMillis(Date.now())}static fromDate(t){return ze.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor((t-1e3*e)*zE);return new ze(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new vt(lt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new vt(lt.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<PE)throw new vt(lt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new vt(lt.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/zE}_compareTo(t){return this.seconds===t.seconds?re(this.nanoseconds,t.nanoseconds):re(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ze._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(eh(t,ze._jsonSchema))return new ze(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-PE;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ze._jsonSchemaVersion="firestore/timestamp/1.0",ze._jsonSchema={type:wn("string",ze._jsonSchemaVersion),seconds:wn("number"),nanoseconds:wn("number")};class jt{static fromTimestamp(t){return new jt(t)}static min(){return new jt(new ze(0,0))}static max(){return new jt(new ze(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Ad=-1;function C4(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=jt.fromTimestamp(i===1e9?new ze(e+1,0):new ze(e,i));return new ta(r,Nt.empty(),t)}function D4(n){return new ta(n.readTime,n.key,Ad)}class ta{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new ta(jt.min(),Nt.empty(),Ad)}static max(){return new ta(jt.max(),Nt.empty(),Ad)}}function I4(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=Nt.comparator(n.documentKey,t.documentKey),e!==0?e:re(n.largestBatchId,t.largestBatchId))}const R4="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class N4{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Bc(n){if(n.code!==lt.FAILED_PRECONDITION||n.message!==R4)throw n;wt("LocalStore","Unexpectedly lost primary lease")}class ut{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&Lt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new ut(((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,r)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof ut?e:ut.resolve(e)}catch(e){return ut.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):ut.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):ut.reject(e)}static resolve(t){return new ut(((e,i)=>{e(t)}))}static reject(t){return new ut(((e,i)=>{i(t)}))}static waitFor(t){return new ut(((e,i)=>{let r=0,o=0,l=!1;t.forEach((u=>{++r,u.next((()=>{++o,l&&o===r&&e()}),(d=>i(d)))})),l=!0,o===r&&e()}))}static or(t){let e=ut.resolve(!1);for(const i of t)e=e.next((r=>r?ut.resolve(r):i()));return e}static forEach(t,e){const i=[];return t.forEach(((r,o)=>{i.push(e.call(this,r,o))})),this.waitFor(i)}static mapArray(t,e){return new ut(((i,r)=>{const o=t.length,l=new Array(o);let u=0;for(let d=0;d<o;d++){const f=d;e(t[f]).next((p=>{l[f]=p,++u,u===o&&i(l)}),(p=>r(p)))}}))}static doWhile(t,e){return new ut(((i,r)=>{const o=()=>{t()===!0?e().next((()=>{o()}),r):i()};o()}))}}function M4(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function Fc(n){return n.name==="IndexedDbTransactionError"}class op{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>e.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}op.ce=-1;const Hb=-1;function ap(n){return n==null}function Tg(n){return n===0&&1/n==-1/0}function O4(n){return typeof n=="number"&&Number.isInteger(n)&&!Tg(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const sD="";function k4(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=LE(t)),t=P4(n.get(e),t);return LE(t)}function P4(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":e+="";break;case sD:e+="";break;default:e+=o}}return e}function LE(n){return n+sD+""}function VE(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function ha(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function oD(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class Ye{constructor(t,e){this.comparator=t,this.root=e||Fn.EMPTY}insert(t,e){return new Ye(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,Fn.BLACK,null,null))}remove(t){return new Ye(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Fn.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,i)=>(t(e,i),!1)))}toString(){const t=[];return this.inorderTraversal(((e,i)=>(t.push(`${e}:${i}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Of(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Of(this.root,t,this.comparator,!1)}getReverseIterator(){return new Of(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Of(this.root,t,this.comparator,!0)}}class Of{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Fn{constructor(t,e,i,r,o){this.key=t,this.value=e,this.color=i??Fn.RED,this.left=r??Fn.EMPTY,this.right=o??Fn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,o){return new Fn(t??this.key,e??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,i),null):o===0?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return Fn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),e(t,r.key)===0){if(r.right.isEmpty())return Fn.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Fn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Fn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Lt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Lt(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw Lt(27949);return t+(this.isRed()?0:1)}}Fn.EMPTY=null,Fn.RED=!0,Fn.BLACK=!1;Fn.EMPTY=new class{constructor(){this.size=0}get key(){throw Lt(57766)}get value(){throw Lt(16141)}get color(){throw Lt(16727)}get left(){throw Lt(29726)}get right(){throw Lt(36894)}copy(t,e,i,r,o){return this}insert(t,e,i){return new Fn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Cn{constructor(t){this.comparator=t,this.data=new Ye(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,i)=>(t(e),!1)))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new UE(this.data.getIterator())}getIteratorFrom(t){return new UE(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((i=>{e=e.add(i)})),e}isEqual(t){if(!(t instanceof Cn)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new Cn(this.comparator);return e.data=t,e}}class UE{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Fi{constructor(t){this.fields=t,t.sort(Hn.comparator)}static empty(){return new Fi([])}unionWith(t){let e=new Cn(Hn.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new Fi(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Sc(this.fields,t.fields,((e,i)=>e.isEqual(i)))}}class aD extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Gn{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new aD("Invalid base64 string: "+o):o}})(t);return new Gn(e)}static fromUint8Array(t){const e=(function(r){let o="";for(let l=0;l<r.length;++l)o+=String.fromCharCode(r[l]);return o})(t);return new Gn(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return re(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}Gn.EMPTY_BYTE_STRING=new Gn("");const z4=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ea(n){if(_e(!!n,39018),typeof n=="string"){let t=0;const e=z4.exec(n);if(_e(!!e,46558,{timestamp:n}),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:ln(n.seconds),nanos:ln(n.nanos)}}function ln(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function na(n){return typeof n=="string"?Gn.fromBase64String(n):Gn.fromUint8Array(n)}const lD="server_timestamp",cD="__type__",uD="__previous_value__",dD="__local_write_time__";function qb(n){return(n?.mapValue?.fields||{})[cD]?.stringValue===lD}function lp(n){const t=n.mapValue.fields[uD];return qb(t)?lp(t):t}function Cd(n){const t=ea(n.mapValue.fields[dD].timestampValue);return new ze(t.seconds,t.nanos)}class L4{constructor(t,e,i,r,o,l,u,d,f,p){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=d,this.useFetchStreams=f,this.isUsingEmulator=p}}const Eg="(default)";class Dd{constructor(t,e){this.projectId=t,this.database=e||Eg}static empty(){return new Dd("","")}get isDefaultDatabase(){return this.database===Eg}isEqual(t){return t instanceof Dd&&t.projectId===this.projectId&&t.database===this.database}}const hD="__type__",V4="__max__",kf={mapValue:{}},fD="__vector__",Sg="value";function ia(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?qb(n)?4:j4(n)?9007199254740991:U4(n)?10:11:Lt(28295,{value:n})}function ys(n,t){if(n===t)return!0;const e=ia(n);if(e!==ia(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Cd(n).isEqual(Cd(t));case 3:return(function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const l=ea(r.timestampValue),u=ea(o.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(r,o){return na(r.bytesValue).isEqual(na(o.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(r,o){return ln(r.geoPointValue.latitude)===ln(o.geoPointValue.latitude)&&ln(r.geoPointValue.longitude)===ln(o.geoPointValue.longitude)})(n,t);case 2:return(function(r,o){if("integerValue"in r&&"integerValue"in o)return ln(r.integerValue)===ln(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const l=ln(r.doubleValue),u=ln(o.doubleValue);return l===u?Tg(l)===Tg(u):isNaN(l)&&isNaN(u)}return!1})(n,t);case 9:return Sc(n.arrayValue.values||[],t.arrayValue.values||[],ys);case 10:case 11:return(function(r,o){const l=r.mapValue.fields||{},u=o.mapValue.fields||{};if(VE(l)!==VE(u))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(u[d]===void 0||!ys(l[d],u[d])))return!1;return!0})(n,t);default:return Lt(52216,{left:n})}}function Id(n,t){return(n.values||[]).find((e=>ys(e,t)))!==void 0}function Ac(n,t){if(n===t)return 0;const e=ia(n),i=ia(t);if(e!==i)return re(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return re(n.booleanValue,t.booleanValue);case 2:return(function(o,l){const u=ln(o.integerValue||o.doubleValue),d=ln(l.integerValue||l.doubleValue);return u<d?-1:u>d?1:u===d?0:isNaN(u)?isNaN(d)?0:-1:1})(n,t);case 3:return jE(n.timestampValue,t.timestampValue);case 4:return jE(Cd(n),Cd(t));case 5:return P0(n.stringValue,t.stringValue);case 6:return(function(o,l){const u=na(o),d=na(l);return u.compareTo(d)})(n.bytesValue,t.bytesValue);case 7:return(function(o,l){const u=o.split("/"),d=l.split("/");for(let f=0;f<u.length&&f<d.length;f++){const p=re(u[f],d[f]);if(p!==0)return p}return re(u.length,d.length)})(n.referenceValue,t.referenceValue);case 8:return(function(o,l){const u=re(ln(o.latitude),ln(l.latitude));return u!==0?u:re(ln(o.longitude),ln(l.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return BE(n.arrayValue,t.arrayValue);case 10:return(function(o,l){const u=o.fields||{},d=l.fields||{},f=u[Sg]?.arrayValue,p=d[Sg]?.arrayValue,y=re(f?.values?.length||0,p?.values?.length||0);return y!==0?y:BE(f,p)})(n.mapValue,t.mapValue);case 11:return(function(o,l){if(o===kf.mapValue&&l===kf.mapValue)return 0;if(o===kf.mapValue)return 1;if(l===kf.mapValue)return-1;const u=o.fields||{},d=Object.keys(u),f=l.fields||{},p=Object.keys(f);d.sort(),p.sort();for(let y=0;y<d.length&&y<p.length;++y){const _=P0(d[y],p[y]);if(_!==0)return _;const v=Ac(u[d[y]],f[p[y]]);if(v!==0)return v}return re(d.length,p.length)})(n.mapValue,t.mapValue);default:throw Lt(23264,{he:e})}}function jE(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return re(n,t);const e=ea(n),i=ea(t),r=re(e.seconds,i.seconds);return r!==0?r:re(e.nanos,i.nanos)}function BE(n,t){const e=n.values||[],i=t.values||[];for(let r=0;r<e.length&&r<i.length;++r){const o=Ac(e[r],i[r]);if(o)return o}return re(e.length,i.length)}function Cc(n){return z0(n)}function z0(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(e){const i=ea(e);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(e){return na(e).toBase64()})(n.bytesValue):"referenceValue"in n?(function(e){return Nt.fromName(e).toString()})(n.referenceValue):"geoPointValue"in n?(function(e){return`geo(${e.latitude},${e.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(e){let i="[",r=!0;for(const o of e.values||[])r?r=!1:i+=",",i+=z0(o);return i+"]"})(n.arrayValue):"mapValue"in n?(function(e){const i=Object.keys(e.fields||{}).sort();let r="{",o=!0;for(const l of i)o?o=!1:r+=",",r+=`${l}:${z0(e.fields[l])}`;return r+"}"})(n.mapValue):Lt(61005,{value:n})}function ag(n){switch(ia(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=lp(n);return t?16+ag(t):16;case 5:return 2*n.stringValue.length;case 6:return na(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((r,o)=>r+ag(o)),0)})(n.arrayValue);case 10:case 11:return(function(i){let r=0;return ha(i.fields,((o,l)=>{r+=o.length+ag(l)})),r})(n.mapValue);default:throw Lt(13486,{value:n})}}function FE(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function L0(n){return!!n&&"integerValue"in n}function Gb(n){return!!n&&"arrayValue"in n}function HE(n){return!!n&&"nullValue"in n}function qE(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function lg(n){return!!n&&"mapValue"in n}function U4(n){return(n?.mapValue?.fields||{})[hD]?.stringValue===fD}function ud(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return ha(n.mapValue.fields,((e,i)=>t.mapValue.fields[e]=ud(i))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=ud(n.arrayValue.values[e]);return t}return{...n}}function j4(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===V4}class Ai{constructor(t){this.value=t}static empty(){return new Ai({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!lg(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=ud(e)}setAll(t){let e=Hn.emptyPath(),i={},r=[];t.forEach(((l,u)=>{if(!e.isImmediateParentOf(u)){const d=this.getFieldsMap(e);this.applyChanges(d,i,r),i={},r=[],e=u.popLast()}l?i[u.lastSegment()]=ud(l):r.push(u.lastSegment())}));const o=this.getFieldsMap(e);this.applyChanges(o,i,r)}delete(t){const e=this.field(t.popLast());lg(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return ys(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];lg(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){ha(e,((r,o)=>t[r]=o));for(const r of i)delete t[r]}clone(){return new Ai(ud(this.value))}}function gD(n){const t=[];return ha(n.fields,((e,i)=>{const r=new Hn([e]);if(lg(i)){const o=gD(i.mapValue).fields;if(o.length===0)t.push(r);else for(const l of o)t.push(r.child(l))}else t.push(r)})),new Fi(t)}class Jn{constructor(t,e,i,r,o,l,u){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=o,this.data=l,this.documentState=u}static newInvalidDocument(t){return new Jn(t,0,jt.min(),jt.min(),jt.min(),Ai.empty(),0)}static newFoundDocument(t,e,i,r){return new Jn(t,1,e,jt.min(),i,r,0)}static newNoDocument(t,e){return new Jn(t,2,e,jt.min(),jt.min(),Ai.empty(),0)}static newUnknownDocument(t,e){return new Jn(t,3,e,jt.min(),jt.min(),Ai.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(jt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Ai.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Ai.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=jt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Jn&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Jn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ag{constructor(t,e){this.position=t,this.inclusive=e}}function GE(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const o=t[r],l=n.position[r];if(o.field.isKeyField()?i=Nt.comparator(Nt.fromName(l.referenceValue),e.key):i=Ac(l,e.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function YE(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!ys(n.position[e],t.position[e]))return!1;return!0}class Rd{constructor(t,e="asc"){this.field=t,this.dir=e}}function B4(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class pD{}class vn extends pD{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,i):new H4(t,e,i):e==="array-contains"?new Y4(t,i):e==="in"?new $4(t,i):e==="not-in"?new W4(t,i):e==="array-contains-any"?new X4(t,i):new vn(t,e,i)}static createKeyFieldInFilter(t,e,i){return e==="in"?new q4(t,i):new G4(t,i)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Ac(e,this.value)):e!==null&&ia(this.value)===ia(e)&&this.matchesComparison(Ac(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return Lt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class jr extends pD{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new jr(t,e)}matches(t){return mD(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function mD(n){return n.op==="and"}function yD(n){return F4(n)&&mD(n)}function F4(n){for(const t of n.filters)if(t instanceof jr)return!1;return!0}function V0(n){if(n instanceof vn)return n.field.canonicalString()+n.op.toString()+Cc(n.value);if(yD(n))return n.filters.map((t=>V0(t))).join(",");{const t=n.filters.map((e=>V0(e))).join(",");return`${n.op}(${t})`}}function bD(n,t){return n instanceof vn?(function(i,r){return r instanceof vn&&i.op===r.op&&i.field.isEqual(r.field)&&ys(i.value,r.value)})(n,t):n instanceof jr?(function(i,r){return r instanceof jr&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce(((o,l,u)=>o&&bD(l,r.filters[u])),!0):!1})(n,t):void Lt(19439)}function _D(n){return n instanceof vn?(function(e){return`${e.field.canonicalString()} ${e.op} ${Cc(e.value)}`})(n):n instanceof jr?(function(e){return e.op.toString()+" {"+e.getFilters().map(_D).join(" ,")+"}"})(n):"Filter"}class H4 extends vn{constructor(t,e,i){super(t,e,i),this.key=Nt.fromName(i.referenceValue)}matches(t){const e=Nt.comparator(t.key,this.key);return this.matchesComparison(e)}}class q4 extends vn{constructor(t,e){super(t,"in",e),this.keys=vD("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class G4 extends vn{constructor(t,e){super(t,"not-in",e),this.keys=vD("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function vD(n,t){return(t.arrayValue?.values||[]).map((e=>Nt.fromName(e.referenceValue)))}class Y4 extends vn{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Gb(e)&&Id(e.arrayValue,this.value)}}class $4 extends vn{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Id(this.value.arrayValue,e)}}class W4 extends vn{constructor(t,e){super(t,"not-in",e)}matches(t){if(Id(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Id(this.value.arrayValue,e)}}class X4 extends vn{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Gb(e)||!e.arrayValue.values)&&e.arrayValue.values.some((i=>Id(this.value.arrayValue,i)))}}class Q4{constructor(t,e=null,i=[],r=[],o=null,l=null,u=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=l,this.endAt=u,this.Te=null}}function $E(n,t=null,e=[],i=[],r=null,o=null,l=null){return new Q4(n,t,e,i,r,o,l)}function Yb(n){const t=Ht(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((i=>V0(i))).join(","),e+="|ob:",e+=t.orderBy.map((i=>(function(o){return o.field.canonicalString()+o.dir})(i))).join(","),ap(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((i=>Cc(i))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((i=>Cc(i))).join(",")),t.Te=e}return t.Te}function $b(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!B4(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!bD(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!YE(n.startAt,t.startAt)&&YE(n.endAt,t.endAt)}function U0(n){return Nt.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class Hc{constructor(t,e=null,i=[],r=[],o=null,l="F",u=null,d=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=l,this.startAt=u,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function K4(n,t,e,i,r,o,l,u){return new Hc(n,t,e,i,r,o,l,u)}function Wb(n){return new Hc(n)}function WE(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function xD(n){return n.collectionGroup!==null}function dd(n){const t=Ht(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const o of t.explicitOrderBy)t.Ie.push(o),e.add(o.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new Cn(Hn.comparator);return l.filters.forEach((d=>{d.getFlattenedFilters().forEach((f=>{f.isInequality()&&(u=u.add(f.field))}))})),u})(t).forEach((o=>{e.has(o.canonicalString())||o.isKeyField()||t.Ie.push(new Rd(o,i))})),e.has(Hn.keyField().canonicalString())||t.Ie.push(new Rd(Hn.keyField(),i))}return t.Ie}function fs(n){const t=Ht(n);return t.Ee||(t.Ee=Z4(t,dd(n))),t.Ee}function Z4(n,t){if(n.limitType==="F")return $E(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((r=>{const o=r.dir==="desc"?"asc":"desc";return new Rd(r.field,o)}));const e=n.endAt?new Ag(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Ag(n.startAt.position,n.startAt.inclusive):null;return $E(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}function j0(n,t){const e=n.filters.concat([t]);return new Hc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function B0(n,t,e){return new Hc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function cp(n,t){return $b(fs(n),fs(t))&&n.limitType===t.limitType}function wD(n){return`${Yb(fs(n))}|lt:${n.limitType}`}function dc(n){return`Query(target=${(function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map((r=>_D(r))).join(", ")}]`),ap(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map((r=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(r))).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>Cc(r))).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>Cc(r))).join(",")),`Target(${i})`})(fs(n))}; limitType=${n.limitType})`}function up(n,t){return t.isFoundDocument()&&(function(i,r){const o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):Nt.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)})(n,t)&&(function(i,r){for(const o of dd(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0})(n,t)&&(function(i,r){for(const o of i.filters)if(!o.matches(r))return!1;return!0})(n,t)&&(function(i,r){return!(i.startAt&&!(function(l,u,d){const f=GE(l,u,d);return l.inclusive?f<=0:f<0})(i.startAt,dd(i),r)||i.endAt&&!(function(l,u,d){const f=GE(l,u,d);return l.inclusive?f>=0:f>0})(i.endAt,dd(i),r))})(n,t)}function J4(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function TD(n){return(t,e)=>{let i=!1;for(const r of dd(n)){const o=tL(r,t,e);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function tL(n,t,e){const i=n.field.isKeyField()?Nt.comparator(t.key,e.key):(function(o,l,u){const d=l.data.field(o),f=u.data.field(o);return d!==null&&f!==null?Ac(d,f):Lt(42886)})(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return Lt(19790,{direction:n.dir})}}class ml{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(const[r,o]of i)if(this.equalsFn(r,t))return o}}has(t){return this.get(t)!==void 0}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return i.length===1?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){ha(this.inner,((e,i)=>{for(const[r,o]of i)t(r,o)}))}isEmpty(){return oD(this.inner)}size(){return this.innerSize}}const eL=new Ye(Nt.comparator);function Js(){return eL}const ED=new Ye(Nt.comparator);function nd(...n){let t=ED;for(const e of n)t=t.insert(e.key,e);return t}function SD(n){let t=ED;return n.forEach(((e,i)=>t=t.insert(e,i.overlayedDocument))),t}function el(){return hd()}function AD(){return hd()}function hd(){return new ml((n=>n.toString()),((n,t)=>n.isEqual(t)))}const nL=new Ye(Nt.comparator),iL=new Cn(Nt.comparator);function se(...n){let t=iL;for(const e of n)t=t.add(e);return t}const rL=new Cn(re);function sL(){return rL}function Xb(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Tg(t)?"-0":t}}function CD(n){return{integerValue:""+n}}function oL(n,t){return O4(t)?CD(t):Xb(n,t)}class dp{constructor(){this._=void 0}}function aL(n,t,e){return n instanceof Nd?(function(r,o){const l={fields:{[cD]:{stringValue:lD},[dD]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&qb(o)&&(o=lp(o)),o&&(l.fields[uD]=o),{mapValue:l}})(e,t):n instanceof Md?ID(n,t):n instanceof Od?RD(n,t):(function(r,o){const l=DD(r,o),u=XE(l)+XE(r.Ae);return L0(l)&&L0(r.Ae)?CD(u):Xb(r.serializer,u)})(n,t)}function lL(n,t,e){return n instanceof Md?ID(n,t):n instanceof Od?RD(n,t):e}function DD(n,t){return n instanceof Cg?(function(i){return L0(i)||(function(o){return!!o&&"doubleValue"in o})(i)})(t)?t:{integerValue:0}:null}class Nd extends dp{}class Md extends dp{constructor(t){super(),this.elements=t}}function ID(n,t){const e=ND(t);for(const i of n.elements)e.some((r=>ys(r,i)))||e.push(i);return{arrayValue:{values:e}}}class Od extends dp{constructor(t){super(),this.elements=t}}function RD(n,t){let e=ND(t);for(const i of n.elements)e=e.filter((r=>!ys(r,i)));return{arrayValue:{values:e}}}class Cg extends dp{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function XE(n){return ln(n.integerValue||n.doubleValue)}function ND(n){return Gb(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class cL{constructor(t,e){this.field=t,this.transform=e}}function uL(n,t){return n.field.isEqual(t.field)&&(function(i,r){return i instanceof Md&&r instanceof Md||i instanceof Od&&r instanceof Od?Sc(i.elements,r.elements,ys):i instanceof Cg&&r instanceof Cg?ys(i.Ae,r.Ae):i instanceof Nd&&r instanceof Nd})(n.transform,t.transform)}class dL{constructor(t,e){this.version=t,this.transformResults=e}}class di{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new di}static exists(t){return new di(void 0,t)}static updateTime(t){return new di(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function cg(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class hp{}function MD(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new fp(n.key,di.none()):new nh(n.key,n.data,di.none());{const e=n.data,i=Ai.empty();let r=new Cn(Hn.comparator);for(let o of t.fields)if(!r.has(o)){let l=e.field(o);l===null&&o.length>1&&(o=o.popLast(),l=e.field(o)),l===null?i.delete(o):i.set(o,l),r=r.add(o)}return new fa(n.key,i,new Fi(r.toArray()),di.none())}}function hL(n,t,e){n instanceof nh?(function(r,o,l){const u=r.value.clone(),d=KE(r.fieldTransforms,o,l.transformResults);u.setAll(d),o.convertToFoundDocument(l.version,u).setHasCommittedMutations()})(n,t,e):n instanceof fa?(function(r,o,l){if(!cg(r.precondition,o))return void o.convertToUnknownDocument(l.version);const u=KE(r.fieldTransforms,o,l.transformResults),d=o.data;d.setAll(OD(r)),d.setAll(u),o.convertToFoundDocument(l.version,d).setHasCommittedMutations()})(n,t,e):(function(r,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()})(0,t,e)}function fd(n,t,e,i){return n instanceof nh?(function(o,l,u,d){if(!cg(o.precondition,l))return u;const f=o.value.clone(),p=ZE(o.fieldTransforms,d,l);return f.setAll(p),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null})(n,t,e,i):n instanceof fa?(function(o,l,u,d){if(!cg(o.precondition,l))return u;const f=ZE(o.fieldTransforms,d,l),p=l.data;return p.setAll(OD(o)),p.setAll(f),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((y=>y.field)))})(n,t,e,i):(function(o,l,u){return cg(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u})(n,t,e)}function fL(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),o=DD(i.transform,r||null);o!=null&&(e===null&&(e=Ai.empty()),e.set(i.field,o))}return e||null}function QE(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Sc(i,r,((o,l)=>uL(o,l)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class nh extends hp{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class fa extends hp{constructor(t,e,i,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function OD(n){const t=new Map;return n.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}})),t}function KE(n,t,e){const i=new Map;_e(n.length===e.length,32656,{Re:e.length,Ve:n.length});for(let r=0;r<e.length;r++){const o=n[r],l=o.transform,u=t.data.field(o.field);i.set(o.field,lL(l,u,e[r]))}return i}function ZE(n,t,e){const i=new Map;for(const r of n){const o=r.transform,l=e.data.field(r.field);i.set(r.field,aL(o,l,t))}return i}class fp extends hp{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class gL extends hp{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class pL{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&hL(o,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=fd(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=fd(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=AD();return this.mutations.forEach((r=>{const o=t.get(r.key),l=o.overlayedDocument;let u=this.applyToLocalView(l,o.mutatedFields);u=e.has(r.key)?null:u;const d=MD(l,u);d!==null&&i.set(r.key,d),l.isValidDocument()||l.convertToNoDocument(jt.min())})),i}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),se())}isEqual(t){return this.batchId===t.batchId&&Sc(this.mutations,t.mutations,((e,i)=>QE(e,i)))&&Sc(this.baseMutations,t.baseMutations,((e,i)=>QE(e,i)))}}class Qb{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){_e(t.mutations.length===i.length,58842,{me:t.mutations.length,fe:i.length});let r=(function(){return nL})();const o=t.mutations;for(let l=0;l<o.length;l++)r=r.insert(o[l].key,i[l].version);return new Qb(t,e,i,r)}}class mL{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class yL{constructor(t,e){this.count=t,this.unchangedNames=e}}var _n,ae;function bL(n){switch(n){case lt.OK:return Lt(64938);case lt.CANCELLED:case lt.UNKNOWN:case lt.DEADLINE_EXCEEDED:case lt.RESOURCE_EXHAUSTED:case lt.INTERNAL:case lt.UNAVAILABLE:case lt.UNAUTHENTICATED:return!1;case lt.INVALID_ARGUMENT:case lt.NOT_FOUND:case lt.ALREADY_EXISTS:case lt.PERMISSION_DENIED:case lt.FAILED_PRECONDITION:case lt.ABORTED:case lt.OUT_OF_RANGE:case lt.UNIMPLEMENTED:case lt.DATA_LOSS:return!0;default:return Lt(15467,{code:n})}}function kD(n){if(n===void 0)return Zs("GRPC error has no .code"),lt.UNKNOWN;switch(n){case _n.OK:return lt.OK;case _n.CANCELLED:return lt.CANCELLED;case _n.UNKNOWN:return lt.UNKNOWN;case _n.DEADLINE_EXCEEDED:return lt.DEADLINE_EXCEEDED;case _n.RESOURCE_EXHAUSTED:return lt.RESOURCE_EXHAUSTED;case _n.INTERNAL:return lt.INTERNAL;case _n.UNAVAILABLE:return lt.UNAVAILABLE;case _n.UNAUTHENTICATED:return lt.UNAUTHENTICATED;case _n.INVALID_ARGUMENT:return lt.INVALID_ARGUMENT;case _n.NOT_FOUND:return lt.NOT_FOUND;case _n.ALREADY_EXISTS:return lt.ALREADY_EXISTS;case _n.PERMISSION_DENIED:return lt.PERMISSION_DENIED;case _n.FAILED_PRECONDITION:return lt.FAILED_PRECONDITION;case _n.ABORTED:return lt.ABORTED;case _n.OUT_OF_RANGE:return lt.OUT_OF_RANGE;case _n.UNIMPLEMENTED:return lt.UNIMPLEMENTED;case _n.DATA_LOSS:return lt.DATA_LOSS;default:return Lt(39323,{code:n})}}(ae=_n||(_n={}))[ae.OK=0]="OK",ae[ae.CANCELLED=1]="CANCELLED",ae[ae.UNKNOWN=2]="UNKNOWN",ae[ae.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ae[ae.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ae[ae.NOT_FOUND=5]="NOT_FOUND",ae[ae.ALREADY_EXISTS=6]="ALREADY_EXISTS",ae[ae.PERMISSION_DENIED=7]="PERMISSION_DENIED",ae[ae.UNAUTHENTICATED=16]="UNAUTHENTICATED",ae[ae.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ae[ae.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ae[ae.ABORTED=10]="ABORTED",ae[ae.OUT_OF_RANGE=11]="OUT_OF_RANGE",ae[ae.UNIMPLEMENTED=12]="UNIMPLEMENTED",ae[ae.INTERNAL=13]="INTERNAL",ae[ae.UNAVAILABLE=14]="UNAVAILABLE",ae[ae.DATA_LOSS=15]="DATA_LOSS";function _L(){return new TextEncoder}const vL=new Wo([4294967295,4294967295],0);function JE(n){const t=_L().encode(n),e=new XC;return e.update(t),new Uint8Array(e.digest())}function t1(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Wo([e,i],0),new Wo([r,o],0)]}class Kb{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new id(`Invalid padding: ${e}`);if(i<0)throw new id(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new id(`Invalid hash count: ${i}`);if(t.length===0&&e!==0)throw new id(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=Wo.fromNumber(this.ge)}ye(t,e,i){let r=t.add(e.multiply(Wo.fromNumber(i)));return r.compare(vL)===1&&(r=new Wo([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=JE(t),[i,r]=t1(e);for(let o=0;o<this.hashCount;o++){const l=this.ye(i,r,o);if(!this.we(l))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),l=new Kb(o,r,e);return i.forEach((u=>l.insert(u))),l}insert(t){if(this.ge===0)return;const e=JE(t),[i,r]=t1(e);for(let o=0;o<this.hashCount;o++){const l=this.ye(i,r,o);this.Se(l)}}Se(t){const e=Math.floor(t/8),i=t%8;this.bitmap[e]|=1<<i}}class id extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class gp{constructor(t,e,i,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,ih.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new gp(jt.min(),r,new Ye(re),Js(),se())}}class ih{constructor(t,e,i,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new ih(i,e,se(),se(),se())}}class ug{constructor(t,e,i,r){this.be=t,this.removedTargetIds=e,this.key=i,this.De=r}}class PD{constructor(t,e){this.targetId=t,this.Ce=e}}class zD{constructor(t,e,i=Gn.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class e1{constructor(){this.ve=0,this.Fe=n1(),this.Me=Gn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=se(),e=se(),i=se();return this.Fe.forEach(((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:Lt(38017,{changeType:o})}})),new ih(this.Me,this.xe,t,e,i)}qe(){this.Oe=!1,this.Fe=n1()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,_e(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class xL{constructor(t){this.Ge=t,this.ze=new Map,this.je=Js(),this.Je=Pf(),this.He=Pf(),this.Ye=new Ye(re)}Ze(t){for(const e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const i=this.nt(e);switch(t.state){case 0:this.rt(e)&&i.Le(t.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(t.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(i.We(),i.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),i.Le(t.resumeToken));break;default:Lt(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((i,r)=>{this.rt(r)&&e(r)}))}st(t){const e=t.targetId,i=t.Ce.count,r=this.ot(e);if(r){const o=r.target;if(U0(o))if(i===0){const l=new Nt(o.path);this.et(e,l,Jn.newNoDocument(l,jt.min()))}else _e(i===1,20013,{expectedCount:i});else{const l=this._t(e);if(l!==i){const u=this.ut(t),d=u?this.ct(u,t,l):1;if(d!==0){this.it(e);const f=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,f)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=e;let l,u;try{l=na(i).toUint8Array()}catch(d){if(d instanceof aD)return Ec("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{u=new Kb(l,r,o)}catch(d){return Ec(d instanceof id?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return u.ge===0?null:u}ct(t,e,i){return e.Ce.count===i-this.Pt(t,e.targetId)?0:2}Pt(t,e){const i=this.Ge.getRemoteKeysForTarget(e);let r=0;return i.forEach((o=>{const l=this.Ge.ht(),u=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;t.mightContain(u)||(this.et(e,o,null),r++)})),r}Tt(t){const e=new Map;this.ze.forEach(((o,l)=>{const u=this.ot(l);if(u){if(o.current&&U0(u.target)){const d=new Nt(u.target.path);this.It(d).has(l)||this.Et(l,d)||this.et(l,d,Jn.newNoDocument(d,t))}o.Be&&(e.set(l,o.ke()),o.qe())}}));let i=se();this.He.forEach(((o,l)=>{let u=!0;l.forEachWhile((d=>{const f=this.ot(d);return!f||f.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(i=i.add(o))})),this.je.forEach(((o,l)=>l.setReadTime(t)));const r=new gp(t,e,this.Ye,this.je,i);return this.je=Js(),this.Je=Pf(),this.He=Pf(),this.Ye=new Ye(re),r}Xe(t,e){if(!this.rt(t))return;const i=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,i),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,i){if(!this.rt(t))return;const r=this.nt(t);this.Et(t,e)?r.Qe(e,1):r.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),i&&(this.je=this.je.insert(e,i))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new e1,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new Cn(re),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new Cn(re),this.Je=this.Je.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||wt("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new e1),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function Pf(){return new Ye(Nt.comparator)}function n1(){return new Ye(Nt.comparator)}const wL={asc:"ASCENDING",desc:"DESCENDING"},TL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},EL={and:"AND",or:"OR"};class SL{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function F0(n,t){return n.useProto3Json||ap(t)?t:{value:t}}function Dg(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function LD(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function AL(n,t){return Dg(n,t.toTimestamp())}function gs(n){return _e(!!n,49232),jt.fromTimestamp((function(e){const i=ea(e);return new ze(i.seconds,i.nanos)})(n))}function Zb(n,t){return H0(n,t).canonicalString()}function H0(n,t){const e=(function(r){return new Re(["projects",r.projectId,"databases",r.database])})(n).child("documents");return t===void 0?e:e.child(t)}function VD(n){const t=Re.fromString(n);return _e(HD(t),10190,{key:t.toString()}),t}function q0(n,t){return Zb(n.databaseId,t.path)}function $y(n,t){const e=VD(t);if(e.get(1)!==n.databaseId.projectId)throw new vt(lt.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new vt(lt.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Nt(jD(e))}function UD(n,t){return Zb(n.databaseId,t)}function CL(n){const t=VD(n);return t.length===4?Re.emptyPath():jD(t)}function G0(n){return new Re(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function jD(n){return _e(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function i1(n,t,e){return{name:q0(n,t),fields:e.value.mapValue.fields}}function DL(n,t){let e;if("targetChange"in t){t.targetChange;const i=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:Lt(39313,{state:f})})(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],o=(function(f,p){return f.useProto3Json?(_e(p===void 0||typeof p=="string",58123),Gn.fromBase64String(p||"")):(_e(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),Gn.fromUint8Array(p||new Uint8Array))})(n,t.targetChange.resumeToken),l=t.targetChange.cause,u=l&&(function(f){const p=f.code===void 0?lt.UNKNOWN:kD(f.code);return new vt(p,f.message||"")})(l);e=new zD(i,r,o,u||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=$y(n,i.document.name),o=gs(i.document.updateTime),l=i.document.createTime?gs(i.document.createTime):jt.min(),u=new Ai({mapValue:{fields:i.document.fields}}),d=Jn.newFoundDocument(r,o,l,u),f=i.targetIds||[],p=i.removedTargetIds||[];e=new ug(f,p,d.key,d)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=$y(n,i.document),o=i.readTime?gs(i.readTime):jt.min(),l=Jn.newNoDocument(r,o),u=i.removedTargetIds||[];e=new ug([],u,l.key,l)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=$y(n,i.document),o=i.removedTargetIds||[];e=new ug([],o,r,null)}else{if(!("filter"in t))return Lt(11601,{Rt:t});{t.filter;const i=t.filter;i.targetId;const{count:r=0,unchangedNames:o}=i,l=new yL(r,o),u=i.targetId;e=new PD(u,l)}}return e}function IL(n,t){let e;if(t instanceof nh)e={update:i1(n,t.key,t.value)};else if(t instanceof fp)e={delete:q0(n,t.key)};else if(t instanceof fa)e={update:i1(n,t.key,t.data),updateMask:VL(t.fieldMask)};else{if(!(t instanceof gL))return Lt(16599,{Vt:t.type});e={verify:q0(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((i=>(function(o,l){const u=l.transform;if(u instanceof Nd)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Md)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof Od)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Cg)return{fieldPath:l.field.canonicalString(),increment:u.Ae};throw Lt(20930,{transform:l.transform})})(0,i)))),t.precondition.isNone||(e.currentDocument=(function(r,o){return o.updateTime!==void 0?{updateTime:AL(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:Lt(27497)})(n,t.precondition)),e}function RL(n,t){return n&&n.length>0?(_e(t!==void 0,14353),n.map((e=>(function(r,o){let l=r.updateTime?gs(r.updateTime):gs(o);return l.isEqual(jt.min())&&(l=gs(o)),new dL(l,r.transformResults||[])})(e,t)))):[]}function NL(n,t){return{documents:[UD(n,t.path)]}}function ML(n,t){const e={structuredQuery:{}},i=t.path;let r;t.collectionGroup!==null?(r=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=UD(n,r);const o=(function(f){if(f.length!==0)return FD(jr.create(f,"and"))})(t.filters);o&&(e.structuredQuery.where=o);const l=(function(f){if(f.length!==0)return f.map((p=>(function(_){return{field:hc(_.field),direction:PL(_.dir)}})(p)))})(t.orderBy);l&&(e.structuredQuery.orderBy=l);const u=F0(n,t.limit);return u!==null&&(e.structuredQuery.limit=u),t.startAt&&(e.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(t.endAt)),{ft:e,parent:r}}function OL(n){let t=CL(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){_e(i===1,65062);const p=e.from[0];p.allDescendants?r=p.collectionId:t=t.child(p.collectionId)}let o=[];e.where&&(o=(function(y){const _=BD(y);return _ instanceof jr&&yD(_)?_.getFilters():[_]})(e.where));let l=[];e.orderBy&&(l=(function(y){return y.map((_=>(function(S){return new Rd(fc(S.field),(function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(S.direction))})(_)))})(e.orderBy));let u=null;e.limit&&(u=(function(y){let _;return _=typeof y=="object"?y.value:y,ap(_)?null:_})(e.limit));let d=null;e.startAt&&(d=(function(y){const _=!!y.before,v=y.values||[];return new Ag(v,_)})(e.startAt));let f=null;return e.endAt&&(f=(function(y){const _=!y.before,v=y.values||[];return new Ag(v,_)})(e.endAt)),K4(t,r,l,o,u,"F",d,f)}function kL(n,t){const e=(function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Lt(28987,{purpose:r})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function BD(n){return n.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=fc(e.unaryFilter.field);return vn.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=fc(e.unaryFilter.field);return vn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=fc(e.unaryFilter.field);return vn.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=fc(e.unaryFilter.field);return vn.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Lt(61313);default:return Lt(60726)}})(n):n.fieldFilter!==void 0?(function(e){return vn.create(fc(e.fieldFilter.field),(function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Lt(58110);default:return Lt(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(e){return jr.create(e.compositeFilter.filters.map((i=>BD(i))),(function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return Lt(1026)}})(e.compositeFilter.op))})(n):Lt(30097,{filter:n})}function PL(n){return wL[n]}function zL(n){return TL[n]}function LL(n){return EL[n]}function hc(n){return{fieldPath:n.canonicalString()}}function fc(n){return Hn.fromServerFormat(n.fieldPath)}function FD(n){return n instanceof vn?(function(e){if(e.op==="=="){if(qE(e.value))return{unaryFilter:{field:hc(e.field),op:"IS_NAN"}};if(HE(e.value))return{unaryFilter:{field:hc(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(qE(e.value))return{unaryFilter:{field:hc(e.field),op:"IS_NOT_NAN"}};if(HE(e.value))return{unaryFilter:{field:hc(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hc(e.field),op:zL(e.op),value:e.value}}})(n):n instanceof jr?(function(e){const i=e.getFilters().map((r=>FD(r)));return i.length===1?i[0]:{compositeFilter:{op:LL(e.op),filters:i}}})(n):Lt(54877,{filter:n})}function VL(n){const t=[];return n.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function HD(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}class Bo{constructor(t,e,i,r,o=jt.min(),l=jt.min(),u=Gn.EMPTY_BYTE_STRING,d=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=d}withSequenceNumber(t){return new Bo(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Bo(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Bo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Bo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class UL{constructor(t){this.yt=t}}function jL(n){const t=OL({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?B0(t,t.limit,"L"):t}class BL{constructor(){this.Cn=new FL}addToCollectionParentIndex(t,e){return this.Cn.add(e),ut.resolve()}getCollectionParents(t,e){return ut.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return ut.resolve()}deleteFieldIndex(t,e){return ut.resolve()}deleteAllFieldIndexes(t){return ut.resolve()}createTargetIndexes(t,e){return ut.resolve()}getDocumentsMatchingTarget(t,e){return ut.resolve(null)}getIndexType(t,e){return ut.resolve(0)}getFieldIndexes(t,e){return ut.resolve([])}getNextCollectionGroupToUpdate(t){return ut.resolve(null)}getMinOffset(t,e){return ut.resolve(ta.min())}getMinOffsetFromCollectionGroup(t,e){return ut.resolve(ta.min())}updateCollectionGroup(t,e,i){return ut.resolve()}updateIndexEntries(t,e){return ut.resolve()}}class FL{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new Cn(Re.comparator),o=!r.has(i);return this.index[e]=r.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Cn(Re.comparator)).toArray()}}const r1={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},qD=41943040;class Ei{static withCacheSize(t){return new Ei(t,Ei.DEFAULT_COLLECTION_PERCENTILE,Ei.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}}Ei.DEFAULT_COLLECTION_PERCENTILE=10,Ei.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ei.DEFAULT=new Ei(qD,Ei.DEFAULT_COLLECTION_PERCENTILE,Ei.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ei.DISABLED=new Ei(-1,0,0);class Dc{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Dc(0)}static cr(){return new Dc(-1)}}const s1="LruGarbageCollector",HL=1048576;function o1([n,t],[e,i]){const r=re(n,e);return r===0?re(t,i):r}class qL{constructor(t){this.Ir=t,this.buffer=new Cn(o1),this.Er=0}dr(){return++this.Er}Ar(t){const e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();o1(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class GL{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){wt(s1,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Fc(e)?wt(s1,"Ignoring IndexedDB error during garbage collection: ",e):await Bc(e)}await this.Vr(3e5)}))}}class YL{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next((i=>Math.floor(e/100*i)))}nthSequenceNumber(t,e){if(e===0)return ut.resolve(op.ce);const i=new qL(e);return this.mr.forEachTarget(t,(r=>i.Ar(r.sequenceNumber))).next((()=>this.mr.pr(t,(r=>i.Ar(r))))).next((()=>i.maxValue))}removeTargets(t,e,i){return this.mr.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(wt("LruGarbageCollector","Garbage collection skipped; disabled"),ut.resolve(r1)):this.getCacheSize(t).next((i=>i<this.params.cacheSizeCollectionThreshold?(wt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),r1):this.yr(t,e)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let i,r,o,l,u,d,f;const p=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((y=>(y>this.params.maximumSequenceNumbersToCollect?(wt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),r=this.params.maximumSequenceNumbersToCollect):r=y,l=Date.now(),this.nthSequenceNumber(t,r)))).next((y=>(i=y,u=Date.now(),this.removeTargets(t,i,e)))).next((y=>(o=y,d=Date.now(),this.removeOrphanedDocuments(t,i)))).next((y=>(f=Date.now(),uc()<=ie.DEBUG&&wt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-p}ms
	Determined least recently used ${r} in `+(u-l)+`ms
	Removed ${o} targets in `+(d-u)+`ms
	Removed ${y} documents in `+(f-d)+`ms
Total Duration: ${f-p}ms`),ut.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:y}))))}}function $L(n,t){return new YL(n,t)}class WL{constructor(){this.changes=new ml((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,Jn.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return i!==void 0?ut.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class XL{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class QL{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next((r=>(i=r,this.remoteDocumentCache.getEntry(t,e)))).next((r=>(i!==null&&fd(i.mutation,r,Fi.empty(),ze.now()),r)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.getLocalViewOfDocuments(t,i,se()).next((()=>i))))}getLocalViewOfDocuments(t,e,i=se()){const r=el();return this.populateOverlays(t,r,e).next((()=>this.computeViews(t,e,r,i).next((o=>{let l=nd();return o.forEach(((u,d)=>{l=l.insert(u,d.overlayedDocument)})),l}))))}getOverlayedDocuments(t,e){const i=el();return this.populateOverlays(t,i,e).next((()=>this.computeViews(t,e,i,se())))}populateOverlays(t,e,i){const r=[];return i.forEach((o=>{e.has(o)||r.push(o)})),this.documentOverlayCache.getOverlays(t,r).next((o=>{o.forEach(((l,u)=>{e.set(l,u)}))}))}computeViews(t,e,i,r){let o=Js();const l=hd(),u=(function(){return hd()})();return e.forEach(((d,f)=>{const p=i.get(f.key);r.has(f.key)&&(p===void 0||p.mutation instanceof fa)?o=o.insert(f.key,f):p!==void 0?(l.set(f.key,p.mutation.getFieldMask()),fd(p.mutation,f,p.mutation.getFieldMask(),ze.now())):l.set(f.key,Fi.empty())})),this.recalculateAndSaveOverlays(t,o).next((d=>(d.forEach(((f,p)=>l.set(f,p))),e.forEach(((f,p)=>u.set(f,new XL(p,l.get(f)??null)))),u)))}recalculateAndSaveOverlays(t,e){const i=hd();let r=new Ye(((l,u)=>l-u)),o=se();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((l=>{for(const u of l)u.keys().forEach((d=>{const f=e.get(d);if(f===null)return;let p=i.get(d)||Fi.empty();p=u.applyToLocalView(f,p),i.set(d,p);const y=(r.get(u.batchId)||se()).add(d);r=r.insert(u.batchId,y)}))})).next((()=>{const l=[],u=r.getReverseIterator();for(;u.hasNext();){const d=u.getNext(),f=d.key,p=d.value,y=AD();p.forEach((_=>{if(!o.has(_)){const v=MD(e.get(_),i.get(_));v!==null&&y.set(_,v),o=o.add(_)}})),l.push(this.documentOverlayCache.saveOverlays(t,f,y))}return ut.waitFor(l)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.recalculateAndSaveOverlays(t,i)))}getDocumentsMatchingQuery(t,e,i,r){return(function(l){return Nt.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):xD(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,r):this.getDocumentsMatchingCollectionQuery(t,e,i,r)}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next((o=>{const l=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-o.size):ut.resolve(el());let u=Ad,d=o;return l.next((f=>ut.forEach(f,((p,y)=>(u<y.largestBatchId&&(u=y.largestBatchId),o.get(p)?ut.resolve():this.remoteDocumentCache.getEntry(t,p).next((_=>{d=d.insert(p,_)}))))).next((()=>this.populateOverlays(t,f,o))).next((()=>this.computeViews(t,d,f,se()))).next((p=>({batchId:u,changes:SD(p)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Nt(e)).next((i=>{let r=nd();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r}))}getDocumentsMatchingCollectionGroupQuery(t,e,i,r){const o=e.collectionGroup;let l=nd();return this.indexManager.getCollectionParents(t,o).next((u=>ut.forEach(u,(d=>{const f=(function(y,_){return new Hc(_,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)})(e,d.child(o));return this.getDocumentsMatchingCollectionQuery(t,f,i,r).next((p=>{p.forEach(((y,_)=>{l=l.insert(y,_)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(t,e,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next((l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,o,r)))).next((l=>{o.forEach(((d,f)=>{const p=f.getKey();l.get(p)===null&&(l=l.insert(p,Jn.newInvalidDocument(p)))}));let u=nd();return l.forEach(((d,f)=>{const p=o.get(d);p!==void 0&&fd(p.mutation,f,Fi.empty(),ze.now()),up(e,f)&&(u=u.insert(d,f))})),u}))}}class KL{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return ut.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,(function(r){return{id:r.id,version:r.version,createTime:gs(r.createTime)}})(e)),ut.resolve()}getNamedQuery(t,e){return ut.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,(function(r){return{name:r.name,query:jL(r.bundledQuery),readTime:gs(r.readTime)}})(e)),ut.resolve()}}class ZL{constructor(){this.overlays=new Ye(Nt.comparator),this.qr=new Map}getOverlay(t,e){return ut.resolve(this.overlays.get(e))}getOverlays(t,e){const i=el();return ut.forEach(e,(r=>this.getOverlay(t,r).next((o=>{o!==null&&i.set(r,o)})))).next((()=>i))}saveOverlays(t,e,i){return i.forEach(((r,o)=>{this.St(t,e,o)})),ut.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.qr.get(i);return r!==void 0&&(r.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(i)),ut.resolve()}getOverlaysForCollection(t,e,i){const r=el(),o=e.length+1,l=new Nt(e.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const d=u.getNext().value,f=d.getKey();if(!e.isPrefixOf(f.path))break;f.path.length===o&&d.largestBatchId>i&&r.set(d.getKey(),d)}return ut.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let o=new Ye(((f,p)=>f-p));const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===e&&f.largestBatchId>i){let p=o.get(f.largestBatchId);p===null&&(p=el(),o=o.insert(f.largestBatchId,p)),p.set(f.getKey(),f)}}const u=el(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((f,p)=>u.set(f,p))),!(u.size()>=r)););return ut.resolve(u)}St(t,e,i){const r=this.overlays.get(i.key);if(r!==null){const l=this.qr.get(r.largestBatchId).delete(i.key);this.qr.set(r.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new mL(e,i));let o=this.qr.get(e);o===void 0&&(o=se(),this.qr.set(e,o)),this.qr.set(e,o.add(i.key))}}class JL{constructor(){this.sessionToken=Gn.EMPTY_BYTE_STRING}getSessionToken(t){return ut.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,ut.resolve()}}class Jb{constructor(){this.Qr=new Cn(Rn.$r),this.Ur=new Cn(Rn.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){const i=new Rn(t,e);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(t,e){t.forEach((i=>this.addReference(i,e)))}removeReference(t,e){this.Gr(new Rn(t,e))}zr(t,e){t.forEach((i=>this.removeReference(i,e)))}jr(t){const e=new Nt(new Re([])),i=new Rn(e,t),r=new Rn(e,t+1),o=[];return this.Ur.forEachInRange([i,r],(l=>{this.Gr(l),o.push(l.key)})),o}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const e=new Nt(new Re([])),i=new Rn(e,t),r=new Rn(e,t+1);let o=se();return this.Ur.forEachInRange([i,r],(l=>{o=o.add(l.key)})),o}containsKey(t){const e=new Rn(t,0),i=this.Qr.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}}class Rn{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return Nt.comparator(t.key,e.key)||re(t.Yr,e.Yr)}static Kr(t,e){return re(t.Yr,e.Yr)||Nt.comparator(t.key,e.key)}}class t5{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new Cn(Rn.$r)}checkEmpty(t){return ut.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,r){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new pL(o,e,i,r);this.mutationQueue.push(l);for(const u of r)this.Zr=this.Zr.add(new Rn(u.key,o)),this.indexManager.addToCollectionParentIndex(t,u.key.path.popLast());return ut.resolve(l)}lookupMutationBatch(t,e){return ut.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=this.ei(i),o=r<0?0:r;return ut.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return ut.resolve(this.mutationQueue.length===0?Hb:this.tr-1)}getAllMutationBatches(t){return ut.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Rn(e,0),r=new Rn(e,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([i,r],(l=>{const u=this.Xr(l.Yr);o.push(u)})),ut.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Cn(re);return e.forEach((r=>{const o=new Rn(r,0),l=new Rn(r,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,l],(u=>{i=i.add(u.Yr)}))})),ut.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let o=i;Nt.isDocumentKey(o)||(o=o.child(""));const l=new Rn(new Nt(o),0);let u=new Cn(re);return this.Zr.forEachWhile((d=>{const f=d.key.path;return!!i.isPrefixOf(f)&&(f.length===r&&(u=u.add(d.Yr)),!0)}),l),ut.resolve(this.ti(u))}ti(t){const e=[];return t.forEach((i=>{const r=this.Xr(i);r!==null&&e.push(r)})),e}removeMutationBatch(t,e){_e(this.ni(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return ut.forEach(e.mutations,(r=>{const o=new Rn(r.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)})).next((()=>{this.Zr=i}))}ir(t){}containsKey(t,e){const i=new Rn(e,0),r=this.Zr.firstAfterOrEqual(i);return ut.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,ut.resolve()}ni(t,e){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class e5{constructor(t){this.ri=t,this.docs=(function(){return new Ye(Nt.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),o=r?r.size:0,l=this.ri(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return ut.resolve(i?i.document.mutableCopy():Jn.newInvalidDocument(e))}getEntries(t,e){let i=Js();return e.forEach((r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():Jn.newInvalidDocument(r))})),ut.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let o=Js();const l=e.path,u=new Nt(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:f,value:{document:p}}=d.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||I4(D4(p),i)<=0||(r.has(p.key)||up(e,p))&&(o=o.insert(p.key,p.mutableCopy()))}return ut.resolve(o)}getAllFromCollectionGroup(t,e,i,r){Lt(9500)}ii(t,e){return ut.forEach(this.docs,(i=>e(i)))}newChangeBuffer(t){return new n5(this)}getSize(t){return ut.resolve(this.size)}}class n5 extends WL{constructor(t){super(),this.Nr=t}applyChanges(t){const e=[];return this.changes.forEach(((i,r)=>{r.isValidDocument()?e.push(this.Nr.addEntry(t,r)):this.Nr.removeEntry(i)})),ut.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}}class i5{constructor(t){this.persistence=t,this.si=new ml((e=>Yb(e)),$b),this.lastRemoteSnapshotVersion=jt.min(),this.highestTargetId=0,this.oi=0,this._i=new Jb,this.targetCount=0,this.ai=Dc.ur()}forEachTarget(t,e){return this.si.forEach(((i,r)=>e(r))),ut.resolve()}getLastRemoteSnapshotVersion(t){return ut.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return ut.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),ut.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.oi&&(this.oi=e),ut.resolve()}Pr(t){this.si.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ai=new Dc(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,ut.resolve()}updateTargetData(t,e){return this.Pr(e),ut.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,ut.resolve()}removeTargets(t,e,i){let r=0;const o=[];return this.si.forEach(((l,u)=>{u.sequenceNumber<=e&&i.get(u.targetId)===null&&(this.si.delete(l),o.push(this.removeMatchingKeysForTargetId(t,u.targetId)),r++)})),ut.waitFor(o).next((()=>r))}getTargetCount(t){return ut.resolve(this.targetCount)}getTargetData(t,e){const i=this.si.get(e)||null;return ut.resolve(i)}addMatchingKeys(t,e,i){return this._i.Wr(e,i),ut.resolve()}removeMatchingKeys(t,e,i){this._i.zr(e,i);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach((l=>{o.push(r.markPotentiallyOrphaned(t,l))})),ut.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),ut.resolve()}getMatchingKeysForTargetId(t,e){const i=this._i.Hr(e);return ut.resolve(i)}containsKey(t,e){return ut.resolve(this._i.containsKey(e))}}class GD{constructor(t,e){this.ui={},this.overlays={},this.ci=new op(0),this.li=!1,this.li=!0,this.hi=new JL,this.referenceDelegate=t(this),this.Pi=new i5(this),this.indexManager=new BL,this.remoteDocumentCache=(function(r){return new e5(r)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new UL(e),this.Ii=new KL(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new ZL,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.ui[t.toKey()];return i||(i=new t5(e,this.referenceDelegate),this.ui[t.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,i){wt("MemoryPersistence","Starting transaction:",t);const r=new r5(this.ci.next());return this.referenceDelegate.Ei(),i(r).next((o=>this.referenceDelegate.di(r).next((()=>o)))).toPromise().then((o=>(r.raiseOnCommittedEvent(),o)))}Ai(t,e){return ut.or(Object.values(this.ui).map((i=>()=>i.containsKey(t,e))))}}class r5 extends N4{constructor(t){super(),this.currentSequenceNumber=t}}class t_{constructor(t){this.persistence=t,this.Ri=new Jb,this.Vi=null}static mi(t){return new t_(t)}get fi(){if(this.Vi)return this.Vi;throw Lt(60996)}addReference(t,e,i){return this.Ri.addReference(i,e),this.fi.delete(i.toString()),ut.resolve()}removeReference(t,e,i){return this.Ri.removeReference(i,e),this.fi.add(i.toString()),ut.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),ut.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach((r=>this.fi.add(r.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next((r=>{r.forEach((o=>this.fi.add(o.toString())))})).next((()=>i.removeTargetData(t,e)))}Ei(){this.Vi=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ut.forEach(this.fi,(i=>{const r=Nt.fromPath(i);return this.gi(t,r).next((o=>{o||e.removeEntry(r,jt.min())}))})).next((()=>(this.Vi=null,e.apply(t))))}updateLimboDocument(t,e){return this.gi(t,e).next((i=>{i?this.fi.delete(e.toString()):this.fi.add(e.toString())}))}Ti(t){return 0}gi(t,e){return ut.or([()=>ut.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}class Ig{constructor(t,e){this.persistence=t,this.pi=new ml((i=>k4(i.path)),((i,r)=>i.isEqual(r))),this.garbageCollector=$L(this,e)}static mi(t,e){return new Ig(t,e)}Ei(){}di(t){return ut.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){const e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((i=>e.next((r=>i+r))))}wr(t){let e=0;return this.pr(t,(i=>{e++})).next((()=>e))}pr(t,e){return ut.forEach(this.pi,((i,r)=>this.br(t,i,r).next((o=>o?ut.resolve():e(r)))))}removeTargets(t,e,i){return this.persistence.getTargetCache().removeTargets(t,e,i)}removeOrphanedDocuments(t,e){let i=0;const r=this.persistence.getRemoteDocumentCache(),o=r.newChangeBuffer();return r.ii(t,(l=>this.br(t,l,e).next((u=>{u||(i++,o.removeEntry(l,jt.min()))})))).next((()=>o.apply(t))).next((()=>i))}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),ut.resolve()}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,e,i){return this.pi.set(i,t.currentSequenceNumber),ut.resolve()}removeReference(t,e,i){return this.pi.set(i,t.currentSequenceNumber),ut.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),ut.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=ag(t.data.value)),e}br(t,e,i){return ut.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const r=this.pi.get(e);return ut.resolve(r!==void 0&&r>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class e_{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Es=i,this.ds=r}static As(t,e){let i=se(),r=se();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new e_(t,e.fromCache,i,r)}}class s5{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class o5{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return kO()?8:M4(ei())>0?6:4})()}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,i,r){const o={result:null};return this.ys(t,e).next((l=>{o.result=l})).next((()=>{if(!o.result)return this.ws(t,e,r,i).next((l=>{o.result=l}))})).next((()=>{if(o.result)return;const l=new s5;return this.Ss(t,e,l).next((u=>{if(o.result=u,this.Vs)return this.bs(t,e,l,u.size)}))})).next((()=>o.result))}bs(t,e,i,r){return i.documentReadCount<this.fs?(uc()<=ie.DEBUG&&wt("QueryEngine","SDK will not create cache indexes for query:",dc(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),ut.resolve()):(uc()<=ie.DEBUG&&wt("QueryEngine","Query:",dc(e),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.gs*r?(uc()<=ie.DEBUG&&wt("QueryEngine","The SDK decides to create cache indexes for query:",dc(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,fs(e))):ut.resolve())}ys(t,e){if(WE(e))return ut.resolve(null);let i=fs(e);return this.indexManager.getIndexType(t,i).next((r=>r===0?null:(e.limit!==null&&r===1&&(e=B0(e,null,"F"),i=fs(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next((o=>{const l=se(...o);return this.ps.getDocuments(t,l).next((u=>this.indexManager.getMinOffset(t,i).next((d=>{const f=this.Ds(e,u);return this.Cs(e,f,l,d.readTime)?this.ys(t,B0(e,null,"F")):this.vs(t,f,e,d)}))))})))))}ws(t,e,i,r){return WE(e)||r.isEqual(jt.min())?ut.resolve(null):this.ps.getDocuments(t,i).next((o=>{const l=this.Ds(e,o);return this.Cs(e,l,i,r)?ut.resolve(null):(uc()<=ie.DEBUG&&wt("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),dc(e)),this.vs(t,l,e,C4(r,Ad)).next((u=>u)))}))}Ds(t,e){let i=new Cn(TD(t));return e.forEach(((r,o)=>{up(t,o)&&(i=i.add(o))})),i}Cs(t,e,i,r){if(t.limit===null)return!1;if(i.size!==e.size)return!0;const o=t.limitType==="F"?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Ss(t,e,i){return uc()<=ie.DEBUG&&wt("QueryEngine","Using full collection scan to execute query:",dc(e)),this.ps.getDocumentsMatchingQuery(t,e,ta.min(),i)}vs(t,e,i,r){return this.ps.getDocumentsMatchingQuery(t,i,r).next((o=>(e.forEach((l=>{o=o.insert(l.key,l)})),o)))}}const n_="LocalStore",a5=3e8;class l5{constructor(t,e,i,r){this.persistence=t,this.Fs=e,this.serializer=r,this.Ms=new Ye(re),this.xs=new ml((o=>Yb(o)),$b),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(i)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new QL(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.Ms)))}}function c5(n,t,e,i){return new l5(n,t,e,i)}async function YD(n,t){const e=Ht(n);return await e.persistence.runTransaction("Handle user change","readonly",(i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next((o=>(r=o,e.Bs(t),e.mutationQueue.getAllMutationBatches(i)))).next((o=>{const l=[],u=[];let d=se();for(const f of r){l.push(f.batchId);for(const p of f.mutations)d=d.add(p.key)}for(const f of o){u.push(f.batchId);for(const p of f.mutations)d=d.add(p.key)}return e.localDocuments.getDocuments(i,d).next((f=>({Ls:f,removedBatchIds:l,addedBatchIds:u})))}))}))}function u5(n,t){const e=Ht(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const r=t.batch.keys(),o=e.Ns.newChangeBuffer({trackRemovals:!0});return(function(u,d,f,p){const y=f.batch,_=y.keys();let v=ut.resolve();return _.forEach((S=>{v=v.next((()=>p.getEntry(d,S))).next((A=>{const E=f.docVersions.get(S);_e(E!==null,48541),A.version.compareTo(E)<0&&(y.applyToRemoteDocument(A,f),A.isValidDocument()&&(A.setReadTime(f.commitVersion),p.addEntry(A)))}))})),v.next((()=>u.mutationQueue.removeMutationBatch(d,y)))})(e,i,t,o).next((()=>o.apply(i))).next((()=>e.mutationQueue.performConsistencyCheck(i))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(u){let d=se();for(let f=0;f<u.mutationResults.length;++f)u.mutationResults[f].transformResults.length>0&&(d=d.add(u.batch.mutations[f].key));return d})(t)))).next((()=>e.localDocuments.getDocuments(i,r)))}))}function $D(n){const t=Ht(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Pi.getLastRemoteSnapshotVersion(e)))}function d5(n,t){const e=Ht(n),i=t.snapshotVersion;let r=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const l=e.Ns.newChangeBuffer({trackRemovals:!0});r=e.Ms;const u=[];t.targetChanges.forEach(((p,y)=>{const _=r.get(y);if(!_)return;u.push(e.Pi.removeMatchingKeys(o,p.removedDocuments,y).next((()=>e.Pi.addMatchingKeys(o,p.addedDocuments,y))));let v=_.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(y)!==null?v=v.withResumeToken(Gn.EMPTY_BYTE_STRING,jt.min()).withLastLimboFreeSnapshotVersion(jt.min()):p.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(p.resumeToken,i)),r=r.insert(y,v),(function(A,E,O){return A.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-A.snapshotVersion.toMicroseconds()>=a5?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0})(_,v,p)&&u.push(e.Pi.updateTargetData(o,v))}));let d=Js(),f=se();if(t.documentUpdates.forEach((p=>{t.resolvedLimboDocuments.has(p)&&u.push(e.persistence.referenceDelegate.updateLimboDocument(o,p))})),u.push(h5(o,l,t.documentUpdates).next((p=>{d=p.ks,f=p.qs}))),!i.isEqual(jt.min())){const p=e.Pi.getLastRemoteSnapshotVersion(o).next((y=>e.Pi.setTargetsMetadata(o,o.currentSequenceNumber,i)));u.push(p)}return ut.waitFor(u).next((()=>l.apply(o))).next((()=>e.localDocuments.getLocalViewOfDocuments(o,d,f))).next((()=>d))})).then((o=>(e.Ms=r,o)))}function h5(n,t,e){let i=se(),r=se();return e.forEach((o=>i=i.add(o))),t.getEntries(n,i).next((o=>{let l=Js();return e.forEach(((u,d)=>{const f=o.get(u);d.isFoundDocument()!==f.isFoundDocument()&&(r=r.add(u)),d.isNoDocument()&&d.version.isEqual(jt.min())?(t.removeEntry(u,d.readTime),l=l.insert(u,d)):!f.isValidDocument()||d.version.compareTo(f.version)>0||d.version.compareTo(f.version)===0&&f.hasPendingWrites?(t.addEntry(d),l=l.insert(u,d)):wt(n_,"Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",d.version)})),{ks:l,qs:r}}))}function f5(n,t){const e=Ht(n);return e.persistence.runTransaction("Get next mutation batch","readonly",(i=>(t===void 0&&(t=Hb),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t))))}function g5(n,t){const e=Ht(n);return e.persistence.runTransaction("Allocate target","readwrite",(i=>{let r;return e.Pi.getTargetData(i,t).next((o=>o?(r=o,ut.resolve(r)):e.Pi.allocateTargetId(i).next((l=>(r=new Bo(t,l,"TargetPurposeListen",i.currentSequenceNumber),e.Pi.addTargetData(i,r).next((()=>r)))))))})).then((i=>{const r=e.Ms.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.Ms=e.Ms.insert(i.targetId,i),e.xs.set(t,i.targetId)),i}))}async function Y0(n,t,e){const i=Ht(n),r=i.Ms.get(t),o=e?"readwrite":"readwrite-primary";try{e||await i.persistence.runTransaction("Release target",o,(l=>i.persistence.referenceDelegate.removeTarget(l,r)))}catch(l){if(!Fc(l))throw l;wt(n_,`Failed to update sequence numbers for target ${t}: ${l}`)}i.Ms=i.Ms.remove(t),i.xs.delete(r.target)}function a1(n,t,e){const i=Ht(n);let r=jt.min(),o=se();return i.persistence.runTransaction("Execute query","readwrite",(l=>(function(d,f,p){const y=Ht(d),_=y.xs.get(p);return _!==void 0?ut.resolve(y.Ms.get(_)):y.Pi.getTargetData(f,p)})(i,l,fs(t)).next((u=>{if(u)return r=u.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(l,u.targetId).next((d=>{o=d}))})).next((()=>i.Fs.getDocumentsMatchingQuery(l,t,e?r:jt.min(),e?o:se()))).next((u=>(p5(i,J4(t),u),{documents:u,Qs:o})))))}function p5(n,t,e){let i=n.Os.get(t)||jt.min();e.forEach(((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)})),n.Os.set(t,i)}class l1{constructor(){this.activeTargetIds=sL()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class m5{constructor(){this.Mo=new l1,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,i){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new l1,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class y5{Oo(t){}shutdown(){}}const c1="ConnectivityMonitor";class u1{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){wt(c1,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){wt(c1,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let zf=null;function $0(){return zf===null?zf=(function(){return 268435456+Math.round(2147483648*Math.random())})():zf++,"0x"+zf.toString(16)}const Wy="RestConnection",b5={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class _5{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${i}/databases/${r}`,this.Wo=this.databaseId.database===Eg?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Go(t,e,i,r,o){const l=$0(),u=this.zo(t,e.toUriEncodedString());wt(Wy,`Sending RPC '${t}' ${l}:`,u,i);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,r,o);const{host:f}=new URL(u),p=Lc(f);return this.Jo(t,u,d,i,p).then((y=>(wt(Wy,`Received RPC '${t}' ${l}: `,y),y)),(y=>{throw Ec(Wy,`RPC '${t}' ${l} failed with error: `,y,"url: ",u,"request:",i),y}))}Ho(t,e,i,r,o,l){return this.Go(t,e,i,r,o)}jo(t,e,i){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+jc})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((r,o)=>t[o]=r)),i&&i.headers.forEach(((r,o)=>t[o]=r))}zo(t,e){const i=b5[t];return`${this.Uo}/v1/${e}:${i}`}terminate(){}}class v5{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const Qn="WebChannelConnection";class x5 extends _5{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,i,r,o){const l=$0();return new Promise(((u,d)=>{const f=new QC;f.setWithCredentials(!0),f.listenOnce(KC.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case og.NO_ERROR:const y=f.getResponseJson();wt(Qn,`XHR for RPC '${t}' ${l} received:`,JSON.stringify(y)),u(y);break;case og.TIMEOUT:wt(Qn,`RPC '${t}' ${l} timed out`),d(new vt(lt.DEADLINE_EXCEEDED,"Request time out"));break;case og.HTTP_ERROR:const _=f.getStatus();if(wt(Qn,`RPC '${t}' ${l} failed with status:`,_,"response text:",f.getResponseText()),_>0){let v=f.getResponseJson();Array.isArray(v)&&(v=v[0]);const S=v?.error;if(S&&S.status&&S.message){const A=(function(O){const V=O.toLowerCase().replace(/_/g,"-");return Object.values(lt).indexOf(V)>=0?V:lt.UNKNOWN})(S.status);d(new vt(A,S.message))}else d(new vt(lt.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new vt(lt.UNAVAILABLE,"Connection failed."));break;default:Lt(9055,{l_:t,streamId:l,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{wt(Qn,`RPC '${t}' ${l} completed.`)}}));const p=JSON.stringify(r);wt(Qn,`RPC '${t}' ${l} sending request:`,r),f.send(e,"POST",p,i,15)}))}T_(t,e,i){const r=$0(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],l=tD(),u=JC(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(d.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,e,i),d.encodeInitMessageHeaders=!0;const p=o.join("");wt(Qn,`Creating RPC '${t}' stream ${r}: ${p}`,d);const y=l.createWebChannel(p,d);this.I_(y);let _=!1,v=!1;const S=new v5({Yo:E=>{v?wt(Qn,`Not sending because RPC '${t}' stream ${r} is closed:`,E):(_||(wt(Qn,`Opening RPC '${t}' stream ${r} transport.`),y.open(),_=!0),wt(Qn,`RPC '${t}' stream ${r} sending:`,E),y.send(E))},Zo:()=>y.close()}),A=(E,O,V)=>{E.listen(O,(q=>{try{V(q)}catch(Y){setTimeout((()=>{throw Y}),0)}}))};return A(y,ed.EventType.OPEN,(()=>{v||(wt(Qn,`RPC '${t}' stream ${r} transport opened.`),S.o_())})),A(y,ed.EventType.CLOSE,(()=>{v||(v=!0,wt(Qn,`RPC '${t}' stream ${r} transport closed`),S.a_(),this.E_(y))})),A(y,ed.EventType.ERROR,(E=>{v||(v=!0,Ec(Qn,`RPC '${t}' stream ${r} transport errored. Name:`,E.name,"Message:",E.message),S.a_(new vt(lt.UNAVAILABLE,"The operation could not be completed")))})),A(y,ed.EventType.MESSAGE,(E=>{if(!v){const O=E.data[0];_e(!!O,16349);const V=O,q=V?.error||V[0]?.error;if(q){wt(Qn,`RPC '${t}' stream ${r} received error:`,q);const Y=q.status;let $=(function(D){const N=_n[D];if(N!==void 0)return kD(N)})(Y),Q=q.message;$===void 0&&($=lt.INTERNAL,Q="Unknown error status: "+Y+" with message "+q.message),v=!0,S.a_(new vt($,Q)),y.close()}else wt(Qn,`RPC '${t}' stream ${r} received:`,O),S.u_(O)}})),A(u,ZC.STAT_EVENT,(E=>{E.stat===k0.PROXY?wt(Qn,`RPC '${t}' stream ${r} detected buffering proxy`):E.stat===k0.NOPROXY&&wt(Qn,`RPC '${t}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{S.__()}),0),S}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((e=>e===t))}}function Xy(){return typeof document<"u"?document:null}function pp(n){return new SL(n,!0)}class WD{constructor(t,e,i=1e3,r=1.5,o=6e4){this.Mi=t,this.timerId=e,this.d_=i,this.A_=r,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),r=Math.max(0,e-i);r>0&&wt("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const d1="PersistentStream";class XD{constructor(t,e,i,r,o,l,u,d){this.Mi=t,this.S_=i,this.b_=r,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new WD(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===lt.RESOURCE_EXHAUSTED?(Zs(e.toString()),Zs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===lt.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,r])=>{this.D_===e&&this.G_(i,r)}),(i=>{t((()=>{const r=new vt(lt.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(r)}))}))}G_(t,e){const i=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((r=>{i((()=>this.z_(r)))})),this.stream.onMessage((r=>{i((()=>++this.F_==1?this.J_(r):this.onNext(r)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return wt(d1,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget((()=>this.D_===t?e():(wt(d1,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class w5 extends XD{constructor(t,e,i,r,o,l){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,l),this.serializer=o}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=DL(this.serializer,t),i=(function(o){if(!("targetChange"in o))return jt.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?jt.min():l.readTime?gs(l.readTime):jt.min()})(t);return this.listener.H_(e,i)}Y_(t){const e={};e.database=G0(this.serializer),e.addTarget=(function(o,l){let u;const d=l.target;if(u=U0(d)?{documents:NL(o,d)}:{query:ML(o,d).ft},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=LD(o,l.resumeToken);const f=F0(o,l.expectedCount);f!==null&&(u.expectedCount=f)}else if(l.snapshotVersion.compareTo(jt.min())>0){u.readTime=Dg(o,l.snapshotVersion.toTimestamp());const f=F0(o,l.expectedCount);f!==null&&(u.expectedCount=f)}return u})(this.serializer,t);const i=kL(this.serializer,t);i&&(e.labels=i),this.q_(e)}Z_(t){const e={};e.database=G0(this.serializer),e.removeTarget=t,this.q_(e)}}class T5 extends XD{constructor(t,e,i,r,o,l){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,l),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}J_(t){return _e(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,_e(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){_e(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=RL(t.writeResults,t.commitTime),i=gs(t.commitTime);return this.listener.na(i,e)}ra(){const t={};t.database=G0(this.serializer),this.q_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((i=>IL(this.serializer,i)))};this.q_(e)}}class E5{}class S5 extends E5{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new vt(lt.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,i,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,l])=>this.connection.Go(t,H0(e,i),r,o,l))).catch((o=>{throw o.name==="FirebaseError"?(o.code===lt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new vt(lt.UNKNOWN,o.toString())}))}Ho(t,e,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Ho(t,H0(e,i),r,l,u,o))).catch((l=>{throw l.name==="FirebaseError"?(l.code===lt.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new vt(lt.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class A5{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Zs(e),this.aa=!1):wt("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const hl="RemoteStore";class C5{constructor(t,e,i,r,o){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((l=>{i.enqueueAndForget((async()=>{yl(this)&&(wt(hl,"Restarting streams for network reachability change."),await(async function(d){const f=Ht(d);f.Ea.add(4),await rh(f),f.Ra.set("Unknown"),f.Ea.delete(4),await mp(f)})(this))}))})),this.Ra=new A5(i,r)}}async function mp(n){if(yl(n))for(const t of n.da)await t(!0)}async function rh(n){for(const t of n.da)await t(!1)}function QD(n,t){const e=Ht(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),o_(e)?s_(e):qc(e).O_()&&r_(e,t))}function i_(n,t){const e=Ht(n),i=qc(e);e.Ia.delete(t),i.O_()&&KD(e,t),e.Ia.size===0&&(i.O_()?i.L_():yl(e)&&e.Ra.set("Unknown"))}function r_(n,t){if(n.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(jt.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}qc(n).Y_(t)}function KD(n,t){n.Va.Ue(t),qc(n).Z_(t)}function s_(n){n.Va=new xL({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),qc(n).start(),n.Ra.ua()}function o_(n){return yl(n)&&!qc(n).x_()&&n.Ia.size>0}function yl(n){return Ht(n).Ea.size===0}function ZD(n){n.Va=void 0}async function D5(n){n.Ra.set("Online")}async function I5(n){n.Ia.forEach(((t,e)=>{r_(n,t)}))}async function R5(n,t){ZD(n),o_(n)?(n.Ra.ha(t),s_(n)):n.Ra.set("Unknown")}async function N5(n,t,e){if(n.Ra.set("Online"),t instanceof zD&&t.state===2&&t.cause)try{await(async function(r,o){const l=o.cause;for(const u of o.targetIds)r.Ia.has(u)&&(await r.remoteSyncer.rejectListen(u,l),r.Ia.delete(u),r.Va.removeTarget(u))})(n,t)}catch(i){wt(hl,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await Rg(n,i)}else if(t instanceof ug?n.Va.Ze(t):t instanceof PD?n.Va.st(t):n.Va.tt(t),!e.isEqual(jt.min()))try{const i=await $D(n.localStore);e.compareTo(i)>=0&&await(function(o,l){const u=o.Va.Tt(l);return u.targetChanges.forEach(((d,f)=>{if(d.resumeToken.approximateByteSize()>0){const p=o.Ia.get(f);p&&o.Ia.set(f,p.withResumeToken(d.resumeToken,l))}})),u.targetMismatches.forEach(((d,f)=>{const p=o.Ia.get(d);if(!p)return;o.Ia.set(d,p.withResumeToken(Gn.EMPTY_BYTE_STRING,p.snapshotVersion)),KD(o,d);const y=new Bo(p.target,d,f,p.sequenceNumber);r_(o,y)})),o.remoteSyncer.applyRemoteEvent(u)})(n,e)}catch(i){wt(hl,"Failed to raise snapshot:",i),await Rg(n,i)}}async function Rg(n,t,e){if(!Fc(t))throw t;n.Ea.add(1),await rh(n),n.Ra.set("Offline"),e||(e=()=>$D(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{wt(hl,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await mp(n)}))}function JD(n,t){return t().catch((e=>Rg(n,e,t)))}async function yp(n){const t=Ht(n),e=ra(t);let i=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:Hb;for(;M5(t);)try{const r=await f5(t.localStore,i);if(r===null){t.Ta.length===0&&e.L_();break}i=r.batchId,O5(t,r)}catch(r){await Rg(t,r)}tI(t)&&eI(t)}function M5(n){return yl(n)&&n.Ta.length<10}function O5(n,t){n.Ta.push(t);const e=ra(n);e.O_()&&e.X_&&e.ea(t.mutations)}function tI(n){return yl(n)&&!ra(n).x_()&&n.Ta.length>0}function eI(n){ra(n).start()}async function k5(n){ra(n).ra()}async function P5(n){const t=ra(n);for(const e of n.Ta)t.ea(e.mutations)}async function z5(n,t,e){const i=n.Ta.shift(),r=Qb.from(i,t,e);await JD(n,(()=>n.remoteSyncer.applySuccessfulWrite(r))),await yp(n)}async function L5(n,t){t&&ra(n).X_&&await(async function(i,r){if((function(l){return bL(l)&&l!==lt.ABORTED})(r.code)){const o=i.Ta.shift();ra(i).B_(),await JD(i,(()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r))),await yp(i)}})(n,t),tI(n)&&eI(n)}async function h1(n,t){const e=Ht(n);e.asyncQueue.verifyOperationInProgress(),wt(hl,"RemoteStore received new credentials");const i=yl(e);e.Ea.add(3),await rh(e),i&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await mp(e)}async function V5(n,t){const e=Ht(n);t?(e.Ea.delete(2),await mp(e)):t||(e.Ea.add(2),await rh(e),e.Ra.set("Unknown"))}function qc(n){return n.ma||(n.ma=(function(e,i,r){const o=Ht(e);return o.sa(),new w5(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)})(n.datastore,n.asyncQueue,{Xo:D5.bind(null,n),t_:I5.bind(null,n),r_:R5.bind(null,n),H_:N5.bind(null,n)}),n.da.push((async t=>{t?(n.ma.B_(),o_(n)?s_(n):n.Ra.set("Unknown")):(await n.ma.stop(),ZD(n))}))),n.ma}function ra(n){return n.fa||(n.fa=(function(e,i,r){const o=Ht(e);return o.sa(),new T5(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:k5.bind(null,n),r_:L5.bind(null,n),ta:P5.bind(null,n),na:z5.bind(null,n)}),n.da.push((async t=>{t?(n.fa.B_(),await yp(n)):(await n.fa.stop(),n.Ta.length>0&&(wt(hl,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class a_{constructor(t,e,i,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new Xo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,r,o){const l=Date.now()+i,u=new a_(t,e,l,r,o);return u.start(i),u}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new vt(lt.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function l_(n,t){if(Zs("AsyncQueue",`${t}: ${n}`),Fc(n))return new vt(lt.UNAVAILABLE,`${t}: ${n}`);throw n}class _c{static emptySet(t){return new _c(t.comparator)}constructor(t){this.comparator=t?(e,i)=>t(e,i)||Nt.comparator(e.key,i.key):(e,i)=>Nt.comparator(e.key,i.key),this.keyedMap=nd(),this.sortedSet=new Ye(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,i)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof _c)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const i=new _c;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class f1{constructor(){this.ga=new Ye(Nt.comparator)}track(t){const e=t.doc.key,i=this.ga.get(e);i?t.type!==0&&i.type===3?this.ga=this.ga.insert(e,t):t.type===3&&i.type!==1?this.ga=this.ga.insert(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.ga=this.ga.remove(e):t.type===1&&i.type===2?this.ga=this.ga.insert(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):Lt(63341,{Rt:t,pa:i}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,i)=>{t.push(i)})),t}}class Ic{constructor(t,e,i,r,o,l,u,d,f){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=d,this.hasCachedResults=f}static fromInitialDocuments(t,e,i,r,o){const l=[];return e.forEach((u=>{l.push({type:0,doc:u})})),new Ic(t,e,_c.emptySet(e),l,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&cp(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class U5{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class j5{constructor(){this.queries=g1(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,i){const r=Ht(e),o=r.queries;r.queries=g1(),o.forEach(((l,u)=>{for(const d of u.Sa)d.onError(i)}))})(this,new vt(lt.ABORTED,"Firestore shutting down"))}}function g1(){return new ml((n=>wD(n)),cp)}async function nI(n,t){const e=Ht(n);let i=3;const r=t.query;let o=e.queries.get(r);o?!o.ba()&&t.Da()&&(i=2):(o=new U5,i=t.Da()?0:1);try{switch(i){case 0:o.wa=await e.onListen(r,!0);break;case 1:o.wa=await e.onListen(r,!1);break;case 2:await e.onFirstRemoteStoreListen(r)}}catch(l){const u=l_(l,`Initialization of query '${dc(t.query)}' failed`);return void t.onError(u)}e.queries.set(r,o),o.Sa.push(t),t.va(e.onlineState),o.wa&&t.Fa(o.wa)&&c_(e)}async function iI(n,t){const e=Ht(n),i=t.query;let r=3;const o=e.queries.get(i);if(o){const l=o.Sa.indexOf(t);l>=0&&(o.Sa.splice(l,1),o.Sa.length===0?r=t.Da()?0:1:!o.ba()&&t.Da()&&(r=2))}switch(r){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}}function B5(n,t){const e=Ht(n);let i=!1;for(const r of t){const o=r.query,l=e.queries.get(o);if(l){for(const u of l.Sa)u.Fa(r)&&(i=!0);l.wa=r}}i&&c_(e)}function F5(n,t,e){const i=Ht(n),r=i.queries.get(t);if(r)for(const o of r.Sa)o.onError(e);i.queries.delete(t)}function c_(n){n.Ca.forEach((t=>{t.next()}))}var W0,p1;(p1=W0||(W0={})).Ma="default",p1.Cache="cache";class rI{constructor(t,e,i){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)r.type!==3&&i.push(r);t=new Ic(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const i=e!=="Offline";return(!this.options.qa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=Ic.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==W0.Cache}}class sI{constructor(t){this.key=t}}class oI{constructor(t){this.key=t}}class H5{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=se(),this.mutatedKeys=se(),this.eu=TD(t),this.tu=new _c(this.eu)}get nu(){return this.Ya}ru(t,e){const i=e?e.iu:new f1,r=e?e.tu:this.tu;let o=e?e.mutatedKeys:this.mutatedKeys,l=r,u=!1;const d=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,f=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal(((p,y)=>{const _=r.get(p),v=up(this.query,y)?y:null,S=!!_&&this.mutatedKeys.has(_.key),A=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let E=!1;_&&v?_.data.isEqual(v.data)?S!==A&&(i.track({type:3,doc:v}),E=!0):this.su(_,v)||(i.track({type:2,doc:v}),E=!0,(d&&this.eu(v,d)>0||f&&this.eu(v,f)<0)&&(u=!0)):!_&&v?(i.track({type:0,doc:v}),E=!0):_&&!v&&(i.track({type:1,doc:_}),E=!0,(d||f)&&(u=!0)),E&&(v?(l=l.add(v),o=A?o.add(p):o.delete(p)):(l=l.delete(p),o=o.delete(p)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),o=o.delete(p.key),i.track({type:1,doc:p})}return{tu:l,iu:i,Cs:u,mutatedKeys:o}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,r){const o=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const l=t.iu.ya();l.sort(((p,y)=>(function(v,S){const A=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Lt(20277,{Rt:E})}};return A(v)-A(S)})(p.type,y.type)||this.eu(p.doc,y.doc))),this.ou(i),r=r??!1;const u=e&&!r?this._u():[],d=this.Xa.size===0&&this.current&&!r?1:0,f=d!==this.Za;return this.Za=d,l.length!==0||f?{snapshot:new Ic(this.query,t.tu,o,l,t.mutatedKeys,d===0,f,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new f1,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Ya=this.Ya.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Ya=this.Ya.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=se(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const e=[];return t.forEach((i=>{this.Xa.has(i)||e.push(new oI(i))})),this.Xa.forEach((i=>{t.has(i)||e.push(new sI(i))})),e}cu(t){this.Ya=t.Qs,this.Xa=se();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return Ic.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const u_="SyncEngine";class q5{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class G5{constructor(t){this.key=t,this.hu=!1}}class Y5{constructor(t,e,i,r,o,l){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new ml((u=>wD(u)),cp),this.Iu=new Map,this.Eu=new Set,this.du=new Ye(Nt.comparator),this.Au=new Map,this.Ru=new Jb,this.Vu={},this.mu=new Map,this.fu=Dc.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function $5(n,t,e=!0){const i=hI(n);let r;const o=i.Tu.get(t);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.lu()):r=await aI(i,t,e,!0),r}async function W5(n,t){const e=hI(n);await aI(e,t,!0,!1)}async function aI(n,t,e,i){const r=await g5(n.localStore,fs(t)),o=r.targetId,l=n.sharedClientState.addLocalQueryTarget(o,e);let u;return i&&(u=await X5(n,t,o,l==="current",r.resumeToken)),n.isPrimaryClient&&e&&QD(n.remoteStore,r),u}async function X5(n,t,e,i,r){n.pu=(y,_,v)=>(async function(A,E,O,V){let q=E.view.ru(O);q.Cs&&(q=await a1(A.localStore,E.query,!1).then((({documents:M})=>E.view.ru(M,q))));const Y=V&&V.targetChanges.get(E.targetId),$=V&&V.targetMismatches.get(E.targetId)!=null,Q=E.view.applyChanges(q,A.isPrimaryClient,Y,$);return y1(A,E.targetId,Q.au),Q.snapshot})(n,y,_,v);const o=await a1(n.localStore,t,!0),l=new H5(t,o.Qs),u=l.ru(o.documents),d=ih.createSynthesizedTargetChangeForCurrentChange(e,i&&n.onlineState!=="Offline",r),f=l.applyChanges(u,n.isPrimaryClient,d);y1(n,e,f.au);const p=new q5(t,e,l);return n.Tu.set(t,p),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),f.snapshot}async function Q5(n,t,e){const i=Ht(n),r=i.Tu.get(t),o=i.Iu.get(r.targetId);if(o.length>1)return i.Iu.set(r.targetId,o.filter((l=>!cp(l,t)))),void i.Tu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await Y0(i.localStore,r.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(r.targetId),e&&i_(i.remoteStore,r.targetId),X0(i,r.targetId)})).catch(Bc)):(X0(i,r.targetId),await Y0(i.localStore,r.targetId,!0))}async function K5(n,t){const e=Ht(n),i=e.Tu.get(t),r=e.Iu.get(i.targetId);e.isPrimaryClient&&r.length===1&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),i_(e.remoteStore,i.targetId))}async function Z5(n,t,e){const i=s3(n);try{const r=await(function(l,u){const d=Ht(l),f=ze.now(),p=u.reduce(((v,S)=>v.add(S.key)),se());let y,_;return d.persistence.runTransaction("Locally write mutations","readwrite",(v=>{let S=Js(),A=se();return d.Ns.getEntries(v,p).next((E=>{S=E,S.forEach(((O,V)=>{V.isValidDocument()||(A=A.add(O))}))})).next((()=>d.localDocuments.getOverlayedDocuments(v,S))).next((E=>{y=E;const O=[];for(const V of u){const q=fL(V,y.get(V.key).overlayedDocument);q!=null&&O.push(new fa(V.key,q,gD(q.value.mapValue),di.exists(!0)))}return d.mutationQueue.addMutationBatch(v,f,O,u)})).next((E=>{_=E;const O=E.applyToLocalDocumentSet(y,A);return d.documentOverlayCache.saveOverlays(v,E.batchId,O)}))})).then((()=>({batchId:_.batchId,changes:SD(y)})))})(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),(function(l,u,d){let f=l.Vu[l.currentUser.toKey()];f||(f=new Ye(re)),f=f.insert(u,d),l.Vu[l.currentUser.toKey()]=f})(i,r.batchId,e),await sh(i,r.changes),await yp(i.remoteStore)}catch(r){const o=l_(r,"Failed to persist write");e.reject(o)}}async function lI(n,t){const e=Ht(n);try{const i=await d5(e.localStore,t);t.targetChanges.forEach(((r,o)=>{const l=e.Au.get(o);l&&(_e(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?l.hu=!0:r.modifiedDocuments.size>0?_e(l.hu,14607):r.removedDocuments.size>0&&(_e(l.hu,42227),l.hu=!1))})),await sh(e,i,t)}catch(i){await Bc(i)}}function m1(n,t,e){const i=Ht(n);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){const r=[];i.Tu.forEach(((o,l)=>{const u=l.view.va(t);u.snapshot&&r.push(u.snapshot)})),(function(l,u){const d=Ht(l);d.onlineState=u;let f=!1;d.queries.forEach(((p,y)=>{for(const _ of y.Sa)_.va(u)&&(f=!0)})),f&&c_(d)})(i.eventManager,t),r.length&&i.Pu.H_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function J5(n,t,e){const i=Ht(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.Au.get(t),o=r&&r.key;if(o){let l=new Ye(Nt.comparator);l=l.insert(o,Jn.newNoDocument(o,jt.min()));const u=se().add(o),d=new gp(jt.min(),new Map,new Ye(re),l,u);await lI(i,d),i.du=i.du.remove(o),i.Au.delete(t),d_(i)}else await Y0(i.localStore,t,!1).then((()=>X0(i,t,e))).catch(Bc)}async function t3(n,t){const e=Ht(n),i=t.batch.batchId;try{const r=await u5(e.localStore,t);uI(e,i,null),cI(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),await sh(e,r)}catch(r){await Bc(r)}}async function e3(n,t,e){const i=Ht(n);try{const r=await(function(l,u){const d=Ht(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let p;return d.mutationQueue.lookupMutationBatch(f,u).next((y=>(_e(y!==null,37113),p=y.keys(),d.mutationQueue.removeMutationBatch(f,y)))).next((()=>d.mutationQueue.performConsistencyCheck(f))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(f,p,u))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,p))).next((()=>d.localDocuments.getDocuments(f,p)))}))})(i.localStore,t);uI(i,t,e),cI(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),await sh(i,r)}catch(r){await Bc(r)}}function cI(n,t){(n.mu.get(t)||[]).forEach((e=>{e.resolve()})),n.mu.delete(t)}function uI(n,t,e){const i=Ht(n);let r=i.Vu[i.currentUser.toKey()];if(r){const o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),i.Vu[i.currentUser.toKey()]=r}}function X0(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.Iu.get(t))n.Tu.delete(i),e&&n.Pu.yu(i,e);n.Iu.delete(t),n.isPrimaryClient&&n.Ru.jr(t).forEach((i=>{n.Ru.containsKey(i)||dI(n,i)}))}function dI(n,t){n.Eu.delete(t.path.canonicalString());const e=n.du.get(t);e!==null&&(i_(n.remoteStore,e),n.du=n.du.remove(t),n.Au.delete(e),d_(n))}function y1(n,t,e){for(const i of e)i instanceof sI?(n.Ru.addReference(i.key,t),n3(n,i)):i instanceof oI?(wt(u_,"Document no longer in limbo: "+i.key),n.Ru.removeReference(i.key,t),n.Ru.containsKey(i.key)||dI(n,i.key)):Lt(19791,{wu:i})}function n3(n,t){const e=t.key,i=e.path.canonicalString();n.du.get(e)||n.Eu.has(i)||(wt(u_,"New document in limbo: "+e),n.Eu.add(i),d_(n))}function d_(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new Nt(Re.fromString(t)),i=n.fu.next();n.Au.set(i,new G5(e)),n.du=n.du.insert(e,i),QD(n.remoteStore,new Bo(fs(Wb(e.path)),i,"TargetPurposeLimboResolution",op.ce))}}async function sh(n,t,e){const i=Ht(n),r=[],o=[],l=[];i.Tu.isEmpty()||(i.Tu.forEach(((u,d)=>{l.push(i.pu(d,t,e).then((f=>{if((f||e)&&i.isPrimaryClient){const p=f?!f.fromCache:e?.targetChanges.get(d.targetId)?.current;i.sharedClientState.updateQueryState(d.targetId,p?"current":"not-current")}if(f){r.push(f);const p=e_.As(d.targetId,f);o.push(p)}})))})),await Promise.all(l),i.Pu.H_(r),await(async function(d,f){const p=Ht(d);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(y=>ut.forEach(f,(_=>ut.forEach(_.Es,(v=>p.persistence.referenceDelegate.addReference(y,_.targetId,v))).next((()=>ut.forEach(_.ds,(v=>p.persistence.referenceDelegate.removeReference(y,_.targetId,v)))))))))}catch(y){if(!Fc(y))throw y;wt(n_,"Failed to update sequence numbers: "+y)}for(const y of f){const _=y.targetId;if(!y.fromCache){const v=p.Ms.get(_),S=v.snapshotVersion,A=v.withLastLimboFreeSnapshotVersion(S);p.Ms=p.Ms.insert(_,A)}}})(i.localStore,o))}async function i3(n,t){const e=Ht(n);if(!e.currentUser.isEqual(t)){wt(u_,"User change. New user:",t.toKey());const i=await YD(e.localStore,t);e.currentUser=t,(function(o,l){o.mu.forEach((u=>{u.forEach((d=>{d.reject(new vt(lt.CANCELLED,l))}))})),o.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await sh(e,i.Ls)}}function r3(n,t){const e=Ht(n),i=e.Au.get(t);if(i&&i.hu)return se().add(i.key);{let r=se();const o=e.Iu.get(t);if(!o)return r;for(const l of o){const u=e.Tu.get(l);r=r.unionWith(u.view.nu)}return r}}function hI(n){const t=Ht(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=lI.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=r3.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=J5.bind(null,t),t.Pu.H_=B5.bind(null,t.eventManager),t.Pu.yu=F5.bind(null,t.eventManager),t}function s3(n){const t=Ht(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=t3.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=e3.bind(null,t),t}class Ng{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=pp(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return c5(this.persistence,new o5,t.initialUser,this.serializer)}Cu(t){return new GD(t_.mi,this.serializer)}Du(t){return new m5}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ng.provider={build:()=>new Ng};class o3 extends Ng{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){_e(this.persistence.referenceDelegate instanceof Ig,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new GL(i,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?Ei.withCacheSize(this.cacheSizeBytes):Ei.DEFAULT;return new GD((i=>Ig.mi(i,e)),this.serializer)}}class Q0{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>m1(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=i3.bind(null,this.syncEngine),await V5(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new j5})()}createDatastore(t){const e=pp(t.databaseInfo.databaseId),i=(function(o){return new x5(o)})(t.databaseInfo);return(function(o,l,u,d){return new S5(o,l,u,d)})(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return(function(i,r,o,l,u){return new C5(i,r,o,l,u)})(this.localStore,this.datastore,t.asyncQueue,(e=>m1(this.syncEngine,e,0)),(function(){return u1.v()?new u1:new y5})())}createSyncEngine(t,e){return(function(r,o,l,u,d,f,p){const y=new Y5(r,o,l,u,d,f);return p&&(y.gu=!0),y})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await(async function(e){const i=Ht(e);wt(hl,"RemoteStore shutting down."),i.Ea.add(5),await rh(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Q0.provider={build:()=>new Q0};class fI{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):Zs("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}const sa="FirestoreClient";class a3{constructor(t,e,i,r,o){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=Zn.UNAUTHENTICATED,this.clientId=Fb.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,(async l=>{wt(sa,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(i,(l=>(wt(sa,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Xo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=l_(e,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}async function Qy(n,t){n.asyncQueue.verifyOperationInProgress(),wt(sa,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener((async r=>{i.isEqual(r)||(await YD(t.localStore,r),i=r)})),t.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=t}async function b1(n,t){n.asyncQueue.verifyOperationInProgress();const e=await l3(n);wt(sa,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener((i=>h1(t.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,r)=>h1(t.remoteStore,r))),n._onlineComponents=t}async function l3(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){wt(sa,"Using user provided OfflineComponentProvider");try{await Qy(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(r){return r.name==="FirebaseError"?r.code===lt.FAILED_PRECONDITION||r.code===lt.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11})(e))throw e;Ec("Error using user provided cache. Falling back to memory cache: "+e),await Qy(n,new Ng)}}else wt(sa,"Using default OfflineComponentProvider"),await Qy(n,new o3(void 0));return n._offlineComponents}async function gI(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(wt(sa,"Using user provided OnlineComponentProvider"),await b1(n,n._uninitializedComponentsProvider._online)):(wt(sa,"Using default OnlineComponentProvider"),await b1(n,new Q0))),n._onlineComponents}function c3(n){return gI(n).then((t=>t.syncEngine))}async function K0(n){const t=await gI(n),e=t.eventManager;return e.onListen=$5.bind(null,t.syncEngine),e.onUnlisten=Q5.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=W5.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=K5.bind(null,t.syncEngine),e}function u3(n,t,e={}){const i=new Xo;return n.asyncQueue.enqueueAndForget((async()=>(function(o,l,u,d,f){const p=new fI({next:_=>{p.Nu(),l.enqueueAndForget((()=>iI(o,y))),_.fromCache&&d.source==="server"?f.reject(new vt(lt.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(_)},error:_=>f.reject(_)}),y=new rI(u,p,{includeMetadataChanges:!0,qa:!0});return nI(o,y)})(await K0(n),n.asyncQueue,t,e,i))),i.promise}function pI(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}const _1=new Map;const mI="firestore.googleapis.com",v1=!0;class x1{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new vt(lt.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=mI,this.ssl=v1}else this.host=t.host,this.ssl=t.ssl??v1;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=qD;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<HL)throw new vt(lt.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}A4("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=pI(t.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new vt(lt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new vt(lt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new vt(lt.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(i,r){return i.timeoutSeconds===r.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class bp{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new x1({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new vt(lt.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new vt(lt.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new x1(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new m4;switch(i.type){case"firstParty":return new v4(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new vt(lt.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const i=_1.get(e);i&&(wt("ComponentProvider","Removing Datastore"),_1.delete(e),i.terminate())})(this),Promise.resolve()}}function d3(n,t,e,i={}){n=qi(n,bp);const r=Lc(t),o=n._getSettings(),l={...o,emulatorOptions:n._getEmulatorOptions()},u=`${t}:${e}`;r&&(oC(`https://${u}`),aC("Firestore",!0)),o.host!==mI&&o.host!==u&&Ec("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...o,host:u,ssl:r,emulatorOptions:i};if(!ll(d,l)&&(n._setSettings(d),i.mockUserToken)){let f,p;if(typeof i.mockUserToken=="string")f=i.mockUserToken,p=Zn.MOCK_USER;else{f=SO(i.mockUserToken,n._app?.options.projectId);const y=i.mockUserToken.sub||i.mockUserToken.user_id;if(!y)throw new vt(lt.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Zn(y)}n._authCredentials=new y4(new nD(f,p))}}class ga{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new ga(this.firestore,t,this._query)}}class cn{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qo(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new cn(this.firestore,t,this._key)}toJSON(){return{type:cn._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,i){if(eh(e,cn._jsonSchema))return new cn(t,i||null,new Nt(Re.fromString(e.referencePath)))}}cn._jsonSchemaVersion="firestore/documentReference/1.0",cn._jsonSchema={type:wn("string",cn._jsonSchemaVersion),referencePath:wn("string")};class Qo extends ga{constructor(t,e,i){super(t,e,Wb(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new cn(this.firestore,null,new Nt(t))}withConverter(t){return new Qo(this.firestore,t,this._path)}}function fl(n,t,...e){if(n=tn(n),iD("collection","path",t),n instanceof bp){const i=Re.fromString(t,...e);return kE(i),new Qo(n,null,i)}{if(!(n instanceof cn||n instanceof Qo))throw new vt(lt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Re.fromString(t,...e));return kE(i),new Qo(n.firestore,null,i)}}function Gi(n,t,...e){if(n=tn(n),arguments.length===1&&(t=Fb.newId()),iD("doc","path",t),n instanceof bp){const i=Re.fromString(t,...e);return OE(i),new cn(n,null,new Nt(i))}{if(!(n instanceof cn||n instanceof Qo))throw new vt(lt.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(Re.fromString(t,...e));return OE(i),new cn(n.firestore,n instanceof Qo?n.converter:null,new Nt(i))}}const w1="AsyncQueue";class T1{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new WD(this,"async_queue_retry"),this._c=()=>{const i=Xy();i&&wt(w1,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const e=Xy();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=Xy();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new Xo;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Fc(t))throw t;wt(w1,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((i=>{throw this.nc=i,this.rc=!1,Zs("INTERNAL UNHANDLED ERROR: ",E1(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=e,e}enqueueAfterDelay(t,e,i){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const r=a_.createAndSchedule(this,t,e,i,(o=>this.hc(o)));return this.tc.push(r),r}uc(){this.nc&&Lt(47125,{Pc:E1(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,i)=>e.targetTimeMs-i.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function E1(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}function S1(n){return(function(e,i){if(typeof e!="object"||e===null)return!1;const r=e;for(const o of i)if(o in r&&typeof r[o]=="function")return!0;return!1})(n,["next","error","complete"])}class to extends bp{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new T1,this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new T1(t),this._firestoreClient=void 0,await t}}}function h3(n,t){const e=typeof n=="object"?n:dC(),i=typeof n=="string"?n:Eg,r=Mb(e,"firestore").getImmediate({identifier:i});if(!r._initialized){const o=TO("firestore");o&&d3(r,...o)}return r}function _p(n){if(n._terminated)throw new vt(lt.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||f3(n),n._firestoreClient}function f3(n){const t=n._freezeSettings(),e=(function(r,o,l,u){return new L4(r,o,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,pI(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new a3(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&(function(r){const o=r?._online.build();return{_offline:r?._offline.build(o),_online:o}})(n._componentsProvider))}class mr{constructor(t){this._byteString=t}static fromBase64String(t){try{return new mr(Gn.fromBase64String(t))}catch(e){throw new vt(lt.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new mr(Gn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:mr._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(eh(t,mr._jsonSchema))return mr.fromBase64String(t.bytes)}}mr._jsonSchemaVersion="firestore/bytes/1.0",mr._jsonSchema={type:wn("string",mr._jsonSchemaVersion),bytes:wn("string")};class oh{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new vt(lt.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Hn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class vp{constructor(t){this._methodName=t}}class ps{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new vt(lt.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new vt(lt.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return re(this._lat,t._lat)||re(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:ps._jsonSchemaVersion}}static fromJSON(t){if(eh(t,ps._jsonSchema))return new ps(t.latitude,t.longitude)}}ps._jsonSchemaVersion="firestore/geoPoint/1.0",ps._jsonSchema={type:wn("string",ps._jsonSchemaVersion),latitude:wn("number"),longitude:wn("number")};class ms{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(i,r){if(i.length!==r.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==r[o])return!1;return!0})(this._values,t._values)}toJSON(){return{type:ms._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(eh(t,ms._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new ms(t.vectorValues);throw new vt(lt.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ms._jsonSchemaVersion="firestore/vectorValue/1.0",ms._jsonSchema={type:wn("string",ms._jsonSchemaVersion),vectorValues:wn("object")};const g3=/^__.*__$/;class p3{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return this.fieldMask!==null?new fa(t,this.data,this.fieldMask,e,this.fieldTransforms):new nh(t,this.data,e,this.fieldTransforms)}}class yI{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new fa(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function bI(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Lt(40011,{Ac:n})}}class h_{constructor(t,e,i,r,o,l){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new h_({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const e=this.path?.child(t),i=this.Vc({path:e,fc:!1});return i.gc(t),i}yc(t){const e=this.path?.child(t),i=this.Vc({path:e,fc:!1});return i.Rc(),i}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Mg(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(bI(this.Ac)&&g3.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class m3{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||pp(t)}Cc(t,e,i,r=!1){return new h_({Ac:t,methodName:e,Dc:i,path:Hn.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function ah(n){const t=n._freezeSettings(),e=pp(n._databaseId);return new m3(n._databaseId,!!t.ignoreUndefinedProperties,e)}function f_(n,t,e,i,r,o={}){const l=n.Cc(o.merge||o.mergeFields?2:0,t,e,r);p_("Data must be an object, but it was:",l,i);const u=xI(i,l);let d,f;if(o.merge)d=new Fi(l.fieldMask),f=l.fieldTransforms;else if(o.mergeFields){const p=[];for(const y of o.mergeFields){const _=Z0(t,y,e);if(!l.contains(_))throw new vt(lt.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);TI(p,_)||p.push(_)}d=new Fi(p),f=l.fieldTransforms.filter((y=>d.covers(y.field)))}else d=null,f=l.fieldTransforms;return new p3(new Ai(u),d,f)}class xp extends vp{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof xp}}class g_ extends vp{_toFieldTransform(t){return new cL(t.path,new Nd)}isEqual(t){return t instanceof g_}}function _I(n,t,e,i){const r=n.Cc(1,t,e);p_("Data must be an object, but it was:",r,i);const o=[],l=Ai.empty();ha(i,((d,f)=>{const p=m_(t,d,e);f=tn(f);const y=r.yc(p);if(f instanceof xp)o.push(p);else{const _=lh(f,y);_!=null&&(o.push(p),l.set(p,_))}}));const u=new Fi(o);return new yI(l,u,r.fieldTransforms)}function vI(n,t,e,i,r,o){const l=n.Cc(1,t,e),u=[Z0(t,i,e)],d=[r];if(o.length%2!=0)throw new vt(lt.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<o.length;_+=2)u.push(Z0(t,o[_])),d.push(o[_+1]);const f=[],p=Ai.empty();for(let _=u.length-1;_>=0;--_)if(!TI(f,u[_])){const v=u[_];let S=d[_];S=tn(S);const A=l.yc(v);if(S instanceof xp)f.push(v);else{const E=lh(S,A);E!=null&&(f.push(v),p.set(v,E))}}const y=new Fi(f);return new yI(p,y,l.fieldTransforms)}function y3(n,t,e,i=!1){return lh(e,n.Cc(i?4:3,t))}function lh(n,t){if(wI(n=tn(n)))return p_("Unsupported field value:",t,n),xI(n,t);if(n instanceof vp)return(function(i,r){if(!bI(r.Ac))throw r.Sc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Sc(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(i,r){const o=[];let l=0;for(const u of i){let d=lh(u,r.wc(l));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),l++}return{arrayValue:{values:o}}})(n,t)}return(function(i,r){if((i=tn(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return oL(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=ze.fromDate(i);return{timestampValue:Dg(r.serializer,o)}}if(i instanceof ze){const o=new ze(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Dg(r.serializer,o)}}if(i instanceof ps)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof mr)return{bytesValue:LD(r.serializer,i._byteString)};if(i instanceof cn){const o=r.databaseId,l=i.firestore._databaseId;if(!l.isEqual(o))throw r.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Zb(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof ms)return(function(l,u){return{mapValue:{fields:{[hD]:{stringValue:fD},[Sg]:{arrayValue:{values:l.toArray().map((f=>{if(typeof f!="number")throw u.Sc("VectorValues must only contain numeric values.");return Xb(u.serializer,f)}))}}}}}})(i,r);throw r.Sc(`Unsupported field value: ${sp(i)}`)})(n,t)}function xI(n,t){const e={};return oD(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ha(n,((i,r)=>{const o=lh(r,t.mc(i));o!=null&&(e[i]=o)})),{mapValue:{fields:e}}}function wI(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ze||n instanceof ps||n instanceof mr||n instanceof cn||n instanceof vp||n instanceof ms)}function p_(n,t,e){if(!wI(e)||!rD(e)){const i=sp(e);throw i==="an object"?t.Sc(n+" a custom object"):t.Sc(n+" "+i)}}function Z0(n,t,e){if((t=tn(t))instanceof oh)return t._internalPath;if(typeof t=="string")return m_(n,t);throw Mg("Field path arguments must be of type string or ",n,!1,void 0,e)}const b3=new RegExp("[~\\*/\\[\\]]");function m_(n,t,e){if(t.search(b3)>=0)throw Mg(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new oh(...t.split("."))._internalPath}catch{throw Mg(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function Mg(n,t,e,i,r){const o=i&&!i.isEmpty(),l=r!==void 0;let u=`Function ${t}() called with invalid data`;e&&(u+=" (via `toFirestore()`)"),u+=". ";let d="";return(o||l)&&(d+=" (found",o&&(d+=` in field ${i}`),l&&(d+=` in document ${r}`),d+=")"),new vt(lt.INVALID_ARGUMENT,u+n+d)}function TI(n,t){return n.some((e=>e.isEqual(t)))}class EI{constructor(t,e,i,r,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new cn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new _3(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(y_("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class _3 extends EI{data(){return super.data()}}function y_(n,t){return typeof t=="string"?m_(n,t):t instanceof oh?t._internalPath:t._delegate._internalPath}function SI(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new vt(lt.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class b_{}class AI extends b_{}function J0(n,t,...e){let i=[];t instanceof b_&&i.push(t),i=i.concat(e),(function(o){const l=o.filter((d=>d instanceof v_)).length,u=o.filter((d=>d instanceof __)).length;if(l>1||l>0&&u>0)throw new vt(lt.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const r of i)n=r._apply(n);return n}class __ extends AI{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new __(t,e,i)}_apply(t){const e=this._parse(t);return CI(t._query,e),new ga(t.firestore,t.converter,j0(t._query,e))}_parse(t){const e=ah(t.firestore);return(function(o,l,u,d,f,p,y){let _;if(f.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new vt(lt.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){C1(y,p);const S=[];for(const A of y)S.push(A1(d,o,A));_={arrayValue:{values:S}}}else _=A1(d,o,y)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||C1(y,p),_=y3(u,l,y,p==="in"||p==="not-in");return vn.create(f,p,_)})(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}class v_ extends b_{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new v_(t,e)}_parse(t){const e=this._queryConstraints.map((i=>i._parse(t))).filter((i=>i.getFilters().length>0));return e.length===1?e[0]:jr.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:((function(r,o){let l=r;const u=o.getFlattenedFilters();for(const d of u)CI(l,d),l=j0(l,d)})(t._query,e),new ga(t.firestore,t.converter,j0(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class x_ extends AI{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new x_(t,e)}_apply(t){const e=(function(r,o,l){if(r.startAt!==null)throw new vt(lt.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new vt(lt.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Rd(o,l)})(t._query,this._field,this._direction);return new ga(t.firestore,t.converter,(function(r,o){const l=r.explicitOrderBy.concat([o]);return new Hc(r.path,r.collectionGroup,l,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)})(t._query,e))}}function gd(n,t="asc"){const e=t,i=y_("orderBy",n);return x_._create(i,e)}function A1(n,t,e){if(typeof(e=tn(e))=="string"){if(e==="")throw new vt(lt.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!xD(t)&&e.indexOf("/")!==-1)throw new vt(lt.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(Re.fromString(e));if(!Nt.isDocumentKey(i))throw new vt(lt.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return FE(n,new Nt(i))}if(e instanceof cn)return FE(n,e._key);throw new vt(lt.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${sp(e)}.`)}function C1(n,t){if(!Array.isArray(n)||n.length===0)throw new vt(lt.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function CI(n,t){const e=(function(r,o){for(const l of r)for(const u of l.getFlattenedFilters())if(o.indexOf(u.op)>=0)return u.op;return null})(n.filters,(function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(e!==null)throw e===t.op?new vt(lt.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new vt(lt.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class v3{convertValue(t,e="none"){switch(ia(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ln(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(na(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw Lt(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return ha(t,((r,o)=>{i[r]=this.convertValue(o,e)})),i}convertVectorValue(t){const e=t.fields?.[Sg].arrayValue?.values?.map((i=>ln(i.doubleValue)));return new ms(e)}convertGeoPoint(t){return new ps(ln(t.latitude),ln(t.longitude))}convertArray(t,e){return(t.values||[]).map((i=>this.convertValue(i,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const i=lp(t);return i==null?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Cd(t));default:return null}}convertTimestamp(t){const e=ea(t);return new ze(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=Re.fromString(t);_e(HD(i),9688,{name:t});const r=new Dd(i.get(1),i.get(3)),o=new Nt(i.popFirst(5));return r.isEqual(e)||Zs(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}function w_(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class rd{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class rl extends EI{constructor(t,e,i,r,o,l){super(t,e,i,r,l),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new dg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(y_("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new vt(lt.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=rl._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}rl._jsonSchemaVersion="firestore/documentSnapshot/1.0",rl._jsonSchema={type:wn("string",rl._jsonSchemaVersion),bundleSource:wn("string","DocumentSnapshot"),bundleName:wn("string"),bundle:wn("string")};class dg extends rl{data(t={}){return super.data(t)}}class sl{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new rd(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((i=>{t.call(e,new dg(this._firestore,this._userDataWriter,i.key,i,new rd(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new vt(lt.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(r,o){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map((u=>{const d=new dg(r._firestore,r._userDataWriter,u.doc.key,u.doc,new rd(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);return u.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}}))}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter((u=>o||u.type!==3)).map((u=>{const d=new dg(r._firestore,r._userDataWriter,u.doc.key,u.doc,new rd(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);let f=-1,p=-1;return u.type!==0&&(f=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),p=l.indexOf(u.doc.key)),{type:x3(u.type),doc:d,oldIndex:f,newIndex:p}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new vt(lt.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=sl._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=Fb.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],i=[],r=[];return this.docs.forEach((o=>{o._document!==null&&(e.push(o._document),i.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),r.push(o.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function x3(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Lt(61501,{type:n})}}sl._jsonSchemaVersion="firestore/querySnapshot/1.0",sl._jsonSchema={type:wn("string",sl._jsonSchemaVersion),bundleSource:wn("string","QuerySnapshot"),bundleName:wn("string"),bundle:wn("string")};class T_ extends v3{constructor(t){super(),this.firestore=t}convertBytes(t){return new mr(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new cn(this.firestore,null,e)}}function tb(n){n=qi(n,ga);const t=qi(n.firestore,to),e=_p(t),i=new T_(t);return SI(n._query),u3(e,n._query).then((r=>new sl(t,i,n,r)))}function D1(n,t,e){n=qi(n,cn);const i=qi(n.firestore,to),r=w_(n.converter,t,e);return ch(i,[f_(ah(i),"setDoc",n._key,r,n.converter!==null,e).toMutation(n._key,di.none())])}function Og(n,t,e,...i){n=qi(n,cn);const r=qi(n.firestore,to),o=ah(r);let l;return l=typeof(t=tn(t))=="string"||t instanceof oh?vI(o,"updateDoc",n._key,t,e,i):_I(o,"updateDoc",n._key,t),ch(r,[l.toMutation(n._key,di.exists(!0))])}function DI(n){return ch(qi(n.firestore,to),[new fp(n._key,di.none())])}function II(n,t){const e=qi(n.firestore,to),i=Gi(n),r=w_(n.converter,t);return ch(e,[f_(ah(n.firestore),"addDoc",i._key,r,n.converter!==null,{}).toMutation(i._key,di.exists(!1))]).then((()=>i))}function E_(n,...t){n=tn(n);let e={includeMetadataChanges:!1,source:"default"},i=0;typeof t[i]!="object"||S1(t[i])||(e=t[i++]);const r={includeMetadataChanges:e.includeMetadataChanges,source:e.source};if(S1(t[i])){const d=t[i];t[i]=d.next?.bind(d),t[i+1]=d.error?.bind(d),t[i+2]=d.complete?.bind(d)}let o,l,u;if(n instanceof cn)l=qi(n.firestore,to),u=Wb(n._key.path),o={next:d=>{t[i]&&t[i](w3(l,n,d))},error:t[i+1],complete:t[i+2]};else{const d=qi(n,ga);l=qi(d.firestore,to),u=d._query;const f=new T_(l);o={next:p=>{t[i]&&t[i](new sl(l,f,d,p))},error:t[i+1],complete:t[i+2]},SI(n._query)}return(function(f,p,y,_){const v=new fI(_),S=new rI(p,v,y);return f.asyncQueue.enqueueAndForget((async()=>nI(await K0(f),S))),()=>{v.Nu(),f.asyncQueue.enqueueAndForget((async()=>iI(await K0(f),S)))}})(_p(l),u,r,o)}function ch(n,t){return(function(i,r){const o=new Xo;return i.asyncQueue.enqueueAndForget((async()=>Z5(await c3(i),r,o))),o.promise})(_p(n),t)}function w3(n,t,e){const i=e.docs.get(t._key),r=new T_(n);return new rl(n,r,t._key,i,new rd(e.hasPendingWrites,e.fromCache),t.converter)}class T3{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=ah(t)}set(t,e,i){this._verifyNotCommitted();const r=Ky(t,this._firestore),o=w_(r.converter,e,i),l=f_(this._dataReader,"WriteBatch.set",r._key,o,r.converter!==null,i);return this._mutations.push(l.toMutation(r._key,di.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const o=Ky(t,this._firestore);let l;return l=typeof(e=tn(e))=="string"||e instanceof oh?vI(this._dataReader,"WriteBatch.update",o._key,e,i,r):_I(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(l.toMutation(o._key,di.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Ky(t,this._firestore);return this._mutations=this._mutations.concat(new fp(e._key,di.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new vt(lt.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Ky(n,t){if((n=tn(n)).firestore!==t)throw new vt(lt.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}function vc(){return new g_("serverTimestamp")}function RI(n){return _p(n=qi(n,to)),new T3(n,(t=>ch(n,t)))}(function(t,e=!0){(function(r){jc=r})(Vc),wc(new cl("firestore",((i,{instanceIdentifier:r,options:o})=>{const l=i.getProvider("app").getImmediate(),u=new to(new b4(i.getProvider("auth-internal")),new x4(l,i.getProvider("app-check-internal")),(function(f,p){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new vt(lt.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Dd(f.options.projectId,p)})(l,r),l);return o={useFetchStreams:e,...o},u._setSettings(o),u}),"PUBLIC").setMultipleInstances(!0)),$o(IE,RE,t),$o(IE,RE,"esm2020")})();const E3={apiKey:"AIzaSyAvBYzH_B2CY7e5tqJkHqj83hT62POyVT4",authDomain:"tracker-7953b.firebaseapp.com",projectId:"tracker-7953b",storageBucket:"tracker-7953b.firebasestorage.app",messagingSenderId:"277129788312",appId:"1:277129788312:web:ed28693354f33d1d6609ed"},NI=uC(E3),kr=h4(NI),xn=h3(NI);const S3=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),A3=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,i)=>i?i.toUpperCase():e.toLowerCase()),I1=n=>{const t=A3(n);return t.charAt(0).toUpperCase()+t.slice(1)},MI=(...n)=>n.filter((t,e,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===e).join(" ").trim(),C3=n=>{for(const t in n)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var D3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const I3=W.forwardRef(({color:n="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:i,className:r="",children:o,iconNode:l,...u},d)=>W.createElement("svg",{ref:d,...D3,width:t,height:t,stroke:n,strokeWidth:i?Number(e)*24/Number(t):e,className:MI("lucide",r),...!o&&!C3(u)&&{"aria-hidden":"true"},...u},[...l.map(([f,p])=>W.createElement(f,p)),...Array.isArray(o)?o:[o]]));const Kt=(n,t)=>{const e=W.forwardRef(({className:i,...r},o)=>W.createElement(I3,{ref:o,iconNode:t,className:MI(`lucide-${S3(I1(n))}`,`lucide-${n}`,i),...r}));return e.displayName=I1(n),e};const R3=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],wp=Kt("activity",R3);const N3=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],OI=Kt("calendar",N3);const M3=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],O3=Kt("camera",M3);const k3=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],S_=Kt("chart-no-axes-column",k3);const P3=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],kg=Kt("check",P3);const z3=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],L3=Kt("chevron-down",z3);const V3=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],kI=Kt("chevron-left",V3);const U3=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],A_=Kt("chevron-right",U3);const j3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],B3=Kt("circle-alert",j3);const F3=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],H3=Kt("circle-check-big",F3);const q3=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],G3=Kt("circle-check",q3);const Y3=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],PI=Kt("download",Y3);const $3=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],W3=Kt("eye",$3);const X3=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],C_=Kt("flame",X3);const Q3=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],K3=Kt("image",Q3);const Z3=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],J3=Kt("link-2",Z3);const tV=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],kd=Kt("loader-circle",tV);const eV=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],nV=Kt("log-out",eV);const iV=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],rV=Kt("menu",iV);const sV=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],zI=Kt("moon",sV);const oV=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],aV=Kt("palette",oV);const lV=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],LI=Kt("pen",lV);const cV=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Pd=Kt("plus",cV);const uV=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],dV=Kt("refresh-cw",uV);const hV=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],fV=Kt("rotate-ccw",hV);const gV=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],pV=Kt("save",gV);const mV=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],yV=Kt("settings",mV);const bV=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],_V=Kt("star",bV);const vV=[["path",{d:"M21 9a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 15 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2z",key:"1dfntj"}],["path",{d:"M15 3v5a1 1 0 0 0 1 1h5",key:"6s6qgf"}]],VI=Kt("sticky-note",vV);const xV=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],wV=Kt("sun",xV);const TV=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],EV=Kt("target",TV);const SV=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],D_=Kt("trash-2",SV);const AV=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],CV=Kt("trending-up",AV);const DV=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],IV=Kt("triangle-alert",DV);const RV=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],NV=Kt("trophy",RV);const MV=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],OV=Kt("upload",MV);const kV=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],UI=Kt("user",kV);const PV=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],I_=Kt("x",PV),jI=W.createContext(),zV=({children:n})=>{const[t,e]=W.useState(null),[i,r]=W.useState(!0);return W.useEffect(()=>{const o=tz(kr,l=>{e(l),r(!1)});return()=>o()},[]),i?C.jsx("div",{className:"h-screen w-full flex items-center justify-center bg-zinc-50 dark:bg-zinc-900",children:C.jsx(kd,{className:"w-10 h-10 animate-spin text-blue-500"})}):C.jsx(jI.Provider,{value:{user:t},children:n})},io=()=>W.useContext(jI),LV=()=>{const[n,t]=W.useState(""),[e,i]=W.useState(""),[r,o]=W.useState(!1),[l,u]=W.useState(""),d=async p=>{p.preventDefault(),o(!0),u("");try{try{await QP(kr,n,e)}catch(y){if(y.code==="auth/user-not-found"||y.code==="auth/invalid-credential")await XP(kr,n,e);else throw y}}catch(y){console.error(y),u(y.message.replace("Firebase:","").trim()),o(!1)}},f=async()=>{o(!0);try{await GP(kr)}catch(p){console.error(p),u("Could not sign in as guest."),o(!1)}};return C.jsx("div",{className:"flex items-center justify-center min-h-screen p-4 bg-zinc-50 dark:bg-zinc-900",children:C.jsxs("div",{className:"rounded-2xl shadow-2xl p-8 w-full max-w-md border bg-white dark:bg-zinc-800 border-zinc-200 dark:border-zinc-700",children:[C.jsxs("div",{className:"text-center mb-8",children:[C.jsx("div",{className:"bg-blue-600 w-16 h-16 rounded-2xl mx-auto flex items-center justify-center mb-6 shadow-lg shadow-blue-600/30",children:C.jsx(wp,{className:"text-white w-8 h-8"})}),C.jsx("h2",{className:"text-3xl font-bold mb-2 text-zinc-900 dark:text-white",children:"TrackIt"}),C.jsx("p",{className:"text-zinc-500 dark:text-zinc-400",children:"Sign in to sync your progress"})]}),C.jsxs("form",{onSubmit:d,className:"space-y-4",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"Email"}),C.jsx("input",{type:"email",required:!0,className:"w-full px-4 py-3 rounded-xl outline-none transition-all focus:ring-2 focus:ring-blue-500 bg-zinc-50 dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-700 dark:text-white",value:n,onChange:p=>t(p.target.value),placeholder:"hello@example.com"})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"Password"}),C.jsx("input",{type:"password",required:!0,className:"w-full px-4 py-3 rounded-xl outline-none transition-all focus:ring-2 focus:ring-blue-500 bg-zinc-50 dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-700 dark:text-white",value:e,onChange:p=>i(p.target.value),placeholder:""})]}),l&&C.jsx("div",{className:"p-3 bg-red-500/10 border border-red-500/20 text-red-500 rounded-lg text-sm",children:l}),C.jsx("button",{type:"submit",disabled:r,className:"w-full py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-medium shadow-lg shadow-blue-600/20 transition-all transform active:scale-95 disabled:opacity-50 disabled:active:scale-100 flex items-center justify-center",children:r?C.jsx(kd,{className:"w-5 h-5 animate-spin"}):"Continue"})]}),C.jsx("div",{className:"mt-8 text-center",children:C.jsx("button",{type:"button",onClick:f,disabled:r,className:"w-full py-3 mt-4 border-2 border-zinc-300 dark:border-zinc-700 text-zinc-700 dark:text-zinc-300 font-bold rounded-xl hover:bg-zinc-50 dark:hover:bg-zinc-800 transition-all",children:"Or continue as Guest"})})]})})};var R_=JA();const VV=Jg(R_);function ui(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var UV=typeof Symbol=="function"&&Symbol.observable||"@@observable",R1=UV,N1=()=>Math.random().toString(36).substring(7).split("").join("."),jV={INIT:`@@redux/INIT${N1()}`,REPLACE:`@@redux/REPLACE${N1()}`},M1=jV;function BV(n){if(typeof n!="object"||n===null)return!1;let t=n;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(n)===t||Object.getPrototypeOf(n)===null}function BI(n,t,e){if(typeof n!="function")throw new Error(ui(2));if(typeof t=="function"&&typeof e=="function"||typeof e=="function"&&typeof arguments[3]=="function")throw new Error(ui(0));if(typeof t=="function"&&typeof e>"u"&&(e=t,t=void 0),typeof e<"u"){if(typeof e!="function")throw new Error(ui(1));return e(BI)(n,t)}let i=n,r=t,o=new Map,l=o,u=0,d=!1;function f(){l===o&&(l=new Map,o.forEach((E,O)=>{l.set(O,E)}))}function p(){if(d)throw new Error(ui(3));return r}function y(E){if(typeof E!="function")throw new Error(ui(4));if(d)throw new Error(ui(5));let O=!0;f();const V=u++;return l.set(V,E),function(){if(O){if(d)throw new Error(ui(6));O=!1,f(),l.delete(V),o=null}}}function _(E){if(!BV(E))throw new Error(ui(7));if(typeof E.type>"u")throw new Error(ui(8));if(typeof E.type!="string")throw new Error(ui(17));if(d)throw new Error(ui(9));try{d=!0,r=i(r,E)}finally{d=!1}return(o=l).forEach(V=>{V()}),E}function v(E){if(typeof E!="function")throw new Error(ui(10));i=E,_({type:M1.REPLACE})}function S(){const E=y;return{subscribe(O){if(typeof O!="object"||O===null)throw new Error(ui(11));function V(){const Y=O;Y.next&&Y.next(p())}return V(),{unsubscribe:E(V)}},[R1](){return this}}}return _({type:M1.INIT}),{dispatch:_,subscribe:y,getState:p,replaceReducer:v,[R1]:S}}function O1(n,t){return function(...e){return t(n.apply(this,e))}}function k1(n,t){if(typeof n=="function")return O1(n,t);if(typeof n!="object"||n===null)throw new Error(ui(16));const e={};for(const i in n){const r=n[i];typeof r=="function"&&(e[i]=O1(r,t))}return e}function FI(...n){return n.length===0?t=>t:n.length===1?n[0]:n.reduce((t,e)=>(...i)=>t(e(...i)))}function FV(...n){return t=>(e,i)=>{const r=t(e,i);let o=()=>{throw new Error(ui(15))};const l={getState:r.getState,dispatch:(d,...f)=>o(d,...f)},u=n.map(d=>d(l));return o=FI(...u)(r.dispatch),{...r,dispatch:o}}}var Zy={exports:{}},Jy={};var P1;function HV(){if(P1)return Jy;P1=1;var n=tp();function t(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var e=typeof Object.is=="function"?Object.is:t,i=n.useSyncExternalStore,r=n.useRef,o=n.useEffect,l=n.useMemo,u=n.useDebugValue;return Jy.useSyncExternalStoreWithSelector=function(d,f,p,y,_){var v=r(null);if(v.current===null){var S={hasValue:!1,value:null};v.current=S}else S=v.current;v=l(function(){function E($){if(!O){if(O=!0,V=$,$=y($),_!==void 0&&S.hasValue){var Q=S.value;if(_(Q,$))return q=Q}return q=$}if(Q=q,e(V,$))return Q;var M=y($);return _!==void 0&&_(Q,M)?(V=$,Q):(V=$,q=M)}var O=!1,V,q,Y=p===void 0?null:p;return[function(){return E(f())},Y===null?void 0:function(){return E(Y())}]},[f,p,y,_]);var A=i(d,v[0],v[1]);return o(function(){S.hasValue=!0,S.value=A},[A]),u(A),A},Jy}var z1;function qV(){return z1||(z1=1,Zy.exports=HV()),Zy.exports}qV();var GV=W.version.startsWith("19"),YV=Symbol.for(GV?"react.transitional.element":"react.element"),$V=Symbol.for("react.portal"),WV=Symbol.for("react.fragment"),XV=Symbol.for("react.strict_mode"),QV=Symbol.for("react.profiler"),KV=Symbol.for("react.consumer"),ZV=Symbol.for("react.context"),HI=Symbol.for("react.forward_ref"),JV=Symbol.for("react.suspense"),t6=Symbol.for("react.suspense_list"),N_=Symbol.for("react.memo"),e6=Symbol.for("react.lazy"),n6=HI,i6=N_;function r6(n){if(typeof n=="object"&&n!==null){const{$$typeof:t}=n;switch(t){case YV:switch(n=n.type,n){case WV:case QV:case XV:case JV:case t6:return n;default:switch(n=n&&n.$$typeof,n){case ZV:case HI:case e6:case N_:return n;case KV:return n;default:return t}}case $V:return t}}}function s6(n){return r6(n)===N_}function o6(n,t,e,i,{areStatesEqual:r,areOwnPropsEqual:o,areStatePropsEqual:l}){let u=!1,d,f,p,y,_;function v(V,q){return d=V,f=q,p=n(d,f),y=t(i,f),_=e(p,y,f),u=!0,_}function S(){return p=n(d,f),t.dependsOnOwnProps&&(y=t(i,f)),_=e(p,y,f),_}function A(){return n.dependsOnOwnProps&&(p=n(d,f)),t.dependsOnOwnProps&&(y=t(i,f)),_=e(p,y,f),_}function E(){const V=n(d,f),q=!l(V,p);return p=V,q&&(_=e(p,y,f)),_}function O(V,q){const Y=!o(q,f),$=!r(V,d,q,f);return d=V,f=q,Y&&$?S():Y?A():$?E():_}return function(q,Y){return u?O(q,Y):v(q,Y)}}function a6(n,{initMapStateToProps:t,initMapDispatchToProps:e,initMergeProps:i,...r}){const o=t(n,r),l=e(n,r),u=i(n,r);return o6(o,l,u,n,r)}function l6(n,t){const e={};for(const i in n){const r=n[i];typeof r=="function"&&(e[i]=(...o)=>t(r(...o)))}return e}function eb(n){return function(e){const i=n(e);function r(){return i}return r.dependsOnOwnProps=!1,r}}function L1(n){return n.dependsOnOwnProps?!!n.dependsOnOwnProps:n.length!==1}function qI(n,t){return function(i,{displayName:r}){const o=function(u,d){return o.dependsOnOwnProps?o.mapToProps(u,d):o.mapToProps(u,void 0)};return o.dependsOnOwnProps=!0,o.mapToProps=function(u,d){o.mapToProps=n,o.dependsOnOwnProps=L1(n);let f=o(u,d);return typeof f=="function"&&(o.mapToProps=f,o.dependsOnOwnProps=L1(f),f=o(u,d)),f},o}}function M_(n,t){return(e,i)=>{throw new Error(`Invalid value of type ${typeof n} for ${t} argument when connecting component ${i.wrappedComponentName}.`)}}function c6(n){return n&&typeof n=="object"?eb(t=>l6(n,t)):n?typeof n=="function"?qI(n):M_(n,"mapDispatchToProps"):eb(t=>({dispatch:t}))}function u6(n){return n?typeof n=="function"?qI(n):M_(n,"mapStateToProps"):eb(()=>({}))}function d6(n,t,e){return{...e,...n,...t}}function h6(n){return function(e,{displayName:i,areMergedPropsEqual:r}){let o=!1,l;return function(d,f,p){const y=n(d,f,p);return o?r(y,l)||(l=y):(o=!0,l=y),l}}}function f6(n){return n?typeof n=="function"?h6(n):M_(n,"mergeProps"):()=>d6}function g6(n){n()}function p6(){let n=null,t=null;return{clear(){n=null,t=null},notify(){g6(()=>{let e=n;for(;e;)e.callback(),e=e.next})},get(){const e=[];let i=n;for(;i;)e.push(i),i=i.next;return e},subscribe(e){let i=!0;const r=t={callback:e,next:null,prev:t};return r.prev?r.prev.next=r:n=r,function(){!i||n===null||(i=!1,r.next?r.next.prev=r.prev:t=r.prev,r.prev?r.prev.next=r.next:n=r.next)}}}}var V1={notify(){},get:()=>[]};function GI(n,t){let e,i=V1,r=0,o=!1;function l(A){p();const E=i.subscribe(A);let O=!1;return()=>{O||(O=!0,E(),y())}}function u(){i.notify()}function d(){S.onStateChange&&S.onStateChange()}function f(){return o}function p(){r++,e||(e=t?t.addNestedSub(d):n.subscribe(d),i=p6())}function y(){r--,e&&r===0&&(e(),e=void 0,i.clear(),i=V1)}function _(){o||(o=!0,p())}function v(){o&&(o=!1,y())}const S={addNestedSub:l,notifyNestedSubs:u,handleChangeWrapper:d,isSubscribed:f,trySubscribe:_,tryUnsubscribe:v,getListeners:()=>i};return S}var m6=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",y6=m6(),b6=()=>typeof navigator<"u"&&navigator.product==="ReactNative",_6=b6(),v6=()=>y6||_6?W.useLayoutEffect:W.useEffect,Pg=v6();function U1(n,t){return n===t?n!==0||t!==0||1/n===1/t:n!==n&&t!==t}function t0(n,t){if(U1(n,t))return!0;if(typeof n!="object"||n===null||typeof t!="object"||t===null)return!1;const e=Object.keys(n),i=Object.keys(t);if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(!Object.prototype.hasOwnProperty.call(t,e[r])||!U1(n[e[r]],t[e[r]]))return!1;return!0}var x6={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},w6={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},T6={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},YI={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},E6={[n6]:T6,[i6]:YI};function j1(n){return s6(n)?YI:E6[n.$$typeof]||x6}var S6=Object.defineProperty,A6=Object.getOwnPropertyNames,B1=Object.getOwnPropertySymbols,C6=Object.getOwnPropertyDescriptor,D6=Object.getPrototypeOf,F1=Object.prototype;function nb(n,t){if(typeof t!="string"){if(F1){const o=D6(t);o&&o!==F1&&nb(n,o)}let e=A6(t);B1&&(e=e.concat(B1(t)));const i=j1(n),r=j1(t);for(let o=0;o<e.length;++o){const l=e[o];if(!w6[l]&&!(r&&r[l])&&!(i&&i[l])){const u=C6(t,l);try{S6(n,l,u)}catch{}}}}return n}var I6=Symbol.for("react-redux-context"),R6=typeof globalThis<"u"?globalThis:{};function N6(){if(!W.createContext)return{};const n=R6[I6]??=new Map;let t=n.get(W.createContext);return t||(t=W.createContext(null),n.set(W.createContext,t)),t}var $I=N6(),M6=[null,null];function O6(n,t,e){Pg(()=>n(...t),e)}function k6(n,t,e,i,r,o){n.current=i,e.current=!1,r.current&&(r.current=null,o())}function P6(n,t,e,i,r,o,l,u,d,f,p){if(!n)return()=>{};let y=!1,_=null;const v=()=>{if(y||!u.current)return;const A=t.getState();let E,O;try{E=i(A,r.current)}catch(V){O=V,_=V}O||(_=null),E===o.current?l.current||f():(o.current=E,d.current=E,l.current=!0,p())};return e.onStateChange=v,e.trySubscribe(),v(),()=>{if(y=!0,e.tryUnsubscribe(),e.onStateChange=null,_)throw _}}function z6(n,t){return n===t}function L6(n,t,e,{pure:i,areStatesEqual:r=z6,areOwnPropsEqual:o=t0,areStatePropsEqual:l=t0,areMergedPropsEqual:u=t0,forwardRef:d=!1,context:f=$I}={}){const p=f,y=u6(n),_=c6(t),v=f6(e),S=!!n;return E=>{const O=E.displayName||E.name||"Component",V=`Connect(${O})`,q={shouldHandleStateChanges:S,displayName:V,wrappedComponentName:O,WrappedComponent:E,initMapStateToProps:y,initMapDispatchToProps:_,initMergeProps:v,areStatesEqual:r,areStatePropsEqual:l,areOwnPropsEqual:o,areMergedPropsEqual:u};function Y(M){const[D,N,L]=W.useMemo(()=>{const{reactReduxForwardedRef:Te,...fn}=M;return[M.context,Te,fn]},[M]),z=W.useMemo(()=>{let Te=p;return D?.Consumer,Te},[D,p]),B=W.useContext(z),U=!!M.store&&!!M.store.getState&&!!M.store.dispatch,Ot=!!B&&!!B.store,St=U?M.store:B.store,tt=Ot?B.getServerState:St.getState,ft=W.useMemo(()=>a6(St.dispatch,q),[St]),[xt,Mt]=W.useMemo(()=>{if(!S)return M6;const Te=GI(St,U?void 0:B.subscription),fn=Te.notifyNestedSubs.bind(Te);return[Te,fn]},[St,U,B]),Pt=W.useMemo(()=>U?B:{...B,subscription:xt},[U,B,xt]),H=W.useRef(void 0),st=W.useRef(L),gt=W.useRef(void 0),pt=W.useRef(!1),Tt=W.useRef(!1),Dt=W.useRef(void 0);Pg(()=>(Tt.current=!0,()=>{Tt.current=!1}),[]);const dt=W.useMemo(()=>()=>gt.current&&L===st.current?gt.current:ft(St.getState(),L),[St,L]),Vt=W.useMemo(()=>fn=>xt?P6(S,St,xt,ft,st,H,pt,Tt,gt,Mt,fn):()=>{},[xt]);O6(k6,[st,H,pt,L,gt,Mt]);let At;try{At=W.useSyncExternalStore(Vt,dt,tt?()=>ft(tt(),L):dt)}catch(Te){throw Dt.current&&(Te.message+=`
The error may be correlated with this previous error:
${Dt.current.stack}

`),Te}Pg(()=>{Dt.current=void 0,gt.current=void 0,H.current=At});const $t=W.useMemo(()=>W.createElement(E,{...At,ref:N}),[N,E,At]);return W.useMemo(()=>S?W.createElement(z.Provider,{value:Pt},$t):$t,[z,$t,Pt])}const Q=W.memo(Y);if(Q.WrappedComponent=E,Q.displayName=Y.displayName=V,d){const D=W.forwardRef(function(L,z){return W.createElement(Q,{...L,reactReduxForwardedRef:z})});return D.displayName=V,D.WrappedComponent=E,nb(D,E)}return nb(Q,E)}}var WI=L6;function V6(n){const{children:t,context:e,serverState:i,store:r}=n,o=W.useMemo(()=>{const d=GI(r);return{store:r,subscription:d,getServerState:i?()=>i:void 0}},[r,i]),l=W.useMemo(()=>r.getState(),[r]);Pg(()=>{const{subscription:d}=o;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),l!==r.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[o,l]);const u=e||$I;return W.createElement(u.Provider,{value:o},t)}var U6=V6,j6="Invariant failed";function B6(n,t){throw new Error(j6)}var zr=function(t){var e=t.top,i=t.right,r=t.bottom,o=t.left,l=i-o,u=r-e,d={top:e,right:i,bottom:r,left:o,width:l,height:u,x:o,y:e,center:{x:(i+o)/2,y:(r+e)/2}};return d},O_=function(t,e){return{top:t.top-e.top,left:t.left-e.left,bottom:t.bottom+e.bottom,right:t.right+e.right}},H1=function(t,e){return{top:t.top+e.top,left:t.left+e.left,bottom:t.bottom-e.bottom,right:t.right-e.right}},F6=function(t,e){return{top:t.top+e.y,left:t.left+e.x,bottom:t.bottom+e.y,right:t.right+e.x}},e0={top:0,right:0,bottom:0,left:0},k_=function(t){var e=t.borderBox,i=t.margin,r=i===void 0?e0:i,o=t.border,l=o===void 0?e0:o,u=t.padding,d=u===void 0?e0:u,f=zr(O_(e,r)),p=zr(H1(e,l)),y=zr(H1(p,d));return{marginBox:f,borderBox:zr(e),paddingBox:p,contentBox:y,margin:r,border:l,padding:d}},gr=function(t){var e=t.slice(0,-2),i=t.slice(-2);if(i!=="px")return 0;var r=Number(e);return isNaN(r)&&B6(),r},H6=function(){return{x:window.pageXOffset,y:window.pageYOffset}},zg=function(t,e){var i=t.borderBox,r=t.border,o=t.margin,l=t.padding,u=F6(i,e);return k_({borderBox:u,border:r,margin:o,padding:l})},Lg=function(t,e){return e===void 0&&(e=H6()),zg(t,e)},XI=function(t,e){var i={top:gr(e.marginTop),right:gr(e.marginRight),bottom:gr(e.marginBottom),left:gr(e.marginLeft)},r={top:gr(e.paddingTop),right:gr(e.paddingRight),bottom:gr(e.paddingBottom),left:gr(e.paddingLeft)},o={top:gr(e.borderTopWidth),right:gr(e.borderRightWidth),bottom:gr(e.borderBottomWidth),left:gr(e.borderLeftWidth)};return k_({borderBox:t,margin:i,padding:r,border:o})},QI=function(t){var e=t.getBoundingClientRect(),i=window.getComputedStyle(t);return XI(e,i)},zd=function(t){var e=[],i=null,r=function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];e=u,!i&&(i=requestAnimationFrame(function(){i=null,t.apply(void 0,e)}))};return r.cancel=function(){i&&(cancelAnimationFrame(i),i=null)},r};function Vg(){return Vg=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},Vg.apply(null,arguments)}function KI(n,t){}KI.bind(null,"warn");KI.bind(null,"error");function Ko(){}function q6(n,t){return{...n,...t}}function yr(n,t,e){const i=t.map(r=>{const o=q6(e,r.options);return n.addEventListener(r.eventName,r.fn,o),function(){n.removeEventListener(r.eventName,r.fn,o)}});return function(){i.forEach(o=>{o()})}}const G6="Invariant failed";class Ug extends Error{}Ug.prototype.toString=function(){return this.message};function mt(n,t){throw new Ug(G6)}class Y6 extends Je.Component{constructor(...t){super(...t),this.callbacks=null,this.unbind=Ko,this.onWindowError=e=>{const i=this.getCallbacks();i.isDragging()&&i.tryAbort(),e.error instanceof Ug&&e.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=e=>{this.callbacks=e}}componentDidMount(){this.unbind=yr(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(t){if(t instanceof Ug){this.setState({});return}throw t}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const $6=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,jg=n=>n+1,W6=n=>`
  You have lifted an item in position ${jg(n.source.index)}
`,ZI=(n,t)=>{const e=n.droppableId===t.droppableId,i=jg(n.index),r=jg(t.index);return e?`
      You have moved the item from position ${i}
      to position ${r}
    `:`
    You have moved the item from position ${i}
    in list ${n.droppableId}
    to list ${t.droppableId}
    in position ${r}
  `},JI=(n,t,e)=>t.droppableId===e.droppableId?`
      The item ${n}
      has been combined with ${e.draggableId}`:`
      The item ${n}
      in list ${t.droppableId}
      has been combined with ${e.draggableId}
      in list ${e.droppableId}
    `,X6=n=>{const t=n.destination;if(t)return ZI(n.source,t);const e=n.combine;return e?JI(n.draggableId,n.source,e):"You are over an area that cannot be dropped on"},q1=n=>`
  The item has returned to its starting position
  of ${jg(n.index)}
`,Q6=n=>{if(n.reason==="CANCEL")return`
      Movement cancelled.
      ${q1(n.source)}
    `;const t=n.destination,e=n.combine;return t?`
      You have dropped the item.
      ${ZI(n.source,t)}
    `:e?`
      You have dropped the item.
      ${JI(n.draggableId,n.source,e)}
    `:`
    The item has been dropped while not over a drop area.
    ${q1(n.source)}
  `},hg={dragHandleUsageInstructions:$6,onDragStart:W6,onDragUpdate:X6,onDragEnd:Q6};function K6(n,t){return!!(n===t||Number.isNaN(n)&&Number.isNaN(t))}function t2(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;e++)if(!K6(n[e],t[e]))return!1;return!0}function le(n,t){const e=W.useState(()=>({inputs:t,result:n()}))[0],i=W.useRef(!0),r=W.useRef(e),l=i.current||!!(t&&r.current.inputs&&t2(t,r.current.inputs))?r.current:{inputs:t,result:n()};return W.useEffect(()=>{i.current=!1,r.current=l},[l]),l.result}function It(n,t){return le(()=>n,t)}const kn={x:0,y:0},qn=(n,t)=>({x:n.x+t.x,y:n.y+t.y}),Hi=(n,t)=>({x:n.x-t.x,y:n.y-t.y}),Zo=(n,t)=>n.x===t.x&&n.y===t.y,Gc=n=>({x:n.x!==0?-n.x:0,y:n.y!==0?-n.y:0}),gl=(n,t,e=0)=>n==="x"?{x:t,y:e}:{x:e,y:t},Ld=(n,t)=>Math.sqrt((t.x-n.x)**2+(t.y-n.y)**2),G1=(n,t)=>Math.min(...t.map(e=>Ld(n,e))),e2=n=>t=>({x:n(t.x),y:n(t.y)});var Z6=(n,t)=>{const e=zr({top:Math.max(t.top,n.top),right:Math.min(t.right,n.right),bottom:Math.min(t.bottom,n.bottom),left:Math.max(t.left,n.left)});return e.width<=0||e.height<=0?null:e};const uh=(n,t)=>({top:n.top+t.y,left:n.left+t.x,bottom:n.bottom+t.y,right:n.right+t.x}),Y1=n=>[{x:n.left,y:n.top},{x:n.right,y:n.top},{x:n.left,y:n.bottom},{x:n.right,y:n.bottom}],J6={top:0,right:0,bottom:0,left:0},t9=(n,t)=>t?uh(n,t.scroll.diff.displacement):n,e9=(n,t,e)=>e&&e.increasedBy?{...n,[t.end]:n[t.end]+e.increasedBy[t.line]}:n,n9=(n,t)=>t&&t.shouldClipSubject?Z6(t.pageMarginBox,n):zr(n);var Rc=({page:n,withPlaceholder:t,axis:e,frame:i})=>{const r=t9(n.marginBox,i),o=e9(r,e,t),l=n9(o,i);return{page:n,withPlaceholder:t,active:l}},P_=(n,t)=>{n.frame||mt();const e=n.frame,i=Hi(t,e.scroll.initial),r=Gc(i),o={...e,scroll:{initial:e.scroll.initial,current:t,diff:{value:i,displacement:r},max:e.scroll.max}},l=Rc({page:n.subject.page,withPlaceholder:n.subject.withPlaceholder,axis:n.axis,frame:o});return{...n,frame:o,subject:l}};function Mn(n,t=t2){let e=null;function i(...r){if(e&&e.lastThis===this&&t(r,e.lastArgs))return e.lastResult;const o=n.apply(this,r);return e={lastResult:o,lastArgs:r,lastThis:this},o}return i.clear=function(){e=null},i}const n2=Mn(n=>n.reduce((t,e)=>(t[e.descriptor.id]=e,t),{})),i2=Mn(n=>n.reduce((t,e)=>(t[e.descriptor.id]=e,t),{})),Tp=Mn(n=>Object.values(n)),i9=Mn(n=>Object.values(n));var Yc=Mn((n,t)=>i9(t).filter(i=>n===i.descriptor.droppableId).sort((i,r)=>i.descriptor.index-r.descriptor.index));function z_(n){return n.at&&n.at.type==="REORDER"?n.at.destination:null}function Ep(n){return n.at&&n.at.type==="COMBINE"?n.at.combine:null}var Sp=Mn((n,t)=>t.filter(e=>e.descriptor.id!==n.descriptor.id)),r9=({isMovingForward:n,draggable:t,destination:e,insideDestination:i,previousImpact:r})=>{if(!e.isCombineEnabled||!z_(r))return null;function l(v){const S={type:"COMBINE",combine:{draggableId:v,droppableId:e.descriptor.id}};return{...r,at:S}}const u=r.displaced.all,d=u.length?u[0]:null;if(n)return d?l(d):null;const f=Sp(t,i);if(!d){if(!f.length)return null;const v=f[f.length-1];return l(v.descriptor.id)}const p=f.findIndex(v=>v.descriptor.id===d);p===-1&&mt();const y=p-1;if(y<0)return null;const _=f[y];return l(_.descriptor.id)},$c=(n,t)=>n.descriptor.droppableId===t.descriptor.id;const r2={point:kn,value:0},Vd={invisible:{},visible:{},all:[]},s9={displaced:Vd,displacedBy:r2,at:null};var vr=(n,t)=>e=>n<=e&&e<=t,s2=n=>{const t=vr(n.top,n.bottom),e=vr(n.left,n.right);return i=>{if(t(i.top)&&t(i.bottom)&&e(i.left)&&e(i.right))return!0;const o=t(i.top)||t(i.bottom),l=e(i.left)||e(i.right);if(o&&l)return!0;const d=i.top<n.top&&i.bottom>n.bottom,f=i.left<n.left&&i.right>n.right;return d&&f?!0:d&&l||f&&o}},o9=n=>{const t=vr(n.top,n.bottom),e=vr(n.left,n.right);return i=>t(i.top)&&t(i.bottom)&&e(i.left)&&e(i.right)};const L_={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},o2={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var a9=n=>t=>{const e=vr(t.top,t.bottom),i=vr(t.left,t.right);return r=>n===L_?e(r.top)&&e(r.bottom):i(r.left)&&i(r.right)};const l9=(n,t)=>{const e=t.frame?t.frame.scroll.diff.displacement:kn;return uh(n,e)},c9=(n,t,e)=>t.subject.active?e(t.subject.active)(n):!1,u9=(n,t,e)=>e(t)(n),V_=({target:n,destination:t,viewport:e,withDroppableDisplacement:i,isVisibleThroughFrameFn:r})=>{const o=i?l9(n,t):n;return c9(o,t,r)&&u9(o,e,r)},d9=n=>V_({...n,isVisibleThroughFrameFn:s2}),a2=n=>V_({...n,isVisibleThroughFrameFn:o9}),h9=n=>V_({...n,isVisibleThroughFrameFn:a9(n.destination.axis)}),f9=(n,t,e)=>{if(typeof e=="boolean")return e;if(!t)return!0;const{invisible:i,visible:r}=t;if(i[n])return!1;const o=r[n];return o?o.shouldAnimate:!0};function g9(n,t){const e=n.page.marginBox,i={top:t.point.y,right:0,bottom:0,left:t.point.x};return zr(O_(e,i))}function Ud({afterDragging:n,destination:t,displacedBy:e,viewport:i,forceShouldAnimate:r,last:o}){return n.reduce(function(u,d){const f=g9(d,e),p=d.descriptor.id;if(u.all.push(p),!d9({target:f,destination:t,viewport:i,withDroppableDisplacement:!0}))return u.invisible[d.descriptor.id]=!0,u;const _=f9(p,o,r),v={draggableId:p,shouldAnimate:_};return u.visible[p]=v,u},{all:[],visible:{},invisible:{}})}function p9(n,t){if(!n.length)return 0;const e=n[n.length-1].descriptor.index;return t.inHomeList?e:e+1}function $1({insideDestination:n,inHomeList:t,displacedBy:e,destination:i}){const r=p9(n,{inHomeList:t});return{displaced:Vd,displacedBy:e,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:r}}}}function Bg({draggable:n,insideDestination:t,destination:e,viewport:i,displacedBy:r,last:o,index:l,forceShouldAnimate:u}){const d=$c(n,e);if(l==null)return $1({insideDestination:t,inHomeList:d,displacedBy:r,destination:e});const f=t.find(S=>S.descriptor.index===l);if(!f)return $1({insideDestination:t,inHomeList:d,displacedBy:r,destination:e});const p=Sp(n,t),y=t.indexOf(f),_=p.slice(y);return{displaced:Ud({afterDragging:_,destination:e,displacedBy:r,last:o,viewport:i.frame,forceShouldAnimate:u}),displacedBy:r,at:{type:"REORDER",destination:{droppableId:e.descriptor.id,index:l}}}}function oa(n,t){return!!t.effected[n]}var m9=({isMovingForward:n,destination:t,draggables:e,combine:i,afterCritical:r})=>{if(!t.isCombineEnabled)return null;const o=i.draggableId,u=e[o].descriptor.index;return oa(o,r)?n?u:u-1:n?u+1:u},y9=({isMovingForward:n,isInHomeList:t,insideDestination:e,location:i})=>{if(!e.length)return null;const r=i.index,o=n?r+1:r-1,l=e[0].descriptor.index,u=e[e.length-1].descriptor.index,d=t?u:u+1;return o<l||o>d?null:o},b9=({isMovingForward:n,isInHomeList:t,draggable:e,draggables:i,destination:r,insideDestination:o,previousImpact:l,viewport:u,afterCritical:d})=>{const f=l.at;if(f||mt(),f.type==="REORDER"){const y=y9({isMovingForward:n,isInHomeList:t,location:f.destination,insideDestination:o});return y==null?null:Bg({draggable:e,insideDestination:o,destination:r,viewport:u,last:l.displaced,displacedBy:l.displacedBy,index:y})}const p=m9({isMovingForward:n,destination:r,displaced:l.displaced,draggables:i,combine:f.combine,afterCritical:d});return p==null?null:Bg({draggable:e,insideDestination:o,destination:r,viewport:u,last:l.displaced,displacedBy:l.displacedBy,index:p})},_9=({displaced:n,afterCritical:t,combineWith:e,displacedBy:i})=>{const r=!!(n.visible[e]||n.invisible[e]);return oa(e,t)?r?kn:Gc(i.point):r?i.point:kn},v9=({afterCritical:n,impact:t,draggables:e})=>{const i=Ep(t);i||mt();const r=i.draggableId,o=e[r].page.borderBox.center,l=_9({displaced:t.displaced,afterCritical:n,combineWith:r,displacedBy:t.displacedBy});return qn(o,l)};const l2=(n,t)=>t.margin[n.start]+t.borderBox[n.size]/2,x9=(n,t)=>t.margin[n.end]+t.borderBox[n.size]/2,U_=(n,t,e)=>t[n.crossAxisStart]+e.margin[n.crossAxisStart]+e.borderBox[n.crossAxisSize]/2,W1=({axis:n,moveRelativeTo:t,isMoving:e})=>gl(n.line,t.marginBox[n.end]+l2(n,e),U_(n,t.marginBox,e)),X1=({axis:n,moveRelativeTo:t,isMoving:e})=>gl(n.line,t.marginBox[n.start]-x9(n,e),U_(n,t.marginBox,e)),w9=({axis:n,moveInto:t,isMoving:e})=>gl(n.line,t.contentBox[n.start]+l2(n,e),U_(n,t.contentBox,e));var T9=({impact:n,draggable:t,draggables:e,droppable:i,afterCritical:r})=>{const o=Yc(i.descriptor.id,e),l=t.page,u=i.axis;if(!o.length)return w9({axis:u,moveInto:i.page,isMoving:l});const{displaced:d,displacedBy:f}=n,p=d.all[0];if(p){const _=e[p];if(oa(p,r))return X1({axis:u,moveRelativeTo:_.page,isMoving:l});const v=zg(_.page,f.point);return X1({axis:u,moveRelativeTo:v,isMoving:l})}const y=o[o.length-1];if(y.descriptor.id===t.descriptor.id)return l.borderBox.center;if(oa(y.descriptor.id,r)){const _=zg(y.page,Gc(r.displacedBy.point));return W1({axis:u,moveRelativeTo:_,isMoving:l})}return W1({axis:u,moveRelativeTo:y.page,isMoving:l})},ib=(n,t)=>{const e=n.frame;return e?qn(t,e.scroll.diff.displacement):t};const E9=({impact:n,draggable:t,droppable:e,draggables:i,afterCritical:r})=>{const o=t.page.borderBox.center,l=n.at;return!e||!l?o:l.type==="REORDER"?T9({impact:n,draggable:t,draggables:i,droppable:e,afterCritical:r}):v9({impact:n,draggables:i,afterCritical:r})};var Ap=n=>{const t=E9(n),e=n.droppable;return e?ib(e,t):t},c2=(n,t)=>{const e=Hi(t,n.scroll.initial),i=Gc(e);return{frame:zr({top:t.y,bottom:t.y+n.frame.height,left:t.x,right:t.x+n.frame.width}),scroll:{initial:n.scroll.initial,max:n.scroll.max,current:t,diff:{value:e,displacement:i}}}};function Q1(n,t){return n.map(e=>t[e])}function S9(n,t){for(let e=0;e<t.length;e++){const i=t[e].visible[n];if(i)return i}return null}var A9=({impact:n,viewport:t,destination:e,draggables:i,maxScrollChange:r})=>{const o=c2(t,qn(t.scroll.current,r)),l=e.frame?P_(e,qn(e.frame.scroll.current,r)):e,u=n.displaced,d=Ud({afterDragging:Q1(u.all,i),destination:e,displacedBy:n.displacedBy,viewport:o.frame,last:u,forceShouldAnimate:!1}),f=Ud({afterDragging:Q1(u.all,i),destination:l,displacedBy:n.displacedBy,viewport:t.frame,last:u,forceShouldAnimate:!1}),p={},y={},_=[u,d,f];return u.all.forEach(S=>{const A=S9(S,_);if(A){y[S]=A;return}p[S]=!0}),{...n,displaced:{all:u.all,invisible:p,visible:y}}},C9=(n,t)=>qn(n.scroll.diff.displacement,t),j_=({pageBorderBoxCenter:n,draggable:t,viewport:e})=>{const i=C9(e,n),r=Hi(i,t.page.borderBox.center);return qn(t.client.borderBox.center,r)},u2=({draggable:n,destination:t,newPageBorderBoxCenter:e,viewport:i,withDroppableDisplacement:r,onlyOnMainAxis:o=!1})=>{const l=Hi(e,n.page.borderBox.center),d={target:uh(n.page.borderBox,l),destination:t,withDroppableDisplacement:r,viewport:i};return o?h9(d):a2(d)},D9=({isMovingForward:n,draggable:t,destination:e,draggables:i,previousImpact:r,viewport:o,previousPageBorderBoxCenter:l,previousClientSelection:u,afterCritical:d})=>{if(!e.isEnabled)return null;const f=Yc(e.descriptor.id,i),p=$c(t,e),y=r9({isMovingForward:n,draggable:t,destination:e,insideDestination:f,previousImpact:r})||b9({isMovingForward:n,isInHomeList:p,draggable:t,draggables:i,destination:e,insideDestination:f,previousImpact:r,viewport:o,afterCritical:d});if(!y)return null;const _=Ap({impact:y,draggable:t,droppable:e,draggables:i,afterCritical:d});if(u2({draggable:t,destination:e,newPageBorderBoxCenter:_,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:j_({pageBorderBoxCenter:_,draggable:t,viewport:o}),impact:y,scrollJumpRequest:null};const S=Hi(_,l),A=A9({impact:y,viewport:o,destination:e,draggables:i,maxScrollChange:S});return{clientSelection:u,impact:A,scrollJumpRequest:S}};const ci=n=>{const t=n.subject.active;return t||mt(),t};var I9=({isMovingForward:n,pageBorderBoxCenter:t,source:e,droppables:i,viewport:r})=>{const o=e.subject.active;if(!o)return null;const l=e.axis,u=vr(o[l.start],o[l.end]),d=Tp(i).filter(p=>p!==e).filter(p=>p.isEnabled).filter(p=>!!p.subject.active).filter(p=>s2(r.frame)(ci(p))).filter(p=>{const y=ci(p);return n?o[l.crossAxisEnd]<y[l.crossAxisEnd]:y[l.crossAxisStart]<o[l.crossAxisStart]}).filter(p=>{const y=ci(p),_=vr(y[l.start],y[l.end]);return u(y[l.start])||u(y[l.end])||_(o[l.start])||_(o[l.end])}).sort((p,y)=>{const _=ci(p)[l.crossAxisStart],v=ci(y)[l.crossAxisStart];return n?_-v:v-_}).filter((p,y,_)=>ci(p)[l.crossAxisStart]===ci(_[0])[l.crossAxisStart]);if(!d.length)return null;if(d.length===1)return d[0];const f=d.filter(p=>vr(ci(p)[l.start],ci(p)[l.end])(t[l.line]));return f.length===1?f[0]:f.length>1?f.sort((p,y)=>ci(p)[l.start]-ci(y)[l.start])[0]:d.sort((p,y)=>{const _=G1(t,Y1(ci(p))),v=G1(t,Y1(ci(y)));return _!==v?_-v:ci(p)[l.start]-ci(y)[l.start]})[0]};const K1=(n,t)=>{const e=n.page.borderBox.center;return oa(n.descriptor.id,t)?Hi(e,t.displacedBy.point):e},R9=(n,t)=>{const e=n.page.borderBox;return oa(n.descriptor.id,t)?uh(e,Gc(t.displacedBy.point)):e};var N9=({pageBorderBoxCenter:n,viewport:t,destination:e,insideDestination:i,afterCritical:r})=>i.filter(l=>a2({target:R9(l,r),destination:e,viewport:t.frame,withDroppableDisplacement:!0})).sort((l,u)=>{const d=Ld(n,ib(e,K1(l,r))),f=Ld(n,ib(e,K1(u,r)));return d<f?-1:f<d?1:l.descriptor.index-u.descriptor.index})[0]||null,dh=Mn(function(t,e){const i=e[t.line];return{value:i,point:gl(t.line,i)}});const M9=(n,t,e)=>{const i=n.axis;if(n.descriptor.mode==="virtual")return gl(i.line,t[i.line]);const r=n.subject.page.contentBox[i.size],d=Yc(n.descriptor.id,e).reduce((f,p)=>f+p.client.marginBox[i.size],0)+t[i.line]-r;return d<=0?null:gl(i.line,d)},d2=(n,t)=>({...n,scroll:{...n.scroll,max:t}}),h2=(n,t,e)=>{const i=n.frame;$c(t,n)&&mt(),n.subject.withPlaceholder&&mt();const r=dh(n.axis,t.displaceBy).point,o=M9(n,r,e),l={placeholderSize:r,increasedBy:o,oldFrameMaxScroll:n.frame?n.frame.scroll.max:null};if(!i){const p=Rc({page:n.subject.page,withPlaceholder:l,axis:n.axis,frame:n.frame});return{...n,subject:p}}const u=o?qn(i.scroll.max,o):i.scroll.max,d=d2(i,u),f=Rc({page:n.subject.page,withPlaceholder:l,axis:n.axis,frame:d});return{...n,subject:f,frame:d}},O9=n=>{const t=n.subject.withPlaceholder;t||mt();const e=n.frame;if(!e){const l=Rc({page:n.subject.page,axis:n.axis,frame:null,withPlaceholder:null});return{...n,subject:l}}const i=t.oldFrameMaxScroll;i||mt();const r=d2(e,i),o=Rc({page:n.subject.page,axis:n.axis,frame:r,withPlaceholder:null});return{...n,subject:o,frame:r}};var k9=({previousPageBorderBoxCenter:n,moveRelativeTo:t,insideDestination:e,draggable:i,draggables:r,destination:o,viewport:l,afterCritical:u})=>{if(!t){if(e.length)return null;const y={displaced:Vd,displacedBy:r2,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:0}}},_=Ap({impact:y,draggable:i,droppable:o,draggables:r,afterCritical:u}),v=$c(i,o)?o:h2(o,i,r);return u2({draggable:i,destination:v,newPageBorderBoxCenter:_,viewport:l.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?y:null}const d=n[o.axis.line]<=t.page.borderBox.center[o.axis.line],f=(()=>{const y=t.descriptor.index;return t.descriptor.id===i.descriptor.id||d?y:y+1})(),p=dh(o.axis,i.displaceBy);return Bg({draggable:i,insideDestination:e,destination:o,viewport:l,displacedBy:p,last:Vd,index:f})},P9=({isMovingForward:n,previousPageBorderBoxCenter:t,draggable:e,isOver:i,draggables:r,droppables:o,viewport:l,afterCritical:u})=>{const d=I9({isMovingForward:n,pageBorderBoxCenter:t,source:i,droppables:o,viewport:l});if(!d)return null;const f=Yc(d.descriptor.id,r),p=N9({pageBorderBoxCenter:t,viewport:l,destination:d,insideDestination:f,afterCritical:u}),y=k9({previousPageBorderBoxCenter:t,destination:d,draggable:e,draggables:r,moveRelativeTo:p,insideDestination:f,viewport:l,afterCritical:u});if(!y)return null;const _=Ap({impact:y,draggable:e,droppable:d,draggables:r,afterCritical:u});return{clientSelection:j_({pageBorderBoxCenter:_,draggable:e,viewport:l}),impact:y,scrollJumpRequest:null}},Yi=n=>{const t=n.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null};const z9=(n,t)=>{const e=Yi(n);return e?t[e]:null};var L9=({state:n,type:t})=>{const e=z9(n.impact,n.dimensions.droppables),i=!!e,r=n.dimensions.droppables[n.critical.droppable.id],o=e||r,l=o.axis.direction,u=l==="vertical"&&(t==="MOVE_UP"||t==="MOVE_DOWN")||l==="horizontal"&&(t==="MOVE_LEFT"||t==="MOVE_RIGHT");if(u&&!i)return null;const d=t==="MOVE_DOWN"||t==="MOVE_RIGHT",f=n.dimensions.draggables[n.critical.draggable.id],p=n.current.page.borderBoxCenter,{draggables:y,droppables:_}=n.dimensions;return u?D9({isMovingForward:d,previousPageBorderBoxCenter:p,draggable:f,destination:o,draggables:y,viewport:n.viewport,previousClientSelection:n.current.client.selection,previousImpact:n.impact,afterCritical:n.afterCritical}):P9({isMovingForward:d,previousPageBorderBoxCenter:p,draggable:f,isOver:o,draggables:y,droppables:_,viewport:n.viewport,afterCritical:n.afterCritical})};function Za(n){return n.phase==="DRAGGING"||n.phase==="COLLECTING"}function f2(n){const t=vr(n.top,n.bottom),e=vr(n.left,n.right);return function(r){return t(r.y)&&e(r.x)}}function V9(n,t){return n.left<t.right&&n.right>t.left&&n.top<t.bottom&&n.bottom>t.top}function U9({pageBorderBox:n,draggable:t,candidates:e}){const i=t.page.borderBox.center,r=e.map(o=>{const l=o.axis,u=gl(o.axis.line,n.center[l.line],o.page.borderBox.center[l.crossAxisLine]);return{id:o.descriptor.id,distance:Ld(i,u)}}).sort((o,l)=>l.distance-o.distance);return r[0]?r[0].id:null}function j9({pageBorderBox:n,draggable:t,droppables:e}){const i=Tp(e).filter(r=>{if(!r.isEnabled)return!1;const o=r.subject.active;if(!o||!V9(n,o))return!1;if(f2(o)(n.center))return!0;const l=r.axis,u=o.center[l.crossAxisLine],d=n[l.crossAxisStart],f=n[l.crossAxisEnd],p=vr(o[l.crossAxisStart],o[l.crossAxisEnd]),y=p(d),_=p(f);return!y&&!_?!0:y?d<u:f>u});return i.length?i.length===1?i[0].descriptor.id:U9({pageBorderBox:n,draggable:t,candidates:i}):null}const g2=(n,t)=>zr(uh(n,t));var B9=(n,t)=>{const e=n.frame;return e?g2(t,e.scroll.diff.value):t};function p2({displaced:n,id:t}){return!!(n.visible[t]||n.invisible[t])}function F9({draggable:n,closest:t,inHomeList:e}){return t?e&&t.descriptor.index>n.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}var H9=({pageBorderBoxWithDroppableScroll:n,draggable:t,destination:e,insideDestination:i,last:r,viewport:o,afterCritical:l})=>{const u=e.axis,d=dh(e.axis,t.displaceBy),f=d.value,p=n[u.start],y=n[u.end],v=Sp(t,i).find(A=>{const E=A.descriptor.id,O=A.page.borderBox.center[u.line],V=oa(E,l),q=p2({displaced:r,id:E});return V?q?y<=O:p<O-f:q?y<=O+f:p<O})||null,S=F9({draggable:t,closest:v,inHomeList:$c(t,e)});return Bg({draggable:t,insideDestination:i,destination:e,viewport:o,last:r,displacedBy:d,index:S})};const q9=4;var G9=({draggable:n,pageBorderBoxWithDroppableScroll:t,previousImpact:e,destination:i,insideDestination:r,afterCritical:o})=>{if(!i.isCombineEnabled)return null;const l=i.axis,u=dh(i.axis,n.displaceBy),d=u.value,f=t[l.start],p=t[l.end],_=Sp(n,r).find(S=>{const A=S.descriptor.id,E=S.page.borderBox,V=E[l.size]/q9,q=oa(A,o),Y=p2({displaced:e.displaced,id:A});return q?Y?p>E[l.start]+V&&p<E[l.end]-V:f>E[l.start]-d+V&&f<E[l.end]-d-V:Y?p>E[l.start]+d+V&&p<E[l.end]+d-V:f>E[l.start]+V&&f<E[l.end]-V});return _?{displacedBy:u,displaced:e.displaced,at:{type:"COMBINE",combine:{draggableId:_.descriptor.id,droppableId:i.descriptor.id}}}:null},m2=({pageOffset:n,draggable:t,draggables:e,droppables:i,previousImpact:r,viewport:o,afterCritical:l})=>{const u=g2(t.page.borderBox,n),d=j9({pageBorderBox:u,draggable:t,droppables:i});if(!d)return s9;const f=i[d],p=Yc(f.descriptor.id,e),y=B9(f,u);return G9({pageBorderBoxWithDroppableScroll:y,draggable:t,previousImpact:r,destination:f,insideDestination:p,afterCritical:l})||H9({pageBorderBoxWithDroppableScroll:y,draggable:t,destination:f,insideDestination:p,last:r.displaced,viewport:o,afterCritical:l})},B_=(n,t)=>({...n,[t.descriptor.id]:t});const Y9=({previousImpact:n,impact:t,droppables:e})=>{const i=Yi(n),r=Yi(t);if(!i||i===r)return e;const o=e[i];if(!o.subject.withPlaceholder)return e;const l=O9(o);return B_(e,l)};var $9=({draggable:n,draggables:t,droppables:e,previousImpact:i,impact:r})=>{const o=Y9({previousImpact:i,impact:r,droppables:e}),l=Yi(r);if(!l)return o;const u=e[l];if($c(n,u)||u.subject.withPlaceholder)return o;const d=h2(u,n,t);return B_(o,d)},pd=({state:n,clientSelection:t,dimensions:e,viewport:i,impact:r,scrollJumpRequest:o})=>{const l=i||n.viewport,u=e||n.dimensions,d=t||n.current.client.selection,f=Hi(d,n.initial.client.selection),p={offset:f,selection:d,borderBoxCenter:qn(n.initial.client.borderBoxCenter,f)},y={selection:qn(p.selection,l.scroll.current),borderBoxCenter:qn(p.borderBoxCenter,l.scroll.current),offset:qn(p.offset,l.scroll.diff.value)},_={client:p,page:y};if(n.phase==="COLLECTING")return{...n,dimensions:u,viewport:l,current:_};const v=u.draggables[n.critical.draggable.id],S=r||m2({pageOffset:y.offset,draggable:v,draggables:u.draggables,droppables:u.droppables,previousImpact:n.impact,viewport:l,afterCritical:n.afterCritical}),A=$9({draggable:v,impact:S,previousImpact:n.impact,draggables:u.draggables,droppables:u.droppables});return{...n,current:_,dimensions:{draggables:u.draggables,droppables:A},impact:S,viewport:l,scrollJumpRequest:o||null,forceShouldAnimate:o?!1:null}};function W9(n,t){return n.map(e=>t[e])}var y2=({impact:n,viewport:t,draggables:e,destination:i,forceShouldAnimate:r})=>{const o=n.displaced,l=W9(o.all,e),u=Ud({afterDragging:l,destination:i,displacedBy:n.displacedBy,viewport:t.frame,forceShouldAnimate:r,last:o});return{...n,displaced:u}},b2=({impact:n,draggable:t,droppable:e,draggables:i,viewport:r,afterCritical:o})=>{const l=Ap({impact:n,draggable:t,draggables:i,droppable:e,afterCritical:o});return j_({pageBorderBoxCenter:l,draggable:t,viewport:r})},_2=({state:n,dimensions:t,viewport:e})=>{n.movementMode!=="SNAP"&&mt();const i=n.impact,r=e||n.viewport,o=t||n.dimensions,{draggables:l,droppables:u}=o,d=l[n.critical.draggable.id],f=Yi(i);f||mt();const p=u[f],y=y2({impact:i,viewport:r,destination:p,draggables:l}),_=b2({impact:y,draggable:d,droppable:p,draggables:l,viewport:r,afterCritical:n.afterCritical});return pd({impact:y,clientSelection:_,state:n,dimensions:o,viewport:r})},X9=n=>({index:n.index,droppableId:n.droppableId}),v2=({draggable:n,home:t,draggables:e,viewport:i})=>{const r=dh(t.axis,n.displaceBy),o=Yc(t.descriptor.id,e),l=o.indexOf(n);l===-1&&mt();const u=o.slice(l+1),d=u.reduce((_,v)=>(_[v.descriptor.id]=!0,_),{}),f={inVirtualList:t.descriptor.mode==="virtual",displacedBy:r,effected:d};return{impact:{displaced:Ud({afterDragging:u,destination:t,displacedBy:r,last:null,viewport:i.frame,forceShouldAnimate:!1}),displacedBy:r,at:{type:"REORDER",destination:X9(n.descriptor)}},afterCritical:f}},Q9=(n,t)=>({draggables:n.draggables,droppables:B_(n.droppables,t)}),K9=({draggable:n,offset:t,initialWindowScroll:e})=>{const i=zg(n.client,t),r=Lg(i,e);return{...n,placeholder:{...n.placeholder,client:i},client:i,page:r}},Z9=n=>{const t=n.frame;return t||mt(),t},J9=({additions:n,updatedDroppables:t,viewport:e})=>{const i=e.scroll.diff.value;return n.map(r=>{const o=r.descriptor.droppableId,l=t[o],d=Z9(l).scroll.diff.value,f=qn(i,d);return K9({draggable:r,offset:f,initialWindowScroll:e.scroll.initial})})},tU=({state:n,published:t})=>{const e=t.modified.map(O=>{const V=n.dimensions.droppables[O.droppableId];return P_(V,O.scroll)}),i={...n.dimensions.droppables,...n2(e)},r=i2(J9({additions:t.additions,updatedDroppables:i,viewport:n.viewport})),o={...n.dimensions.draggables,...r};t.removals.forEach(O=>{delete o[O]});const l={droppables:i,draggables:o},u=Yi(n.impact),d=u?l.droppables[u]:null,f=l.draggables[n.critical.draggable.id],p=l.droppables[n.critical.droppable.id],{impact:y,afterCritical:_}=v2({draggable:f,home:p,draggables:o,viewport:n.viewport}),v=d&&d.isCombineEnabled?n.impact:y,S=m2({pageOffset:n.current.page.offset,draggable:l.draggables[n.critical.draggable.id],draggables:l.draggables,droppables:l.droppables,previousImpact:v,viewport:n.viewport,afterCritical:_}),A={...n,phase:"DRAGGING",impact:S,onLiftImpact:y,dimensions:l,afterCritical:_,forceShouldAnimate:!1};return n.phase==="COLLECTING"?A:{...A,phase:"DROP_PENDING",reason:n.reason,isWaiting:!1}};const rb=n=>n.movementMode==="SNAP",n0=(n,t,e)=>{const i=Q9(n.dimensions,t);return!rb(n)||e?pd({state:n,dimensions:i}):_2({state:n,dimensions:i})};function i0(n){return n.isDragging&&n.movementMode==="SNAP"?{...n,scrollJumpRequest:null}:n}const Z1={phase:"IDLE",completed:null,shouldFlush:!1};var eU=(n=Z1,t)=>{if(t.type==="FLUSH")return{...Z1,shouldFlush:!0};if(t.type==="INITIAL_PUBLISH"){n.phase!=="IDLE"&&mt();const{critical:e,clientSelection:i,viewport:r,dimensions:o,movementMode:l}=t.payload,u=o.draggables[e.draggable.id],d=o.droppables[e.droppable.id],f={selection:i,borderBoxCenter:u.client.borderBox.center,offset:kn},p={client:f,page:{selection:qn(f.selection,r.scroll.initial),borderBoxCenter:qn(f.selection,r.scroll.initial),offset:qn(f.selection,r.scroll.diff.value)}},y=Tp(o.droppables).every(A=>!A.isFixedOnPage),{impact:_,afterCritical:v}=v2({draggable:u,home:d,draggables:o.draggables,viewport:r});return{phase:"DRAGGING",isDragging:!0,critical:e,movementMode:l,dimensions:o,initial:p,current:p,isWindowScrollAllowed:y,impact:_,afterCritical:v,onLiftImpact:_,viewport:r,scrollJumpRequest:null,forceShouldAnimate:null}}if(t.type==="COLLECTION_STARTING")return n.phase==="COLLECTING"||n.phase==="DROP_PENDING"?n:(n.phase!=="DRAGGING"&&mt(),{...n,phase:"COLLECTING"});if(t.type==="PUBLISH_WHILE_DRAGGING")return n.phase==="COLLECTING"||n.phase==="DROP_PENDING"||mt(),tU({state:n,published:t.payload});if(t.type==="MOVE"){if(n.phase==="DROP_PENDING")return n;Za(n)||mt();const{client:e}=t.payload;return Zo(e,n.current.client.selection)?n:pd({state:n,clientSelection:e,impact:rb(n)?n.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(n.phase==="DROP_PENDING"||n.phase==="COLLECTING")return i0(n);Za(n)||mt();const{id:e,newScroll:i}=t.payload,r=n.dimensions.droppables[e];if(!r)return n;const o=P_(r,i);return n0(n,o,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(n.phase==="DROP_PENDING")return n;Za(n)||mt();const{id:e,isEnabled:i}=t.payload,r=n.dimensions.droppables[e];r||mt(),r.isEnabled===i&&mt();const o={...r,isEnabled:i};return n0(n,o,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(n.phase==="DROP_PENDING")return n;Za(n)||mt();const{id:e,isCombineEnabled:i}=t.payload,r=n.dimensions.droppables[e];r||mt(),r.isCombineEnabled===i&&mt();const o={...r,isCombineEnabled:i};return n0(n,o,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(n.phase==="DROP_PENDING"||n.phase==="DROP_ANIMATING")return n;Za(n)||mt(),n.isWindowScrollAllowed||mt();const e=t.payload.newScroll;if(Zo(n.viewport.scroll.current,e))return i0(n);const i=c2(n.viewport,e);return rb(n)?_2({state:n,viewport:i}):pd({state:n,viewport:i})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!Za(n))return n;const e=t.payload.maxScroll;if(Zo(e,n.viewport.scroll.max))return n;const i={...n.viewport,scroll:{...n.viewport.scroll,max:e}};return{...n,viewport:i}}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(n.phase==="COLLECTING"||n.phase==="DROP_PENDING")return n;n.phase!=="DRAGGING"&&mt();const e=L9({state:n,type:t.type});return e?pd({state:n,impact:e.impact,clientSelection:e.clientSelection,scrollJumpRequest:e.scrollJumpRequest}):n}if(t.type==="DROP_PENDING"){const e=t.payload.reason;return n.phase!=="COLLECTING"&&mt(),{...n,phase:"DROP_PENDING",isWaiting:!0,reason:e}}if(t.type==="DROP_ANIMATE"){const{completed:e,dropDuration:i,newHomeClientOffset:r}=t.payload;return n.phase==="DRAGGING"||n.phase==="DROP_PENDING"||mt(),{phase:"DROP_ANIMATING",completed:e,dropDuration:i,newHomeClientOffset:r,dimensions:n.dimensions}}if(t.type==="DROP_COMPLETE"){const{completed:e}=t.payload;return{phase:"IDLE",completed:e,shouldFlush:!1}}return n};function be(n,t){return n instanceof Object&&"type"in n&&n.type===t}const nU=n=>({type:"BEFORE_INITIAL_CAPTURE",payload:n}),iU=n=>({type:"LIFT",payload:n}),rU=n=>({type:"INITIAL_PUBLISH",payload:n}),sU=n=>({type:"PUBLISH_WHILE_DRAGGING",payload:n}),oU=()=>({type:"COLLECTION_STARTING",payload:null}),aU=n=>({type:"UPDATE_DROPPABLE_SCROLL",payload:n}),lU=n=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:n}),cU=n=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:n}),x2=n=>({type:"MOVE",payload:n}),uU=n=>({type:"MOVE_BY_WINDOW_SCROLL",payload:n}),dU=n=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:n}),hU=()=>({type:"MOVE_UP",payload:null}),fU=()=>({type:"MOVE_DOWN",payload:null}),gU=()=>({type:"MOVE_RIGHT",payload:null}),pU=()=>({type:"MOVE_LEFT",payload:null}),F_=()=>({type:"FLUSH",payload:null}),mU=n=>({type:"DROP_ANIMATE",payload:n}),H_=n=>({type:"DROP_COMPLETE",payload:n}),w2=n=>({type:"DROP",payload:n}),yU=n=>({type:"DROP_PENDING",payload:n}),T2=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var bU=n=>({getState:t,dispatch:e})=>i=>r=>{if(!be(r,"LIFT")){i(r);return}const{id:o,clientSelection:l,movementMode:u}=r.payload,d=t();d.phase==="DROP_ANIMATING"&&e(H_({completed:d.completed})),t().phase!=="IDLE"&&mt(),e(F_()),e(nU({draggableId:o,movementMode:u}));const p={draggableId:o,scrollOptions:{shouldPublishImmediately:u==="SNAP"}},{critical:y,dimensions:_,viewport:v}=n.startPublishing(p);e(rU({critical:y,dimensions:_,clientSelection:l,movementMode:u,viewport:v}))},_U=n=>()=>t=>e=>{be(e,"INITIAL_PUBLISH")&&n.dragging(),be(e,"DROP_ANIMATE")&&n.dropping(e.payload.completed.result.reason),(be(e,"FLUSH")||be(e,"DROP_COMPLETE"))&&n.resting(),t(e)};const q_={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},jd={opacity:{drop:0,combining:.7},scale:{drop:.75}},E2={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},$a=`${E2.outOfTheWay}s ${q_.outOfTheWay}`,md={fluid:`opacity ${$a}`,snap:`transform ${$a}, opacity ${$a}`,drop:n=>{const t=`${n}s ${q_.drop}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${$a}`,placeholder:`height ${$a}, width ${$a}, margin ${$a}`},J1=n=>Zo(n,kn)?void 0:`translate(${n.x}px, ${n.y}px)`,sb={moveTo:J1,drop:(n,t)=>{const e=J1(n);if(e)return t?`${e} scale(${jd.scale.drop})`:e}},{minDropTime:ob,maxDropTime:S2}=E2,vU=S2-ob,tS=1500,xU=.6;var wU=({current:n,destination:t,reason:e})=>{const i=Ld(n,t);if(i<=0)return ob;if(i>=tS)return S2;const r=i/tS,o=ob+vU*r,l=e==="CANCEL"?o*xU:o;return Number(l.toFixed(2))},TU=({impact:n,draggable:t,dimensions:e,viewport:i,afterCritical:r})=>{const{draggables:o,droppables:l}=e,u=Yi(n),d=u?l[u]:null,f=l[t.descriptor.droppableId],p=b2({impact:n,draggable:t,draggables:o,afterCritical:r,droppable:d||f,viewport:i});return Hi(p,t.client.borderBox.center)},EU=({draggables:n,reason:t,lastImpact:e,home:i,viewport:r,onLiftImpact:o})=>!e.at||t!=="DROP"?{impact:y2({draggables:n,impact:o,destination:i,viewport:r,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:e.at.type==="REORDER"?{impact:e,didDropInsideDroppable:!0}:{impact:{...e,displaced:Vd},didDropInsideDroppable:!0};const SU=({getState:n,dispatch:t})=>e=>i=>{if(!be(i,"DROP")){e(i);return}const r=n(),o=i.payload.reason;if(r.phase==="COLLECTING"){t(yU({reason:o}));return}if(r.phase==="IDLE")return;r.phase==="DROP_PENDING"&&r.isWaiting&&mt(),r.phase==="DRAGGING"||r.phase==="DROP_PENDING"||mt();const u=r.critical,d=r.dimensions,f=d.draggables[r.critical.draggable.id],{impact:p,didDropInsideDroppable:y}=EU({reason:o,lastImpact:r.impact,afterCritical:r.afterCritical,onLiftImpact:r.onLiftImpact,home:r.dimensions.droppables[r.critical.droppable.id],viewport:r.viewport,draggables:r.dimensions.draggables}),_=y?z_(p):null,v=y?Ep(p):null,S={index:u.draggable.index,droppableId:u.droppable.id},A={draggableId:f.descriptor.id,type:f.descriptor.type,source:S,reason:o,mode:r.movementMode,destination:_,combine:v},E=TU({impact:p,draggable:f,dimensions:d,viewport:r.viewport,afterCritical:r.afterCritical}),O={critical:r.critical,afterCritical:r.afterCritical,result:A,impact:p};if(!(!Zo(r.current.client.offset,E)||!!A.combine)){t(H_({completed:O}));return}const q=wU({current:r.current.client.offset,destination:E,reason:o});t(mU({newHomeClientOffset:E,dropDuration:q,completed:O}))};var A2=()=>({x:window.pageXOffset,y:window.pageYOffset});function AU(n){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||n()}}}function CU({onWindowScroll:n}){function t(){n(A2())}const e=zd(t),i=AU(e);let r=Ko;function o(){return r!==Ko}function l(){o()&&mt(),r=yr(window,[i])}function u(){o()||mt(),e.cancel(),r(),r=Ko}return{start:l,stop:u,isActive:o}}const DU=n=>be(n,"DROP_COMPLETE")||be(n,"DROP_ANIMATE")||be(n,"FLUSH"),IU=n=>{const t=CU({onWindowScroll:e=>{n.dispatch(uU({newScroll:e}))}});return e=>i=>{!t.isActive()&&be(i,"INITIAL_PUBLISH")&&t.start(),t.isActive()&&DU(i)&&t.stop(),e(i)}};var RU=n=>{let t=!1,e=!1;const i=setTimeout(()=>{e=!0}),r=o=>{t||e||(t=!0,n(o),clearTimeout(i))};return r.wasCalled=()=>t,r},NU=()=>{const n=[],t=r=>{const o=n.findIndex(u=>u.timerId===r);o===-1&&mt();const[l]=n.splice(o,1);l.callback()};return{add:r=>{const o=setTimeout(()=>t(o)),l={timerId:o,callback:r};n.push(l)},flush:()=>{if(!n.length)return;const r=[...n];n.length=0,r.forEach(o=>{clearTimeout(o.timerId),o.callback()})}}};const MU=(n,t)=>n==null&&t==null?!0:n==null||t==null?!1:n.droppableId===t.droppableId&&n.index===t.index,OU=(n,t)=>n==null&&t==null?!0:n==null||t==null?!1:n.draggableId===t.draggableId&&n.droppableId===t.droppableId,kU=(n,t)=>{if(n===t)return!0;const e=n.draggable.id===t.draggable.id&&n.draggable.droppableId===t.draggable.droppableId&&n.draggable.type===t.draggable.type&&n.draggable.index===t.draggable.index,i=n.droppable.id===t.droppable.id&&n.droppable.type===t.droppable.type;return e&&i},Fu=(n,t)=>{t()},Lf=(n,t)=>({draggableId:n.draggable.id,type:n.droppable.type,source:{droppableId:n.droppable.id,index:n.draggable.index},mode:t});function r0(n,t,e,i){if(!n){e(i(t));return}const r=RU(e);n(t,{announce:r}),r.wasCalled()||e(i(t))}var PU=(n,t)=>{const e=NU();let i=null;const r=(y,_)=>{i&&mt(),Fu("onBeforeCapture",()=>{const v=n().onBeforeCapture;v&&v({draggableId:y,mode:_})})},o=(y,_)=>{i&&mt(),Fu("onBeforeDragStart",()=>{const v=n().onBeforeDragStart;v&&v(Lf(y,_))})},l=(y,_)=>{i&&mt();const v=Lf(y,_);i={mode:_,lastCritical:y,lastLocation:v.source,lastCombine:null},e.add(()=>{Fu("onDragStart",()=>r0(n().onDragStart,v,t,hg.onDragStart))})},u=(y,_)=>{const v=z_(_),S=Ep(_);i||mt();const A=!kU(y,i.lastCritical);A&&(i.lastCritical=y);const E=!MU(i.lastLocation,v);E&&(i.lastLocation=v);const O=!OU(i.lastCombine,S);if(O&&(i.lastCombine=S),!A&&!E&&!O)return;const V={...Lf(y,i.mode),combine:S,destination:v};e.add(()=>{Fu("onDragUpdate",()=>r0(n().onDragUpdate,V,t,hg.onDragUpdate))})},d=()=>{i||mt(),e.flush()},f=y=>{i||mt(),i=null,Fu("onDragEnd",()=>r0(n().onDragEnd,y,t,hg.onDragEnd))};return{beforeCapture:r,beforeStart:o,start:l,update:u,flush:d,drop:f,abort:()=>{if(!i)return;const y={...Lf(i.lastCritical,i.mode),combine:null,destination:null,reason:"CANCEL"};f(y)}}},zU=(n,t)=>{const e=PU(n,t);return i=>r=>o=>{if(be(o,"BEFORE_INITIAL_CAPTURE")){e.beforeCapture(o.payload.draggableId,o.payload.movementMode);return}if(be(o,"INITIAL_PUBLISH")){const u=o.payload.critical;e.beforeStart(u,o.payload.movementMode),r(o),e.start(u,o.payload.movementMode);return}if(be(o,"DROP_COMPLETE")){const u=o.payload.completed.result;e.flush(),r(o),e.drop(u);return}if(r(o),be(o,"FLUSH")){e.abort();return}const l=i.getState();l.phase==="DRAGGING"&&e.update(l.critical,l.impact)}};const LU=n=>t=>e=>{if(!be(e,"DROP_ANIMATION_FINISHED")){t(e);return}const i=n.getState();i.phase!=="DROP_ANIMATING"&&mt(),n.dispatch(H_({completed:i.completed}))},VU=n=>{let t=null,e=null;function i(){e&&(cancelAnimationFrame(e),e=null),t&&(t(),t=null)}return r=>o=>{if((be(o,"FLUSH")||be(o,"DROP_COMPLETE")||be(o,"DROP_ANIMATION_FINISHED"))&&i(),r(o),!be(o,"DROP_ANIMATE"))return;const l={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){n.getState().phase==="DROP_ANIMATING"&&n.dispatch(T2())}};e=requestAnimationFrame(()=>{e=null,t=yr(window,[l])})}};var UU=n=>()=>t=>e=>{(be(e,"DROP_COMPLETE")||be(e,"FLUSH")||be(e,"DROP_ANIMATE"))&&n.stopPublishing(),t(e)},jU=n=>{let t=!1;return()=>e=>i=>{if(be(i,"INITIAL_PUBLISH")){t=!0,n.tryRecordFocus(i.payload.critical.draggable.id),e(i),n.tryRestoreFocusRecorded();return}if(e(i),!!t){if(be(i,"FLUSH")){t=!1,n.tryRestoreFocusRecorded();return}if(be(i,"DROP_COMPLETE")){t=!1;const r=i.payload.completed.result;r.combine&&n.tryShiftRecord(r.draggableId,r.combine.draggableId),n.tryRestoreFocusRecorded()}}}};const BU=n=>be(n,"DROP_COMPLETE")||be(n,"DROP_ANIMATE")||be(n,"FLUSH");var FU=n=>t=>e=>i=>{if(BU(i)){n.stop(),e(i);return}if(be(i,"INITIAL_PUBLISH")){e(i);const r=t.getState();r.phase!=="DRAGGING"&&mt(),n.start(r);return}e(i),n.scroll(t.getState())};const HU=n=>t=>e=>{if(t(e),!be(e,"PUBLISH_WHILE_DRAGGING"))return;const i=n.getState();i.phase==="DROP_PENDING"&&(i.isWaiting||n.dispatch(w2({reason:i.reason})))},qU=FI;var GU=({dimensionMarshal:n,focusMarshal:t,styleMarshal:e,getResponders:i,announce:r,autoScroller:o})=>BI(eU,qU(FV(_U(e),UU(n),bU(n),SU,LU,VU,HU,FU(o),IU,jU(t),zU(i,r))));const s0=()=>({additions:{},removals:{},modified:{}});function YU({registry:n,callbacks:t}){let e=s0(),i=null;const r=()=>{i||(t.collectionStarting(),i=requestAnimationFrame(()=>{i=null;const{additions:d,removals:f,modified:p}=e,y=Object.keys(d).map(S=>n.draggable.getById(S).getDimension(kn)).sort((S,A)=>S.descriptor.index-A.descriptor.index),_=Object.keys(p).map(S=>{const E=n.droppable.getById(S).callbacks.getScrollWhileDragging();return{droppableId:S,scroll:E}}),v={additions:y,removals:Object.keys(f),modified:_};e=s0(),t.publish(v)}))};return{add:d=>{const f=d.descriptor.id;e.additions[f]=d,e.modified[d.descriptor.droppableId]=!0,e.removals[f]&&delete e.removals[f],r()},remove:d=>{const f=d.descriptor;e.removals[f.id]=!0,e.modified[f.droppableId]=!0,e.additions[f.id]&&delete e.additions[f.id],r()},stop:()=>{i&&(cancelAnimationFrame(i),i=null,e=s0())}}}var C2=({scrollHeight:n,scrollWidth:t,height:e,width:i})=>{const r=Hi({x:t,y:n},{x:i,y:e});return{x:Math.max(0,r.x),y:Math.max(0,r.y)}},D2=()=>{const n=document.documentElement;return n||mt(),n},I2=()=>{const n=D2();return C2({scrollHeight:n.scrollHeight,scrollWidth:n.scrollWidth,width:n.clientWidth,height:n.clientHeight})},$U=()=>{const n=A2(),t=I2(),e=n.y,i=n.x,r=D2(),o=r.clientWidth,l=r.clientHeight,u=i+o,d=e+l;return{frame:zr({top:e,left:i,right:u,bottom:d}),scroll:{initial:n,current:n,max:t,diff:{value:kn,displacement:kn}}}},WU=({critical:n,scrollOptions:t,registry:e})=>{const i=$U(),r=i.scroll.current,o=n.droppable,l=e.droppable.getAllByType(o.type).map(p=>p.callbacks.getDimensionAndWatchScroll(r,t)),u=e.draggable.getAllByType(n.draggable.type).map(p=>p.getDimension(r));return{dimensions:{draggables:i2(u),droppables:n2(l)},critical:n,viewport:i}};function eS(n,t,e){return!(e.descriptor.id===t.id||e.descriptor.type!==t.type||n.droppable.getById(e.descriptor.droppableId).descriptor.mode!=="virtual")}var XU=(n,t)=>{let e=null;const i=YU({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:n}),r=(_,v)=>{n.droppable.exists(_)||mt(),e&&t.updateDroppableIsEnabled({id:_,isEnabled:v})},o=(_,v)=>{e&&(n.droppable.exists(_)||mt(),t.updateDroppableIsCombineEnabled({id:_,isCombineEnabled:v}))},l=(_,v)=>{e&&(n.droppable.exists(_)||mt(),t.updateDroppableScroll({id:_,newScroll:v}))},u=(_,v)=>{e&&n.droppable.getById(_).callbacks.scroll(v)},d=()=>{if(!e)return;i.stop();const _=e.critical.droppable;n.droppable.getAllByType(_.type).forEach(v=>v.callbacks.dragStopped()),e.unsubscribe(),e=null},f=_=>{e||mt();const v=e.critical.draggable;_.type==="ADDITION"&&eS(n,v,_.value)&&i.add(_.value),_.type==="REMOVAL"&&eS(n,v,_.value)&&i.remove(_.value)};return{updateDroppableIsEnabled:r,updateDroppableIsCombineEnabled:o,scrollDroppable:u,updateDroppableScroll:l,startPublishing:_=>{e&&mt();const v=n.draggable.getById(_.draggableId),S=n.droppable.getById(v.descriptor.droppableId),A={draggable:v.descriptor,droppable:S.descriptor},E=n.subscribe(f);return e={critical:A,unsubscribe:E},WU({critical:A,registry:n,scrollOptions:_.scrollOptions})},stopPublishing:d}},R2=(n,t)=>n.phase==="IDLE"?!0:n.phase!=="DROP_ANIMATING"||n.completed.result.draggableId===t?!1:n.completed.result.reason==="DROP",QU=n=>{window.scrollBy(n.x,n.y)};const KU=Mn(n=>Tp(n).filter(t=>!(!t.isEnabled||!t.frame))),ZU=(n,t)=>KU(t).find(i=>(i.frame||mt(),f2(i.frame.pageMarginBox)(n)))||null;var JU=({center:n,destination:t,droppables:e})=>{if(t){const r=e[t];return r.frame?r:null}return ZU(n,e)};const Bd={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:n=>n**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var tj=(n,t,e=()=>Bd)=>{const i=e(),r=n[t.size]*i.startFromPercentage,o=n[t.size]*i.maxScrollAtPercentage;return{startScrollingFrom:r,maxScrollValueAt:o}},N2=({startOfRange:n,endOfRange:t,current:e})=>{const i=t-n;return i===0?0:(e-n)/i},G_=1,ej=(n,t,e=()=>Bd)=>{const i=e();if(n>t.startScrollingFrom)return 0;if(n<=t.maxScrollValueAt)return i.maxPixelScroll;if(n===t.startScrollingFrom)return G_;const o=1-N2({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:n}),l=i.maxPixelScroll*i.ease(o);return Math.ceil(l)},nj=(n,t,e)=>{const i=e(),r=i.durationDampening.accelerateAt,o=i.durationDampening.stopDampeningAt,l=t,u=o,f=Date.now()-l;if(f>=o)return n;if(f<r)return G_;const p=N2({startOfRange:r,endOfRange:u,current:f}),y=n*i.ease(p);return Math.ceil(y)},nS=({distanceToEdge:n,thresholds:t,dragStartTime:e,shouldUseTimeDampening:i,getAutoScrollerOptions:r})=>{const o=ej(n,t,r);return o===0?0:i?Math.max(nj(o,e,r),G_):o},iS=({container:n,distanceToEdges:t,dragStartTime:e,axis:i,shouldUseTimeDampening:r,getAutoScrollerOptions:o})=>{const l=tj(n,i,o);return t[i.end]<t[i.start]?nS({distanceToEdge:t[i.end],thresholds:l,dragStartTime:e,shouldUseTimeDampening:r,getAutoScrollerOptions:o}):-1*nS({distanceToEdge:t[i.start],thresholds:l,dragStartTime:e,shouldUseTimeDampening:r,getAutoScrollerOptions:o})},ij=({container:n,subject:t,proposedScroll:e})=>{const i=t.height>n.height,r=t.width>n.width;return!r&&!i?e:r&&i?null:{x:r?0:e.x,y:i?0:e.y}};const rj=e2(n=>n===0?0:n);var M2=({dragStartTime:n,container:t,subject:e,center:i,shouldUseTimeDampening:r,getAutoScrollerOptions:o})=>{const l={top:i.y-t.top,right:t.right-i.x,bottom:t.bottom-i.y,left:i.x-t.left},u=iS({container:t,distanceToEdges:l,dragStartTime:n,axis:L_,shouldUseTimeDampening:r,getAutoScrollerOptions:o}),d=iS({container:t,distanceToEdges:l,dragStartTime:n,axis:o2,shouldUseTimeDampening:r,getAutoScrollerOptions:o}),f=rj({x:d,y:u});if(Zo(f,kn))return null;const p=ij({container:t,subject:e,proposedScroll:f});return p?Zo(p,kn)?null:p:null};const sj=e2(n=>n===0?0:n>0?1:-1),Y_=(()=>{const n=(t,e)=>t<0?t:t>e?t-e:0;return({current:t,max:e,change:i})=>{const r=qn(t,i),o={x:n(r.x,e.x),y:n(r.y,e.y)};return Zo(o,kn)?null:o}})(),O2=({max:n,current:t,change:e})=>{const i={x:Math.max(t.x,n.x),y:Math.max(t.y,n.y)},r=sj(e),o=Y_({max:i,current:t,change:r});return!o||r.x!==0&&o.x===0||r.y!==0&&o.y===0},$_=(n,t)=>O2({current:n.scroll.current,max:n.scroll.max,change:t}),oj=(n,t)=>{if(!$_(n,t))return null;const e=n.scroll.max,i=n.scroll.current;return Y_({current:i,max:e,change:t})},W_=(n,t)=>{const e=n.frame;return e?O2({current:e.scroll.current,max:e.scroll.max,change:t}):!1},aj=(n,t)=>{const e=n.frame;return!e||!W_(n,t)?null:Y_({current:e.scroll.current,max:e.scroll.max,change:t})};var lj=({viewport:n,subject:t,center:e,dragStartTime:i,shouldUseTimeDampening:r,getAutoScrollerOptions:o})=>{const l=M2({dragStartTime:i,container:n.frame,subject:t,center:e,shouldUseTimeDampening:r,getAutoScrollerOptions:o});return l&&$_(n,l)?l:null},cj=({droppable:n,subject:t,center:e,dragStartTime:i,shouldUseTimeDampening:r,getAutoScrollerOptions:o})=>{const l=n.frame;if(!l)return null;const u=M2({dragStartTime:i,container:l.pageMarginBox,subject:t,center:e,shouldUseTimeDampening:r,getAutoScrollerOptions:o});return u&&W_(n,u)?u:null},rS=({state:n,dragStartTime:t,shouldUseTimeDampening:e,scrollWindow:i,scrollDroppable:r,getAutoScrollerOptions:o})=>{const l=n.current.page.borderBoxCenter,d=n.dimensions.draggables[n.critical.draggable.id].page.marginBox;if(n.isWindowScrollAllowed){const y=n.viewport,_=lj({dragStartTime:t,viewport:y,subject:d,center:l,shouldUseTimeDampening:e,getAutoScrollerOptions:o});if(_){i(_);return}}const f=JU({center:l,destination:Yi(n.impact),droppables:n.dimensions.droppables});if(!f)return;const p=cj({dragStartTime:t,droppable:f,subject:d,center:l,shouldUseTimeDampening:e,getAutoScrollerOptions:o});p&&r(f.descriptor.id,p)},uj=({scrollWindow:n,scrollDroppable:t,getAutoScrollerOptions:e=()=>Bd})=>{const i=zd(n),r=zd(t);let o=null;const l=f=>{o||mt();const{shouldUseTimeDampening:p,dragStartTime:y}=o;rS({state:f,scrollWindow:i,scrollDroppable:r,dragStartTime:y,shouldUseTimeDampening:p,getAutoScrollerOptions:e})};return{start:f=>{o&&mt();const p=Date.now();let y=!1;const _=()=>{y=!0};rS({state:f,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:_,scrollDroppable:_,getAutoScrollerOptions:e}),o={dragStartTime:p,shouldUseTimeDampening:y},y&&l(f)},stop:()=>{o&&(i.cancel(),r.cancel(),o=null)},scroll:l}},dj=({move:n,scrollDroppable:t,scrollWindow:e})=>{const i=(u,d)=>{const f=qn(u.current.client.selection,d);n({client:f})},r=(u,d)=>{if(!W_(u,d))return d;const f=aj(u,d);if(!f)return t(u.descriptor.id,d),null;const p=Hi(d,f);return t(u.descriptor.id,p),Hi(d,p)},o=(u,d,f)=>{if(!u||!$_(d,f))return f;const p=oj(d,f);if(!p)return e(f),null;const y=Hi(f,p);return e(y),Hi(f,y)};return u=>{const d=u.scrollJumpRequest;if(!d)return;const f=Yi(u.impact);f||mt();const p=r(u.dimensions.droppables[f],d);if(!p)return;const y=u.viewport,_=o(u.isWindowScrollAllowed,y,p);_&&i(u,_)}},hj=({scrollDroppable:n,scrollWindow:t,move:e,getAutoScrollerOptions:i})=>{const r=uj({scrollWindow:t,scrollDroppable:n,getAutoScrollerOptions:i}),o=dj({move:e,scrollWindow:t,scrollDroppable:n});return{scroll:d=>{if(!(i().disabled||d.phase!=="DRAGGING")){if(d.movementMode==="FLUID"){r.scroll(d);return}d.scrollJumpRequest&&o(d)}},start:r.start,stop:r.stop}};const Nc="data-rfd",Mc=(()=>{const n=`${Nc}-drag-handle`;return{base:n,draggableId:`${n}-draggable-id`,contextId:`${n}-context-id`}})(),ab=(()=>{const n=`${Nc}-draggable`;return{base:n,contextId:`${n}-context-id`,id:`${n}-id`}})(),fj=(()=>{const n=`${Nc}-droppable`;return{base:n,contextId:`${n}-context-id`,id:`${n}-id`}})(),sS={contextId:`${Nc}-scroll-container-context-id`},gj=n=>t=>`[${t}="${n}"]`,Hu=(n,t)=>n.map(e=>{const i=e.styles[t];return i?`${e.selector} { ${i} }`:""}).join(" "),pj="pointer-events: none;";var mj=n=>{const t=gj(n),e=(()=>{const u=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(Mc.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:u,dragging:pj,dropAnimating:u}}})(),i=(()=>{const u=`
      transition: ${md.outOfTheWay};
    `;return{selector:t(ab.contextId),styles:{dragging:u,dropAnimating:u,userCancel:u}}})(),r={selector:t(fj.contextId),styles:{always:"overflow-anchor: none;"}},l=[i,e,r,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:Hu(l,"always"),resting:Hu(l,"resting"),dragging:Hu(l,"dragging"),dropAnimating:Hu(l,"dropAnimating"),userCancel:Hu(l,"userCancel")}};const $i=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?W.useLayoutEffect:W.useEffect,o0=()=>{const n=document.querySelector("head");return n||mt(),n},oS=n=>{const t=document.createElement("style");return n&&t.setAttribute("nonce",n),t.type="text/css",t};function yj(n,t){const e=le(()=>mj(n),[n]),i=W.useRef(null),r=W.useRef(null),o=It(Mn(y=>{const _=r.current;_||mt(),_.textContent=y}),[]),l=It(y=>{const _=i.current;_||mt(),_.textContent=y},[]);$i(()=>{!i.current&&!r.current||mt();const y=oS(t),_=oS(t);return i.current=y,r.current=_,y.setAttribute(`${Nc}-always`,n),_.setAttribute(`${Nc}-dynamic`,n),o0().appendChild(y),o0().appendChild(_),l(e.always),o(e.resting),()=>{const v=S=>{const A=S.current;A||mt(),o0().removeChild(A),S.current=null};v(i),v(r)}},[t,l,o,e.always,e.resting,n]);const u=It(()=>o(e.dragging),[o,e.dragging]),d=It(y=>{if(y==="DROP"){o(e.dropAnimating);return}o(e.userCancel)},[o,e.dropAnimating,e.userCancel]),f=It(()=>{r.current&&o(e.resting)},[o,e.resting]);return le(()=>({dragging:u,dropping:d,resting:f}),[u,d,f])}function k2(n,t){return Array.from(n.querySelectorAll(t))}var P2=n=>n&&n.ownerDocument&&n.ownerDocument.defaultView?n.ownerDocument.defaultView:window;function Cp(n){return n instanceof P2(n).HTMLElement}function bj(n,t){const e=`[${Mc.contextId}="${n}"]`,i=k2(document,e);if(!i.length)return null;const r=i.find(o=>o.getAttribute(Mc.draggableId)===t);return!r||!Cp(r)?null:r}function _j(n){const t=W.useRef({}),e=W.useRef(null),i=W.useRef(null),r=W.useRef(!1),o=It(function(_,v){const S={id:_,focus:v};return t.current[_]=S,function(){const E=t.current;E[_]!==S&&delete E[_]}},[]),l=It(function(_){const v=bj(n,_);v&&v!==document.activeElement&&v.focus()},[n]),u=It(function(_,v){e.current===_&&(e.current=v)},[]),d=It(function(){i.current||r.current&&(i.current=requestAnimationFrame(()=>{i.current=null;const _=e.current;_&&l(_)}))},[l]),f=It(function(_){e.current=null;const v=document.activeElement;v&&v.getAttribute(Mc.draggableId)===_&&(e.current=_)},[]);return $i(()=>(r.current=!0,function(){r.current=!1;const _=i.current;_&&cancelAnimationFrame(_)}),[]),le(()=>({register:o,tryRecordFocus:f,tryRestoreFocusRecorded:d,tryShiftRecord:u}),[o,f,d,u])}function vj(){const n={draggables:{},droppables:{}},t=[];function e(y){return t.push(y),function(){const v=t.indexOf(y);v!==-1&&t.splice(v,1)}}function i(y){t.length&&t.forEach(_=>_(y))}function r(y){return n.draggables[y]||null}function o(y){const _=r(y);return _||mt(),_}const l={register:y=>{n.draggables[y.descriptor.id]=y,i({type:"ADDITION",value:y})},update:(y,_)=>{const v=n.draggables[_.descriptor.id];v&&v.uniqueId===y.uniqueId&&(delete n.draggables[_.descriptor.id],n.draggables[y.descriptor.id]=y)},unregister:y=>{const _=y.descriptor.id,v=r(_);v&&y.uniqueId===v.uniqueId&&(delete n.draggables[_],n.droppables[y.descriptor.droppableId]&&i({type:"REMOVAL",value:y}))},getById:o,findById:r,exists:y=>!!r(y),getAllByType:y=>Object.values(n.draggables).filter(_=>_.descriptor.type===y)};function u(y){return n.droppables[y]||null}function d(y){const _=u(y);return _||mt(),_}const f={register:y=>{n.droppables[y.descriptor.id]=y},unregister:y=>{const _=u(y.descriptor.id);_&&y.uniqueId===_.uniqueId&&delete n.droppables[y.descriptor.id]},getById:d,findById:u,exists:y=>!!u(y),getAllByType:y=>Object.values(n.droppables).filter(_=>_.descriptor.type===y)};function p(){n.draggables={},n.droppables={},t.length=0}return{draggable:l,droppable:f,subscribe:e,clean:p}}function xj(){const n=le(vj,[]);return W.useEffect(()=>function(){n.clean()},[n]),n}var X_=Je.createContext(null),Fg=()=>{const n=document.body;return n||mt(),n};const wj={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},Tj=n=>`rfd-announcement-${n}`;function Ej(n){const t=le(()=>Tj(n),[n]),e=W.useRef(null);return W.useEffect(function(){const o=document.createElement("div");return e.current=o,o.id=t,o.setAttribute("aria-live","assertive"),o.setAttribute("aria-atomic","true"),Vg(o.style,wj),Fg().appendChild(o),function(){setTimeout(function(){const d=Fg();d.contains(o)&&d.removeChild(o),o===e.current&&(e.current=null)})}},[t]),It(r=>{const o=e.current;if(o){o.textContent=r;return}},[])}const Sj={separator:"::"};function Q_(n,t=Sj){const e=Je.useId();return le(()=>`${n}${t.separator}${e}`,[t.separator,n,e])}function Aj({contextId:n,uniqueId:t}){return`rfd-hidden-text-${n}-${t}`}function Cj({contextId:n,text:t}){const e=Q_("hidden-text",{separator:"-"}),i=le(()=>Aj({contextId:n,uniqueId:e}),[e,n]);return W.useEffect(function(){const o=document.createElement("div");return o.id=i,o.textContent=t,o.style.display="none",Fg().appendChild(o),function(){const u=Fg();u.contains(o)&&u.removeChild(o)}},[i,t]),i}var Dp=Je.createContext(null);function z2(n){const t=W.useRef(n);return W.useEffect(()=>{t.current=n}),t}function Dj(){let n=null;function t(){return!!n}function e(l){return l===n}function i(l){n&&mt();const u={abandon:l};return n=u,u}function r(){n||mt(),n=null}function o(){n&&(n.abandon(),r())}return{isClaimed:t,isActive:e,claim:i,release:r,tryAbandon:o}}function Fd(n){return n.phase==="IDLE"||n.phase==="DROP_ANIMATING"?!1:n.isDragging}const Ij=9,Rj=13,K_=27,L2=32,Nj=33,Mj=34,Oj=35,kj=36,Pj=37,zj=38,Lj=39,Vj=40,Uj={[Rj]:!0,[Ij]:!0};var V2=n=>{Uj[n.keyCode]&&n.preventDefault()};const Ip=(()=>{const n="visibilitychange";return typeof document>"u"?n:[n,`ms${n}`,`webkit${n}`,`moz${n}`,`o${n}`].find(i=>`on${i}`in document)||n})(),U2=0,aS=5;function jj(n,t){return Math.abs(t.x-n.x)>=aS||Math.abs(t.y-n.y)>=aS}const lS={type:"IDLE"};function Bj({cancel:n,completed:t,getPhase:e,setPhase:i}){return[{eventName:"mousemove",fn:r=>{const{button:o,clientX:l,clientY:u}=r;if(o!==U2)return;const d={x:l,y:u},f=e();if(f.type==="DRAGGING"){r.preventDefault(),f.actions.move(d);return}f.type!=="PENDING"&&mt();const p=f.point;if(!jj(p,d))return;r.preventDefault();const y=f.actions.fluidLift(d);i({type:"DRAGGING",actions:y})}},{eventName:"mouseup",fn:r=>{const o=e();if(o.type!=="DRAGGING"){n();return}r.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"mousedown",fn:r=>{e().type==="DRAGGING"&&r.preventDefault(),n()}},{eventName:"keydown",fn:r=>{if(e().type==="PENDING"){n();return}if(r.keyCode===K_){r.preventDefault(),n();return}V2(r)}},{eventName:"resize",fn:n},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{e().type==="PENDING"&&n()}},{eventName:"webkitmouseforcedown",fn:r=>{const o=e();if(o.type==="IDLE"&&mt(),o.actions.shouldRespectForcePress()){n();return}r.preventDefault()}},{eventName:Ip,fn:n}]}function Fj(n){const t=W.useRef(lS),e=W.useRef(Ko),i=le(()=>({eventName:"mousedown",fn:function(y){if(y.defaultPrevented||y.button!==U2||y.ctrlKey||y.metaKey||y.shiftKey||y.altKey)return;const _=n.findClosestDraggableId(y);if(!_)return;const v=n.tryGetLock(_,l,{sourceEvent:y});if(!v)return;y.preventDefault();const S={x:y.clientX,y:y.clientY};e.current(),f(v,S)}}),[n]),r=le(()=>({eventName:"webkitmouseforcewillbegin",fn:p=>{if(p.defaultPrevented)return;const y=n.findClosestDraggableId(p);if(!y)return;const _=n.findOptionsForDraggable(y);_&&(_.shouldRespectForcePress||n.canGetLock(y)&&p.preventDefault())}}),[n]),o=It(function(){const y={passive:!1,capture:!0};e.current=yr(window,[r,i],y)},[r,i]),l=It(()=>{t.current.type!=="IDLE"&&(t.current=lS,e.current(),o())},[o]),u=It(()=>{const p=t.current;l(),p.type==="DRAGGING"&&p.actions.cancel({shouldBlockNextClick:!0}),p.type==="PENDING"&&p.actions.abort()},[l]),d=It(function(){const y={capture:!0,passive:!1},_=Bj({cancel:u,completed:l,getPhase:()=>t.current,setPhase:v=>{t.current=v}});e.current=yr(window,_,y)},[u,l]),f=It(function(y,_){t.current.type!=="IDLE"&&mt(),t.current={type:"PENDING",point:_,actions:y},d()},[d]);$i(function(){return o(),function(){e.current()}},[o])}function Hj(){}const qj={[Mj]:!0,[Nj]:!0,[kj]:!0,[Oj]:!0};function Gj(n,t){function e(){t(),n.cancel()}function i(){t(),n.drop()}return[{eventName:"keydown",fn:r=>{if(r.keyCode===K_){r.preventDefault(),e();return}if(r.keyCode===L2){r.preventDefault(),i();return}if(r.keyCode===Vj){r.preventDefault(),n.moveDown();return}if(r.keyCode===zj){r.preventDefault(),n.moveUp();return}if(r.keyCode===Lj){r.preventDefault(),n.moveRight();return}if(r.keyCode===Pj){r.preventDefault(),n.moveLeft();return}if(qj[r.keyCode]){r.preventDefault();return}V2(r)}},{eventName:"mousedown",fn:e},{eventName:"mouseup",fn:e},{eventName:"click",fn:e},{eventName:"touchstart",fn:e},{eventName:"resize",fn:e},{eventName:"wheel",fn:e,options:{passive:!0}},{eventName:Ip,fn:e}]}function Yj(n){const t=W.useRef(Hj),e=le(()=>({eventName:"keydown",fn:function(o){if(o.defaultPrevented||o.keyCode!==L2)return;const l=n.findClosestDraggableId(o);if(!l)return;const u=n.tryGetLock(l,p,{sourceEvent:o});if(!u)return;o.preventDefault();let d=!0;const f=u.snapLift();t.current();function p(){d||mt(),d=!1,t.current(),i()}t.current=yr(window,Gj(f,p),{capture:!0,passive:!1})}}),[n]),i=It(function(){const o={passive:!1,capture:!0};t.current=yr(window,[e],o)},[e]);$i(function(){return i(),function(){t.current()}},[i])}const a0={type:"IDLE"},$j=120,Wj=.15;function Xj({cancel:n,getPhase:t}){return[{eventName:"orientationchange",fn:n},{eventName:"resize",fn:n},{eventName:"contextmenu",fn:e=>{e.preventDefault()}},{eventName:"keydown",fn:e=>{if(t().type!=="DRAGGING"){n();return}e.keyCode===K_&&e.preventDefault(),n()}},{eventName:Ip,fn:n}]}function Qj({cancel:n,completed:t,getPhase:e}){return[{eventName:"touchmove",options:{capture:!1},fn:i=>{const r=e();if(r.type!=="DRAGGING"){n();return}r.hasMoved=!0;const{clientX:o,clientY:l}=i.touches[0],u={x:o,y:l};i.preventDefault(),r.actions.move(u)}},{eventName:"touchend",fn:i=>{const r=e();if(r.type!=="DRAGGING"){n();return}i.preventDefault(),r.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"touchcancel",fn:i=>{if(e().type!=="DRAGGING"){n();return}i.preventDefault(),n()}},{eventName:"touchforcechange",fn:i=>{const r=e();r.type==="IDLE"&&mt();const o=i.touches[0];if(!o||!(o.force>=Wj))return;const u=r.actions.shouldRespectForcePress();if(r.type==="PENDING"){u&&n();return}if(u){if(r.hasMoved){i.preventDefault();return}n();return}i.preventDefault()}},{eventName:Ip,fn:n}]}function Kj(n){const t=W.useRef(a0),e=W.useRef(Ko),i=It(function(){return t.current},[]),r=It(function(v){t.current=v},[]),o=le(()=>({eventName:"touchstart",fn:function(v){if(v.defaultPrevented)return;const S=n.findClosestDraggableId(v);if(!S)return;const A=n.tryGetLock(S,u,{sourceEvent:v});if(!A)return;const E=v.touches[0],{clientX:O,clientY:V}=E,q={x:O,y:V};e.current(),y(A,q)}}),[n]),l=It(function(){const v={capture:!0,passive:!1};e.current=yr(window,[o],v)},[o]),u=It(()=>{const _=t.current;_.type!=="IDLE"&&(_.type==="PENDING"&&clearTimeout(_.longPressTimerId),r(a0),e.current(),l())},[l,r]),d=It(()=>{const _=t.current;u(),_.type==="DRAGGING"&&_.actions.cancel({shouldBlockNextClick:!0}),_.type==="PENDING"&&_.actions.abort()},[u]),f=It(function(){const v={capture:!0,passive:!1},S={cancel:d,completed:u,getPhase:i},A=yr(window,Qj(S),v),E=yr(window,Xj(S),v);e.current=function(){A(),E()}},[d,i,u]),p=It(function(){const v=i();v.type!=="PENDING"&&mt();const S=v.actions.fluidLift(v.point);r({type:"DRAGGING",actions:S,hasMoved:!1})},[i,r]),y=It(function(v,S){i().type!=="IDLE"&&mt();const A=setTimeout(p,$j);r({type:"PENDING",point:S,actions:v,longPressTimerId:A}),f()},[f,i,r,p]);$i(function(){return l(),function(){e.current();const S=i();S.type==="PENDING"&&(clearTimeout(S.longPressTimerId),r(a0))}},[i,l,r]),$i(function(){return yr(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const Zj=["input","button","textarea","select","option","optgroup","video","audio"];function j2(n,t){if(t==null)return!1;if(Zj.includes(t.tagName.toLowerCase()))return!0;const i=t.getAttribute("contenteditable");return i==="true"||i===""?!0:t===n?!1:j2(n,t.parentElement)}function Jj(n,t){const e=t.target;return Cp(e)?j2(n,e):!1}var tB=n=>zr(n.getBoundingClientRect()).center;function eB(n){return n instanceof P2(n).Element}const nB=(()=>{const n="matches";return typeof document>"u"?n:[n,"msMatchesSelector","webkitMatchesSelector"].find(i=>i in Element.prototype)||n})();function B2(n,t){return n==null?null:n[nB](t)?n:B2(n.parentElement,t)}function iB(n,t){return n.closest?n.closest(t):B2(n,t)}function rB(n){return`[${Mc.contextId}="${n}"]`}function sB(n,t){const e=t.target;if(!eB(e))return null;const i=rB(n),r=iB(e,i);return!r||!Cp(r)?null:r}function oB(n,t){const e=sB(n,t);return e?e.getAttribute(Mc.draggableId):null}function aB(n,t){const e=`[${ab.contextId}="${n}"]`,r=k2(document,e).find(o=>o.getAttribute(ab.id)===t);return!r||!Cp(r)?null:r}function lB(n){n.preventDefault()}function Vf({expected:n,phase:t,isLockActive:e,shouldWarn:i}){return!(!e()||n!==t)}function F2({lockAPI:n,store:t,registry:e,draggableId:i}){if(n.isClaimed())return!1;const r=e.draggable.findById(i);return!(!r||!r.options.isEnabled||!R2(t.getState(),i))}function cB({lockAPI:n,contextId:t,store:e,registry:i,draggableId:r,forceSensorStop:o,sourceEvent:l}){if(!F2({lockAPI:n,store:e,registry:i,draggableId:r}))return null;const d=i.draggable.getById(r),f=aB(t,d.descriptor.id);if(!f||l&&!d.options.canDragInteractiveElements&&Jj(f,l))return null;const p=n.claim(o||Ko);let y="PRE_DRAG";function _(){return d.options.shouldRespectForcePress}function v(){return n.isActive(p)}function S($,Q){Vf({expected:$,phase:y,isLockActive:v,shouldWarn:!0})&&e.dispatch(Q())}const A=S.bind(null,"DRAGGING");function E($){function Q(){n.release(),y="COMPLETED"}y!=="PRE_DRAG"&&(Q(),mt()),e.dispatch(iU($.liftActionArgs)),y="DRAGGING";function M(D,N={shouldBlockNextClick:!1}){if($.cleanup(),N.shouldBlockNextClick){const L=yr(window,[{eventName:"click",fn:lB,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(L)}Q(),e.dispatch(w2({reason:D}))}return{isActive:()=>Vf({expected:"DRAGGING",phase:y,isLockActive:v,shouldWarn:!1}),shouldRespectForcePress:_,drop:D=>M("DROP",D),cancel:D=>M("CANCEL",D),...$.actions}}function O($){const Q=zd(D=>{A(()=>x2({client:D}))});return{...E({liftActionArgs:{id:r,clientSelection:$,movementMode:"FLUID"},cleanup:()=>Q.cancel(),actions:{move:Q}}),move:Q}}function V(){const $={moveUp:()=>A(hU),moveRight:()=>A(gU),moveDown:()=>A(fU),moveLeft:()=>A(pU)};return E({liftActionArgs:{id:r,clientSelection:tB(f),movementMode:"SNAP"},cleanup:Ko,actions:$})}function q(){Vf({expected:"PRE_DRAG",phase:y,isLockActive:v,shouldWarn:!0})&&n.release()}return{isActive:()=>Vf({expected:"PRE_DRAG",phase:y,isLockActive:v,shouldWarn:!1}),shouldRespectForcePress:_,fluidLift:O,snapLift:V,abort:q}}const uB=[Fj,Yj,Kj];function dB({contextId:n,store:t,registry:e,customSensors:i,enableDefaultSensors:r}){const o=[...r?uB:[],...i||[]],l=W.useState(()=>Dj())[0],u=It(function(E,O){Fd(E)&&!Fd(O)&&l.tryAbandon()},[l]);$i(function(){let E=t.getState();return t.subscribe(()=>{const V=t.getState();u(E,V),E=V})},[l,t,u]),$i(()=>l.tryAbandon,[l.tryAbandon]);const d=It(A=>F2({lockAPI:l,registry:e,store:t,draggableId:A}),[l,e,t]),f=It((A,E,O)=>cB({lockAPI:l,registry:e,contextId:n,store:t,draggableId:A,forceSensorStop:E||null,sourceEvent:O&&O.sourceEvent?O.sourceEvent:null}),[n,l,e,t]),p=It(A=>oB(n,A),[n]),y=It(A=>{const E=e.draggable.findById(A);return E?E.options:null},[e.draggable]),_=It(function(){l.isClaimed()&&(l.tryAbandon(),t.getState().phase!=="IDLE"&&t.dispatch(F_()))},[l,t]),v=It(()=>l.isClaimed(),[l]),S=le(()=>({canGetLock:d,tryGetLock:f,findClosestDraggableId:p,findOptionsForDraggable:y,tryReleaseLock:_,isLockClaimed:v}),[d,f,p,y,_,v]);for(let A=0;A<o.length;A++)o[A](S)}const hB=n=>({onBeforeCapture:t=>{const e=()=>{n.onBeforeCapture&&n.onBeforeCapture(t)};R_.flushSync(e)},onBeforeDragStart:n.onBeforeDragStart,onDragStart:n.onDragStart,onDragEnd:n.onDragEnd,onDragUpdate:n.onDragUpdate}),fB=n=>({...Bd,...n.autoScrollerOptions,durationDampening:{...Bd.durationDampening,...n.autoScrollerOptions}});function qu(n){return n.current||mt(),n.current}function gB(n){const{contextId:t,setCallbacks:e,sensors:i,nonce:r,dragHandleUsageInstructions:o}=n,l=W.useRef(null),u=z2(n),d=It(()=>hB(u.current),[u]),f=It(()=>fB(u.current),[u]),p=Ej(t),y=Cj({contextId:t,text:o}),_=yj(t,r),v=It(L=>{qu(l).dispatch(L)},[]),S=le(()=>k1({publishWhileDragging:sU,updateDroppableScroll:aU,updateDroppableIsEnabled:lU,updateDroppableIsCombineEnabled:cU,collectionStarting:oU},v),[v]),A=xj(),E=le(()=>XU(A,S),[A,S]),O=le(()=>hj({scrollWindow:QU,scrollDroppable:E.scrollDroppable,getAutoScrollerOptions:f,...k1({move:x2},v)}),[E.scrollDroppable,v,f]),V=_j(t),q=le(()=>GU({announce:p,autoScroller:O,dimensionMarshal:E,focusMarshal:V,getResponders:d,styleMarshal:_}),[p,O,E,V,d,_]);l.current=q;const Y=It(()=>{const L=qu(l);L.getState().phase!=="IDLE"&&L.dispatch(F_())},[]),$=It(()=>{const L=qu(l).getState();return L.phase==="DROP_ANIMATING"?!0:L.phase==="IDLE"?!1:L.isDragging},[]),Q=le(()=>({isDragging:$,tryAbort:Y}),[$,Y]);e(Q);const M=It(L=>R2(qu(l).getState(),L),[]),D=It(()=>Za(qu(l).getState()),[]),N=le(()=>({marshal:E,focus:V,contextId:t,canLift:M,isMovementAllowed:D,dragHandleUsageInstructionsId:y,registry:A}),[t,E,y,V,M,D,A]);return dB({contextId:t,store:q,registry:A,customSensors:i||null,enableDefaultSensors:n.enableDefaultSensors!==!1}),W.useEffect(()=>Y,[Y]),Je.createElement(Dp.Provider,{value:N},Je.createElement(U6,{context:X_,store:q},n.children))}function pB(){return Je.useId()}function mB(n){const t=pB(),e=n.dragHandleUsageInstructions||hg.dragHandleUsageInstructions;return Je.createElement(Y6,null,i=>Je.createElement(gB,{nonce:n.nonce,contextId:t,setCallbacks:i,dragHandleUsageInstructions:e,enableDefaultSensors:n.enableDefaultSensors,sensors:n.sensors,onBeforeCapture:n.onBeforeCapture,onBeforeDragStart:n.onBeforeDragStart,onDragStart:n.onDragStart,onDragUpdate:n.onDragUpdate,onDragEnd:n.onDragEnd,autoScrollerOptions:n.autoScrollerOptions},n.children))}const cS={dragging:5e3,dropAnimating:4500},yB=(n,t)=>t?md.drop(t.duration):n?md.snap:md.fluid,bB=(n,t)=>{if(n)return t?jd.opacity.drop:jd.opacity.combining},_B=n=>n.forceShouldAnimate!=null?n.forceShouldAnimate:n.mode==="SNAP";function vB(n){const e=n.dimension.client,{offset:i,combineWith:r,dropping:o}=n,l=!!r,u=_B(n),d=!!o,f=d?sb.drop(i,l):sb.moveTo(i);return{position:"fixed",top:e.marginBox.top,left:e.marginBox.left,boxSizing:"border-box",width:e.borderBox.width,height:e.borderBox.height,transition:yB(u,o),transform:f,opacity:bB(l,d),zIndex:d?cS.dropAnimating:cS.dragging,pointerEvents:"none"}}function xB(n){return{transform:sb.moveTo(n.offset),transition:n.shouldAnimateDisplacement?void 0:"none"}}function wB(n){return n.type==="DRAGGING"?vB(n):xB(n)}function TB(n,t,e=kn){const i=window.getComputedStyle(t),r=t.getBoundingClientRect(),o=XI(r,i),l=Lg(o,e),u={client:o,tagName:t.tagName.toLowerCase(),display:i.display},d={x:o.marginBox.width,y:o.marginBox.height};return{descriptor:n,placeholder:u,displaceBy:d,client:o,page:l}}function EB(n){const t=Q_("draggable"),{descriptor:e,registry:i,getDraggableRef:r,canDragInteractiveElements:o,shouldRespectForcePress:l,isEnabled:u}=n,d=le(()=>({canDragInteractiveElements:o,shouldRespectForcePress:l,isEnabled:u}),[o,u,l]),f=It(v=>{const S=r();return S||mt(),TB(e,S,v)},[e,r]),p=le(()=>({uniqueId:t,descriptor:e,options:d,getDimension:f}),[e,f,d,t]),y=W.useRef(p),_=W.useRef(!0);$i(()=>(i.draggable.register(y.current),()=>i.draggable.unregister(y.current)),[i.draggable]),$i(()=>{if(_.current){_.current=!1;return}const v=y.current;y.current=p,i.draggable.update(p,v)},[p,i.draggable])}var Z_=Je.createContext(null);function Hg(n){const t=W.useContext(n);return t||mt(),t}function SB(n){n.preventDefault()}const AB=n=>{const t=W.useRef(null),e=It((Q=null)=>{t.current=Q},[]),i=It(()=>t.current,[]),{contextId:r,dragHandleUsageInstructionsId:o,registry:l}=Hg(Dp),{type:u,droppableId:d}=Hg(Z_),f=le(()=>({id:n.draggableId,index:n.index,type:u,droppableId:d}),[n.draggableId,n.index,u,d]),{children:p,draggableId:y,isEnabled:_,shouldRespectForcePress:v,canDragInteractiveElements:S,isClone:A,mapped:E,dropAnimationFinished:O}=n;if(!A){const Q=le(()=>({descriptor:f,registry:l,getDraggableRef:i,canDragInteractiveElements:S,shouldRespectForcePress:v,isEnabled:_}),[f,l,i,S,v,_]);EB(Q)}const V=le(()=>_?{tabIndex:0,role:"button","aria-describedby":o,"data-rfd-drag-handle-draggable-id":y,"data-rfd-drag-handle-context-id":r,draggable:!1,onDragStart:SB}:null,[r,o,y,_]),q=It(Q=>{E.type==="DRAGGING"&&E.dropping&&Q.propertyName==="transform"&&R_.flushSync(O)},[O,E]),Y=le(()=>{const Q=wB(E),M=E.type==="DRAGGING"&&E.dropping?q:void 0;return{innerRef:e,draggableProps:{"data-rfd-draggable-context-id":r,"data-rfd-draggable-id":y,style:Q,onTransitionEnd:M},dragHandleProps:V}},[r,V,y,E,q,e]),$=le(()=>({draggableId:f.id,type:f.type,source:{index:f.index,droppableId:f.droppableId}}),[f.droppableId,f.id,f.index,f.type]);return Je.createElement(Je.Fragment,null,p(Y,E.snapshot,$))};var H2=(n,t)=>n===t,q2=n=>{const{combine:t,destination:e}=n;return e?e.droppableId:t?t.droppableId:null};const CB=n=>n.combine?n.combine.draggableId:null,DB=n=>n.at&&n.at.type==="COMBINE"?n.at.combine.draggableId:null;function IB(){const n=Mn((r,o)=>({x:r,y:o})),t=Mn((r,o,l=null,u=null,d=null)=>({isDragging:!0,isClone:o,isDropAnimating:!!d,dropAnimation:d,mode:r,draggingOver:l,combineWith:u,combineTargetFor:null})),e=Mn((r,o,l,u,d=null,f=null,p=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:d,combineWith:f,mode:o,offset:r,dimension:l,forceShouldAnimate:p,snapshot:t(o,u,d,f,null)}}));return(r,o)=>{if(Fd(r)){if(r.critical.draggable.id!==o.draggableId)return null;const l=r.current.client.offset,u=r.dimensions.draggables[o.draggableId],d=Yi(r.impact),f=DB(r.impact),p=r.forceShouldAnimate;return e(n(l.x,l.y),r.movementMode,u,o.isClone,d,f,p)}if(r.phase==="DROP_ANIMATING"){const l=r.completed;if(l.result.draggableId!==o.draggableId)return null;const u=o.isClone,d=r.dimensions.draggables[o.draggableId],f=l.result,p=f.mode,y=q2(f),_=CB(f),S={duration:r.dropDuration,curve:q_.drop,moveTo:r.newHomeClientOffset,opacity:_?jd.opacity.drop:null,scale:_?jd.scale.drop:null};return{mapped:{type:"DRAGGING",offset:r.newHomeClientOffset,dimension:d,dropping:S,draggingOver:y,combineWith:_,mode:p,forceShouldAnimate:null,snapshot:t(p,u,y,_,S)}}}return null}}function G2(n=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:n,combineWith:null}}const RB={mapped:{type:"SECONDARY",offset:kn,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:G2(null)}};function NB(){const n=Mn((l,u)=>({x:l,y:u})),t=Mn(G2),e=Mn((l,u=null,d)=>({mapped:{type:"SECONDARY",offset:l,combineTargetFor:u,shouldAnimateDisplacement:d,snapshot:t(u)}})),i=l=>l?e(kn,l,!0):null,r=(l,u,d,f)=>{const p=d.displaced.visible[l],y=!!(f.inVirtualList&&f.effected[l]),_=Ep(d),v=_&&_.draggableId===l?u:null;if(!p){if(!y)return i(v);if(d.displaced.invisible[l])return null;const E=Gc(f.displacedBy.point),O=n(E.x,E.y);return e(O,v,!0)}if(y)return i(v);const S=d.displacedBy.point,A=n(S.x,S.y);return e(A,v,p.shouldAnimate)};return(l,u)=>{if(Fd(l))return l.critical.draggable.id===u.draggableId?null:r(u.draggableId,l.critical.draggable.id,l.impact,l.afterCritical);if(l.phase==="DROP_ANIMATING"){const d=l.completed;return d.result.draggableId===u.draggableId?null:r(u.draggableId,d.result.draggableId,d.impact,d.afterCritical)}return null}}const MB=()=>{const n=IB(),t=NB();return(i,r)=>n(i,r)||t(i,r)||RB},OB={dropAnimationFinished:T2},kB=WI(MB,OB,null,{context:X_,areStatePropsEqual:H2})(AB);function Y2(n){return Hg(Z_).isUsingCloneFor===n.draggableId&&!n.isClone?null:Je.createElement(kB,n)}function PB(n){const t=typeof n.isDragDisabled=="boolean"?!n.isDragDisabled:!0,e=!!n.disableInteractiveElementBlocking,i=!!n.shouldRespectForcePress;return Je.createElement(Y2,Vg({},n,{isClone:!1,isEnabled:t,canDragInteractiveElements:e,shouldRespectForcePress:i}))}const $2=n=>t=>n===t,zB=$2("scroll"),LB=$2("auto"),uS=(n,t)=>t(n.overflowX)||t(n.overflowY),VB=n=>{const t=window.getComputedStyle(n),e={overflowX:t.overflowX,overflowY:t.overflowY};return uS(e,zB)||uS(e,LB)},UB=()=>!1,W2=n=>n==null?null:n===document.body?UB()?n:null:n===document.documentElement?null:VB(n)?n:W2(n.parentElement);var lb=n=>({x:n.scrollLeft,y:n.scrollTop});const X2=n=>n?window.getComputedStyle(n).position==="fixed"?!0:X2(n.parentElement):!1;var jB=n=>{const t=W2(n),e=X2(n);return{closestScrollable:t,isFixedOnPage:e}},BB=({descriptor:n,isEnabled:t,isCombineEnabled:e,isFixedOnPage:i,direction:r,client:o,page:l,closest:u})=>{const d=(()=>{if(!u)return null;const{scrollSize:_,client:v}=u,S=C2({scrollHeight:_.scrollHeight,scrollWidth:_.scrollWidth,height:v.paddingBox.height,width:v.paddingBox.width});return{pageMarginBox:u.page.marginBox,frameClient:v,scrollSize:_,shouldClipSubject:u.shouldClipSubject,scroll:{initial:u.scroll,current:u.scroll,max:S,diff:{value:kn,displacement:kn}}}})(),f=r==="vertical"?L_:o2,p=Rc({page:l,withPlaceholder:null,axis:f,frame:d});return{descriptor:n,isCombineEnabled:e,isFixedOnPage:i,axis:f,isEnabled:t,client:o,page:l,frame:d,subject:p}};const FB=(n,t)=>{const e=QI(n);if(!t||n!==t)return e;const i=e.paddingBox.top-t.scrollTop,r=e.paddingBox.left-t.scrollLeft,o=i+t.scrollHeight,l=r+t.scrollWidth,d=O_({top:i,right:l,bottom:o,left:r},e.border);return k_({borderBox:d,margin:e.margin,border:e.border,padding:e.padding})};var HB=({ref:n,descriptor:t,env:e,windowScroll:i,direction:r,isDropDisabled:o,isCombineEnabled:l,shouldClipSubject:u})=>{const d=e.closestScrollable,f=FB(n,d),p=Lg(f,i),y=(()=>{if(!d)return null;const v=QI(d),S={scrollHeight:d.scrollHeight,scrollWidth:d.scrollWidth};return{client:v,page:Lg(v,i),scroll:lb(d),scrollSize:S,shouldClipSubject:u}})();return BB({descriptor:t,isEnabled:!o,isCombineEnabled:l,isFixedOnPage:e.isFixedOnPage,direction:r,client:f,page:p,closest:y})};const qB={passive:!1},GB={passive:!0};var dS=n=>n.shouldPublishImmediately?qB:GB;const Uf=n=>n&&n.env.closestScrollable||null;function YB(n){const t=W.useRef(null),e=Hg(Dp),i=Q_("droppable"),{registry:r,marshal:o}=e,l=z2(n),u=le(()=>({id:n.droppableId,type:n.type,mode:n.mode}),[n.droppableId,n.mode,n.type]),d=W.useRef(u),f=le(()=>Mn((Y,$)=>{t.current||mt();const Q={x:Y,y:$};o.updateDroppableScroll(u.id,Q)}),[u.id,o]),p=It(()=>{const Y=t.current;return!Y||!Y.env.closestScrollable?kn:lb(Y.env.closestScrollable)},[]),y=It(()=>{const Y=p();f(Y.x,Y.y)},[p,f]),_=le(()=>zd(y),[y]),v=It(()=>{const Y=t.current,$=Uf(Y);if(Y&&$||mt(),Y.scrollOptions.shouldPublishImmediately){y();return}_()},[_,y]),S=It((Y,$)=>{t.current&&mt();const Q=l.current,M=Q.getDroppableRef();M||mt();const D=jB(M),N={ref:M,descriptor:u,env:D,scrollOptions:$};t.current=N;const L=HB({ref:M,descriptor:u,env:D,windowScroll:Y,direction:Q.direction,isDropDisabled:Q.isDropDisabled,isCombineEnabled:Q.isCombineEnabled,shouldClipSubject:!Q.ignoreContainerClipping}),z=D.closestScrollable;return z&&(z.setAttribute(sS.contextId,e.contextId),z.addEventListener("scroll",v,dS(N.scrollOptions))),L},[e.contextId,u,v,l]),A=It(()=>{const Y=t.current,$=Uf(Y);return Y&&$||mt(),lb($)},[]),E=It(()=>{const Y=t.current;Y||mt();const $=Uf(Y);t.current=null,$&&(_.cancel(),$.removeAttribute(sS.contextId),$.removeEventListener("scroll",v,dS(Y.scrollOptions)))},[v,_]),O=It(Y=>{const $=t.current;$||mt();const Q=Uf($);Q||mt(),Q.scrollTop+=Y.y,Q.scrollLeft+=Y.x},[]),V=le(()=>({getDimensionAndWatchScroll:S,getScrollWhileDragging:A,dragStopped:E,scroll:O}),[E,S,A,O]),q=le(()=>({uniqueId:i,descriptor:u,callbacks:V}),[V,u,i]);$i(()=>(d.current=q.descriptor,r.droppable.register(q),()=>{t.current&&E(),r.droppable.unregister(q)}),[V,u,E,q,o,r.droppable]),$i(()=>{t.current&&o.updateDroppableIsEnabled(d.current.id,!n.isDropDisabled)},[n.isDropDisabled,o]),$i(()=>{t.current&&o.updateDroppableIsCombineEnabled(d.current.id,n.isCombineEnabled)},[n.isCombineEnabled,o])}function l0(){}const hS={width:0,height:0,margin:J6},$B=({isAnimatingOpenOnMount:n,placeholder:t,animate:e})=>n||e==="close"?hS:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin},WB=({isAnimatingOpenOnMount:n,placeholder:t,animate:e})=>{const i=$B({isAnimatingOpenOnMount:n,placeholder:t,animate:e});return{display:t.display,boxSizing:"border-box",width:i.width,height:i.height,marginTop:i.margin.top,marginRight:i.margin.right,marginBottom:i.margin.bottom,marginLeft:i.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:e!=="none"?md.placeholder:null}},XB=n=>{const t=W.useRef(null),e=It(()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),{animate:i,onTransitionEnd:r,onClose:o,contextId:l}=n,[u,d]=W.useState(n.animate==="open");W.useEffect(()=>u?i!=="open"?(e(),d(!1),l0):t.current?l0:(t.current=setTimeout(()=>{t.current=null,d(!1)}),e):l0,[i,u,e]);const f=It(y=>{y.propertyName==="height"&&(r(),i==="close"&&o())},[i,o,r]),p=WB({isAnimatingOpenOnMount:u,animate:n.animate,placeholder:n.placeholder});return Je.createElement(n.placeholder.tagName,{style:p,"data-rfd-placeholder-context-id":l,onTransitionEnd:f,ref:n.innerRef})};var QB=Je.memo(XB);class KB extends Je.PureComponent{constructor(...t){super(...t),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(t,e){return t.shouldAnimate?t.on?{isVisible:!0,data:t.on,animate:"open"}:e.isVisible?{isVisible:!0,data:e.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!t.on,data:t.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const t={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(t)}}const ZB=n=>{const t=W.useContext(Dp);t||mt();const{contextId:e,isMovementAllowed:i}=t,r=W.useRef(null),o=W.useRef(null),{children:l,droppableId:u,type:d,mode:f,direction:p,ignoreContainerClipping:y,isDropDisabled:_,isCombineEnabled:v,snapshot:S,useClone:A,updateViewportMaxScroll:E,getContainerForClone:O}=n,V=It(()=>r.current,[]),q=It((z=null)=>{r.current=z},[]);It(()=>o.current,[]);const Y=It((z=null)=>{o.current=z},[]),$=It(()=>{i()&&E({maxScroll:I2()})},[i,E]);YB({droppableId:u,type:d,mode:f,direction:p,isDropDisabled:_,isCombineEnabled:v,ignoreContainerClipping:y,getDroppableRef:V});const Q=le(()=>Je.createElement(KB,{on:n.placeholder,shouldAnimate:n.shouldAnimatePlaceholder},({onClose:z,data:B,animate:U})=>Je.createElement(QB,{placeholder:B,onClose:z,innerRef:Y,animate:U,contextId:e,onTransitionEnd:$})),[e,$,n.placeholder,n.shouldAnimatePlaceholder,Y]),M=le(()=>({innerRef:q,placeholder:Q,droppableProps:{"data-rfd-droppable-id":u,"data-rfd-droppable-context-id":e}}),[e,u,Q,q]),D=A?A.dragging.draggableId:null,N=le(()=>({droppableId:u,type:d,isUsingCloneFor:D}),[u,D,d]);function L(){if(!A)return null;const{dragging:z,render:B}=A,U=Je.createElement(Y2,{draggableId:z.draggableId,index:z.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(Ot,St)=>B(Ot,St,z));return VV.createPortal(U,O())}return Je.createElement(Z_.Provider,{value:N},l(M,S),L())};function JB(){return document.body||mt(),document.body}const fS={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:JB},Q2=n=>{let t={...n},e;for(e in fS)n[e]===void 0&&(t={...t,[e]:fS[e]});return t},c0=(n,t)=>n===t.droppable.type,gS=(n,t)=>t.draggables[n.draggable.id],t8=()=>{const n={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...n,shouldAnimatePlaceholder:!1},e=Mn(o=>({draggableId:o.id,type:o.type,source:{index:o.index,droppableId:o.droppableId}})),i=Mn((o,l,u,d,f,p)=>{const y=f.descriptor.id;if(f.descriptor.droppableId===o){const S=p?{render:p,dragging:e(f.descriptor)}:null,A={isDraggingOver:u,draggingOverWith:u?y:null,draggingFromThisWith:y,isUsingPlaceholder:!0};return{placeholder:f.placeholder,shouldAnimatePlaceholder:!1,snapshot:A,useClone:S}}if(!l)return t;if(!d)return n;const v={isDraggingOver:u,draggingOverWith:y,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:f.placeholder,shouldAnimatePlaceholder:!0,snapshot:v,useClone:null}});return(o,l)=>{const u=Q2(l),d=u.droppableId,f=u.type,p=!u.isDropDisabled,y=u.renderClone;if(Fd(o)){const _=o.critical;if(!c0(f,_))return t;const v=gS(_,o.dimensions),S=Yi(o.impact)===d;return i(d,p,S,S,v,y)}if(o.phase==="DROP_ANIMATING"){const _=o.completed;if(!c0(f,_.critical))return t;const v=gS(_.critical,o.dimensions);return i(d,p,q2(_.result)===d,Yi(_.impact)===d,v,y)}if(o.phase==="IDLE"&&o.completed&&!o.shouldFlush){const _=o.completed;if(!c0(f,_.critical))return t;const v=Yi(_.impact)===d,S=!!(_.impact.at&&_.impact.at.type==="COMBINE"),A=_.critical.droppable.id===d;return v?S?n:t:A?n:t}return t}},e8={updateViewportMaxScroll:dU},n8=WI(t8,e8,(n,t,e)=>({...Q2(e),...n,...t}),{context:X_,areStatePropsEqual:H2})(ZB),cb={blue:{label:"Blue",primary:"bg-blue-600 hover:bg-blue-700 text-white shadow-blue-600/20",secondary:"bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400",border:"border-blue-200 dark:border-blue-800",text:"text-blue-600 dark:text-blue-400",ring:"focus:ring-blue-500",chartLine:"#2563EB",chartFill:"rgba(37, 99, 235, 0.1)",chartPoint:"#2563EB",activeNav:"bg-blue-50 dark:bg-blue-900/20 border-blue-500 ring-1 ring-blue-500 dark:border-blue-500",activeNavText:"text-blue-700 dark:text-blue-400"},purple:{label:"Purple",primary:"bg-purple-600 hover:bg-purple-700 text-white shadow-purple-600/20",secondary:"bg-purple-50 dark:bg-purple-900/20 text-purple-600 dark:text-purple-400",border:"border-purple-200 dark:border-purple-800",text:"text-purple-600 dark:text-purple-400",ring:"focus:ring-purple-500",chartLine:"#9333EA",chartFill:"rgba(147, 51, 234, 0.1)",chartPoint:"#9333EA",activeNav:"bg-purple-50 dark:bg-purple-900/20 border-purple-500 ring-1 ring-purple-500 dark:border-purple-500",activeNavText:"text-purple-700 dark:text-purple-400"},emerald:{label:"Emerald",primary:"bg-emerald-600 hover:bg-emerald-700 text-white shadow-emerald-600/20",secondary:"bg-emerald-50 dark:bg-emerald-900/20 text-emerald-600 dark:text-emerald-400",border:"border-emerald-200 dark:border-emerald-800",text:"text-emerald-600 dark:text-emerald-400",ring:"focus:ring-emerald-500",chartLine:"#059669",chartFill:"rgba(5, 150, 105, 0.1)",chartPoint:"#059669",activeNav:"bg-emerald-50 dark:bg-emerald-900/20 border-emerald-500 ring-1 ring-emerald-500 dark:border-emerald-500",activeNavText:"text-emerald-700 dark:text-emerald-400"},amber:{label:"Amber",primary:"bg-amber-500 hover:bg-amber-600 text-white shadow-amber-500/20",secondary:"bg-amber-50 dark:bg-amber-900/20 text-amber-600 dark:text-amber-400",border:"border-amber-200 dark:border-amber-800",text:"text-amber-600 dark:text-amber-400",ring:"focus:ring-amber-500",chartLine:"#D97706",chartFill:"rgba(217, 119, 6, 0.1)",chartPoint:"#D97706",activeNav:"bg-amber-50 dark:bg-amber-900/20 border-amber-500 ring-1 ring-amber-500 dark:border-amber-500",activeNavText:"text-amber-700 dark:text-amber-400"},rose:{label:"Rose",primary:"bg-rose-600 hover:bg-rose-700 text-white shadow-rose-600/20",secondary:"bg-rose-50 dark:bg-rose-900/20 text-rose-600 dark:text-rose-400",border:"border-rose-200 dark:border-rose-800",text:"text-rose-600 dark:text-rose-400",ring:"focus:ring-rose-500",chartLine:"#E11D48",chartFill:"rgba(225, 29, 72, 0.1)",chartPoint:"#E11D48",activeNav:"bg-rose-50 dark:bg-rose-900/20 border-rose-500 ring-1 ring-rose-500 dark:border-rose-500",activeNavText:"text-rose-700 dark:text-rose-400"},indigo:{label:"Indigo",primary:"bg-indigo-600 hover:bg-indigo-700 text-white shadow-indigo-600/20",secondary:"bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 dark:text-indigo-400",border:"border-indigo-200 dark:border-indigo-800",text:"text-indigo-600 dark:text-indigo-400",ring:"focus:ring-indigo-500",chartLine:"#4F46E5",chartFill:"rgba(79, 70, 229, 0.1)",chartPoint:"#4F46E5",activeNav:"bg-indigo-50 dark:bg-indigo-900/20 border-indigo-500 ring-1 ring-indigo-500 dark:border-indigo-500",activeNavText:"text-indigo-700 dark:text-indigo-400"}},Fo=[{name:"Red",class:"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/40 dark:text-red-300 dark:border-red-800",dot:"bg-red-500"},{name:"Green",class:"bg-emerald-100 text-emerald-800 border-emerald-200 dark:bg-emerald-900/40 dark:text-emerald-300 dark:border-emerald-800",dot:"bg-emerald-500"},{name:"Blue",class:"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/40 dark:text-blue-300 dark:border-blue-800",dot:"bg-blue-500"},{name:"Yellow",class:"bg-yellow-100 text-yellow-800 border-yellow-200 dark:bg-yellow-900/40 dark:text-yellow-300 dark:border-yellow-800",dot:"bg-yellow-500"},{name:"Purple",class:"bg-purple-100 text-purple-800 border-purple-200 dark:bg-purple-900/40 dark:text-purple-300 dark:border-purple-800",dot:"bg-purple-500"},{name:"Orange",class:"bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900/40 dark:text-orange-300 dark:border-orange-800",dot:"bg-orange-500"},{name:"Pink",class:"bg-pink-100 text-pink-800 border-pink-200 dark:bg-pink-900/40 dark:text-pink-300 dark:border-pink-800",dot:"bg-pink-500"},{name:"Indigo",class:"bg-indigo-100 text-indigo-800 border-indigo-200 dark:bg-indigo-900/40 dark:text-indigo-300 dark:border-indigo-800",dot:"bg-indigo-500"}],K2=n=>{if(!n||n.length===0)return Fo[0];const t=new Set(n.map(i=>i.colorClass)),e=Fo.filter(i=>!t.has(i.class));return e.length>0?e[0]:Fo[Math.floor(Math.random()*Fo.length)]},pS=n=>new Date(n).toLocaleDateString("en-US",{month:"short",day:"numeric"}),Nn=n=>{if(!n)return"";if(typeof n=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(n))return n;const t=new Date(n);return`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`},Z2=(n,t)=>{const e=new Date(n,t,1);return{daysInMonth:new Date(n,t+1,0).getDate(),startDay:e.getDay()}},J2=(n,t="average")=>{if(!n||n.length===0)return 0;const e=n.map(Number).filter(i=>!isNaN(i));return e.length===0?0:t==="sum"?e.reduce((i,r)=>i+r,0):e.reduce((i,r)=>i+r,0)/e.length},tR=(n,t)=>{if(!t||!n||n.length===0)return{streak:0,lastDate:n&&n.length>0?Nn(n[0]):null};const e=[...new Set(n.map(Nn))].sort((d,f)=>new Date(f)-new Date(d));if(e.length===0)return{streak:0,lastDate:null};const i=e[0],r=Nn(new Date);if((new Date(r).getTime()-new Date(i).getTime())/(1e3*3600*24)>1)return{streak:0,lastDate:i};let l=0,u=null;for(const d of e){if(u===null){l=1,u=d;continue}if((new Date(u).getTime()-new Date(d).getTime())/(1e3*3600*24)===1)l++,u=d;else break}return{streak:l,lastDate:i}},ub=(n,t,e=null)=>{if(n==null)return{isHit:null,diff:0,label:""};if(t.goalDirection==="target"&&t.targetValue!==null&&t.targetValue!==void 0){const i=Math.abs(n-t.targetValue),r=t.tolerance||0,o=i<=r;return{isHit:o,diff:i,label:o?"Target Hit":`${i.toFixed(1)} off`}}if(t.goalDirection==="increase"){if(e===null)return{isHit:null,diff:0,label:"No prev data"};const i=n>=e,r=n-e;return{isHit:i,diff:r,label:i?"Improved":"Decreased"}}if(t.goalDirection==="decrease"){if(e===null)return{isHit:null,diff:0,label:"No prev data"};const i=n<=e,r=e-n;return{isHit:i,diff:r,label:i?"Improved":"Increased"}}return{isHit:null,diff:0,label:""}},J_=(n,t)=>{if(!n||n.length<2||!t.targetValue||t.goalDirection==="none"||t.goalDirection===void 0)return null;const e=[...n].sort((O,V)=>new Date(O.date)-new Date(V.date)),i=new Date(e[0].date).getTime();let r=[];if(t.aggregation==="sum"&&t.goalPeriod!=="daily"){let O=0;r=e.map(V=>(O+=V.value,{x:(new Date(V.date).getTime()-i)/(1e3*3600*24),y:O}))}else r=e.map(O=>({x:(new Date(O.date).getTime()-i)/864e5,y:O.value}));const o=r.length,l=r.reduce((O,V)=>O+V.x,0),u=r.reduce((O,V)=>O+V.y,0),d=r.reduce((O,V)=>O+V.x*V.y,0),f=r.reduce((O,V)=>O+V.x*V.x,0),p=o*f-l*l;if(p===0)return null;const y=(o*d-l*u)/p,_=(u-y*l)/o;if(t.goalDirection==="increase"&&y<=0||t.goalDirection==="decrease"&&y>=0||y===0)return null;const v=(t.targetValue-_)/y,S=new Date(i+v*24*60*60*1e3),E=Math.ceil((S-new Date)/(1e3*3600*24));return E<0?null:{date:Nn(S),daysLeft:E,value:t.targetValue}},i8=()=>{const{user:n}=io(),[t,e]=W.useState([]),[i,r]=W.useState(!0);return W.useEffect(()=>{if(!n){e([]),r(!1);return}const l=J0(fl(xn,"artifacts","default-app-id","users",n.uid,"trackers"),gd("order","asc"),gd("createdAt","desc")),u=E_(l,async d=>{const f=d.docs.map(y=>({id:y.id,...y.data(),streak:0,lastDate:null})),p=await Promise.all(f.map(async y=>{const _=fl(xn,"artifacts","default-app-id","users",n.uid,"trackers",y.id,"entries"),v=J0(_,gd("date","desc")),A=(await tb(v)).docs.map(O=>O.data().date),E=tR(A,y.enableStreak);return{...y,streak:E.streak,lastDate:E.lastDate}}));e(p.sort((y,_)=>y.order-_.order)),r(!1)});return()=>u()},[n]),{trackers:t,loading:i,reorderTrackers:async(l,u)=>{const d=Array.from(t),[f]=d.splice(l,1);d.splice(u,0,f);const p=d.map((y,_)=>({...y,order:_}));e(p);try{const y=RI(xn);p.forEach(_=>{const v=Gi(xn,"artifacts","default-app-id","users",n.uid,"trackers",_.id);y.update(v,{order:_.order})}),await y.commit()}catch(y){console.error("Failed to reorder:",y)}}}},eR=W.createContext(),r8=({children:n})=>{const{user:t}=io(),[e,i]=W.useState("blue"),[r,o]=W.useState("dark"),[l,u]=W.useState("graph"),[d,f]=W.useState([]);W.useEffect(()=>{if(!t)return;const A=E_(Gi(xn,"artifacts","default-app-id","users",t.uid,"settings","tags"),E=>{if(E.exists()){const O=E.data();O.theme&&i(O.theme),O.mode&&o(O.mode),O.defaultView&&u(O.defaultView),O.list&&f(O.list)}});return()=>A()},[t]),W.useEffect(()=>{const A=document.documentElement,E=document.body;A.classList.remove("dark"),E.classList.remove("bg-zinc-50","bg-zinc-100","bg-zinc-900","bg-black","text-zinc-900","text-white"),r==="light"?E.classList.add("bg-zinc-100","text-zinc-900"):r==="dark"?(A.classList.add("dark"),E.classList.add("bg-zinc-900","text-white")):r==="amoled"&&(A.classList.add("dark"),E.classList.add("bg-black","text-white"))},[r]);const p=async(A,E)=>{A==="theme"&&i(E),A==="mode"&&o(E),A==="defaultView"&&u(E),t&&await D1(Gi(xn,"artifacts","default-app-id","users",t.uid,"settings","tags"),{[A]:E},{merge:!0})},y=async A=>{f(A),t&&await D1(Gi(xn,"artifacts","default-app-id","users",t.uid,"settings","tags"),{list:A},{merge:!0})},_=A=>p("mode",A),v=cb[e]||cb.blue,S=r==="amoled";return C.jsx(eR.Provider,{value:{theme:v,accentColor:e,themeMode:r,defaultView:l,setThemeMode:_,isAmoled:S,tags:d,updateSettings:p,updateTags:y},children:n})},wr=()=>W.useContext(eR),s8=({tracker:n,isActive:t,theme:e,isAmoled:i,onClick:r})=>{const o=n.listDisplayValue||"none";let l=null,u=null;o==="last"&&n.lastValue!==void 0&&n.lastValue!==null?(l=n.lastValue,u="Last"):o==="average"&&n.averageValue!==void 0&&n.averageValue!==null&&(l=n.averageValue,u="Avg");const d=n.enableStreak&&n.streak>0,f=d?"text-orange-500 dark:text-orange-400":"text-zinc-400 dark:text-zinc-600";let p="",y="",_="";return t&&e?i?(p=`bg-black ${e.border} shadow-lg shadow-zinc-900/40 border`,y=e.activeNavText,_="bg-zinc-900 border border-zinc-800 text-zinc-300"):(p=`${e.activeNav} border border-transparent shadow-sm`,y=e.activeNavText,_="bg-white/50 dark:bg-black/20 text-current"):i?(p="bg-black border border-zinc-800 hover:border-zinc-700",y="text-zinc-300",_="bg-zinc-900 border border-zinc-800 text-zinc-400"):(p="bg-white dark:bg-zinc-800 border border-zinc-300 dark:border-zinc-700 hover:border-zinc-400 dark:hover:border-zinc-600 shadow-sm hover:shadow-md",y="text-zinc-900 dark:text-zinc-300",_="bg-zinc-200 dark:bg-zinc-700 text-zinc-700 dark:text-zinc-300"),C.jsxs("div",{onClick:r,className:`p-3 rounded-xl relative flex justify-between items-center transition-all duration-200 cursor-pointer select-none ${p}`,children:[C.jsxs("div",{className:"flex-1 min-w-0 mr-4",children:[C.jsx("h3",{className:`font-bold truncate text-sm ${y}`,children:n.name}),C.jsxs("div",{className:"flex flex-wrap gap-2 mt-1",children:[n.showTypeInList!==!1&&C.jsx("span",{className:"text-[10px] text-zinc-500 capitalize",children:n.type}),n.tags&&n.tags.map((v,S)=>C.jsx("span",{className:`px-1.5 py-0.5 rounded-full text-[9px] font-medium border opacity-80 ${v.colorClass}`,children:v.name},S))]})]}),C.jsxs("div",{className:"flex flex-col items-end gap-1",children:[l!==null&&C.jsxs("div",{className:`text-[10px] px-1.5 py-0.5 rounded-md font-mono font-medium ${_}`,children:[C.jsxs("span",{className:"opacity-70 mr-1",children:[u,":"]}),typeof l=="number"?l.toFixed(1):l]}),n.enableStreak&&n.lastDate&&C.jsxs("div",{className:`flex items-center text-[10px] font-medium transition-colors duration-300 ${f}`,children:[C.jsx(C_,{className:`w-3 h-3 mr-1 ${d?"fill-current":"fill-none"}`}),C.jsx("span",{children:n.streak||0})]})]})]})},nR=n=>{const{user:t}=io(),[e,i]=W.useState([]),[r,o]=W.useState(!0);return W.useEffect(()=>{if(!t||!n){i([]),o(!1);return}const l=J0(fl(xn,"artifacts","default-app-id","users",t.uid,"trackers",n,"entries"),gd("date","desc"),gd("timestamp","desc")),u=E_(l,d=>{const f=d.docs.map(p=>({id:p.id,...p.data()}));i(f),o(!1)});return()=>u()},[t,n]),{entries:e,loading:r}};function hh(n){return n+.5|0}const Ho=(n,t,e)=>Math.max(Math.min(n,e),t);function sd(n){return Ho(hh(n*2.55),0,255)}function Jo(n){return Ho(hh(n*255),0,255)}function Ys(n){return Ho(hh(n/2.55)/100,0,1)}function mS(n){return Ho(hh(n*100),0,100)}const pr={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},db=[..."0123456789ABCDEF"],o8=n=>db[n&15],a8=n=>db[(n&240)>>4]+db[n&15],jf=n=>(n&240)>>4===(n&15),l8=n=>jf(n.r)&&jf(n.g)&&jf(n.b)&&jf(n.a);function c8(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&pr[n[1]]*17,g:255&pr[n[2]]*17,b:255&pr[n[3]]*17,a:t===5?pr[n[4]]*17:255}:(t===7||t===9)&&(e={r:pr[n[1]]<<4|pr[n[2]],g:pr[n[3]]<<4|pr[n[4]],b:pr[n[5]]<<4|pr[n[6]],a:t===9?pr[n[7]]<<4|pr[n[8]]:255})),e}const u8=(n,t)=>n<255?t(n):"";function d8(n){var t=l8(n)?o8:a8;return n?"#"+t(n.r)+t(n.g)+t(n.b)+u8(n.a,t):void 0}const h8=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function iR(n,t,e){const i=t*Math.min(e,1-e),r=(o,l=(o+n/30)%12)=>e-i*Math.max(Math.min(l-3,9-l,1),-1);return[r(0),r(8),r(4)]}function f8(n,t,e){const i=(r,o=(r+n/60)%6)=>e-e*t*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function g8(n,t,e){const i=iR(n,1,.5);let r;for(t+e>1&&(r=1/(t+e),t*=r,e*=r),r=0;r<3;r++)i[r]*=1-t-e,i[r]+=t;return i}function p8(n,t,e,i,r){return n===r?(t-e)/i+(t<e?6:0):t===r?(e-n)/i+2:(n-t)/i+4}function tv(n){const e=n.r/255,i=n.g/255,r=n.b/255,o=Math.max(e,i,r),l=Math.min(e,i,r),u=(o+l)/2;let d,f,p;return o!==l&&(p=o-l,f=u>.5?p/(2-o-l):p/(o+l),d=p8(e,i,r,p,o),d=d*60+.5),[d|0,f||0,u]}function ev(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(Jo)}function nv(n,t,e){return ev(iR,n,t,e)}function m8(n,t,e){return ev(g8,n,t,e)}function y8(n,t,e){return ev(f8,n,t,e)}function rR(n){return(n%360+360)%360}function b8(n){const t=h8.exec(n);let e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?sd(+t[5]):Jo(+t[5]));const r=rR(+t[2]),o=+t[3]/100,l=+t[4]/100;return t[1]==="hwb"?i=m8(r,o,l):t[1]==="hsv"?i=y8(r,o,l):i=nv(r,o,l),{r:i[0],g:i[1],b:i[2],a:e}}function _8(n,t){var e=tv(n);e[0]=rR(e[0]+t),e=nv(e),n.r=e[0],n.g=e[1],n.b=e[2]}function v8(n){if(!n)return;const t=tv(n),e=t[0],i=mS(t[1]),r=mS(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${r}%, ${Ys(n.a)})`:`hsl(${e}, ${i}%, ${r}%)`}const yS={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},bS={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function x8(){const n={},t=Object.keys(bS),e=Object.keys(yS);let i,r,o,l,u;for(i=0;i<t.length;i++){for(l=u=t[i],r=0;r<e.length;r++)o=e[r],u=u.replace(o,yS[o]);o=parseInt(bS[l],16),n[u]=[o>>16&255,o>>8&255,o&255]}return n}let Bf;function w8(n){Bf||(Bf=x8(),Bf.transparent=[0,0,0,0]);const t=Bf[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const T8=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function E8(n){const t=T8.exec(n);let e=255,i,r,o;if(t){if(t[7]!==i){const l=+t[7];e=t[8]?sd(l):Ho(l*255,0,255)}return i=+t[1],r=+t[3],o=+t[5],i=255&(t[2]?sd(i):Ho(i,0,255)),r=255&(t[4]?sd(r):Ho(r,0,255)),o=255&(t[6]?sd(o):Ho(o,0,255)),{r:i,g:r,b:o,a:e}}}function S8(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Ys(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const u0=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,lc=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function A8(n,t,e){const i=lc(Ys(n.r)),r=lc(Ys(n.g)),o=lc(Ys(n.b));return{r:Jo(u0(i+e*(lc(Ys(t.r))-i))),g:Jo(u0(r+e*(lc(Ys(t.g))-r))),b:Jo(u0(o+e*(lc(Ys(t.b))-o))),a:n.a+e*(t.a-n.a)}}function Ff(n,t,e){if(n){let i=tv(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=nv(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function sR(n,t){return n&&Object.assign(t||{},n)}function _S(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=Jo(n[3]))):(t=sR(n,{r:0,g:0,b:0,a:1}),t.a=Jo(t.a)),t}function C8(n){return n.charAt(0)==="r"?E8(n):b8(n)}class Hd{constructor(t){if(t instanceof Hd)return t;const e=typeof t;let i;e==="object"?i=_S(t):e==="string"&&(i=c8(t)||w8(t)||C8(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=sR(this._rgb);return t&&(t.a=Ys(t.a)),t}set rgb(t){this._rgb=_S(t)}rgbString(){return this._valid?S8(this._rgb):void 0}hexString(){return this._valid?d8(this._rgb):void 0}hslString(){return this._valid?v8(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,r=t.rgb;let o;const l=e===o?.5:e,u=2*l-1,d=i.a-r.a,f=((u*d===-1?u:(u+d)/(1+u*d))+1)/2;o=1-f,i.r=255&f*i.r+o*r.r+.5,i.g=255&f*i.g+o*r.g+.5,i.b=255&f*i.b+o*r.b+.5,i.a=l*i.a+(1-l)*r.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=A8(this._rgb,t._rgb,e)),this}clone(){return new Hd(this.rgb)}alpha(t){return this._rgb.a=Jo(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=hh(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return Ff(this._rgb,2,t),this}darken(t){return Ff(this._rgb,2,-t),this}saturate(t){return Ff(this._rgb,1,t),this}desaturate(t){return Ff(this._rgb,1,-t),this}rotate(t){return _8(this._rgb,t),this}}function Hs(){}const D8=(()=>{let n=0;return()=>n++})();function Ne(n){return n==null}function An(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function ce(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function ni(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function ns(n,t){return ni(n)?n:t}function Qt(n,t){return typeof n>"u"?t:n}const I8=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function Ut(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function te(n,t,e,i){let r,o,l;if(An(n))for(o=n.length,r=0;r<o;r++)t.call(e,n[r],r);else if(ce(n))for(l=Object.keys(n),o=l.length,r=0;r<o;r++)t.call(e,n[l[r]],l[r])}function qg(n,t){let e,i,r,o;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(r=n[e],o=t[e],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function Gg(n){if(An(n))return n.map(Gg);if(ce(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let r=0;for(;r<i;++r)t[e[r]]=Gg(n[e[r]]);return t}return n}function oR(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function R8(n,t,e,i){if(!oR(n))return;const r=t[n],o=e[n];ce(r)&&ce(o)?qd(r,o,i):t[n]=Gg(o)}function qd(n,t,e){const i=An(t)?t:[t],r=i.length;if(!ce(n))return n;e=e||{};const o=e.merger||R8;let l;for(let u=0;u<r;++u){if(l=i[u],!ce(l))continue;const d=Object.keys(l);for(let f=0,p=d.length;f<p;++f)o(d[f],n,l,e)}return n}function yd(n,t){return qd(n,t,{merger:N8})}function N8(n,t,e){if(!oR(n))return;const i=t[n],r=e[n];ce(i)&&ce(r)?yd(i,r):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=Gg(r))}const vS={"":n=>n,x:n=>n.x,y:n=>n.y};function M8(n){const t=n.split("."),e=[];let i="";for(const r of t)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function O8(n){const t=M8(n);return e=>{for(const i of t){if(i==="")break;e=e&&e[i]}return e}}function Yg(n,t){return(vS[t]||(vS[t]=O8(t)))(n)}function iv(n){return n.charAt(0).toUpperCase()+n.slice(1)}const $g=n=>typeof n<"u",aa=n=>typeof n=="function",xS=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function k8(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const On=Math.PI,Vr=2*On,P8=Vr+On,Wg=Number.POSITIVE_INFINITY,z8=On/180,Lr=On/2,Wa=On/4,wS=On*2/3,aR=Math.log10,la=Math.sign;function ol(n,t,e){return Math.abs(n-t)<e}function TS(n){const t=Math.round(n);n=ol(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(aR(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function L8(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((r,o)=>r-o).pop(),t}function V8(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function Gd(n){return!V8(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function U8(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function j8(n,t,e){let i,r,o;for(i=0,r=n.length;i<r;i++)o=n[i][e],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function nl(n){return n*(On/180)}function B8(n){return n*(180/On)}function ES(n){if(!ni(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function F8(n,t){const e=t.x-n.x,i=t.y-n.y,r=Math.sqrt(e*e+i*i);let o=Math.atan2(i,e);return o<-.5*On&&(o+=Vr),{angle:o,distance:r}}function hb(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function H8(n,t){return(n-t+P8)%Vr-On}function os(n){return(n%Vr+Vr)%Vr}function lR(n,t,e,i){const r=os(n),o=os(t),l=os(e),u=os(o-r),d=os(l-r),f=os(r-o),p=os(r-l);return r===o||r===l||i&&o===l||u>d&&f<p}function br(n,t,e){return Math.max(t,Math.min(e,n))}function q8(n){return br(n,-32768,32767)}function pc(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function rv(n,t,e){e=e||(l=>n[l]<t);let i=n.length-1,r=0,o;for(;i-r>1;)o=r+i>>1,e(o)?r=o:i=o;return{lo:r,hi:i}}const il=(n,t,e,i)=>rv(n,e,i?r=>{const o=n[r][t];return o<e||o===e&&n[r+1][t]===e}:r=>n[r][t]<e),G8=(n,t,e)=>rv(n,e,i=>n[i][t]>=e);function Y8(n,t,e){let i=0,r=n.length;for(;i<r&&n[i]<t;)i++;for(;r>i&&n[r-1]>e;)r--;return i>0||r<n.length?n.slice(i,r):n}const cR=["push","pop","shift","splice","unshift"];function $8(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),cR.forEach(e=>{const i="_onData"+iv(e),r=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...o){const l=r.apply(this,o);return n._chartjs.listeners.forEach(u=>{typeof u[i]=="function"&&u[i](...o)}),l}})})}function SS(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,r=i.indexOf(t);r!==-1&&i.splice(r,1),!(i.length>0)&&(cR.forEach(o=>{delete n[o]}),delete n._chartjs)}function W8(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const uR=(function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame})();function dR(n,t){let e=[],i=!1;return function(...r){e=r,i||(i=!0,uR.call(window,()=>{i=!1,n.apply(t,e)}))}}function X8(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}const sv=n=>n==="start"?"left":n==="end"?"right":"center",Kn=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,Q8=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t;function K8(n,t,e){const i=t.length;let r=0,o=i;if(n._sorted){const{iScale:l,vScale:u,_parsed:d}=n,f=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,p=l.axis,{min:y,max:_,minDefined:v,maxDefined:S}=l.getUserBounds();if(v){if(r=Math.min(il(d,p,y).lo,e?i:il(t,p,l.getPixelForValue(y)).lo),f){const A=d.slice(0,r+1).reverse().findIndex(E=>!Ne(E[u.axis]));r-=Math.max(0,A)}r=br(r,0,i-1)}if(S){let A=Math.max(il(d,l.axis,_,!0).hi+1,e?0:il(t,p,l.getPixelForValue(_),!0).hi+1);if(f){const E=d.slice(A-1).findIndex(O=>!Ne(O[u.axis]));A+=Math.max(0,E)}o=br(A,r,i)-r}else o=i-r}return{start:r,count:o}}function Z8(n){const{xScale:t,yScale:e,_scaleRanges:i}=n,r={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return n._scaleRanges=r,!0;const o=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,r),o}const Hf=n=>n===0||n===1,AS=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*Vr/e)),CS=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*Vr/e)+1,bd={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Lr)+1,easeOutSine:n=>Math.sin(n*Lr),easeInOutSine:n=>-.5*(Math.cos(On*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>Hf(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>Hf(n)?n:AS(n,.075,.3),easeOutElastic:n=>Hf(n)?n:CS(n,.075,.3),easeInOutElastic(n){return Hf(n)?n:n<.5?.5*AS(n*2,.1125,.45):.5+.5*CS(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-bd.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?bd.easeInBounce(n*2)*.5:bd.easeOutBounce(n*2-1)*.5+.5};function ov(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function DS(n){return ov(n)?n:new Hd(n)}function d0(n){return ov(n)?n:new Hd(n).saturate(.5).darken(.1).hexString()}const J8=["x","y","borderWidth","radius","tension"],tF=["color","borderColor","backgroundColor"];function eF(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:tF},numbers:{type:"number",properties:J8}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function nF(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const IS=new Map;function iF(n,t){t=t||{};const e=n+JSON.stringify(t);let i=IS.get(e);return i||(i=new Intl.NumberFormat(n,t),IS.set(e,i)),i}function hR(n,t,e){return iF(t,e).format(n)}const rF={values(n){return An(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const i=this.chart.options.locale;let r,o=n;if(e.length>1){const f=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(f<1e-4||f>1e15)&&(r="scientific"),o=sF(n,e)}const l=aR(Math.abs(o)),u=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),d={notation:r,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(d,this.options.ticks.format),hR(n,i,d)}};function sF(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var fR={formatters:rF};function oF(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:fR.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const pl=Object.create(null),fb=Object.create(null);function _d(n,t){if(!t)return n;const e=t.split(".");for(let i=0,r=e.length;i<r;++i){const o=e[i];n=n[o]||(n[o]=Object.create(null))}return n}function h0(n,t,e){return typeof t=="string"?qd(_d(n,t),e):qd(_d(n,""),t)}class aF{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>d0(r.backgroundColor),this.hoverBorderColor=(i,r)=>d0(r.borderColor),this.hoverColor=(i,r)=>d0(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return h0(this,t,e)}get(t){return _d(this,t)}describe(t,e){return h0(fb,t,e)}override(t,e){return h0(pl,t,e)}route(t,e,i,r){const o=_d(this,t),l=_d(this,i),u="_"+e;Object.defineProperties(o,{[u]:{value:o[e],writable:!0},[e]:{enumerable:!0,get(){const d=this[u],f=l[r];return ce(d)?Object.assign({},f,d):Qt(d,f)},set(d){this[u]=d}}})}apply(t){t.forEach(e=>e(this))}}var un=new aF({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[eF,nF,oF]);function lF(n){return!n||Ne(n.size)||Ne(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function RS(n,t,e,i,r){let o=t[r];return o||(o=t[r]=n.measureText(r).width,e.push(r)),o>i&&(i=o),i}function Xa(n,t,e){const i=n.currentDevicePixelRatio,r=e!==0?Math.max(e/2,.5):0;return Math.round((t-r)*i)/i+r}function NS(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function gb(n,t,e,i){gR(n,t,e,i,null)}function gR(n,t,e,i,r){let o,l,u,d,f,p,y,_;const v=t.pointStyle,S=t.rotation,A=t.radius;let E=(S||0)*z8;if(v&&typeof v=="object"&&(o=v.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(E),n.drawImage(v,-v.width/2,-v.height/2,v.width,v.height),n.restore();return}if(!(isNaN(A)||A<=0)){switch(n.beginPath(),v){default:r?n.ellipse(e,i,r/2,A,0,0,Vr):n.arc(e,i,A,0,Vr),n.closePath();break;case"triangle":p=r?r/2:A,n.moveTo(e+Math.sin(E)*p,i-Math.cos(E)*A),E+=wS,n.lineTo(e+Math.sin(E)*p,i-Math.cos(E)*A),E+=wS,n.lineTo(e+Math.sin(E)*p,i-Math.cos(E)*A),n.closePath();break;case"rectRounded":f=A*.516,d=A-f,l=Math.cos(E+Wa)*d,y=Math.cos(E+Wa)*(r?r/2-f:d),u=Math.sin(E+Wa)*d,_=Math.sin(E+Wa)*(r?r/2-f:d),n.arc(e-y,i-u,f,E-On,E-Lr),n.arc(e+_,i-l,f,E-Lr,E),n.arc(e+y,i+u,f,E,E+Lr),n.arc(e-_,i+l,f,E+Lr,E+On),n.closePath();break;case"rect":if(!S){d=Math.SQRT1_2*A,p=r?r/2:d,n.rect(e-p,i-d,2*p,2*d);break}E+=Wa;case"rectRot":y=Math.cos(E)*(r?r/2:A),l=Math.cos(E)*A,u=Math.sin(E)*A,_=Math.sin(E)*(r?r/2:A),n.moveTo(e-y,i-u),n.lineTo(e+_,i-l),n.lineTo(e+y,i+u),n.lineTo(e-_,i+l),n.closePath();break;case"crossRot":E+=Wa;case"cross":y=Math.cos(E)*(r?r/2:A),l=Math.cos(E)*A,u=Math.sin(E)*A,_=Math.sin(E)*(r?r/2:A),n.moveTo(e-y,i-u),n.lineTo(e+y,i+u),n.moveTo(e+_,i-l),n.lineTo(e-_,i+l);break;case"star":y=Math.cos(E)*(r?r/2:A),l=Math.cos(E)*A,u=Math.sin(E)*A,_=Math.sin(E)*(r?r/2:A),n.moveTo(e-y,i-u),n.lineTo(e+y,i+u),n.moveTo(e+_,i-l),n.lineTo(e-_,i+l),E+=Wa,y=Math.cos(E)*(r?r/2:A),l=Math.cos(E)*A,u=Math.sin(E)*A,_=Math.sin(E)*(r?r/2:A),n.moveTo(e-y,i-u),n.lineTo(e+y,i+u),n.moveTo(e+_,i-l),n.lineTo(e-_,i+l);break;case"line":l=r?r/2:Math.cos(E)*A,u=Math.sin(E)*A,n.moveTo(e-l,i-u),n.lineTo(e+l,i+u);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(E)*(r?r/2:A),i+Math.sin(E)*A);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function Oc(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function Rp(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function Np(n){n.restore()}function cF(n,t,e,i,r){if(!t)return n.lineTo(e.x,e.y);if(r==="middle"){const o=(t.x+e.x)/2;n.lineTo(o,t.y),n.lineTo(o,e.y)}else r==="after"!=!!i?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function uF(n,t,e,i){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function dF(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),Ne(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function hF(n,t,e,i,r){if(r.strikethrough||r.underline){const o=n.measureText(i),l=t-o.actualBoundingBoxLeft,u=t+o.actualBoundingBoxRight,d=e-o.actualBoundingBoxAscent,f=e+o.actualBoundingBoxDescent,p=r.strikethrough?(d+f)/2:f;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(l,p),n.lineTo(u,p),n.stroke()}}function fF(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function Yd(n,t,e,i,r,o={}){const l=An(t)?t:[t],u=o.strokeWidth>0&&o.strokeColor!=="";let d,f;for(n.save(),n.font=r.string,dF(n,o),d=0;d<l.length;++d)f=l[d],o.backdrop&&fF(n,o.backdrop),u&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),Ne(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(f,e,i,o.maxWidth)),n.fillText(f,e,i,o.maxWidth),hF(n,e,i,f,o),i+=Number(r.lineHeight);n.restore()}function pb(n,t){const{x:e,y:i,w:r,h:o,radius:l}=t;n.arc(e+l.topLeft,i+l.topLeft,l.topLeft,1.5*On,On,!0),n.lineTo(e,i+o-l.bottomLeft),n.arc(e+l.bottomLeft,i+o-l.bottomLeft,l.bottomLeft,On,Lr,!0),n.lineTo(e+r-l.bottomRight,i+o),n.arc(e+r-l.bottomRight,i+o-l.bottomRight,l.bottomRight,Lr,0,!0),n.lineTo(e+r,i+l.topRight),n.arc(e+r-l.topRight,i+l.topRight,l.topRight,0,-Lr,!0),n.lineTo(e+l.topLeft,i)}const gF=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,pF=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function mF(n,t){const e=(""+n).match(gF);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const yF=n=>+n||0;function pR(n,t){const e={},i=ce(t),r=i?Object.keys(t):t,o=ce(n)?i?l=>Qt(n[l],n[t[l]]):l=>n[l]:()=>n;for(const l of r)e[l]=yF(o(l));return e}function bF(n){return pR(n,{top:"y",right:"x",bottom:"y",left:"x"})}function vd(n){return pR(n,["topLeft","topRight","bottomLeft","bottomRight"])}function xr(n){const t=bF(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function ti(n,t){n=n||{},t=t||un.font;let e=Qt(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=Qt(n.style,t.style);i&&!(""+i).match(pF)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:Qt(n.family,t.family),lineHeight:mF(Qt(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:Qt(n.weight,t.weight),string:""};return r.string=lF(r),r}function qf(n,t,e,i){let r,o,l;for(r=0,o=n.length;r<o;++r)if(l=n[r],l!==void 0&&l!==void 0)return l}function _F(n,t,e){const{min:i,max:r}=n,o=I8(t,(r-i)/2),l=(u,d)=>e&&u===0?0:u+d;return{min:l(i,-Math.abs(o)),max:l(r,o)}}function bl(n,t){return Object.assign(Object.create(n),t)}function av(n,t=[""],e,i,r=()=>n[0]){const o=e||n;typeof i>"u"&&(i=_R("_fallback",n));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:i,_getTarget:r,override:u=>av([u,...n],t,o,i)};return new Proxy(l,{deleteProperty(u,d){return delete u[d],delete u._keys,delete n[0][d],!0},get(u,d){return yR(u,d,()=>CF(d,t,n,u))},getOwnPropertyDescriptor(u,d){return Reflect.getOwnPropertyDescriptor(u._scopes[0],d)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(u,d){return OS(u).includes(d)},ownKeys(u){return OS(u)},set(u,d,f){const p=u._storage||(u._storage=r());return u[d]=p[d]=f,delete u._keys,!0}})}function kc(n,t,e,i){const r={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:mR(n,i),setContext:o=>kc(n,o,e,i),override:o=>kc(n.override(o),t,e,i)};return new Proxy(r,{deleteProperty(o,l){return delete o[l],delete n[l],!0},get(o,l,u){return yR(o,l,()=>xF(o,l,u))},getOwnPropertyDescriptor(o,l){return o._descriptors.allKeys?Reflect.has(n,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,l)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(o,l){return Reflect.has(n,l)},ownKeys(){return Reflect.ownKeys(n)},set(o,l,u){return n[l]=u,delete o[l],!0}})}function mR(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=n;return{allKeys:r,scriptable:e,indexable:i,isScriptable:aa(e)?e:()=>e,isIndexable:aa(i)?i:()=>i}}const vF=(n,t)=>n?n+iv(t):t,lv=(n,t)=>ce(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function yR(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const i=e();return n[t]=i,i}function xF(n,t,e){const{_proxy:i,_context:r,_subProxy:o,_descriptors:l}=n;let u=i[t];return aa(u)&&l.isScriptable(t)&&(u=wF(t,u,n,e)),An(u)&&u.length&&(u=TF(t,u,n,l.isIndexable)),lv(t,u)&&(u=kc(u,r,o&&o[t],l)),u}function wF(n,t,e,i){const{_proxy:r,_context:o,_subProxy:l,_stack:u}=e;if(u.has(n))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+n);u.add(n);let d=t(o,l||i);return u.delete(n),lv(n,d)&&(d=cv(r._scopes,r,n,d)),d}function TF(n,t,e,i){const{_proxy:r,_context:o,_subProxy:l,_descriptors:u}=e;if(typeof o.index<"u"&&i(n))return t[o.index%t.length];if(ce(t[0])){const d=t,f=r._scopes.filter(p=>p!==d);t=[];for(const p of d){const y=cv(f,r,n,p);t.push(kc(y,o,l&&l[n],u))}}return t}function bR(n,t,e){return aa(n)?n(t,e):n}const EF=(n,t)=>n===!0?t:typeof n=="string"?Yg(t,n):void 0;function SF(n,t,e,i,r){for(const o of t){const l=EF(e,o);if(l){n.add(l);const u=bR(l._fallback,e,r);if(typeof u<"u"&&u!==e&&u!==i)return u}else if(l===!1&&typeof i<"u"&&e!==i)return null}return!1}function cv(n,t,e,i){const r=t._rootScopes,o=bR(t._fallback,e,i),l=[...n,...r],u=new Set;u.add(i);let d=MS(u,l,e,o||e,i);return d===null||typeof o<"u"&&o!==e&&(d=MS(u,l,o,d,i),d===null)?!1:av(Array.from(u),[""],r,o,()=>AF(t,e,i))}function MS(n,t,e,i,r){for(;e;)e=SF(n,t,e,i,r);return e}function AF(n,t,e){const i=n._getTarget();t in i||(i[t]={});const r=i[t];return An(r)&&ce(e)?e:r||{}}function CF(n,t,e,i){let r;for(const o of t)if(r=_R(vF(o,n),e),typeof r<"u")return lv(n,r)?cv(e,i,n,r):r}function _R(n,t){for(const e of t){if(!e)continue;const i=e[n];if(typeof i<"u")return i}}function OS(n){let t=n._keys;return t||(t=n._keys=DF(n._scopes)),t}function DF(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(r=>!r.startsWith("_")))t.add(i);return Array.from(t)}const IF=Number.EPSILON||1e-14,Pc=(n,t)=>t<n.length&&!n[t].skip&&n[t],vR=n=>n==="x"?"y":"x";function RF(n,t,e,i){const r=n.skip?t:n,o=t,l=e.skip?t:e,u=hb(o,r),d=hb(l,o);let f=u/(u+d),p=d/(u+d);f=isNaN(f)?0:f,p=isNaN(p)?0:p;const y=i*f,_=i*p;return{previous:{x:o.x-y*(l.x-r.x),y:o.y-y*(l.y-r.y)},next:{x:o.x+_*(l.x-r.x),y:o.y+_*(l.y-r.y)}}}function NF(n,t,e){const i=n.length;let r,o,l,u,d,f=Pc(n,0);for(let p=0;p<i-1;++p)if(d=f,f=Pc(n,p+1),!(!d||!f)){if(ol(t[p],0,IF)){e[p]=e[p+1]=0;continue}r=e[p]/t[p],o=e[p+1]/t[p],u=Math.pow(r,2)+Math.pow(o,2),!(u<=9)&&(l=3/Math.sqrt(u),e[p]=r*l*t[p],e[p+1]=o*l*t[p])}}function MF(n,t,e="x"){const i=vR(e),r=n.length;let o,l,u,d=Pc(n,0);for(let f=0;f<r;++f){if(l=u,u=d,d=Pc(n,f+1),!u)continue;const p=u[e],y=u[i];l&&(o=(p-l[e])/3,u[`cp1${e}`]=p-o,u[`cp1${i}`]=y-o*t[f]),d&&(o=(d[e]-p)/3,u[`cp2${e}`]=p+o,u[`cp2${i}`]=y+o*t[f])}}function OF(n,t="x"){const e=vR(t),i=n.length,r=Array(i).fill(0),o=Array(i);let l,u,d,f=Pc(n,0);for(l=0;l<i;++l)if(u=d,d=f,f=Pc(n,l+1),!!d){if(f){const p=f[t]-d[t];r[l]=p!==0?(f[e]-d[e])/p:0}o[l]=u?f?la(r[l-1])!==la(r[l])?0:(r[l-1]+r[l])/2:r[l-1]:r[l]}NF(n,r,o),MF(n,o,t)}function Gf(n,t,e){return Math.max(Math.min(n,e),t)}function kF(n,t){let e,i,r,o,l,u=Oc(n[0],t);for(e=0,i=n.length;e<i;++e)l=o,o=u,u=e<i-1&&Oc(n[e+1],t),o&&(r=n[e],l&&(r.cp1x=Gf(r.cp1x,t.left,t.right),r.cp1y=Gf(r.cp1y,t.top,t.bottom)),u&&(r.cp2x=Gf(r.cp2x,t.left,t.right),r.cp2y=Gf(r.cp2y,t.top,t.bottom)))}function PF(n,t,e,i,r){let o,l,u,d;if(t.spanGaps&&(n=n.filter(f=>!f.skip)),t.cubicInterpolationMode==="monotone")OF(n,r);else{let f=i?n[n.length-1]:n[0];for(o=0,l=n.length;o<l;++o)u=n[o],d=RF(f,u,n[Math.min(o+1,l-(i?0:1))%l],t.tension),u.cp1x=d.previous.x,u.cp1y=d.previous.y,u.cp2x=d.next.x,u.cp2y=d.next.y,f=u}t.capBezierPoints&&kF(n,e)}function uv(){return typeof window<"u"&&typeof document<"u"}function dv(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function Xg(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}const Mp=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function zF(n,t){return Mp(n).getPropertyValue(t)}const LF=["top","right","bottom","left"];function al(n,t,e){const i={};e=e?"-"+e:"";for(let r=0;r<4;r++){const o=LF[r];i[o]=parseFloat(n[t+"-"+o+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const VF=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function UF(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:r,offsetY:o}=i;let l=!1,u,d;if(VF(r,o,n.target))u=r,d=o;else{const f=t.getBoundingClientRect();u=i.clientX-f.left,d=i.clientY-f.top,l=!0}return{x:u,y:d,box:l}}function as(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,r=Mp(e),o=r.boxSizing==="border-box",l=al(r,"padding"),u=al(r,"border","width"),{x:d,y:f,box:p}=UF(n,e),y=l.left+(p&&u.left),_=l.top+(p&&u.top);let{width:v,height:S}=t;return o&&(v-=l.width+u.width,S-=l.height+u.height),{x:Math.round((d-y)/v*e.width/i),y:Math.round((f-_)/S*e.height/i)}}function jF(n,t,e){let i,r;if(t===void 0||e===void 0){const o=n&&dv(n);if(!o)t=n.clientWidth,e=n.clientHeight;else{const l=o.getBoundingClientRect(),u=Mp(o),d=al(u,"border","width"),f=al(u,"padding");t=l.width-f.width-d.width,e=l.height-f.height-d.height,i=Xg(u.maxWidth,o,"clientWidth"),r=Xg(u.maxHeight,o,"clientHeight")}}return{width:t,height:e,maxWidth:i||Wg,maxHeight:r||Wg}}const qo=n=>Math.round(n*10)/10;function BF(n,t,e,i){const r=Mp(n),o=al(r,"margin"),l=Xg(r.maxWidth,n,"clientWidth")||Wg,u=Xg(r.maxHeight,n,"clientHeight")||Wg,d=jF(n,t,e);let{width:f,height:p}=d;if(r.boxSizing==="content-box"){const _=al(r,"border","width"),v=al(r,"padding");f-=v.width+_.width,p-=v.height+_.height}return f=Math.max(0,f-o.width),p=Math.max(0,i?f/i:p-o.height),f=qo(Math.min(f,l,d.maxWidth)),p=qo(Math.min(p,u,d.maxHeight)),f&&!p&&(p=qo(f/2)),(t!==void 0||e!==void 0)&&i&&d.height&&p>d.height&&(p=d.height,f=qo(Math.floor(p*i))),{width:f,height:p}}function kS(n,t,e){const i=t||1,r=qo(n.height*i),o=qo(n.width*i);n.height=qo(n.height),n.width=qo(n.width);const l=n.canvas;return l.style&&(e||!l.style.height&&!l.style.width)&&(l.style.height=`${n.height}px`,l.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||l.height!==r||l.width!==o?(n.currentDevicePixelRatio=i,l.height=r,l.width=o,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const FF=(function(){let n=!1;try{const t={get passive(){return n=!0,!1}};uv()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n})();function PS(n,t){const e=zF(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Ja(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function HF(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:i==="middle"?e<.5?n.y:t.y:i==="after"?e<1?n.y:t.y:e>0?t.y:n.y}}function qF(n,t,e,i){const r={x:n.cp2x,y:n.cp2y},o={x:t.cp1x,y:t.cp1y},l=Ja(n,r,e),u=Ja(r,o,e),d=Ja(o,t,e),f=Ja(l,u,e),p=Ja(u,d,e);return Ja(f,p,e)}const GF=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},YF=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function xc(n,t,e){return n?GF(t,e):YF()}function xR(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function wR(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function TR(n){return n==="angle"?{between:lR,compare:H8,normalize:os}:{between:pc,compare:(t,e)=>t-e,normalize:t=>t}}function zS({start:n,end:t,count:e,loop:i,style:r}){return{start:n%e,end:t%e,loop:i&&(t-n+1)%e===0,style:r}}function $F(n,t,e){const{property:i,start:r,end:o}=e,{between:l,normalize:u}=TR(i),d=t.length;let{start:f,end:p,loop:y}=n,_,v;if(y){for(f+=d,p+=d,_=0,v=d;_<v&&l(u(t[f%d][i]),r,o);++_)f--,p--;f%=d,p%=d}return p<f&&(p+=d),{start:f,end:p,loop:y,style:n.style}}function ER(n,t,e){if(!e)return[n];const{property:i,start:r,end:o}=e,l=t.length,{compare:u,between:d,normalize:f}=TR(i),{start:p,end:y,loop:_,style:v}=$F(n,t,e),S=[];let A=!1,E=null,O,V,q;const Y=()=>d(r,q,O)&&u(r,q)!==0,$=()=>u(o,O)===0||d(o,q,O),Q=()=>A||Y(),M=()=>!A||$();for(let D=p,N=p;D<=y;++D)V=t[D%l],!V.skip&&(O=f(V[i]),O!==q&&(A=d(O,r,o),E===null&&Q()&&(E=u(O,r)===0?D:N),E!==null&&M()&&(S.push(zS({start:E,end:D,loop:_,count:l,style:v})),E=null),N=D,q=O));return E!==null&&S.push(zS({start:E,end:y,loop:_,count:l,style:v})),S}function SR(n,t){const e=[],i=n.segments;for(let r=0;r<i.length;r++){const o=ER(i[r],n.points,t);o.length&&e.push(...o)}return e}function WF(n,t,e,i){let r=0,o=t-1;if(e&&!i)for(;r<t&&!n[r].skip;)r++;for(;r<t&&n[r].skip;)r++;for(r%=t,e&&(o+=r);o>r&&n[o%t].skip;)o--;return o%=t,{start:r,end:o}}function XF(n,t,e,i){const r=n.length,o=[];let l=t,u=n[t],d;for(d=t+1;d<=e;++d){const f=n[d%r];f.skip||f.stop?u.skip||(i=!1,o.push({start:t%r,end:(d-1)%r,loop:i}),t=l=f.stop?d:null):(l=d,u.skip&&(t=d)),u=f}return l!==null&&o.push({start:t%r,end:l%r,loop:i}),o}function QF(n,t){const e=n.points,i=n.options.spanGaps,r=e.length;if(!r)return[];const o=!!n._loop,{start:l,end:u}=WF(e,r,o,i);if(i===!0)return LS(n,[{start:l,end:u,loop:o}],e,t);const d=u<l?u+r:u,f=!!n._fullLoop&&l===0&&u===r-1;return LS(n,XF(e,l,d,f),e,t)}function LS(n,t,e,i){return!i||!i.setContext||!e?t:KF(n,t,e,i)}function KF(n,t,e,i){const r=n._chart.getContext(),o=VS(n.options),{_datasetIndex:l,options:{spanGaps:u}}=n,d=e.length,f=[];let p=o,y=t[0].start,_=y;function v(S,A,E,O){const V=u?-1:1;if(S!==A){for(S+=d;e[S%d].skip;)S-=V;for(;e[A%d].skip;)A+=V;S%d!==A%d&&(f.push({start:S%d,end:A%d,loop:E,style:O}),p=O,y=A%d)}}for(const S of t){y=u?y:S.start;let A=e[y%d],E;for(_=y+1;_<=S.end;_++){const O=e[_%d];E=VS(i.setContext(bl(r,{type:"segment",p0:A,p1:O,p0DataIndex:(_-1)%d,p1DataIndex:_%d,datasetIndex:l}))),ZF(E,p)&&v(y,_-1,S.loop,p),A=O,p=E}y<_-1&&v(y,_-1,S.loop,p)}return f}function VS(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function ZF(n,t){if(!t)return!1;const e=[],i=function(r,o){return ov(o)?(e.includes(o)||e.push(o),e.indexOf(o)):o};return JSON.stringify(n,i)!==JSON.stringify(t,i)}function Yf(n,t,e){return n.options.clip?n[e]:t[e]}function JF(n,t){const{xScale:e,yScale:i}=n;return e&&i?{left:Yf(e,t,"left"),right:Yf(e,t,"right"),top:Yf(i,t,"top"),bottom:Yf(i,t,"bottom")}:t}function AR(n,t){const e=t._clip;if(e.disabled)return!1;const i=JF(t,n.chartArea);return{left:e.left===!1?0:i.left-(e.left===!0?0:e.left),right:e.right===!1?n.width:i.right+(e.right===!0?0:e.right),top:e.top===!1?0:i.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?n.height:i.bottom+(e.bottom===!0?0:e.bottom)}}class tH{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,r){const o=e.listeners[r],l=e.duration;o.forEach(u=>u({chart:t,initial:e.initial,numSteps:l,currentStep:Math.min(i-e.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=uR.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const o=i.items;let l=o.length-1,u=!1,d;for(;l>=0;--l)d=o[l],d._active?(d._total>i.duration&&(i.duration=d._total),d.tick(t),u=!0):(o[l]=o[o.length-1],o.pop());u&&(r.draw(),this._notify(r,i,t,"progress")),o.length||(i.running=!1,this._notify(r,i,t,"complete"),i.initial=!1),e+=o.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var qs=new tH;const US="transparent",eH={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const i=DS(n||US),r=i.valid&&DS(t||US);return r&&r.valid?r.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class nH{constructor(t,e,i,r){const o=e[i];r=qf([t.to,r,o,t.from]);const l=qf([t.from,o,r]);this._active=!0,this._fn=t.fn||eH[t.type||typeof l],this._easing=bd[t.easing]||bd.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=l,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const r=this._target[this._prop],o=i-this._start,l=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(l,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=qf([t.to,e,r,t.from]),this._from=qf([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,r=this._prop,o=this._from,l=this._loop,u=this._to;let d;if(this._active=o!==u&&(l||e<i),!this._active){this._target[r]=u,this._notify(!0);return}if(e<0){this._target[r]=o;return}d=e/i%2,d=l&&d>1?2-d:d,d=this._easing(Math.min(1,Math.max(0,d))),this._target[r]=this._fn(o,u,d)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][e]()}}class CR{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!ce(t))return;const e=Object.keys(un.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const o=t[r];if(!ce(o))return;const l={};for(const u of e)l[u]=o[u];(An(o.properties)&&o.properties||[r]).forEach(u=>{(u===r||!i.has(u))&&i.set(u,l)})})}_animateOptions(t,e){const i=e.options,r=rH(t,i);if(!r)return[];const o=this._createAnimations(r,i);return i.$shared&&iH(t.options.$animations,i).then(()=>{t.options=i},()=>{}),o}_createAnimations(t,e){const i=this._properties,r=[],o=t.$animations||(t.$animations={}),l=Object.keys(e),u=Date.now();let d;for(d=l.length-1;d>=0;--d){const f=l[d];if(f.charAt(0)==="$")continue;if(f==="options"){r.push(...this._animateOptions(t,e));continue}const p=e[f];let y=o[f];const _=i.get(f);if(y)if(_&&y.active()){y.update(_,p,u);continue}else y.cancel();if(!_||!_.duration){t[f]=p;continue}o[f]=y=new nH(_,t,f,p),r.push(y)}return r}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const i=this._createAnimations(t,e);if(i.length)return qs.add(this._chart,i),!0}}function iH(n,t){const e=[],i=Object.keys(t);for(let r=0;r<i.length;r++){const o=n[i[r]];o&&o.active()&&e.push(o.wait())}return Promise.all(e)}function rH(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function jS(n,t){const e=n&&n.options||{},i=e.reverse,r=e.min===void 0?t:0,o=e.max===void 0?t:0;return{start:i?o:r,end:i?r:o}}function sH(n,t,e){if(e===!1)return!1;const i=jS(n,e),r=jS(t,e);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function oH(n){let t,e,i,r;return ce(n)?(t=n.top,e=n.right,i=n.bottom,r=n.left):t=e=i=r=n,{top:t,right:e,bottom:i,left:r,disabled:n===!1}}function DR(n,t){const e=[],i=n._getSortedDatasetMetas(t);let r,o;for(r=0,o=i.length;r<o;++r)e.push(i[r].index);return e}function BS(n,t,e,i={}){const r=n.keys,o=i.mode==="single";let l,u,d,f;if(t===null)return;let p=!1;for(l=0,u=r.length;l<u;++l){if(d=+r[l],d===e){if(p=!0,i.all)continue;break}f=n.values[d],ni(f)&&(o||t===0||la(t)===la(f))&&(t+=f)}return!p&&!i.all?0:t}function aH(n,t){const{iScale:e,vScale:i}=t,r=e.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",l=Object.keys(n),u=new Array(l.length);let d,f,p;for(d=0,f=l.length;d<f;++d)p=l[d],u[d]={[r]:p,[o]:n[p]};return u}function f0(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function lH(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function cH(n){const{min:t,max:e,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}function uH(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function FS(n,t,e,i){for(const r of t.getMatchingVisibleMetas(i).reverse()){const o=n[r.index];if(e&&o>0||!e&&o<0)return r.index}return null}function HS(n,t){const{chart:e,_cachedMeta:i}=n,r=e._stacks||(e._stacks={}),{iScale:o,vScale:l,index:u}=i,d=o.axis,f=l.axis,p=lH(o,l,i),y=t.length;let _;for(let v=0;v<y;++v){const S=t[v],{[d]:A,[f]:E}=S,O=S._stacks||(S._stacks={});_=O[f]=uH(r,p,A),_[u]=E,_._top=FS(_,l,!0,i.type),_._bottom=FS(_,l,!1,i.type);const V=_._visualValues||(_._visualValues={});V[u]=E}}function g0(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function dH(n,t){return bl(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function hH(n,t,e){return bl(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function Gu(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const r of t){const o=r._stacks;if(!o||o[i]===void 0||o[i][e]===void 0)return;delete o[i][e],o[i]._visualValues!==void 0&&o[i]._visualValues[e]!==void 0&&delete o[i]._visualValues[e]}}}const p0=n=>n==="reset"||n==="none",qS=(n,t)=>t?n:Object.assign({},n),fH=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:DR(e,!0),values:null};class IR{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=f0(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&Gu(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),r=(y,_,v,S)=>y==="x"?_:y==="r"?S:v,o=e.xAxisID=Qt(i.xAxisID,g0(t,"x")),l=e.yAxisID=Qt(i.yAxisID,g0(t,"y")),u=e.rAxisID=Qt(i.rAxisID,g0(t,"r")),d=e.indexAxis,f=e.iAxisID=r(d,o,l,u),p=e.vAxisID=r(d,l,o,u);e.xScale=this.getScaleForId(o),e.yScale=this.getScaleForId(l),e.rScale=this.getScaleForId(u),e.iScale=this.getScaleForId(f),e.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&SS(this._data,this),t._stacked&&Gu(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(ce(e)){const r=this._cachedMeta;this._data=aH(e,r)}else if(i!==e){if(i){SS(i,this);const r=this._cachedMeta;Gu(r),r._parsed=[]}e&&Object.isExtensible(e)&&$8(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const o=e._stacked;e._stacked=f0(e.vScale,e),e.stack!==i.stack&&(r=!0,Gu(e),e.stack=i.stack),this._resyncElements(t),(r||o!==e._stacked)&&(HS(this,e._parsed),e._stacked=f0(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:r}=this,{iScale:o,_stacked:l}=i,u=o.axis;let d=t===0&&e===r.length?!0:i._sorted,f=t>0&&i._parsed[t-1],p,y,_;if(this._parsing===!1)i._parsed=r,i._sorted=!0,_=r;else{An(r[t])?_=this.parseArrayData(i,r,t,e):ce(r[t])?_=this.parseObjectData(i,r,t,e):_=this.parsePrimitiveData(i,r,t,e);const v=()=>y[u]===null||f&&y[u]<f[u];for(p=0;p<e;++p)i._parsed[p+t]=y=_[p],d&&(v()&&(d=!1),f=y);i._sorted=d}l&&HS(this,_)}parsePrimitiveData(t,e,i,r){const{iScale:o,vScale:l}=t,u=o.axis,d=l.axis,f=o.getLabels(),p=o===l,y=new Array(r);let _,v,S;for(_=0,v=r;_<v;++_)S=_+i,y[_]={[u]:p||o.parse(f[S],S),[d]:l.parse(e[S],S)};return y}parseArrayData(t,e,i,r){const{xScale:o,yScale:l}=t,u=new Array(r);let d,f,p,y;for(d=0,f=r;d<f;++d)p=d+i,y=e[p],u[d]={x:o.parse(y[0],p),y:l.parse(y[1],p)};return u}parseObjectData(t,e,i,r){const{xScale:o,yScale:l}=t,{xAxisKey:u="x",yAxisKey:d="y"}=this._parsing,f=new Array(r);let p,y,_,v;for(p=0,y=r;p<y;++p)_=p+i,v=e[_],f[p]={x:o.parse(Yg(v,u),_),y:l.parse(Yg(v,d),_)};return f}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const r=this.chart,o=this._cachedMeta,l=e[t.axis],u={keys:DR(r,!0),values:e._stacks[t.axis]._visualValues};return BS(u,l,o.index,{mode:i})}updateRangeFromParsed(t,e,i,r){const o=i[e.axis];let l=o===null?NaN:o;const u=r&&i._stacks[e.axis];r&&u&&(r.values=u,l=BS(r,o,this._cachedMeta.index)),t.min=Math.min(t.min,l),t.max=Math.max(t.max,l)}getMinMax(t,e){const i=this._cachedMeta,r=i._parsed,o=i._sorted&&t===i.iScale,l=r.length,u=this._getOtherScale(t),d=fH(e,i,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:y}=cH(u);let _,v;function S(){v=r[_];const A=v[u.axis];return!ni(v[t.axis])||p>A||y<A}for(_=0;_<l&&!(!S()&&(this.updateRangeFromParsed(f,t,v,d),o));++_);if(o){for(_=l-1;_>=0;--_)if(!S()){this.updateRangeFromParsed(f,t,v,d);break}}return f}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let r,o,l;for(r=0,o=e.length;r<o;++r)l=e[r][t.axis],ni(l)&&i.push(l);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,r=e.vScale,o=this.getParsed(t);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:r?""+r.getLabelForValue(o[r.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=oH(Qt(this.options.clip,sH(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,r=i.data||[],o=e.chartArea,l=[],u=this._drawStart||0,d=this._drawCount||r.length-u,f=this.options.drawActiveElementsOnTop;let p;for(i.dataset&&i.dataset.draw(t,o,u,d),p=u;p<u+d;++p){const y=r[p];y.hidden||(y.active&&f?l.push(y):y.draw(t,o))}for(p=0;p<l.length;++p)l[p].draw(t,o)}getStyle(t,e){const i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const r=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const l=this._cachedMeta.data[t];o=l.$context||(l.$context=hH(this.getContext(),t,l)),o.parsed=this.getParsed(t),o.raw=r.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=dH(this.chart.getContext(),this.index)),o.dataset=r,o.index=o.datasetIndex=this.index;return o.active=!!e,o.mode=i,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const r=e==="active",o=this._cachedDataOpts,l=t+"-"+e,u=o[l],d=this.enableOptionSharing&&$g(i);if(u)return qS(u,d);const f=this.chart.config,p=f.datasetElementScopeKeys(this._type,t),y=r?[`${t}Hover`,"hover",t,""]:[t,""],_=f.getOptionScopes(this.getDataset(),p),v=Object.keys(un.elements[t]),S=()=>this.getContext(i,r,e),A=f.resolveNamedOptions(_,v,S,y);return A.$shared&&(A.$shared=d,o[l]=Object.freeze(qS(A,d))),A}_resolveAnimations(t,e,i){const r=this.chart,o=this._cachedDataOpts,l=`animation-${e}`,u=o[l];if(u)return u;let d;if(r.options.animation!==!1){const p=this.chart.config,y=p.datasetAnimationScopeKeys(this._type,e),_=p.getOptionScopes(this.getDataset(),y);d=p.createResolver(_,this.getContext(t,i,e))}const f=new CR(r,d&&d.animations);return d&&d._cacheable&&(o[l]=Object.freeze(f)),f}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||p0(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),r=this._sharedOptions,o=this.getSharedOptions(i),l=this.includeOptions(e,o)||o!==r;return this.updateSharedOptions(o,e,i),{sharedOptions:o,includeOptions:l}}updateElement(t,e,i,r){p0(r)?Object.assign(t,i):this._resolveAnimations(e,r).update(t,i)}updateSharedOptions(t,e,i){t&&!p0(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,r){t.active=r;const o=this.getStyle(e,r);this._resolveAnimations(e,i,r).update(t,{options:!r&&this.getSharedOptions(o)||o})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[u,d,f]of this._syncList)this[u](d,f);this._syncList=[];const r=i.length,o=e.length,l=Math.min(o,r);l&&this.parse(0,l),o>r?this._insertElements(r,o-r,t):o<r&&this._removeElements(o,r-o)}_insertElements(t,e,i=!0){const r=this._cachedMeta,o=r.data,l=t+e;let u;const d=f=>{for(f.length+=e,u=f.length-1;u>=l;u--)f[u]=f[u-e]};for(d(o),u=t;u<l;++u)o[u]=new this.dataElementType;this._parsing&&d(r._parsed),this.parse(t,e),i&&this.updateElements(o,t,e,"reset")}updateElements(t,e,i,r){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(t,e);i._stacked&&Gu(i,r)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,r]=t;this[e](i,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}class gH extends IR{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:i,data:r=[],_dataset:o}=e,l=this.chart._animationsDisabled;let{start:u,count:d}=K8(e,r,l);this._drawStart=u,this._drawCount=d,Z8(e)&&(u=0,d=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!o._decimated,i.points=r;const f=this.resolveDatasetElementOptions(t);this.options.showLine||(f.borderWidth=0),f.segment=this.options.segment,this.updateElement(i,void 0,{animated:!l,options:f},t),this.updateElements(r,u,d,t)}updateElements(t,e,i,r){const o=r==="reset",{iScale:l,vScale:u,_stacked:d,_dataset:f}=this._cachedMeta,{sharedOptions:p,includeOptions:y}=this._getSharedOptions(e,r),_=l.axis,v=u.axis,{spanGaps:S,segment:A}=this.options,E=Gd(S)?S:Number.POSITIVE_INFINITY,O=this.chart._animationsDisabled||o||r==="none",V=e+i,q=t.length;let Y=e>0&&this.getParsed(e-1);for(let $=0;$<q;++$){const Q=t[$],M=O?Q:{};if($<e||$>=V){M.skip=!0;continue}const D=this.getParsed($),N=Ne(D[v]),L=M[_]=l.getPixelForValue(D[_],$),z=M[v]=o||N?u.getBasePixel():u.getPixelForValue(d?this.applyStack(u,D,d):D[v],$);M.skip=isNaN(L)||isNaN(z)||N,M.stop=$>0&&Math.abs(D[_]-Y[_])>E,A&&(M.parsed=D,M.raw=f.data[$]),y&&(M.options=p||this.resolveDataElementOptions($,Q.active?"active":r)),O||this.updateElement(Q,$,M,r),Y=D}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,i=e.options&&e.options.borderWidth||0,r=t.data||[];if(!r.length)return i;const o=r[0].size(this.resolveDataElementOptions(0)),l=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,o,l)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}function Qa(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class hv{static override(t){Object.assign(hv.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return Qa()}parse(){return Qa()}format(){return Qa()}add(){return Qa()}diff(){return Qa()}startOf(){return Qa()}endOf(){return Qa()}}var RR={_date:hv};function pH(n,t,e,i){const{controller:r,data:o,_sorted:l}=n,u=r._cachedMeta.iScale,d=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(u&&t===u.axis&&t!=="r"&&l&&o.length){const f=u._reversePixels?G8:il;if(i){if(r._sharedOptions){const p=o[0],y=typeof p.getRange=="function"&&p.getRange(t);if(y){const _=f(o,t,e-y),v=f(o,t,e+y);return{lo:_.lo,hi:v.hi}}}}else{const p=f(o,t,e);if(d){const{vScale:y}=r._cachedMeta,{_parsed:_}=n,v=_.slice(0,p.lo+1).reverse().findIndex(A=>!Ne(A[y.axis]));p.lo-=Math.max(0,v);const S=_.slice(p.hi).findIndex(A=>!Ne(A[y.axis]));p.hi+=Math.max(0,S)}return p}}return{lo:0,hi:o.length-1}}function Op(n,t,e,i,r){const o=n.getSortedVisibleDatasetMetas(),l=e[t];for(let u=0,d=o.length;u<d;++u){const{index:f,data:p}=o[u],{lo:y,hi:_}=pH(o[u],t,l,r);for(let v=y;v<=_;++v){const S=p[v];S.skip||i(S,f,v)}}}function mH(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,r){const o=t?Math.abs(i.x-r.x):0,l=e?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(l,2))}}function m0(n,t,e,i,r){const o=[];return!r&&!n.isPointInArea(t)||Op(n,e,t,function(u,d,f){!r&&!Oc(u,n.chartArea,0)||u.inRange(t.x,t.y,i)&&o.push({element:u,datasetIndex:d,index:f})},!0),o}function yH(n,t,e,i){let r=[];function o(l,u,d){const{startAngle:f,endAngle:p}=l.getProps(["startAngle","endAngle"],i),{angle:y}=F8(l,{x:t.x,y:t.y});lR(y,f,p)&&r.push({element:l,datasetIndex:u,index:d})}return Op(n,e,t,o),r}function bH(n,t,e,i,r,o){let l=[];const u=mH(e);let d=Number.POSITIVE_INFINITY;function f(p,y,_){const v=p.inRange(t.x,t.y,r);if(i&&!v)return;const S=p.getCenterPoint(r);if(!(!!o||n.isPointInArea(S))&&!v)return;const E=u(t,S);E<d?(l=[{element:p,datasetIndex:y,index:_}],d=E):E===d&&l.push({element:p,datasetIndex:y,index:_})}return Op(n,e,t,f),l}function y0(n,t,e,i,r,o){return!o&&!n.isPointInArea(t)?[]:e==="r"&&!i?yH(n,t,e,r):bH(n,t,e,i,r,o)}function GS(n,t,e,i,r){const o=[],l=e==="x"?"inXRange":"inYRange";let u=!1;return Op(n,e,t,(d,f,p)=>{d[l]&&d[l](t[e],r)&&(o.push({element:d,datasetIndex:f,index:p}),u=u||d.inRange(t.x,t.y,r))}),i&&!u?[]:o}var _H={modes:{index(n,t,e,i){const r=as(t,n),o=e.axis||"x",l=e.includeInvisible||!1,u=e.intersect?m0(n,r,o,i,l):y0(n,r,o,!1,i,l),d=[];return u.length?(n.getSortedVisibleDatasetMetas().forEach(f=>{const p=u[0].index,y=f.data[p];y&&!y.skip&&d.push({element:y,datasetIndex:f.index,index:p})}),d):[]},dataset(n,t,e,i){const r=as(t,n),o=e.axis||"xy",l=e.includeInvisible||!1;let u=e.intersect?m0(n,r,o,i,l):y0(n,r,o,!1,i,l);if(u.length>0){const d=u[0].datasetIndex,f=n.getDatasetMeta(d).data;u=[];for(let p=0;p<f.length;++p)u.push({element:f[p],datasetIndex:d,index:p})}return u},point(n,t,e,i){const r=as(t,n),o=e.axis||"xy",l=e.includeInvisible||!1;return m0(n,r,o,i,l)},nearest(n,t,e,i){const r=as(t,n),o=e.axis||"xy",l=e.includeInvisible||!1;return y0(n,r,o,e.intersect,i,l)},x(n,t,e,i){const r=as(t,n);return GS(n,r,"x",e.intersect,i)},y(n,t,e,i){const r=as(t,n);return GS(n,r,"y",e.intersect,i)}}};const NR=["left","top","right","bottom"];function Yu(n,t){return n.filter(e=>e.pos===t)}function YS(n,t){return n.filter(e=>NR.indexOf(e.pos)===-1&&e.box.axis===t)}function $u(n,t){return n.sort((e,i)=>{const r=t?i:e,o=t?e:i;return r.weight===o.weight?r.index-o.index:r.weight-o.weight})}function vH(n){const t=[];let e,i,r,o,l,u;for(e=0,i=(n||[]).length;e<i;++e)r=n[e],{position:o,options:{stack:l,stackWeight:u=1}}=r,t.push({index:e,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:l&&o+l,stackWeight:u});return t}function xH(n){const t={};for(const e of n){const{stack:i,pos:r,stackWeight:o}=e;if(!i||!NR.includes(r))continue;const l=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=o}return t}function wH(n,t){const e=xH(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let o,l,u;for(o=0,l=n.length;o<l;++o){u=n[o];const{fullSize:d}=u.box,f=e[u.stack],p=f&&u.stackWeight/f.weight;u.horizontal?(u.width=p?p*i:d&&t.availableWidth,u.height=r):(u.width=i,u.height=p?p*r:d&&t.availableHeight)}return e}function TH(n){const t=vH(n),e=$u(t.filter(f=>f.box.fullSize),!0),i=$u(Yu(t,"left"),!0),r=$u(Yu(t,"right")),o=$u(Yu(t,"top"),!0),l=$u(Yu(t,"bottom")),u=YS(t,"x"),d=YS(t,"y");return{fullSize:e,leftAndTop:i.concat(o),rightAndBottom:r.concat(d).concat(l).concat(u),chartArea:Yu(t,"chartArea"),vertical:i.concat(r).concat(d),horizontal:o.concat(l).concat(u)}}function $S(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function MR(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function EH(n,t,e,i){const{pos:r,box:o}=e,l=n.maxPadding;if(!ce(r)){e.size&&(n[r]-=e.size);const y=i[e.stack]||{size:0,count:1};y.size=Math.max(y.size,e.horizontal?o.height:o.width),e.size=y.size/y.count,n[r]+=e.size}o.getPadding&&MR(l,o.getPadding());const u=Math.max(0,t.outerWidth-$S(l,n,"left","right")),d=Math.max(0,t.outerHeight-$S(l,n,"top","bottom")),f=u!==n.w,p=d!==n.h;return n.w=u,n.h=d,e.horizontal?{same:f,other:p}:{same:p,other:f}}function SH(n){const t=n.maxPadding;function e(i){const r=Math.max(t[i]-n[i],0);return n[i]+=r,r}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function AH(n,t){const e=t.maxPadding;function i(r){const o={left:0,top:0,right:0,bottom:0};return r.forEach(l=>{o[l]=Math.max(t[l],e[l])}),o}return i(n?["left","right"]:["top","bottom"])}function od(n,t,e,i){const r=[];let o,l,u,d,f,p;for(o=0,l=n.length,f=0;o<l;++o){u=n[o],d=u.box,d.update(u.width||t.w,u.height||t.h,AH(u.horizontal,t));const{same:y,other:_}=EH(t,e,u,i);f|=y&&r.length,p=p||_,d.fullSize||r.push(u)}return f&&od(r,t,e,i)||p}function $f(n,t,e,i,r){n.top=e,n.left=t,n.right=t+i,n.bottom=e+r,n.width=i,n.height=r}function WS(n,t,e,i){const r=e.padding;let{x:o,y:l}=t;for(const u of n){const d=u.box,f=i[u.stack]||{placed:0,weight:1},p=u.stackWeight/f.weight||1;if(u.horizontal){const y=t.w*p,_=f.size||d.height;$g(f.start)&&(l=f.start),d.fullSize?$f(d,r.left,l,e.outerWidth-r.right-r.left,_):$f(d,t.left+f.placed,l,y,_),f.start=l,f.placed+=y,l=d.bottom}else{const y=t.h*p,_=f.size||d.width;$g(f.start)&&(o=f.start),d.fullSize?$f(d,o,r.top,_,e.outerHeight-r.bottom-r.top):$f(d,o,t.top+f.placed,_,y),f.start=o,f.placed+=y,o=d.right}}t.x=o,t.y=l}var _r={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const r=xr(n.options.layout.padding),o=Math.max(t-r.width,0),l=Math.max(e-r.height,0),u=TH(n.boxes),d=u.vertical,f=u.horizontal;te(n.boxes,A=>{typeof A.beforeLayout=="function"&&A.beforeLayout()});const p=d.reduce((A,E)=>E.box.options&&E.box.options.display===!1?A:A+1,0)||1,y=Object.freeze({outerWidth:t,outerHeight:e,padding:r,availableWidth:o,availableHeight:l,vBoxMaxWidth:o/2/p,hBoxMaxHeight:l/2}),_=Object.assign({},r);MR(_,xr(i));const v=Object.assign({maxPadding:_,w:o,h:l,x:r.left,y:r.top},r),S=wH(d.concat(f),y);od(u.fullSize,v,y,S),od(d,v,y,S),od(f,v,y,S)&&od(d,v,y,S),SH(v),WS(u.leftAndTop,v,y,S),v.x+=v.w,v.y+=v.h,WS(u.rightAndBottom,v,y,S),n.chartArea={left:v.left,top:v.top,right:v.left+v.w,bottom:v.top+v.h,height:v.h,width:v.w},te(u.chartArea,A=>{const E=A.box;Object.assign(E,n.chartArea),E.update(v.w,v.h,{left:0,top:0,right:0,bottom:0})})}};class OR{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,r){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):i)}}isAttached(t){return!0}updateConfig(t){}}class CH extends OR{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const fg="$chartjs",DH={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},XS=n=>n===null||n==="";function IH(n,t){const e=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[fg]={initial:{height:i,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",XS(r)){const o=PS(n,"width");o!==void 0&&(n.width=o)}if(XS(i))if(n.style.height==="")n.height=n.width/(t||2);else{const o=PS(n,"height");o!==void 0&&(n.height=o)}return n}const kR=FF?{passive:!0}:!1;function RH(n,t,e){n&&n.addEventListener(t,e,kR)}function NH(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,kR)}function MH(n,t){const e=DH[n.type]||n.type,{x:i,y:r}=as(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:r!==void 0?r:null}}function Qg(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function OH(n,t,e){const i=n.canvas,r=new MutationObserver(o=>{let l=!1;for(const u of o)l=l||Qg(u.addedNodes,i),l=l&&!Qg(u.removedNodes,i);l&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function kH(n,t,e){const i=n.canvas,r=new MutationObserver(o=>{let l=!1;for(const u of o)l=l||Qg(u.removedNodes,i),l=l&&!Qg(u.addedNodes,i);l&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}const $d=new Map;let QS=0;function PR(){const n=window.devicePixelRatio;n!==QS&&(QS=n,$d.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function PH(n,t){$d.size||window.addEventListener("resize",PR),$d.set(n,t)}function zH(n){$d.delete(n),$d.size||window.removeEventListener("resize",PR)}function LH(n,t,e){const i=n.canvas,r=i&&dv(i);if(!r)return;const o=dR((u,d)=>{const f=r.clientWidth;e(u,d),f<r.clientWidth&&e()},window),l=new ResizeObserver(u=>{const d=u[0],f=d.contentRect.width,p=d.contentRect.height;f===0&&p===0||o(f,p)});return l.observe(r),PH(n,o),l}function b0(n,t,e){e&&e.disconnect(),t==="resize"&&zH(n)}function VH(n,t,e){const i=n.canvas,r=dR(o=>{n.ctx!==null&&e(MH(o,n))},n);return RH(i,t,r),r}class UH extends OR{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(IH(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[fg])return!1;const i=e[fg].initial;["height","width"].forEach(o=>{const l=i[o];Ne(l)?e.removeAttribute(o):e.setAttribute(o,l)});const r=i.style||{};return Object.keys(r).forEach(o=>{e.style[o]=r[o]}),e.width=e.width,delete e[fg],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const r=t.$proxies||(t.$proxies={}),l={attach:OH,detach:kH,resize:LH}[e]||VH;r[e]=l(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),r=i[e];if(!r)return;({attach:b0,detach:b0,resize:b0}[e]||NH)(t,e,r),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,r){return BF(t,e,i,r)}isAttached(t){const e=t&&dv(t);return!!(e&&e.isConnected)}}function jH(n){return!uv()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?CH:UH}let _l=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return Gd(this.x)&&Gd(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const r={};return t.forEach(o=>{r[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),r}};function BH(n,t){const e=n.options.ticks,i=FH(n),r=Math.min(e.maxTicksLimit||i,i),o=e.major.enabled?qH(t):[],l=o.length,u=o[0],d=o[l-1],f=[];if(l>r)return GH(t,f,o,l/r),f;const p=HH(o,t,r);if(l>0){let y,_;const v=l>1?Math.round((d-u)/(l-1)):null;for(Wf(t,f,p,Ne(v)?0:u-v,u),y=0,_=l-1;y<_;y++)Wf(t,f,p,o[y],o[y+1]);return Wf(t,f,p,d,Ne(v)?t.length:d+v),f}return Wf(t,f,p),f}function FH(n){const t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),r=n._maxLength/e;return Math.floor(Math.min(i,r))}function HH(n,t,e){const i=YH(n),r=t.length/e;if(!i)return Math.max(r,1);const o=L8(i);for(let l=0,u=o.length-1;l<u;l++){const d=o[l];if(d>r)return d}return Math.max(r,1)}function qH(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function GH(n,t,e,i){let r=0,o=e[0],l;for(i=Math.ceil(i),l=0;l<n.length;l++)l===o&&(t.push(n[l]),r++,o=e[r*i])}function Wf(n,t,e,i,r){const o=Qt(i,0),l=Math.min(Qt(r,n.length),n.length);let u=0,d,f,p;for(e=Math.ceil(e),r&&(d=r-i,e=d/Math.floor(d/e)),p=o;p<0;)u++,p=Math.round(o+u*e);for(f=Math.max(o,0);f<l;f++)f===p&&(t.push(n[f]),u++,p=Math.round(o+u*e))}function YH(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}const $H=n=>n==="left"?"right":n==="right"?"left":n,KS=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,ZS=(n,t)=>Math.min(t||n,n);function JS(n,t){const e=[],i=n.length/t,r=n.length;let o=0;for(;o<r;o+=i)e.push(n[Math.floor(o)]);return e}function WH(n,t,e){const i=n.ticks.length,r=Math.min(t,i-1),o=n._startPixel,l=n._endPixel,u=1e-6;let d=n.getPixelForTick(r),f;if(!(e&&(i===1?f=Math.max(d-o,l-d):t===0?f=(n.getPixelForTick(1)-d)/2:f=(d-n.getPixelForTick(r-1))/2,d+=r<t?f:-f,d<o-u||d>l+u)))return d}function XH(n,t){te(n,e=>{const i=e.gc,r=i.length/2;let o;if(r>t){for(o=0;o<r;++o)delete e.data[i[o]];i.splice(0,r)}})}function Wu(n){return n.drawTicks?n.tickLength:0}function tA(n,t){if(!n.display)return 0;const e=ti(n.font,t),i=xr(n.padding);return(An(n.text)?n.text.length:1)*e.lineHeight+i.height}function QH(n,t){return bl(n,{scale:t,type:"scale"})}function KH(n,t,e){return bl(n,{tick:e,index:t,type:"tick"})}function ZH(n,t,e){let i=sv(n);return(e&&t!=="right"||!e&&t==="right")&&(i=$H(i)),i}function JH(n,t,e,i){const{top:r,left:o,bottom:l,right:u,chart:d}=n,{chartArea:f,scales:p}=d;let y=0,_,v,S;const A=l-r,E=u-o;if(n.isHorizontal()){if(v=Kn(i,o,u),ce(e)){const O=Object.keys(e)[0],V=e[O];S=p[O].getPixelForValue(V)+A-t}else e==="center"?S=(f.bottom+f.top)/2+A-t:S=KS(n,e,t);_=u-o}else{if(ce(e)){const O=Object.keys(e)[0],V=e[O];v=p[O].getPixelForValue(V)-E+t}else e==="center"?v=(f.left+f.right)/2-E+t:v=KS(n,e,t);S=Kn(i,l,r),y=e==="left"?-Lr:Lr}return{titleX:v,titleY:S,maxWidth:_,rotation:y}}class Wc extends _l{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:r}=this;return t=ns(t,Number.POSITIVE_INFINITY),e=ns(e,Number.NEGATIVE_INFINITY),i=ns(i,Number.POSITIVE_INFINITY),r=ns(r,Number.NEGATIVE_INFINITY),{min:ns(t,i),max:ns(e,r),minDefined:ni(t),maxDefined:ni(e)}}getMinMax(t){let{min:e,max:i,minDefined:r,maxDefined:o}=this.getUserBounds(),l;if(r&&o)return{min:e,max:i};const u=this.getMatchingVisibleMetas();for(let d=0,f=u.length;d<f;++d)l=u[d].controller.getMinMax(this,t),r||(e=Math.min(e,l.min)),o||(i=Math.max(i,l.max));return e=o&&e>i?i:e,i=r&&e>i?e:i,{min:ns(e,ns(i,e)),max:ns(i,ns(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ut(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:r,grace:o,ticks:l}=this.options,u=l.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=_F(this,o,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const d=u<this.ticks.length;this._convertTicksToLabels(d?JS(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=BH(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),d&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ut(this.options.afterUpdate,[this])}beforeSetDimensions(){Ut(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ut(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),Ut(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ut(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,r,o;for(i=0,r=t.length;i<r;i++)o=t[i],o.label=Ut(e.callback,[o.value,i,t],this)}afterTickToLabelConversion(){Ut(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ut(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=ZS(this.ticks.length,t.ticks.maxTicksLimit),r=e.minRotation||0,o=e.maxRotation;let l=r,u,d,f;if(!this._isVisible()||!e.display||r>=o||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const p=this._getLabelSizes(),y=p.widest.width,_=p.highest.height,v=br(this.chart.width-y,0,this.maxWidth);u=t.offset?this.maxWidth/i:v/(i-1),y+6>u&&(u=v/(i-(t.offset?.5:1)),d=this.maxHeight-Wu(t.grid)-e.padding-tA(t.title,this.chart.options.font),f=Math.sqrt(y*y+_*_),l=B8(Math.min(Math.asin(br((p.highest.height+6)/u,-1,1)),Math.asin(br(d/f,-1,1))-Math.asin(br(_/f,-1,1)))),l=Math.max(r,Math.min(o,l))),this.labelRotation=l}afterCalculateLabelRotation(){Ut(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ut(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:r,grid:o}}=this,l=this._isVisible(),u=this.isHorizontal();if(l){const d=tA(r,e.options.font);if(u?(t.width=this.maxWidth,t.height=Wu(o)+d):(t.height=this.maxHeight,t.width=Wu(o)+d),i.display&&this.ticks.length){const{first:f,last:p,widest:y,highest:_}=this._getLabelSizes(),v=i.padding*2,S=nl(this.labelRotation),A=Math.cos(S),E=Math.sin(S);if(u){const O=i.mirror?0:E*y.width+A*_.height;t.height=Math.min(this.maxHeight,t.height+O+v)}else{const O=i.mirror?0:A*y.width+E*_.height;t.width=Math.min(this.maxWidth,t.width+O+v)}this._calculatePadding(f,p,E,A)}}this._handleMargins(),u?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,r){const{ticks:{align:o,padding:l},position:u}=this.options,d=this.labelRotation!==0,f=u!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,y=this.right-this.getPixelForTick(this.ticks.length-1);let _=0,v=0;d?f?(_=r*t.width,v=i*e.height):(_=i*t.height,v=r*e.width):o==="start"?v=e.width:o==="end"?_=t.width:o!=="inner"&&(_=t.width/2,v=e.width/2),this.paddingLeft=Math.max((_-p+l)*this.width/(this.width-p),0),this.paddingRight=Math.max((v-y+l)*this.width/(this.width-y),0)}else{let p=e.height/2,y=t.height/2;o==="start"?(p=0,y=t.height):o==="end"&&(p=e.height,y=0),this.paddingTop=p+l,this.paddingBottom=y+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ut(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)Ne(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=JS(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:r,_longestTextCache:o}=this,l=[],u=[],d=Math.floor(e/ZS(e,i));let f=0,p=0,y,_,v,S,A,E,O,V,q,Y,$;for(y=0;y<e;y+=d){if(S=t[y].label,A=this._resolveTickFontOptions(y),r.font=E=A.string,O=o[E]=o[E]||{data:{},gc:[]},V=A.lineHeight,q=Y=0,!Ne(S)&&!An(S))q=RS(r,O.data,O.gc,q,S),Y=V;else if(An(S))for(_=0,v=S.length;_<v;++_)$=S[_],!Ne($)&&!An($)&&(q=RS(r,O.data,O.gc,q,$),Y+=V);l.push(q),u.push(Y),f=Math.max(q,f),p=Math.max(Y,p)}XH(o,e);const Q=l.indexOf(f),M=u.indexOf(p),D=N=>({width:l[N]||0,height:u[N]||0});return{first:D(0),last:D(e-1),widest:D(Q),highest:D(M),widths:l,heights:u}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return q8(this._alignToPixels?Xa(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=KH(this.getContext(),t,i))}return this.$context||(this.$context=QH(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=nl(this.labelRotation),i=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),o=this._getLabelSizes(),l=t.autoSkipPadding||0,u=o?o.widest.width+l:0,d=o?o.highest.height+l:0;return this.isHorizontal()?d*i>u*r?u/i:d/r:d*r<u*i?d/i:u/r}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,r=this.options,{grid:o,position:l,border:u}=r,d=o.offset,f=this.isHorizontal(),y=this.ticks.length+(d?1:0),_=Wu(o),v=[],S=u.setContext(this.getContext()),A=S.display?S.width:0,E=A/2,O=function(tt){return Xa(i,tt,A)};let V,q,Y,$,Q,M,D,N,L,z,B,U;if(l==="top")V=O(this.bottom),M=this.bottom-_,N=V-E,z=O(t.top)+E,U=t.bottom;else if(l==="bottom")V=O(this.top),z=t.top,U=O(t.bottom)-E,M=V+E,N=this.top+_;else if(l==="left")V=O(this.right),Q=this.right-_,D=V-E,L=O(t.left)+E,B=t.right;else if(l==="right")V=O(this.left),L=t.left,B=O(t.right)-E,Q=V+E,D=this.left+_;else if(e==="x"){if(l==="center")V=O((t.top+t.bottom)/2+.5);else if(ce(l)){const tt=Object.keys(l)[0],ft=l[tt];V=O(this.chart.scales[tt].getPixelForValue(ft))}z=t.top,U=t.bottom,M=V+E,N=M+_}else if(e==="y"){if(l==="center")V=O((t.left+t.right)/2);else if(ce(l)){const tt=Object.keys(l)[0],ft=l[tt];V=O(this.chart.scales[tt].getPixelForValue(ft))}Q=V-E,D=Q-_,L=t.left,B=t.right}const Ot=Qt(r.ticks.maxTicksLimit,y),St=Math.max(1,Math.ceil(y/Ot));for(q=0;q<y;q+=St){const tt=this.getContext(q),ft=o.setContext(tt),xt=u.setContext(tt),Mt=ft.lineWidth,Pt=ft.color,H=xt.dash||[],st=xt.dashOffset,gt=ft.tickWidth,pt=ft.tickColor,Tt=ft.tickBorderDash||[],Dt=ft.tickBorderDashOffset;Y=WH(this,q,d),Y!==void 0&&($=Xa(i,Y,Mt),f?Q=D=L=B=$:M=N=z=U=$,v.push({tx1:Q,ty1:M,tx2:D,ty2:N,x1:L,y1:z,x2:B,y2:U,width:Mt,color:Pt,borderDash:H,borderDashOffset:st,tickWidth:gt,tickColor:pt,tickBorderDash:Tt,tickBorderDashOffset:Dt}))}return this._ticksLength=y,this._borderValue=V,v}_computeLabelItems(t){const e=this.axis,i=this.options,{position:r,ticks:o}=i,l=this.isHorizontal(),u=this.ticks,{align:d,crossAlign:f,padding:p,mirror:y}=o,_=Wu(i.grid),v=_+p,S=y?-p:v,A=-nl(this.labelRotation),E=[];let O,V,q,Y,$,Q,M,D,N,L,z,B,U="middle";if(r==="top")Q=this.bottom-S,M=this._getXAxisLabelAlignment();else if(r==="bottom")Q=this.top+S,M=this._getXAxisLabelAlignment();else if(r==="left"){const St=this._getYAxisLabelAlignment(_);M=St.textAlign,$=St.x}else if(r==="right"){const St=this._getYAxisLabelAlignment(_);M=St.textAlign,$=St.x}else if(e==="x"){if(r==="center")Q=(t.top+t.bottom)/2+v;else if(ce(r)){const St=Object.keys(r)[0],tt=r[St];Q=this.chart.scales[St].getPixelForValue(tt)+v}M=this._getXAxisLabelAlignment()}else if(e==="y"){if(r==="center")$=(t.left+t.right)/2-v;else if(ce(r)){const St=Object.keys(r)[0],tt=r[St];$=this.chart.scales[St].getPixelForValue(tt)}M=this._getYAxisLabelAlignment(_).textAlign}e==="y"&&(d==="start"?U="top":d==="end"&&(U="bottom"));const Ot=this._getLabelSizes();for(O=0,V=u.length;O<V;++O){q=u[O],Y=q.label;const St=o.setContext(this.getContext(O));D=this.getPixelForTick(O)+o.labelOffset,N=this._resolveTickFontOptions(O),L=N.lineHeight,z=An(Y)?Y.length:1;const tt=z/2,ft=St.color,xt=St.textStrokeColor,Mt=St.textStrokeWidth;let Pt=M;l?($=D,M==="inner"&&(O===V-1?Pt=this.options.reverse?"left":"right":O===0?Pt=this.options.reverse?"right":"left":Pt="center"),r==="top"?f==="near"||A!==0?B=-z*L+L/2:f==="center"?B=-Ot.highest.height/2-tt*L+L:B=-Ot.highest.height+L/2:f==="near"||A!==0?B=L/2:f==="center"?B=Ot.highest.height/2-tt*L:B=Ot.highest.height-z*L,y&&(B*=-1),A!==0&&!St.showLabelBackdrop&&($+=L/2*Math.sin(A))):(Q=D,B=(1-z)*L/2);let H;if(St.showLabelBackdrop){const st=xr(St.backdropPadding),gt=Ot.heights[O],pt=Ot.widths[O];let Tt=B-st.top,Dt=0-st.left;switch(U){case"middle":Tt-=gt/2;break;case"bottom":Tt-=gt;break}switch(M){case"center":Dt-=pt/2;break;case"right":Dt-=pt;break;case"inner":O===V-1?Dt-=pt:O>0&&(Dt-=pt/2);break}H={left:Dt,top:Tt,width:pt+st.width,height:gt+st.height,color:St.backdropColor}}E.push({label:Y,font:N,textOffset:B,options:{rotation:A,color:ft,strokeColor:xt,strokeWidth:Mt,textAlign:Pt,textBaseline:U,translation:[$,Q],backdrop:H}})}return E}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-nl(this.labelRotation))return t==="top"?"left":"right";let r="center";return e.align==="start"?r="left":e.align==="end"?r="right":e.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:r,padding:o}}=this.options,l=this._getLabelSizes(),u=t+o,d=l.widest.width;let f,p;return e==="left"?r?(p=this.right+o,i==="near"?f="left":i==="center"?(f="center",p+=d/2):(f="right",p+=d)):(p=this.right-u,i==="near"?f="right":i==="center"?(f="center",p-=d/2):(f="left",p=this.left)):e==="right"?r?(p=this.left+o,i==="near"?f="right":i==="center"?(f="center",p-=d/2):(f="left",p-=d)):(p=this.left+u,i==="near"?f="left":i==="center"?(f="center",p+=d/2):(f="right",p=this.right)):f="right",{textAlign:f,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:r,width:o,height:l}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,r,o,l),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const r=this.ticks.findIndex(o=>o.value===t);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,l;const u=(d,f,p)=>{!p.width||!p.color||(i.save(),i.lineWidth=p.width,i.strokeStyle=p.color,i.setLineDash(p.borderDash||[]),i.lineDashOffset=p.borderDashOffset,i.beginPath(),i.moveTo(d.x,d.y),i.lineTo(f.x,f.y),i.stroke(),i.restore())};if(e.display)for(o=0,l=r.length;o<l;++o){const d=r[o];e.drawOnChartArea&&u({x:d.x1,y:d.y1},{x:d.x2,y:d.y2},d),e.drawTicks&&u({x:d.tx1,y:d.ty1},{x:d.tx2,y:d.ty2},{color:d.tickColor,width:d.tickWidth,borderDash:d.tickBorderDash,borderDashOffset:d.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:r}}=this,o=i.setContext(this.getContext()),l=i.display?o.width:0;if(!l)return;const u=r.setContext(this.getContext(0)).lineWidth,d=this._borderValue;let f,p,y,_;this.isHorizontal()?(f=Xa(t,this.left,l)-l/2,p=Xa(t,this.right,u)+u/2,y=_=d):(y=Xa(t,this.top,l)-l/2,_=Xa(t,this.bottom,u)+u/2,f=p=d),e.save(),e.lineWidth=o.width,e.strokeStyle=o.color,e.beginPath(),e.moveTo(f,y),e.lineTo(p,_),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&Rp(i,r);const o=this.getLabelItems(t);for(const l of o){const u=l.options,d=l.font,f=l.label,p=l.textOffset;Yd(i,f,0,p,d,u)}r&&Np(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:r}}=this;if(!i.display)return;const o=ti(i.font),l=xr(i.padding),u=i.align;let d=o.lineHeight/2;e==="bottom"||e==="center"||ce(e)?(d+=l.bottom,An(i.text)&&(d+=o.lineHeight*(i.text.length-1))):d+=l.top;const{titleX:f,titleY:p,maxWidth:y,rotation:_}=JH(this,d,e,u);Yd(t,i.text,0,0,o,{color:i.color,maxWidth:y,rotation:_,textAlign:ZH(u,e,r),textBaseline:"middle",translation:[f,p]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=Qt(t.grid&&t.grid.z,-1),r=Qt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Wc.prototype.draw?[{z:e,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let o,l;for(o=0,l=e.length;o<l;++o){const u=e[o];u[i]===this.id&&(!t||u.type===t)&&r.push(u)}return r}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return ti(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class Xf{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;n7(e)&&(i=this.register(e));const r=this.items,o=t.id,l=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in r||(r[o]=t,t7(t,l,i),this.override&&un.override(t.id,t.overrides)),l}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,r=this.scope;i in e&&delete e[i],r&&i in un[r]&&(delete un[r][i],this.override&&delete pl[i])}}function t7(n,t,e){const i=qd(Object.create(null),[e?un.get(e):{},un.get(t),n.defaults]);un.set(t,i),n.defaultRoutes&&e7(t,n.defaultRoutes),n.descriptors&&un.describe(t,n.descriptors)}function e7(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),r=i.pop(),o=[n].concat(i).join("."),l=t[e].split("."),u=l.pop(),d=l.join(".");un.route(o,r,d,u)})}function n7(n){return"id"in n&&"defaults"in n}class i7{constructor(){this.controllers=new Xf(IR,"datasets",!0),this.elements=new Xf(_l,"elements"),this.plugins=new Xf(Object,"plugins"),this.scales=new Xf(Wc,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(r=>{const o=i||this._getRegistryForType(r);i||o.isForType(r)||o===this.plugins&&r.id?this._exec(t,o,r):te(r,l=>{const u=i||this._getRegistryForType(l);this._exec(t,u,l)})})}_exec(t,e,i){const r=iv(t);Ut(i["before"+r],[],i),e[t](i),Ut(i["after"+r],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const r=e.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return r}}var rs=new i7;class r7{constructor(){this._init=void 0}notify(t,e,i,r){if(e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install")),this._init===void 0)return;const o=r?this._descriptors(t).filter(r):this._descriptors(t),l=this._notify(o,t,e,i);return e==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall"),this._init=void 0),l}_notify(t,e,i,r){r=r||{};for(const o of t){const l=o.plugin,u=l[i],d=[e,r,o.options];if(Ut(u,d,l)===!1&&r.cancelable)return!1}return!0}invalidate(){Ne(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,r=Qt(i.options&&i.options.plugins,{}),o=s7(i);return r===!1&&!e?[]:a7(t,o,r,e)}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,r=(o,l)=>o.filter(u=>!l.some(d=>u.plugin.id===d.plugin.id));this._notify(r(e,i),t,"stop"),this._notify(r(i,e),t,"start")}}function s7(n){const t={},e=[],i=Object.keys(rs.plugins.items);for(let o=0;o<i.length;o++)e.push(rs.getPlugin(i[o]));const r=n.plugins||[];for(let o=0;o<r.length;o++){const l=r[o];e.indexOf(l)===-1&&(e.push(l),t[l.id]=!0)}return{plugins:e,localIds:t}}function o7(n,t){return!t&&n===!1?null:n===!0?{}:n}function a7(n,{plugins:t,localIds:e},i,r){const o=[],l=n.getContext();for(const u of t){const d=u.id,f=o7(i[d],r);f!==null&&o.push({plugin:u,options:l7(n.config,{plugin:u,local:e[d]},f,l)})}return o}function l7(n,{plugin:t,local:e},i,r){const o=n.pluginScopeKeys(t),l=n.getOptionScopes(i,o);return e&&t.defaults&&l.push(t.defaults),n.createResolver(l,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function mb(n,t){const e=un.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function c7(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function u7(n,t){return n===t?"_index_":"_value_"}function eA(n){if(n==="x"||n==="y"||n==="r")return n}function d7(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function yb(n,...t){if(eA(n))return n;for(const e of t){const i=e.axis||d7(e.position)||n.length>1&&eA(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function nA(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function h7(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return nA(n,"x",e[0])||nA(n,"y",e[0])}return{}}function f7(n,t){const e=pl[n.type]||{scales:{}},i=t.scales||{},r=mb(n.type,t),o=Object.create(null);return Object.keys(i).forEach(l=>{const u=i[l];if(!ce(u))return console.error(`Invalid scale configuration for scale: ${l}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const d=yb(l,u,h7(l,n),un.scales[u.type]),f=u7(d,r),p=e.scales||{};o[l]=yd(Object.create(null),[{axis:d},u,p[d],p[f]])}),n.data.datasets.forEach(l=>{const u=l.type||n.type,d=l.indexAxis||mb(u,t),p=(pl[u]||{}).scales||{};Object.keys(p).forEach(y=>{const _=c7(y,d),v=l[_+"AxisID"]||_;o[v]=o[v]||Object.create(null),yd(o[v],[{axis:_},i[v],p[y]])})}),Object.keys(o).forEach(l=>{const u=o[l];yd(u,[un.scales[u.type],un.scale])}),o}function zR(n){const t=n.options||(n.options={});t.plugins=Qt(t.plugins,{}),t.scales=f7(n,t)}function LR(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function g7(n){return n=n||{},n.data=LR(n.data),zR(n),n}const iA=new Map,VR=new Set;function Qf(n,t){let e=iA.get(n);return e||(e=t(),iA.set(n,e),VR.add(e)),e}const Xu=(n,t,e)=>{const i=Yg(t,e);i!==void 0&&n.add(i)};class p7{constructor(t){this._config=g7(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=LR(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),zR(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return Qf(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return Qf(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return Qf(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,i=this.type;return Qf(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let r=i.get(t);return(!r||e)&&(r=new Map,i.set(t,r)),r}getOptionScopes(t,e,i){const{options:r,type:o}=this,l=this._cachedScopes(t,i),u=l.get(e);if(u)return u;const d=new Set;e.forEach(p=>{t&&(d.add(t),p.forEach(y=>Xu(d,t,y))),p.forEach(y=>Xu(d,r,y)),p.forEach(y=>Xu(d,pl[o]||{},y)),p.forEach(y=>Xu(d,un,y)),p.forEach(y=>Xu(d,fb,y))});const f=Array.from(d);return f.length===0&&f.push(Object.create(null)),VR.has(e)&&l.set(e,f),f}chartOptionScopes(){const{options:t,type:e}=this;return[t,pl[e]||{},un.datasets[e]||{},{type:e},un,fb]}resolveNamedOptions(t,e,i,r=[""]){const o={$shared:!0},{resolver:l,subPrefixes:u}=rA(this._resolverCache,t,r);let d=l;if(y7(l,e)){o.$shared=!1,i=aa(i)?i():i;const f=this.createResolver(t,i,u);d=kc(l,i,f)}for(const f of e)o[f]=d[f];return o}createResolver(t,e,i=[""],r){const{resolver:o}=rA(this._resolverCache,t,i);return ce(e)?kc(o,e,void 0,r):o}}function rA(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const r=e.join();let o=i.get(r);return o||(o={resolver:av(t,e),subPrefixes:e.filter(u=>!u.toLowerCase().includes("hover"))},i.set(r,o)),o}const m7=n=>ce(n)&&Object.getOwnPropertyNames(n).some(t=>aa(n[t]));function y7(n,t){const{isScriptable:e,isIndexable:i}=mR(n);for(const r of t){const o=e(r),l=i(r),u=(l||o)&&n[r];if(o&&(aa(u)||m7(u))||l&&An(u))return!0}return!1}var b7="4.5.1";const _7=["top","bottom","left","right","chartArea"];function sA(n,t){return n==="top"||n==="bottom"||_7.indexOf(n)===-1&&t==="x"}function oA(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function aA(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),Ut(e&&e.onComplete,[n],t)}function v7(n){const t=n.chart,e=t.options.animation;Ut(e&&e.onProgress,[n],t)}function UR(n){return uv()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const gg={},lA=n=>{const t=UR(n);return Object.values(gg).filter(e=>e.canvas===t).pop()};function x7(n,t,e){const i=Object.keys(n);for(const r of i){const o=+r;if(o>=t){const l=n[r];delete n[r],(e>0||o>t)&&(n[o+e]=l)}}}function w7(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}let kp=class{static defaults=un;static instances=gg;static overrides=pl;static registry=rs;static version=b7;static getChart=lA;static register(...t){rs.add(...t),cA()}static unregister(...t){rs.remove(...t),cA()}constructor(t,e){const i=this.config=new p7(e),r=UR(t),o=lA(r);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const l=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||jH(r)),this.platform.updateConfig(i);const u=this.platform.acquireContext(r,l.aspectRatio),d=u&&u.canvas,f=d&&d.height,p=d&&d.width;if(this.id=D8(),this.ctx=u,this.canvas=d,this.width=p,this.height=f,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new r7,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=X8(y=>this.update(y),l.resizeDelay||0),this._dataChanges=[],gg[this.id]=this,!u||!d){console.error("Failed to create chart: can't acquire context from the given item");return}qs.listen(this,"complete",aA),qs.listen(this,"progress",v7),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:r,_aspectRatio:o}=this;return Ne(t)?e&&o?o:r?i/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return rs}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():kS(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return NS(this.canvas,this.ctx),this}stop(){return qs.stop(this),this}resize(t,e){qs.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,r=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(r,t,e,o),u=i.devicePixelRatio||this.platform.getDevicePixelRatio(),d=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,kS(this,u,!0)&&(this.notifyPlugins("resize",{size:l}),Ut(i.onResize,[this,l],this),this.attached&&this._doResize(d)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};te(e,(i,r)=>{i.id=r})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,r=Object.keys(i).reduce((l,u)=>(l[u]=!1,l),{});let o=[];e&&(o=o.concat(Object.keys(e).map(l=>{const u=e[l],d=yb(l,u),f=d==="r",p=d==="x";return{options:u,dposition:f?"chartArea":p?"bottom":"left",dtype:f?"radialLinear":p?"category":"linear"}}))),te(o,l=>{const u=l.options,d=u.id,f=yb(d,u),p=Qt(u.type,l.dtype);(u.position===void 0||sA(u.position,f)!==sA(l.dposition))&&(u.position=l.dposition),r[d]=!0;let y=null;if(d in i&&i[d].type===p)y=i[d];else{const _=rs.getScale(p);y=new _({id:d,type:p,ctx:this.ctx,chart:this}),i[y.id]=y}y.init(u,t)}),te(r,(l,u)=>{l||delete i[u]}),te(i,l=>{_r.configure(this,l,l.options),_r.addBox(this,l)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((r,o)=>r.index-o.index),i>e){for(let r=e;r<i;++r)this._destroyDatasetMeta(r);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(oA("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,r)=>{e.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=e.length;i<r;i++){const o=e[i];let l=this.getDatasetMeta(i);const u=o.type||this.config.type;if(l.type&&l.type!==u&&(this._destroyDatasetMeta(i),l=this.getDatasetMeta(i)),l.type=u,l.indexAxis=o.indexAxis||mb(u,this.options),l.order=o.order||0,l.index=i,l.label=""+o.label,l.visible=this.isDatasetVisible(i),l.controller)l.controller.updateIndex(i),l.controller.linkScales();else{const d=rs.getController(u),{datasetElementType:f,dataElementType:p}=un.datasets[u];Object.assign(d,{dataElementType:rs.getElement(p),datasetElementType:f&&rs.getElement(f)}),l.controller=new d(this,i),t.push(l.controller)}}return this._updateMetasets(),t}_resetElements(){te(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let f=0,p=this.data.datasets.length;f<p;f++){const{controller:y}=this.getDatasetMeta(f),_=!r&&o.indexOf(y)===-1;y.buildOrUpdateElements(_),l=Math.max(+y.getMaxOverflow(),l)}l=this._minPadding=i.layout.autoPadding?l:0,this._updateLayout(l),r||te(o,f=>{f.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(oA("z","_idx"));const{_active:u,_lastEvent:d}=this;d?this._eventHandler(d,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){te(this.scales,t=>{_r.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!xS(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:o}of e){const l=i==="_removeElements"?-o:o;x7(t,r,l)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=o=>new Set(t.filter(l=>l[0]===o).map((l,u)=>u+","+l.splice(1).join(","))),r=i(0);for(let o=1;o<e;o++)if(!xS(r,i(o)))return;return Array.from(r).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;_r.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],te(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,o)=>{r._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,aa(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),r={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(e),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(qs.has(this)?this.attached&&!qs.running(this)&&qs.start(this):(this.draw(),aA({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let r,o;for(r=0,o=e.length;r<o;++r){const l=e[r];(!t||l.visible)&&i.push(l)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i={meta:t,index:t.index,cancelable:!0},r=AR(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(r&&Rp(e,r),t.controller.draw(),r&&Np(e),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return Oc(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,r){const o=_H.modes[e];return typeof o=="function"?o(this,t,i,r):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let r=i.filter(o=>o&&o._dataset===e).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=bl(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const r=i?"show":"hide",o=this.getDatasetMeta(t),l=o.controller._resolveAnimations(void 0,r);$g(e)?(o.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),l.update(o,{visible:i}),this.update(u=>u.datasetIndex===t?r:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),qs.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),NS(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete gg[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(o,l)=>{e.addEventListener(this,o,l),t[o]=l},r=(o,l,u)=>{o.offsetX=l,o.offsetY=u,this._eventHandler(o)};te(this.options.events,o=>i(o,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(d,f)=>{e.addEventListener(this,d,f),t[d]=f},r=(d,f)=>{t[d]&&(e.removeEventListener(this,d,f),delete t[d])},o=(d,f)=>{this.canvas&&this.resize(d,f)};let l;const u=()=>{r("attach",u),this.attached=!0,this.resize(),i("resize",o),i("detach",l)};l=()=>{this.attached=!1,r("resize",o),this._stop(),this._resize(0,0),i("attach",u)},e.isAttached(this.canvas)?u():l()}unbindEvents(){te(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},te(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const r=i?"set":"remove";let o,l,u,d;for(e==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+r+"DatasetHoverStyle"]()),u=0,d=t.length;u<d;++u){l=t[u];const f=l&&this.getDatasetMeta(l.datasetIndex).controller;f&&f[r+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:o,index:l})=>{const u=this.getDatasetMeta(o);if(!u)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:u.data[l],index:l}});!qg(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,i){const r=this.options.hover,o=(d,f)=>d.filter(p=>!f.some(y=>p.datasetIndex===y.datasetIndex&&p.index===y.index)),l=o(e,t),u=i?t:o(t,e);l.length&&this.updateHoverStyle(l,r.mode,!1),u.length&&r.mode&&this.updateHoverStyle(u,r.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},r=l=>(l.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const o=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(o||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:r=[],options:o}=this,l=e,u=this._getActiveElements(t,r,i,l),d=k8(t),f=w7(t,this._lastEvent,i,d);i&&(this._lastEvent=null,Ut(o.onHover,[t,u,this],this),d&&Ut(o.onClick,[t,u,this],this));const p=!qg(u,r);return(p||e)&&(this._active=u,this._updateHoverStyles(u,r,e)),this._lastEvent=f,p}_getActiveElements(t,e,i,r){if(t.type==="mouseout")return[];if(!i)return e;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,r)}};function cA(){return te(kp.instances,n=>n._plugins.invalidate())}function jR(n,t,e=t){n.lineCap=Qt(e.borderCapStyle,t.borderCapStyle),n.setLineDash(Qt(e.borderDash,t.borderDash)),n.lineDashOffset=Qt(e.borderDashOffset,t.borderDashOffset),n.lineJoin=Qt(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=Qt(e.borderWidth,t.borderWidth),n.strokeStyle=Qt(e.borderColor,t.borderColor)}function T7(n,t,e){n.lineTo(e.x,e.y)}function E7(n){return n.stepped?cF:n.tension||n.cubicInterpolationMode==="monotone"?uF:T7}function BR(n,t,e={}){const i=n.length,{start:r=0,end:o=i-1}=e,{start:l,end:u}=t,d=Math.max(r,l),f=Math.min(o,u),p=r<l&&o<l||r>u&&o>u;return{count:i,start:d,loop:t.loop,ilen:f<d&&!p?i+f-d:f-d}}function S7(n,t,e,i){const{points:r,options:o}=t,{count:l,start:u,loop:d,ilen:f}=BR(r,e,i),p=E7(o);let{move:y=!0,reverse:_}=i||{},v,S,A;for(v=0;v<=f;++v)S=r[(u+(_?f-v:v))%l],!S.skip&&(y?(n.moveTo(S.x,S.y),y=!1):p(n,A,S,_,o.stepped),A=S);return d&&(S=r[(u+(_?f:0))%l],p(n,A,S,_,o.stepped)),!!d}function A7(n,t,e,i){const r=t.points,{count:o,start:l,ilen:u}=BR(r,e,i),{move:d=!0,reverse:f}=i||{};let p=0,y=0,_,v,S,A,E,O;const V=Y=>(l+(f?u-Y:Y))%o,q=()=>{A!==E&&(n.lineTo(p,E),n.lineTo(p,A),n.lineTo(p,O))};for(d&&(v=r[V(0)],n.moveTo(v.x,v.y)),_=0;_<=u;++_){if(v=r[V(_)],v.skip)continue;const Y=v.x,$=v.y,Q=Y|0;Q===S?($<A?A=$:$>E&&(E=$),p=(y*p+Y)/++y):(q(),n.lineTo(Y,$),S=Q,y=0,A=E=$),O=$}q()}function bb(n){const t=n.options,e=t.borderDash&&t.borderDash.length;return!n._decimated&&!n._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?A7:S7}function C7(n){return n.stepped?HF:n.tension||n.cubicInterpolationMode==="monotone"?qF:Ja}function D7(n,t,e,i){let r=t._path;r||(r=t._path=new Path2D,t.path(r,e,i)&&r.closePath()),jR(n,t.options),n.stroke(r)}function I7(n,t,e,i){const{segments:r,options:o}=t,l=bb(t);for(const u of r)jR(n,o,u.style),n.beginPath(),l(n,t,u,{start:e,end:e+i-1})&&n.closePath(),n.stroke()}const R7=typeof Path2D=="function";function N7(n,t,e,i){R7&&!t.options.segment?D7(n,t,e,i):I7(n,t,e,i)}class Pp extends _l{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const r=i.spanGaps?this._loop:this._fullLoop;PF(this._points,i,t,r,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=QF(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,i=t.length;return i&&e[t[i-1].end]}interpolate(t,e){const i=this.options,r=t[e],o=this.points,l=SR(this,{property:e,start:r,end:r});if(!l.length)return;const u=[],d=C7(i);let f,p;for(f=0,p=l.length;f<p;++f){const{start:y,end:_}=l[f],v=o[y],S=o[_];if(v===S){u.push(v);continue}const A=Math.abs((r-v[e])/(S[e]-v[e])),E=d(v,S,A,i.stepped);E[e]=t[e],u.push(E)}return u.length===1?u[0]:u}pathSegment(t,e,i){return bb(this)(t,this,e,i)}path(t,e,i){const r=this.segments,o=bb(this);let l=this._loop;e=e||0,i=i||this.points.length-e;for(const u of r)l&=o(t,this,u,{start:e,end:e+i-1});return!!l}draw(t,e,i,r){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(t.save(),N7(t,this,i,r),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function uA(n,t,e,i){const r=n.options,{[e]:o}=n.getProps([e],i);return Math.abs(t-o)<r.radius+r.hitRadius}class M7 extends _l{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,i){const r=this.options,{x:o,y:l}=this.getProps(["x","y"],i);return Math.pow(t-o,2)+Math.pow(e-l,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(t,e){return uA(this,t,"x",e)}inYRange(t,e){return uA(this,t,"y",e)}getCenterPoint(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}size(t){t=t||this.options||{};let e=t.radius||0;e=Math.max(e,e&&t.hoverRadius||0);const i=e&&t.borderWidth||0;return(e+i)*2}draw(t,e){const i=this.options;this.skip||i.radius<.1||!Oc(this,e,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,gb(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function O7(n,t,e){const i=n.segments,r=n.points,o=t.points,l=[];for(const u of i){let{start:d,end:f}=u;f=zp(d,f,r);const p=_b(e,r[d],r[f],u.loop);if(!t.segments){l.push({source:u,target:p,start:r[d],end:r[f]});continue}const y=SR(t,p);for(const _ of y){const v=_b(e,o[_.start],o[_.end],_.loop),S=ER(u,r,v);for(const A of S)l.push({source:A,target:_,start:{[e]:dA(p,v,"start",Math.max)},end:{[e]:dA(p,v,"end",Math.min)}})}}return l}function _b(n,t,e,i){if(i)return;let r=t[n],o=e[n];return n==="angle"&&(r=os(r),o=os(o)),{property:n,start:r,end:o}}function k7(n,t){const{x:e=null,y:i=null}=n||{},r=t.points,o=[];return t.segments.forEach(({start:l,end:u})=>{u=zp(l,u,r);const d=r[l],f=r[u];i!==null?(o.push({x:d.x,y:i}),o.push({x:f.x,y:i})):e!==null&&(o.push({x:e,y:d.y}),o.push({x:e,y:f.y}))}),o}function zp(n,t,e){for(;t>n;t--){const i=e[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function dA(n,t,e,i){return n&&t?i(n[e],t[e]):n?n[e]:t?t[e]:0}function FR(n,t){let e=[],i=!1;return An(n)?(i=!0,e=n):e=k7(n,t),e.length?new Pp({points:e,options:{tension:0},_loop:i,_fullLoop:i}):null}function hA(n){return n&&n.fill!==!1}function P7(n,t,e){let r=n[t].fill;const o=[t];let l;if(!e)return r;for(;r!==!1&&o.indexOf(r)===-1;){if(!ni(r))return r;if(l=n[r],!l)return!1;if(l.visible)return r;o.push(r),r=l.fill}return!1}function z7(n,t,e){const i=j7(n);if(ce(i))return isNaN(i.value)?!1:i;let r=parseFloat(i);return ni(r)&&Math.floor(r)===r?L7(i[0],t,r,e):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function L7(n,t,e,i){return(n==="-"||n==="+")&&(e=t+e),e===t||e<0||e>=i?!1:e}function V7(n,t){let e=null;return n==="start"?e=t.bottom:n==="end"?e=t.top:ce(n)?e=t.getPixelForValue(n.value):t.getBasePixel&&(e=t.getBasePixel()),e}function U7(n,t,e){let i;return n==="start"?i=e:n==="end"?i=t.options.reverse?t.min:t.max:ce(n)?i=n.value:i=t.getBaseValue(),i}function j7(n){const t=n.options,e=t.fill;let i=Qt(e&&e.target,e);return i===void 0&&(i=!!t.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function B7(n){const{scale:t,index:e,line:i}=n,r=[],o=i.segments,l=i.points,u=F7(t,e);u.push(FR({x:null,y:t.bottom},i));for(let d=0;d<o.length;d++){const f=o[d];for(let p=f.start;p<=f.end;p++)H7(r,l[p],u)}return new Pp({points:r,options:{}})}function F7(n,t){const e=[],i=n.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){const o=i[r];if(o.index===t)break;o.hidden||e.unshift(o.dataset)}return e}function H7(n,t,e){const i=[];for(let r=0;r<e.length;r++){const o=e[r],{first:l,last:u,point:d}=q7(o,t,"x");if(!(!d||l&&u)){if(l)i.unshift(d);else if(n.push(d),!u)break}}n.push(...i)}function q7(n,t,e){const i=n.interpolate(t,e);if(!i)return{};const r=i[e],o=n.segments,l=n.points;let u=!1,d=!1;for(let f=0;f<o.length;f++){const p=o[f],y=l[p.start][e],_=l[p.end][e];if(pc(r,y,_)){u=r===y,d=r===_;break}}return{first:u,last:d,point:i}}class HR{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,i){const{x:r,y:o,radius:l}=this;return e=e||{start:0,end:Vr},t.arc(r,o,l,e.end,e.start,!0),!i.bounds}interpolate(t){const{x:e,y:i,radius:r}=this,o=t.angle;return{x:e+Math.cos(o)*r,y:i+Math.sin(o)*r,angle:o}}}function G7(n){const{chart:t,fill:e,line:i}=n;if(ni(e))return Y7(t,e);if(e==="stack")return B7(n);if(e==="shape")return!0;const r=$7(n);return r instanceof HR?r:FR(r,i)}function Y7(n,t){const e=n.getDatasetMeta(t);return e&&n.isDatasetVisible(t)?e.dataset:null}function $7(n){return(n.scale||{}).getPointPositionForValue?X7(n):W7(n)}function W7(n){const{scale:t={},fill:e}=n,i=V7(e,t);if(ni(i)){const r=t.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}function X7(n){const{scale:t,fill:e}=n,i=t.options,r=t.getLabels().length,o=i.reverse?t.max:t.min,l=U7(e,t,o),u=[];if(i.grid.circular){const d=t.getPointPositionForValue(0,o);return new HR({x:d.x,y:d.y,radius:t.getDistanceFromCenterForValue(l)})}for(let d=0;d<r;++d)u.push(t.getPointPositionForValue(d,l));return u}function _0(n,t,e){const i=G7(t),{chart:r,index:o,line:l,scale:u,axis:d}=t,f=l.options,p=f.fill,y=f.backgroundColor,{above:_=y,below:v=y}=p||{},S=r.getDatasetMeta(o),A=AR(r,S);i&&l.points.length&&(Rp(n,e),Q7(n,{line:l,target:i,above:_,below:v,area:e,scale:u,axis:d,clip:A}),Np(n))}function Q7(n,t){const{line:e,target:i,above:r,below:o,area:l,scale:u,clip:d}=t,f=e._loop?"angle":t.axis;n.save();let p=o;o!==r&&(f==="x"?(fA(n,i,l.top),v0(n,{line:e,target:i,color:r,scale:u,property:f,clip:d}),n.restore(),n.save(),fA(n,i,l.bottom)):f==="y"&&(gA(n,i,l.left),v0(n,{line:e,target:i,color:o,scale:u,property:f,clip:d}),n.restore(),n.save(),gA(n,i,l.right),p=r)),v0(n,{line:e,target:i,color:p,scale:u,property:f,clip:d}),n.restore()}function fA(n,t,e){const{segments:i,points:r}=t;let o=!0,l=!1;n.beginPath();for(const u of i){const{start:d,end:f}=u,p=r[d],y=r[zp(d,f,r)];o?(n.moveTo(p.x,p.y),o=!1):(n.lineTo(p.x,e),n.lineTo(p.x,p.y)),l=!!t.pathSegment(n,u,{move:l}),l?n.closePath():n.lineTo(y.x,e)}n.lineTo(t.first().x,e),n.closePath(),n.clip()}function gA(n,t,e){const{segments:i,points:r}=t;let o=!0,l=!1;n.beginPath();for(const u of i){const{start:d,end:f}=u,p=r[d],y=r[zp(d,f,r)];o?(n.moveTo(p.x,p.y),o=!1):(n.lineTo(e,p.y),n.lineTo(p.x,p.y)),l=!!t.pathSegment(n,u,{move:l}),l?n.closePath():n.lineTo(e,y.y)}n.lineTo(e,t.first().y),n.closePath(),n.clip()}function v0(n,t){const{line:e,target:i,property:r,color:o,scale:l,clip:u}=t,d=O7(e,i,r);for(const{source:f,target:p,start:y,end:_}of d){const{style:{backgroundColor:v=o}={}}=f,S=i!==!0;n.save(),n.fillStyle=v,K7(n,l,u,S&&_b(r,y,_)),n.beginPath();const A=!!e.pathSegment(n,f);let E;if(S){A?n.closePath():pA(n,i,_,r);const O=!!i.pathSegment(n,p,{move:A,reverse:!0});E=A&&O,E||pA(n,i,y,r)}n.closePath(),n.fill(E?"evenodd":"nonzero"),n.restore()}}function K7(n,t,e,i){const r=t.chart.chartArea,{property:o,start:l,end:u}=i||{};if(o==="x"||o==="y"){let d,f,p,y;o==="x"?(d=l,f=r.top,p=u,y=r.bottom):(d=r.left,f=l,p=r.right,y=u),n.beginPath(),e&&(d=Math.max(d,e.left),p=Math.min(p,e.right),f=Math.max(f,e.top),y=Math.min(y,e.bottom)),n.rect(d,f,p-d,y-f),n.clip()}}function pA(n,t,e,i){const r=t.interpolate(e,i);r&&n.lineTo(r.x,r.y)}var Z7={id:"filler",afterDatasetsUpdate(n,t,e){const i=(n.data.datasets||[]).length,r=[];let o,l,u,d;for(l=0;l<i;++l)o=n.getDatasetMeta(l),u=o.dataset,d=null,u&&u.options&&u instanceof Pp&&(d={visible:n.isDatasetVisible(l),index:l,fill:z7(u,l,i),chart:n,axis:o.controller.options.indexAxis,scale:o.vScale,line:u}),o.$filler=d,r.push(d);for(l=0;l<i;++l)d=r[l],!(!d||d.fill===!1)&&(d.fill=P7(r,l,e.propagate))},beforeDraw(n,t,e){const i=e.drawTime==="beforeDraw",r=n.getSortedVisibleDatasetMetas(),o=n.chartArea;for(let l=r.length-1;l>=0;--l){const u=r[l].$filler;u&&(u.line.updateControlPoints(o,u.axis),i&&u.fill&&_0(n.ctx,u,o))}},beforeDatasetsDraw(n,t,e){if(e.drawTime!=="beforeDatasetsDraw")return;const i=n.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const o=i[r].$filler;hA(o)&&_0(n.ctx,o,n.chartArea)}},beforeDatasetDraw(n,t,e){const i=t.meta.$filler;!hA(i)||e.drawTime!=="beforeDatasetDraw"||_0(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const mA=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},J7=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class yA extends _l{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=Ut(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,r)=>t.sort(i,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,r=ti(i.font),o=r.size,l=this._computeTitleHeight(),{boxWidth:u,itemHeight:d}=mA(i,o);let f,p;e.font=r.string,this.isHorizontal()?(f=this.maxWidth,p=this._fitRows(l,o,u,d)+10):(p=this.maxHeight,f=this._fitCols(l,r,u,d)+10),this.width=Math.min(f,t.maxWidth||this.maxWidth),this.height=Math.min(p,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,r){const{ctx:o,maxWidth:l,options:{labels:{padding:u}}}=this,d=this.legendHitBoxes=[],f=this.lineWidths=[0],p=r+u;let y=t;o.textAlign="left",o.textBaseline="middle";let _=-1,v=-p;return this.legendItems.forEach((S,A)=>{const E=i+e/2+o.measureText(S.text).width;(A===0||f[f.length-1]+E+2*u>l)&&(y+=p,f[f.length-(A>0?0:1)]=0,v+=p,_++),d[A]={left:0,top:v,row:_,width:E,height:r},f[f.length-1]+=E+u}),y}_fitCols(t,e,i,r){const{ctx:o,maxHeight:l,options:{labels:{padding:u}}}=this,d=this.legendHitBoxes=[],f=this.columnSizes=[],p=l-t;let y=u,_=0,v=0,S=0,A=0;return this.legendItems.forEach((E,O)=>{const{itemWidth:V,itemHeight:q}=tq(i,e,o,E,r);O>0&&v+q+2*u>p&&(y+=_+u,f.push({width:_,height:v}),S+=_+u,A++,_=v=0),d[O]={left:S,top:v,col:A,width:V,height:q},_=Math.max(_,V),v+=q+u}),y+=_,f.push({width:_,height:v}),y}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:r},rtl:o}}=this,l=xc(o,this.left,this.width);if(this.isHorizontal()){let u=0,d=Kn(i,this.left+r,this.right-this.lineWidths[u]);for(const f of e)u!==f.row&&(u=f.row,d=Kn(i,this.left+r,this.right-this.lineWidths[u])),f.top+=this.top+t+r,f.left=l.leftForLtr(l.x(d),f.width),d+=f.width+r}else{let u=0,d=Kn(i,this.top+t+r,this.bottom-this.columnSizes[u].height);for(const f of e)f.col!==u&&(u=f.col,d=Kn(i,this.top+t+r,this.bottom-this.columnSizes[u].height)),f.top=d,f.left+=this.left+r,f.left=l.leftForLtr(l.x(f.left),f.width),d+=f.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Rp(t,this),this._draw(),Np(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:r}=this,{align:o,labels:l}=t,u=un.color,d=xc(t.rtl,this.left,this.width),f=ti(l.font),{padding:p}=l,y=f.size,_=y/2;let v;this.drawTitle(),r.textAlign=d.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=f.string;const{boxWidth:S,boxHeight:A,itemHeight:E}=mA(l,y),O=function(Q,M,D){if(isNaN(S)||S<=0||isNaN(A)||A<0)return;r.save();const N=Qt(D.lineWidth,1);if(r.fillStyle=Qt(D.fillStyle,u),r.lineCap=Qt(D.lineCap,"butt"),r.lineDashOffset=Qt(D.lineDashOffset,0),r.lineJoin=Qt(D.lineJoin,"miter"),r.lineWidth=N,r.strokeStyle=Qt(D.strokeStyle,u),r.setLineDash(Qt(D.lineDash,[])),l.usePointStyle){const L={radius:A*Math.SQRT2/2,pointStyle:D.pointStyle,rotation:D.rotation,borderWidth:N},z=d.xPlus(Q,S/2),B=M+_;gR(r,L,z,B,l.pointStyleWidth&&S)}else{const L=M+Math.max((y-A)/2,0),z=d.leftForLtr(Q,S),B=vd(D.borderRadius);r.beginPath(),Object.values(B).some(U=>U!==0)?pb(r,{x:z,y:L,w:S,h:A,radius:B}):r.rect(z,L,S,A),r.fill(),N!==0&&r.stroke()}r.restore()},V=function(Q,M,D){Yd(r,D.text,Q,M+E/2,f,{strikethrough:D.hidden,textAlign:d.textAlign(D.textAlign)})},q=this.isHorizontal(),Y=this._computeTitleHeight();q?v={x:Kn(o,this.left+p,this.right-i[0]),y:this.top+p+Y,line:0}:v={x:this.left+p,y:Kn(o,this.top+Y+p,this.bottom-e[0].height),line:0},xR(this.ctx,t.textDirection);const $=E+p;this.legendItems.forEach((Q,M)=>{r.strokeStyle=Q.fontColor,r.fillStyle=Q.fontColor;const D=r.measureText(Q.text).width,N=d.textAlign(Q.textAlign||(Q.textAlign=l.textAlign)),L=S+_+D;let z=v.x,B=v.y;d.setWidth(this.width),q?M>0&&z+L+p>this.right&&(B=v.y+=$,v.line++,z=v.x=Kn(o,this.left+p,this.right-i[v.line])):M>0&&B+$>this.bottom&&(z=v.x=z+e[v.line].width+p,v.line++,B=v.y=Kn(o,this.top+Y+p,this.bottom-e[v.line].height));const U=d.x(z);if(O(U,B,Q),z=Q8(N,z+S+_,q?z+L:this.right,t.rtl),V(d.x(z),B,Q),q)v.x+=L+p;else if(typeof Q.text!="string"){const Ot=f.lineHeight;v.y+=qR(Q,Ot)+p}else v.y+=$}),wR(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=ti(e.font),r=xr(e.padding);if(!e.display)return;const o=xc(t.rtl,this.left,this.width),l=this.ctx,u=e.position,d=i.size/2,f=r.top+d;let p,y=this.left,_=this.width;if(this.isHorizontal())_=Math.max(...this.lineWidths),p=this.top+f,y=Kn(t.align,y,this.right-_);else{const S=this.columnSizes.reduce((A,E)=>Math.max(A,E.height),0);p=f+Kn(t.align,this.top,this.bottom-S-t.labels.padding-this._computeTitleHeight())}const v=Kn(u,y,y+_);l.textAlign=o.textAlign(sv(u)),l.textBaseline="middle",l.strokeStyle=e.color,l.fillStyle=e.color,l.font=i.string,Yd(l,e.text,v,p,i)}_computeTitleHeight(){const t=this.options.title,e=ti(t.font),i=xr(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,r,o;if(pc(t,this.left,this.right)&&pc(e,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(r=o[i],pc(t,r.left,r.left+r.width)&&pc(e,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(t){const e=this.options;if(!iq(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const r=this._hoveredItem,o=J7(r,i);r&&!o&&Ut(e.onLeave,[t,r,this],this),this._hoveredItem=i,i&&!o&&Ut(e.onHover,[t,i,this],this)}else i&&Ut(e.onClick,[t,i,this],this)}}function tq(n,t,e,i,r){const o=eq(i,n,t,e),l=nq(r,i,t.lineHeight);return{itemWidth:o,itemHeight:l}}function eq(n,t,e,i){let r=n.text;return r&&typeof r!="string"&&(r=r.reduce((o,l)=>o.length>l.length?o:l)),t+e.size/2+i.measureText(r).width}function nq(n,t,e){let i=n;return typeof t.text!="string"&&(i=qR(t,e)),i}function qR(n,t){const e=n.text?n.text.length:0;return t*e}function iq(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var rq={id:"legend",_element:yA,start(n,t,e){const i=n.legend=new yA({ctx:n.ctx,options:e,chart:n});_r.configure(n,i,e),_r.addBox(n,i)},stop(n){_r.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;_r.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,r=e.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:r,color:o,useBorderRadius:l,borderRadius:u}}=n.legend.options;return n._getSortedDatasetMetas().map(d=>{const f=d.controller.getStyle(e?0:void 0),p=xr(f.borderWidth);return{text:t[d.index].label,fillStyle:f.backgroundColor,fontColor:o,hidden:!d.visible,lineCap:f.borderCapStyle,lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:f.borderColor,pointStyle:i||f.pointStyle,rotation:f.rotation,textAlign:r||f.textAlign,borderRadius:l&&(u||f.borderRadius),datasetIndex:d.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class GR extends _l{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const r=An(i.text)?i.text.length:1;this._padding=xr(i.padding);const o=r*ti(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:i,bottom:r,right:o,options:l}=this,u=l.align;let d=0,f,p,y;return this.isHorizontal()?(p=Kn(u,i,o),y=e+t,f=o-i):(l.position==="left"?(p=i+t,y=Kn(u,r,e),d=On*-.5):(p=o-t,y=Kn(u,e,r),d=On*.5),f=r-e),{titleX:p,titleY:y,maxWidth:f,rotation:d}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=ti(e.font),o=i.lineHeight/2+this._padding.top,{titleX:l,titleY:u,maxWidth:d,rotation:f}=this._drawArgs(o);Yd(t,e.text,0,0,i,{color:e.color,maxWidth:d,rotation:f,textAlign:sv(e.align),textBaseline:"middle",translation:[l,u]})}}function sq(n,t){const e=new GR({ctx:n.ctx,options:t,chart:n});_r.configure(n,e,t),_r.addBox(n,e),n.titleBlock=e}var oq={id:"title",_element:GR,start(n,t,e){sq(n,e)},stop(n){const t=n.titleBlock;_r.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){const i=n.titleBlock;_r.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const ad={average(n){if(!n.length)return!1;let t,e,i=new Set,r=0,o=0;for(t=0,e=n.length;t<e;++t){const u=n[t].element;if(u&&u.hasValue()){const d=u.tooltipPosition();i.add(d.x),r+=d.y,++o}}return o===0||i.size===0?!1:{x:[...i].reduce((u,d)=>u+d)/i.size,y:r/o}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,r=Number.POSITIVE_INFINITY,o,l,u;for(o=0,l=n.length;o<l;++o){const d=n[o].element;if(d&&d.hasValue()){const f=d.getCenterPoint(),p=hb(t,f);p<r&&(r=p,u=d)}}if(u){const d=u.tooltipPosition();e=d.x,i=d.y}return{x:e,y:i}}};function is(n,t){return t&&(An(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function Gs(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function aq(n,t){const{element:e,datasetIndex:i,index:r}=t,o=n.getDatasetMeta(i).controller,{label:l,value:u}=o.getLabelAndValue(r);return{chart:n,label:l,parsed:o.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:u,dataset:o.getDataset(),dataIndex:r,datasetIndex:i,element:e}}function bA(n,t){const e=n.chart.ctx,{body:i,footer:r,title:o}=n,{boxWidth:l,boxHeight:u}=t,d=ti(t.bodyFont),f=ti(t.titleFont),p=ti(t.footerFont),y=o.length,_=r.length,v=i.length,S=xr(t.padding);let A=S.height,E=0,O=i.reduce((Y,$)=>Y+$.before.length+$.lines.length+$.after.length,0);if(O+=n.beforeBody.length+n.afterBody.length,y&&(A+=y*f.lineHeight+(y-1)*t.titleSpacing+t.titleMarginBottom),O){const Y=t.displayColors?Math.max(u,d.lineHeight):d.lineHeight;A+=v*Y+(O-v)*d.lineHeight+(O-1)*t.bodySpacing}_&&(A+=t.footerMarginTop+_*p.lineHeight+(_-1)*t.footerSpacing);let V=0;const q=function(Y){E=Math.max(E,e.measureText(Y).width+V)};return e.save(),e.font=f.string,te(n.title,q),e.font=d.string,te(n.beforeBody.concat(n.afterBody),q),V=t.displayColors?l+2+t.boxPadding:0,te(i,Y=>{te(Y.before,q),te(Y.lines,q),te(Y.after,q)}),V=0,e.font=p.string,te(n.footer,q),e.restore(),E+=S.width,{width:E,height:A}}function lq(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function cq(n,t,e,i){const{x:r,width:o}=i,l=e.caretSize+e.caretPadding;if(n==="left"&&r+o+l>t.width||n==="right"&&r-o-l<0)return!0}function uq(n,t,e,i){const{x:r,width:o}=e,{width:l,chartArea:{left:u,right:d}}=n;let f="center";return i==="center"?f=r<=(u+d)/2?"left":"right":r<=o/2?f="left":r>=l-o/2&&(f="right"),cq(f,n,t,e)&&(f="center"),f}function _A(n,t,e){const i=e.yAlign||t.yAlign||lq(n,e);return{xAlign:e.xAlign||t.xAlign||uq(n,t,e,i),yAlign:i}}function dq(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function hq(n,t,e){let{y:i,height:r}=n;return t==="top"?i+=e:t==="bottom"?i-=r+e:i-=r/2,i}function vA(n,t,e,i){const{caretSize:r,caretPadding:o,cornerRadius:l}=n,{xAlign:u,yAlign:d}=e,f=r+o,{topLeft:p,topRight:y,bottomLeft:_,bottomRight:v}=vd(l);let S=dq(t,u);const A=hq(t,d,f);return d==="center"?u==="left"?S+=f:u==="right"&&(S-=f):u==="left"?S-=Math.max(p,_)+r:u==="right"&&(S+=Math.max(y,v)+r),{x:br(S,0,i.width-t.width),y:br(A,0,i.height-t.height)}}function Kf(n,t,e){const i=xr(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function xA(n){return is([],Gs(n))}function fq(n,t,e){return bl(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function wA(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const YR={beforeTitle:Hs,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:Hs,beforeBody:Hs,beforeLabel:Hs,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return Ne(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Hs,afterBody:Hs,beforeFooter:Hs,footer:Hs,afterFooter:Hs};function Ti(n,t,e,i){const r=n[t].call(e,i);return typeof r>"u"?YR[t].call(e,i):r}class TA extends _l{static positioners=ad;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&e.options.animation&&i.animations,o=new CR(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=fq(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,r=Ti(i,"beforeTitle",this,t),o=Ti(i,"title",this,t),l=Ti(i,"afterTitle",this,t);let u=[];return u=is(u,Gs(r)),u=is(u,Gs(o)),u=is(u,Gs(l)),u}getBeforeBody(t,e){return xA(Ti(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,r=[];return te(t,o=>{const l={before:[],lines:[],after:[]},u=wA(i,o);is(l.before,Gs(Ti(u,"beforeLabel",this,o))),is(l.lines,Ti(u,"label",this,o)),is(l.after,Gs(Ti(u,"afterLabel",this,o))),r.push(l)}),r}getAfterBody(t,e){return xA(Ti(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,r=Ti(i,"beforeFooter",this,t),o=Ti(i,"footer",this,t),l=Ti(i,"afterFooter",this,t);let u=[];return u=is(u,Gs(r)),u=is(u,Gs(o)),u=is(u,Gs(l)),u}_createItems(t){const e=this._active,i=this.chart.data,r=[],o=[],l=[];let u=[],d,f;for(d=0,f=e.length;d<f;++d)u.push(aq(this.chart,e[d]));return t.filter&&(u=u.filter((p,y,_)=>t.filter(p,y,_,i))),t.itemSort&&(u=u.sort((p,y)=>t.itemSort(p,y,i))),te(u,p=>{const y=wA(t.callbacks,p);r.push(Ti(y,"labelColor",this,p)),o.push(Ti(y,"labelPointStyle",this,p)),l.push(Ti(y,"labelTextColor",this,p))}),this.labelColors=r,this.labelPointStyles=o,this.labelTextColors=l,this.dataPoints=u,u}update(t,e){const i=this.options.setContext(this.getContext()),r=this._active;let o,l=[];if(!r.length)this.opacity!==0&&(o={opacity:0});else{const u=ad[i.position].call(this,r,this._eventPosition);l=this._createItems(i),this.title=this.getTitle(l,i),this.beforeBody=this.getBeforeBody(l,i),this.body=this.getBody(l,i),this.afterBody=this.getAfterBody(l,i),this.footer=this.getFooter(l,i);const d=this._size=bA(this,i),f=Object.assign({},u,d),p=_A(this.chart,i,f),y=vA(i,f,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,o={opacity:1,x:y.x,y:y.y,width:d.width,height:d.height,caretX:u.x,caretY:u.y}}this._tooltipItems=l,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,r){const o=this.getCaretPosition(t,i,r);e.lineTo(o.x1,o.y1),e.lineTo(o.x2,o.y2),e.lineTo(o.x3,o.y3)}getCaretPosition(t,e,i){const{xAlign:r,yAlign:o}=this,{caretSize:l,cornerRadius:u}=i,{topLeft:d,topRight:f,bottomLeft:p,bottomRight:y}=vd(u),{x:_,y:v}=t,{width:S,height:A}=e;let E,O,V,q,Y,$;return o==="center"?(Y=v+A/2,r==="left"?(E=_,O=E-l,q=Y+l,$=Y-l):(E=_+S,O=E+l,q=Y-l,$=Y+l),V=E):(r==="left"?O=_+Math.max(d,p)+l:r==="right"?O=_+S-Math.max(f,y)-l:O=this.caretX,o==="top"?(q=v,Y=q-l,E=O-l,V=O+l):(q=v+A,Y=q+l,E=O+l,V=O-l),$=q),{x1:E,x2:O,x3:V,y1:q,y2:Y,y3:$}}drawTitle(t,e,i){const r=this.title,o=r.length;let l,u,d;if(o){const f=xc(i.rtl,this.x,this.width);for(t.x=Kf(this,i.titleAlign,i),e.textAlign=f.textAlign(i.titleAlign),e.textBaseline="middle",l=ti(i.titleFont),u=i.titleSpacing,e.fillStyle=i.titleColor,e.font=l.string,d=0;d<o;++d)e.fillText(r[d],f.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+u,d+1===o&&(t.y+=i.titleMarginBottom-u)}}_drawColorBox(t,e,i,r,o){const l=this.labelColors[i],u=this.labelPointStyles[i],{boxHeight:d,boxWidth:f}=o,p=ti(o.bodyFont),y=Kf(this,"left",o),_=r.x(y),v=d<p.lineHeight?(p.lineHeight-d)/2:0,S=e.y+v;if(o.usePointStyle){const A={radius:Math.min(f,d)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},E=r.leftForLtr(_,f)+f/2,O=S+d/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,gb(t,A,E,O),t.strokeStyle=l.borderColor,t.fillStyle=l.backgroundColor,gb(t,A,E,O)}else{t.lineWidth=ce(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,t.strokeStyle=l.borderColor,t.setLineDash(l.borderDash||[]),t.lineDashOffset=l.borderDashOffset||0;const A=r.leftForLtr(_,f),E=r.leftForLtr(r.xPlus(_,1),f-2),O=vd(l.borderRadius);Object.values(O).some(V=>V!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,pb(t,{x:A,y:S,w:f,h:d,radius:O}),t.fill(),t.stroke(),t.fillStyle=l.backgroundColor,t.beginPath(),pb(t,{x:E,y:S+1,w:f-2,h:d-2,radius:O}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(A,S,f,d),t.strokeRect(A,S,f,d),t.fillStyle=l.backgroundColor,t.fillRect(E,S+1,f-2,d-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:r}=this,{bodySpacing:o,bodyAlign:l,displayColors:u,boxHeight:d,boxWidth:f,boxPadding:p}=i,y=ti(i.bodyFont);let _=y.lineHeight,v=0;const S=xc(i.rtl,this.x,this.width),A=function(D){e.fillText(D,S.x(t.x+v),t.y+_/2),t.y+=_+o},E=S.textAlign(l);let O,V,q,Y,$,Q,M;for(e.textAlign=l,e.textBaseline="middle",e.font=y.string,t.x=Kf(this,E,i),e.fillStyle=i.bodyColor,te(this.beforeBody,A),v=u&&E!=="right"?l==="center"?f/2+p:f+2+p:0,Y=0,Q=r.length;Y<Q;++Y){for(O=r[Y],V=this.labelTextColors[Y],e.fillStyle=V,te(O.before,A),q=O.lines,u&&q.length&&(this._drawColorBox(e,t,Y,S,i),_=Math.max(y.lineHeight,d)),$=0,M=q.length;$<M;++$)A(q[$]),_=y.lineHeight;te(O.after,A)}v=0,_=y.lineHeight,te(this.afterBody,A),t.y-=o}drawFooter(t,e,i){const r=this.footer,o=r.length;let l,u;if(o){const d=xc(i.rtl,this.x,this.width);for(t.x=Kf(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=d.textAlign(i.footerAlign),e.textBaseline="middle",l=ti(i.footerFont),e.fillStyle=i.footerColor,e.font=l.string,u=0;u<o;++u)e.fillText(r[u],d.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+i.footerSpacing}}drawBackground(t,e,i,r){const{xAlign:o,yAlign:l}=this,{x:u,y:d}=t,{width:f,height:p}=i,{topLeft:y,topRight:_,bottomLeft:v,bottomRight:S}=vd(r.cornerRadius);e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.beginPath(),e.moveTo(u+y,d),l==="top"&&this.drawCaret(t,e,i,r),e.lineTo(u+f-_,d),e.quadraticCurveTo(u+f,d,u+f,d+_),l==="center"&&o==="right"&&this.drawCaret(t,e,i,r),e.lineTo(u+f,d+p-S),e.quadraticCurveTo(u+f,d+p,u+f-S,d+p),l==="bottom"&&this.drawCaret(t,e,i,r),e.lineTo(u+v,d+p),e.quadraticCurveTo(u,d+p,u,d+p-v),l==="center"&&o==="left"&&this.drawCaret(t,e,i,r),e.lineTo(u,d+y),e.quadraticCurveTo(u,d,u+y,d),e.closePath(),e.fill(),r.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,r=i&&i.x,o=i&&i.y;if(r||o){const l=ad[t.position].call(this,this._active,this._eventPosition);if(!l)return;const u=this._size=bA(this,t),d=Object.assign({},l,this._size),f=_A(e,t,d),p=vA(t,d,f,e);(r._to!==p.x||o._to!==p.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=u.width,this.height=u.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const r={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const l=xr(e.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&u&&(t.save(),t.globalAlpha=i,this.drawBackground(o,t,r,e),xR(t,e.textDirection),o.y+=l.top,this.drawTitle(o,t,e),this.drawBody(o,t,e),this.drawFooter(o,t,e),wR(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,r=t.map(({datasetIndex:u,index:d})=>{const f=this.chart.getDatasetMeta(u);if(!f)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:f.data[d],index:d}}),o=!qg(i,r),l=this._positionChanged(r,e);(o||l)&&(this._active=r,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,o=this._active||[],l=this._getActiveElements(t,o,e,i),u=this._positionChanged(l,t),d=e||!qg(l,o)||u;return d&&(this._active=l,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),d}_getActiveElements(t,e,i,r){const o=this.options;if(t.type==="mouseout")return[];if(!r)return e.filter(u=>this.chart.data.datasets[u.datasetIndex]&&this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index)!==void 0);const l=this.chart.getElementsAtEventForMode(t,o.mode,o,i);return o.reverse&&l.reverse(),l}_positionChanged(t,e){const{caretX:i,caretY:r,options:o}=this,l=ad[o.position].call(this,t,e);return l!==!1&&(i!==l.x||r!==l.y)}}var gq={id:"tooltip",_element:TA,positioners:ad,afterInit(n,t,e){e&&(n.tooltip=new TA({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:YR},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const pq=(n,t,e,i)=>(typeof t=="string"?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function mq(n,t,e,i){const r=n.indexOf(t);if(r===-1)return pq(n,t,e,i);const o=n.lastIndexOf(t);return r!==o?e:r}const yq=(n,t)=>n===null?null:br(Math.round(n),0,t);function EA(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class bq extends Wc{static id="category";static defaults={ticks:{callback:EA}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:r,label:o}of e)i[r]===o&&i.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(Ne(t))return null;const i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:mq(i,t,Qt(e,t),this._addedLabels),yq(e,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),e||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,r=[];let o=this.getLabels();o=t===0&&e===o.length-1?o:o.slice(t,e+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let l=t;l<=e;l++)r.push({value:l});return r}getLabelForValue(t){return EA.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function _q(n,t){const e=[],{bounds:r,step:o,min:l,max:u,precision:d,count:f,maxTicks:p,maxDigits:y,includeBounds:_}=n,v=o||1,S=p-1,{min:A,max:E}=t,O=!Ne(l),V=!Ne(u),q=!Ne(f),Y=(E-A)/(y+1);let $=TS((E-A)/S/v)*v,Q,M,D,N;if($<1e-14&&!O&&!V)return[{value:A},{value:E}];N=Math.ceil(E/$)-Math.floor(A/$),N>S&&($=TS(N*$/S/v)*v),Ne(d)||(Q=Math.pow(10,d),$=Math.ceil($*Q)/Q),r==="ticks"?(M=Math.floor(A/$)*$,D=Math.ceil(E/$)*$):(M=A,D=E),O&&V&&o&&U8((u-l)/o,$/1e3)?(N=Math.round(Math.min((u-l)/$,p)),$=(u-l)/N,M=l,D=u):q?(M=O?l:M,D=V?u:D,N=f-1,$=(D-M)/N):(N=(D-M)/$,ol(N,Math.round(N),$/1e3)?N=Math.round(N):N=Math.ceil(N));const L=Math.max(ES($),ES(M));Q=Math.pow(10,Ne(d)?L:d),M=Math.round(M*Q)/Q,D=Math.round(D*Q)/Q;let z=0;for(O&&(_&&M!==l?(e.push({value:l}),M<l&&z++,ol(Math.round((M+z*$)*Q)/Q,l,SA(l,Y,n))&&z++):M<l&&z++);z<N;++z){const B=Math.round((M+z*$)*Q)/Q;if(V&&B>u)break;e.push({value:B})}return V&&_&&D!==u?e.length&&ol(e[e.length-1].value,u,SA(u,Y,n))?e[e.length-1].value=u:e.push({value:u}):(!V||D===u)&&e.push({value:D}),e}function SA(n,t,{horizontal:e,minRotation:i}){const r=nl(i),o=(e?Math.sin(r):Math.cos(r))||.001,l=.75*t*(""+n).length;return Math.min(t/o,l)}class vq extends Wc{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return Ne(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:r,max:o}=this;const l=d=>r=e?r:d,u=d=>o=i?o:d;if(t){const d=la(r),f=la(o);d<0&&f<0?u(0):d>0&&f>0&&l(0)}if(r===o){let d=o===0?1:Math.abs(o*.05);u(o+d),t||l(r-d)}this.min=r,this.max=o}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:i}=t,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),e=e||11),e&&(r=Math.min(e,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},o=this._range||this,l=_q(r,o);return t.bounds==="ticks"&&j8(l,this,"value"),t.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const r=(i-e)/Math.max(t.length-1,1)/2;e-=r,i+=r}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return hR(t,this.chart.options.locale,this.options.ticks.format)}}class xq extends vq{static id="linear";static defaults={ticks:{callback:fR.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=ni(t)?t:0,this.max=ni(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=nl(this.options.ticks.minRotation),r=(t?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,o.lineHeight/r))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const Lp={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Ci=Object.keys(Lp);function AA(n,t){return n-t}function CA(n,t){if(Ne(t))return null;const e=n._adapter,{parser:i,round:r,isoWeekday:o}=n._parseOpts;let l=t;return typeof i=="function"&&(l=i(l)),ni(l)||(l=typeof i=="string"?e.parse(l,i):e.parse(l)),l===null?null:(r&&(l=r==="week"&&(Gd(o)||o===!0)?e.startOf(l,"isoWeek",o):e.startOf(l,r)),+l)}function DA(n,t,e,i){const r=Ci.length;for(let o=Ci.indexOf(n);o<r-1;++o){const l=Lp[Ci[o]],u=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((e-t)/(u*l.size))<=i)return Ci[o]}return Ci[r-1]}function wq(n,t,e,i,r){for(let o=Ci.length-1;o>=Ci.indexOf(e);o--){const l=Ci[o];if(Lp[l].common&&n._adapter.diff(r,i,l)>=t-1)return l}return Ci[e?Ci.indexOf(e):0]}function Tq(n){for(let t=Ci.indexOf(n)+1,e=Ci.length;t<e;++t)if(Lp[Ci[t]].common)return Ci[t]}function IA(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:i,hi:r}=rv(e,t),o=e[i]>=t?e[i]:e[r];n[o]=!0}}function Eq(n,t,e,i){const r=n._adapter,o=+r.startOf(t[0].value,i),l=t[t.length-1].value;let u,d;for(u=o;u<=l;u=+r.add(u,1,i))d=e[u],d>=0&&(t[d].major=!0);return t}function RA(n,t,e){const i=[],r={},o=t.length;let l,u;for(l=0;l<o;++l)u=t[l],r[u]=l,i.push({value:u,major:!1});return o===0||!e?i:Eq(n,i,r,e)}class vb extends Wc{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),r=this._adapter=new RR._date(t.adapters.date);r.init(e),yd(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:CA(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:r,max:o,minDefined:l,maxDefined:u}=this.getUserBounds();function d(f){!l&&!isNaN(f.min)&&(r=Math.min(r,f.min)),!u&&!isNaN(f.max)&&(o=Math.max(o,f.max))}(!l||!u)&&(d(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&d(this.getMinMax(!1))),r=ni(r)&&!isNaN(r)?r:+e.startOf(Date.now(),i),o=ni(o)&&!isNaN(o)?o:+e.endOf(Date.now(),i)+1,this.min=Math.min(r,o-1),this.max=Math.max(r+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const o=this.min,l=this.max,u=Y8(r,o,l);return this._unit=e.unit||(i.autoSkip?DA(e.minUnit,this.min,this.max,this._getLabelCapacity(o)):wq(this,u.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:Tq(this._unit),this.initOffsets(r),t.reverse&&u.reverse(),RA(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,i=0,r,o;this.options.offset&&t.length&&(r=this.getDecimalForValue(t[0]),t.length===1?e=1-r:e=(this.getDecimalForValue(t[1])-r)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?i=o:i=(o-this.getDecimalForValue(t[t.length-2]))/2);const l=t.length<3?.5:.25;e=br(e,0,l),i=br(i,0,l),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,r=this.options,o=r.time,l=o.unit||DA(o.minUnit,e,i,this._getLabelCapacity(e)),u=Qt(r.ticks.stepSize,1),d=l==="week"?o.isoWeekday:!1,f=Gd(d)||d===!0,p={};let y=e,_,v;if(f&&(y=+t.startOf(y,"isoWeek",d)),y=+t.startOf(y,f?"day":l),t.diff(i,e,l)>1e5*u)throw new Error(e+" and "+i+" are too far apart with stepSize of "+u+" "+l);const S=r.ticks.source==="data"&&this.getDataTimestamps();for(_=y,v=0;_<i;_=+t.add(_,u,l),v++)IA(p,_,S);return(_===i||r.bounds==="ticks"||v===1)&&IA(p,_,S),Object.keys(p).sort(AA).map(A=>+A)}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const r=this.options.time.displayFormats,o=this._unit,l=e||r[o];return this._adapter.format(t,l)}_tickFormatFunction(t,e,i,r){const o=this.options,l=o.ticks.callback;if(l)return Ut(l,[t,e,i],this);const u=o.time.displayFormats,d=this._unit,f=this._majorUnit,p=d&&u[d],y=f&&u[f],_=i[e],v=f&&y&&_&&_.major;return this._adapter.format(t,r||(v?y:p))}generateTickLabels(t){let e,i,r;for(e=0,i=t.length;e<i;++e)r=t[e],r.label=this._tickFormatFunction(r.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,r=nl(this.isHorizontal()?e.maxRotation:e.minRotation),o=Math.cos(r),l=Math.sin(r),u=this._resolveTickFontOptions(0).size;return{w:i*o+u*l,h:i*l+u*o}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,r=i[e.unit]||i.millisecond,o=this._tickFormatFunction(t,0,RA(this,[t],this._majorUnit),r),l=this._getLabelSize(o),u=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return u>0?u:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,i=r.length;e<i;++e)t=t.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const r=this.getLabels();for(e=0,i=r.length;e<i;++e)t.push(CA(this,r[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return W8(t.sort(AA))}}function Zf(n,t,e){let i=0,r=n.length-1,o,l,u,d;e?(t>=n[i].pos&&t<=n[r].pos&&({lo:i,hi:r}=il(n,"pos",t)),{pos:o,time:u}=n[i],{pos:l,time:d}=n[r]):(t>=n[i].time&&t<=n[r].time&&({lo:i,hi:r}=il(n,"time",t)),{time:o,pos:u}=n[i],{time:l,pos:d}=n[r]);const f=l-o;return f?u+(d-u)*(t-o)/f:u}class RW extends vb{static id="timeseries";static defaults=vb.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=Zf(e,this.min),this._tableRange=Zf(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,r=[],o=[];let l,u,d,f,p;for(l=0,u=t.length;l<u;++l)f=t[l],f>=e&&f<=i&&r.push(f);if(r.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(l=0,u=r.length;l<u;++l)p=r[l+1],d=r[l-1],f=r[l],Math.round((p+d)/2)!==f&&o.push({time:f,pos:l/(u-1)});return o}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((r,o)=>r-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(Zf(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return Zf(this._table,i*this._tableRange+this._minPos,!0)}}const $R="label";function NA(n,t){typeof n=="function"?n(t):n&&(n.current=t)}function Sq(n,t){const e=n.options;e&&t&&Object.assign(e,t)}function WR(n,t){n.labels=t}function XR(n,t,e=$R){const i=[];n.datasets=t.map(r=>{const o=n.datasets.find(l=>l[e]===r[e]);return!o||!r.data||i.includes(o)?{...r}:(i.push(o),Object.assign(o,r),o)})}function Aq(n,t=$R){const e={labels:[],datasets:[]};return WR(e,n.labels),XR(e,n.datasets,t),e}function Cq(n,t){const{height:e=150,width:i=300,redraw:r=!1,datasetIdKey:o,type:l,data:u,options:d,plugins:f=[],fallbackContent:p,updateMode:y,..._}=n,v=W.useRef(null),S=W.useRef(null),A=()=>{v.current&&(S.current=new kp(v.current,{type:l,data:Aq(u,o),options:d&&{...d},plugins:f}),NA(t,S.current))},E=()=>{NA(t,null),S.current&&(S.current.destroy(),S.current=null)};return W.useEffect(()=>{!r&&S.current&&d&&Sq(S.current,d)},[r,d]),W.useEffect(()=>{!r&&S.current&&WR(S.current.config.data,u.labels)},[r,u.labels]),W.useEffect(()=>{!r&&S.current&&u.datasets&&XR(S.current.config.data,u.datasets,o)},[r,u.datasets]),W.useEffect(()=>{S.current&&(r?(E(),setTimeout(A)):S.current.update(y))},[r,d,u.labels,u.datasets,y]),W.useEffect(()=>{S.current&&(E(),setTimeout(A))},[l]),W.useEffect(()=>(A(),()=>E()),[]),C.jsx("canvas",{ref:v,role:"img",height:e,width:i,..._,children:p})}const Dq=W.forwardRef(Cq);function Iq(n,t){return kp.register(t),W.forwardRef((e,i)=>C.jsx(Dq,{...e,ref:i,type:n}))}const Rq=Iq("line",gH);var x0={exports:{}};var MA;function Nq(){return MA||(MA=1,(function(n){(function(t,e,i,r){var o=["","webkit","Moz","MS","ms","o"],l=e.createElement("div"),u="function",d=Math.round,f=Math.abs,p=Date.now;function y(I,k,j){return setTimeout(q(I,j),k)}function _(I,k,j){return Array.isArray(I)?(v(I,j[k],j),!0):!1}function v(I,k,j){var nt;if(I)if(I.forEach)I.forEach(k,j);else if(I.length!==r)for(nt=0;nt<I.length;)k.call(j,I[nt],nt,I),nt++;else for(nt in I)I.hasOwnProperty(nt)&&k.call(j,I[nt],nt,I)}function S(I,k,j){var nt="DEPRECATED METHOD: "+k+`
`+j+` AT 
`;return function(){var ht=new Error("get-stack-trace"),_t=ht&&ht.stack?ht.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",Bt=t.console&&(t.console.warn||t.console.log);return Bt&&Bt.call(t.console,nt,_t),I.apply(this,arguments)}}var A;typeof Object.assign!="function"?A=function(k){if(k===r||k===null)throw new TypeError("Cannot convert undefined or null to object");for(var j=Object(k),nt=1;nt<arguments.length;nt++){var ht=arguments[nt];if(ht!==r&&ht!==null)for(var _t in ht)ht.hasOwnProperty(_t)&&(j[_t]=ht[_t])}return j}:A=Object.assign;var E=S(function(k,j,nt){for(var ht=Object.keys(j),_t=0;_t<ht.length;)(!nt||nt&&k[ht[_t]]===r)&&(k[ht[_t]]=j[ht[_t]]),_t++;return k},"extend","Use `assign`."),O=S(function(k,j){return E(k,j,!0)},"merge","Use `assign`.");function V(I,k,j){var nt=k.prototype,ht;ht=I.prototype=Object.create(nt),ht.constructor=I,ht._super=nt,j&&A(ht,j)}function q(I,k){return function(){return I.apply(k,arguments)}}function Y(I,k){return typeof I==u?I.apply(k&&k[0]||r,k):I}function $(I,k){return I===r?k:I}function Q(I,k,j){v(L(k),function(nt){I.addEventListener(nt,j,!1)})}function M(I,k,j){v(L(k),function(nt){I.removeEventListener(nt,j,!1)})}function D(I,k){for(;I;){if(I==k)return!0;I=I.parentNode}return!1}function N(I,k){return I.indexOf(k)>-1}function L(I){return I.trim().split(/\s+/g)}function z(I,k,j){if(I.indexOf&&!j)return I.indexOf(k);for(var nt=0;nt<I.length;){if(j&&I[nt][j]==k||!j&&I[nt]===k)return nt;nt++}return-1}function B(I){return Array.prototype.slice.call(I,0)}function U(I,k,j){for(var nt=[],ht=[],_t=0;_t<I.length;){var Bt=I[_t][k];z(ht,Bt)<0&&nt.push(I[_t]),ht[_t]=Bt,_t++}return nt=nt.sort(function(Ie,Xe){return Ie[k]>Xe[k]}),nt}function Ot(I,k){for(var j,nt,ht=k[0].toUpperCase()+k.slice(1),_t=0;_t<o.length;){if(j=o[_t],nt=j?j+ht:k,nt in I)return nt;_t++}return r}var St=1;function tt(){return St++}function ft(I){var k=I.ownerDocument||I;return k.defaultView||k.parentWindow||t}var xt=/mobile|tablet|ip(ad|hone|od)|android/i,Mt="ontouchstart"in t,Pt=Ot(t,"PointerEvent")!==r,H=Mt&&xt.test(navigator.userAgent),st="touch",gt="pen",pt="mouse",Tt="kinect",Dt=25,dt=1,Vt=2,At=4,$t=8,$e=1,Te=2,fn=4,Dn=8,Di=16,Ue=Te|fn,ii=Dn|Di,Wi=Ue|ii,yt=["x","y"],Xt=["clientX","clientY"];function ue(I,k){var j=this;this.manager=I,this.callback=k,this.element=I.element,this.target=I.options.inputTarget,this.domHandler=function(nt){Y(I.options.enable,[I])&&j.handler(nt)},this.init()}ue.prototype={handler:function(){},init:function(){this.evEl&&Q(this.element,this.evEl,this.domHandler),this.evTarget&&Q(this.target,this.evTarget,this.domHandler),this.evWin&&Q(ft(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&M(this.element,this.evEl,this.domHandler),this.evTarget&&M(this.target,this.evTarget,this.domHandler),this.evWin&&M(ft(this.element),this.evWin,this.domHandler)}};function pa(I){var k,j=I.options.inputClass;return j?k=j:Pt?k=fi:H?k=Zi:Mt?k=Ni:k=Er,new k(I,Tl)}function Tl(I,k,j){var nt=j.pointers.length,ht=j.changedPointers.length,_t=k&dt&&nt-ht===0,Bt=k&(At|$t)&&nt-ht===0;j.isFirst=!!_t,j.isFinal=!!Bt,_t&&(I.session={}),j.eventType=k,Pn(I,j),I.emit("hammer.input",j),I.recognize(j),I.session.prevInput=j}function Pn(I,k){var j=I.session,nt=k.pointers,ht=nt.length;j.firstInput||(j.firstInput=ro(k)),ht>1&&!j.firstMultiple?j.firstMultiple=ro(k):ht===1&&(j.firstMultiple=!1);var _t=j.firstInput,Bt=j.firstMultiple,He=Bt?Bt.center:_t.center,Ie=k.center=Tr(nt);k.timeStamp=p(),k.deltaTime=k.timeStamp-_t.timeStamp,k.angle=so(He,Ie),k.distance=vs(He,Ie),_s(j,k),k.offsetDirection=ya(k.deltaX,k.deltaY);var Xe=El(k.deltaTime,k.deltaX,k.deltaY);k.overallVelocityX=Xe.x,k.overallVelocityY=Xe.y,k.overallVelocity=f(Xe.x)>f(Xe.y)?Xe.x:Xe.y,k.scale=Bt?Tn(Bt.pointers,nt):1,k.rotation=Bt?Ii(Bt.pointers,nt):0,k.maxPointers=j.prevInput?k.pointers.length>j.prevInput.maxPointers?k.pointers.length:j.prevInput.maxPointers:k.pointers.length,ma(j,k);var Qe=I.element;D(k.srcEvent.target,Qe)&&(Qe=k.srcEvent.target),k.target=Qe}function _s(I,k){var j=k.center,nt=I.offsetDelta||{},ht=I.prevDelta||{},_t=I.prevInput||{};(k.eventType===dt||_t.eventType===At)&&(ht=I.prevDelta={x:_t.deltaX||0,y:_t.deltaY||0},nt=I.offsetDelta={x:j.x,y:j.y}),k.deltaX=ht.x+(j.x-nt.x),k.deltaY=ht.y+(j.y-nt.y)}function ma(I,k){var j=I.lastInterval||k,nt=k.timeStamp-j.timeStamp,ht,_t,Bt,He;if(k.eventType!=$t&&(nt>Dt||j.velocity===r)){var Ie=k.deltaX-j.deltaX,Xe=k.deltaY-j.deltaY,Qe=El(nt,Ie,Xe);_t=Qe.x,Bt=Qe.y,ht=f(Qe.x)>f(Qe.y)?Qe.x:Qe.y,He=ya(Ie,Xe),I.lastInterval=k}else ht=j.velocity,_t=j.velocityX,Bt=j.velocityY,He=j.direction;k.velocity=ht,k.velocityX=_t,k.velocityY=Bt,k.direction=He}function ro(I){for(var k=[],j=0;j<I.pointers.length;)k[j]={clientX:d(I.pointers[j].clientX),clientY:d(I.pointers[j].clientY)},j++;return{timeStamp:p(),pointers:k,center:Tr(k),deltaX:I.deltaX,deltaY:I.deltaY}}function Tr(I){var k=I.length;if(k===1)return{x:d(I[0].clientX),y:d(I[0].clientY)};for(var j=0,nt=0,ht=0;ht<k;)j+=I[ht].clientX,nt+=I[ht].clientY,ht++;return{x:d(j/k),y:d(nt/k)}}function El(I,k,j){return{x:k/I||0,y:j/I||0}}function ya(I,k){return I===k?$e:f(I)>=f(k)?I<0?Te:fn:k<0?Dn:Di}function vs(I,k,j){j||(j=yt);var nt=k[j[0]]-I[j[0]],ht=k[j[1]]-I[j[1]];return Math.sqrt(nt*nt+ht*ht)}function so(I,k,j){j||(j=yt);var nt=k[j[0]]-I[j[0]],ht=k[j[1]]-I[j[1]];return Math.atan2(ht,nt)*180/Math.PI}function Ii(I,k){return so(k[1],k[0],Xt)+so(I[1],I[0],Xt)}function Tn(I,k){return vs(k[0],k[1],Xt)/vs(I[0],I[1],Xt)}var hi={mousedown:dt,mousemove:Vt,mouseup:At},je="mousedown",Sl="mousemove mouseup";function Er(){this.evEl=je,this.evWin=Sl,this.pressed=!1,ue.apply(this,arguments)}V(Er,ue,{handler:function(k){var j=hi[k.type];j&dt&&k.button===0&&(this.pressed=!0),j&Vt&&k.which!==1&&(j=At),this.pressed&&(j&At&&(this.pressed=!1),this.callback(this.manager,j,{pointers:[k],changedPointers:[k],pointerType:pt,srcEvent:k}))}});var Al={pointerdown:dt,pointermove:Vt,pointerup:At,pointercancel:$t,pointerout:$t},Xi={2:st,3:gt,4:pt,5:Tt},Br="pointerdown",Be="pointermove pointerup pointercancel";t.MSPointerEvent&&!t.PointerEvent&&(Br="MSPointerDown",Be="MSPointerMove MSPointerUp MSPointerCancel");function fi(){this.evEl=Br,this.evWin=Be,ue.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}V(fi,ue,{handler:function(k){var j=this.store,nt=!1,ht=k.type.toLowerCase().replace("ms",""),_t=Al[ht],Bt=Xi[k.pointerType]||k.pointerType,He=Bt==st,Ie=z(j,k.pointerId,"pointerId");_t&dt&&(k.button===0||He)?Ie<0&&(j.push(k),Ie=j.length-1):_t&(At|$t)&&(nt=!0),!(Ie<0)&&(j[Ie]=k,this.callback(this.manager,_t,{pointers:j,changedPointers:[k],pointerType:Bt,srcEvent:k}),nt&&j.splice(Ie,1))}});var Qi={touchstart:dt,touchmove:Vt,touchend:At,touchcancel:$t},Ri="touchstart",Qc="touchstart touchmove touchend touchcancel";function ba(){this.evTarget=Ri,this.evWin=Qc,this.started=!1,ue.apply(this,arguments)}V(ba,ue,{handler:function(k){var j=Qi[k.type];if(j===dt&&(this.started=!0),!!this.started){var nt=Ki.call(this,k,j);j&(At|$t)&&nt[0].length-nt[1].length===0&&(this.started=!1),this.callback(this.manager,j,{pointers:nt[0],changedPointers:nt[1],pointerType:st,srcEvent:k})}}});function Ki(I,k){var j=B(I.touches),nt=B(I.changedTouches);return k&(At|$t)&&(j=U(j.concat(nt),"identifier")),[j,nt]}var xs={touchstart:dt,touchmove:Vt,touchend:At,touchcancel:$t},Kc="touchstart touchmove touchend touchcancel";function Zi(){this.evTarget=Kc,this.targetIds={},ue.apply(this,arguments)}V(Zi,ue,{handler:function(k){var j=xs[k.type],nt=_a.call(this,k,j);nt&&this.callback(this.manager,j,{pointers:nt[0],changedPointers:nt[1],pointerType:st,srcEvent:k})}});function _a(I,k){var j=B(I.touches),nt=this.targetIds;if(k&(dt|Vt)&&j.length===1)return nt[j[0].identifier]=!0,[j,j];var ht,_t,Bt=B(I.changedTouches),He=[],Ie=this.target;if(_t=j.filter(function(Xe){return D(Xe.target,Ie)}),k===dt)for(ht=0;ht<_t.length;)nt[_t[ht].identifier]=!0,ht++;for(ht=0;ht<Bt.length;)nt[Bt[ht].identifier]&&He.push(Bt[ht]),k&(At|$t)&&delete nt[Bt[ht].identifier],ht++;if(He.length)return[U(_t.concat(He),"identifier"),He]}var va=2500,Fr=25;function Ni(){ue.apply(this,arguments);var I=q(this.handler,this);this.touch=new Zi(this.manager,I),this.mouse=new Er(this.manager,I),this.primaryTouch=null,this.lastTouches=[]}V(Ni,ue,{handler:function(k,j,nt){var ht=nt.pointerType==st,_t=nt.pointerType==pt;if(!(_t&&nt.sourceCapabilities&&nt.sourceCapabilities.firesTouchEvents)){if(ht)Cl.call(this,j,nt);else if(_t&&Mi.call(this,nt))return;this.callback(k,j,nt)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});function Cl(I,k){I&dt?(this.primaryTouch=k.changedPointers[0].identifier,gi.call(this,k)):I&(At|$t)&&gi.call(this,k)}function gi(I){var k=I.changedPointers[0];if(k.identifier===this.primaryTouch){var j={x:k.clientX,y:k.clientY};this.lastTouches.push(j);var nt=this.lastTouches,ht=function(){var _t=nt.indexOf(j);_t>-1&&nt.splice(_t,1)};setTimeout(ht,va)}}function Mi(I){for(var k=I.srcEvent.clientX,j=I.srcEvent.clientY,nt=0;nt<this.lastTouches.length;nt++){var ht=this.lastTouches[nt],_t=Math.abs(k-ht.x),Bt=Math.abs(j-ht.y);if(_t<=Fr&&Bt<=Fr)return!0}return!1}var Fe=Ot(l.style,"touchAction"),rn=Fe!==r,Oi="compute",ws="auto",xa="manipulation",Ji="none",Hr="pan-x",Yn="pan-y",Sr=ri();function pi(I,k){this.manager=I,this.set(k)}pi.prototype={set:function(I){I==Oi&&(I=this.compute()),rn&&this.manager.element.style&&Sr[I]&&(this.manager.element.style[Fe]=I),this.actions=I.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var I=[];return v(this.manager.recognizers,function(k){Y(k.options.enable,[k])&&(I=I.concat(k.getTouchAction()))}),mi(I.join(" "))},preventDefaults:function(I){var k=I.srcEvent,j=I.offsetDirection;if(this.manager.session.prevented){k.preventDefault();return}var nt=this.actions,ht=N(nt,Ji)&&!Sr[Ji],_t=N(nt,Yn)&&!Sr[Yn],Bt=N(nt,Hr)&&!Sr[Hr];if(ht){var He=I.pointers.length===1,Ie=I.distance<2,Xe=I.deltaTime<250;if(He&&Ie&&Xe)return}if(!(Bt&&_t)&&(ht||_t&&j&Ue||Bt&&j&ii))return this.preventSrc(k)},preventSrc:function(I){this.manager.session.prevented=!0,I.preventDefault()}};function mi(I){if(N(I,Ji))return Ji;var k=N(I,Hr),j=N(I,Yn);return k&&j?Ji:k||j?k?Hr:Yn:N(I,xa)?xa:ws}function ri(){if(!rn)return!1;var I={},k=t.CSS&&t.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(j){I[j]=k?t.CSS.supports("touch-action",j):!0}),I}var si=1,de=2,tr=4,yi=8,gn=yi,$n=16,Wn=32;function oi(I){this.options=A({},this.defaults,I||{}),this.id=tt(),this.manager=null,this.options.enable=$(this.options.enable,!0),this.state=si,this.simultaneous={},this.requireFail=[]}oi.prototype={defaults:{},set:function(I){return A(this.options,I),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(I){if(_(I,"recognizeWith",this))return this;var k=this.simultaneous;return I=Ar(I,this),k[I.id]||(k[I.id]=I,I.recognizeWith(this)),this},dropRecognizeWith:function(I){return _(I,"dropRecognizeWith",this)?this:(I=Ar(I,this),delete this.simultaneous[I.id],this)},requireFailure:function(I){if(_(I,"requireFailure",this))return this;var k=this.requireFail;return I=Ar(I,this),z(k,I)===-1&&(k.push(I),I.requireFailure(this)),this},dropRequireFailure:function(I){if(_(I,"dropRequireFailure",this))return this;I=Ar(I,this);var k=z(this.requireFail,I);return k>-1&&this.requireFail.splice(k,1),this},hasRequireFailures:function(){return this.requireFail.length>0},canRecognizeWith:function(I){return!!this.simultaneous[I.id]},emit:function(I){var k=this,j=this.state;function nt(ht){k.manager.emit(ht,I)}j<yi&&nt(k.options.event+oo(j)),nt(k.options.event),I.additionalEvent&&nt(I.additionalEvent),j>=yi&&nt(k.options.event+oo(j))},tryEmit:function(I){if(this.canEmit())return this.emit(I);this.state=Wn},canEmit:function(){for(var I=0;I<this.requireFail.length;){if(!(this.requireFail[I].state&(Wn|si)))return!1;I++}return!0},recognize:function(I){var k=A({},I);if(!Y(this.options.enable,[this,k])){this.reset(),this.state=Wn;return}this.state&(gn|$n|Wn)&&(this.state=si),this.state=this.process(k),this.state&(de|tr|yi|$n)&&this.tryEmit(k)},process:function(I){},getTouchAction:function(){},reset:function(){}};function oo(I){return I&$n?"cancel":I&yi?"end":I&tr?"move":I&de?"start":""}function wa(I){return I==Di?"down":I==Dn?"up":I==Te?"left":I==fn?"right":""}function Ar(I,k){var j=k.manager;return j?j.get(I):I}function Me(){oi.apply(this,arguments)}V(Me,oi,{defaults:{pointers:1},attrTest:function(I){var k=this.options.pointers;return k===0||I.pointers.length===k},process:function(I){var k=this.state,j=I.eventType,nt=k&(de|tr),ht=this.attrTest(I);return nt&&(j&$t||!ht)?k|$n:nt||ht?j&At?k|yi:k&de?k|tr:de:Wn}});function Oe(){Me.apply(this,arguments),this.pX=null,this.pY=null}V(Oe,Me,{defaults:{event:"pan",threshold:10,pointers:1,direction:Wi},getTouchAction:function(){var I=this.options.direction,k=[];return I&Ue&&k.push(Yn),I&ii&&k.push(Hr),k},directionTest:function(I){var k=this.options,j=!0,nt=I.distance,ht=I.direction,_t=I.deltaX,Bt=I.deltaY;return ht&k.direction||(k.direction&Ue?(ht=_t===0?$e:_t<0?Te:fn,j=_t!=this.pX,nt=Math.abs(I.deltaX)):(ht=Bt===0?$e:Bt<0?Dn:Di,j=Bt!=this.pY,nt=Math.abs(I.deltaY))),I.direction=ht,j&&nt>k.threshold&&ht&k.direction},attrTest:function(I){return Me.prototype.attrTest.call(this,I)&&(this.state&de||!(this.state&de)&&this.directionTest(I))},emit:function(I){this.pX=I.deltaX,this.pY=I.deltaY;var k=wa(I.direction);k&&(I.additionalEvent=this.options.event+k),this._super.emit.call(this,I)}});function We(){Me.apply(this,arguments)}V(We,Me,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return[Ji]},attrTest:function(I){return this._super.attrTest.call(this,I)&&(Math.abs(I.scale-1)>this.options.threshold||this.state&de)},emit:function(I){if(I.scale!==1){var k=I.scale<1?"in":"out";I.additionalEvent=this.options.event+k}this._super.emit.call(this,I)}});function er(){oi.apply(this,arguments),this._timer=null,this._input=null}V(er,oi,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return[ws]},process:function(I){var k=this.options,j=I.pointers.length===k.pointers,nt=I.distance<k.threshold,ht=I.deltaTime>k.time;if(this._input=I,!nt||!j||I.eventType&(At|$t)&&!ht)this.reset();else if(I.eventType&dt)this.reset(),this._timer=y(function(){this.state=gn,this.tryEmit()},k.time,this);else if(I.eventType&At)return gn;return Wn},reset:function(){clearTimeout(this._timer)},emit:function(I){this.state===gn&&(I&&I.eventType&At?this.manager.emit(this.options.event+"up",I):(this._input.timeStamp=p(),this.manager.emit(this.options.event,this._input)))}});function Ts(){Me.apply(this,arguments)}V(Ts,Me,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return[Ji]},attrTest:function(I){return this._super.attrTest.call(this,I)&&(Math.abs(I.rotation)>this.options.threshold||this.state&de)}});function he(){Me.apply(this,arguments)}V(he,Me,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:Ue|ii,pointers:1},getTouchAction:function(){return Oe.prototype.getTouchAction.call(this)},attrTest:function(I){var k=this.options.direction,j;return k&(Ue|ii)?j=I.overallVelocity:k&Ue?j=I.overallVelocityX:k&ii&&(j=I.overallVelocityY),this._super.attrTest.call(this,I)&&k&I.offsetDirection&&I.distance>this.options.threshold&&I.maxPointers==this.options.pointers&&f(j)>this.options.velocity&&I.eventType&At},emit:function(I){var k=wa(I.offsetDirection);k&&this.manager.emit(this.options.event+k,I),this.manager.emit(this.options.event,I)}});function nr(){oi.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}V(nr,oi,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return[xa]},process:function(I){var k=this.options,j=I.pointers.length===k.pointers,nt=I.distance<k.threshold,ht=I.deltaTime<k.time;if(this.reset(),I.eventType&dt&&this.count===0)return this.failTimeout();if(nt&&ht&&j){if(I.eventType!=At)return this.failTimeout();var _t=this.pTime?I.timeStamp-this.pTime<k.interval:!0,Bt=!this.pCenter||vs(this.pCenter,I.center)<k.posThreshold;this.pTime=I.timeStamp,this.pCenter=I.center,!Bt||!_t?this.count=1:this.count+=1,this._input=I;var He=this.count%k.taps;if(He===0)return this.hasRequireFailures()?(this._timer=y(function(){this.state=gn,this.tryEmit()},k.interval,this),de):gn}return Wn},failTimeout:function(){return this._timer=y(function(){this.state=Wn},this.options.interval,this),Wn},reset:function(){clearTimeout(this._timer)},emit:function(){this.state==gn&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}});function En(I,k){return k=k||{},k.recognizers=$(k.recognizers,En.defaults.preset),new qr(I,k)}En.VERSION="2.0.7",En.defaults={domEvents:!1,touchAction:Oi,enable:!0,inputTarget:null,inputClass:null,preset:[[Ts,{enable:!1}],[We,{enable:!1},["rotate"]],[he,{direction:Ue}],[Oe,{direction:Ue},["swipe"]],[nr],[nr,{event:"doubletap",taps:2},["tap"]],[er]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};var Es=1,zn=2;function qr(I,k){this.options=A({},En.defaults,k||{}),this.options.inputTarget=this.options.inputTarget||I,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=I,this.input=pa(this),this.touchAction=new pi(this,this.options.touchAction),Ta(this,!0),v(this.options.recognizers,function(j){var nt=this.add(new j[0](j[1]));j[2]&&nt.recognizeWith(j[2]),j[3]&&nt.requireFailure(j[3])},this)}qr.prototype={set:function(I){return A(this.options,I),I.touchAction&&this.touchAction.update(),I.inputTarget&&(this.input.destroy(),this.input.target=I.inputTarget,this.input.init()),this},stop:function(I){this.session.stopped=I?zn:Es},recognize:function(I){var k=this.session;if(!k.stopped){this.touchAction.preventDefaults(I);var j,nt=this.recognizers,ht=k.curRecognizer;(!ht||ht&&ht.state&gn)&&(ht=k.curRecognizer=null);for(var _t=0;_t<nt.length;)j=nt[_t],k.stopped!==zn&&(!ht||j==ht||j.canRecognizeWith(ht))?j.recognize(I):j.reset(),!ht&&j.state&(de|tr|yi)&&(ht=k.curRecognizer=j),_t++}},get:function(I){if(I instanceof oi)return I;for(var k=this.recognizers,j=0;j<k.length;j++)if(k[j].options.event==I)return k[j];return null},add:function(I){if(_(I,"add",this))return this;var k=this.get(I.options.event);return k&&this.remove(k),this.recognizers.push(I),I.manager=this,this.touchAction.update(),I},remove:function(I){if(_(I,"remove",this))return this;if(I=this.get(I),I){var k=this.recognizers,j=z(k,I);j!==-1&&(k.splice(j,1),this.touchAction.update())}return this},on:function(I,k){if(I!==r&&k!==r){var j=this.handlers;return v(L(I),function(nt){j[nt]=j[nt]||[],j[nt].push(k)}),this}},off:function(I,k){if(I!==r){var j=this.handlers;return v(L(I),function(nt){k?j[nt]&&j[nt].splice(z(j[nt],k),1):delete j[nt]}),this}},emit:function(I,k){this.options.domEvents&&Ea(I,k);var j=this.handlers[I]&&this.handlers[I].slice();if(!(!j||!j.length)){k.type=I,k.preventDefault=function(){k.srcEvent.preventDefault()};for(var nt=0;nt<j.length;)j[nt](k),nt++}},destroy:function(){this.element&&Ta(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}};function Ta(I,k){var j=I.element;if(j.style){var nt;v(I.options.cssProps,function(ht,_t){nt=Ot(j.style,_t),k?(I.oldCssProps[nt]=j.style[nt],j.style[nt]=ht):j.style[nt]=I.oldCssProps[nt]||""}),k||(I.oldCssProps={})}}function Ea(I,k){var j=e.createEvent("Event");j.initEvent(I,!0,!0),j.gesture=k,k.target.dispatchEvent(j)}A(En,{INPUT_START:dt,INPUT_MOVE:Vt,INPUT_END:At,INPUT_CANCEL:$t,STATE_POSSIBLE:si,STATE_BEGAN:de,STATE_CHANGED:tr,STATE_ENDED:yi,STATE_RECOGNIZED:gn,STATE_CANCELLED:$n,STATE_FAILED:Wn,DIRECTION_NONE:$e,DIRECTION_LEFT:Te,DIRECTION_RIGHT:fn,DIRECTION_UP:Dn,DIRECTION_DOWN:Di,DIRECTION_HORIZONTAL:Ue,DIRECTION_VERTICAL:ii,DIRECTION_ALL:Wi,Manager:qr,Input:ue,TouchAction:pi,TouchInput:Zi,MouseInput:Er,PointerEventInput:fi,TouchMouseInput:Ni,SingleTouchInput:ba,Recognizer:oi,AttrRecognizer:Me,Tap:nr,Pan:Oe,Swipe:he,Pinch:We,Rotate:Ts,Press:er,on:Q,off:M,each:v,merge:O,extend:E,assign:A,inherit:V,bindFn:q,prefixed:Ot});var Gr=typeof t<"u"?t:typeof self<"u"?self:{};Gr.Hammer=En,n.exports?n.exports=En:t[i]=En})(window,document,"Hammer")})(x0)),x0.exports}var Mq=Nq();const xd=Jg(Mq);const Wd=n=>n&&n.enabled&&n.modifierKey,QR=(n,t)=>n&&t[n+"Key"],fv=(n,t)=>n&&!t[n+"Key"];function ca(n,t,e){return n===void 0?!0:typeof n=="string"?n.indexOf(t)!==-1:typeof n=="function"?n({chart:e}).indexOf(t)!==-1:!1}function w0(n,t){return typeof n=="function"&&(n=n({chart:t})),typeof n=="string"?{x:n.indexOf("x")!==-1,y:n.indexOf("y")!==-1}:{x:!1,y:!1}}function Oq(n,t){let e;return function(){return clearTimeout(e),e=setTimeout(n,t),t}}function kq({x:n,y:t},e){const i=e.scales,r=Object.keys(i);for(let o=0;o<r.length;o++){const l=i[r[o]];if(t>=l.top&&t<=l.bottom&&n>=l.left&&n<=l.right)return l}return null}function KR(n,t,e){const{mode:i="xy",scaleMode:r,overScaleMode:o}=n||{},l=kq(t,e),u=w0(i,e),d=w0(r,e);if(o){const p=w0(o,e);for(const y of["x","y"])p[y]&&(d[y]=u[y],u[y]=!1)}if(l&&d[l.axis])return[l];const f=[];return te(e.scales,function(p){u[p.axis]&&f.push(p)}),f}const xb=new WeakMap;function Ge(n){let t=xb.get(n);return t||(t={originalScaleLimits:{},updatedScaleLimits:{},handlers:{},panDelta:{},dragging:!1,panning:!1},xb.set(n,t)),t}function Pq(n){xb.delete(n)}function ZR(n,t,e,i){const r=Math.max(0,Math.min(1,(n-t)/e||0)),o=1-r;return{min:i*r,max:i*o}}function JR(n,t){const e=n.isHorizontal()?t.x:t.y;return n.getValueForPixel(e)}function tN(n,t,e){const i=n.max-n.min,r=i*(t-1),o=JR(n,e);return ZR(o,n.min,i,r)}function zq(n,t,e){const i=JR(n,e);if(i===void 0)return{min:n.min,max:n.max};const r=Math.log10(n.min),o=Math.log10(n.max),l=Math.log10(i),u=o-r,d=u*(t-1),f=ZR(l,r,u,d);return{min:Math.pow(10,r+f.min),max:Math.pow(10,o-f.max)}}function Lq(n,t){return t&&(t[n.id]||t[n.axis])||{}}function OA(n,t,e,i,r){let o=e[i];if(o==="original"){const l=n.originalScaleLimits[t.id][i];o=Qt(l.options,l.scale)}return Qt(o,r)}function Vq(n,t,e){const i=n.getValueForPixel(t),r=n.getValueForPixel(e);return{min:Math.min(i,r),max:Math.max(i,r)}}function Uq(n,{min:t,max:e,minLimit:i,maxLimit:r},o){const l=(n-e+t)/2;t-=l,e+=l;const u=o.min.options??o.min.scale,d=o.max.options??o.max.scale,f=n/1e6;return ol(t,u,f)&&(t=u),ol(e,d,f)&&(e=d),t<i?(t=i,e=Math.min(i+n,r)):e>r&&(e=r,t=Math.max(r-n,i)),{min:t,max:e}}function vl(n,{min:t,max:e},i,r=!1){const o=Ge(n.chart),{options:l}=n,u=Lq(n,i),{minRange:d=0}=u,f=OA(o,n,u,"min",-1/0),p=OA(o,n,u,"max",1/0);if(r==="pan"&&(t<f||e>p))return!0;const y=n.max-n.min,_=r?Math.max(e-t,d):y;if(r&&_===d&&y<=d)return!0;const v=Uq(_,{min:t,max:e,minLimit:f,maxLimit:p},o.originalScaleLimits[n.id]);return l.min=v.min,l.max=v.max,o.updatedScaleLimits[n.id]=v,n.parse(v.min)!==n.min||n.parse(v.max)!==n.max}function jq(n,t,e,i){const r=tN(n,t,e),o={min:n.min+r.min,max:n.max-r.max};return vl(n,o,i,!0)}function Bq(n,t,e,i){const r=zq(n,t,e);return vl(n,r,i,!0)}function Fq(n,t,e,i){vl(n,Vq(n,t,e),i,!0)}const kA=n=>n===0||isNaN(n)?0:n<0?Math.min(Math.round(n),-1):Math.max(Math.round(n),1);function Hq(n){const e=n.getLabels().length-1;n.min>0&&(n.min-=1),n.max<e&&(n.max+=1)}function qq(n,t,e,i){const r=tN(n,t,e);n.min===n.max&&t<1&&Hq(n);const o={min:n.min+kA(r.min),max:n.max-kA(r.max)};return vl(n,o,i,!0)}function Gq(n){return n.isHorizontal()?n.width:n.height}function Yq(n,t,e){const r=n.getLabels().length-1;let{min:o,max:l}=n;const u=Math.max(l-o,1),d=Math.round(Gq(n)/Math.max(u,10)),f=Math.round(Math.abs(t/d));let p;return t<-d?(l=Math.min(l+f,r),o=u===1?l:l-u,p=l===r):t>d&&(o=Math.max(0,o-f),l=u===1?o:o+u,p=o===0),vl(n,{min:o,max:l},e)||p}const $q={second:500,minute:30*1e3,hour:1800*1e3,day:720*60*1e3,week:3.5*24*60*60*1e3,month:360*60*60*1e3,quarter:1440*60*60*1e3,year:4368*60*60*1e3};function eN(n,t,e,i=!1){const{min:r,max:o,options:l}=n,u=l.time&&l.time.round,d=$q[u]||0,f=n.getValueForPixel(n.getPixelForValue(r+d)-t),p=n.getValueForPixel(n.getPixelForValue(o+d)-t);return isNaN(f)||isNaN(p)?!0:vl(n,{min:f,max:p},e,i?"pan":!1)}function PA(n,t,e){return eN(n,t,e,!0)}const wb={category:qq,default:jq,logarithmic:Bq},Tb={default:Fq},Eb={category:Yq,default:eN,logarithmic:PA,timeseries:PA};function Wq(n,t,e){const{id:i,options:{min:r,max:o}}=n;if(!t[i]||!e[i])return!0;const l=e[i];return l.min!==r||l.max!==o}function zA(n,t){te(n,(e,i)=>{t[i]||delete n[i]})}function Xc(n,t){const{scales:e}=n,{originalScaleLimits:i,updatedScaleLimits:r}=t;return te(e,function(o){Wq(o,i,r)&&(i[o.id]={min:{scale:o.min,options:o.options.min},max:{scale:o.max,options:o.options.max}})}),zA(i,e),zA(r,e),i}function LA(n,t,e,i){const r=wb[n.type]||wb.default;Ut(r,[n,t,e,i])}function VA(n,t,e,i){const r=Tb[n.type]||Tb.default;Ut(r,[n,t,e,i])}function Xq(n){const t=n.chartArea;return{x:(t.left+t.right)/2,y:(t.top+t.bottom)/2}}function gv(n,t,e="none",i="api"){const{x:r=1,y:o=1,focalPoint:l=Xq(n)}=typeof t=="number"?{x:t,y:t}:t,u=Ge(n),{options:{limits:d,zoom:f}}=u;Xc(n,u);const p=r!==1,y=o!==1,_=KR(f,l,n);te(_||n.scales,function(v){v.isHorizontal()&&p?LA(v,r,l,d):!v.isHorizontal()&&y&&LA(v,o,l,d)}),n.update(e),Ut(f.onZoom,[{chart:n,trigger:i}])}function nN(n,t,e,i="none",r="api"){const o=Ge(n),{options:{limits:l,zoom:u}}=o,{mode:d="xy"}=u;Xc(n,o);const f=ca(d,"x",n),p=ca(d,"y",n);te(n.scales,function(y){y.isHorizontal()&&f?VA(y,t.x,e.x,l):!y.isHorizontal()&&p&&VA(y,t.y,e.y,l)}),n.update(i),Ut(u.onZoom,[{chart:n,trigger:r}])}function Qq(n,t,e,i="none",r="api"){const o=Ge(n);Xc(n,o);const l=n.scales[t];vl(l,e,void 0,!0),n.update(i),Ut(o.options.zoom?.onZoom,[{chart:n,trigger:r}])}function Kq(n,t="default"){const e=Ge(n),i=Xc(n,e);te(n.scales,function(r){const o=r.options;i[r.id]?(o.min=i[r.id].min.options,o.max=i[r.id].max.options):(delete o.min,delete o.max),delete e.updatedScaleLimits[r.id]}),n.update(t),Ut(e.options.zoom.onZoomComplete,[{chart:n}])}function Zq(n,t){const e=n.originalScaleLimits[t];if(!e)return;const{min:i,max:r}=e;return Qt(r.options,r.scale)-Qt(i.options,i.scale)}function Jq(n){const t=Ge(n);let e=1,i=1;return te(n.scales,function(r){const o=Zq(t,r.id);if(o){const l=Math.round(o/(r.max-r.min)*100)/100;e=Math.min(e,l),i=Math.max(i,l)}}),e<1?e:i}function UA(n,t,e,i){const{panDelta:r}=i,o=r[n.id]||0;la(o)===la(t)&&(t+=o);const l=Eb[n.type]||Eb.default;Ut(l,[n,t,e])?r[n.id]=0:r[n.id]=t}function iN(n,t,e,i="none"){const{x:r=0,y:o=0}=typeof t=="number"?{x:t,y:t}:t,l=Ge(n),{options:{pan:u,limits:d}}=l,{onPan:f}=u||{};Xc(n,l);const p=r!==0,y=o!==0;te(e||n.scales,function(_){_.isHorizontal()&&p?UA(_,r,d,l):!_.isHorizontal()&&y&&UA(_,o,d,l)}),n.update(i),Ut(f,[{chart:n}])}function rN(n){const t=Ge(n);Xc(n,t);const e={};for(const i of Object.keys(n.scales)){const{min:r,max:o}=t.originalScaleLimits[i]||{min:{},max:{}};e[i]={min:r.scale,max:o.scale}}return e}function tG(n){const t=Ge(n),e={};for(const i of Object.keys(n.scales))e[i]=t.updatedScaleLimits[i];return e}function eG(n){const t=rN(n);for(const e of Object.keys(n.scales)){const{min:i,max:r}=t[e];if(i!==void 0&&n.scales[e].min!==i||r!==void 0&&n.scales[e].max!==r)return!0}return!1}function jA(n){const t=Ge(n);return t.panning||t.dragging}const BA=(n,t,e)=>Math.min(e,Math.max(t,n));function Si(n,t){const{handlers:e}=Ge(n),i=e[t];i&&i.target&&(i.target.removeEventListener(t,i),delete e[t])}function wd(n,t,e,i){const{handlers:r,options:o}=Ge(n),l=r[e];if(l&&l.target===t)return;Si(n,e),r[e]=d=>i(n,d,o),r[e].target=t;const u=e==="wheel"?!1:void 0;t.addEventListener(e,r[e],{passive:u})}function nG(n,t){const e=Ge(n);e.dragStart&&(e.dragging=!0,e.dragEnd=t,n.update("none"))}function iG(n,t){const e=Ge(n);!e.dragStart||t.key!=="Escape"||(Si(n,"keydown"),e.dragging=!1,e.dragStart=e.dragEnd=null,n.update("none"))}function Sb(n,t){if(n.target!==t.canvas){const e=t.canvas.getBoundingClientRect();return{x:n.clientX-e.left,y:n.clientY-e.top}}return as(n,t)}function sN(n,t,e){const{onZoomStart:i,onZoomRejected:r}=e;if(i){const o=Sb(t,n);if(Ut(i,[{chart:n,event:t,point:o}])===!1)return Ut(r,[{chart:n,event:t}]),!1}}function rG(n,t){if(n.legend){const o=as(t,n);if(Oc(o,n.legend))return}const e=Ge(n),{pan:i,zoom:r={}}=e.options;if(t.button!==0||QR(Wd(i),t)||fv(Wd(r.drag),t))return Ut(r.onZoomRejected,[{chart:n,event:t}]);sN(n,t,r)!==!1&&(e.dragStart=t,wd(n,n.canvas.ownerDocument,"mousemove",nG),wd(n,window.document,"keydown",iG))}function sG({begin:n,end:t},e){let i=t.x-n.x,r=t.y-n.y;const o=Math.abs(i/r);o>e?i=Math.sign(i)*Math.abs(r*e):o<e&&(r=Math.sign(r)*Math.abs(i/e)),t.x=n.x+i,t.y=n.y+r}function FA(n,t,e,{min:i,max:r,prop:o}){n[i]=BA(Math.min(e.begin[o],e.end[o]),t[i],t[r]),n[r]=BA(Math.max(e.begin[o],e.end[o]),t[i],t[r])}function oG(n,t,e){const i={begin:Sb(t.dragStart,n),end:Sb(t.dragEnd,n)};if(e){const r=n.chartArea.width/n.chartArea.height;sG(i,r)}return i}function oN(n,t,e,i){const r=ca(t,"x",n),o=ca(t,"y",n),{top:l,left:u,right:d,bottom:f,width:p,height:y}=n.chartArea,_={top:l,left:u,right:d,bottom:f},v=oG(n,e,i&&r&&o);r&&FA(_,n.chartArea,v,{min:"left",max:"right",prop:"x"}),o&&FA(_,n.chartArea,v,{min:"top",max:"bottom",prop:"y"});const S=_.right-_.left,A=_.bottom-_.top;return{..._,width:S,height:A,zoomX:r&&S?1+(p-S)/p:1,zoomY:o&&A?1+(y-A)/y:1}}function aG(n,t){const e=Ge(n);if(!e.dragStart)return;Si(n,"mousemove");const{mode:i,onZoomComplete:r,drag:{threshold:o=0,maintainAspectRatio:l}}=e.options.zoom,u=oN(n,i,{dragStart:e.dragStart,dragEnd:t},l),d=ca(i,"x",n)?u.width:0,f=ca(i,"y",n)?u.height:0,p=Math.sqrt(d*d+f*f);if(e.dragStart=e.dragEnd=null,p<=o){e.dragging=!1,n.update("none");return}nN(n,{x:u.left,y:u.top},{x:u.right,y:u.bottom},"zoom","drag"),e.dragging=!1,e.filterNextClick=!0,Ut(r,[{chart:n}])}function lG(n,t,e){if(fv(Wd(e.wheel),t)){Ut(e.onZoomRejected,[{chart:n,event:t}]);return}if(sN(n,t,e)!==!1&&(t.cancelable&&t.preventDefault(),t.deltaY!==void 0))return!0}function cG(n,t){const{handlers:{onZoomComplete:e},options:{zoom:i}}=Ge(n);if(!lG(n,t,i))return;const r=t.target.getBoundingClientRect(),o=i.wheel.speed,l=t.deltaY>=0?2-1/(1-o):1+o,u={x:l,y:l,focalPoint:{x:t.clientX-r.left,y:t.clientY-r.top}};gv(n,u,"zoom","wheel"),Ut(e,[{chart:n}])}function uG(n,t,e,i){e&&(Ge(n).handlers[t]=Oq(()=>Ut(e,[{chart:n}]),i))}function dG(n,t){const e=n.canvas,{wheel:i,drag:r,onZoomComplete:o}=t.zoom;i.enabled?(wd(n,e,"wheel",cG),uG(n,"onZoomComplete",o,250)):Si(n,"wheel"),r.enabled?(wd(n,e,"mousedown",rG),wd(n,e.ownerDocument,"mouseup",aG)):(Si(n,"mousedown"),Si(n,"mousemove"),Si(n,"mouseup"),Si(n,"keydown"))}function hG(n){Si(n,"mousedown"),Si(n,"mousemove"),Si(n,"mouseup"),Si(n,"wheel"),Si(n,"click"),Si(n,"keydown")}function fG(n,t){return function(e,i){const{pan:r,zoom:o={}}=t.options;if(!r||!r.enabled)return!1;const l=i&&i.srcEvent;return l&&!t.panning&&i.pointerType==="mouse"&&(fv(Wd(r),l)||QR(Wd(o.drag),l))?(Ut(r.onPanRejected,[{chart:n,event:i}]),!1):!0}}function gG(n,t){const e=Math.abs(n.clientX-t.clientX),i=Math.abs(n.clientY-t.clientY),r=e/i;let o,l;return r>.3&&r<1.7?o=l=!0:e>i?o=!0:l=!0,{x:o,y:l}}function aN(n,t,e){if(t.scale){const{center:i,pointers:r}=e,o=1/t.scale*e.scale,l=e.target.getBoundingClientRect(),u=gG(r[0],r[1]),d=t.options.zoom.mode,f={x:u.x&&ca(d,"x",n)?o:1,y:u.y&&ca(d,"y",n)?o:1,focalPoint:{x:i.x-l.left,y:i.y-l.top}};gv(n,f,"zoom","pinch"),t.scale=e.scale}}function pG(n,t,e){if(t.options.zoom.pinch.enabled){const i=as(e,n);Ut(t.options.zoom.onZoomStart,[{chart:n,event:e,point:i}])===!1?(t.scale=null,Ut(t.options.zoom.onZoomRejected,[{chart:n,event:e}])):t.scale=1}}function mG(n,t,e){t.scale&&(aN(n,t,e),t.scale=null,Ut(t.options.zoom.onZoomComplete,[{chart:n}]))}function lN(n,t,e){const i=t.delta;i&&(t.panning=!0,iN(n,{x:e.deltaX-i.x,y:e.deltaY-i.y},t.panScales),t.delta={x:e.deltaX,y:e.deltaY})}function yG(n,t,e){const{enabled:i,onPanStart:r,onPanRejected:o}=t.options.pan;if(!i)return;const l=e.target.getBoundingClientRect(),u={x:e.center.x-l.left,y:e.center.y-l.top};if(Ut(r,[{chart:n,event:e,point:u}])===!1)return Ut(o,[{chart:n,event:e}]);t.panScales=KR(t.options.pan,u,n),t.delta={x:0,y:0},lN(n,t,e)}function bG(n,t){t.delta=null,t.panning&&(t.panning=!1,t.filterNextClick=!0,Ut(t.options.pan.onPanComplete,[{chart:n}]))}const Ab=new WeakMap;function HA(n,t){const e=Ge(n),i=n.canvas,{pan:r,zoom:o}=t,l=new xd.Manager(i);o&&o.pinch.enabled&&(l.add(new xd.Pinch),l.on("pinchstart",u=>pG(n,e,u)),l.on("pinch",u=>aN(n,e,u)),l.on("pinchend",u=>mG(n,e,u))),r&&r.enabled&&(l.add(new xd.Pan({threshold:r.threshold,enable:fG(n,e)})),l.on("panstart",u=>yG(n,e,u)),l.on("panmove",u=>lN(n,e,u)),l.on("panend",()=>bG(n,e))),Ab.set(n,l)}function qA(n){const t=Ab.get(n);t&&(t.remove("pinchstart"),t.remove("pinch"),t.remove("pinchend"),t.remove("panstart"),t.remove("pan"),t.remove("panend"),t.destroy(),Ab.delete(n))}function _G(n,t){const{pan:e,zoom:i}=n,{pan:r,zoom:o}=t;return i?.zoom?.pinch?.enabled!==o?.zoom?.pinch?.enabled||e?.enabled!==r?.enabled||e?.threshold!==r?.threshold}var vG="2.2.0";function Jf(n,t,e){const i=e.zoom.drag,{dragStart:r,dragEnd:o}=Ge(n);if(i.drawTime!==t||!o)return;const{left:l,top:u,width:d,height:f}=oN(n,e.zoom.mode,{dragStart:r,dragEnd:o},i.maintainAspectRatio),p=n.ctx;p.save(),p.beginPath(),p.fillStyle=i.backgroundColor||"rgba(225,225,225,0.3)",p.fillRect(l,u,d,f),i.borderWidth>0&&(p.lineWidth=i.borderWidth,p.strokeStyle=i.borderColor||"rgba(225,225,225)",p.strokeRect(l,u,d,f)),p.restore()}var xG={id:"zoom",version:vG,defaults:{pan:{enabled:!1,mode:"xy",threshold:10,modifierKey:null},zoom:{wheel:{enabled:!1,speed:.1,modifierKey:null},drag:{enabled:!1,drawTime:"beforeDatasetsDraw",modifierKey:null},pinch:{enabled:!1},mode:"xy"}},start:function(n,t,e){const i=Ge(n);i.options=e,Object.prototype.hasOwnProperty.call(e.zoom,"enabled")&&console.warn("The option `zoom.enabled` is no longer supported. Please use `zoom.wheel.enabled`, `zoom.drag.enabled`, or `zoom.pinch.enabled`."),(Object.prototype.hasOwnProperty.call(e.zoom,"overScaleMode")||Object.prototype.hasOwnProperty.call(e.pan,"overScaleMode"))&&console.warn("The option `overScaleMode` is deprecated. Please use `scaleMode` instead (and update `mode` as desired)."),xd&&HA(n,e),n.pan=(r,o,l)=>iN(n,r,o,l),n.zoom=(r,o)=>gv(n,r,o),n.zoomRect=(r,o,l)=>nN(n,r,o,l),n.zoomScale=(r,o,l)=>Qq(n,r,o,l),n.resetZoom=r=>Kq(n,r),n.getZoomLevel=()=>Jq(n),n.getInitialScaleBounds=()=>rN(n),n.getZoomedScaleBounds=()=>tG(n),n.isZoomedOrPanned=()=>eG(n),n.isZoomingOrPanning=()=>jA(n)},beforeEvent(n,{event:t}){if(jA(n))return!1;if(t.type==="click"||t.type==="mouseup"){const e=Ge(n);if(e.filterNextClick)return e.filterNextClick=!1,!1}},beforeUpdate:function(n,t,e){const i=Ge(n),r=i.options;i.options=e,_G(r,e)&&(qA(n),HA(n,e)),dG(n,e)},beforeDatasetsDraw(n,t,e){Jf(n,"beforeDatasetsDraw",e)},afterDatasetsDraw(n,t,e){Jf(n,"afterDatasetsDraw",e)},beforeDraw(n,t,e){Jf(n,"beforeDraw",e)},afterDraw(n,t,e){Jf(n,"afterDraw",e)},stop:function(n){hG(n),xd&&qA(n),Pq(n)},panFunctions:Eb,zoomFunctions:wb,zoomRectFunctions:Tb};const cN=6048e5,wG=864e5,fh=6e4,gh=36e5,TG=1e3,GA=Symbol.for("constructDateFrom");function en(n,t){return typeof n=="function"?n(t):n&&typeof n=="object"&&GA in n?n[GA](t):n instanceof Date?new n.constructor(t):new Date(t)}function qt(n,t){return en(t||n,n)}function Vp(n,t,e){const i=qt(n,e?.in);return isNaN(t)?en(e?.in||n,NaN):(t&&i.setDate(i.getDate()+t),i)}function pv(n,t,e){const i=qt(n,e?.in);if(isNaN(t))return en(n,NaN);if(!t)return i;const r=i.getDate(),o=en(n,i.getTime());o.setMonth(i.getMonth()+t+1,0);const l=o.getDate();return r>=l?o:(i.setFullYear(o.getFullYear(),o.getMonth(),r),i)}function mv(n,t,e){return en(n,+qt(n)+t)}function EG(n,t,e){return mv(n,t*gh)}let SG={};function xl(){return SG}function bs(n,t){const e=xl(),i=t?.weekStartsOn??t?.locale?.options?.weekStartsOn??e.weekStartsOn??e.locale?.options?.weekStartsOn??0,r=qt(n,t?.in),o=r.getDay(),l=(o<i?7:0)+o-i;return r.setDate(r.getDate()-l),r.setHours(0,0,0,0),r}function zc(n,t){return bs(n,{...t,weekStartsOn:1})}function uN(n,t){const e=qt(n,t?.in),i=e.getFullYear(),r=en(e,0);r.setFullYear(i+1,0,4),r.setHours(0,0,0,0);const o=zc(r),l=en(e,0);l.setFullYear(i,0,4),l.setHours(0,0,0,0);const u=zc(l);return e.getTime()>=o.getTime()?i+1:e.getTime()>=u.getTime()?i:i-1}function Kg(n){const t=qt(n),e=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.setUTCFullYear(t.getFullYear()),+n-+e}function wl(n,...t){const e=en.bind(null,t.find(i=>typeof i=="object"));return t.map(e)}function Cb(n,t){const e=qt(n,t?.in);return e.setHours(0,0,0,0),e}function dN(n,t,e){const[i,r]=wl(e?.in,n,t),o=Cb(i),l=Cb(r),u=+o-Kg(o),d=+l-Kg(l);return Math.round((u-d)/wG)}function AG(n,t){const e=uN(n,t),i=en(n,0);return i.setFullYear(e,0,4),i.setHours(0,0,0,0),zc(i)}function CG(n,t,e){const i=qt(n,e?.in);return i.setTime(i.getTime()+t*fh),i}function DG(n,t,e){return pv(n,t*3,e)}function IG(n,t,e){return mv(n,t*1e3)}function RG(n,t,e){return Vp(n,t*7,e)}function NG(n,t,e){return pv(n,t*12,e)}function Td(n,t){const e=+qt(n)-+qt(t);return e<0?-1:e>0?1:e}function MG(n){return n instanceof Date||typeof n=="object"&&Object.prototype.toString.call(n)==="[object Date]"}function hN(n){return!(!MG(n)&&typeof n!="number"||isNaN(+qt(n)))}function OG(n,t,e){const[i,r]=wl(e?.in,n,t),o=i.getFullYear()-r.getFullYear(),l=i.getMonth()-r.getMonth();return o*12+l}function kG(n,t,e){const[i,r]=wl(e?.in,n,t);return i.getFullYear()-r.getFullYear()}function fN(n,t,e){const[i,r]=wl(e?.in,n,t),o=YA(i,r),l=Math.abs(dN(i,r));i.setDate(i.getDate()-o*l);const u=+(YA(i,r)===-o),d=o*(l-u);return d===0?0:d}function YA(n,t){const e=n.getFullYear()-t.getFullYear()||n.getMonth()-t.getMonth()||n.getDate()-t.getDate()||n.getHours()-t.getHours()||n.getMinutes()-t.getMinutes()||n.getSeconds()-t.getSeconds()||n.getMilliseconds()-t.getMilliseconds();return e<0?-1:e>0?1:e}function ph(n){return t=>{const i=(n?Math[n]:Math.trunc)(t);return i===0?0:i}}function PG(n,t,e){const[i,r]=wl(e?.in,n,t),o=(+i-+r)/gh;return ph(e?.roundingMethod)(o)}function yv(n,t){return+qt(n)-+qt(t)}function zG(n,t,e){const i=yv(n,t)/fh;return ph(e?.roundingMethod)(i)}function gN(n,t){const e=qt(n,t?.in);return e.setHours(23,59,59,999),e}function pN(n,t){const e=qt(n,t?.in),i=e.getMonth();return e.setFullYear(e.getFullYear(),i+1,0),e.setHours(23,59,59,999),e}function LG(n,t){const e=qt(n,t?.in);return+gN(e,t)==+pN(e,t)}function mN(n,t,e){const[i,r,o]=wl(e?.in,n,n,t),l=Td(r,o),u=Math.abs(OG(r,o));if(u<1)return 0;r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-l*u);let d=Td(r,o)===-l;LG(i)&&u===1&&Td(i,o)===1&&(d=!1);const f=l*(u-+d);return f===0?0:f}function VG(n,t,e){const i=mN(n,t,e)/3;return ph(e?.roundingMethod)(i)}function UG(n,t,e){const i=yv(n,t)/1e3;return ph(e?.roundingMethod)(i)}function jG(n,t,e){const i=fN(n,t,e)/7;return ph(e?.roundingMethod)(i)}function BG(n,t,e){const[i,r]=wl(e?.in,n,t),o=Td(i,r),l=Math.abs(kG(i,r));i.setFullYear(1584),r.setFullYear(1584);const u=Td(i,r)===-o,d=o*(l-+u);return d===0?0:d}function FG(n,t){const e=qt(n,t?.in),i=e.getMonth(),r=i-i%3;return e.setMonth(r,1),e.setHours(0,0,0,0),e}function HG(n,t){const e=qt(n,t?.in);return e.setDate(1),e.setHours(0,0,0,0),e}function qG(n,t){const e=qt(n,t?.in),i=e.getFullYear();return e.setFullYear(i+1,0,0),e.setHours(23,59,59,999),e}function yN(n,t){const e=qt(n,t?.in);return e.setFullYear(e.getFullYear(),0,1),e.setHours(0,0,0,0),e}function GG(n,t){const e=qt(n,t?.in);return e.setMinutes(59,59,999),e}function YG(n,t){const e=xl(),i=e.weekStartsOn??e.locale?.options?.weekStartsOn??0,r=qt(n,t?.in),o=r.getDay(),l=(o<i?-7:0)+6-(o-i);return r.setDate(r.getDate()+l),r.setHours(23,59,59,999),r}function $G(n,t){const e=qt(n,t?.in);return e.setSeconds(59,999),e}function WG(n,t){const e=qt(n,t?.in),i=e.getMonth(),r=i-i%3+3;return e.setMonth(r,0),e.setHours(23,59,59,999),e}function XG(n,t){const e=qt(n,t?.in);return e.setMilliseconds(999),e}const QG={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},KG=(n,t,e)=>{let i;const r=QG[n];return typeof r=="string"?i=r:t===1?i=r.one:i=r.other.replace("{{count}}",t.toString()),e?.addSuffix?e.comparison&&e.comparison>0?"in "+i:i+" ago":i};function T0(n){return(t={})=>{const e=t.width?String(t.width):n.defaultWidth;return n.formats[e]||n.formats[n.defaultWidth]}}const ZG={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},JG={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},tY={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},eY={date:T0({formats:ZG,defaultWidth:"full"}),time:T0({formats:JG,defaultWidth:"full"}),dateTime:T0({formats:tY,defaultWidth:"full"})},nY={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},iY=(n,t,e,i)=>nY[n];function Qu(n){return(t,e)=>{const i=e?.context?String(e.context):"standalone";let r;if(i==="formatting"&&n.formattingValues){const l=n.defaultFormattingWidth||n.defaultWidth,u=e?.width?String(e.width):l;r=n.formattingValues[u]||n.formattingValues[l]}else{const l=n.defaultWidth,u=e?.width?String(e.width):n.defaultWidth;r=n.values[u]||n.values[l]}const o=n.argumentCallback?n.argumentCallback(t):t;return r[o]}}const rY={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},sY={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},oY={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},aY={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},lY={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},cY={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},uY=(n,t)=>{const e=Number(n),i=e%100;if(i>20||i<10)switch(i%10){case 1:return e+"st";case 2:return e+"nd";case 3:return e+"rd"}return e+"th"},dY={ordinalNumber:uY,era:Qu({values:rY,defaultWidth:"wide"}),quarter:Qu({values:sY,defaultWidth:"wide",argumentCallback:n=>n-1}),month:Qu({values:oY,defaultWidth:"wide"}),day:Qu({values:aY,defaultWidth:"wide"}),dayPeriod:Qu({values:lY,defaultWidth:"wide",formattingValues:cY,defaultFormattingWidth:"wide"})};function Ku(n){return(t,e={})=>{const i=e.width,r=i&&n.matchPatterns[i]||n.matchPatterns[n.defaultMatchWidth],o=t.match(r);if(!o)return null;const l=o[0],u=i&&n.parsePatterns[i]||n.parsePatterns[n.defaultParseWidth],d=Array.isArray(u)?fY(u,y=>y.test(l)):hY(u,y=>y.test(l));let f;f=n.valueCallback?n.valueCallback(d):d,f=e.valueCallback?e.valueCallback(f):f;const p=t.slice(l.length);return{value:f,rest:p}}}function hY(n,t){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e)&&t(n[e]))return e}function fY(n,t){for(let e=0;e<n.length;e++)if(t(n[e]))return e}function gY(n){return(t,e={})=>{const i=t.match(n.matchPattern);if(!i)return null;const r=i[0],o=t.match(n.parsePattern);if(!o)return null;let l=n.valueCallback?n.valueCallback(o[0]):o[0];l=e.valueCallback?e.valueCallback(l):l;const u=t.slice(r.length);return{value:l,rest:u}}}const pY=/^(\d+)(th|st|nd|rd)?/i,mY=/\d+/i,yY={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},bY={any:[/^b/i,/^(a|c)/i]},_Y={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},vY={any:[/1/i,/2/i,/3/i,/4/i]},xY={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},wY={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},TY={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},EY={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},SY={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},AY={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},CY={ordinalNumber:gY({matchPattern:pY,parsePattern:mY,valueCallback:n=>parseInt(n,10)}),era:Ku({matchPatterns:yY,defaultMatchWidth:"wide",parsePatterns:bY,defaultParseWidth:"any"}),quarter:Ku({matchPatterns:_Y,defaultMatchWidth:"wide",parsePatterns:vY,defaultParseWidth:"any",valueCallback:n=>n+1}),month:Ku({matchPatterns:xY,defaultMatchWidth:"wide",parsePatterns:wY,defaultParseWidth:"any"}),day:Ku({matchPatterns:TY,defaultMatchWidth:"wide",parsePatterns:EY,defaultParseWidth:"any"}),dayPeriod:Ku({matchPatterns:SY,defaultMatchWidth:"any",parsePatterns:AY,defaultParseWidth:"any"})},bN={code:"en-US",formatDistance:KG,formatLong:eY,formatRelative:iY,localize:dY,match:CY,options:{weekStartsOn:0,firstWeekContainsDate:1}};function DY(n,t){const e=qt(n,t?.in);return dN(e,yN(e))+1}function _N(n,t){const e=qt(n,t?.in),i=+zc(e)-+AG(e);return Math.round(i/cN)+1}function bv(n,t){const e=qt(n,t?.in),i=e.getFullYear(),r=xl(),o=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,l=en(t?.in||n,0);l.setFullYear(i+1,0,o),l.setHours(0,0,0,0);const u=bs(l,t),d=en(t?.in||n,0);d.setFullYear(i,0,o),d.setHours(0,0,0,0);const f=bs(d,t);return+e>=+u?i+1:+e>=+f?i:i-1}function IY(n,t){const e=xl(),i=t?.firstWeekContainsDate??t?.locale?.options?.firstWeekContainsDate??e.firstWeekContainsDate??e.locale?.options?.firstWeekContainsDate??1,r=bv(n,t),o=en(t?.in||n,0);return o.setFullYear(r,0,i),o.setHours(0,0,0,0),bs(o,t)}function vN(n,t){const e=qt(n,t?.in),i=+bs(e,t)-+IY(e,t);return Math.round(i/cN)+1}function we(n,t){const e=n<0?"-":"",i=Math.abs(n).toString().padStart(t,"0");return e+i}const zo={y(n,t){const e=n.getFullYear(),i=e>0?e:1-e;return we(t==="yy"?i%100:i,t.length)},M(n,t){const e=n.getMonth();return t==="M"?String(e+1):we(e+1,2)},d(n,t){return we(n.getDate(),t.length)},a(n,t){const e=n.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return e.toUpperCase();case"aaa":return e;case"aaaaa":return e[0];case"aaaa":default:return e==="am"?"a.m.":"p.m."}},h(n,t){return we(n.getHours()%12||12,t.length)},H(n,t){return we(n.getHours(),t.length)},m(n,t){return we(n.getMinutes(),t.length)},s(n,t){return we(n.getSeconds(),t.length)},S(n,t){const e=t.length,i=n.getMilliseconds(),r=Math.trunc(i*Math.pow(10,e-3));return we(r,t.length)}},cc={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},$A={G:function(n,t,e){const i=n.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return e.era(i,{width:"abbreviated"});case"GGGGG":return e.era(i,{width:"narrow"});case"GGGG":default:return e.era(i,{width:"wide"})}},y:function(n,t,e){if(t==="yo"){const i=n.getFullYear(),r=i>0?i:1-i;return e.ordinalNumber(r,{unit:"year"})}return zo.y(n,t)},Y:function(n,t,e,i){const r=bv(n,i),o=r>0?r:1-r;if(t==="YY"){const l=o%100;return we(l,2)}return t==="Yo"?e.ordinalNumber(o,{unit:"year"}):we(o,t.length)},R:function(n,t){const e=uN(n);return we(e,t.length)},u:function(n,t){const e=n.getFullYear();return we(e,t.length)},Q:function(n,t,e){const i=Math.ceil((n.getMonth()+1)/3);switch(t){case"Q":return String(i);case"QQ":return we(i,2);case"Qo":return e.ordinalNumber(i,{unit:"quarter"});case"QQQ":return e.quarter(i,{width:"abbreviated",context:"formatting"});case"QQQQQ":return e.quarter(i,{width:"narrow",context:"formatting"});case"QQQQ":default:return e.quarter(i,{width:"wide",context:"formatting"})}},q:function(n,t,e){const i=Math.ceil((n.getMonth()+1)/3);switch(t){case"q":return String(i);case"qq":return we(i,2);case"qo":return e.ordinalNumber(i,{unit:"quarter"});case"qqq":return e.quarter(i,{width:"abbreviated",context:"standalone"});case"qqqqq":return e.quarter(i,{width:"narrow",context:"standalone"});case"qqqq":default:return e.quarter(i,{width:"wide",context:"standalone"})}},M:function(n,t,e){const i=n.getMonth();switch(t){case"M":case"MM":return zo.M(n,t);case"Mo":return e.ordinalNumber(i+1,{unit:"month"});case"MMM":return e.month(i,{width:"abbreviated",context:"formatting"});case"MMMMM":return e.month(i,{width:"narrow",context:"formatting"});case"MMMM":default:return e.month(i,{width:"wide",context:"formatting"})}},L:function(n,t,e){const i=n.getMonth();switch(t){case"L":return String(i+1);case"LL":return we(i+1,2);case"Lo":return e.ordinalNumber(i+1,{unit:"month"});case"LLL":return e.month(i,{width:"abbreviated",context:"standalone"});case"LLLLL":return e.month(i,{width:"narrow",context:"standalone"});case"LLLL":default:return e.month(i,{width:"wide",context:"standalone"})}},w:function(n,t,e,i){const r=vN(n,i);return t==="wo"?e.ordinalNumber(r,{unit:"week"}):we(r,t.length)},I:function(n,t,e){const i=_N(n);return t==="Io"?e.ordinalNumber(i,{unit:"week"}):we(i,t.length)},d:function(n,t,e){return t==="do"?e.ordinalNumber(n.getDate(),{unit:"date"}):zo.d(n,t)},D:function(n,t,e){const i=DY(n);return t==="Do"?e.ordinalNumber(i,{unit:"dayOfYear"}):we(i,t.length)},E:function(n,t,e){const i=n.getDay();switch(t){case"E":case"EE":case"EEE":return e.day(i,{width:"abbreviated",context:"formatting"});case"EEEEE":return e.day(i,{width:"narrow",context:"formatting"});case"EEEEEE":return e.day(i,{width:"short",context:"formatting"});case"EEEE":default:return e.day(i,{width:"wide",context:"formatting"})}},e:function(n,t,e,i){const r=n.getDay(),o=(r-i.weekStartsOn+8)%7||7;switch(t){case"e":return String(o);case"ee":return we(o,2);case"eo":return e.ordinalNumber(o,{unit:"day"});case"eee":return e.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return e.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return e.day(r,{width:"short",context:"formatting"});case"eeee":default:return e.day(r,{width:"wide",context:"formatting"})}},c:function(n,t,e,i){const r=n.getDay(),o=(r-i.weekStartsOn+8)%7||7;switch(t){case"c":return String(o);case"cc":return we(o,t.length);case"co":return e.ordinalNumber(o,{unit:"day"});case"ccc":return e.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return e.day(r,{width:"narrow",context:"standalone"});case"cccccc":return e.day(r,{width:"short",context:"standalone"});case"cccc":default:return e.day(r,{width:"wide",context:"standalone"})}},i:function(n,t,e){const i=n.getDay(),r=i===0?7:i;switch(t){case"i":return String(r);case"ii":return we(r,t.length);case"io":return e.ordinalNumber(r,{unit:"day"});case"iii":return e.day(i,{width:"abbreviated",context:"formatting"});case"iiiii":return e.day(i,{width:"narrow",context:"formatting"});case"iiiiii":return e.day(i,{width:"short",context:"formatting"});case"iiii":default:return e.day(i,{width:"wide",context:"formatting"})}},a:function(n,t,e){const r=n.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return e.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return e.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return e.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return e.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(n,t,e){const i=n.getHours();let r;switch(i===12?r=cc.noon:i===0?r=cc.midnight:r=i/12>=1?"pm":"am",t){case"b":case"bb":return e.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return e.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return e.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return e.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(n,t,e){const i=n.getHours();let r;switch(i>=17?r=cc.evening:i>=12?r=cc.afternoon:i>=4?r=cc.morning:r=cc.night,t){case"B":case"BB":case"BBB":return e.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return e.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return e.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(n,t,e){if(t==="ho"){let i=n.getHours()%12;return i===0&&(i=12),e.ordinalNumber(i,{unit:"hour"})}return zo.h(n,t)},H:function(n,t,e){return t==="Ho"?e.ordinalNumber(n.getHours(),{unit:"hour"}):zo.H(n,t)},K:function(n,t,e){const i=n.getHours()%12;return t==="Ko"?e.ordinalNumber(i,{unit:"hour"}):we(i,t.length)},k:function(n,t,e){let i=n.getHours();return i===0&&(i=24),t==="ko"?e.ordinalNumber(i,{unit:"hour"}):we(i,t.length)},m:function(n,t,e){return t==="mo"?e.ordinalNumber(n.getMinutes(),{unit:"minute"}):zo.m(n,t)},s:function(n,t,e){return t==="so"?e.ordinalNumber(n.getSeconds(),{unit:"second"}):zo.s(n,t)},S:function(n,t){return zo.S(n,t)},X:function(n,t,e){const i=n.getTimezoneOffset();if(i===0)return"Z";switch(t){case"X":return XA(i);case"XXXX":case"XX":return tl(i);case"XXXXX":case"XXX":default:return tl(i,":")}},x:function(n,t,e){const i=n.getTimezoneOffset();switch(t){case"x":return XA(i);case"xxxx":case"xx":return tl(i);case"xxxxx":case"xxx":default:return tl(i,":")}},O:function(n,t,e){const i=n.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+WA(i,":");case"OOOO":default:return"GMT"+tl(i,":")}},z:function(n,t,e){const i=n.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+WA(i,":");case"zzzz":default:return"GMT"+tl(i,":")}},t:function(n,t,e){const i=Math.trunc(+n/1e3);return we(i,t.length)},T:function(n,t,e){return we(+n,t.length)}};function WA(n,t=""){const e=n>0?"-":"+",i=Math.abs(n),r=Math.trunc(i/60),o=i%60;return o===0?e+String(r):e+String(r)+t+we(o,2)}function XA(n,t){return n%60===0?(n>0?"-":"+")+we(Math.abs(n)/60,2):tl(n,t)}function tl(n,t=""){const e=n>0?"-":"+",i=Math.abs(n),r=we(Math.trunc(i/60),2),o=we(i%60,2);return e+r+t+o}const QA=(n,t)=>{switch(n){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},xN=(n,t)=>{switch(n){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},RY=(n,t)=>{const e=n.match(/(P+)(p+)?/)||[],i=e[1],r=e[2];if(!r)return QA(n,t);let o;switch(i){case"P":o=t.dateTime({width:"short"});break;case"PP":o=t.dateTime({width:"medium"});break;case"PPP":o=t.dateTime({width:"long"});break;case"PPPP":default:o=t.dateTime({width:"full"});break}return o.replace("{{date}}",QA(i,t)).replace("{{time}}",xN(r,t))},Db={p:xN,P:RY},NY=/^D+$/,MY=/^Y+$/,OY=["D","DD","YY","YYYY"];function wN(n){return NY.test(n)}function TN(n){return MY.test(n)}function Ib(n,t,e){const i=kY(n,t,e);if(console.warn(i),OY.includes(n))throw new RangeError(i)}function kY(n,t,e){const i=n[0]==="Y"?"years":"days of the month";return`Use \`${n.toLowerCase()}\` instead of \`${n}\` (in \`${t}\`) for formatting ${i} to the input \`${e}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const PY=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,zY=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,LY=/^'([^]*?)'?$/,VY=/''/g,UY=/[a-zA-Z]/;function jY(n,t,e){const i=xl(),r=e?.locale??i.locale??bN,o=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??i.firstWeekContainsDate??i.locale?.options?.firstWeekContainsDate??1,l=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??i.weekStartsOn??i.locale?.options?.weekStartsOn??0,u=qt(n,e?.in);if(!hN(u))throw new RangeError("Invalid time value");let d=t.match(zY).map(p=>{const y=p[0];if(y==="p"||y==="P"){const _=Db[y];return _(p,r.formatLong)}return p}).join("").match(PY).map(p=>{if(p==="''")return{isToken:!1,value:"'"};const y=p[0];if(y==="'")return{isToken:!1,value:BY(p)};if($A[y])return{isToken:!0,value:p};if(y.match(UY))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:p}});r.localize.preprocessor&&(d=r.localize.preprocessor(u,d));const f={firstWeekContainsDate:o,weekStartsOn:l,locale:r};return d.map(p=>{if(!p.isToken)return p.value;const y=p.value;(!e?.useAdditionalWeekYearTokens&&TN(y)||!e?.useAdditionalDayOfYearTokens&&wN(y))&&Ib(y,t,String(n));const _=$A[y[0]];return _(u,y,r.localize,f)}).join("")}function BY(n){const t=n.match(LY);return t?t[1].replace(VY,"'"):n}function FY(){return Object.assign({},xl())}function HY(n,t){const e=qt(n,t?.in).getDay();return e===0?7:e}function qY(n,t){const e=GY(t)?new t(0):en(t,0);return e.setFullYear(n.getFullYear(),n.getMonth(),n.getDate()),e.setHours(n.getHours(),n.getMinutes(),n.getSeconds(),n.getMilliseconds()),e}function GY(n){return typeof n=="function"&&n.prototype?.constructor===n}const YY=10;class EN{subPriority=0;validate(t,e){return!0}}class $Y extends EN{constructor(t,e,i,r,o){super(),this.value=t,this.validateValue=e,this.setValue=i,this.priority=r,o&&(this.subPriority=o)}validate(t,e){return this.validateValue(t,this.value,e)}set(t,e,i){return this.setValue(t,e,this.value,i)}}class WY extends EN{priority=YY;subPriority=-1;constructor(t,e){super(),this.context=t||(i=>en(e,i))}set(t,e){return e.timestampIsSet?t:en(t,qY(t,this.context))}}class ye{run(t,e,i,r){const o=this.parse(t,e,i,r);return o?{setter:new $Y(o.value,this.validate,this.set,this.priority,this.subPriority),rest:o.rest}:null}validate(t,e,i){return!0}}class XY extends ye{priority=140;parse(t,e,i){switch(e){case"G":case"GG":case"GGG":return i.era(t,{width:"abbreviated"})||i.era(t,{width:"narrow"});case"GGGGG":return i.era(t,{width:"narrow"});case"GGGG":default:return i.era(t,{width:"wide"})||i.era(t,{width:"abbreviated"})||i.era(t,{width:"narrow"})}}set(t,e,i){return e.era=i,t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}incompatibleTokens=["R","u","t","T"]}const dn={month:/^(1[0-2]|0?\d)/,date:/^(3[0-1]|[0-2]?\d)/,dayOfYear:/^(36[0-6]|3[0-5]\d|[0-2]?\d?\d)/,week:/^(5[0-3]|[0-4]?\d)/,hour23h:/^(2[0-3]|[0-1]?\d)/,hour24h:/^(2[0-4]|[0-1]?\d)/,hour11h:/^(1[0-1]|0?\d)/,hour12h:/^(1[0-2]|0?\d)/,minute:/^[0-5]?\d/,second:/^[0-5]?\d/,singleDigit:/^\d/,twoDigits:/^\d{1,2}/,threeDigits:/^\d{1,3}/,fourDigits:/^\d{1,4}/,anyDigitsSigned:/^-?\d+/,singleDigitSigned:/^-?\d/,twoDigitsSigned:/^-?\d{1,2}/,threeDigitsSigned:/^-?\d{1,3}/,fourDigitsSigned:/^-?\d{1,4}/},ls={basicOptionalMinutes:/^([+-])(\d{2})(\d{2})?|Z/,basic:/^([+-])(\d{2})(\d{2})|Z/,basicOptionalSeconds:/^([+-])(\d{2})(\d{2})((\d{2}))?|Z/,extended:/^([+-])(\d{2}):(\d{2})|Z/,extendedOptionalSeconds:/^([+-])(\d{2}):(\d{2})(:(\d{2}))?|Z/};function hn(n,t){return n&&{value:t(n.value),rest:n.rest}}function qe(n,t){const e=t.match(n);return e?{value:parseInt(e[0],10),rest:t.slice(e[0].length)}:null}function cs(n,t){const e=t.match(n);if(!e)return null;if(e[0]==="Z")return{value:0,rest:t.slice(1)};const i=e[1]==="+"?1:-1,r=e[2]?parseInt(e[2],10):0,o=e[3]?parseInt(e[3],10):0,l=e[5]?parseInt(e[5],10):0;return{value:i*(r*gh+o*fh+l*TG),rest:t.slice(e[0].length)}}function SN(n){return qe(dn.anyDigitsSigned,n)}function nn(n,t){switch(n){case 1:return qe(dn.singleDigit,t);case 2:return qe(dn.twoDigits,t);case 3:return qe(dn.threeDigits,t);case 4:return qe(dn.fourDigits,t);default:return qe(new RegExp("^\\d{1,"+n+"}"),t)}}function Zg(n,t){switch(n){case 1:return qe(dn.singleDigitSigned,t);case 2:return qe(dn.twoDigitsSigned,t);case 3:return qe(dn.threeDigitsSigned,t);case 4:return qe(dn.fourDigitsSigned,t);default:return qe(new RegExp("^-?\\d{1,"+n+"}"),t)}}function _v(n){switch(n){case"morning":return 4;case"evening":return 17;case"pm":case"noon":case"afternoon":return 12;case"am":case"midnight":case"night":default:return 0}}function AN(n,t){const e=t>0,i=e?t:1-t;let r;if(i<=50)r=n||100;else{const o=i+50,l=Math.trunc(o/100)*100,u=n>=o%100;r=n+l-(u?100:0)}return e?r:1-r}function CN(n){return n%400===0||n%4===0&&n%100!==0}class QY extends ye{priority=130;incompatibleTokens=["Y","R","u","w","I","i","e","c","t","T"];parse(t,e,i){const r=o=>({year:o,isTwoDigitYear:e==="yy"});switch(e){case"y":return hn(nn(4,t),r);case"yo":return hn(i.ordinalNumber(t,{unit:"year"}),r);default:return hn(nn(e.length,t),r)}}validate(t,e){return e.isTwoDigitYear||e.year>0}set(t,e,i){const r=t.getFullYear();if(i.isTwoDigitYear){const l=AN(i.year,r);return t.setFullYear(l,0,1),t.setHours(0,0,0,0),t}const o=!("era"in e)||e.era===1?i.year:1-i.year;return t.setFullYear(o,0,1),t.setHours(0,0,0,0),t}}class KY extends ye{priority=130;parse(t,e,i){const r=o=>({year:o,isTwoDigitYear:e==="YY"});switch(e){case"Y":return hn(nn(4,t),r);case"Yo":return hn(i.ordinalNumber(t,{unit:"year"}),r);default:return hn(nn(e.length,t),r)}}validate(t,e){return e.isTwoDigitYear||e.year>0}set(t,e,i,r){const o=bv(t,r);if(i.isTwoDigitYear){const u=AN(i.year,o);return t.setFullYear(u,0,r.firstWeekContainsDate),t.setHours(0,0,0,0),bs(t,r)}const l=!("era"in e)||e.era===1?i.year:1-i.year;return t.setFullYear(l,0,r.firstWeekContainsDate),t.setHours(0,0,0,0),bs(t,r)}incompatibleTokens=["y","R","u","Q","q","M","L","I","d","D","i","t","T"]}class ZY extends ye{priority=130;parse(t,e){return Zg(e==="R"?4:e.length,t)}set(t,e,i){const r=en(t,0);return r.setFullYear(i,0,4),r.setHours(0,0,0,0),zc(r)}incompatibleTokens=["G","y","Y","u","Q","q","M","L","w","d","D","e","c","t","T"]}class JY extends ye{priority=130;parse(t,e){return Zg(e==="u"?4:e.length,t)}set(t,e,i){return t.setFullYear(i,0,1),t.setHours(0,0,0,0),t}incompatibleTokens=["G","y","Y","R","w","I","i","e","c","t","T"]}class t$ extends ye{priority=120;parse(t,e,i){switch(e){case"Q":case"QQ":return nn(e.length,t);case"Qo":return i.ordinalNumber(t,{unit:"quarter"});case"QQQ":return i.quarter(t,{width:"abbreviated",context:"formatting"})||i.quarter(t,{width:"narrow",context:"formatting"});case"QQQQQ":return i.quarter(t,{width:"narrow",context:"formatting"});case"QQQQ":default:return i.quarter(t,{width:"wide",context:"formatting"})||i.quarter(t,{width:"abbreviated",context:"formatting"})||i.quarter(t,{width:"narrow",context:"formatting"})}}validate(t,e){return e>=1&&e<=4}set(t,e,i){return t.setMonth((i-1)*3,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","M","L","w","I","d","D","i","e","c","t","T"]}class e$ extends ye{priority=120;parse(t,e,i){switch(e){case"q":case"qq":return nn(e.length,t);case"qo":return i.ordinalNumber(t,{unit:"quarter"});case"qqq":return i.quarter(t,{width:"abbreviated",context:"standalone"})||i.quarter(t,{width:"narrow",context:"standalone"});case"qqqqq":return i.quarter(t,{width:"narrow",context:"standalone"});case"qqqq":default:return i.quarter(t,{width:"wide",context:"standalone"})||i.quarter(t,{width:"abbreviated",context:"standalone"})||i.quarter(t,{width:"narrow",context:"standalone"})}}validate(t,e){return e>=1&&e<=4}set(t,e,i){return t.setMonth((i-1)*3,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","Q","M","L","w","I","d","D","i","e","c","t","T"]}class n$ extends ye{incompatibleTokens=["Y","R","q","Q","L","w","I","D","i","e","c","t","T"];priority=110;parse(t,e,i){const r=o=>o-1;switch(e){case"M":return hn(qe(dn.month,t),r);case"MM":return hn(nn(2,t),r);case"Mo":return hn(i.ordinalNumber(t,{unit:"month"}),r);case"MMM":return i.month(t,{width:"abbreviated",context:"formatting"})||i.month(t,{width:"narrow",context:"formatting"});case"MMMMM":return i.month(t,{width:"narrow",context:"formatting"});case"MMMM":default:return i.month(t,{width:"wide",context:"formatting"})||i.month(t,{width:"abbreviated",context:"formatting"})||i.month(t,{width:"narrow",context:"formatting"})}}validate(t,e){return e>=0&&e<=11}set(t,e,i){return t.setMonth(i,1),t.setHours(0,0,0,0),t}}class i$ extends ye{priority=110;parse(t,e,i){const r=o=>o-1;switch(e){case"L":return hn(qe(dn.month,t),r);case"LL":return hn(nn(2,t),r);case"Lo":return hn(i.ordinalNumber(t,{unit:"month"}),r);case"LLL":return i.month(t,{width:"abbreviated",context:"standalone"})||i.month(t,{width:"narrow",context:"standalone"});case"LLLLL":return i.month(t,{width:"narrow",context:"standalone"});case"LLLL":default:return i.month(t,{width:"wide",context:"standalone"})||i.month(t,{width:"abbreviated",context:"standalone"})||i.month(t,{width:"narrow",context:"standalone"})}}validate(t,e){return e>=0&&e<=11}set(t,e,i){return t.setMonth(i,1),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","M","w","I","D","i","e","c","t","T"]}function r$(n,t,e){const i=qt(n,e?.in),r=vN(i,e)-t;return i.setDate(i.getDate()-r*7),qt(i,e?.in)}class s$ extends ye{priority=100;parse(t,e,i){switch(e){case"w":return qe(dn.week,t);case"wo":return i.ordinalNumber(t,{unit:"week"});default:return nn(e.length,t)}}validate(t,e){return e>=1&&e<=53}set(t,e,i,r){return bs(r$(t,i,r),r)}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","i","t","T"]}function o$(n,t,e){const i=qt(n,e?.in),r=_N(i,e)-t;return i.setDate(i.getDate()-r*7),i}class a$ extends ye{priority=100;parse(t,e,i){switch(e){case"I":return qe(dn.week,t);case"Io":return i.ordinalNumber(t,{unit:"week"});default:return nn(e.length,t)}}validate(t,e){return e>=1&&e<=53}set(t,e,i){return zc(o$(t,i))}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","e","c","t","T"]}const l$=[31,28,31,30,31,30,31,31,30,31,30,31],c$=[31,29,31,30,31,30,31,31,30,31,30,31];class u$ extends ye{priority=90;subPriority=1;parse(t,e,i){switch(e){case"d":return qe(dn.date,t);case"do":return i.ordinalNumber(t,{unit:"date"});default:return nn(e.length,t)}}validate(t,e){const i=t.getFullYear(),r=CN(i),o=t.getMonth();return r?e>=1&&e<=c$[o]:e>=1&&e<=l$[o]}set(t,e,i){return t.setDate(i),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","w","I","D","i","e","c","t","T"]}class d$ extends ye{priority=90;subpriority=1;parse(t,e,i){switch(e){case"D":case"DD":return qe(dn.dayOfYear,t);case"Do":return i.ordinalNumber(t,{unit:"date"});default:return nn(e.length,t)}}validate(t,e){const i=t.getFullYear();return CN(i)?e>=1&&e<=366:e>=1&&e<=365}set(t,e,i){return t.setMonth(0,i),t.setHours(0,0,0,0),t}incompatibleTokens=["Y","R","q","Q","M","L","w","I","d","E","i","e","c","t","T"]}function vv(n,t,e){const i=xl(),r=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??i.weekStartsOn??i.locale?.options?.weekStartsOn??0,o=qt(n,e?.in),l=o.getDay(),d=(t%7+7)%7,f=7-r,p=t<0||t>6?t-(l+f)%7:(d+f)%7-(l+f)%7;return Vp(o,p,e)}class h$ extends ye{priority=90;parse(t,e,i){switch(e){case"E":case"EE":case"EEE":return i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"EEEEE":return i.day(t,{width:"narrow",context:"formatting"});case"EEEEEE":return i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"EEEE":default:return i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"})}}validate(t,e){return e>=0&&e<=6}set(t,e,i,r){return t=vv(t,i,r),t.setHours(0,0,0,0),t}incompatibleTokens=["D","i","e","c","t","T"]}class f$ extends ye{priority=90;parse(t,e,i,r){const o=l=>{const u=Math.floor((l-1)/7)*7;return(l+r.weekStartsOn+6)%7+u};switch(e){case"e":case"ee":return hn(nn(e.length,t),o);case"eo":return hn(i.ordinalNumber(t,{unit:"day"}),o);case"eee":return i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"eeeee":return i.day(t,{width:"narrow",context:"formatting"});case"eeeeee":return i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"});case"eeee":default:return i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"})}}validate(t,e){return e>=0&&e<=6}set(t,e,i,r){return t=vv(t,i,r),t.setHours(0,0,0,0),t}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","c","t","T"]}class g$ extends ye{priority=90;parse(t,e,i,r){const o=l=>{const u=Math.floor((l-1)/7)*7;return(l+r.weekStartsOn+6)%7+u};switch(e){case"c":case"cc":return hn(nn(e.length,t),o);case"co":return hn(i.ordinalNumber(t,{unit:"day"}),o);case"ccc":return i.day(t,{width:"abbreviated",context:"standalone"})||i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"});case"ccccc":return i.day(t,{width:"narrow",context:"standalone"});case"cccccc":return i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"});case"cccc":default:return i.day(t,{width:"wide",context:"standalone"})||i.day(t,{width:"abbreviated",context:"standalone"})||i.day(t,{width:"short",context:"standalone"})||i.day(t,{width:"narrow",context:"standalone"})}}validate(t,e){return e>=0&&e<=6}set(t,e,i,r){return t=vv(t,i,r),t.setHours(0,0,0,0),t}incompatibleTokens=["y","R","u","q","Q","M","L","I","d","D","E","i","e","t","T"]}function p$(n,t,e){const i=qt(n,e?.in),r=HY(i,e),o=t-r;return Vp(i,o,e)}class m$ extends ye{priority=90;parse(t,e,i){const r=o=>o===0?7:o;switch(e){case"i":case"ii":return nn(e.length,t);case"io":return i.ordinalNumber(t,{unit:"day"});case"iii":return hn(i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),r);case"iiiii":return hn(i.day(t,{width:"narrow",context:"formatting"}),r);case"iiiiii":return hn(i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),r);case"iiii":default:return hn(i.day(t,{width:"wide",context:"formatting"})||i.day(t,{width:"abbreviated",context:"formatting"})||i.day(t,{width:"short",context:"formatting"})||i.day(t,{width:"narrow",context:"formatting"}),r)}}validate(t,e){return e>=1&&e<=7}set(t,e,i){return t=p$(t,i),t.setHours(0,0,0,0),t}incompatibleTokens=["y","Y","u","q","Q","M","L","w","d","D","E","e","c","t","T"]}class y$ extends ye{priority=80;parse(t,e,i){switch(e){case"a":case"aa":case"aaa":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaaa":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"aaaa":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,e,i){return t.setHours(_v(i),0,0,0),t}incompatibleTokens=["b","B","H","k","t","T"]}class b$ extends ye{priority=80;parse(t,e,i){switch(e){case"b":case"bb":case"bbb":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbbb":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"bbbb":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,e,i){return t.setHours(_v(i),0,0,0),t}incompatibleTokens=["a","B","H","k","t","T"]}class _$ extends ye{priority=80;parse(t,e,i){switch(e){case"B":case"BB":case"BBB":return i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBBB":return i.dayPeriod(t,{width:"narrow",context:"formatting"});case"BBBB":default:return i.dayPeriod(t,{width:"wide",context:"formatting"})||i.dayPeriod(t,{width:"abbreviated",context:"formatting"})||i.dayPeriod(t,{width:"narrow",context:"formatting"})}}set(t,e,i){return t.setHours(_v(i),0,0,0),t}incompatibleTokens=["a","b","t","T"]}class v$ extends ye{priority=70;parse(t,e,i){switch(e){case"h":return qe(dn.hour12h,t);case"ho":return i.ordinalNumber(t,{unit:"hour"});default:return nn(e.length,t)}}validate(t,e){return e>=1&&e<=12}set(t,e,i){const r=t.getHours()>=12;return r&&i<12?t.setHours(i+12,0,0,0):!r&&i===12?t.setHours(0,0,0,0):t.setHours(i,0,0,0),t}incompatibleTokens=["H","K","k","t","T"]}class x$ extends ye{priority=70;parse(t,e,i){switch(e){case"H":return qe(dn.hour23h,t);case"Ho":return i.ordinalNumber(t,{unit:"hour"});default:return nn(e.length,t)}}validate(t,e){return e>=0&&e<=23}set(t,e,i){return t.setHours(i,0,0,0),t}incompatibleTokens=["a","b","h","K","k","t","T"]}class w$ extends ye{priority=70;parse(t,e,i){switch(e){case"K":return qe(dn.hour11h,t);case"Ko":return i.ordinalNumber(t,{unit:"hour"});default:return nn(e.length,t)}}validate(t,e){return e>=0&&e<=11}set(t,e,i){return t.getHours()>=12&&i<12?t.setHours(i+12,0,0,0):t.setHours(i,0,0,0),t}incompatibleTokens=["h","H","k","t","T"]}class T$ extends ye{priority=70;parse(t,e,i){switch(e){case"k":return qe(dn.hour24h,t);case"ko":return i.ordinalNumber(t,{unit:"hour"});default:return nn(e.length,t)}}validate(t,e){return e>=1&&e<=24}set(t,e,i){const r=i<=24?i%24:i;return t.setHours(r,0,0,0),t}incompatibleTokens=["a","b","h","H","K","t","T"]}class E$ extends ye{priority=60;parse(t,e,i){switch(e){case"m":return qe(dn.minute,t);case"mo":return i.ordinalNumber(t,{unit:"minute"});default:return nn(e.length,t)}}validate(t,e){return e>=0&&e<=59}set(t,e,i){return t.setMinutes(i,0,0),t}incompatibleTokens=["t","T"]}class S$ extends ye{priority=50;parse(t,e,i){switch(e){case"s":return qe(dn.second,t);case"so":return i.ordinalNumber(t,{unit:"second"});default:return nn(e.length,t)}}validate(t,e){return e>=0&&e<=59}set(t,e,i){return t.setSeconds(i,0),t}incompatibleTokens=["t","T"]}class A$ extends ye{priority=30;parse(t,e){const i=r=>Math.trunc(r*Math.pow(10,-e.length+3));return hn(nn(e.length,t),i)}set(t,e,i){return t.setMilliseconds(i),t}incompatibleTokens=["t","T"]}class C$ extends ye{priority=10;parse(t,e){switch(e){case"X":return cs(ls.basicOptionalMinutes,t);case"XX":return cs(ls.basic,t);case"XXXX":return cs(ls.basicOptionalSeconds,t);case"XXXXX":return cs(ls.extendedOptionalSeconds,t);case"XXX":default:return cs(ls.extended,t)}}set(t,e,i){return e.timestampIsSet?t:en(t,t.getTime()-Kg(t)-i)}incompatibleTokens=["t","T","x"]}class D$ extends ye{priority=10;parse(t,e){switch(e){case"x":return cs(ls.basicOptionalMinutes,t);case"xx":return cs(ls.basic,t);case"xxxx":return cs(ls.basicOptionalSeconds,t);case"xxxxx":return cs(ls.extendedOptionalSeconds,t);case"xxx":default:return cs(ls.extended,t)}}set(t,e,i){return e.timestampIsSet?t:en(t,t.getTime()-Kg(t)-i)}incompatibleTokens=["t","T","X"]}class I$ extends ye{priority=40;parse(t){return SN(t)}set(t,e,i){return[en(t,i*1e3),{timestampIsSet:!0}]}incompatibleTokens="*"}class R$ extends ye{priority=20;parse(t){return SN(t)}set(t,e,i){return[en(t,i),{timestampIsSet:!0}]}incompatibleTokens="*"}const N$={G:new XY,y:new QY,Y:new KY,R:new ZY,u:new JY,Q:new t$,q:new e$,M:new n$,L:new i$,w:new s$,I:new a$,d:new u$,D:new d$,E:new h$,e:new f$,c:new g$,i:new m$,a:new y$,b:new b$,B:new _$,h:new v$,H:new x$,K:new w$,k:new T$,m:new E$,s:new S$,S:new A$,X:new C$,x:new D$,t:new I$,T:new R$},M$=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,O$=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,k$=/^'([^]*?)'?$/,P$=/''/g,z$=/\S/,L$=/[a-zA-Z]/;function V$(n,t,e,i){const r=()=>en(i?.in||e,NaN),o=FY(),l=i?.locale??o.locale??bN,u=i?.firstWeekContainsDate??i?.locale?.options?.firstWeekContainsDate??o.firstWeekContainsDate??o.locale?.options?.firstWeekContainsDate??1,d=i?.weekStartsOn??i?.locale?.options?.weekStartsOn??o.weekStartsOn??o.locale?.options?.weekStartsOn??0;if(!t)return n?r():qt(e,i?.in);const f={firstWeekContainsDate:u,weekStartsOn:d,locale:l},p=[new WY(i?.in,e)],y=t.match(O$).map(E=>{const O=E[0];if(O in Db){const V=Db[O];return V(E,l.formatLong)}return E}).join("").match(M$),_=[];for(let E of y){!i?.useAdditionalWeekYearTokens&&TN(E)&&Ib(E,t,n),!i?.useAdditionalDayOfYearTokens&&wN(E)&&Ib(E,t,n);const O=E[0],V=N$[O];if(V){const{incompatibleTokens:q}=V;if(Array.isArray(q)){const $=_.find(Q=>q.includes(Q.token)||Q.token===O);if($)throw new RangeError(`The format string mustn't contain \`${$.fullToken}\` and \`${E}\` at the same time`)}else if(V.incompatibleTokens==="*"&&_.length>0)throw new RangeError(`The format string mustn't contain \`${E}\` and any other token at the same time`);_.push({token:O,fullToken:E});const Y=V.run(n,E,l.match,f);if(!Y)return r();p.push(Y.setter),n=Y.rest}else{if(O.match(L$))throw new RangeError("Format string contains an unescaped latin alphabet character `"+O+"`");if(E==="''"?E="'":O==="'"&&(E=U$(E)),n.indexOf(E)===0)n=n.slice(E.length);else return r()}}if(n.length>0&&z$.test(n))return r();const v=p.map(E=>E.priority).sort((E,O)=>O-E).filter((E,O,V)=>V.indexOf(E)===O).map(E=>p.filter(O=>O.priority===E).sort((O,V)=>V.subPriority-O.subPriority)).map(E=>E[0]);let S=qt(e,i?.in);if(isNaN(+S))return r();const A={};for(const E of v){if(!E.validate(S,f))return r();const O=E.set(S,A,f);Array.isArray(O)?(S=O[0],Object.assign(A,O[1])):S=O}return S}function U$(n){return n.match(k$)[1].replace(P$,"'")}function j$(n,t){const e=qt(n,t?.in);return e.setMinutes(0,0,0),e}function B$(n,t){const e=qt(n,t?.in);return e.setSeconds(0,0),e}function F$(n,t){const e=qt(n,t?.in);return e.setMilliseconds(0),e}function H$(n,t){const e=()=>en(t?.in,NaN),i=t?.additionalDigits??2,r=$$(n);let o;if(r.date){const f=W$(r.date,i);o=X$(f.restDateString,f.year)}if(!o||isNaN(+o))return e();const l=+o;let u=0,d;if(r.time&&(u=Q$(r.time),isNaN(u)))return e();if(r.timezone){if(d=K$(r.timezone),isNaN(d))return e()}else{const f=new Date(l+u),p=qt(0,t?.in);return p.setFullYear(f.getUTCFullYear(),f.getUTCMonth(),f.getUTCDate()),p.setHours(f.getUTCHours(),f.getUTCMinutes(),f.getUTCSeconds(),f.getUTCMilliseconds()),p}return qt(l+u+d,t?.in)}const tg={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},q$=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,G$=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Y$=/^([+-])(\d{2})(?::?(\d{2}))?$/;function $$(n){const t={},e=n.split(tg.dateTimeDelimiter);let i;if(e.length>2)return t;if(/:/.test(e[0])?i=e[0]:(t.date=e[0],i=e[1],tg.timeZoneDelimiter.test(t.date)&&(t.date=n.split(tg.timeZoneDelimiter)[0],i=n.substr(t.date.length,n.length))),i){const r=tg.timezone.exec(i);r?(t.time=i.replace(r[1],""),t.timezone=r[1]):t.time=i}return t}function W$(n,t){const e=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),i=n.match(e);if(!i)return{year:NaN,restDateString:""};const r=i[1]?parseInt(i[1]):null,o=i[2]?parseInt(i[2]):null;return{year:o===null?r:o*100,restDateString:n.slice((i[1]||i[2]).length)}}function X$(n,t){if(t===null)return new Date(NaN);const e=n.match(q$);if(!e)return new Date(NaN);const i=!!e[4],r=Zu(e[1]),o=Zu(e[2])-1,l=Zu(e[3]),u=Zu(e[4]),d=Zu(e[5])-1;if(i)return nW(t,u,d)?Z$(t,u,d):new Date(NaN);{const f=new Date(0);return!tW(t,o,l)||!eW(t,r)?new Date(NaN):(f.setUTCFullYear(t,o,Math.max(r,l)),f)}}function Zu(n){return n?parseInt(n):1}function Q$(n){const t=n.match(G$);if(!t)return NaN;const e=E0(t[1]),i=E0(t[2]),r=E0(t[3]);return iW(e,i,r)?e*gh+i*fh+r*1e3:NaN}function E0(n){return n&&parseFloat(n.replace(",","."))||0}function K$(n){if(n==="Z")return 0;const t=n.match(Y$);if(!t)return 0;const e=t[1]==="+"?-1:1,i=parseInt(t[2]),r=t[3]&&parseInt(t[3])||0;return rW(i,r)?e*(i*gh+r*fh):NaN}function Z$(n,t,e){const i=new Date(0);i.setUTCFullYear(n,0,4);const r=i.getUTCDay()||7,o=(t-1)*7+e+1-r;return i.setUTCDate(i.getUTCDate()+o),i}const J$=[31,null,31,30,31,30,31,31,30,31,30,31];function DN(n){return n%400===0||n%4===0&&n%100!==0}function tW(n,t,e){return t>=0&&t<=11&&e>=1&&e<=(J$[t]||(DN(n)?29:28))}function eW(n,t){return t>=1&&t<=(DN(n)?366:365)}function nW(n,t,e){return t>=1&&t<=53&&e>=0&&e<=6}function iW(n,t,e){return n===24?t===0&&e===0:e>=0&&e<60&&t>=0&&t<60&&n>=0&&n<25}function rW(n,t){return t>=0&&t<=59}const sW={datetime:"MMM d, yyyy, h:mm:ss aaaa",millisecond:"h:mm:ss.SSS aaaa",second:"h:mm:ss aaaa",minute:"h:mm aaaa",hour:"ha",day:"MMM d",week:"PP",month:"MMM yyyy",quarter:"qqq - yyyy",year:"yyyy"};RR._date.override({_id:"date-fns",formats:function(){return sW},parse:function(n,t){if(n===null||typeof n>"u")return null;const e=typeof n;return e==="number"||n instanceof Date?n=qt(n):e==="string"&&(typeof t=="string"?n=V$(n,t,new Date,this.options):n=H$(n,this.options)),hN(n)?n.getTime():null},format:function(n,t){return jY(n,t,this.options)},add:function(n,t,e){switch(e){case"millisecond":return mv(n,t);case"second":return IG(n,t);case"minute":return CG(n,t);case"hour":return EG(n,t);case"day":return Vp(n,t);case"week":return RG(n,t);case"month":return pv(n,t);case"quarter":return DG(n,t);case"year":return NG(n,t);default:return n}},diff:function(n,t,e){switch(e){case"millisecond":return yv(n,t);case"second":return UG(n,t);case"minute":return zG(n,t);case"hour":return PG(n,t);case"day":return fN(n,t);case"week":return jG(n,t);case"month":return mN(n,t);case"quarter":return VG(n,t);case"year":return BG(n,t);default:return 0}},startOf:function(n,t,e){switch(t){case"second":return F$(n);case"minute":return B$(n);case"hour":return j$(n);case"day":return Cb(n);case"week":return bs(n);case"isoWeek":return bs(n,{weekStartsOn:+e});case"month":return HG(n);case"quarter":return FG(n);case"year":return yN(n);default:return n}},endOf:function(n,t){switch(t){case"second":return XG(n);case"minute":return $G(n);case"hour":return GG(n);case"day":return gN(n);case"week":return YG(n);case"month":return pN(n);case"quarter":return WG(n);case"year":return qG(n);default:return n}}});kp.register(bq,xq,M7,Pp,oq,gq,rq,Z7,vb,xG);const oW=(n,t,e,i)=>{if(!n||n.length===0)return{chartData:{datasets:[]},minDate:Date.now(),maxDate:Date.now(),lastEntryDate:Date.now(),firstEntryDate:Date.now(),yMin:0,yMax:10};const r=n.map(N=>Number(N.value));let o=Math.min(...r),l=Math.max(...r);t.targetValue&&(o=Math.min(o,t.targetValue),l=Math.max(l,t.targetValue));const u=(l-o)*.1||1,d=o-u,f=l+u,p={};n.forEach(N=>{const L=Nn(N.date);p[L]||(p[L]=[]),p[L].push(Number(N.value))});const y=Object.keys(p).sort((N,L)=>new Date(N)-new Date(L)),_=new Date(y[0]),v=new Date(y[y.length-1]);let S=new Date(v),A=null;t.showTrendForecast&&n.length>1&&(A=J_(n,t),A&&new Date(A.date)>S&&(S=new Date(A.date)));const E=[],O=[],V=[],q=new Date(_);q.setHours(0,0,0,0),S.setHours(0,0,0,0),v.setHours(0,0,0,0);let Y=null,$=null;for(;q<=S;){const N=q.getTime(),L=Nn(q);if(p[L]){const z=J2(p[L],t.aggregation||"average");E.push({x:N,y:z}),Y=z,$=N}else E.push({x:N,y:null});t.goalDirection==="target"&&t.targetValue&&V.push({x:N,y:t.targetValue}),q.setDate(q.getDate()+1)}A&&Y!==null&&(O.push({x:$,y:Y}),O.push({x:S.getTime(),y:t.targetValue}));const Q={left:0,top:20,right:0,bottom:0},M=[{label:t.name,data:E,borderColor:e.chartLine,backgroundColor:e.chartFill,tension:.1,fill:!0,pointRadius:N=>N.raw?.y===null?0:3,pointHoverRadius:6,spanGaps:!0,normalized:!0,clip:Q}];V.length>0&&M.push({label:"Target",data:V,borderColor:i?"#22c55e":"#16a34a",borderDash:[5,5],pointRadius:0,borderWidth:1.5,fill:!1,clip:Q}),O.length>0&&M.push({label:"Trend",data:O,borderColor:"#fbbf24",borderDash:[4,4],pointRadius:0,borderWidth:2,spanGaps:!0,fill:!1,clip:Q});const D=864e5;return{chartData:{datasets:M},minDate:_.getTime()-D*.05,maxDate:S.getTime()+D,firstEntryDate:_.getTime(),lastEntryDate:v.getTime(),yMin:d,yMax:f}},aW=({minDate:n,maxDate:t,firstEntryDate:e,lastEntryDate:i,yMin:r,yMax:o,gridColor:l,textColor:u,tracker:d,onDateClick:f})=>{const y=(()=>{const v=typeof window<"u"&&window.innerWidth<768?30:60,S=864e5,A=i-v*S,E=i+S;return{min:Math.max(n,A),max:E}})();return{responsive:!0,maintainAspectRatio:!1,animation:!1,layout:{padding:{top:10,bottom:0,left:0,right:10}},interaction:{mode:"nearest",axis:"x",intersect:!1},plugins:{legend:{display:!1},tooltip:{callbacks:{title:_=>pS(new Date(_[0].parsed.x)),label:_=>_.raw?.y===null?"":`${_.dataset.label}: ${_.raw.y} ${d.unit||""}`},filter:_=>_.raw?.y!==null},zoom:{pan:{enabled:!0,mode:"x",threshold:0},zoom:{wheel:{enabled:!0},pinch:{enabled:!0},mode:"x"},limits:{x:{min:n,max:t},y:{min:r,max:o}}}},scales:{y:{min:r,max:o,grid:{color:l},afterFit:_=>{_.width=40},ticks:{color:u,padding:10,z:10}},x:{type:"time",time:{unit:"day",tooltipFormat:"MMM d, yyyy",displayFormats:{day:"MMM d"}},min:y.min,max:y.max,bounds:"ticks",grid:{display:!1},ticks:{color:u,minRotation:45,maxRotation:45,source:"data",autoSkip:!1,padding:8,callback:function(_,v){const S=this.chart.scales.x,E=(S.max-S.min)/864e5;let O=1;E>14&&(O=2),E>30&&(O=5),E>60&&(O=10),E>180&&(O=30);const V=new Date(_),q=Math.floor((V.getTime()-e)/864e5);return Math.abs(q)%O===0?pS(V):null}}}},onClick:(_,v,S)=>{if(v.length>0&&f){const A=S.scales.x.getValueForPixel(_.x);f(Nn(new Date(A)))}}}},lW=({entries:n,tracker:t,onDateClick:e})=>{const{theme:i,themeMode:r,isAmoled:o}=wr(),l=W.useRef(null),u=W.useMemo(()=>oW(n,t,i,o),[n,t,i,o]),d=o?"#27272a":r==="dark"?"#334155":"#E4E4E7",f=o||r==="dark"?"#A1A1AA":"#71717A",p=W.useMemo(()=>aW({...u,gridColor:d,textColor:f,tracker:t,onDateClick:e}),[u,d,f,t,e]),y=W.useCallback(()=>{l.current?.resetZoom()},[]);return!n||n.length===0?C.jsx("div",{className:"h-full flex items-center justify-center text-zinc-400",children:"No data yet"}):C.jsxs("div",{className:"h-64 w-full relative group",style:{touchAction:"pan-y"},children:[C.jsx(Rq,{ref:l,data:u.chartData,options:p}),C.jsx("button",{onClick:y,className:`
                    absolute top-2 right-2 p-1.5 rounded-lg shadow-sm border transition-opacity opacity-0 group-hover:opacity-100
                    ${o?"bg-zinc-900 border-zinc-800 text-zinc-400 hover:text-white":"bg-white border-zinc-200 text-zinc-500 hover:text-zinc-900"}
                `,title:"Reset View",children:C.jsx(fV,{className:"w-3 h-3"})})]})},cW=({entries:n,tracker:t,onDateClick:e})=>{const{theme:i,isAmoled:r}=wr(),[o,l]=W.useState(new Date),{daysInMonth:u,startDay:d}=W.useMemo(()=>Z2(o.getFullYear(),o.getMonth()),[o]),f=v=>{const S=new Date(o);S.setMonth(S.getMonth()+v),l(S)},p=W.useMemo(()=>t.showTrendForecast?J_(n,t):null,[n,t]),y=W.useMemo(()=>{const v={};n.forEach(E=>{const O=Nn(E.date);v[O]||(v[O]=[]),v[O].push(E)});const S=Object.keys(v).sort(),A={};return S.forEach((E,O)=>{const q=v[E].map(D=>D.value);let Y=0;t.aggregation==="sum"&&t.goalPeriod==="daily"?Y=q.reduce((D,N)=>D+N,0):Y=q.reduce((D,N)=>D+N,0)/q.length;let $=null,Q=null;if(O>0){const D=S[O-1],N=v[D];t.aggregation==="sum"&&t.goalPeriod==="daily"?Q=N.reduce((L,z)=>L+z.value,0):Q=N.reduce((L,z)=>L+z.value,0)/N.length}const M=ub(Y,t,Q);if(M.isHit===!0)$=!0;else if(M.isHit===!1)if(t.goalDirection==="target"&&Q!==null){const D=ub(Q,t,null);M.diff<D.diff?$=!0:$=!1}else $=!1;A[E]={value:Y,isGood:$}}),A},[n,t]),_=[];for(let v=0;v<d;v++)_.push(C.jsx("div",{className:`h-20 md:h-24 rounded-xl ${r?"bg-zinc-900/30":"bg-zinc-50/50 dark:bg-zinc-900/30"}`},`empty-${v}`));for(let v=1;v<=u;v++){const S=new Date(o.getFullYear(),o.getMonth(),v),A=Nn(S),E=y[A],O=Nn(new Date)===A,V=p&&p.date===A;let q=`${i.secondary} ${i.border}`,Y="text-zinc-500";E?E.isGood===!0?(q=`border-emerald-200 dark:border-emerald-800 ${r?"bg-emerald-900/40":"bg-emerald-50 dark:bg-emerald-900/20"}`,Y="text-emerald-700 dark:text-emerald-400"):E.isGood===!1&&(q=`border-red-200 dark:border-red-800 ${r?"bg-red-900/40":"bg-red-50 dark:bg-red-900/20"}`,Y="text-red-700 dark:text-red-400"):q=r?"border-zinc-800 bg-zinc-900/50 hover:bg-zinc-900":"border-zinc-200 dark:border-zinc-700 bg-white dark:bg-zinc-800 hover:bg-zinc-50 dark:hover:bg-zinc-700/50",V&&(q=`border-amber-400 dark:border-amber-500 ${r?"bg-amber-900/20":"bg-amber-50 dark:bg-amber-900/10"} ring-1 ring-amber-400 z-10`,E||(Y="text-amber-600 dark:text-amber-400 font-bold")),_.push(C.jsxs("div",{onClick:()=>e&&e(A),className:`
                    h-20 md:h-24 border rounded-xl p-1 md:p-2 cursor-pointer relative flex flex-col justify-between group 
                    transition-all duration-300 hover:scale-[1.02] hover:shadow-md
                    ${q}
                    ${O?`ring-2 ${i.ring} ring-offset-2 dark:ring-offset-zinc-800`:""}
                `,children:[C.jsx("span",{className:`text-xs md:text-sm font-medium ${E||V?Y:"text-zinc-400"}`,children:v}),E?C.jsxs("div",{className:"text-right",children:[C.jsx("span",{className:`block text-sm md:text-lg font-bold leading-tight ${r||Y.includes("zinc")?"dark:text-white":Y}`,children:t.type==="boolean"?E.value?"Yes":"No":E.value.toFixed(t.type==="numeric"?1:0)}),C.jsx("span",{className:"text-[9px] md:text-[10px] text-zinc-500 uppercase tracking-wider",children:t.unit})]}):C.jsx("div",{className:"opacity-0 group-hover:opacity-100 absolute inset-0 flex items-center justify-center text-zinc-300 dark:text-zinc-600 transition-opacity",children:C.jsx(Pd,{className:"w-6 h-6"})}),V&&C.jsxs("span",{className:"absolute top-1.5 right-1.5 flex h-2 w-2",children:[C.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-amber-400 opacity-75"}),C.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-amber-500"})]})]},v))}return C.jsxs("div",{className:"animate-in fade-in duration-500",children:[C.jsxs("div",{className:"flex items-center justify-between mb-4",children:[C.jsx("h3",{className:"text-lg font-bold dark:text-white",children:o.toLocaleDateString("en-US",{month:"long",year:"numeric"})}),C.jsxs("div",{className:"flex space-x-2",children:[C.jsx("button",{onClick:()=>f(-1),className:"p-2 hover:bg-zinc-100 dark:hover:bg-zinc-700 rounded-lg text-zinc-600 dark:text-zinc-400",children:C.jsx(kI,{className:"w-5 h-5"})}),C.jsx("button",{onClick:()=>f(1),className:"p-2 hover:bg-zinc-100 dark:hover:bg-zinc-700 rounded-lg text-zinc-600 dark:text-zinc-400",children:C.jsx(A_,{className:"w-5 h-5"})})]})]}),C.jsxs("div",{className:"grid grid-cols-7 gap-2",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(v=>C.jsx("div",{className:"text-center text-xs font-semibold text-zinc-400 uppercase tracking-wide py-2",children:v},v)),_]})]})},uW=({entries:n,tracker:t})=>{const{isAmoled:e}=wr(),i=W.useMemo(()=>{const _=n.length,v=new Set(n.map(S=>Nn(S.date))).size;return{totalLogs:_,uniqueDays:v}},[n]);n.length>0&&n[0];const r=W.useMemo(()=>{if(!n||n.length===0)return null;if(t.goalPeriod==="longTerm")return n[0].value;const _=Nn(new Date),v=n.filter(S=>Nn(S.date)===_);return v.length===0?0:J2(v.map(S=>S.value),t.aggregation||"average")},[n,t]),o=W.useMemo(()=>t.showTrendForecast?J_(n,t):null,[n,t]),{streak:l}=W.useMemo(()=>{const _=n.map(v=>Nn(v.date));return tR(_,t.enableStreak)},[n,t.enableStreak]),u=W.useMemo(()=>r===null?{label:"No Data",isHit:null}:ub(r,t,null),[r,t]);let d="text-zinc-400";u.isHit===!0?d="text-green-500":u.isHit===!1?d="text-red-500":t.goalDirection!=="none"&&(d="text-blue-500");const f=e?"p-4 rounded-xl border border-zinc-800 bg-black":"p-4 rounded-xl shadow-sm border border-zinc-200 dark:border-zinc-700 bg-white dark:bg-zinc-800",p=({label:_,value:v,subtext:S,icon:A,colorClass:E})=>C.jsxs("div",{className:f,children:[C.jsxs("p",{className:"text-sm text-zinc-500 mb-1 flex items-center gap-1 font-medium uppercase text-[10px] tracking-wide",children:[A&&C.jsx(A,{className:`w-3.5 h-3.5 ${E}`}),_]}),C.jsx("p",{className:"text-2xl font-bold dark:text-white truncate",children:v}),S&&C.jsx("p",{className:"text-xs text-zinc-400 mt-1",children:S})]}),y=()=>o?`Est. ${o.daysLeft} days left`:t.goalDirection==="target"?`Target: ${t.targetValue}`:"Direction";return C.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 animate-in slide-in-from-bottom-2 duration-500",children:[C.jsx(p,{label:"Active Days",value:i.uniqueDays,subtext:`Total entries: ${i.totalLogs}`,icon:S_,colorClass:"text-blue-500"}),C.jsx(p,{label:t.goalPeriod==="longTerm"?"Latest":"Today",value:r!==null?Number(r).toFixed(t.type==="numeric"||t.type==="percentage"?1:0):"-",subtext:t.unit?t.unit:"No unit",icon:wp,colorClass:"text-purple-500"}),C.jsx(p,{label:"Goal",value:u.isHit!==null?u.label:t.goalDirection==="none"?"No Goal":t.goalDirection,subtext:y(),icon:EV,colorClass:d}),C.jsx(p,{label:"Streak",value:t.enableStreak?`${l} Day${l===1?"":"s"}`:"Disabled",icon:C_,colorClass:"text-amber-500"})]})},xv=({isOpen:n,onClose:t,title:e,children:i})=>{const{isAmoled:r,theme:o}=wr();if(!n)return null;const l=r?"bg-black/90":"bg-zinc-900/60 backdrop-blur-sm",u=r?"bg-black border border-zinc-800":"bg-white dark:bg-zinc-800 shadow-2xl border border-transparent dark:border-zinc-700",d=r?"border-zinc-800":"border-zinc-200 dark:border-zinc-700",f=r?{boxShadow:`0 0 50px -10px ${o.chartLine}40`}:{};return C.jsx("div",{className:`fixed inset-0 z-50 flex items-center justify-center p-4 ${l}`,onClick:t,children:C.jsxs("div",{className:`
            w-full max-w-lg overflow-hidden flex flex-col max-h-[90vh] rounded-2xl
            animate-in fade-in zoom-in-95 duration-200
            ${u}
        `,style:f,onClick:p=>p.stopPropagation(),children:[C.jsxs("div",{className:`p-6 flex justify-between items-center border-b ${d}`,children:[C.jsx("h2",{className:"text-xl font-bold dark:text-white",children:e}),C.jsx("button",{onClick:t,className:"text-zinc-500 hover:text-zinc-800 dark:hover:text-white transition-colors",children:C.jsx(I_,{className:"w-5 h-5"})})]}),C.jsx("div",{className:"p-6 space-y-6 overflow-y-auto custom-scrollbar",children:i})]})})},dW=({value:n,onChange:t})=>{const{theme:e,isAmoled:i}=wr(),[r,o]=W.useState(()=>n?new Date(n):new Date);W.useEffect(()=>{n&&o(new Date(n))},[n]);const{daysInMonth:l,startDay:u}=W.useMemo(()=>Z2(r.getFullYear(),r.getMonth()),[r]),d=(p,y)=>{y.preventDefault();const _=new Date(r);_.setMonth(_.getMonth()+p),o(_)},f=[];for(let p=0;p<u;p++)f.push(C.jsx("div",{className:"h-8 md:h-9"},`empty-${p}`));for(let p=1;p<=l;p++){const y=new Date(r.getFullYear(),r.getMonth(),p),_=Nn(y),v=_===n;f.push(C.jsx("button",{onClick:S=>{S.preventDefault(),t(_)},className:`
                    h-8 md:h-9 w-full rounded-lg text-sm font-medium transition-all active:scale-95 
                    ${v?`${e.primary} shadow-md text-white`:"text-zinc-600 dark:text-zinc-400 hover:bg-zinc-100 dark:hover:bg-zinc-700"}
                `,children:p},p))}return C.jsxs("div",{className:`border rounded-xl p-4 transition-colors ${i?"border-zinc-800 bg-zinc-900":"border-zinc-200 dark:border-zinc-700 bg-zinc-50 dark:bg-zinc-900/50"}`,children:[C.jsxs("div",{className:"flex items-center justify-between mb-4",children:[C.jsx("span",{className:"font-bold text-zinc-800 dark:text-white",children:r.toLocaleDateString("en-US",{month:"long",year:"numeric"})}),C.jsxs("div",{className:"flex space-x-1",children:[C.jsx("button",{onClick:p=>d(-1,p),className:"p-1.5 hover:bg-zinc-200 dark:hover:bg-zinc-700 rounded-lg text-zinc-500",children:C.jsx(kI,{className:"w-4 h-4"})}),C.jsx("button",{onClick:p=>d(1,p),className:"p-1.5 hover:bg-zinc-200 dark:hover:bg-zinc-700 rounded-lg text-zinc-500",children:C.jsx(A_,{className:"w-4 h-4"})})]})]}),C.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[["Su","Mo","Tu","We","Th","Fr","Sa"].map(p=>C.jsx("div",{className:"text-center text-xs font-semibold text-zinc-400 mb-1",children:p},p)),f]})]})},hW=({isOpen:n,onClose:t,tracker:e,initialDate:i})=>{const{user:r}=io(),{entries:o}=nR(e?.id),{theme:l,isAmoled:u,themeMode:d}=wr(),[f,p]=W.useState(i||Nn(new Date)),[y,_]=W.useState(null);W.useEffect(()=>{n&&(p(i||Nn(new Date)),_(null))},[n,i]);const v=W.useMemo(()=>o.filter(V=>Nn(V.date)===f).sort((V,q)=>q.timestamp-V.timestamp),[o,f]),S=async()=>{await Og(Gi(xn,"artifacts","default-app-id","users",r.uid,"trackers",e.id),{updatedAt:vc()})},A=async V=>{const q={value:V.value,note:V.note,date:f};try{const Y=fl(xn,"artifacts","default-app-id","users",r.uid,"trackers",e.id,"entries");V.id&&V.id!=="new"?await Og(Gi(Y,V.id),q):await II(Y,{...q,timestamp:vc()}),await S(),_(null)}catch(Y){console.error(Y)}},E=async V=>{V!=="new"&&(await DI(Gi(xn,"artifacts","default-app-id","users",r.uid,"trackers",e.id,"entries",V)),await S()),_(null)};if(!n||!e)return null;const O=`w-full py-3 rounded-xl font-medium shadow-lg text-white hover:scale-[1.01] active:scale-[0.98] flex items-center justify-center gap-2 ${l.primary}`;return C.jsxs(xv,{isOpen:n,onClose:t,title:`Entries for ${e.name}`,isAmoled:u,children:[C.jsx("div",{className:"mb-6",style:{colorScheme:u||d==="dark"?"dark":"light"},children:C.jsx(dW,{value:f,onChange:p,theme:l,isAmoled:u,className:u?"bg-zinc-900 border-zinc-800 text-white":void 0})}),C.jsxs("div",{className:"space-y-4",children:[v.length===0&&y!=="new"&&C.jsxs("div",{className:"text-center py-8",children:[C.jsx("div",{className:`inline-flex p-4 rounded-full mb-4 ${u?"bg-zinc-900":"bg-zinc-100 dark:bg-zinc-800"}`,children:C.jsx(B3,{className:"w-8 h-8 text-zinc-400"})}),C.jsx("p",{className:"text-zinc-500 mb-6",children:"No entries for this day."}),C.jsxs("button",{onClick:()=>_("new"),className:O,children:[C.jsx(Pd,{className:"w-5 h-5"})," Log Entry"]})]}),y==="new"&&C.jsx(KA,{tracker:e,onSave:A,onCancel:()=>_(null),theme:l,isAmoled:u}),v.map(V=>y===V.id?C.jsx(KA,{entry:V,tracker:e,onSave:A,onDelete:()=>E(V.id),onCancel:()=>_(null),theme:l,isAmoled:u},V.id):C.jsx(fW,{entry:V,tracker:e,onClick:()=>_(V.id),theme:l,isAmoled:u},V.id)),v.length>0&&y!=="new"&&C.jsxs("button",{onClick:()=>_("new"),className:O,children:[C.jsx(Pd,{className:"w-5 h-5"})," Add Another"]})]})]})},fW=({entry:n,tracker:t,onClick:e,theme:i,isAmoled:r})=>C.jsxs("div",{onClick:e,className:`
        p-4 rounded-xl border flex justify-between items-center cursor-pointer transition-all group
        ${r?"border-zinc-800 bg-black hover:bg-zinc-900":"border-zinc-200 dark:border-zinc-700 bg-white dark:bg-zinc-800 hover:border-zinc-300 shadow-sm hover:shadow-md"}
    `,children:[C.jsxs("div",{className:"flex items-center gap-3 overflow-hidden mr-4",children:[n.note&&C.jsx(VI,{className:"w-4 h-4 text-zinc-400 shrink-0"}),C.jsx("span",{className:`truncate text-sm ${n.note?"text-zinc-700 dark:text-zinc-300":"text-zinc-400 italic"}`,children:n.note||"No note"})]}),C.jsxs("div",{className:`font-mono font-bold text-lg ${i.text}`,children:[t.type==="boolean"?n.value?"Completed":"Skipped":n.value,(t.type==="numeric"||t.type==="percentage")&&C.jsx("span",{className:"text-xs ml-1 text-zinc-400 font-normal",children:t.unit})]})]}),KA=({entry:n={},tracker:t,onSave:e,onDelete:i,onCancel:r,theme:o,isAmoled:l})=>{const u=n.value!==void 0?String(n.value):t.type==="percentage"?"50":"",[d,f]=W.useState(u),[p,y]=W.useState(n.note||""),_=()=>{if(!d&&d!==0&&d!=="0")return;let A=parseFloat(d);t.type==="boolean"&&(A=d==="true"),e({id:n.id||"new",value:A,note:p})},v={value:d,setValue:f,theme:o,isAmoled:l,tracker:t},S=l?"bg-black border-zinc-800":"bg-white dark:bg-zinc-800 border-zinc-200 dark:border-zinc-700";return C.jsx("div",{className:`p-5 rounded-xl border animate-in fade-in zoom-in-95 duration-200 ${S}`,children:C.jsxs("div",{className:"space-y-4",children:[C.jsxs("div",{children:[t.type!=="boolean"&&t.type!=="percentage"&&C.jsx("label",{className:"text-xs font-bold text-zinc-500 uppercase mb-1.5 block",children:"Value"}),t.type==="percentage"&&C.jsx(gW,{...v}),t.type==="numeric"&&C.jsx(pW,{...v}),t.type==="boolean"&&C.jsx(mW,{...v}),t.type==="rating"&&C.jsx(yW,{...v})]}),C.jsxs("div",{children:[C.jsxs("label",{className:"flex items-center gap-2 text-xs font-bold text-zinc-500 uppercase mb-1.5",children:[C.jsx(VI,{className:"w-3 h-3"})," Note"]}),C.jsx("textarea",{value:p,onChange:A=>y(A.target.value),className:`w-full rounded-xl border px-4 py-3 min-h-[80px] resize-none text-sm focus:outline-none focus:ring-2 ${l?"bg-zinc-900 border-zinc-800 placeholder-zinc-600":"bg-zinc-50 dark:bg-zinc-900 border-zinc-300 dark:border-zinc-700 placeholder-zinc-400"} ${o.ring}`,placeholder:"Add a comment..."})]}),C.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[i&&C.jsx("button",{onClick:i,className:"p-3 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-xl transition-colors",children:C.jsx(D_,{className:"w-5 h-5"})}),C.jsx("button",{onClick:r,className:"px-5 py-3 text-zinc-500 font-medium hover:bg-zinc-100 dark:hover:bg-zinc-700 rounded-xl transition-colors",children:"Cancel"}),C.jsxs("button",{onClick:_,disabled:!d&&d!==0&&d!=="0",className:`px-6 py-3 text-white font-medium rounded-xl shadow-lg active:scale-95 disabled:opacity-50 flex items-center ${o.primary}`,children:[C.jsx(pV,{className:"w-4 h-4 mr-2"})," Save"]})]})]})})},gW=({value:n,setValue:t,isAmoled:e})=>{const i=parseInt(n)||0;return C.jsxs("div",{className:"py-2",children:[C.jsxs("div",{className:"flex flex-col items-center justify-center mb-6",children:[C.jsx("span",{className:"text-xs font-bold text-zinc-400 uppercase tracking-widest mb-1",children:"Progress"}),C.jsxs("div",{className:`text-5xl font-black tracking-tighter tabular-nums ${e?"text-white":"text-zinc-900 dark:text-white"}`,children:[i,C.jsx("span",{className:"text-2xl text-zinc-400 ml-0.5",children:"%"})]})]}),C.jsxs("div",{className:"relative h-10 w-full flex items-center px-2",children:[C.jsx("div",{className:"absolute left-0 right-0 h-4 rounded-full overflow-hidden",style:{background:"linear-gradient(to right, #ef4444 0%, #eab308 50%, #22c55e 100%)"},children:C.jsx("div",{className:"absolute inset-0 shadow-inner bg-black/5"})}),C.jsx("input",{type:"range",min:"0",max:"100",value:n,onChange:o=>t(o.target.value),className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-20"}),C.jsx("div",{className:"absolute h-9 w-9 bg-white rounded-full shadow-lg border-[3px] border-zinc-100 dark:border-zinc-300 pointer-events-none transition-all duration-75 ease-out z-10",style:{left:`calc(${i}% + (${8-i*.16}px) - 20px)`}})]})]})},pW=({value:n,setValue:t,theme:e,isAmoled:i,tracker:r})=>C.jsxs("div",{className:"relative",children:[C.jsx("input",{type:"number",value:n,onChange:o=>t(o.target.value),className:`w-full px-4 py-3 text-lg font-mono font-medium rounded-xl border focus:outline-none focus:ring-2 dark:text-white ${i?"bg-zinc-900 border-zinc-800":"bg-zinc-50 dark:bg-zinc-900 border-zinc-300 dark:border-zinc-700"} ${e.ring}`,autoFocus:!0,placeholder:"0"}),C.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-sm font-medium text-zinc-400 pointer-events-none",children:r.unit})]}),mW=({value:n,setValue:t,isAmoled:e})=>{const i=n==="true",r=e?"border-zinc-800 text-zinc-400 hover:bg-zinc-900 bg-transparent":"border-zinc-300 dark:border-zinc-700 text-zinc-500 dark:text-zinc-400 hover:bg-zinc-50 dark:hover:bg-zinc-800 bg-transparent";return C.jsxs("button",{onClick:()=>t("true"),className:`
                w-full py-4 rounded-xl border-2 border-dashed flex items-center justify-center gap-3 transition-all
                ${i?"bg-emerald-500/10 border-emerald-500 text-emerald-600 dark:text-emerald-400":r}
            `,children:[C.jsx("div",{className:`
                w-6 h-6 rounded-full flex items-center justify-center border-2 transition-all
                ${i?"bg-emerald-500 border-emerald-500 text-white":"border-current"}
            `,children:i&&C.jsx(G3,{className:"w-4 h-4"})}),C.jsx("span",{className:"text-lg font-bold",children:i?"Completed":"Mark as Complete"})]})},yW=({value:n,setValue:t})=>C.jsx("div",{className:"flex justify-between px-2 py-2",children:[1,2,3,4,5].map(e=>C.jsx("button",{onClick:()=>t(String(e)),className:`p-1.5 rounded-full transition-all active:scale-90 ${parseInt(n)>=e?"scale-110 drop-shadow-md":"opacity-30 hover:opacity-100"}`,children:C.jsx(_V,{className:`w-8 h-8 ${parseInt(n)>=e?"fill-amber-400 text-amber-400":"text-zinc-400 dark:text-zinc-600"}`})},e))}),bW=({tracker:n,onEdit:t})=>{const{entries:e,loading:i}=nR(n?.id),{theme:r,isAmoled:o}=wr(),[l,u]=W.useState(n?.preferredView||"graph"),[d,f]=W.useState(!1),[p,y]=W.useState(null),_=E=>{y(E),f(!0)},v=()=>{y(null),f(!0)};if(!n)return C.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-zinc-400 p-8 text-center h-full",children:[C.jsx(wp,{className:"w-16 h-16 mb-4 opacity-20"}),C.jsx("p",{className:"mb-4",children:"Select a tracker from the list to view details."})]});const S=o?"bg-black/80 border-zinc-800":"bg-white/80 dark:bg-zinc-900/80 border-zinc-300 dark:border-zinc-800",A=o?"bg-black border border-zinc-800 shadow-xl shadow-zinc-900/20":"bg-white dark:bg-zinc-800 border-zinc-300 dark:border-zinc-700 shadow-md";return C.jsxs("div",{className:"flex flex-col h-full overflow-hidden relative",children:[C.jsxs("header",{className:`p-6 flex justify-between items-center z-10 sticky top-0 backdrop-blur-md border-b ${S}`,children:[C.jsxs("div",{className:"flex items-center space-x-3",children:[C.jsx("h2",{className:"text-2xl font-bold text-zinc-900 dark:text-white truncate max-w-[200px] sm:max-w-xs",children:n.name}),C.jsx("button",{onClick:t,className:`p-1.5 rounded-lg text-zinc-400 transition-colors ${o?"hover:bg-zinc-900 text-zinc-500":"hover:bg-zinc-200 dark:hover:bg-zinc-800 text-zinc-600"}`,children:C.jsx(LI,{className:"w-4 h-4"})}),n.goalDirection==="target"&&n.targetValue&&C.jsxs("span",{className:`hidden sm:inline-block text-xs font-medium text-zinc-600 dark:text-zinc-500 px-2 py-1 rounded-md border ${o?"bg-black border-zinc-800":"bg-zinc-100 dark:bg-zinc-800 border-zinc-300 dark:border-transparent"}`,children:["Target: ",n.targetValue," ",n.unit]})]}),C.jsx("div",{className:"flex items-center space-x-2",children:C.jsxs("div",{className:`flex rounded-lg p-1 border ${o?"bg-black border-zinc-800":"bg-zinc-100 dark:bg-zinc-800 border-transparent"}`,children:[C.jsx("button",{onClick:()=>u("graph"),className:`p-2 rounded-md transition-all ${l==="graph"?`${o?"bg-zinc-900 text-white":"bg-white dark:bg-zinc-700 shadow"} ${r.text}`:"text-zinc-500"}`,children:C.jsx(S_,{className:"w-5 h-5"})}),C.jsx("button",{onClick:()=>u("calendar"),className:`p-2 rounded-md transition-all ${l==="calendar"?`${o?"bg-zinc-900 text-white":"bg-white dark:bg-zinc-700 shadow"} ${r.text}`:"text-zinc-500"}`,children:C.jsx(OI,{className:"w-5 h-5"})})]})})]}),C.jsxs("div",{className:"flex-1 overflow-y-auto p-4 md:p-8 space-y-6",children:[C.jsxs("button",{onClick:v,className:`w-full py-3 rounded-xl font-medium shadow-lg text-white transition-transform hover:scale-[1.005] active:scale-[0.99] flex items-center justify-center space-x-2 ${r.primary}`,children:[C.jsx(Pd,{className:"w-5 h-5"}),C.jsx("span",{children:"Add New Entry"})]}),C.jsxs("div",{className:`p-6 rounded-2xl shadow-lg border min-h-[400px] ${A}`,children:[C.jsx("div",{className:"flex justify-between items-center mb-4",children:C.jsx("h3",{className:"text-lg font-semibold dark:text-white",children:"Activity Overview"})}),i?C.jsx("div",{className:"h-80 flex items-center justify-center text-zinc-400",children:"Loading history..."}):l==="graph"?C.jsx(lW,{entries:e,tracker:n,onDateClick:_}):C.jsx(cW,{entries:e,tracker:n,onDateClick:_})]}),e.length>0&&C.jsx(uW,{entries:e,tracker:n})]}),C.jsx(hW,{isOpen:d,tracker:n,initialDate:p,onClose:()=>f(!1)})]})},eg=({value:n,onChange:t,options:e,disabled:i=!1})=>{const[r,o]=W.useState(!1),l=W.useRef(null),u=e.find(f=>f.value===n)||e[0];W.useEffect(()=>{const f=p=>{l.current&&!l.current.contains(p.target)&&o(!1)};return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[]);const d=f=>{t({target:{value:f}}),o(!1)};return C.jsxs("div",{className:`relative ${i?"opacity-50 pointer-events-none":""}`,ref:l,children:[C.jsxs("button",{type:"button",onClick:()=>o(!r),className:"w-full px-4 py-2.5 rounded-xl border border-zinc-200 dark:border-zinc-700 bg-zinc-50 dark:bg-zinc-900 flex items-center justify-between transition-all",children:[C.jsx("span",{className:"text-sm font-medium dark:text-white truncate",children:u?.label}),C.jsx(L3,{className:`w-4 h-4 text-zinc-500 transition-transform ${r?"rotate-180":""}`})]}),r&&C.jsx("div",{className:"absolute left-0 right-0 top-full mt-2 rounded-xl border border-zinc-200 dark:border-zinc-700 shadow-xl z-50 overflow-hidden max-h-60 overflow-y-auto bg-white dark:bg-zinc-800",children:C.jsx("div",{className:"p-1.5 space-y-0.5",children:e.map(f=>C.jsxs("button",{onClick:()=>d(f.value),className:`w-full text-left px-3 py-2 text-sm rounded-lg flex items-center justify-between transition-colors ${f.value===n?"bg-zinc-100 dark:bg-zinc-700 text-zinc-900 dark:text-white":"text-zinc-600 dark:text-zinc-400 hover:bg-zinc-50 dark:hover:bg-zinc-900"}`,children:[f.label,f.value===n&&C.jsx(kg,{className:"w-3.5 h-3.5 opacity-70"})]},f.value))})})]})},ZA=({isOpen:n,onClose:t,editTracker:e=null,nextOrder:i=0})=>{const{user:r}=io(),{tags:o,updateTags:l,theme:u,isAmoled:d}=wr(),[f,p]=W.useState(""),[y,_]=W.useState("numeric"),[v,S]=W.useState(""),[A,E]=W.useState("stars"),[O,V]=W.useState("increase"),[q,Y]=W.useState(""),[$,Q]=W.useState("daily"),[M,D]=W.useState(!1),[N,L]=W.useState("none"),[z,B]=W.useState(!1),[U,Ot]=W.useState(!1),[St,tt]=W.useState("average"),[ft,xt]=W.useState(""),[Mt,Pt]=W.useState([]),[H,st]=W.useState(!0),[gt,pt]=W.useState("graph"),[Tt,Dt]=W.useState(""),[dt,Vt]=W.useState(!1),At=W.useRef(null),$t=async(yt,Xt)=>{if(!(!r||!e))try{const ue=Gi(xn,"artifacts","default-app-id","users",r.uid,"trackers",e.id);await Og(ue,{[yt]:Xt,updatedAt:vc()})}catch(ue){console.error(`Error updating field ${yt}:`,ue)}};W.useEffect(()=>{n&&(e?(p(e.name),_(e.type),S(e.unit||""),E(e.ratingSystem||"stars"),V(e.goalDirection||"none"),Y(e.targetValue||""),Q(e.goalPeriod||"daily"),L(e.listDisplayValue||"none"),B(e.showTypeInList!==void 0?e.showTypeInList:!1),Ot(e.showTrendForecast||!1),tt(e.aggregation||"average"),xt(e.tolerance||""),Pt(e.tags||[]),st(e.enableStreak!==void 0?e.enableStreak:!0),pt(e.preferredView||"graph")):(p(""),_("numeric"),S(""),E("stars"),V("increase"),Y(""),Q("daily"),L("none"),B(!1),Ot(!1),tt("average"),xt(""),Pt([]),st(!0),pt("graph"),D(!1)),Vt(!1),At.current&&clearTimeout(At.current))},[n,e?.id]),W.useEffect(()=>()=>{At.current&&clearTimeout(At.current)},[]);const $e=yt=>{Mt.some(Xt=>Xt.id===yt.id)?Pt(Mt.filter(Xt=>Xt.id!==yt.id)):Pt([...Mt,yt])},Te=()=>{if(!Tt.trim())return;const yt={id:Date.now(),name:Tt,colorClass:K2(o).class};l([...o,yt]),Pt([...Mt,yt]),Dt("")};W.useEffect(()=>{y==="percentage"&&(S("%"),V("target"),Y(100))},[y]);const fn=async()=>{if(!f.trim())return;const yt={name:f,type:y,unit:y==="numeric"?v:y==="percentage"?"%":null,ratingSystem:y==="rating"?A:null,goalDirection:O,targetValue:O==="target"&&q?parseFloat(q):null,goalPeriod:$,tolerance:ft?parseFloat(ft):0,tags:Mt,listDisplayValue:N,showTypeInList:z,aggregation:St,enableStreak:H,preferredView:gt,showTrendForecast:U,updatedAt:vc()};try{e?await Og(Gi(xn,"artifacts","default-app-id","users",r.uid,"trackers",e.id),yt):await II(fl(xn,"artifacts","default-app-id","users",r.uid,"trackers"),{...yt,order:0,createdAt:vc()}),t()}catch(Xt){console.error("Error saving tracker:",Xt)}},Dn=async()=>{if(e)try{await DI(Gi(xn,"artifacts","default-app-id","users",r.uid,"trackers",e.id)),t()}catch(yt){console.error("Error deleting tracker",yt)}},Di=()=>{e&&(dt?(At.current&&clearTimeout(At.current),Dn()):(Vt(!0),At.current=setTimeout(()=>{Vt(!1)},3e3)))},Ue=`w-full px-4 py-2 rounded-lg border focus:outline-none focus:ring-2 dark:text-white [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none ${d?"bg-zinc-900 border-zinc-800":"bg-zinc-50 dark:bg-zinc-900 border-zinc-200 dark:border-zinc-700"} ${u.ring}`,ii=`rounded-xl font-medium transition-all duration-200 flex items-center justify-center border border-red-200 dark:border-red-900/30 text-red-600 dark:text-red-400 ${d?"bg-black hover:bg-zinc-900 hover:shadow-lg hover:shadow-red-900/20":"bg-red-50 dark:bg-red-900/10 hover:bg-red-100 dark:hover:bg-red-900/20 hover:shadow-md hover:shadow-red-500/10"}`,Wi=({label:yt,icon:Xt,value:ue,onChange:pa})=>C.jsxs("div",{className:"flex items-center justify-between py-2",children:[C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx("div",{className:`p-1.5 rounded-lg ${d?"bg-zinc-900":"bg-zinc-100 dark:bg-zinc-700"}`,children:C.jsx(Xt,{className:"w-4 h-4 text-zinc-500 dark:text-zinc-400"})}),C.jsx("label",{className:"text-sm font-medium text-zinc-700 dark:text-zinc-300",children:yt})]}),C.jsx("button",{onClick:()=>pa(!ue),className:`w-12 h-6 rounded-full transition-colors relative ${ue?u.primary.split(" ")[0]:"bg-zinc-300 dark:bg-zinc-600"}`,children:C.jsx("div",{className:`w-4 h-4 bg-white rounded-full absolute top-1 transition-transform ${ue?"left-7":"left-1"}`})})]});return C.jsxs(xv,{isOpen:n,onClose:t,title:e?"Edit Tracker":"New Tracker",isAmoled:d,children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"Name"}),C.jsx("input",{value:f,onChange:yt=>p(yt.target.value),className:Ue,placeholder:"e.g. Water Intake"})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-2",children:"Default View"}),C.jsx("div",{className:"flex gap-4",children:[{id:"graph",label:"Graph",icon:S_},{id:"calendar",label:"Calendar",icon:OI}].map(yt=>{const Xt=gt===yt.id;let ue=Xt?d?"border-zinc-500 bg-zinc-900 text-white shadow-md shadow-zinc-900/50":"border-zinc-600 bg-zinc-100 dark:bg-zinc-800 text-zinc-900 dark:text-white shadow-sm ring-1 ring-zinc-400 dark:ring-zinc-500":d?"bg-black border-zinc-800 text-zinc-500 hover:border-zinc-700 hover:text-zinc-300":"bg-white dark:bg-zinc-900/50 border-zinc-200 dark:border-zinc-700 text-zinc-500 dark:text-zinc-400 hover:border-zinc-300 dark:hover:border-zinc-600 hover:bg-zinc-50 dark:hover:bg-zinc-800";return C.jsxs("button",{onClick:()=>{pt(yt.id),$t("preferredView",yt.id)},className:`flex-1 py-4 px-2 rounded-xl border flex flex-col items-center justify-center gap-2 transition-all duration-200 ${ue}`,children:[C.jsx(yt.icon,{className:`w-8 h-8 ${Xt?"stroke-[2px]":"stroke-[1.5px]"}`}),C.jsx("span",{className:"text-sm font-medium",children:yt.label})]},yt.id)})})]}),C.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"Type"}),C.jsx(eg,{value:y,onChange:yt=>_(yt.target.value),options:[{value:"numeric",label:"Numeric"},{value:"boolean",label:"Yes / No"},{value:"percentage",label:"Percentage"},{value:"rating",label:"Rating"}],theme:u,isAmoled:d,disabled:!!e})]}),(y==="numeric"||y==="percentage")&&C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"Units"}),C.jsx("input",{value:v,onChange:yt=>S(yt.target.value),className:Ue,placeholder:"e.g. ml",disabled:y==="percentage"})]}),y==="rating"&&C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"System"}),C.jsx(eg,{value:A,onChange:yt=>E(yt.target.value),options:[{value:"stars",label:"5 Stars"},{value:"colors",label:"Traffic Lights"}],theme:u,isAmoled:d})]})]}),C.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-2",children:"Goal Direction"}),C.jsx(eg,{value:O,onChange:yt=>V(yt.target.value),options:[{value:"increase",label:"Increase"},{value:"decrease",label:"Decrease"},{value:"target",label:"Target Value"},{value:"none",label:"None"}],theme:u,isAmoled:d})]}),O==="target"&&y!=="boolean"&&C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-2",children:"Target Value"}),C.jsx("input",{type:"number",value:q,onChange:yt=>Y(yt.target.value),className:Ue,placeholder:"2000"})]})]}),C.jsxs("div",{className:`border rounded-xl overflow-hidden ${d?"border-zinc-800":"border-zinc-200 dark:border-zinc-700"}`,children:[C.jsxs("button",{onClick:()=>D(!M),className:`w-full flex justify-between items-center p-4 font-medium transition-colors ${d?"bg-zinc-900 text-zinc-300 hover:bg-zinc-800":"bg-zinc-50 dark:bg-zinc-900 text-zinc-700 dark:text-zinc-300 hover:bg-zinc-100 dark:hover:bg-zinc-800"}`,children:["Advanced Settings ",C.jsx(A_,{className:`w-4 h-4 transition-transform duration-300 ${M?"rotate-90":""}`})]}),C.jsx("div",{className:`grid transition-[grid-template-rows] duration-300 ease-in-out ${M?"grid-rows-[1fr]":"grid-rows-[0fr]"}`,children:C.jsx("div",{className:"overflow-hidden",children:C.jsxs("div",{className:`p-4 space-y-6 ${d?"bg-black":"bg-white dark:bg-zinc-800"}`,children:[C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-2",children:"Goal Cadence"}),C.jsxs("div",{className:`flex rounded-lg p-1 ${d?"bg-zinc-900":"bg-zinc-100 dark:bg-zinc-700"}`,children:[C.jsxs("button",{onClick:()=>{Q("daily"),$t("goalPeriod","daily")},className:`flex-1 py-2 text-sm font-medium rounded-md transition-all flex items-center justify-center gap-2 ${$==="daily"?"bg-white dark:bg-zinc-600 shadow text-zinc-900 dark:text-white":"text-zinc-500 dark:text-zinc-400"}`,children:[C.jsx(dV,{className:"w-3.5 h-3.5"})," Daily Reset"]}),C.jsxs("button",{onClick:()=>{Q("longTerm"),$t("goalPeriod","longTerm")},className:`flex-1 py-2 text-sm font-medium rounded-md transition-all flex items-center justify-center gap-2 ${$==="longTerm"?"bg-white dark:bg-zinc-600 shadow text-zinc-900 dark:text-white":"text-zinc-500 dark:text-zinc-400"}`,children:[C.jsx(NV,{className:"w-3.5 h-3.5"})," Long Term"]})]}),C.jsx("p",{className:"text-[10px] text-zinc-500 mt-1.5 px-1",children:$==="daily"?"Goal resets every day. Progress is the sum of daily entries.":"Goal is continuous. Progress is compared to the latest entry."})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-2",children:"Daily Aggregation"}),C.jsxs("div",{className:`flex rounded-lg p-1 ${d?"bg-zinc-900":"bg-zinc-100 dark:bg-zinc-700"}`,children:[C.jsx("button",{onClick:()=>{tt("average"),$t("aggregation","average")},className:`flex-1 py-1.5 text-sm font-medium rounded-md transition-all ${St==="average"?"bg-white dark:bg-zinc-600 shadow text-zinc-900 dark:text-white":"text-zinc-500 dark:text-zinc-400"}`,children:"Average"}),C.jsx("button",{onClick:()=>{tt("sum"),$t("aggregation","sum")},className:`flex-1 py-1.5 text-sm font-medium rounded-md transition-all ${St==="sum"?"bg-white dark:bg-zinc-600 shadow text-zinc-900 dark:text-white":"text-zinc-500 dark:text-zinc-400"}`,children:"Total (Sum)"})]})]}),y==="numeric"&&O==="target"&&C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"Goal Tolerance (+/-)"}),C.jsx("input",{type:"number",value:ft,onChange:yt=>xt(yt.target.value),className:Ue,placeholder:"0"})]}),C.jsxs("div",{children:[C.jsx("div",{className:"flex justify-between items-end mb-3",children:C.jsx("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300",children:"Assign Tags"})}),C.jsxs("div",{className:"flex gap-2 mb-3",children:[C.jsx("input",{value:Tt,onChange:yt=>Dt(yt.target.value),placeholder:"Create new tag...",className:`flex-1 px-3 py-1.5 text-sm rounded-lg border dark:text-white ${d?"bg-zinc-900 border-zinc-800":"dark:bg-zinc-900 dark:border-zinc-700"}`,onKeyDown:yt=>yt.key==="Enter"&&Te()}),C.jsx("button",{onClick:Te,disabled:!Tt.trim(),className:`text-sm px-3 py-1.5 rounded-lg font-medium transition-colors dark:text-white ${d?"bg-zinc-900 hover:bg-zinc-800":"bg-zinc-100 dark:bg-zinc-700 hover:bg-zinc-200"}`,children:"Add"})]}),C.jsx("div",{className:"flex flex-wrap gap-2",children:o.map(yt=>{const Xt=Mt.some(ue=>ue.id===yt.id);return C.jsx("button",{onClick:()=>$e(yt),className:`px-3 py-1 rounded-full text-sm border transition-all ${yt.colorClass} ${Xt?"opacity-100 font-semibold shadow-sm scale-105":"opacity-40 hover:opacity-100 grayscale hover:grayscale-0"}`,children:yt.name},yt.id)})})]}),C.jsxs("div",{children:[C.jsx("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-2",children:"List Display Value"}),C.jsx(eg,{value:N,onChange:yt=>{L(yt.target.value),$t("listDisplayValue",yt.target.value)},options:[{value:"none",label:"None (Hidden)"},{value:"last",label:"Last Inputted Value"},{value:"average",label:"Average of All Entries"}],theme:u,isAmoled:d})]}),C.jsxs("div",{className:`p-3 rounded-xl border ${d?"border-zinc-800 bg-zinc-900/50":"border-zinc-200 dark:border-zinc-700 bg-zinc-50/50 dark:bg-zinc-900/50"}`,children:[C.jsx(Wi,{label:"Show Type in Sidebar",icon:W3,value:z,onChange:yt=>{B(yt),$t("showTypeInList",yt)}}),C.jsx("div",{className:`h-px my-1 ${d?"bg-zinc-800":"bg-zinc-200 dark:bg-zinc-700"}`}),C.jsx(Wi,{label:"Track Streak",icon:C_,value:H,onChange:yt=>{st(yt),$t("enableStreak",yt)}}),O!=="none"&&C.jsxs(C.Fragment,{children:[C.jsx("div",{className:`h-px my-1 ${d?"bg-zinc-800":"bg-zinc-200 dark:bg-zinc-700"}`}),C.jsx(Wi,{label:"Show Trend Forecast",icon:CV,value:U,onChange:yt=>{Ot(yt),$t("showTrendForecast",yt)}})]})]})]})})})]}),C.jsxs("div",{className:"flex gap-3 pt-4",children:[e&&C.jsx("button",{onClick:Di,className:`px-4 py-3 ${ii} ${dt?`transform scale-105 active:scale-100 ${d?"shadow-red-900/40":"shadow-red-500/20"}`:""}`,style:{minWidth:dt?"140px":"48px"},children:dt?C.jsxs(C.Fragment,{children:[C.jsx(kg,{className:"w-5 h-5 mr-2"}),C.jsx("span",{className:"text-sm font-medium",children:"Confirm?"})]}):C.jsx(D_,{className:"w-5 h-5"})}),C.jsx("button",{onClick:fn,disabled:!f.trim(),className:`flex-1 py-3 rounded-xl font-medium shadow-lg text-white transition-all active:scale-95 disabled:opacity-50 ${u.primary}`,children:e?"Save Changes":"Create Tracker"})]})]})},_W=()=>{const{user:n}=io(),{theme:t,isAmoled:e}=wr(),[i,r]=W.useState("idle"),[o,l]=W.useState(""),u=W.useRef(null),d=async()=>{if(n){r("exporting");try{const S={version:1,timestamp:new Date().toISOString(),exportUser:n.email,trackers:[]},A=fl(xn,"artifacts","default-app-id","users",n.uid,"trackers"),O=(await tb(A)).docs.map(async $=>{const Q=$.data(),M=$.id,D=fl(xn,"artifacts","default-app-id","users",n.uid,"trackers",M,"entries"),L=(await tb(D)).docs.map(z=>({id:z.id,...z.data()}));return{id:M,...Q,entries:L}});S.trackers=await Promise.all(O);const V=new Blob([JSON.stringify(S,null,2)],{type:"application/json"}),q=URL.createObjectURL(V),Y=document.createElement("a");Y.href=q,Y.download=`trackit-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(Y),Y.click(),document.body.removeChild(Y),r("success"),l("Export complete!"),setTimeout(()=>r("idle"),3e3)}catch(S){console.error(S),r("error"),l("Export failed. Check console.")}}},f=()=>u.current?.click(),p=async S=>{const A=S.target.files[0];if(!A)return;r("importing"),l("Reading file...");const E=new FileReader;E.onload=async O=>{try{const V=JSON.parse(O.target.result);if(!V.trackers||!Array.isArray(V.trackers))throw new Error("Invalid file format: Missing trackers array.");const q=RI(xn);let Y=0;const $=450,Q=async()=>{await q.commit(),Y=0};for(const M of V.trackers){const{entries:D,id:N,...L}=M,z=Gi(xn,"artifacts","default-app-id","users",n.uid,"trackers",N);if(q.set(z,{...L,updatedAt:vc()}),Y++,D&&Array.isArray(D))for(const B of D){const{id:U,...Ot}=B,St=Gi(xn,"artifacts","default-app-id","users",n.uid,"trackers",N,"entries",U);q.set(St,Ot),Y++}}Y>$&&console.warn("Large batch detected, commit might fail if over 500 writes."),await q.commit(),r("success"),l("Import successful! Refreshing..."),setTimeout(()=>window.location.reload(),1500)}catch(V){console.error(V),r("error"),l("Import failed. Invalid JSON?")}},E.readAsText(A),S.target.value=""},y=`p-4 rounded-xl border flex flex-col gap-4 ${e?"border-zinc-800 bg-zinc-900/30":"border-zinc-200 dark:border-zinc-700 bg-zinc-50/50 dark:bg-zinc-800/30"}`,_="flex-1 flex flex-col items-center justify-center p-4 rounded-xl border transition-all active:scale-95",v=e?"border-zinc-800 hover:bg-zinc-900":"border-zinc-200 dark:border-zinc-700 hover:bg-zinc-50 dark:hover:bg-zinc-800";return C.jsxs("div",{className:y,children:[C.jsxs("div",{className:"flex justify-between items-center",children:[C.jsx("h3",{className:"font-bold dark:text-white",children:"Data Management"}),i==="error"&&C.jsxs("span",{className:"text-xs text-red-500 flex items-center",children:[C.jsx(IV,{className:"w-3 h-3 mr-1"})," ",o]}),i==="success"&&C.jsxs("span",{className:"text-xs text-green-500 flex items-center",children:[C.jsx(H3,{className:"w-3 h-3 mr-1"})," ",o]})]}),C.jsxs("div",{className:"flex gap-4",children:[C.jsxs("button",{onClick:d,disabled:i==="exporting"||i==="importing",className:`${_} ${v} ${i==="exporting"?"opacity-50":""}`,children:[i==="exporting"?C.jsx(kd,{className:`w-6 h-6 mb-2 animate-spin ${t.text}`}):C.jsx(PI,{className:`w-6 h-6 mb-2 ${t.text}`}),C.jsx("span",{className:"text-sm font-medium dark:text-white",children:i==="exporting"?"Exporting...":"Export Backup"})]}),C.jsxs("button",{onClick:f,disabled:i==="exporting"||i==="importing",className:`${_} ${v} ${i==="importing"?"opacity-50":""}`,children:[i==="importing"?C.jsx(kd,{className:`w-6 h-6 mb-2 animate-spin ${t.text}`}):C.jsx(OV,{className:`w-6 h-6 mb-2 ${t.text}`}),C.jsx("span",{className:"text-sm font-medium dark:text-white",children:i==="importing"?"Importing...":"Import Backup"})]}),C.jsx("input",{type:"file",ref:u,onChange:p,accept:".json",className:"hidden"})]}),C.jsx("p",{className:"text-xs text-zinc-500 text-center",children:"Exporting creates a JSON file of all your trackers and entries. Importing will overwrite or add to existing data."})]})},vW=({isOpen:n,onClose:t})=>{const{user:e}=io(),{themeMode:i,tags:r,theme:o,isAmoled:l,updateSettings:u,updateTags:d,setThemeMode:f}=wr(),[p,y]=W.useState(!1),[_,v]=W.useState(e?.displayName||""),[S,A]=W.useState(!1),[E,O]=W.useState(""),[V,q]=W.useState(null),[Y,$]=W.useState(""),[Q,M]=W.useState(""),[D,N]=W.useState(null),[L,z]=W.useState(!1);W.useEffect(()=>{e&&(v(e.displayName||""),N(e.photoURL||null))},[e,n]);const B=async()=>{if(!_.trim()||_.trim()===e?.displayName){v(e?.displayName||""),y(!1);return}try{await qy(kr.currentUser,{displayName:_}),await kr.currentUser.reload(),y(!1)}catch(dt){console.error(dt)}},U=dt=>{dt.key==="Enter"?(dt.preventDefault(),dt.target.blur()):dt.key==="Escape"&&(v(e?.displayName||""),y(!1))},Ot=async()=>{if(Q.trim()){z(!0);try{kr.currentUser&&await qy(kr.currentUser,{photoURL:Q}),u("avatar",Q),N(Q),M(""),A(!1)}catch(dt){console.error(dt)}finally{z(!1)}}},St=async()=>{try{kr.currentUser&&await qy(kr.currentUser,{photoURL:""}),u("avatar",null),N(null),A(!1)}catch(dt){console.error(dt)}},tt=()=>{if(!E.trim())return;const dt={id:Date.now(),name:E,colorClass:K2(r).class};d([...r,dt]),O("")},ft=dt=>d(r.filter(Vt=>Vt.id!==dt)),xt=dt=>{q(dt.id),$(dt.name)},Mt=()=>{Y.trim()&&(d(r.map(dt=>dt.id===V?{...dt,name:Y}:dt)),q(null))},Pt=dt=>{const Vt=r.find($e=>$e.id===dt);if(!Vt)return;const $t=(Fo.findIndex($e=>$e.class===Vt.colorClass)+1)%Fo.length;d(r.map($e=>$e.id===dt?{...$e,colorClass:Fo[$t].class}:$e))},gt=`text-sm rounded-lg border outline-none dark:text-white transition-all ${l?"bg-zinc-900 border-zinc-800 focus:border-zinc-700 placeholder-zinc-600":"bg-white dark:bg-zinc-900 border-zinc-300 dark:border-zinc-700 placeholder-zinc-400 focus:border-zinc-400 dark:focus:border-zinc-500"} px-3 py-2 w-full`,pt=`p-5 rounded-2xl border ${l?"border-zinc-800 bg-zinc-900/20":"border-zinc-200 dark:border-zinc-700 bg-zinc-50/50 dark:bg-zinc-800/20"}`,Tt=`my-6 border-t ${l?"border-zinc-800":"border-zinc-200 dark:border-zinc-700"}`,Dt=`
        w-full py-3 mt-4 rounded-xl font-medium transition-all duration-200
        border border-red-200 dark:border-red-900/30 text-red-600 dark:text-red-400
        ${l?"bg-black hover:bg-zinc-900 hover:shadow-lg hover:shadow-red-900/20":"bg-white dark:bg-zinc-900 hover:bg-red-50 dark:hover:bg-red-900/10 hover:shadow-md hover:shadow-red-500/10"}
        flex items-center justify-center gap-2
    `;return C.jsxs(xv,{isOpen:n,onClose:t,title:"Settings",children:[C.jsxs("div",{className:"flex items-center gap-5 mb-8",children:[C.jsxs("div",{className:"relative group",children:[C.jsxs("button",{onClick:()=>A(!S),className:`
                            w-20 h-20 rounded-full flex items-center justify-center text-3xl shrink-0 overflow-hidden 
                            transition-all ring-4 ring-offset-2 ring-transparent
                            ${S?`ring-${o.primary.split(" ")[0]} ring-offset-zinc-50 dark:ring-offset-zinc-900`:""}
                            ${l?"bg-zinc-900 ring-offset-black":"bg-zinc-100 dark:bg-zinc-700"} 
                        `,children:[D?C.jsx("img",{src:D,alt:"Avatar",className:"w-full h-full object-cover transition-opacity group-hover:opacity-50"}):C.jsx(UI,{className:"w-10 h-10 text-zinc-400 group-hover:opacity-50 transition-opacity"}),C.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:C.jsx(O3,{className:"w-6 h-6 text-zinc-700 dark:text-white drop-shadow-md"})})]}),S&&C.jsx("div",{className:`absolute -bottom-1 left-1/2 -translate-x-1/2 w-3 h-3 rotate-45 border-t border-l ${l?"bg-zinc-900 border-zinc-800":"bg-white dark:bg-zinc-800 border-zinc-200 dark:border-zinc-700"} z-10`})]}),C.jsxs("div",{className:"flex-1 min-w-0",children:[C.jsx("div",{className:"flex items-center gap-2 mb-1",children:p?C.jsx("input",{value:_,onChange:dt=>v(dt.target.value),onBlur:B,onKeyDown:U,className:`bg-transparent text-xl font-bold outline-none border-b-2 w-full p-0 transition-colors ${l?"text-white border-zinc-700 focus:border-zinc-500":"text-zinc-900 dark:text-white border-zinc-200 dark:border-zinc-700 focus:border-zinc-400"}`,autoFocus:!0}):C.jsxs(C.Fragment,{children:[C.jsx("h3",{className:"font-bold text-xl dark:text-white truncate",title:e?.displayName,children:e?.displayName||"User"}),C.jsx("button",{onClick:()=>y(!0),className:"p-1.5 rounded-md text-zinc-400 hover:text-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-all",children:C.jsx(LI,{className:"w-4 h-4"})})]})}),C.jsx("p",{className:"text-sm text-zinc-500 truncate",children:e?.email})]})]}),S&&C.jsxs("div",{className:`mb-8 -mt-2 animate-in slide-in-from-top-4 fade-in duration-300 ${pt} shadow-lg`,children:[C.jsxs("div",{className:"flex items-center gap-2 mb-3 text-sm font-bold text-zinc-700 dark:text-zinc-200",children:[C.jsx(K3,{className:"w-4 h-4 text-zinc-400"}),"Update Profile Picture"]}),C.jsxs("div",{className:"flex gap-0 shadow-sm rounded-xl overflow-hidden",children:[C.jsx("div",{className:`pl-3 pr-2 flex items-center border-y border-l rounded-l-xl ${l?"bg-zinc-900 border-zinc-800":"bg-zinc-50 dark:bg-zinc-800 border-zinc-300 dark:border-zinc-700"}`,children:C.jsx(J3,{className:"w-4 h-4 text-zinc-400"})}),C.jsx("input",{value:Q,onChange:dt=>M(dt.target.value),placeholder:"Paste image URL here...",className:`flex-1 px-3 py-2.5 text-sm outline-none border-y dark:text-white ${l?"bg-zinc-900 border-zinc-800 placeholder-zinc-600":"bg-white dark:bg-zinc-900 border-zinc-300 dark:border-zinc-700 placeholder-zinc-400"}`,autoFocus:!0}),C.jsx("button",{onClick:Ot,disabled:!Q.trim()||L,className:`px-5 py-2 text-sm font-medium text-white border-y border-r rounded-r-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed ${o.primary} border-transparent`,children:L?C.jsx(kd,{className:"w-4 h-4 animate-spin"}):"Save"})]}),C.jsxs("div",{className:"mt-3 flex justify-between items-center",children:[C.jsx("p",{className:"text-xs text-zinc-500",children:"Supports JPG, PNG, GIF URLs."}),D&&C.jsxs("button",{onClick:St,className:"text-xs text-red-500 hover:text-red-600 dark:hover:text-red-400 font-medium flex items-center gap-1.5 px-2 py-1 rounded-md hover:bg-red-50 dark:hover:bg-red-900/10 transition-colors",children:[C.jsx(D_,{className:"w-3 h-3"})," Remove Picture"]})]})]}),C.jsxs("div",{className:"space-y-6",children:[C.jsxs("div",{className:pt,children:[C.jsxs("div",{children:[C.jsxs("h3",{className:"font-bold mb-4 dark:text-white flex items-center gap-2",children:[C.jsx(zI,{className:"w-4 h-4 text-zinc-400"})," Theme Mode"]}),C.jsx("div",{className:`flex rounded-xl p-1.5 ${l?"bg-zinc-900":"bg-zinc-100 dark:bg-zinc-900/50 border border-zinc-200 dark:border-zinc-700"}`,children:["light","dark","amoled"].map(dt=>C.jsx("button",{onClick:()=>f(dt),className:`
                                        flex-1 py-2 text-sm font-medium rounded-lg transition-all capitalize
                                        ${i===dt?l?"bg-zinc-800 text-white shadow-md border border-zinc-700":"bg-white dark:bg-zinc-700 shadow text-zinc-900 dark:text-white":"text-zinc-500 dark:text-zinc-400 hover:text-zinc-900 dark:hover:text-zinc-200"}
                                    `,children:dt==="amoled"?"True Dark":dt},dt))})]}),C.jsx("div",{className:Tt}),C.jsxs("div",{children:[C.jsxs("h3",{className:"font-bold mb-4 dark:text-white flex items-center gap-2",children:[C.jsx(aV,{className:"w-4 h-4 text-zinc-400"})," Accent Color"]}),C.jsx("div",{className:"grid grid-cols-6 gap-3",children:Object.entries(cb).map(([dt,Vt])=>{const At=Vt.primary.split(" ")[0],$t=o.label===Vt.label;return C.jsx("button",{onClick:()=>u("theme",dt),className:`
                                            h-10 w-10 mx-auto rounded-full ${At} 
                                            transition-all flex items-center justify-center shadow-sm 
                                            ${$t?"ring-2 ring-offset-2 ring-zinc-400 dark:ring-offset-zinc-800 scale-110":"hover:scale-110 hover:shadow-md"}
                                        `,title:Vt.label,children:$t&&C.jsx(kg,{className:"w-5 h-5 text-white drop-shadow-sm"})},dt)})})]})]}),C.jsxs("div",{className:pt,children:[C.jsx("h3",{className:"font-bold mb-4 dark:text-white",children:"Manage Tags"}),C.jsxs("div",{className:"flex gap-2 mb-4",children:[C.jsx("input",{value:E,onChange:dt=>O(dt.target.value),placeholder:"New Tag Name",className:gt,onKeyDown:dt=>dt.key==="Enter"&&tt()}),C.jsx("button",{onClick:tt,disabled:!E.trim(),className:`px-4 py-2 text-sm rounded-lg font-medium transition-colors text-white shadow-md disabled:opacity-50 disabled:shadow-none ${o.primary}`,children:"Add"})]}),C.jsx("div",{className:"flex flex-wrap gap-2",children:r.map(dt=>V===dt.id?C.jsxs("div",{className:`flex items-center gap-1 border rounded-lg p-1 pr-2 animate-in fade-in zoom-in-95 duration-200 ${l?"border-zinc-800 bg-black":"bg-white dark:bg-zinc-800 border-zinc-200 dark:border-zinc-700 shadow-sm"}`,children:[C.jsx("input",{value:Y,onChange:Vt=>$(Vt.target.value),className:"w-24 text-sm px-2 outline-none bg-transparent dark:text-white",autoFocus:!0}),C.jsx("button",{onClick:()=>Pt(dt.id),className:`p-1.5 rounded-full transition-colors ${l?"hover:bg-zinc-900":"hover:bg-zinc-100 dark:hover:bg-zinc-700"}`,children:C.jsx("div",{className:`w-3 h-3 rounded-full ${Fo.find(Vt=>Vt.class===dt.colorClass)?.dot||"bg-zinc-400"}`})}),C.jsx("button",{onClick:Mt,className:"p-1 text-green-500 hover:text-green-600",children:C.jsx(kg,{className:"w-3.5 h-3.5"})})]},dt.id):C.jsxs("span",{className:`${dt.colorClass} pl-3 pr-2 py-1.5 rounded-full text-xs font-bold flex items-center border cursor-pointer hover:shadow-sm hover:scale-105 transition-all select-none`,onClick:()=>xt(dt),children:[dt.name,C.jsx("button",{className:"ml-2 p-0.5 hover:bg-black/10 dark:hover:bg-white/20 rounded-full transition-colors",onClick:Vt=>{Vt.stopPropagation(),ft(dt.id)},children:C.jsx(I_,{className:"w-3 h-3"})})]},dt.id))})]}),C.jsx(_W,{}),C.jsx("div",{className:`pt-4 border-t ${l?"border-zinc-800":"border-zinc-200 dark:border-zinc-700"}`,children:C.jsxs("button",{onClick:()=>{ez(kr),t()},className:Dt,children:[C.jsx(nV,{className:"w-4 h-4 mr-2"})," Sign Out"]})})]})]})},xW=()=>{const[n,t]=W.useState(null),[e,i]=W.useState(!1);return W.useEffect(()=>{const o=l=>{l.preventDefault(),console.log(" PWA: beforeinstallprompt event FIRED! App is installable."),t(l),i(!0)};return console.log(" PWA: Listening for install event..."),window.addEventListener("beforeinstallprompt",o),window.matchMedia("(display-mode: standalone)").matches&&(console.log(" PWA: App is already running in standalone mode."),i(!1)),()=>window.removeEventListener("beforeinstallprompt",o)},[]),{isInstallable:e,install:async()=>{if(console.log(" PWA: Install button clicked"),!n){console.error(" PWA: No deferred prompt found. Cannot trigger install.");return}n.prompt();const{outcome:o}=await n.userChoice;console.log(`PWA: User response: ${o}`),t(null),i(!1)}}},wW=()=>{const{isInstallable:n,install:t}=xW(),{isAmoled:e}=wr();return n?C.jsxs("button",{onClick:t,className:`
                w-full flex items-center gap-3 px-4 py-3 rounded-xl font-medium transition-all duration-200
                ${e?"bg-zinc-900 text-zinc-300 hover:bg-zinc-800":"bg-blue-50 text-blue-600 hover:bg-blue-100 dark:bg-blue-900/20 dark:text-blue-400 dark:hover:bg-blue-900/30"}
            `,children:[C.jsx("div",{className:`p-2 rounded-lg ${e?"bg-black":"bg-white dark:bg-blue-900/30"}`,children:C.jsx(PI,{className:"w-4 h-4"})}),C.jsxs("div",{className:"text-left",children:[C.jsx("p",{className:"text-sm font-bold",children:"Install App"}),C.jsx("p",{className:"text-[10px] opacity-70",children:"Get the native experience"})]})]}):null},TW=()=>{const{user:n}=io(),{trackers:t,loading:e,reorderTrackers:i}=i8(),{theme:r,isAmoled:o,themeMode:l,setThemeMode:u}=wr(),[d,f]=W.useState(null),[p,y]=W.useState(!1),[_,v]=W.useState(!1),[S,A]=W.useState(!1),[E,O]=W.useState(!1);W.useEffect(()=>{!d&&t.length>0&&f(t[0].id)},[t,d]);const V=t.find(N=>N.id===d),q=N=>{N.destination&&i(N.source.index,N.destination.index)},Y=N=>{f(N),O(!1)},$=()=>{if(l==="light"){const N=localStorage.getItem("lastDarkMode")||"dark";u(N)}else localStorage.setItem("lastDarkMode",l),u("light")};if(e)return C.jsx("div",{className:`h-screen flex items-center justify-center ${o?"bg-black":"bg-zinc-50 dark:bg-zinc-900"}`,children:C.jsx("div",{className:`animate-spin rounded-full h-8 w-8 border-b-2 ${r.text}`})});const Q=o?"bg-black text-white":"bg-zinc-200 dark:bg-zinc-900 text-zinc-900 dark:text-white",M=o?"bg-black border-zinc-800":"bg-white dark:bg-zinc-800 border-zinc-300 dark:border-zinc-800",D=o?"bg-black/80 border-zinc-800":"bg-white/80 dark:bg-zinc-900/80 border-zinc-300 dark:border-zinc-800";return C.jsxs("div",{className:`flex h-screen w-full overflow-hidden relative ${Q}`,children:[E&&C.jsx("div",{className:"fixed inset-0 bg-black/50 z-20 md:hidden backdrop-blur-sm",onClick:()=>O(!1)}),C.jsxs("aside",{className:`
          fixed md:relative top-0 left-0 h-full z-30 w-80 flex flex-col border-r
          transition-transform duration-300 ease-in-out
          ${E?"translate-x-0":"-translate-x-full md:translate-x-0"}
          ${M}
      `,children:[C.jsxs("div",{className:`p-6 border-b flex items-center justify-between ${o?"border-zinc-800":"border-zinc-300 dark:border-zinc-800"}`,children:[C.jsxs("div",{className:"flex items-center space-x-3",children:[C.jsx("div",{className:`p-2 rounded-lg ${r.primary}`,children:C.jsx(wp,{className:"w-5 h-5 text-white"})}),C.jsx("h1",{className:"text-xl font-bold",children:"TrackIt"})]}),C.jsx("button",{onClick:()=>O(!1),className:"md:hidden text-zinc-500",children:C.jsx(I_,{className:"w-6 h-6"})})]}),C.jsx("div",{className:"p-4",children:C.jsxs("button",{onClick:()=>{y(!0),O(!1)},className:`w-full py-3 text-white rounded-xl font-medium shadow-lg transition-all flex items-center justify-center gap-2 ${r.primary}`,children:[C.jsx(Pd,{className:"w-5 h-5"})," New Tracker"]})}),C.jsx("div",{className:"flex-1 overflow-y-auto px-4 pt-4 pb-4",children:t.length===0?C.jsx("div",{className:"text-center py-10 text-zinc-400",children:C.jsx("p",{className:"text-sm",children:"No trackers yet."})}):C.jsx(mB,{onDragEnd:q,children:C.jsx(n8,{droppableId:"tracker-list",children:N=>C.jsxs("div",{...N.droppableProps,ref:N.innerRef,className:"space-y-2 pb-2",children:[t.map((L,z)=>C.jsx(PB,{draggableId:L.id,index:z,children:(B,U)=>C.jsx("div",{ref:B.innerRef,...B.draggableProps,style:{...B.draggableProps.style},className:"outline-none border-none",children:C.jsx("div",{...B.dragHandleProps,className:`
                                                        group relative rounded-xl transition-all duration-200 ease-out
                                                        ${U.isDragging?o?"bg-black shadow-zinc-800":"bg-white dark:bg-zinc-800":"bg-transparent"} 
                                                        ${U.isDragging?"shadow-2xl z-50 scale-[1.02]":"shadow-none"}
                                                    `,children:C.jsx("div",{className:"transition-all duration-200",children:C.jsx(s8,{tracker:L,onClick:()=>Y(L.id),isActive:d===L.id,theme:r,isAmoled:o})})})})},L.id)),N.placeholder]})})})}),C.jsx("div",{className:"px-4 pb-2",children:C.jsx(wW,{})}),C.jsxs("div",{className:`p-4 border-t flex items-center gap-2 ${o?"border-zinc-800":"border-zinc-300 dark:border-zinc-600"}`,children:[C.jsxs("button",{onClick:()=>{A(!0),O(!1)},className:`flex-1 flex items-center space-x-3 px-3 py-3 rounded-xl transition-colors text-left group ${o?"hover:bg-zinc-900":"hover:bg-zinc-200 dark:hover:bg-zinc-700"}`,children:[C.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center shrink-0 overflow-hidden ${o?"bg-zinc-900":"bg-zinc-200 dark:bg-zinc-700"}`,children:n?.photoURL?C.jsx("img",{src:n.photoURL,alt:"Avatar",className:"w-full h-full object-cover"}):C.jsx(UI,{className:"w-4 h-4 text-zinc-500"})}),C.jsxs("div",{className:"flex-1 min-w-0",children:[C.jsx("p",{className:`text-sm font-medium truncate ${o?"text-white":"text-zinc-900 dark:text-zinc-100"}`,children:n.displayName||"User"}),C.jsx("p",{className:"text-xs text-zinc-600 dark:text-zinc-500",children:"Settings"})]}),C.jsx(yV,{className:"w-4 h-4 text-zinc-400 group-hover:text-zinc-600 dark:group-hover:text-zinc-300 transition-colors"})]}),C.jsx("button",{onClick:$,className:`p-3 rounded-xl transition-colors ${o?"hover:bg-zinc-900 text-zinc-400 hover:text-white":"hover:bg-zinc-200 dark:hover:bg-zinc-700 text-zinc-600 dark:text-zinc-400 hover:text-zinc-900 dark:hover:text-white"}`,children:l==="light"?C.jsx(zI,{className:"w-5 h-5"}):C.jsx(wV,{className:"w-5 h-5"})})]})]}),C.jsxs("main",{className:"flex-1 flex flex-col h-full overflow-hidden relative",children:[C.jsx("div",{className:`md:hidden p-4 flex items-center justify-between sticky top-0 z-10 backdrop-blur-md border-b ${D}`,children:C.jsxs("div",{className:"flex items-center gap-2",children:[C.jsx("button",{onClick:()=>O(!0),className:"p-2 -ml-2 rounded-lg text-zinc-600 dark:text-zinc-300",children:C.jsx(rV,{className:"w-6 h-6"})}),C.jsx("span",{className:"font-bold text-lg",children:"TrackIt"})]})}),C.jsx(bW,{tracker:V,onEdit:()=>v(!0)})]}),C.jsx(ZA,{isOpen:p,onClose:()=>y(!1),nextOrder:t.length}),C.jsx(ZA,{isOpen:_,onClose:()=>v(!1),editTracker:V}),C.jsx(vW,{isOpen:S,onClose:()=>A(!1)})]})};function EW(){const{user:n}=io();return n?C.jsx(TW,{}):C.jsx(LV,{})}gO.createRoot(document.getElementById("root")).render(C.jsx(Je.StrictMode,{children:C.jsx(zV,{children:C.jsxs(r8,{children:[" ",C.jsx(EW,{})]})})}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/TrackIt/service-worker.js").then(n=>{console.log("SW registered: ",n)}).catch(n=>{console.log("SW registration failed: ",n)})});
