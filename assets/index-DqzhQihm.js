(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&i(c)}).observe(document,{childList:!0,subtree:!0});function e(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(a){if(a.ep)return;a.ep=!0;const o=e(a);fetch(a.href,o)}})();var Mg={exports:{}},_c={};var Rv;function q2(){if(Rv)return _c;Rv=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,a,o){var c=null;if(o!==void 0&&(c=""+o),a.key!==void 0&&(c=""+a.key),"key"in a){o={};for(var h in a)h!=="key"&&(o[h]=a[h])}else o=a;return a=o.ref,{$$typeof:n,type:i,key:c,ref:a!==void 0?a:null,props:o}}return _c.Fragment=t,_c.jsx=e,_c.jsxs=e,_c}var Iv;function G2(){return Iv||(Iv=1,Mg.exports=q2()),Mg.exports}var w=G2(),Og={exports:{}},It={};var kv;function Y2(){if(kv)return It;kv=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),c=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),m=Symbol.for("react.memo"),y=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),T=Symbol.iterator;function x(M){return M===null||typeof M!="object"?null:(M=T&&M[T]||M["@@iterator"],typeof M=="function"?M:null)}var A={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I=Object.assign,N={};function B(M,W,ut){this.props=M,this.context=W,this.refs=N,this.updater=ut||A}B.prototype.isReactComponent={},B.prototype.setState=function(M,W){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,W,"setState")},B.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function Q(){}Q.prototype=B.prototype;function X(M,W,ut){this.props=M,this.context=W,this.refs=N,this.updater=ut||A}var at=X.prototype=new Q;at.constructor=X,I(at,B.prototype),at.isPureReactComponent=!0;var nt=Array.isArray;function lt(){}var k={H:null,A:null,T:null,S:null},C=Object.prototype.hasOwnProperty;function D(M,W,ut){var dt=ut.ref;return{$$typeof:n,type:M,key:W,ref:dt!==void 0?dt:null,props:ut}}function P(M,W){return D(M.type,W,M.props)}function z(M){return typeof M=="object"&&M!==null&&M.$$typeof===n}function L(M){var W={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(ut){return W[ut]})}var O=/\/+/g;function Ct(M,W){return typeof M=="object"&&M!==null&&M.key!=null?L(""+M.key):W.toString(36)}function J(M){switch(M.status){case"fulfilled":return M.value;case"rejected":throw M.reason;default:switch(typeof M.status=="string"?M.then(lt,lt):(M.status="pending",M.then(function(W){M.status==="pending"&&(M.status="fulfilled",M.value=W)},function(W){M.status==="pending"&&(M.status="rejected",M.reason=W)})),M.status){case"fulfilled":return M.value;case"rejected":throw M.reason}}throw M}function H(M,W,ut,dt,et){var ct=typeof M;(ct==="undefined"||ct==="boolean")&&(M=null);var yt=!1;if(M===null)yt=!0;else switch(ct){case"bigint":case"string":case"number":yt=!0;break;case"object":switch(M.$$typeof){case n:case t:yt=!0;break;case y:return yt=M._init,H(yt(M._payload),W,ut,dt,et)}}if(yt)return et=et(M),yt=dt===""?"."+Ct(M,0):dt,nt(et)?(ut="",yt!=null&&(ut=yt.replace(O,"$&/")+"/"),H(et,W,ut,"",function(wi){return wi})):et!=null&&(z(et)&&(et=P(et,ut+(et.key==null||M&&M.key===et.key?"":(""+et.key).replace(O,"$&/")+"/")+yt)),W.push(et)),1;yt=0;var Dt=dt===""?".":dt+":";if(nt(M))for(var Nt=0;Nt<M.length;Nt++)dt=M[Nt],ct=Dt+Ct(dt,Nt),yt+=H(dt,W,ut,ct,et);else if(Nt=x(M),typeof Nt=="function")for(M=Nt.call(M),Nt=0;!(dt=M.next()).done;)dt=dt.value,ct=Dt+Ct(dt,Nt++),yt+=H(dt,W,ut,ct,et);else if(ct==="object"){if(typeof M.then=="function")return H(J(M),W,ut,dt,et);throw W=String(M),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return yt}function ot(M,W,ut){if(M==null)return M;var dt=[],et=0;return H(M,dt,"","",function(ct){return W.call(ut,ct,et++)}),dt}function pt(M){if(M._status===-1){var W=M._result;W=W(),W.then(function(ut){(M._status===0||M._status===-1)&&(M._status=1,M._result=ut)},function(ut){(M._status===0||M._status===-1)&&(M._status=2,M._result=ut)}),M._status===-1&&(M._status=0,M._result=W)}if(M._status===1)return M._result.default;throw M._result}var St=typeof reportError=="function"?reportError:function(M){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof M=="object"&&M!==null&&typeof M.message=="string"?String(M.message):String(M),error:M});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",M);return}console.error(M)},ft={map:ot,forEach:function(M,W,ut){ot(M,function(){W.apply(this,arguments)},ut)},count:function(M){var W=0;return ot(M,function(){W++}),W},toArray:function(M){return ot(M,function(W){return W})||[]},only:function(M){if(!z(M))throw Error("React.Children.only expected to receive a single React element child.");return M}};return It.Activity=b,It.Children=ft,It.Component=B,It.Fragment=e,It.Profiler=a,It.PureComponent=X,It.StrictMode=i,It.Suspense=f,It.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,It.__COMPILER_RUNTIME={__proto__:null,c:function(M){return k.H.useMemoCache(M)}},It.cache=function(M){return function(){return M.apply(null,arguments)}},It.cacheSignal=function(){return null},It.cloneElement=function(M,W,ut){if(M==null)throw Error("The argument must be a React element, but you passed "+M+".");var dt=I({},M.props),et=M.key;if(W!=null)for(ct in W.key!==void 0&&(et=""+W.key),W)!C.call(W,ct)||ct==="key"||ct==="__self"||ct==="__source"||ct==="ref"&&W.ref===void 0||(dt[ct]=W[ct]);var ct=arguments.length-2;if(ct===1)dt.children=ut;else if(1<ct){for(var yt=Array(ct),Dt=0;Dt<ct;Dt++)yt[Dt]=arguments[Dt+2];dt.children=yt}return D(M.type,et,dt)},It.createContext=function(M){return M={$$typeof:c,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null},M.Provider=M,M.Consumer={$$typeof:o,_context:M},M},It.createElement=function(M,W,ut){var dt,et={},ct=null;if(W!=null)for(dt in W.key!==void 0&&(ct=""+W.key),W)C.call(W,dt)&&dt!=="key"&&dt!=="__self"&&dt!=="__source"&&(et[dt]=W[dt]);var yt=arguments.length-2;if(yt===1)et.children=ut;else if(1<yt){for(var Dt=Array(yt),Nt=0;Nt<yt;Nt++)Dt[Nt]=arguments[Nt+2];et.children=Dt}if(M&&M.defaultProps)for(dt in yt=M.defaultProps,yt)et[dt]===void 0&&(et[dt]=yt[dt]);return D(M,ct,et)},It.createRef=function(){return{current:null}},It.forwardRef=function(M){return{$$typeof:h,render:M}},It.isValidElement=z,It.lazy=function(M){return{$$typeof:y,_payload:{_status:-1,_result:M},_init:pt}},It.memo=function(M,W){return{$$typeof:m,type:M,compare:W===void 0?null:W}},It.startTransition=function(M){var W=k.T,ut={};k.T=ut;try{var dt=M(),et=k.S;et!==null&&et(ut,dt),typeof dt=="object"&&dt!==null&&typeof dt.then=="function"&&dt.then(lt,St)}catch(ct){St(ct)}finally{W!==null&&ut.types!==null&&(W.types=ut.types),k.T=W}},It.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},It.use=function(M){return k.H.use(M)},It.useActionState=function(M,W,ut){return k.H.useActionState(M,W,ut)},It.useCallback=function(M,W){return k.H.useCallback(M,W)},It.useContext=function(M){return k.H.useContext(M)},It.useDebugValue=function(){},It.useDeferredValue=function(M,W){return k.H.useDeferredValue(M,W)},It.useEffect=function(M,W){return k.H.useEffect(M,W)},It.useEffectEvent=function(M){return k.H.useEffectEvent(M)},It.useId=function(){return k.H.useId()},It.useImperativeHandle=function(M,W,ut){return k.H.useImperativeHandle(M,W,ut)},It.useInsertionEffect=function(M,W){return k.H.useInsertionEffect(M,W)},It.useLayoutEffect=function(M,W){return k.H.useLayoutEffect(M,W)},It.useMemo=function(M,W){return k.H.useMemo(M,W)},It.useOptimistic=function(M,W){return k.H.useOptimistic(M,W)},It.useReducer=function(M,W,ut){return k.H.useReducer(M,W,ut)},It.useRef=function(M){return k.H.useRef(M)},It.useState=function(M){return k.H.useState(M)},It.useSyncExternalStore=function(M,W,ut){return k.H.useSyncExternalStore(M,W,ut)},It.useTransition=function(){return k.H.useTransition()},It.version="19.2.1",It}var Dv;function Zp(){return Dv||(Dv=1,Og.exports=Y2()),Og.exports}var mt=Zp(),zg={exports:{}},bc={},Vg={exports:{}},Pg={};var Nv;function K2(){return Nv||(Nv=1,(function(n){function t(H,ot){var pt=H.length;H.push(ot);t:for(;0<pt;){var St=pt-1>>>1,ft=H[St];if(0<a(ft,ot))H[St]=ot,H[pt]=ft,pt=St;else break t}}function e(H){return H.length===0?null:H[0]}function i(H){if(H.length===0)return null;var ot=H[0],pt=H.pop();if(pt!==ot){H[0]=pt;t:for(var St=0,ft=H.length,M=ft>>>1;St<M;){var W=2*(St+1)-1,ut=H[W],dt=W+1,et=H[dt];if(0>a(ut,pt))dt<ft&&0>a(et,ut)?(H[St]=et,H[dt]=pt,St=dt):(H[St]=ut,H[W]=pt,St=W);else if(dt<ft&&0>a(et,pt))H[St]=et,H[dt]=pt,St=dt;else break t}}return ot}function a(H,ot){var pt=H.sortIndex-ot.sortIndex;return pt!==0?pt:H.id-ot.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var c=Date,h=c.now();n.unstable_now=function(){return c.now()-h}}var f=[],m=[],y=1,b=null,T=3,x=!1,A=!1,I=!1,N=!1,B=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,X=typeof setImmediate<"u"?setImmediate:null;function at(H){for(var ot=e(m);ot!==null;){if(ot.callback===null)i(m);else if(ot.startTime<=H)i(m),ot.sortIndex=ot.expirationTime,t(f,ot);else break;ot=e(m)}}function nt(H){if(I=!1,at(H),!A)if(e(f)!==null)A=!0,lt||(lt=!0,L());else{var ot=e(m);ot!==null&&J(nt,ot.startTime-H)}}var lt=!1,k=-1,C=5,D=-1;function P(){return N?!0:!(n.unstable_now()-D<C)}function z(){if(N=!1,lt){var H=n.unstable_now();D=H;var ot=!0;try{t:{A=!1,I&&(I=!1,Q(k),k=-1),x=!0;var pt=T;try{e:{for(at(H),b=e(f);b!==null&&!(b.expirationTime>H&&P());){var St=b.callback;if(typeof St=="function"){b.callback=null,T=b.priorityLevel;var ft=St(b.expirationTime<=H);if(H=n.unstable_now(),typeof ft=="function"){b.callback=ft,at(H),ot=!0;break e}b===e(f)&&i(f),at(H)}else i(f);b=e(f)}if(b!==null)ot=!0;else{var M=e(m);M!==null&&J(nt,M.startTime-H),ot=!1}}break t}finally{b=null,T=pt,x=!1}ot=void 0}}finally{ot?L():lt=!1}}}var L;if(typeof X=="function")L=function(){X(z)};else if(typeof MessageChannel<"u"){var O=new MessageChannel,Ct=O.port2;O.port1.onmessage=z,L=function(){Ct.postMessage(null)}}else L=function(){B(z,0)};function J(H,ot){k=B(function(){H(n.unstable_now())},ot)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(H){H.callback=null},n.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<H?Math.floor(1e3/H):5},n.unstable_getCurrentPriorityLevel=function(){return T},n.unstable_next=function(H){switch(T){case 1:case 2:case 3:var ot=3;break;default:ot=T}var pt=T;T=ot;try{return H()}finally{T=pt}},n.unstable_requestPaint=function(){N=!0},n.unstable_runWithPriority=function(H,ot){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var pt=T;T=H;try{return ot()}finally{T=pt}},n.unstable_scheduleCallback=function(H,ot,pt){var St=n.unstable_now();switch(typeof pt=="object"&&pt!==null?(pt=pt.delay,pt=typeof pt=="number"&&0<pt?St+pt:St):pt=St,H){case 1:var ft=-1;break;case 2:ft=250;break;case 5:ft=1073741823;break;case 4:ft=1e4;break;default:ft=5e3}return ft=pt+ft,H={id:y++,callback:ot,priorityLevel:H,startTime:pt,expirationTime:ft,sortIndex:-1},pt>St?(H.sortIndex=pt,t(m,H),e(f)===null&&H===e(m)&&(I?(Q(k),k=-1):I=!0,J(nt,pt-St))):(H.sortIndex=ft,t(f,H),A||x||(A=!0,lt||(lt=!0,L()))),H},n.unstable_shouldYield=P,n.unstable_wrapCallback=function(H){var ot=T;return function(){var pt=T;T=ot;try{return H.apply(this,arguments)}finally{T=pt}}}})(Pg)),Pg}var Mv;function $2(){return Mv||(Mv=1,Vg.exports=K2()),Vg.exports}var Lg={exports:{}},an={};var Ov;function Q2(){if(Ov)return an;Ov=1;var n=Zp();function t(f){var m="https://react.dev/errors/"+f;if(1<arguments.length){m+="?args[]="+encodeURIComponent(arguments[1]);for(var y=2;y<arguments.length;y++)m+="&args[]="+encodeURIComponent(arguments[y])}return"Minified React error #"+f+"; visit "+m+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},a=Symbol.for("react.portal");function o(f,m,y){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:b==null?null:""+b,children:f,containerInfo:m,implementation:y}}var c=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function h(f,m){if(f==="font")return"";if(typeof m=="string")return m==="use-credentials"?m:""}return an.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,an.createPortal=function(f,m){var y=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!m||m.nodeType!==1&&m.nodeType!==9&&m.nodeType!==11)throw Error(t(299));return o(f,m,null,y)},an.flushSync=function(f){var m=c.T,y=i.p;try{if(c.T=null,i.p=2,f)return f()}finally{c.T=m,i.p=y,i.d.f()}},an.preconnect=function(f,m){typeof f=="string"&&(m?(m=m.crossOrigin,m=typeof m=="string"?m==="use-credentials"?m:"":void 0):m=null,i.d.C(f,m))},an.prefetchDNS=function(f){typeof f=="string"&&i.d.D(f)},an.preinit=function(f,m){if(typeof f=="string"&&m&&typeof m.as=="string"){var y=m.as,b=h(y,m.crossOrigin),T=typeof m.integrity=="string"?m.integrity:void 0,x=typeof m.fetchPriority=="string"?m.fetchPriority:void 0;y==="style"?i.d.S(f,typeof m.precedence=="string"?m.precedence:void 0,{crossOrigin:b,integrity:T,fetchPriority:x}):y==="script"&&i.d.X(f,{crossOrigin:b,integrity:T,fetchPriority:x,nonce:typeof m.nonce=="string"?m.nonce:void 0})}},an.preinitModule=function(f,m){if(typeof f=="string")if(typeof m=="object"&&m!==null){if(m.as==null||m.as==="script"){var y=h(m.as,m.crossOrigin);i.d.M(f,{crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0})}}else m==null&&i.d.M(f)},an.preload=function(f,m){if(typeof f=="string"&&typeof m=="object"&&m!==null&&typeof m.as=="string"){var y=m.as,b=h(y,m.crossOrigin);i.d.L(f,y,{crossOrigin:b,integrity:typeof m.integrity=="string"?m.integrity:void 0,nonce:typeof m.nonce=="string"?m.nonce:void 0,type:typeof m.type=="string"?m.type:void 0,fetchPriority:typeof m.fetchPriority=="string"?m.fetchPriority:void 0,referrerPolicy:typeof m.referrerPolicy=="string"?m.referrerPolicy:void 0,imageSrcSet:typeof m.imageSrcSet=="string"?m.imageSrcSet:void 0,imageSizes:typeof m.imageSizes=="string"?m.imageSizes:void 0,media:typeof m.media=="string"?m.media:void 0})}},an.preloadModule=function(f,m){if(typeof f=="string")if(m){var y=h(m.as,m.crossOrigin);i.d.m(f,{as:typeof m.as=="string"&&m.as!=="script"?m.as:void 0,crossOrigin:y,integrity:typeof m.integrity=="string"?m.integrity:void 0})}else i.d.m(f)},an.requestFormReset=function(f){i.d.r(f)},an.unstable_batchedUpdates=function(f,m){return f(m)},an.useFormState=function(f,m,y){return c.H.useFormState(f,m,y)},an.useFormStatus=function(){return c.H.useHostTransitionStatus()},an.version="19.2.1",an}var zv;function X2(){if(zv)return Lg.exports;zv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Lg.exports=Q2(),Lg.exports}var Vv;function W2(){if(Vv)return bc;Vv=1;var n=$2(),t=Zp(),e=X2();function i(s){var r="https://react.dev/errors/"+s;if(1<arguments.length){r+="?args[]="+encodeURIComponent(arguments[1]);for(var l=2;l<arguments.length;l++)r+="&args[]="+encodeURIComponent(arguments[l])}return"Minified React error #"+s+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var r=s,l=s;if(s.alternate)for(;r.return;)r=r.return;else{s=r;do r=s,(r.flags&4098)!==0&&(l=r.return),s=r.return;while(s)}return r.tag===3?l:null}function c(s){if(s.tag===13){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function h(s){if(s.tag===31){var r=s.memoizedState;if(r===null&&(s=s.alternate,s!==null&&(r=s.memoizedState)),r!==null)return r.dehydrated}return null}function f(s){if(o(s)!==s)throw Error(i(188))}function m(s){var r=s.alternate;if(!r){if(r=o(s),r===null)throw Error(i(188));return r!==s?null:s}for(var l=s,u=r;;){var g=l.return;if(g===null)break;var p=g.alternate;if(p===null){if(u=g.return,u!==null){l=u;continue}break}if(g.child===p.child){for(p=g.child;p;){if(p===l)return f(g),s;if(p===u)return f(g),r;p=p.sibling}throw Error(i(188))}if(l.return!==u.return)l=g,u=p;else{for(var v=!1,S=g.child;S;){if(S===l){v=!0,l=g,u=p;break}if(S===u){v=!0,u=g,l=p;break}S=S.sibling}if(!v){for(S=p.child;S;){if(S===l){v=!0,l=p,u=g;break}if(S===u){v=!0,u=p,l=g;break}S=S.sibling}if(!v)throw Error(i(189))}}if(l.alternate!==u)throw Error(i(190))}if(l.tag!==3)throw Error(i(188));return l.stateNode.current===l?s:r}function y(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s;for(s=s.child;s!==null;){if(r=y(s),r!==null)return r;s=s.sibling}return null}var b=Object.assign,T=Symbol.for("react.element"),x=Symbol.for("react.transitional.element"),A=Symbol.for("react.portal"),I=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),B=Symbol.for("react.profiler"),Q=Symbol.for("react.consumer"),X=Symbol.for("react.context"),at=Symbol.for("react.forward_ref"),nt=Symbol.for("react.suspense"),lt=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),C=Symbol.for("react.lazy"),D=Symbol.for("react.activity"),P=Symbol.for("react.memo_cache_sentinel"),z=Symbol.iterator;function L(s){return s===null||typeof s!="object"?null:(s=z&&s[z]||s["@@iterator"],typeof s=="function"?s:null)}var O=Symbol.for("react.client.reference");function Ct(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===O?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case I:return"Fragment";case B:return"Profiler";case N:return"StrictMode";case nt:return"Suspense";case lt:return"SuspenseList";case D:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case A:return"Portal";case X:return s.displayName||"Context";case Q:return(s._context.displayName||"Context")+".Consumer";case at:var r=s.render;return s=s.displayName,s||(s=r.displayName||r.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case k:return r=s.displayName||null,r!==null?r:Ct(s.type)||"Memo";case C:r=s._payload,s=s._init;try{return Ct(s(r))}catch{}}return null}var J=Array.isArray,H=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pt={pending:!1,data:null,method:null,action:null},St=[],ft=-1;function M(s){return{current:s}}function W(s){0>ft||(s.current=St[ft],St[ft]=null,ft--)}function ut(s,r){ft++,St[ft]=s.current,s.current=r}var dt=M(null),et=M(null),ct=M(null),yt=M(null);function Dt(s,r){switch(ut(ct,r),ut(et,s),ut(dt,null),r.nodeType){case 9:case 11:s=(s=r.documentElement)&&(s=s.namespaceURI)?Wb(s):0;break;default:if(s=r.tagName,r=r.namespaceURI)r=Wb(r),s=Zb(r,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}W(dt),ut(dt,s)}function Nt(){W(dt),W(et),W(ct)}function wi(s){s.memoizedState!==null&&ut(yt,s);var r=dt.current,l=Zb(r,s.type);r!==l&&(ut(et,s),ut(dt,l))}function Us(s){et.current===s&&(W(dt),W(et)),yt.current===s&&(W(yt),mc._currentValue=pt)}var as,Bs;function ai(s){if(as===void 0)try{throw Error()}catch(l){var r=l.stack.trim().match(/\n( *(at )?)/);as=r&&r[1]||"",Bs=-1<l.stack.indexOf(`
    at`)?" (<anonymous>)":-1<l.stack.indexOf("@")?"@unknown:0:0":""}return`
`+as+s+Bs}var Qr=!1;function Xr(s,r){if(!s||Qr)return"";Qr=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var u={DetermineComponentFrameRoot:function(){try{if(r){var st=function(){throw Error()};if(Object.defineProperty(st.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(st,[])}catch($){var Y=$}Reflect.construct(s,[],st)}else{try{st.call()}catch($){Y=$}s.call(st.prototype)}}else{try{throw Error()}catch($){Y=$}(st=s())&&typeof st.catch=="function"&&st.catch(function(){})}}catch($){if($&&Y&&typeof $.stack=="string")return[$.stack,Y.stack]}return[null,null]}};u.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var g=Object.getOwnPropertyDescriptor(u.DetermineComponentFrameRoot,"name");g&&g.configurable&&Object.defineProperty(u.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var p=u.DetermineComponentFrameRoot(),v=p[0],S=p[1];if(v&&S){var V=v.split(`
`),G=S.split(`
`);for(g=u=0;u<V.length&&!V[u].includes("DetermineComponentFrameRoot");)u++;for(;g<G.length&&!G[g].includes("DetermineComponentFrameRoot");)g++;if(u===V.length||g===G.length)for(u=V.length-1,g=G.length-1;1<=u&&0<=g&&V[u]!==G[g];)g--;for(;1<=u&&0<=g;u--,g--)if(V[u]!==G[g]){if(u!==1||g!==1)do if(u--,g--,0>g||V[u]!==G[g]){var Z=`
`+V[u].replace(" at new "," at ");return s.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",s.displayName)),Z}while(1<=u&&0<=g);break}}}finally{Qr=!1,Error.prepareStackTrace=l}return(l=s?s.displayName||s.name:"")?ai(l):""}function gl(s,r){switch(s.tag){case 26:case 27:case 5:return ai(s.type);case 16:return ai("Lazy");case 13:return s.child!==r&&r!==null?ai("Suspense Fallback"):ai("Suspense");case 19:return ai("SuspenseList");case 0:case 15:return Xr(s.type,!1);case 11:return Xr(s.type.render,!1);case 1:return Xr(s.type,!0);case 31:return ai("Activity");default:return""}}function pl(s){try{var r="",l=null;do r+=gl(s,l),l=s,s=s.return;while(s);return r}catch(u){return`
Error generating stack: `+u.message+`
`+u.stack}}var Ce=Object.prototype.hasOwnProperty,je=n.unstable_scheduleCallback,Hs=n.unstable_cancelCallback,zd=n.unstable_shouldYield,wu=n.unstable_requestPaint,mn=n.unstable_now,Wr=n.unstable_getCurrentPriorityLevel,yl=n.unstable_ImmediatePriority,_l=n.unstable_UserBlockingPriority,Fs=n.unstable_NormalPriority,Vd=n.unstable_LowPriority,Au=n.unstable_IdlePriority,Cu=n.log,Ru=n.unstable_setDisableYieldValue,oi=null,Qe=null;function Bn(s){if(typeof Cu=="function"&&Ru(s),Qe&&typeof Qe.setStrictMode=="function")try{Qe.setStrictMode(oi,s)}catch{}}var ve=Math.clz32?Math.clz32:ku,Iu=Math.log,$a=Math.LN2;function ku(s){return s>>>=0,s===0?32:31-(Iu(s)/$a|0)|0}var Ai=256,Zr=262144,Re=4194304;function Ci(s){var r=s&42;if(r!==0)return r;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Ri(s,r,l){var u=s.pendingLanes;if(u===0)return 0;var g=0,p=s.suspendedLanes,v=s.pingedLanes;s=s.warmLanes;var S=u&134217727;return S!==0?(u=S&~p,u!==0?g=Ci(u):(v&=S,v!==0?g=Ci(v):l||(l=S&~s,l!==0&&(g=Ci(l))))):(S=u&~p,S!==0?g=Ci(S):v!==0?g=Ci(v):l||(l=u&~s,l!==0&&(g=Ci(l)))),g===0?0:r!==0&&r!==g&&(r&p)===0&&(p=g&-g,l=r&-r,p>=l||p===32&&(l&4194048)!==0)?r:g}function li(s,r){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&r)===0}function Pd(s,r){switch(s){case 1:case 2:case 4:case 8:case 64:return r+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Du(){var s=Re;return Re<<=1,(Re&62914560)===0&&(Re=4194304),s}function Ii(s){for(var r=[],l=0;31>l;l++)r.push(s);return r}function Jr(s,r){s.pendingLanes|=r,r!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Ld(s,r,l,u,g,p){var v=s.pendingLanes;s.pendingLanes=l,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=l,s.entangledLanes&=l,s.errorRecoveryDisabledLanes&=l,s.shellSuspendCounter=0;var S=s.entanglements,V=s.expirationTimes,G=s.hiddenUpdates;for(l=v&~l;0<l;){var Z=31-ve(l),st=1<<Z;S[Z]=0,V[Z]=-1;var Y=G[Z];if(Y!==null)for(G[Z]=null,Z=0;Z<Y.length;Z++){var $=Y[Z];$!==null&&($.lane&=-536870913)}l&=~st}u!==0&&ta(s,u,0),p!==0&&g===0&&s.tag!==0&&(s.suspendedLanes|=p&~(v&~r))}function ta(s,r,l){s.pendingLanes|=r,s.suspendedLanes&=~r;var u=31-ve(r);s.entangledLanes|=r,s.entanglements[u]=s.entanglements[u]|1073741824|l&261930}function bl(s,r){var l=s.entangledLanes|=r;for(s=s.entanglements;l;){var u=31-ve(l),g=1<<u;g&r|s[u]&r&&(s[u]|=r),l&=~g}}function vl(s,r){var l=r&-r;return l=(l&42)!==0?1:ea(l),(l&(s.suspendedLanes|r))!==0?0:l}function ea(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function os(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Nu(){var s=ot.p;return s!==0?s:(s=window.event,s===void 0?32:Tv(s.type))}function ci(s,r){var l=ot.p;try{return ot.p=s,r()}finally{ot.p=l}}var ui=Math.random().toString(36).slice(2),Ie="__reactFiber$"+ui,Fe="__reactProps$"+ui,ki="__reactContainer$"+ui,Qa="__reactEvents$"+ui,jd="__reactListeners$"+ui,Mu="__reactHandles$"+ui,Ou="__reactResources$"+ui,Di="__reactMarker$"+ui;function Xa(s){delete s[Ie],delete s[Fe],delete s[Qa],delete s[jd],delete s[Mu]}function Ni(s){var r=s[Ie];if(r)return r;for(var l=s.parentNode;l;){if(r=l[ki]||l[Ie]){if(l=r.alternate,r.child!==null||l!==null&&l.child!==null)for(s=rv(s);s!==null;){if(l=s[Ie])return l;s=rv(s)}return r}s=l,l=s.parentNode}return null}function Hn(s){if(s=s[Ie]||s[ki]){var r=s.tag;if(r===5||r===6||r===13||r===31||r===26||r===27||r===3)return s}return null}function In(s){var r=s.tag;if(r===5||r===26||r===27||r===6)return s.stateNode;throw Error(i(33))}function Mi(s){var r=s[Ou];return r||(r=s[Ou]={hoistableStyles:new Map,hoistableScripts:new Map}),r}function ke(s){s[Di]=!0}var Tl=new Set,El={};function Oi(s,r){zi(s,r),zi(s+"Capture",r)}function zi(s,r){for(El[s]=r,s=0;s<r.length;s++)Tl.add(r[s])}var xl=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Sl={},wl={};function zu(s){return Ce.call(wl,s)?!0:Ce.call(Sl,s)?!1:xl.test(s)?wl[s]=!0:(Sl[s]=!0,!1)}function Wa(s,r,l){if(zu(r))if(l===null)s.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":s.removeAttribute(r);return;case"boolean":var u=r.toLowerCase().slice(0,5);if(u!=="data-"&&u!=="aria-"){s.removeAttribute(r);return}}s.setAttribute(r,""+l)}}function kn(s,r,l){if(l===null)s.removeAttribute(r);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(r);return}s.setAttribute(r,""+l)}}function De(s,r,l,u){if(u===null)s.removeAttribute(l);else{switch(typeof u){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(l);return}s.setAttributeNS(r,l,""+u)}}function qe(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function qs(s){var r=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function Al(s,r,l){var u=Object.getOwnPropertyDescriptor(s.constructor.prototype,r);if(!s.hasOwnProperty(r)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,p=u.set;return Object.defineProperty(s,r,{configurable:!0,get:function(){return g.call(this)},set:function(v){l=""+v,p.call(this,v)}}),Object.defineProperty(s,r,{enumerable:u.enumerable}),{getValue:function(){return l},setValue:function(v){l=""+v},stopTracking:function(){s._valueTracker=null,delete s[r]}}}}function Zt(s){if(!s._valueTracker){var r=qs(s)?"checked":"value";s._valueTracker=Al(s,r,""+s[r])}}function na(s){if(!s)return!1;var r=s._valueTracker;if(!r)return!0;var l=r.getValue(),u="";return s&&(u=qs(s)?s.checked?"true":"false":s.value),s=u,s!==l?(r.setValue(s),!0):!1}function Vi(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var ia=/[\n"\\]/g;function _n(s){return s.replace(ia,function(r){return"\\"+r.charCodeAt(0).toString(16)+" "})}function Za(s,r,l,u,g,p,v,S){s.name="",v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?s.type=v:s.removeAttribute("type"),r!=null?v==="number"?(r===0&&s.value===""||s.value!=r)&&(s.value=""+qe(r)):s.value!==""+qe(r)&&(s.value=""+qe(r)):v!=="submit"&&v!=="reset"||s.removeAttribute("value"),r!=null?Cl(s,v,qe(r)):l!=null?Cl(s,v,qe(l)):u!=null&&s.removeAttribute("value"),g==null&&p!=null&&(s.defaultChecked=!!p),g!=null&&(s.checked=g&&typeof g!="function"&&typeof g!="symbol"),S!=null&&typeof S!="function"&&typeof S!="symbol"&&typeof S!="boolean"?s.name=""+qe(S):s.removeAttribute("name")}function Vu(s,r,l,u,g,p,v,S){if(p!=null&&typeof p!="function"&&typeof p!="symbol"&&typeof p!="boolean"&&(s.type=p),r!=null||l!=null){if(!(p!=="submit"&&p!=="reset"||r!=null)){Zt(s);return}l=l!=null?""+qe(l):"",r=r!=null?""+qe(r):l,S||r===s.value||(s.value=r),s.defaultValue=r}u=u??g,u=typeof u!="function"&&typeof u!="symbol"&&!!u,s.checked=S?s.checked:!!u,s.defaultChecked=!!u,v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"&&(s.name=v),Zt(s)}function Cl(s,r,l){r==="number"&&Vi(s.ownerDocument)===s||s.defaultValue===""+l||(s.defaultValue=""+l)}function Gs(s,r,l,u){if(s=s.options,r){r={};for(var g=0;g<l.length;g++)r["$"+l[g]]=!0;for(l=0;l<s.length;l++)g=r.hasOwnProperty("$"+s[l].value),s[l].selected!==g&&(s[l].selected=g),g&&u&&(s[l].defaultSelected=!0)}else{for(l=""+qe(l),r=null,g=0;g<s.length;g++){if(s[g].value===l){s[g].selected=!0,u&&(s[g].defaultSelected=!0);return}r!==null||s[g].disabled||(r=s[g])}r!==null&&(r.selected=!0)}}function Pu(s,r,l){if(r!=null&&(r=""+qe(r),r!==s.value&&(s.value=r),l==null)){s.defaultValue!==r&&(s.defaultValue=r);return}s.defaultValue=l!=null?""+qe(l):""}function Ys(s,r,l,u){if(r==null){if(u!=null){if(l!=null)throw Error(i(92));if(J(u)){if(1<u.length)throw Error(i(93));u=u[0]}l=u}l==null&&(l=""),r=l}l=qe(r),s.defaultValue=l,u=s.textContent,u===l&&u!==""&&u!==null&&(s.value=u),Zt(s)}function bn(s,r){if(r){var l=s.firstChild;if(l&&l===s.lastChild&&l.nodeType===3){l.nodeValue=r;return}}s.textContent=r}var Lu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Rl(s,r,l){var u=r.indexOf("--")===0;l==null||typeof l=="boolean"||l===""?u?s.setProperty(r,""):r==="float"?s.cssFloat="":s[r]="":u?s.setProperty(r,l):typeof l!="number"||l===0||Lu.has(r)?r==="float"?s.cssFloat=l:s[r]=(""+l).trim():s[r]=l+"px"}function Il(s,r,l){if(r!=null&&typeof r!="object")throw Error(i(62));if(s=s.style,l!=null){for(var u in l)!l.hasOwnProperty(u)||r!=null&&r.hasOwnProperty(u)||(u.indexOf("--")===0?s.setProperty(u,""):u==="float"?s.cssFloat="":s[u]="");for(var g in r)u=r[g],r.hasOwnProperty(g)&&l[g]!==u&&Rl(s,g,u)}else for(var p in r)r.hasOwnProperty(p)&&Rl(s,p,r[p])}function Ja(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ju=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ks=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function to(s){return Ks.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function hi(){}var kl=null;function Fn(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var $s=null,Pi=null;function sa(s){var r=Hn(s);if(r&&(s=r.stateNode)){var l=s[Fe]||null;t:switch(s=r.stateNode,r.type){case"input":if(Za(s,l.value,l.defaultValue,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name),r=l.name,l.type==="radio"&&r!=null){for(l=s;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll('input[name="'+_n(""+r)+'"][type="radio"]'),r=0;r<l.length;r++){var u=l[r];if(u!==s&&u.form===s.form){var g=u[Fe]||null;if(!g)throw Error(i(90));Za(u,g.value,g.defaultValue,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name)}}for(r=0;r<l.length;r++)u=l[r],u.form===s.form&&na(u)}break t;case"textarea":Pu(s,l.value,l.defaultValue);break t;case"select":r=l.value,r!=null&&Gs(s,!!l.multiple,r,!1)}}}var eo=!1;function Qs(s,r,l){if(eo)return s(r,l);eo=!0;try{var u=s(r);return u}finally{if(eo=!1,($s!==null||Pi!==null)&&(Nh(),$s&&(r=$s,s=Pi,Pi=$s=null,sa(r),s)))for(r=0;r<s.length;r++)sa(s[r])}}function fi(s,r){var l=s.stateNode;if(l===null)return null;var u=l[Fe]||null;if(u===null)return null;l=u[r];t:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(s=s.type,u=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!u;break t;default:s=!1}if(s)return null;if(l&&typeof l!="function")throw Error(i(231,r,typeof l));return l}var qn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ra=!1;if(qn)try{var ne={};Object.defineProperty(ne,"passive",{get:function(){ra=!0}}),window.addEventListener("test",ne,ne),window.removeEventListener("test",ne,ne)}catch{ra=!1}var Li=null,Dl=null,aa=null;function Nl(){if(aa)return aa;var s,r=Dl,l=r.length,u,g="value"in Li?Li.value:Li.textContent,p=g.length;for(s=0;s<l&&r[s]===g[s];s++);var v=l-s;for(u=1;u<=v&&r[l-u]===g[p-u];u++);return aa=g.slice(s,1<u?1-u:void 0)}function oa(s){var r=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&r===13&&(s=13)):s=r,s===10&&(s=13),32<=s||s===13?s:0}function ls(){return!0}function di(){return!1}function Xe(s){function r(l,u,g,p,v){this._reactName=l,this._targetInst=g,this.type=u,this.nativeEvent=p,this.target=v,this.currentTarget=null;for(var S in s)s.hasOwnProperty(S)&&(l=s[S],this[S]=l?l(p):p[S]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?ls:di,this.isPropagationStopped=di,this}return b(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=ls)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=ls)},persist:function(){},isPersistent:ls}),r}var cs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ji=Xe(cs),Xs=b({},cs,{view:0,detail:0}),Ml=Xe(Xs),Ws,no,Ui,io=b({},Xs,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Zs,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Ui&&(Ui&&s.type==="mousemove"?(Ws=s.screenX-Ui.screenX,no=s.screenY-Ui.screenY):no=Ws=0,Ui=s),Ws)},movementY:function(s){return"movementY"in s?s.movementY:no}}),Ol=Xe(io),la=b({},io,{dataTransfer:0}),Uu=Xe(la),Bu=b({},Xs,{relatedTarget:0}),ca=Xe(Bu),zl=b({},cs,{animationName:0,elapsedTime:0,pseudoElement:0}),Hu=Xe(zl),so=b({},cs,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Fu=Xe(so),qu=b({},cs,{data:0}),Bi=Xe(qu),Gu={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yu={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ku={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function $u(s){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(s):(s=Ku[s])?!!r[s]:!1}function Zs(){return $u}var gn=b({},Xs,{key:function(s){if(s.key){var r=Gu[s.key]||s.key;if(r!=="Unidentified")return r}return s.type==="keypress"?(s=oa(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Yu[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Zs,charCode:function(s){return s.type==="keypress"?oa(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?oa(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Qu=Xe(gn),Xu=b({},io,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),us=Xe(Xu),d=b({},Xs,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Zs}),_=Xe(d),E=b({},cs,{propertyName:0,elapsedTime:0,pseudoElement:0}),R=Xe(E),F=b({},io,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),K=Xe(F),ht=b({},cs,{newState:0,oldState:0}),Mt=Xe(ht),Te=[9,13,27,32],Qt=qn&&"CompositionEvent"in window,de=null;qn&&"documentMode"in document&&(de=document.documentMode);var Gn=qn&&"TextEvent"in window&&!de,Hi=qn&&(!Qt||de&&8<de&&11>=de),mi=" ",gi=!1;function ua(s,r){switch(s){case"keyup":return Te.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ro(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var ao=!1;function mA(s,r){switch(s){case"compositionend":return ro(r);case"keypress":return r.which!==32?null:(gi=!0,mi);case"textInput":return s=r.data,s===mi&&gi?null:s;default:return null}}function gA(s,r){if(ao)return s==="compositionend"||!Qt&&ua(s,r)?(s=Nl(),aa=Dl=Li=null,ao=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Hi&&r.locale!=="ko"?null:r.data;default:return null}}var pA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function l0(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r==="input"?!!pA[s.type]:r==="textarea"}function c0(s,r,l,u){$s?Pi?Pi.push(u):Pi=[u]:$s=u,r=jh(r,"onChange"),0<r.length&&(l=new ji("onChange","change",null,l,u),s.push({event:l,listeners:r}))}var Vl=null,Pl=null;function yA(s){Gb(s,0)}function Wu(s){var r=In(s);if(na(r))return s}function u0(s,r){if(s==="change")return r}var h0=!1;if(qn){var Ud;if(qn){var Bd="oninput"in document;if(!Bd){var f0=document.createElement("div");f0.setAttribute("oninput","return;"),Bd=typeof f0.oninput=="function"}Ud=Bd}else Ud=!1;h0=Ud&&(!document.documentMode||9<document.documentMode)}function d0(){Vl&&(Vl.detachEvent("onpropertychange",m0),Pl=Vl=null)}function m0(s){if(s.propertyName==="value"&&Wu(Pl)){var r=[];c0(r,Pl,s,Fn(s)),Qs(yA,r)}}function _A(s,r,l){s==="focusin"?(d0(),Vl=r,Pl=l,Vl.attachEvent("onpropertychange",m0)):s==="focusout"&&d0()}function bA(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Wu(Pl)}function vA(s,r){if(s==="click")return Wu(r)}function TA(s,r){if(s==="input"||s==="change")return Wu(r)}function EA(s,r){return s===r&&(s!==0||1/s===1/r)||s!==s&&r!==r}var Dn=typeof Object.is=="function"?Object.is:EA;function Ll(s,r){if(Dn(s,r))return!0;if(typeof s!="object"||s===null||typeof r!="object"||r===null)return!1;var l=Object.keys(s),u=Object.keys(r);if(l.length!==u.length)return!1;for(u=0;u<l.length;u++){var g=l[u];if(!Ce.call(r,g)||!Dn(s[g],r[g]))return!1}return!0}function g0(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function p0(s,r){var l=g0(s);s=0;for(var u;l;){if(l.nodeType===3){if(u=s+l.textContent.length,s<=r&&u>=r)return{node:l,offset:r-s};s=u}t:{for(;l;){if(l.nextSibling){l=l.nextSibling;break t}l=l.parentNode}l=void 0}l=g0(l)}}function y0(s,r){return s&&r?s===r?!0:s&&s.nodeType===3?!1:r&&r.nodeType===3?y0(s,r.parentNode):"contains"in s?s.contains(r):s.compareDocumentPosition?!!(s.compareDocumentPosition(r)&16):!1:!1}function _0(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var r=Vi(s.document);r instanceof s.HTMLIFrameElement;){try{var l=typeof r.contentWindow.location.href=="string"}catch{l=!1}if(l)s=r.contentWindow;else break;r=Vi(s.document)}return r}function Hd(s){var r=s&&s.nodeName&&s.nodeName.toLowerCase();return r&&(r==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||r==="textarea"||s.contentEditable==="true")}var xA=qn&&"documentMode"in document&&11>=document.documentMode,oo=null,Fd=null,jl=null,qd=!1;function b0(s,r,l){var u=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;qd||oo==null||oo!==Vi(u)||(u=oo,"selectionStart"in u&&Hd(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),jl&&Ll(jl,u)||(jl=u,u=jh(Fd,"onSelect"),0<u.length&&(r=new ji("onSelect","select",null,r,l),s.push({event:r,listeners:u}),r.target=oo)))}function ha(s,r){var l={};return l[s.toLowerCase()]=r.toLowerCase(),l["Webkit"+s]="webkit"+r,l["Moz"+s]="moz"+r,l}var lo={animationend:ha("Animation","AnimationEnd"),animationiteration:ha("Animation","AnimationIteration"),animationstart:ha("Animation","AnimationStart"),transitionrun:ha("Transition","TransitionRun"),transitionstart:ha("Transition","TransitionStart"),transitioncancel:ha("Transition","TransitionCancel"),transitionend:ha("Transition","TransitionEnd")},Gd={},v0={};qn&&(v0=document.createElement("div").style,"AnimationEvent"in window||(delete lo.animationend.animation,delete lo.animationiteration.animation,delete lo.animationstart.animation),"TransitionEvent"in window||delete lo.transitionend.transition);function fa(s){if(Gd[s])return Gd[s];if(!lo[s])return s;var r=lo[s],l;for(l in r)if(r.hasOwnProperty(l)&&l in v0)return Gd[s]=r[l];return s}var T0=fa("animationend"),E0=fa("animationiteration"),x0=fa("animationstart"),SA=fa("transitionrun"),wA=fa("transitionstart"),AA=fa("transitioncancel"),S0=fa("transitionend"),w0=new Map,Yd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Yd.push("scrollEnd");function pi(s,r){w0.set(s,r),Oi(r,[s])}var Zu=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var r=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(r))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},Yn=[],co=0,Kd=0;function Ju(){for(var s=co,r=Kd=co=0;r<s;){var l=Yn[r];Yn[r++]=null;var u=Yn[r];Yn[r++]=null;var g=Yn[r];Yn[r++]=null;var p=Yn[r];if(Yn[r++]=null,u!==null&&g!==null){var v=u.pending;v===null?g.next=g:(g.next=v.next,v.next=g),u.pending=g}p!==0&&A0(l,g,p)}}function th(s,r,l,u){Yn[co++]=s,Yn[co++]=r,Yn[co++]=l,Yn[co++]=u,Kd|=u,s.lanes|=u,s=s.alternate,s!==null&&(s.lanes|=u)}function $d(s,r,l,u){return th(s,r,l,u),eh(s)}function da(s,r){return th(s,null,null,r),eh(s)}function A0(s,r,l){s.lanes|=l;var u=s.alternate;u!==null&&(u.lanes|=l);for(var g=!1,p=s.return;p!==null;)p.childLanes|=l,u=p.alternate,u!==null&&(u.childLanes|=l),p.tag===22&&(s=p.stateNode,s===null||s._visibility&1||(g=!0)),s=p,p=p.return;return s.tag===3?(p=s.stateNode,g&&r!==null&&(g=31-ve(l),s=p.hiddenUpdates,u=s[g],u===null?s[g]=[r]:u.push(r),r.lane=l|536870912),p):null}function eh(s){if(50<oc)throw oc=0,ig=null,Error(i(185));for(var r=s.return;r!==null;)s=r,r=s.return;return s.tag===3?s.stateNode:null}var uo={};function CA(s,r,l,u){this.tag=s,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Nn(s,r,l,u){return new CA(s,r,l,u)}function Qd(s){return s=s.prototype,!(!s||!s.isReactComponent)}function hs(s,r){var l=s.alternate;return l===null?(l=Nn(s.tag,r,s.key,s.mode),l.elementType=s.elementType,l.type=s.type,l.stateNode=s.stateNode,l.alternate=s,s.alternate=l):(l.pendingProps=r,l.type=s.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=s.flags&65011712,l.childLanes=s.childLanes,l.lanes=s.lanes,l.child=s.child,l.memoizedProps=s.memoizedProps,l.memoizedState=s.memoizedState,l.updateQueue=s.updateQueue,r=s.dependencies,l.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},l.sibling=s.sibling,l.index=s.index,l.ref=s.ref,l.refCleanup=s.refCleanup,l}function C0(s,r){s.flags&=65011714;var l=s.alternate;return l===null?(s.childLanes=0,s.lanes=r,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=l.childLanes,s.lanes=l.lanes,s.child=l.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=l.memoizedProps,s.memoizedState=l.memoizedState,s.updateQueue=l.updateQueue,s.type=l.type,r=l.dependencies,s.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),s}function nh(s,r,l,u,g,p){var v=0;if(u=s,typeof s=="function")Qd(s)&&(v=1);else if(typeof s=="string")v=N2(s,l,dt.current)?26:s==="html"||s==="head"||s==="body"?27:5;else t:switch(s){case D:return s=Nn(31,l,r,g),s.elementType=D,s.lanes=p,s;case I:return ma(l.children,g,p,r);case N:v=8,g|=24;break;case B:return s=Nn(12,l,r,g|2),s.elementType=B,s.lanes=p,s;case nt:return s=Nn(13,l,r,g),s.elementType=nt,s.lanes=p,s;case lt:return s=Nn(19,l,r,g),s.elementType=lt,s.lanes=p,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case X:v=10;break t;case Q:v=9;break t;case at:v=11;break t;case k:v=14;break t;case C:v=16,u=null;break t}v=29,l=Error(i(130,s===null?"null":typeof s,"")),u=null}return r=Nn(v,l,r,g),r.elementType=s,r.type=u,r.lanes=p,r}function ma(s,r,l,u){return s=Nn(7,s,u,r),s.lanes=l,s}function Xd(s,r,l){return s=Nn(6,s,null,r),s.lanes=l,s}function R0(s){var r=Nn(18,null,null,0);return r.stateNode=s,r}function Wd(s,r,l){return r=Nn(4,s.children!==null?s.children:[],s.key,r),r.lanes=l,r.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},r}var I0=new WeakMap;function Kn(s,r){if(typeof s=="object"&&s!==null){var l=I0.get(s);return l!==void 0?l:(r={value:s,source:r,stack:pl(r)},I0.set(s,r),r)}return{value:s,source:r,stack:pl(r)}}var ho=[],fo=0,ih=null,Ul=0,$n=[],Qn=0,Js=null,Fi=1,qi="";function fs(s,r){ho[fo++]=Ul,ho[fo++]=ih,ih=s,Ul=r}function k0(s,r,l){$n[Qn++]=Fi,$n[Qn++]=qi,$n[Qn++]=Js,Js=s;var u=Fi;s=qi;var g=32-ve(u)-1;u&=~(1<<g),l+=1;var p=32-ve(r)+g;if(30<p){var v=g-g%5;p=(u&(1<<v)-1).toString(32),u>>=v,g-=v,Fi=1<<32-ve(r)+g|l<<g|u,qi=p+s}else Fi=1<<p|l<<g|u,qi=s}function Zd(s){s.return!==null&&(fs(s,1),k0(s,1,0))}function Jd(s){for(;s===ih;)ih=ho[--fo],ho[fo]=null,Ul=ho[--fo],ho[fo]=null;for(;s===Js;)Js=$n[--Qn],$n[Qn]=null,qi=$n[--Qn],$n[Qn]=null,Fi=$n[--Qn],$n[Qn]=null}function D0(s,r){$n[Qn++]=Fi,$n[Qn++]=qi,$n[Qn++]=Js,Fi=r.id,qi=r.overflow,Js=s}var We=null,ce=null,Ft=!1,tr=null,Xn=!1,tm=Error(i(519));function er(s){var r=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Bl(Kn(r,s)),tm}function N0(s){var r=s.stateNode,l=s.type,u=s.memoizedProps;switch(r[Ie]=s,r[Fe]=u,l){case"dialog":Pt("cancel",r),Pt("close",r);break;case"iframe":case"object":case"embed":Pt("load",r);break;case"video":case"audio":for(l=0;l<cc.length;l++)Pt(cc[l],r);break;case"source":Pt("error",r);break;case"img":case"image":case"link":Pt("error",r),Pt("load",r);break;case"details":Pt("toggle",r);break;case"input":Pt("invalid",r),Vu(r,u.value,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name,!0);break;case"select":Pt("invalid",r);break;case"textarea":Pt("invalid",r),Ys(r,u.value,u.defaultValue,u.children)}l=u.children,typeof l!="string"&&typeof l!="number"&&typeof l!="bigint"||r.textContent===""+l||u.suppressHydrationWarning===!0||Qb(r.textContent,l)?(u.popover!=null&&(Pt("beforetoggle",r),Pt("toggle",r)),u.onScroll!=null&&Pt("scroll",r),u.onScrollEnd!=null&&Pt("scrollend",r),u.onClick!=null&&(r.onclick=hi),r=!0):r=!1,r||er(s,!0)}function M0(s){for(We=s.return;We;)switch(We.tag){case 5:case 31:case 13:Xn=!1;return;case 27:case 3:Xn=!0;return;default:We=We.return}}function mo(s){if(s!==We)return!1;if(!Ft)return M0(s),Ft=!0,!1;var r=s.tag,l;if((l=r!==3&&r!==27)&&((l=r===5)&&(l=s.type,l=!(l!=="form"&&l!=="button")||_g(s.type,s.memoizedProps)),l=!l),l&&ce&&er(s),M0(s),r===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));ce=sv(s)}else if(r===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));ce=sv(s)}else r===27?(r=ce,gr(s.type)?(s=xg,xg=null,ce=s):ce=r):ce=We?Zn(s.stateNode.nextSibling):null;return!0}function ga(){ce=We=null,Ft=!1}function em(){var s=tr;return s!==null&&(xn===null?xn=s:xn.push.apply(xn,s),tr=null),s}function Bl(s){tr===null?tr=[s]:tr.push(s)}var nm=M(null),pa=null,ds=null;function nr(s,r,l){ut(nm,r._currentValue),r._currentValue=l}function ms(s){s._currentValue=nm.current,W(nm)}function im(s,r,l){for(;s!==null;){var u=s.alternate;if((s.childLanes&r)!==r?(s.childLanes|=r,u!==null&&(u.childLanes|=r)):u!==null&&(u.childLanes&r)!==r&&(u.childLanes|=r),s===l)break;s=s.return}}function sm(s,r,l,u){var g=s.child;for(g!==null&&(g.return=s);g!==null;){var p=g.dependencies;if(p!==null){var v=g.child;p=p.firstContext;t:for(;p!==null;){var S=p;p=g;for(var V=0;V<r.length;V++)if(S.context===r[V]){p.lanes|=l,S=p.alternate,S!==null&&(S.lanes|=l),im(p.return,l,s),u||(v=null);break t}p=S.next}}else if(g.tag===18){if(v=g.return,v===null)throw Error(i(341));v.lanes|=l,p=v.alternate,p!==null&&(p.lanes|=l),im(v,l,s),v=null}else v=g.child;if(v!==null)v.return=g;else for(v=g;v!==null;){if(v===s){v=null;break}if(g=v.sibling,g!==null){g.return=v.return,v=g;break}v=v.return}g=v}}function go(s,r,l,u){s=null;for(var g=r,p=!1;g!==null;){if(!p){if((g.flags&524288)!==0)p=!0;else if((g.flags&262144)!==0)break}if(g.tag===10){var v=g.alternate;if(v===null)throw Error(i(387));if(v=v.memoizedProps,v!==null){var S=g.type;Dn(g.pendingProps.value,v.value)||(s!==null?s.push(S):s=[S])}}else if(g===yt.current){if(v=g.alternate,v===null)throw Error(i(387));v.memoizedState.memoizedState!==g.memoizedState.memoizedState&&(s!==null?s.push(mc):s=[mc])}g=g.return}s!==null&&sm(r,s,l,u),r.flags|=262144}function sh(s){for(s=s.firstContext;s!==null;){if(!Dn(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function ya(s){pa=s,ds=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function Ze(s){return O0(pa,s)}function rh(s,r){return pa===null&&ya(s),O0(s,r)}function O0(s,r){var l=r._currentValue;if(r={context:r,memoizedValue:l,next:null},ds===null){if(s===null)throw Error(i(308));ds=r,s.dependencies={lanes:0,firstContext:r},s.flags|=524288}else ds=ds.next=r;return l}var RA=typeof AbortController<"u"?AbortController:function(){var s=[],r=this.signal={aborted:!1,addEventListener:function(l,u){s.push(u)}};this.abort=function(){r.aborted=!0,s.forEach(function(l){return l()})}},IA=n.unstable_scheduleCallback,kA=n.unstable_NormalPriority,Ne={$$typeof:X,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function rm(){return{controller:new RA,data:new Map,refCount:0}}function Hl(s){s.refCount--,s.refCount===0&&IA(kA,function(){s.controller.abort()})}var Fl=null,am=0,po=0,yo=null;function DA(s,r){if(Fl===null){var l=Fl=[];am=0,po=cg(),yo={status:"pending",value:void 0,then:function(u){l.push(u)}}}return am++,r.then(z0,z0),r}function z0(){if(--am===0&&Fl!==null){yo!==null&&(yo.status="fulfilled");var s=Fl;Fl=null,po=0,yo=null;for(var r=0;r<s.length;r++)(0,s[r])()}}function NA(s,r){var l=[],u={status:"pending",value:null,reason:null,then:function(g){l.push(g)}};return s.then(function(){u.status="fulfilled",u.value=r;for(var g=0;g<l.length;g++)(0,l[g])(r)},function(g){for(u.status="rejected",u.reason=g,g=0;g<l.length;g++)(0,l[g])(void 0)}),u}var V0=H.S;H.S=function(s,r){bb=mn(),typeof r=="object"&&r!==null&&typeof r.then=="function"&&DA(s,r),V0!==null&&V0(s,r)};var _a=M(null);function om(){var s=_a.current;return s!==null?s:ae.pooledCache}function ah(s,r){r===null?ut(_a,_a.current):ut(_a,r.pool)}function P0(){var s=om();return s===null?null:{parent:Ne._currentValue,pool:s}}var _o=Error(i(460)),lm=Error(i(474)),oh=Error(i(542)),lh={then:function(){}};function L0(s){return s=s.status,s==="fulfilled"||s==="rejected"}function j0(s,r,l){switch(l=s[l],l===void 0?s.push(r):l!==r&&(r.then(hi,hi),r=l),r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,B0(s),s;default:if(typeof r.status=="string")r.then(hi,hi);else{if(s=ae,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=r,s.status="pending",s.then(function(u){if(r.status==="pending"){var g=r;g.status="fulfilled",g.value=u}},function(u){if(r.status==="pending"){var g=r;g.status="rejected",g.reason=u}})}switch(r.status){case"fulfilled":return r.value;case"rejected":throw s=r.reason,B0(s),s}throw va=r,_o}}function ba(s){try{var r=s._init;return r(s._payload)}catch(l){throw l!==null&&typeof l=="object"&&typeof l.then=="function"?(va=l,_o):l}}var va=null;function U0(){if(va===null)throw Error(i(459));var s=va;return va=null,s}function B0(s){if(s===_o||s===oh)throw Error(i(483))}var bo=null,ql=0;function ch(s){var r=ql;return ql+=1,bo===null&&(bo=[]),j0(bo,s,r)}function Gl(s,r){r=r.props.ref,s.ref=r!==void 0?r:null}function uh(s,r){throw r.$$typeof===T?Error(i(525)):(s=Object.prototype.toString.call(r),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":s)))}function H0(s){function r(U,j){if(s){var q=U.deletions;q===null?(U.deletions=[j],U.flags|=16):q.push(j)}}function l(U,j){if(!s)return null;for(;j!==null;)r(U,j),j=j.sibling;return null}function u(U){for(var j=new Map;U!==null;)U.key!==null?j.set(U.key,U):j.set(U.index,U),U=U.sibling;return j}function g(U,j){return U=hs(U,j),U.index=0,U.sibling=null,U}function p(U,j,q){return U.index=q,s?(q=U.alternate,q!==null?(q=q.index,q<j?(U.flags|=67108866,j):q):(U.flags|=67108866,j)):(U.flags|=1048576,j)}function v(U){return s&&U.alternate===null&&(U.flags|=67108866),U}function S(U,j,q,tt){return j===null||j.tag!==6?(j=Xd(q,U.mode,tt),j.return=U,j):(j=g(j,q),j.return=U,j)}function V(U,j,q,tt){var Tt=q.type;return Tt===I?Z(U,j,q.props.children,tt,q.key):j!==null&&(j.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===C&&ba(Tt)===j.type)?(j=g(j,q.props),Gl(j,q),j.return=U,j):(j=nh(q.type,q.key,q.props,null,U.mode,tt),Gl(j,q),j.return=U,j)}function G(U,j,q,tt){return j===null||j.tag!==4||j.stateNode.containerInfo!==q.containerInfo||j.stateNode.implementation!==q.implementation?(j=Wd(q,U.mode,tt),j.return=U,j):(j=g(j,q.children||[]),j.return=U,j)}function Z(U,j,q,tt,Tt){return j===null||j.tag!==7?(j=ma(q,U.mode,tt,Tt),j.return=U,j):(j=g(j,q),j.return=U,j)}function st(U,j,q){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=Xd(""+j,U.mode,q),j.return=U,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case x:return q=nh(j.type,j.key,j.props,null,U.mode,q),Gl(q,j),q.return=U,q;case A:return j=Wd(j,U.mode,q),j.return=U,j;case C:return j=ba(j),st(U,j,q)}if(J(j)||L(j))return j=ma(j,U.mode,q,null),j.return=U,j;if(typeof j.then=="function")return st(U,ch(j),q);if(j.$$typeof===X)return st(U,rh(U,j),q);uh(U,j)}return null}function Y(U,j,q,tt){var Tt=j!==null?j.key:null;if(typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint")return Tt!==null?null:S(U,j,""+q,tt);if(typeof q=="object"&&q!==null){switch(q.$$typeof){case x:return q.key===Tt?V(U,j,q,tt):null;case A:return q.key===Tt?G(U,j,q,tt):null;case C:return q=ba(q),Y(U,j,q,tt)}if(J(q)||L(q))return Tt!==null?null:Z(U,j,q,tt,null);if(typeof q.then=="function")return Y(U,j,ch(q),tt);if(q.$$typeof===X)return Y(U,j,rh(U,q),tt);uh(U,q)}return null}function $(U,j,q,tt,Tt){if(typeof tt=="string"&&tt!==""||typeof tt=="number"||typeof tt=="bigint")return U=U.get(q)||null,S(j,U,""+tt,Tt);if(typeof tt=="object"&&tt!==null){switch(tt.$$typeof){case x:return U=U.get(tt.key===null?q:tt.key)||null,V(j,U,tt,Tt);case A:return U=U.get(tt.key===null?q:tt.key)||null,G(j,U,tt,Tt);case C:return tt=ba(tt),$(U,j,q,tt,Tt)}if(J(tt)||L(tt))return U=U.get(q)||null,Z(j,U,tt,Tt,null);if(typeof tt.then=="function")return $(U,j,q,ch(tt),Tt);if(tt.$$typeof===X)return $(U,j,q,rh(j,tt),Tt);uh(j,tt)}return null}function bt(U,j,q,tt){for(var Tt=null,Kt=null,vt=j,zt=j=0,jt=null;vt!==null&&zt<q.length;zt++){vt.index>zt?(jt=vt,vt=null):jt=vt.sibling;var $t=Y(U,vt,q[zt],tt);if($t===null){vt===null&&(vt=jt);break}s&&vt&&$t.alternate===null&&r(U,vt),j=p($t,j,zt),Kt===null?Tt=$t:Kt.sibling=$t,Kt=$t,vt=jt}if(zt===q.length)return l(U,vt),Ft&&fs(U,zt),Tt;if(vt===null){for(;zt<q.length;zt++)vt=st(U,q[zt],tt),vt!==null&&(j=p(vt,j,zt),Kt===null?Tt=vt:Kt.sibling=vt,Kt=vt);return Ft&&fs(U,zt),Tt}for(vt=u(vt);zt<q.length;zt++)jt=$(vt,U,zt,q[zt],tt),jt!==null&&(s&&jt.alternate!==null&&vt.delete(jt.key===null?zt:jt.key),j=p(jt,j,zt),Kt===null?Tt=jt:Kt.sibling=jt,Kt=jt);return s&&vt.forEach(function(vr){return r(U,vr)}),Ft&&fs(U,zt),Tt}function xt(U,j,q,tt){if(q==null)throw Error(i(151));for(var Tt=null,Kt=null,vt=j,zt=j=0,jt=null,$t=q.next();vt!==null&&!$t.done;zt++,$t=q.next()){vt.index>zt?(jt=vt,vt=null):jt=vt.sibling;var vr=Y(U,vt,$t.value,tt);if(vr===null){vt===null&&(vt=jt);break}s&&vt&&vr.alternate===null&&r(U,vt),j=p(vr,j,zt),Kt===null?Tt=vr:Kt.sibling=vr,Kt=vr,vt=jt}if($t.done)return l(U,vt),Ft&&fs(U,zt),Tt;if(vt===null){for(;!$t.done;zt++,$t=q.next())$t=st(U,$t.value,tt),$t!==null&&(j=p($t,j,zt),Kt===null?Tt=$t:Kt.sibling=$t,Kt=$t);return Ft&&fs(U,zt),Tt}for(vt=u(vt);!$t.done;zt++,$t=q.next())$t=$(vt,U,zt,$t.value,tt),$t!==null&&(s&&$t.alternate!==null&&vt.delete($t.key===null?zt:$t.key),j=p($t,j,zt),Kt===null?Tt=$t:Kt.sibling=$t,Kt=$t);return s&&vt.forEach(function(F2){return r(U,F2)}),Ft&&fs(U,zt),Tt}function re(U,j,q,tt){if(typeof q=="object"&&q!==null&&q.type===I&&q.key===null&&(q=q.props.children),typeof q=="object"&&q!==null){switch(q.$$typeof){case x:t:{for(var Tt=q.key;j!==null;){if(j.key===Tt){if(Tt=q.type,Tt===I){if(j.tag===7){l(U,j.sibling),tt=g(j,q.props.children),tt.return=U,U=tt;break t}}else if(j.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===C&&ba(Tt)===j.type){l(U,j.sibling),tt=g(j,q.props),Gl(tt,q),tt.return=U,U=tt;break t}l(U,j);break}else r(U,j);j=j.sibling}q.type===I?(tt=ma(q.props.children,U.mode,tt,q.key),tt.return=U,U=tt):(tt=nh(q.type,q.key,q.props,null,U.mode,tt),Gl(tt,q),tt.return=U,U=tt)}return v(U);case A:t:{for(Tt=q.key;j!==null;){if(j.key===Tt)if(j.tag===4&&j.stateNode.containerInfo===q.containerInfo&&j.stateNode.implementation===q.implementation){l(U,j.sibling),tt=g(j,q.children||[]),tt.return=U,U=tt;break t}else{l(U,j);break}else r(U,j);j=j.sibling}tt=Wd(q,U.mode,tt),tt.return=U,U=tt}return v(U);case C:return q=ba(q),re(U,j,q,tt)}if(J(q))return bt(U,j,q,tt);if(L(q)){if(Tt=L(q),typeof Tt!="function")throw Error(i(150));return q=Tt.call(q),xt(U,j,q,tt)}if(typeof q.then=="function")return re(U,j,ch(q),tt);if(q.$$typeof===X)return re(U,j,rh(U,q),tt);uh(U,q)}return typeof q=="string"&&q!==""||typeof q=="number"||typeof q=="bigint"?(q=""+q,j!==null&&j.tag===6?(l(U,j.sibling),tt=g(j,q),tt.return=U,U=tt):(l(U,j),tt=Xd(q,U.mode,tt),tt.return=U,U=tt),v(U)):l(U,j)}return function(U,j,q,tt){try{ql=0;var Tt=re(U,j,q,tt);return bo=null,Tt}catch(vt){if(vt===_o||vt===oh)throw vt;var Kt=Nn(29,vt,null,U.mode);return Kt.lanes=tt,Kt.return=U,Kt}finally{}}}var Ta=H0(!0),F0=H0(!1),ir=!1;function cm(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function um(s,r){s=s.updateQueue,r.updateQueue===s&&(r.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function sr(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function rr(s,r,l){var u=s.updateQueue;if(u===null)return null;if(u=u.shared,(Xt&2)!==0){var g=u.pending;return g===null?r.next=r:(r.next=g.next,g.next=r),u.pending=r,r=eh(s),A0(s,null,l),r}return th(s,u,r,l),eh(s)}function Yl(s,r,l){if(r=r.updateQueue,r!==null&&(r=r.shared,(l&4194048)!==0)){var u=r.lanes;u&=s.pendingLanes,l|=u,r.lanes=l,bl(s,l)}}function hm(s,r){var l=s.updateQueue,u=s.alternate;if(u!==null&&(u=u.updateQueue,l===u)){var g=null,p=null;if(l=l.firstBaseUpdate,l!==null){do{var v={lane:l.lane,tag:l.tag,payload:l.payload,callback:null,next:null};p===null?g=p=v:p=p.next=v,l=l.next}while(l!==null);p===null?g=p=r:p=p.next=r}else g=p=r;l={baseState:u.baseState,firstBaseUpdate:g,lastBaseUpdate:p,shared:u.shared,callbacks:u.callbacks},s.updateQueue=l;return}s=l.lastBaseUpdate,s===null?l.firstBaseUpdate=r:s.next=r,l.lastBaseUpdate=r}var fm=!1;function Kl(){if(fm){var s=yo;if(s!==null)throw s}}function $l(s,r,l,u){fm=!1;var g=s.updateQueue;ir=!1;var p=g.firstBaseUpdate,v=g.lastBaseUpdate,S=g.shared.pending;if(S!==null){g.shared.pending=null;var V=S,G=V.next;V.next=null,v===null?p=G:v.next=G,v=V;var Z=s.alternate;Z!==null&&(Z=Z.updateQueue,S=Z.lastBaseUpdate,S!==v&&(S===null?Z.firstBaseUpdate=G:S.next=G,Z.lastBaseUpdate=V))}if(p!==null){var st=g.baseState;v=0,Z=G=V=null,S=p;do{var Y=S.lane&-536870913,$=Y!==S.lane;if($?(Lt&Y)===Y:(u&Y)===Y){Y!==0&&Y===po&&(fm=!0),Z!==null&&(Z=Z.next={lane:0,tag:S.tag,payload:S.payload,callback:null,next:null});t:{var bt=s,xt=S;Y=r;var re=l;switch(xt.tag){case 1:if(bt=xt.payload,typeof bt=="function"){st=bt.call(re,st,Y);break t}st=bt;break t;case 3:bt.flags=bt.flags&-65537|128;case 0:if(bt=xt.payload,Y=typeof bt=="function"?bt.call(re,st,Y):bt,Y==null)break t;st=b({},st,Y);break t;case 2:ir=!0}}Y=S.callback,Y!==null&&(s.flags|=64,$&&(s.flags|=8192),$=g.callbacks,$===null?g.callbacks=[Y]:$.push(Y))}else $={lane:Y,tag:S.tag,payload:S.payload,callback:S.callback,next:null},Z===null?(G=Z=$,V=st):Z=Z.next=$,v|=Y;if(S=S.next,S===null){if(S=g.shared.pending,S===null)break;$=S,S=$.next,$.next=null,g.lastBaseUpdate=$,g.shared.pending=null}}while(!0);Z===null&&(V=st),g.baseState=V,g.firstBaseUpdate=G,g.lastBaseUpdate=Z,p===null&&(g.shared.lanes=0),ur|=v,s.lanes=v,s.memoizedState=st}}function q0(s,r){if(typeof s!="function")throw Error(i(191,s));s.call(r)}function G0(s,r){var l=s.callbacks;if(l!==null)for(s.callbacks=null,s=0;s<l.length;s++)q0(l[s],r)}var vo=M(null),hh=M(0);function Y0(s,r){s=xs,ut(hh,s),ut(vo,r),xs=s|r.baseLanes}function dm(){ut(hh,xs),ut(vo,vo.current)}function mm(){xs=hh.current,W(vo),W(hh)}var Mn=M(null),Wn=null;function ar(s){var r=s.alternate;ut(Ee,Ee.current&1),ut(Mn,s),Wn===null&&(r===null||vo.current!==null||r.memoizedState!==null)&&(Wn=s)}function gm(s){ut(Ee,Ee.current),ut(Mn,s),Wn===null&&(Wn=s)}function K0(s){s.tag===22?(ut(Ee,Ee.current),ut(Mn,s),Wn===null&&(Wn=s)):or()}function or(){ut(Ee,Ee.current),ut(Mn,Mn.current)}function On(s){W(Mn),Wn===s&&(Wn=null),W(Ee)}var Ee=M(0);function fh(s){for(var r=s;r!==null;){if(r.tag===13){var l=r.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||Tg(l)||Eg(l)))return r}else if(r.tag===19&&(r.memoizedProps.revealOrder==="forwards"||r.memoizedProps.revealOrder==="backwards"||r.memoizedProps.revealOrder==="unstable_legacy-backwards"||r.memoizedProps.revealOrder==="together")){if((r.flags&128)!==0)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var gs=0,Ot=null,ie=null,Me=null,dh=!1,To=!1,Ea=!1,mh=0,Ql=0,Eo=null,MA=0;function ye(){throw Error(i(321))}function pm(s,r){if(r===null)return!1;for(var l=0;l<r.length&&l<s.length;l++)if(!Dn(s[l],r[l]))return!1;return!0}function ym(s,r,l,u,g,p){return gs=p,Ot=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,H.H=s===null||s.memoizedState===null?k_:Nm,Ea=!1,p=l(u,g),Ea=!1,To&&(p=Q0(r,l,u,g)),$0(s),p}function $0(s){H.H=Zl;var r=ie!==null&&ie.next!==null;if(gs=0,Me=ie=Ot=null,dh=!1,Ql=0,Eo=null,r)throw Error(i(300));s===null||Oe||(s=s.dependencies,s!==null&&sh(s)&&(Oe=!0))}function Q0(s,r,l,u){Ot=s;var g=0;do{if(To&&(Eo=null),Ql=0,To=!1,25<=g)throw Error(i(301));if(g+=1,Me=ie=null,s.updateQueue!=null){var p=s.updateQueue;p.lastEffect=null,p.events=null,p.stores=null,p.memoCache!=null&&(p.memoCache.index=0)}H.H=D_,p=r(l,u)}while(To);return p}function OA(){var s=H.H,r=s.useState()[0];return r=typeof r.then=="function"?Xl(r):r,s=s.useState()[0],(ie!==null?ie.memoizedState:null)!==s&&(Ot.flags|=1024),r}function _m(){var s=mh!==0;return mh=0,s}function bm(s,r,l){r.updateQueue=s.updateQueue,r.flags&=-2053,s.lanes&=~l}function vm(s){if(dh){for(s=s.memoizedState;s!==null;){var r=s.queue;r!==null&&(r.pending=null),s=s.next}dh=!1}gs=0,Me=ie=Ot=null,To=!1,Ql=mh=0,Eo=null}function pn(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Me===null?Ot.memoizedState=Me=s:Me=Me.next=s,Me}function xe(){if(ie===null){var s=Ot.alternate;s=s!==null?s.memoizedState:null}else s=ie.next;var r=Me===null?Ot.memoizedState:Me.next;if(r!==null)Me=r,ie=s;else{if(s===null)throw Ot.alternate===null?Error(i(467)):Error(i(310));ie=s,s={memoizedState:ie.memoizedState,baseState:ie.baseState,baseQueue:ie.baseQueue,queue:ie.queue,next:null},Me===null?Ot.memoizedState=Me=s:Me=Me.next=s}return Me}function gh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Xl(s){var r=Ql;return Ql+=1,Eo===null&&(Eo=[]),s=j0(Eo,s,r),r=Ot,(Me===null?r.memoizedState:Me.next)===null&&(r=r.alternate,H.H=r===null||r.memoizedState===null?k_:Nm),s}function ph(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Xl(s);if(s.$$typeof===X)return Ze(s)}throw Error(i(438,String(s)))}function Tm(s){var r=null,l=Ot.updateQueue;if(l!==null&&(r=l.memoCache),r==null){var u=Ot.alternate;u!==null&&(u=u.updateQueue,u!==null&&(u=u.memoCache,u!=null&&(r={data:u.data.map(function(g){return g.slice()}),index:0})))}if(r==null&&(r={data:[],index:0}),l===null&&(l=gh(),Ot.updateQueue=l),l.memoCache=r,l=r.data[r.index],l===void 0)for(l=r.data[r.index]=Array(s),u=0;u<s;u++)l[u]=P;return r.index++,l}function ps(s,r){return typeof r=="function"?r(s):r}function yh(s){var r=xe();return Em(r,ie,s)}function Em(s,r,l){var u=s.queue;if(u===null)throw Error(i(311));u.lastRenderedReducer=l;var g=s.baseQueue,p=u.pending;if(p!==null){if(g!==null){var v=g.next;g.next=p.next,p.next=v}r.baseQueue=g=p,u.pending=null}if(p=s.baseState,g===null)s.memoizedState=p;else{r=g.next;var S=v=null,V=null,G=r,Z=!1;do{var st=G.lane&-536870913;if(st!==G.lane?(Lt&st)===st:(gs&st)===st){var Y=G.revertLane;if(Y===0)V!==null&&(V=V.next={lane:0,revertLane:0,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),st===po&&(Z=!0);else if((gs&Y)===Y){G=G.next,Y===po&&(Z=!0);continue}else st={lane:0,revertLane:G.revertLane,gesture:null,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},V===null?(S=V=st,v=p):V=V.next=st,Ot.lanes|=Y,ur|=Y;st=G.action,Ea&&l(p,st),p=G.hasEagerState?G.eagerState:l(p,st)}else Y={lane:st,revertLane:G.revertLane,gesture:G.gesture,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null},V===null?(S=V=Y,v=p):V=V.next=Y,Ot.lanes|=st,ur|=st;G=G.next}while(G!==null&&G!==r);if(V===null?v=p:V.next=S,!Dn(p,s.memoizedState)&&(Oe=!0,Z&&(l=yo,l!==null)))throw l;s.memoizedState=p,s.baseState=v,s.baseQueue=V,u.lastRenderedState=p}return g===null&&(u.lanes=0),[s.memoizedState,u.dispatch]}function xm(s){var r=xe(),l=r.queue;if(l===null)throw Error(i(311));l.lastRenderedReducer=s;var u=l.dispatch,g=l.pending,p=r.memoizedState;if(g!==null){l.pending=null;var v=g=g.next;do p=s(p,v.action),v=v.next;while(v!==g);Dn(p,r.memoizedState)||(Oe=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),l.lastRenderedState=p}return[p,u]}function X0(s,r,l){var u=Ot,g=xe(),p=Ft;if(p){if(l===void 0)throw Error(i(407));l=l()}else l=r();var v=!Dn((ie||g).memoizedState,l);if(v&&(g.memoizedState=l,Oe=!0),g=g.queue,Am(J0.bind(null,u,g,s),[s]),g.getSnapshot!==r||v||Me!==null&&Me.memoizedState.tag&1){if(u.flags|=2048,xo(9,{destroy:void 0},Z0.bind(null,u,g,l,r),null),ae===null)throw Error(i(349));p||(gs&127)!==0||W0(u,r,l)}return l}function W0(s,r,l){s.flags|=16384,s={getSnapshot:r,value:l},r=Ot.updateQueue,r===null?(r=gh(),Ot.updateQueue=r,r.stores=[s]):(l=r.stores,l===null?r.stores=[s]:l.push(s))}function Z0(s,r,l,u){r.value=l,r.getSnapshot=u,t_(r)&&e_(s)}function J0(s,r,l){return l(function(){t_(r)&&e_(s)})}function t_(s){var r=s.getSnapshot;s=s.value;try{var l=r();return!Dn(s,l)}catch{return!0}}function e_(s){var r=da(s,2);r!==null&&Sn(r,s,2)}function Sm(s){var r=pn();if(typeof s=="function"){var l=s;if(s=l(),Ea){Bn(!0);try{l()}finally{Bn(!1)}}}return r.memoizedState=r.baseState=s,r.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:s},r}function n_(s,r,l,u){return s.baseState=l,Em(s,ie,typeof u=="function"?u:ps)}function zA(s,r,l,u,g){if(vh(s))throw Error(i(485));if(s=r.action,s!==null){var p={payload:g,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(v){p.listeners.push(v)}};H.T!==null?l(!0):p.isTransition=!1,u(p),l=r.pending,l===null?(p.next=r.pending=p,i_(r,p)):(p.next=l.next,r.pending=l.next=p)}}function i_(s,r){var l=r.action,u=r.payload,g=s.state;if(r.isTransition){var p=H.T,v={};H.T=v;try{var S=l(g,u),V=H.S;V!==null&&V(v,S),s_(s,r,S)}catch(G){wm(s,r,G)}finally{p!==null&&v.types!==null&&(p.types=v.types),H.T=p}}else try{p=l(g,u),s_(s,r,p)}catch(G){wm(s,r,G)}}function s_(s,r,l){l!==null&&typeof l=="object"&&typeof l.then=="function"?l.then(function(u){r_(s,r,u)},function(u){return wm(s,r,u)}):r_(s,r,l)}function r_(s,r,l){r.status="fulfilled",r.value=l,a_(r),s.state=l,r=s.pending,r!==null&&(l=r.next,l===r?s.pending=null:(l=l.next,r.next=l,i_(s,l)))}function wm(s,r,l){var u=s.pending;if(s.pending=null,u!==null){u=u.next;do r.status="rejected",r.reason=l,a_(r),r=r.next;while(r!==u)}s.action=null}function a_(s){s=s.listeners;for(var r=0;r<s.length;r++)(0,s[r])()}function o_(s,r){return r}function l_(s,r){if(Ft){var l=ae.formState;if(l!==null){t:{var u=Ot;if(Ft){if(ce){e:{for(var g=ce,p=Xn;g.nodeType!==8;){if(!p){g=null;break e}if(g=Zn(g.nextSibling),g===null){g=null;break e}}p=g.data,g=p==="F!"||p==="F"?g:null}if(g){ce=Zn(g.nextSibling),u=g.data==="F!";break t}}er(u)}u=!1}u&&(r=l[0])}}return l=pn(),l.memoizedState=l.baseState=r,u={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o_,lastRenderedState:r},l.queue=u,l=C_.bind(null,Ot,u),u.dispatch=l,u=Sm(!1),p=Dm.bind(null,Ot,!1,u.queue),u=pn(),g={state:r,dispatch:null,action:s,pending:null},u.queue=g,l=zA.bind(null,Ot,g,p,l),g.dispatch=l,u.memoizedState=s,[r,l,!1]}function c_(s){var r=xe();return u_(r,ie,s)}function u_(s,r,l){if(r=Em(s,r,o_)[0],s=yh(ps)[0],typeof r=="object"&&r!==null&&typeof r.then=="function")try{var u=Xl(r)}catch(v){throw v===_o?oh:v}else u=r;r=xe();var g=r.queue,p=g.dispatch;return l!==r.memoizedState&&(Ot.flags|=2048,xo(9,{destroy:void 0},VA.bind(null,g,l),null)),[u,p,s]}function VA(s,r){s.action=r}function h_(s){var r=xe(),l=ie;if(l!==null)return u_(r,l,s);xe(),r=r.memoizedState,l=xe();var u=l.queue.dispatch;return l.memoizedState=s,[r,u,!1]}function xo(s,r,l,u){return s={tag:s,create:l,deps:u,inst:r,next:null},r=Ot.updateQueue,r===null&&(r=gh(),Ot.updateQueue=r),l=r.lastEffect,l===null?r.lastEffect=s.next=s:(u=l.next,l.next=s,s.next=u,r.lastEffect=s),s}function f_(){return xe().memoizedState}function _h(s,r,l,u){var g=pn();Ot.flags|=s,g.memoizedState=xo(1|r,{destroy:void 0},l,u===void 0?null:u)}function bh(s,r,l,u){var g=xe();u=u===void 0?null:u;var p=g.memoizedState.inst;ie!==null&&u!==null&&pm(u,ie.memoizedState.deps)?g.memoizedState=xo(r,p,l,u):(Ot.flags|=s,g.memoizedState=xo(1|r,p,l,u))}function d_(s,r){_h(8390656,8,s,r)}function Am(s,r){bh(2048,8,s,r)}function PA(s){Ot.flags|=4;var r=Ot.updateQueue;if(r===null)r=gh(),Ot.updateQueue=r,r.events=[s];else{var l=r.events;l===null?r.events=[s]:l.push(s)}}function m_(s){var r=xe().memoizedState;return PA({ref:r,nextImpl:s}),function(){if((Xt&2)!==0)throw Error(i(440));return r.impl.apply(void 0,arguments)}}function g_(s,r){return bh(4,2,s,r)}function p_(s,r){return bh(4,4,s,r)}function y_(s,r){if(typeof r=="function"){s=s();var l=r(s);return function(){typeof l=="function"?l():r(null)}}if(r!=null)return s=s(),r.current=s,function(){r.current=null}}function __(s,r,l){l=l!=null?l.concat([s]):null,bh(4,4,y_.bind(null,r,s),l)}function Cm(){}function b_(s,r){var l=xe();r=r===void 0?null:r;var u=l.memoizedState;return r!==null&&pm(r,u[1])?u[0]:(l.memoizedState=[s,r],s)}function v_(s,r){var l=xe();r=r===void 0?null:r;var u=l.memoizedState;if(r!==null&&pm(r,u[1]))return u[0];if(u=s(),Ea){Bn(!0);try{s()}finally{Bn(!1)}}return l.memoizedState=[u,r],u}function Rm(s,r,l){return l===void 0||(gs&1073741824)!==0&&(Lt&261930)===0?s.memoizedState=r:(s.memoizedState=l,s=Tb(),Ot.lanes|=s,ur|=s,l)}function T_(s,r,l,u){return Dn(l,r)?l:vo.current!==null?(s=Rm(s,l,u),Dn(s,r)||(Oe=!0),s):(gs&42)===0||(gs&1073741824)!==0&&(Lt&261930)===0?(Oe=!0,s.memoizedState=l):(s=Tb(),Ot.lanes|=s,ur|=s,r)}function E_(s,r,l,u,g){var p=ot.p;ot.p=p!==0&&8>p?p:8;var v=H.T,S={};H.T=S,Dm(s,!1,r,l);try{var V=g(),G=H.S;if(G!==null&&G(S,V),V!==null&&typeof V=="object"&&typeof V.then=="function"){var Z=NA(V,u);Wl(s,r,Z,Pn(s))}else Wl(s,r,u,Pn(s))}catch(st){Wl(s,r,{then:function(){},status:"rejected",reason:st},Pn())}finally{ot.p=p,v!==null&&S.types!==null&&(v.types=S.types),H.T=v}}function LA(){}function Im(s,r,l,u){if(s.tag!==5)throw Error(i(476));var g=x_(s).queue;E_(s,g,r,pt,l===null?LA:function(){return S_(s),l(u)})}function x_(s){var r=s.memoizedState;if(r!==null)return r;r={memoizedState:pt,baseState:pt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:pt},next:null};var l={};return r.next={memoizedState:l,baseState:l,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ps,lastRenderedState:l},next:null},s.memoizedState=r,s=s.alternate,s!==null&&(s.memoizedState=r),r}function S_(s){var r=x_(s);r.next===null&&(r=s.alternate.memoizedState),Wl(s,r.next.queue,{},Pn())}function km(){return Ze(mc)}function w_(){return xe().memoizedState}function A_(){return xe().memoizedState}function jA(s){for(var r=s.return;r!==null;){switch(r.tag){case 24:case 3:var l=Pn();s=sr(l);var u=rr(r,s,l);u!==null&&(Sn(u,r,l),Yl(u,r,l)),r={cache:rm()},s.payload=r;return}r=r.return}}function UA(s,r,l){var u=Pn();l={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},vh(s)?R_(r,l):(l=$d(s,r,l,u),l!==null&&(Sn(l,s,u),I_(l,r,u)))}function C_(s,r,l){var u=Pn();Wl(s,r,l,u)}function Wl(s,r,l,u){var g={lane:u,revertLane:0,gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null};if(vh(s))R_(r,g);else{var p=s.alternate;if(s.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var v=r.lastRenderedState,S=p(v,l);if(g.hasEagerState=!0,g.eagerState=S,Dn(S,v))return th(s,r,g,0),ae===null&&Ju(),!1}catch{}finally{}if(l=$d(s,r,g,u),l!==null)return Sn(l,s,u),I_(l,r,u),!0}return!1}function Dm(s,r,l,u){if(u={lane:2,revertLane:cg(),gesture:null,action:u,hasEagerState:!1,eagerState:null,next:null},vh(s)){if(r)throw Error(i(479))}else r=$d(s,l,u,2),r!==null&&Sn(r,s,2)}function vh(s){var r=s.alternate;return s===Ot||r!==null&&r===Ot}function R_(s,r){To=dh=!0;var l=s.pending;l===null?r.next=r:(r.next=l.next,l.next=r),s.pending=r}function I_(s,r,l){if((l&4194048)!==0){var u=r.lanes;u&=s.pendingLanes,l|=u,r.lanes=l,bl(s,l)}}var Zl={readContext:Ze,use:ph,useCallback:ye,useContext:ye,useEffect:ye,useImperativeHandle:ye,useLayoutEffect:ye,useInsertionEffect:ye,useMemo:ye,useReducer:ye,useRef:ye,useState:ye,useDebugValue:ye,useDeferredValue:ye,useTransition:ye,useSyncExternalStore:ye,useId:ye,useHostTransitionStatus:ye,useFormState:ye,useActionState:ye,useOptimistic:ye,useMemoCache:ye,useCacheRefresh:ye};Zl.useEffectEvent=ye;var k_={readContext:Ze,use:ph,useCallback:function(s,r){return pn().memoizedState=[s,r===void 0?null:r],s},useContext:Ze,useEffect:d_,useImperativeHandle:function(s,r,l){l=l!=null?l.concat([s]):null,_h(4194308,4,y_.bind(null,r,s),l)},useLayoutEffect:function(s,r){return _h(4194308,4,s,r)},useInsertionEffect:function(s,r){_h(4,2,s,r)},useMemo:function(s,r){var l=pn();r=r===void 0?null:r;var u=s();if(Ea){Bn(!0);try{s()}finally{Bn(!1)}}return l.memoizedState=[u,r],u},useReducer:function(s,r,l){var u=pn();if(l!==void 0){var g=l(r);if(Ea){Bn(!0);try{l(r)}finally{Bn(!1)}}}else g=r;return u.memoizedState=u.baseState=g,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:g},u.queue=s,s=s.dispatch=UA.bind(null,Ot,s),[u.memoizedState,s]},useRef:function(s){var r=pn();return s={current:s},r.memoizedState=s},useState:function(s){s=Sm(s);var r=s.queue,l=C_.bind(null,Ot,r);return r.dispatch=l,[s.memoizedState,l]},useDebugValue:Cm,useDeferredValue:function(s,r){var l=pn();return Rm(l,s,r)},useTransition:function(){var s=Sm(!1);return s=E_.bind(null,Ot,s.queue,!0,!1),pn().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,r,l){var u=Ot,g=pn();if(Ft){if(l===void 0)throw Error(i(407));l=l()}else{if(l=r(),ae===null)throw Error(i(349));(Lt&127)!==0||W0(u,r,l)}g.memoizedState=l;var p={value:l,getSnapshot:r};return g.queue=p,d_(J0.bind(null,u,p,s),[s]),u.flags|=2048,xo(9,{destroy:void 0},Z0.bind(null,u,p,l,r),null),l},useId:function(){var s=pn(),r=ae.identifierPrefix;if(Ft){var l=qi,u=Fi;l=(u&~(1<<32-ve(u)-1)).toString(32)+l,r="_"+r+"R_"+l,l=mh++,0<l&&(r+="H"+l.toString(32)),r+="_"}else l=MA++,r="_"+r+"r_"+l.toString(32)+"_";return s.memoizedState=r},useHostTransitionStatus:km,useFormState:l_,useActionState:l_,useOptimistic:function(s){var r=pn();r.memoizedState=r.baseState=s;var l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return r.queue=l,r=Dm.bind(null,Ot,!0,l),l.dispatch=r,[s,r]},useMemoCache:Tm,useCacheRefresh:function(){return pn().memoizedState=jA.bind(null,Ot)},useEffectEvent:function(s){var r=pn(),l={impl:s};return r.memoizedState=l,function(){if((Xt&2)!==0)throw Error(i(440));return l.impl.apply(void 0,arguments)}}},Nm={readContext:Ze,use:ph,useCallback:b_,useContext:Ze,useEffect:Am,useImperativeHandle:__,useInsertionEffect:g_,useLayoutEffect:p_,useMemo:v_,useReducer:yh,useRef:f_,useState:function(){return yh(ps)},useDebugValue:Cm,useDeferredValue:function(s,r){var l=xe();return T_(l,ie.memoizedState,s,r)},useTransition:function(){var s=yh(ps)[0],r=xe().memoizedState;return[typeof s=="boolean"?s:Xl(s),r]},useSyncExternalStore:X0,useId:w_,useHostTransitionStatus:km,useFormState:c_,useActionState:c_,useOptimistic:function(s,r){var l=xe();return n_(l,ie,s,r)},useMemoCache:Tm,useCacheRefresh:A_};Nm.useEffectEvent=m_;var D_={readContext:Ze,use:ph,useCallback:b_,useContext:Ze,useEffect:Am,useImperativeHandle:__,useInsertionEffect:g_,useLayoutEffect:p_,useMemo:v_,useReducer:xm,useRef:f_,useState:function(){return xm(ps)},useDebugValue:Cm,useDeferredValue:function(s,r){var l=xe();return ie===null?Rm(l,s,r):T_(l,ie.memoizedState,s,r)},useTransition:function(){var s=xm(ps)[0],r=xe().memoizedState;return[typeof s=="boolean"?s:Xl(s),r]},useSyncExternalStore:X0,useId:w_,useHostTransitionStatus:km,useFormState:h_,useActionState:h_,useOptimistic:function(s,r){var l=xe();return ie!==null?n_(l,ie,s,r):(l.baseState=s,[s,l.queue.dispatch])},useMemoCache:Tm,useCacheRefresh:A_};D_.useEffectEvent=m_;function Mm(s,r,l,u){r=s.memoizedState,l=l(u,r),l=l==null?r:b({},r,l),s.memoizedState=l,s.lanes===0&&(s.updateQueue.baseState=l)}var Om={enqueueSetState:function(s,r,l){s=s._reactInternals;var u=Pn(),g=sr(u);g.payload=r,l!=null&&(g.callback=l),r=rr(s,g,u),r!==null&&(Sn(r,s,u),Yl(r,s,u))},enqueueReplaceState:function(s,r,l){s=s._reactInternals;var u=Pn(),g=sr(u);g.tag=1,g.payload=r,l!=null&&(g.callback=l),r=rr(s,g,u),r!==null&&(Sn(r,s,u),Yl(r,s,u))},enqueueForceUpdate:function(s,r){s=s._reactInternals;var l=Pn(),u=sr(l);u.tag=2,r!=null&&(u.callback=r),r=rr(s,u,l),r!==null&&(Sn(r,s,l),Yl(r,s,l))}};function N_(s,r,l,u,g,p,v){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(u,p,v):r.prototype&&r.prototype.isPureReactComponent?!Ll(l,u)||!Ll(g,p):!0}function M_(s,r,l,u){s=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(l,u),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(l,u),r.state!==s&&Om.enqueueReplaceState(r,r.state,null)}function xa(s,r){var l=r;if("ref"in r){l={};for(var u in r)u!=="ref"&&(l[u]=r[u])}if(s=s.defaultProps){l===r&&(l=b({},l));for(var g in s)l[g]===void 0&&(l[g]=s[g])}return l}function O_(s){Zu(s)}function z_(s){console.error(s)}function V_(s){Zu(s)}function Th(s,r){try{var l=s.onUncaughtError;l(r.value,{componentStack:r.stack})}catch(u){setTimeout(function(){throw u})}}function P_(s,r,l){try{var u=s.onCaughtError;u(l.value,{componentStack:l.stack,errorBoundary:r.tag===1?r.stateNode:null})}catch(g){setTimeout(function(){throw g})}}function zm(s,r,l){return l=sr(l),l.tag=3,l.payload={element:null},l.callback=function(){Th(s,r)},l}function L_(s){return s=sr(s),s.tag=3,s}function j_(s,r,l,u){var g=l.type.getDerivedStateFromError;if(typeof g=="function"){var p=u.value;s.payload=function(){return g(p)},s.callback=function(){P_(r,l,u)}}var v=l.stateNode;v!==null&&typeof v.componentDidCatch=="function"&&(s.callback=function(){P_(r,l,u),typeof g!="function"&&(hr===null?hr=new Set([this]):hr.add(this));var S=u.stack;this.componentDidCatch(u.value,{componentStack:S!==null?S:""})})}function BA(s,r,l,u,g){if(l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){if(r=l.alternate,r!==null&&go(r,l,g,!0),l=Mn.current,l!==null){switch(l.tag){case 31:case 13:return Wn===null?Mh():l.alternate===null&&_e===0&&(_e=3),l.flags&=-257,l.flags|=65536,l.lanes=g,u===lh?l.flags|=16384:(r=l.updateQueue,r===null?l.updateQueue=new Set([u]):r.add(u),ag(s,u,g)),!1;case 22:return l.flags|=65536,u===lh?l.flags|=16384:(r=l.updateQueue,r===null?(r={transitions:null,markerInstances:null,retryQueue:new Set([u])},l.updateQueue=r):(l=r.retryQueue,l===null?r.retryQueue=new Set([u]):l.add(u)),ag(s,u,g)),!1}throw Error(i(435,l.tag))}return ag(s,u,g),Mh(),!1}if(Ft)return r=Mn.current,r!==null?((r.flags&65536)===0&&(r.flags|=256),r.flags|=65536,r.lanes=g,u!==tm&&(s=Error(i(422),{cause:u}),Bl(Kn(s,l)))):(u!==tm&&(r=Error(i(423),{cause:u}),Bl(Kn(r,l))),s=s.current.alternate,s.flags|=65536,g&=-g,s.lanes|=g,u=Kn(u,l),g=zm(s.stateNode,u,g),hm(s,g),_e!==4&&(_e=2)),!1;var p=Error(i(520),{cause:u});if(p=Kn(p,l),ac===null?ac=[p]:ac.push(p),_e!==4&&(_e=2),r===null)return!0;u=Kn(u,l),l=r;do{switch(l.tag){case 3:return l.flags|=65536,s=g&-g,l.lanes|=s,s=zm(l.stateNode,u,s),hm(l,s),!1;case 1:if(r=l.type,p=l.stateNode,(l.flags&128)===0&&(typeof r.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&(hr===null||!hr.has(p))))return l.flags|=65536,g&=-g,l.lanes|=g,g=L_(g),j_(g,s,l,u),hm(l,g),!1}l=l.return}while(l!==null);return!1}var Vm=Error(i(461)),Oe=!1;function Je(s,r,l,u){r.child=s===null?F0(r,null,l,u):Ta(r,s.child,l,u)}function U_(s,r,l,u,g){l=l.render;var p=r.ref;if("ref"in u){var v={};for(var S in u)S!=="ref"&&(v[S]=u[S])}else v=u;return ya(r),u=ym(s,r,l,v,p,g),S=_m(),s!==null&&!Oe?(bm(s,r,g),ys(s,r,g)):(Ft&&S&&Zd(r),r.flags|=1,Je(s,r,u,g),r.child)}function B_(s,r,l,u,g){if(s===null){var p=l.type;return typeof p=="function"&&!Qd(p)&&p.defaultProps===void 0&&l.compare===null?(r.tag=15,r.type=p,H_(s,r,p,u,g)):(s=nh(l.type,null,u,r,r.mode,g),s.ref=r.ref,s.return=r,r.child=s)}if(p=s.child,!qm(s,g)){var v=p.memoizedProps;if(l=l.compare,l=l!==null?l:Ll,l(v,u)&&s.ref===r.ref)return ys(s,r,g)}return r.flags|=1,s=hs(p,u),s.ref=r.ref,s.return=r,r.child=s}function H_(s,r,l,u,g){if(s!==null){var p=s.memoizedProps;if(Ll(p,u)&&s.ref===r.ref)if(Oe=!1,r.pendingProps=u=p,qm(s,g))(s.flags&131072)!==0&&(Oe=!0);else return r.lanes=s.lanes,ys(s,r,g)}return Pm(s,r,l,u,g)}function F_(s,r,l,u){var g=u.children,p=s!==null?s.memoizedState:null;if(s===null&&r.stateNode===null&&(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.mode==="hidden"){if((r.flags&128)!==0){if(p=p!==null?p.baseLanes|l:l,s!==null){for(u=r.child=s.child,g=0;u!==null;)g=g|u.lanes|u.childLanes,u=u.sibling;u=g&~p}else u=0,r.child=null;return q_(s,r,p,l,u)}if((l&536870912)!==0)r.memoizedState={baseLanes:0,cachePool:null},s!==null&&ah(r,p!==null?p.cachePool:null),p!==null?Y0(r,p):dm(),K0(r);else return u=r.lanes=536870912,q_(s,r,p!==null?p.baseLanes|l:l,l,u)}else p!==null?(ah(r,p.cachePool),Y0(r,p),or(),r.memoizedState=null):(s!==null&&ah(r,null),dm(),or());return Je(s,r,g,l),r.child}function Jl(s,r){return s!==null&&s.tag===22||r.stateNode!==null||(r.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),r.sibling}function q_(s,r,l,u,g){var p=om();return p=p===null?null:{parent:Ne._currentValue,pool:p},r.memoizedState={baseLanes:l,cachePool:p},s!==null&&ah(r,null),dm(),K0(r),s!==null&&go(s,r,u,!0),r.childLanes=g,null}function Eh(s,r){return r=Sh({mode:r.mode,children:r.children},s.mode),r.ref=s.ref,s.child=r,r.return=s,r}function G_(s,r,l){return Ta(r,s.child,null,l),s=Eh(r,r.pendingProps),s.flags|=2,On(r),r.memoizedState=null,s}function HA(s,r,l){var u=r.pendingProps,g=(r.flags&128)!==0;if(r.flags&=-129,s===null){if(Ft){if(u.mode==="hidden")return s=Eh(r,u),r.lanes=536870912,Jl(null,s);if(gm(r),(s=ce)?(s=iv(s,Xn),s=s!==null&&s.data==="&"?s:null,s!==null&&(r.memoizedState={dehydrated:s,treeContext:Js!==null?{id:Fi,overflow:qi}:null,retryLane:536870912,hydrationErrors:null},l=R0(s),l.return=r,r.child=l,We=r,ce=null)):s=null,s===null)throw er(r);return r.lanes=536870912,null}return Eh(r,u)}var p=s.memoizedState;if(p!==null){var v=p.dehydrated;if(gm(r),g)if(r.flags&256)r.flags&=-257,r=G_(s,r,l);else if(r.memoizedState!==null)r.child=s.child,r.flags|=128,r=null;else throw Error(i(558));else if(Oe||go(s,r,l,!1),g=(l&s.childLanes)!==0,Oe||g){if(u=ae,u!==null&&(v=vl(u,l),v!==0&&v!==p.retryLane))throw p.retryLane=v,da(s,v),Sn(u,s,v),Vm;Mh(),r=G_(s,r,l)}else s=p.treeContext,ce=Zn(v.nextSibling),We=r,Ft=!0,tr=null,Xn=!1,s!==null&&D0(r,s),r=Eh(r,u),r.flags|=4096;return r}return s=hs(s.child,{mode:u.mode,children:u.children}),s.ref=r.ref,r.child=s,s.return=r,s}function xh(s,r){var l=r.ref;if(l===null)s!==null&&s.ref!==null&&(r.flags|=4194816);else{if(typeof l!="function"&&typeof l!="object")throw Error(i(284));(s===null||s.ref!==l)&&(r.flags|=4194816)}}function Pm(s,r,l,u,g){return ya(r),l=ym(s,r,l,u,void 0,g),u=_m(),s!==null&&!Oe?(bm(s,r,g),ys(s,r,g)):(Ft&&u&&Zd(r),r.flags|=1,Je(s,r,l,g),r.child)}function Y_(s,r,l,u,g,p){return ya(r),r.updateQueue=null,l=Q0(r,u,l,g),$0(s),u=_m(),s!==null&&!Oe?(bm(s,r,p),ys(s,r,p)):(Ft&&u&&Zd(r),r.flags|=1,Je(s,r,l,p),r.child)}function K_(s,r,l,u,g){if(ya(r),r.stateNode===null){var p=uo,v=l.contextType;typeof v=="object"&&v!==null&&(p=Ze(v)),p=new l(u,p),r.memoizedState=p.state!==null&&p.state!==void 0?p.state:null,p.updater=Om,r.stateNode=p,p._reactInternals=r,p=r.stateNode,p.props=u,p.state=r.memoizedState,p.refs={},cm(r),v=l.contextType,p.context=typeof v=="object"&&v!==null?Ze(v):uo,p.state=r.memoizedState,v=l.getDerivedStateFromProps,typeof v=="function"&&(Mm(r,l,v,u),p.state=r.memoizedState),typeof l.getDerivedStateFromProps=="function"||typeof p.getSnapshotBeforeUpdate=="function"||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(v=p.state,typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount(),v!==p.state&&Om.enqueueReplaceState(p,p.state,null),$l(r,u,p,g),Kl(),p.state=r.memoizedState),typeof p.componentDidMount=="function"&&(r.flags|=4194308),u=!0}else if(s===null){p=r.stateNode;var S=r.memoizedProps,V=xa(l,S);p.props=V;var G=p.context,Z=l.contextType;v=uo,typeof Z=="object"&&Z!==null&&(v=Ze(Z));var st=l.getDerivedStateFromProps;Z=typeof st=="function"||typeof p.getSnapshotBeforeUpdate=="function",S=r.pendingProps!==S,Z||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(S||G!==v)&&M_(r,p,u,v),ir=!1;var Y=r.memoizedState;p.state=Y,$l(r,u,p,g),Kl(),G=r.memoizedState,S||Y!==G||ir?(typeof st=="function"&&(Mm(r,l,st,u),G=r.memoizedState),(V=ir||N_(r,l,V,u,Y,G,v))?(Z||typeof p.UNSAFE_componentWillMount!="function"&&typeof p.componentWillMount!="function"||(typeof p.componentWillMount=="function"&&p.componentWillMount(),typeof p.UNSAFE_componentWillMount=="function"&&p.UNSAFE_componentWillMount()),typeof p.componentDidMount=="function"&&(r.flags|=4194308)):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=u,r.memoizedState=G),p.props=u,p.state=G,p.context=v,u=V):(typeof p.componentDidMount=="function"&&(r.flags|=4194308),u=!1)}else{p=r.stateNode,um(s,r),v=r.memoizedProps,Z=xa(l,v),p.props=Z,st=r.pendingProps,Y=p.context,G=l.contextType,V=uo,typeof G=="object"&&G!==null&&(V=Ze(G)),S=l.getDerivedStateFromProps,(G=typeof S=="function"||typeof p.getSnapshotBeforeUpdate=="function")||typeof p.UNSAFE_componentWillReceiveProps!="function"&&typeof p.componentWillReceiveProps!="function"||(v!==st||Y!==V)&&M_(r,p,u,V),ir=!1,Y=r.memoizedState,p.state=Y,$l(r,u,p,g),Kl();var $=r.memoizedState;v!==st||Y!==$||ir||s!==null&&s.dependencies!==null&&sh(s.dependencies)?(typeof S=="function"&&(Mm(r,l,S,u),$=r.memoizedState),(Z=ir||N_(r,l,Z,u,Y,$,V)||s!==null&&s.dependencies!==null&&sh(s.dependencies))?(G||typeof p.UNSAFE_componentWillUpdate!="function"&&typeof p.componentWillUpdate!="function"||(typeof p.componentWillUpdate=="function"&&p.componentWillUpdate(u,$,V),typeof p.UNSAFE_componentWillUpdate=="function"&&p.UNSAFE_componentWillUpdate(u,$,V)),typeof p.componentDidUpdate=="function"&&(r.flags|=4),typeof p.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof p.componentDidUpdate!="function"||v===s.memoizedProps&&Y===s.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||v===s.memoizedProps&&Y===s.memoizedState||(r.flags|=1024),r.memoizedProps=u,r.memoizedState=$),p.props=u,p.state=$,p.context=V,u=Z):(typeof p.componentDidUpdate!="function"||v===s.memoizedProps&&Y===s.memoizedState||(r.flags|=4),typeof p.getSnapshotBeforeUpdate!="function"||v===s.memoizedProps&&Y===s.memoizedState||(r.flags|=1024),u=!1)}return p=u,xh(s,r),u=(r.flags&128)!==0,p||u?(p=r.stateNode,l=u&&typeof l.getDerivedStateFromError!="function"?null:p.render(),r.flags|=1,s!==null&&u?(r.child=Ta(r,s.child,null,g),r.child=Ta(r,null,l,g)):Je(s,r,l,g),r.memoizedState=p.state,s=r.child):s=ys(s,r,g),s}function $_(s,r,l,u){return ga(),r.flags|=256,Je(s,r,l,u),r.child}var Lm={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function jm(s){return{baseLanes:s,cachePool:P0()}}function Um(s,r,l){return s=s!==null?s.childLanes&~l:0,r&&(s|=Vn),s}function Q_(s,r,l){var u=r.pendingProps,g=!1,p=(r.flags&128)!==0,v;if((v=p)||(v=s!==null&&s.memoizedState===null?!1:(Ee.current&2)!==0),v&&(g=!0,r.flags&=-129),v=(r.flags&32)!==0,r.flags&=-33,s===null){if(Ft){if(g?ar(r):or(),(s=ce)?(s=iv(s,Xn),s=s!==null&&s.data!=="&"?s:null,s!==null&&(r.memoizedState={dehydrated:s,treeContext:Js!==null?{id:Fi,overflow:qi}:null,retryLane:536870912,hydrationErrors:null},l=R0(s),l.return=r,r.child=l,We=r,ce=null)):s=null,s===null)throw er(r);return Eg(s)?r.lanes=32:r.lanes=536870912,null}var S=u.children;return u=u.fallback,g?(or(),g=r.mode,S=Sh({mode:"hidden",children:S},g),u=ma(u,g,l,null),S.return=r,u.return=r,S.sibling=u,r.child=S,u=r.child,u.memoizedState=jm(l),u.childLanes=Um(s,v,l),r.memoizedState=Lm,Jl(null,u)):(ar(r),Bm(r,S))}var V=s.memoizedState;if(V!==null&&(S=V.dehydrated,S!==null)){if(p)r.flags&256?(ar(r),r.flags&=-257,r=Hm(s,r,l)):r.memoizedState!==null?(or(),r.child=s.child,r.flags|=128,r=null):(or(),S=u.fallback,g=r.mode,u=Sh({mode:"visible",children:u.children},g),S=ma(S,g,l,null),S.flags|=2,u.return=r,S.return=r,u.sibling=S,r.child=u,Ta(r,s.child,null,l),u=r.child,u.memoizedState=jm(l),u.childLanes=Um(s,v,l),r.memoizedState=Lm,r=Jl(null,u));else if(ar(r),Eg(S)){if(v=S.nextSibling&&S.nextSibling.dataset,v)var G=v.dgst;v=G,u=Error(i(419)),u.stack="",u.digest=v,Bl({value:u,source:null,stack:null}),r=Hm(s,r,l)}else if(Oe||go(s,r,l,!1),v=(l&s.childLanes)!==0,Oe||v){if(v=ae,v!==null&&(u=vl(v,l),u!==0&&u!==V.retryLane))throw V.retryLane=u,da(s,u),Sn(v,s,u),Vm;Tg(S)||Mh(),r=Hm(s,r,l)}else Tg(S)?(r.flags|=192,r.child=s.child,r=null):(s=V.treeContext,ce=Zn(S.nextSibling),We=r,Ft=!0,tr=null,Xn=!1,s!==null&&D0(r,s),r=Bm(r,u.children),r.flags|=4096);return r}return g?(or(),S=u.fallback,g=r.mode,V=s.child,G=V.sibling,u=hs(V,{mode:"hidden",children:u.children}),u.subtreeFlags=V.subtreeFlags&65011712,G!==null?S=hs(G,S):(S=ma(S,g,l,null),S.flags|=2),S.return=r,u.return=r,u.sibling=S,r.child=u,Jl(null,u),u=r.child,S=s.child.memoizedState,S===null?S=jm(l):(g=S.cachePool,g!==null?(V=Ne._currentValue,g=g.parent!==V?{parent:V,pool:V}:g):g=P0(),S={baseLanes:S.baseLanes|l,cachePool:g}),u.memoizedState=S,u.childLanes=Um(s,v,l),r.memoizedState=Lm,Jl(s.child,u)):(ar(r),l=s.child,s=l.sibling,l=hs(l,{mode:"visible",children:u.children}),l.return=r,l.sibling=null,s!==null&&(v=r.deletions,v===null?(r.deletions=[s],r.flags|=16):v.push(s)),r.child=l,r.memoizedState=null,l)}function Bm(s,r){return r=Sh({mode:"visible",children:r},s.mode),r.return=s,s.child=r}function Sh(s,r){return s=Nn(22,s,null,r),s.lanes=0,s}function Hm(s,r,l){return Ta(r,s.child,null,l),s=Bm(r,r.pendingProps.children),s.flags|=2,r.memoizedState=null,s}function X_(s,r,l){s.lanes|=r;var u=s.alternate;u!==null&&(u.lanes|=r),im(s.return,r,l)}function Fm(s,r,l,u,g,p){var v=s.memoizedState;v===null?s.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:u,tail:l,tailMode:g,treeForkCount:p}:(v.isBackwards=r,v.rendering=null,v.renderingStartTime=0,v.last=u,v.tail=l,v.tailMode=g,v.treeForkCount=p)}function W_(s,r,l){var u=r.pendingProps,g=u.revealOrder,p=u.tail;u=u.children;var v=Ee.current,S=(v&2)!==0;if(S?(v=v&1|2,r.flags|=128):v&=1,ut(Ee,v),Je(s,r,u,l),u=Ft?Ul:0,!S&&s!==null&&(s.flags&128)!==0)t:for(s=r.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&X_(s,l,r);else if(s.tag===19)X_(s,l,r);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===r)break t;for(;s.sibling===null;){if(s.return===null||s.return===r)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(g){case"forwards":for(l=r.child,g=null;l!==null;)s=l.alternate,s!==null&&fh(s)===null&&(g=l),l=l.sibling;l=g,l===null?(g=r.child,r.child=null):(g=l.sibling,l.sibling=null),Fm(r,!1,g,l,p,u);break;case"backwards":case"unstable_legacy-backwards":for(l=null,g=r.child,r.child=null;g!==null;){if(s=g.alternate,s!==null&&fh(s)===null){r.child=g;break}s=g.sibling,g.sibling=l,l=g,g=s}Fm(r,!0,l,null,p,u);break;case"together":Fm(r,!1,null,null,void 0,u);break;default:r.memoizedState=null}return r.child}function ys(s,r,l){if(s!==null&&(r.dependencies=s.dependencies),ur|=r.lanes,(l&r.childLanes)===0)if(s!==null){if(go(s,r,l,!1),(l&r.childLanes)===0)return null}else return null;if(s!==null&&r.child!==s.child)throw Error(i(153));if(r.child!==null){for(s=r.child,l=hs(s,s.pendingProps),r.child=l,l.return=r;s.sibling!==null;)s=s.sibling,l=l.sibling=hs(s,s.pendingProps),l.return=r;l.sibling=null}return r.child}function qm(s,r){return(s.lanes&r)!==0?!0:(s=s.dependencies,!!(s!==null&&sh(s)))}function FA(s,r,l){switch(r.tag){case 3:Dt(r,r.stateNode.containerInfo),nr(r,Ne,s.memoizedState.cache),ga();break;case 27:case 5:wi(r);break;case 4:Dt(r,r.stateNode.containerInfo);break;case 10:nr(r,r.type,r.memoizedProps.value);break;case 31:if(r.memoizedState!==null)return r.flags|=128,gm(r),null;break;case 13:var u=r.memoizedState;if(u!==null)return u.dehydrated!==null?(ar(r),r.flags|=128,null):(l&r.child.childLanes)!==0?Q_(s,r,l):(ar(r),s=ys(s,r,l),s!==null?s.sibling:null);ar(r);break;case 19:var g=(s.flags&128)!==0;if(u=(l&r.childLanes)!==0,u||(go(s,r,l,!1),u=(l&r.childLanes)!==0),g){if(u)return W_(s,r,l);r.flags|=128}if(g=r.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),ut(Ee,Ee.current),u)break;return null;case 22:return r.lanes=0,F_(s,r,l,r.pendingProps);case 24:nr(r,Ne,s.memoizedState.cache)}return ys(s,r,l)}function Z_(s,r,l){if(s!==null)if(s.memoizedProps!==r.pendingProps)Oe=!0;else{if(!qm(s,l)&&(r.flags&128)===0)return Oe=!1,FA(s,r,l);Oe=(s.flags&131072)!==0}else Oe=!1,Ft&&(r.flags&1048576)!==0&&k0(r,Ul,r.index);switch(r.lanes=0,r.tag){case 16:t:{var u=r.pendingProps;if(s=ba(r.elementType),r.type=s,typeof s=="function")Qd(s)?(u=xa(s,u),r.tag=1,r=K_(null,r,s,u,l)):(r.tag=0,r=Pm(null,r,s,u,l));else{if(s!=null){var g=s.$$typeof;if(g===at){r.tag=11,r=U_(null,r,s,u,l);break t}else if(g===k){r.tag=14,r=B_(null,r,s,u,l);break t}}throw r=Ct(s)||s,Error(i(306,r,""))}}return r;case 0:return Pm(s,r,r.type,r.pendingProps,l);case 1:return u=r.type,g=xa(u,r.pendingProps),K_(s,r,u,g,l);case 3:t:{if(Dt(r,r.stateNode.containerInfo),s===null)throw Error(i(387));u=r.pendingProps;var p=r.memoizedState;g=p.element,um(s,r),$l(r,u,null,l);var v=r.memoizedState;if(u=v.cache,nr(r,Ne,u),u!==p.cache&&sm(r,[Ne],l,!0),Kl(),u=v.element,p.isDehydrated)if(p={element:u,isDehydrated:!1,cache:v.cache},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){r=$_(s,r,u,l);break t}else if(u!==g){g=Kn(Error(i(424)),r),Bl(g),r=$_(s,r,u,l);break t}else{switch(s=r.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(ce=Zn(s.firstChild),We=r,Ft=!0,tr=null,Xn=!0,l=F0(r,null,u,l),r.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling}else{if(ga(),u===g){r=ys(s,r,l);break t}Je(s,r,u,l)}r=r.child}return r;case 26:return xh(s,r),s===null?(l=cv(r.type,null,r.pendingProps,null))?r.memoizedState=l:Ft||(l=r.type,s=r.pendingProps,u=Uh(ct.current).createElement(l),u[Ie]=r,u[Fe]=s,tn(u,l,s),ke(u),r.stateNode=u):r.memoizedState=cv(r.type,s.memoizedProps,r.pendingProps,s.memoizedState),null;case 27:return wi(r),s===null&&Ft&&(u=r.stateNode=av(r.type,r.pendingProps,ct.current),We=r,Xn=!0,g=ce,gr(r.type)?(xg=g,ce=Zn(u.firstChild)):ce=g),Je(s,r,r.pendingProps.children,l),xh(s,r),s===null&&(r.flags|=4194304),r.child;case 5:return s===null&&Ft&&((g=u=ce)&&(u=b2(u,r.type,r.pendingProps,Xn),u!==null?(r.stateNode=u,We=r,ce=Zn(u.firstChild),Xn=!1,g=!0):g=!1),g||er(r)),wi(r),g=r.type,p=r.pendingProps,v=s!==null?s.memoizedProps:null,u=p.children,_g(g,p)?u=null:v!==null&&_g(g,v)&&(r.flags|=32),r.memoizedState!==null&&(g=ym(s,r,OA,null,null,l),mc._currentValue=g),xh(s,r),Je(s,r,u,l),r.child;case 6:return s===null&&Ft&&((s=l=ce)&&(l=v2(l,r.pendingProps,Xn),l!==null?(r.stateNode=l,We=r,ce=null,s=!0):s=!1),s||er(r)),null;case 13:return Q_(s,r,l);case 4:return Dt(r,r.stateNode.containerInfo),u=r.pendingProps,s===null?r.child=Ta(r,null,u,l):Je(s,r,u,l),r.child;case 11:return U_(s,r,r.type,r.pendingProps,l);case 7:return Je(s,r,r.pendingProps,l),r.child;case 8:return Je(s,r,r.pendingProps.children,l),r.child;case 12:return Je(s,r,r.pendingProps.children,l),r.child;case 10:return u=r.pendingProps,nr(r,r.type,u.value),Je(s,r,u.children,l),r.child;case 9:return g=r.type._context,u=r.pendingProps.children,ya(r),g=Ze(g),u=u(g),r.flags|=1,Je(s,r,u,l),r.child;case 14:return B_(s,r,r.type,r.pendingProps,l);case 15:return H_(s,r,r.type,r.pendingProps,l);case 19:return W_(s,r,l);case 31:return HA(s,r,l);case 22:return F_(s,r,l,r.pendingProps);case 24:return ya(r),u=Ze(Ne),s===null?(g=om(),g===null&&(g=ae,p=rm(),g.pooledCache=p,p.refCount++,p!==null&&(g.pooledCacheLanes|=l),g=p),r.memoizedState={parent:u,cache:g},cm(r),nr(r,Ne,g)):((s.lanes&l)!==0&&(um(s,r),$l(r,null,null,l),Kl()),g=s.memoizedState,p=r.memoizedState,g.parent!==u?(g={parent:u,cache:u},r.memoizedState=g,r.lanes===0&&(r.memoizedState=r.updateQueue.baseState=g),nr(r,Ne,u)):(u=p.cache,nr(r,Ne,u),u!==g.cache&&sm(r,[Ne],l,!0))),Je(s,r,r.pendingProps.children,l),r.child;case 29:throw r.pendingProps}throw Error(i(156,r.tag))}function _s(s){s.flags|=4}function Gm(s,r,l,u,g){if((r=(s.mode&32)!==0)&&(r=!1),r){if(s.flags|=16777216,(g&335544128)===g)if(s.stateNode.complete)s.flags|=8192;else if(wb())s.flags|=8192;else throw va=lh,lm}else s.flags&=-16777217}function J_(s,r){if(r.type!=="stylesheet"||(r.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!mv(r))if(wb())s.flags|=8192;else throw va=lh,lm}function wh(s,r){r!==null&&(s.flags|=4),s.flags&16384&&(r=s.tag!==22?Du():536870912,s.lanes|=r,Co|=r)}function tc(s,r){if(!Ft)switch(s.tailMode){case"hidden":r=s.tail;for(var l=null;r!==null;)r.alternate!==null&&(l=r),r=r.sibling;l===null?s.tail=null:l.sibling=null;break;case"collapsed":l=s.tail;for(var u=null;l!==null;)l.alternate!==null&&(u=l),l=l.sibling;u===null?r||s.tail===null?s.tail=null:s.tail.sibling=null:u.sibling=null}}function ue(s){var r=s.alternate!==null&&s.alternate.child===s.child,l=0,u=0;if(r)for(var g=s.child;g!==null;)l|=g.lanes|g.childLanes,u|=g.subtreeFlags&65011712,u|=g.flags&65011712,g.return=s,g=g.sibling;else for(g=s.child;g!==null;)l|=g.lanes|g.childLanes,u|=g.subtreeFlags,u|=g.flags,g.return=s,g=g.sibling;return s.subtreeFlags|=u,s.childLanes=l,r}function qA(s,r,l){var u=r.pendingProps;switch(Jd(r),r.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ue(r),null;case 1:return ue(r),null;case 3:return l=r.stateNode,u=null,s!==null&&(u=s.memoizedState.cache),r.memoizedState.cache!==u&&(r.flags|=2048),ms(Ne),Nt(),l.pendingContext&&(l.context=l.pendingContext,l.pendingContext=null),(s===null||s.child===null)&&(mo(r)?_s(r):s===null||s.memoizedState.isDehydrated&&(r.flags&256)===0||(r.flags|=1024,em())),ue(r),null;case 26:var g=r.type,p=r.memoizedState;return s===null?(_s(r),p!==null?(ue(r),J_(r,p)):(ue(r),Gm(r,g,null,u,l))):p?p!==s.memoizedState?(_s(r),ue(r),J_(r,p)):(ue(r),r.flags&=-16777217):(s=s.memoizedProps,s!==u&&_s(r),ue(r),Gm(r,g,s,u,l)),null;case 27:if(Us(r),l=ct.current,g=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==u&&_s(r);else{if(!u){if(r.stateNode===null)throw Error(i(166));return ue(r),null}s=dt.current,mo(r)?N0(r):(s=av(g,u,l),r.stateNode=s,_s(r))}return ue(r),null;case 5:if(Us(r),g=r.type,s!==null&&r.stateNode!=null)s.memoizedProps!==u&&_s(r);else{if(!u){if(r.stateNode===null)throw Error(i(166));return ue(r),null}if(p=dt.current,mo(r))N0(r);else{var v=Uh(ct.current);switch(p){case 1:p=v.createElementNS("http://www.w3.org/2000/svg",g);break;case 2:p=v.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;default:switch(g){case"svg":p=v.createElementNS("http://www.w3.org/2000/svg",g);break;case"math":p=v.createElementNS("http://www.w3.org/1998/Math/MathML",g);break;case"script":p=v.createElement("div"),p.innerHTML="<script><\/script>",p=p.removeChild(p.firstChild);break;case"select":p=typeof u.is=="string"?v.createElement("select",{is:u.is}):v.createElement("select"),u.multiple?p.multiple=!0:u.size&&(p.size=u.size);break;default:p=typeof u.is=="string"?v.createElement(g,{is:u.is}):v.createElement(g)}}p[Ie]=r,p[Fe]=u;t:for(v=r.child;v!==null;){if(v.tag===5||v.tag===6)p.appendChild(v.stateNode);else if(v.tag!==4&&v.tag!==27&&v.child!==null){v.child.return=v,v=v.child;continue}if(v===r)break t;for(;v.sibling===null;){if(v.return===null||v.return===r)break t;v=v.return}v.sibling.return=v.return,v=v.sibling}r.stateNode=p;t:switch(tn(p,g,u),g){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break t;case"img":u=!0;break t;default:u=!1}u&&_s(r)}}return ue(r),Gm(r,r.type,s===null?null:s.memoizedProps,r.pendingProps,l),null;case 6:if(s&&r.stateNode!=null)s.memoizedProps!==u&&_s(r);else{if(typeof u!="string"&&r.stateNode===null)throw Error(i(166));if(s=ct.current,mo(r)){if(s=r.stateNode,l=r.memoizedProps,u=null,g=We,g!==null)switch(g.tag){case 27:case 5:u=g.memoizedProps}s[Ie]=r,s=!!(s.nodeValue===l||u!==null&&u.suppressHydrationWarning===!0||Qb(s.nodeValue,l)),s||er(r,!0)}else s=Uh(s).createTextNode(u),s[Ie]=r,r.stateNode=s}return ue(r),null;case 31:if(l=r.memoizedState,s===null||s.memoizedState!==null){if(u=mo(r),l!==null){if(s===null){if(!u)throw Error(i(318));if(s=r.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(557));s[Ie]=r}else ga(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ue(r),s=!1}else l=em(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=l),s=!0;if(!s)return r.flags&256?(On(r),r):(On(r),null);if((r.flags&128)!==0)throw Error(i(558))}return ue(r),null;case 13:if(u=r.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(g=mo(r),u!==null&&u.dehydrated!==null){if(s===null){if(!g)throw Error(i(318));if(g=r.memoizedState,g=g!==null?g.dehydrated:null,!g)throw Error(i(317));g[Ie]=r}else ga(),(r.flags&128)===0&&(r.memoizedState=null),r.flags|=4;ue(r),g=!1}else g=em(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=g),g=!0;if(!g)return r.flags&256?(On(r),r):(On(r),null)}return On(r),(r.flags&128)!==0?(r.lanes=l,r):(l=u!==null,s=s!==null&&s.memoizedState!==null,l&&(u=r.child,g=null,u.alternate!==null&&u.alternate.memoizedState!==null&&u.alternate.memoizedState.cachePool!==null&&(g=u.alternate.memoizedState.cachePool.pool),p=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(p=u.memoizedState.cachePool.pool),p!==g&&(u.flags|=2048)),l!==s&&l&&(r.child.flags|=8192),wh(r,r.updateQueue),ue(r),null);case 4:return Nt(),s===null&&dg(r.stateNode.containerInfo),ue(r),null;case 10:return ms(r.type),ue(r),null;case 19:if(W(Ee),u=r.memoizedState,u===null)return ue(r),null;if(g=(r.flags&128)!==0,p=u.rendering,p===null)if(g)tc(u,!1);else{if(_e!==0||s!==null&&(s.flags&128)!==0)for(s=r.child;s!==null;){if(p=fh(s),p!==null){for(r.flags|=128,tc(u,!1),s=p.updateQueue,r.updateQueue=s,wh(r,s),r.subtreeFlags=0,s=l,l=r.child;l!==null;)C0(l,s),l=l.sibling;return ut(Ee,Ee.current&1|2),Ft&&fs(r,u.treeForkCount),r.child}s=s.sibling}u.tail!==null&&mn()>kh&&(r.flags|=128,g=!0,tc(u,!1),r.lanes=4194304)}else{if(!g)if(s=fh(p),s!==null){if(r.flags|=128,g=!0,s=s.updateQueue,r.updateQueue=s,wh(r,s),tc(u,!0),u.tail===null&&u.tailMode==="hidden"&&!p.alternate&&!Ft)return ue(r),null}else 2*mn()-u.renderingStartTime>kh&&l!==536870912&&(r.flags|=128,g=!0,tc(u,!1),r.lanes=4194304);u.isBackwards?(p.sibling=r.child,r.child=p):(s=u.last,s!==null?s.sibling=p:r.child=p,u.last=p)}return u.tail!==null?(s=u.tail,u.rendering=s,u.tail=s.sibling,u.renderingStartTime=mn(),s.sibling=null,l=Ee.current,ut(Ee,g?l&1|2:l&1),Ft&&fs(r,u.treeForkCount),s):(ue(r),null);case 22:case 23:return On(r),mm(),u=r.memoizedState!==null,s!==null?s.memoizedState!==null!==u&&(r.flags|=8192):u&&(r.flags|=8192),u?(l&536870912)!==0&&(r.flags&128)===0&&(ue(r),r.subtreeFlags&6&&(r.flags|=8192)):ue(r),l=r.updateQueue,l!==null&&wh(r,l.retryQueue),l=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),u=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(u=r.memoizedState.cachePool.pool),u!==l&&(r.flags|=2048),s!==null&&W(_a),null;case 24:return l=null,s!==null&&(l=s.memoizedState.cache),r.memoizedState.cache!==l&&(r.flags|=2048),ms(Ne),ue(r),null;case 25:return null;case 30:return null}throw Error(i(156,r.tag))}function GA(s,r){switch(Jd(r),r.tag){case 1:return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 3:return ms(Ne),Nt(),s=r.flags,(s&65536)!==0&&(s&128)===0?(r.flags=s&-65537|128,r):null;case 26:case 27:case 5:return Us(r),null;case 31:if(r.memoizedState!==null){if(On(r),r.alternate===null)throw Error(i(340));ga()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 13:if(On(r),s=r.memoizedState,s!==null&&s.dehydrated!==null){if(r.alternate===null)throw Error(i(340));ga()}return s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 19:return W(Ee),null;case 4:return Nt(),null;case 10:return ms(r.type),null;case 22:case 23:return On(r),mm(),s!==null&&W(_a),s=r.flags,s&65536?(r.flags=s&-65537|128,r):null;case 24:return ms(Ne),null;case 25:return null;default:return null}}function tb(s,r){switch(Jd(r),r.tag){case 3:ms(Ne),Nt();break;case 26:case 27:case 5:Us(r);break;case 4:Nt();break;case 31:r.memoizedState!==null&&On(r);break;case 13:On(r);break;case 19:W(Ee);break;case 10:ms(r.type);break;case 22:case 23:On(r),mm(),s!==null&&W(_a);break;case 24:ms(Ne)}}function ec(s,r){try{var l=r.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var g=u.next;l=g;do{if((l.tag&s)===s){u=void 0;var p=l.create,v=l.inst;u=p(),v.destroy=u}l=l.next}while(l!==g)}}catch(S){te(r,r.return,S)}}function lr(s,r,l){try{var u=r.updateQueue,g=u!==null?u.lastEffect:null;if(g!==null){var p=g.next;u=p;do{if((u.tag&s)===s){var v=u.inst,S=v.destroy;if(S!==void 0){v.destroy=void 0,g=r;var V=l,G=S;try{G()}catch(Z){te(g,V,Z)}}}u=u.next}while(u!==p)}}catch(Z){te(r,r.return,Z)}}function eb(s){var r=s.updateQueue;if(r!==null){var l=s.stateNode;try{G0(r,l)}catch(u){te(s,s.return,u)}}}function nb(s,r,l){l.props=xa(s.type,s.memoizedProps),l.state=s.memoizedState;try{l.componentWillUnmount()}catch(u){te(s,r,u)}}function nc(s,r){try{var l=s.ref;if(l!==null){switch(s.tag){case 26:case 27:case 5:var u=s.stateNode;break;case 30:u=s.stateNode;break;default:u=s.stateNode}typeof l=="function"?s.refCleanup=l(u):l.current=u}}catch(g){te(s,r,g)}}function Gi(s,r){var l=s.ref,u=s.refCleanup;if(l!==null)if(typeof u=="function")try{u()}catch(g){te(s,r,g)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof l=="function")try{l(null)}catch(g){te(s,r,g)}else l.current=null}function ib(s){var r=s.type,l=s.memoizedProps,u=s.stateNode;try{t:switch(r){case"button":case"input":case"select":case"textarea":l.autoFocus&&u.focus();break t;case"img":l.src?u.src=l.src:l.srcSet&&(u.srcset=l.srcSet)}}catch(g){te(s,s.return,g)}}function Ym(s,r,l){try{var u=s.stateNode;d2(u,s.type,l,r),u[Fe]=r}catch(g){te(s,s.return,g)}}function sb(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&gr(s.type)||s.tag===4}function Km(s){t:for(;;){for(;s.sibling===null;){if(s.return===null||sb(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&gr(s.type)||s.flags&2||s.child===null||s.tag===4)continue t;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function $m(s,r,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,r?(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l).insertBefore(s,r):(r=l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,r.appendChild(s),l=l._reactRootContainer,l!=null||r.onclick!==null||(r.onclick=hi));else if(u!==4&&(u===27&&gr(s.type)&&(l=s.stateNode,r=null),s=s.child,s!==null))for($m(s,r,l),s=s.sibling;s!==null;)$m(s,r,l),s=s.sibling}function Ah(s,r,l){var u=s.tag;if(u===5||u===6)s=s.stateNode,r?l.insertBefore(s,r):l.appendChild(s);else if(u!==4&&(u===27&&gr(s.type)&&(l=s.stateNode),s=s.child,s!==null))for(Ah(s,r,l),s=s.sibling;s!==null;)Ah(s,r,l),s=s.sibling}function rb(s){var r=s.stateNode,l=s.memoizedProps;try{for(var u=s.type,g=r.attributes;g.length;)r.removeAttributeNode(g[0]);tn(r,u,l),r[Ie]=s,r[Fe]=l}catch(p){te(s,s.return,p)}}var bs=!1,ze=!1,Qm=!1,ab=typeof WeakSet=="function"?WeakSet:Set,Ge=null;function YA(s,r){if(s=s.containerInfo,pg=Kh,s=_0(s),Hd(s)){if("selectionStart"in s)var l={start:s.selectionStart,end:s.selectionEnd};else t:{l=(l=s.ownerDocument)&&l.defaultView||window;var u=l.getSelection&&l.getSelection();if(u&&u.rangeCount!==0){l=u.anchorNode;var g=u.anchorOffset,p=u.focusNode;u=u.focusOffset;try{l.nodeType,p.nodeType}catch{l=null;break t}var v=0,S=-1,V=-1,G=0,Z=0,st=s,Y=null;e:for(;;){for(var $;st!==l||g!==0&&st.nodeType!==3||(S=v+g),st!==p||u!==0&&st.nodeType!==3||(V=v+u),st.nodeType===3&&(v+=st.nodeValue.length),($=st.firstChild)!==null;)Y=st,st=$;for(;;){if(st===s)break e;if(Y===l&&++G===g&&(S=v),Y===p&&++Z===u&&(V=v),($=st.nextSibling)!==null)break;st=Y,Y=st.parentNode}st=$}l=S===-1||V===-1?null:{start:S,end:V}}else l=null}l=l||{start:0,end:0}}else l=null;for(yg={focusedElem:s,selectionRange:l},Kh=!1,Ge=r;Ge!==null;)if(r=Ge,s=r.child,(r.subtreeFlags&1028)!==0&&s!==null)s.return=r,Ge=s;else for(;Ge!==null;){switch(r=Ge,p=r.alternate,s=r.flags,r.tag){case 0:if((s&4)!==0&&(s=r.updateQueue,s=s!==null?s.events:null,s!==null))for(l=0;l<s.length;l++)g=s[l],g.ref.impl=g.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&p!==null){s=void 0,l=r,g=p.memoizedProps,p=p.memoizedState,u=l.stateNode;try{var bt=xa(l.type,g);s=u.getSnapshotBeforeUpdate(bt,p),u.__reactInternalSnapshotBeforeUpdate=s}catch(xt){te(l,l.return,xt)}}break;case 3:if((s&1024)!==0){if(s=r.stateNode.containerInfo,l=s.nodeType,l===9)vg(s);else if(l===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":vg(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=r.sibling,s!==null){s.return=r.return,Ge=s;break}Ge=r.return}}function ob(s,r,l){var u=l.flags;switch(l.tag){case 0:case 11:case 15:Ts(s,l),u&4&&ec(5,l);break;case 1:if(Ts(s,l),u&4)if(s=l.stateNode,r===null)try{s.componentDidMount()}catch(v){te(l,l.return,v)}else{var g=xa(l.type,r.memoizedProps);r=r.memoizedState;try{s.componentDidUpdate(g,r,s.__reactInternalSnapshotBeforeUpdate)}catch(v){te(l,l.return,v)}}u&64&&eb(l),u&512&&nc(l,l.return);break;case 3:if(Ts(s,l),u&64&&(s=l.updateQueue,s!==null)){if(r=null,l.child!==null)switch(l.child.tag){case 27:case 5:r=l.child.stateNode;break;case 1:r=l.child.stateNode}try{G0(s,r)}catch(v){te(l,l.return,v)}}break;case 27:r===null&&u&4&&rb(l);case 26:case 5:Ts(s,l),r===null&&u&4&&ib(l),u&512&&nc(l,l.return);break;case 12:Ts(s,l);break;case 31:Ts(s,l),u&4&&ub(s,l);break;case 13:Ts(s,l),u&4&&hb(s,l),u&64&&(s=l.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(l=e2.bind(null,l),T2(s,l))));break;case 22:if(u=l.memoizedState!==null||bs,!u){r=r!==null&&r.memoizedState!==null||ze,g=bs;var p=ze;bs=u,(ze=r)&&!p?Es(s,l,(l.subtreeFlags&8772)!==0):Ts(s,l),bs=g,ze=p}break;case 30:break;default:Ts(s,l)}}function lb(s){var r=s.alternate;r!==null&&(s.alternate=null,lb(r)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(r=s.stateNode,r!==null&&Xa(r)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var me=null,vn=!1;function vs(s,r,l){for(l=l.child;l!==null;)cb(s,r,l),l=l.sibling}function cb(s,r,l){if(Qe&&typeof Qe.onCommitFiberUnmount=="function")try{Qe.onCommitFiberUnmount(oi,l)}catch{}switch(l.tag){case 26:ze||Gi(l,r),vs(s,r,l),l.memoizedState?l.memoizedState.count--:l.stateNode&&(l=l.stateNode,l.parentNode.removeChild(l));break;case 27:ze||Gi(l,r);var u=me,g=vn;gr(l.type)&&(me=l.stateNode,vn=!1),vs(s,r,l),hc(l.stateNode),me=u,vn=g;break;case 5:ze||Gi(l,r);case 6:if(u=me,g=vn,me=null,vs(s,r,l),me=u,vn=g,me!==null)if(vn)try{(me.nodeType===9?me.body:me.nodeName==="HTML"?me.ownerDocument.body:me).removeChild(l.stateNode)}catch(p){te(l,r,p)}else try{me.removeChild(l.stateNode)}catch(p){te(l,r,p)}break;case 18:me!==null&&(vn?(s=me,ev(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,l.stateNode),zo(s)):ev(me,l.stateNode));break;case 4:u=me,g=vn,me=l.stateNode.containerInfo,vn=!0,vs(s,r,l),me=u,vn=g;break;case 0:case 11:case 14:case 15:lr(2,l,r),ze||lr(4,l,r),vs(s,r,l);break;case 1:ze||(Gi(l,r),u=l.stateNode,typeof u.componentWillUnmount=="function"&&nb(l,r,u)),vs(s,r,l);break;case 21:vs(s,r,l);break;case 22:ze=(u=ze)||l.memoizedState!==null,vs(s,r,l),ze=u;break;default:vs(s,r,l)}}function ub(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{zo(s)}catch(l){te(r,r.return,l)}}}function hb(s,r){if(r.memoizedState===null&&(s=r.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{zo(s)}catch(l){te(r,r.return,l)}}function KA(s){switch(s.tag){case 31:case 13:case 19:var r=s.stateNode;return r===null&&(r=s.stateNode=new ab),r;case 22:return s=s.stateNode,r=s._retryCache,r===null&&(r=s._retryCache=new ab),r;default:throw Error(i(435,s.tag))}}function Ch(s,r){var l=KA(s);r.forEach(function(u){if(!l.has(u)){l.add(u);var g=n2.bind(null,s,u);u.then(g,g)}})}function Tn(s,r){var l=r.deletions;if(l!==null)for(var u=0;u<l.length;u++){var g=l[u],p=s,v=r,S=v;t:for(;S!==null;){switch(S.tag){case 27:if(gr(S.type)){me=S.stateNode,vn=!1;break t}break;case 5:me=S.stateNode,vn=!1;break t;case 3:case 4:me=S.stateNode.containerInfo,vn=!0;break t}S=S.return}if(me===null)throw Error(i(160));cb(p,v,g),me=null,vn=!1,p=g.alternate,p!==null&&(p.return=null),g.return=null}if(r.subtreeFlags&13886)for(r=r.child;r!==null;)fb(r,s),r=r.sibling}var yi=null;function fb(s,r){var l=s.alternate,u=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:Tn(r,s),En(s),u&4&&(lr(3,s,s.return),ec(3,s),lr(5,s,s.return));break;case 1:Tn(r,s),En(s),u&512&&(ze||l===null||Gi(l,l.return)),u&64&&bs&&(s=s.updateQueue,s!==null&&(u=s.callbacks,u!==null&&(l=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=l===null?u:l.concat(u))));break;case 26:var g=yi;if(Tn(r,s),En(s),u&512&&(ze||l===null||Gi(l,l.return)),u&4){var p=l!==null?l.memoizedState:null;if(u=s.memoizedState,l===null)if(u===null)if(s.stateNode===null){t:{u=s.type,l=s.memoizedProps,g=g.ownerDocument||g;e:switch(u){case"title":p=g.getElementsByTagName("title")[0],(!p||p[Di]||p[Ie]||p.namespaceURI==="http://www.w3.org/2000/svg"||p.hasAttribute("itemprop"))&&(p=g.createElement(u),g.head.insertBefore(p,g.querySelector("head > title"))),tn(p,u,l),p[Ie]=s,ke(p),u=p;break t;case"link":var v=fv("link","href",g).get(u+(l.href||""));if(v){for(var S=0;S<v.length;S++)if(p=v[S],p.getAttribute("href")===(l.href==null||l.href===""?null:l.href)&&p.getAttribute("rel")===(l.rel==null?null:l.rel)&&p.getAttribute("title")===(l.title==null?null:l.title)&&p.getAttribute("crossorigin")===(l.crossOrigin==null?null:l.crossOrigin)){v.splice(S,1);break e}}p=g.createElement(u),tn(p,u,l),g.head.appendChild(p);break;case"meta":if(v=fv("meta","content",g).get(u+(l.content||""))){for(S=0;S<v.length;S++)if(p=v[S],p.getAttribute("content")===(l.content==null?null:""+l.content)&&p.getAttribute("name")===(l.name==null?null:l.name)&&p.getAttribute("property")===(l.property==null?null:l.property)&&p.getAttribute("http-equiv")===(l.httpEquiv==null?null:l.httpEquiv)&&p.getAttribute("charset")===(l.charSet==null?null:l.charSet)){v.splice(S,1);break e}}p=g.createElement(u),tn(p,u,l),g.head.appendChild(p);break;default:throw Error(i(468,u))}p[Ie]=s,ke(p),u=p}s.stateNode=u}else dv(g,s.type,s.stateNode);else s.stateNode=hv(g,u,s.memoizedProps);else p!==u?(p===null?l.stateNode!==null&&(l=l.stateNode,l.parentNode.removeChild(l)):p.count--,u===null?dv(g,s.type,s.stateNode):hv(g,u,s.memoizedProps)):u===null&&s.stateNode!==null&&Ym(s,s.memoizedProps,l.memoizedProps)}break;case 27:Tn(r,s),En(s),u&512&&(ze||l===null||Gi(l,l.return)),l!==null&&u&4&&Ym(s,s.memoizedProps,l.memoizedProps);break;case 5:if(Tn(r,s),En(s),u&512&&(ze||l===null||Gi(l,l.return)),s.flags&32){g=s.stateNode;try{bn(g,"")}catch(bt){te(s,s.return,bt)}}u&4&&s.stateNode!=null&&(g=s.memoizedProps,Ym(s,g,l!==null?l.memoizedProps:g)),u&1024&&(Qm=!0);break;case 6:if(Tn(r,s),En(s),u&4){if(s.stateNode===null)throw Error(i(162));u=s.memoizedProps,l=s.stateNode;try{l.nodeValue=u}catch(bt){te(s,s.return,bt)}}break;case 3:if(Fh=null,g=yi,yi=Bh(r.containerInfo),Tn(r,s),yi=g,En(s),u&4&&l!==null&&l.memoizedState.isDehydrated)try{zo(r.containerInfo)}catch(bt){te(s,s.return,bt)}Qm&&(Qm=!1,db(s));break;case 4:u=yi,yi=Bh(s.stateNode.containerInfo),Tn(r,s),En(s),yi=u;break;case 12:Tn(r,s),En(s);break;case 31:Tn(r,s),En(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Ch(s,u)));break;case 13:Tn(r,s),En(s),s.child.flags&8192&&s.memoizedState!==null!=(l!==null&&l.memoizedState!==null)&&(Ih=mn()),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Ch(s,u)));break;case 22:g=s.memoizedState!==null;var V=l!==null&&l.memoizedState!==null,G=bs,Z=ze;if(bs=G||g,ze=Z||V,Tn(r,s),ze=Z,bs=G,En(s),u&8192)t:for(r=s.stateNode,r._visibility=g?r._visibility&-2:r._visibility|1,g&&(l===null||V||bs||ze||Sa(s)),l=null,r=s;;){if(r.tag===5||r.tag===26){if(l===null){V=l=r;try{if(p=V.stateNode,g)v=p.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none";else{S=V.stateNode;var st=V.memoizedProps.style,Y=st!=null&&st.hasOwnProperty("display")?st.display:null;S.style.display=Y==null||typeof Y=="boolean"?"":(""+Y).trim()}}catch(bt){te(V,V.return,bt)}}}else if(r.tag===6){if(l===null){V=r;try{V.stateNode.nodeValue=g?"":V.memoizedProps}catch(bt){te(V,V.return,bt)}}}else if(r.tag===18){if(l===null){V=r;try{var $=V.stateNode;g?nv($,!0):nv(V.stateNode,!1)}catch(bt){te(V,V.return,bt)}}}else if((r.tag!==22&&r.tag!==23||r.memoizedState===null||r===s)&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===s)break t;for(;r.sibling===null;){if(r.return===null||r.return===s)break t;l===r&&(l=null),r=r.return}l===r&&(l=null),r.sibling.return=r.return,r=r.sibling}u&4&&(u=s.updateQueue,u!==null&&(l=u.retryQueue,l!==null&&(u.retryQueue=null,Ch(s,l))));break;case 19:Tn(r,s),En(s),u&4&&(u=s.updateQueue,u!==null&&(s.updateQueue=null,Ch(s,u)));break;case 30:break;case 21:break;default:Tn(r,s),En(s)}}function En(s){var r=s.flags;if(r&2){try{for(var l,u=s.return;u!==null;){if(sb(u)){l=u;break}u=u.return}if(l==null)throw Error(i(160));switch(l.tag){case 27:var g=l.stateNode,p=Km(s);Ah(s,p,g);break;case 5:var v=l.stateNode;l.flags&32&&(bn(v,""),l.flags&=-33);var S=Km(s);Ah(s,S,v);break;case 3:case 4:var V=l.stateNode.containerInfo,G=Km(s);$m(s,G,V);break;default:throw Error(i(161))}}catch(Z){te(s,s.return,Z)}s.flags&=-3}r&4096&&(s.flags&=-4097)}function db(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var r=s;db(r),r.tag===5&&r.flags&1024&&r.stateNode.reset(),s=s.sibling}}function Ts(s,r){if(r.subtreeFlags&8772)for(r=r.child;r!==null;)ob(s,r.alternate,r),r=r.sibling}function Sa(s){for(s=s.child;s!==null;){var r=s;switch(r.tag){case 0:case 11:case 14:case 15:lr(4,r,r.return),Sa(r);break;case 1:Gi(r,r.return);var l=r.stateNode;typeof l.componentWillUnmount=="function"&&nb(r,r.return,l),Sa(r);break;case 27:hc(r.stateNode);case 26:case 5:Gi(r,r.return),Sa(r);break;case 22:r.memoizedState===null&&Sa(r);break;case 30:Sa(r);break;default:Sa(r)}s=s.sibling}}function Es(s,r,l){for(l=l&&(r.subtreeFlags&8772)!==0,r=r.child;r!==null;){var u=r.alternate,g=s,p=r,v=p.flags;switch(p.tag){case 0:case 11:case 15:Es(g,p,l),ec(4,p);break;case 1:if(Es(g,p,l),u=p,g=u.stateNode,typeof g.componentDidMount=="function")try{g.componentDidMount()}catch(G){te(u,u.return,G)}if(u=p,g=u.updateQueue,g!==null){var S=u.stateNode;try{var V=g.shared.hiddenCallbacks;if(V!==null)for(g.shared.hiddenCallbacks=null,g=0;g<V.length;g++)q0(V[g],S)}catch(G){te(u,u.return,G)}}l&&v&64&&eb(p),nc(p,p.return);break;case 27:rb(p);case 26:case 5:Es(g,p,l),l&&u===null&&v&4&&ib(p),nc(p,p.return);break;case 12:Es(g,p,l);break;case 31:Es(g,p,l),l&&v&4&&ub(g,p);break;case 13:Es(g,p,l),l&&v&4&&hb(g,p);break;case 22:p.memoizedState===null&&Es(g,p,l),nc(p,p.return);break;case 30:break;default:Es(g,p,l)}r=r.sibling}}function Xm(s,r){var l=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(l=s.memoizedState.cachePool.pool),s=null,r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(s=r.memoizedState.cachePool.pool),s!==l&&(s!=null&&s.refCount++,l!=null&&Hl(l))}function Wm(s,r){s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&Hl(s))}function _i(s,r,l,u){if(r.subtreeFlags&10256)for(r=r.child;r!==null;)mb(s,r,l,u),r=r.sibling}function mb(s,r,l,u){var g=r.flags;switch(r.tag){case 0:case 11:case 15:_i(s,r,l,u),g&2048&&ec(9,r);break;case 1:_i(s,r,l,u);break;case 3:_i(s,r,l,u),g&2048&&(s=null,r.alternate!==null&&(s=r.alternate.memoizedState.cache),r=r.memoizedState.cache,r!==s&&(r.refCount++,s!=null&&Hl(s)));break;case 12:if(g&2048){_i(s,r,l,u),s=r.stateNode;try{var p=r.memoizedProps,v=p.id,S=p.onPostCommit;typeof S=="function"&&S(v,r.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(V){te(r,r.return,V)}}else _i(s,r,l,u);break;case 31:_i(s,r,l,u);break;case 13:_i(s,r,l,u);break;case 23:break;case 22:p=r.stateNode,v=r.alternate,r.memoizedState!==null?p._visibility&2?_i(s,r,l,u):ic(s,r):p._visibility&2?_i(s,r,l,u):(p._visibility|=2,So(s,r,l,u,(r.subtreeFlags&10256)!==0||!1)),g&2048&&Xm(v,r);break;case 24:_i(s,r,l,u),g&2048&&Wm(r.alternate,r);break;default:_i(s,r,l,u)}}function So(s,r,l,u,g){for(g=g&&((r.subtreeFlags&10256)!==0||!1),r=r.child;r!==null;){var p=s,v=r,S=l,V=u,G=v.flags;switch(v.tag){case 0:case 11:case 15:So(p,v,S,V,g),ec(8,v);break;case 23:break;case 22:var Z=v.stateNode;v.memoizedState!==null?Z._visibility&2?So(p,v,S,V,g):ic(p,v):(Z._visibility|=2,So(p,v,S,V,g)),g&&G&2048&&Xm(v.alternate,v);break;case 24:So(p,v,S,V,g),g&&G&2048&&Wm(v.alternate,v);break;default:So(p,v,S,V,g)}r=r.sibling}}function ic(s,r){if(r.subtreeFlags&10256)for(r=r.child;r!==null;){var l=s,u=r,g=u.flags;switch(u.tag){case 22:ic(l,u),g&2048&&Xm(u.alternate,u);break;case 24:ic(l,u),g&2048&&Wm(u.alternate,u);break;default:ic(l,u)}r=r.sibling}}var sc=8192;function wo(s,r,l){if(s.subtreeFlags&sc)for(s=s.child;s!==null;)gb(s,r,l),s=s.sibling}function gb(s,r,l){switch(s.tag){case 26:wo(s,r,l),s.flags&sc&&s.memoizedState!==null&&M2(l,yi,s.memoizedState,s.memoizedProps);break;case 5:wo(s,r,l);break;case 3:case 4:var u=yi;yi=Bh(s.stateNode.containerInfo),wo(s,r,l),yi=u;break;case 22:s.memoizedState===null&&(u=s.alternate,u!==null&&u.memoizedState!==null?(u=sc,sc=16777216,wo(s,r,l),sc=u):wo(s,r,l));break;default:wo(s,r,l)}}function pb(s){var r=s.alternate;if(r!==null&&(s=r.child,s!==null)){r.child=null;do r=s.sibling,s.sibling=null,s=r;while(s!==null)}}function rc(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var u=r[l];Ge=u,_b(u,s)}pb(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)yb(s),s=s.sibling}function yb(s){switch(s.tag){case 0:case 11:case 15:rc(s),s.flags&2048&&lr(9,s,s.return);break;case 3:rc(s);break;case 12:rc(s);break;case 22:var r=s.stateNode;s.memoizedState!==null&&r._visibility&2&&(s.return===null||s.return.tag!==13)?(r._visibility&=-3,Rh(s)):rc(s);break;default:rc(s)}}function Rh(s){var r=s.deletions;if((s.flags&16)!==0){if(r!==null)for(var l=0;l<r.length;l++){var u=r[l];Ge=u,_b(u,s)}pb(s)}for(s=s.child;s!==null;){switch(r=s,r.tag){case 0:case 11:case 15:lr(8,r,r.return),Rh(r);break;case 22:l=r.stateNode,l._visibility&2&&(l._visibility&=-3,Rh(r));break;default:Rh(r)}s=s.sibling}}function _b(s,r){for(;Ge!==null;){var l=Ge;switch(l.tag){case 0:case 11:case 15:lr(8,l,r);break;case 23:case 22:if(l.memoizedState!==null&&l.memoizedState.cachePool!==null){var u=l.memoizedState.cachePool.pool;u!=null&&u.refCount++}break;case 24:Hl(l.memoizedState.cache)}if(u=l.child,u!==null)u.return=l,Ge=u;else t:for(l=s;Ge!==null;){u=Ge;var g=u.sibling,p=u.return;if(lb(u),u===l){Ge=null;break t}if(g!==null){g.return=p,Ge=g;break t}Ge=p}}}var $A={getCacheForType:function(s){var r=Ze(Ne),l=r.data.get(s);return l===void 0&&(l=s(),r.data.set(s,l)),l},cacheSignal:function(){return Ze(Ne).controller.signal}},QA=typeof WeakMap=="function"?WeakMap:Map,Xt=0,ae=null,Vt=null,Lt=0,Jt=0,zn=null,cr=!1,Ao=!1,Zm=!1,xs=0,_e=0,ur=0,wa=0,Jm=0,Vn=0,Co=0,ac=null,xn=null,tg=!1,Ih=0,bb=0,kh=1/0,Dh=null,hr=null,Ue=0,fr=null,Ro=null,Ss=0,eg=0,ng=null,vb=null,oc=0,ig=null;function Pn(){return(Xt&2)!==0&&Lt!==0?Lt&-Lt:H.T!==null?cg():Nu()}function Tb(){if(Vn===0)if((Lt&536870912)===0||Ft){var s=Zr;Zr<<=1,(Zr&3932160)===0&&(Zr=262144),Vn=s}else Vn=536870912;return s=Mn.current,s!==null&&(s.flags|=32),Vn}function Sn(s,r,l){(s===ae&&(Jt===2||Jt===9)||s.cancelPendingCommit!==null)&&(Io(s,0),dr(s,Lt,Vn,!1)),Jr(s,l),((Xt&2)===0||s!==ae)&&(s===ae&&((Xt&2)===0&&(wa|=l),_e===4&&dr(s,Lt,Vn,!1)),Yi(s))}function Eb(s,r,l){if((Xt&6)!==0)throw Error(i(327));var u=!l&&(r&127)===0&&(r&s.expiredLanes)===0||li(s,r),g=u?ZA(s,r):rg(s,r,!0),p=u;do{if(g===0){Ao&&!u&&dr(s,r,0,!1);break}else{if(l=s.current.alternate,p&&!XA(l)){g=rg(s,r,!1),p=!1;continue}if(g===2){if(p=r,s.errorRecoveryDisabledLanes&p)var v=0;else v=s.pendingLanes&-536870913,v=v!==0?v:v&536870912?536870912:0;if(v!==0){r=v;t:{var S=s;g=ac;var V=S.current.memoizedState.isDehydrated;if(V&&(Io(S,v).flags|=256),v=rg(S,v,!1),v!==2){if(Zm&&!V){S.errorRecoveryDisabledLanes|=p,wa|=p,g=4;break t}p=xn,xn=g,p!==null&&(xn===null?xn=p:xn.push.apply(xn,p))}g=v}if(p=!1,g!==2)continue}}if(g===1){Io(s,0),dr(s,r,0,!0);break}t:{switch(u=s,p=g,p){case 0:case 1:throw Error(i(345));case 4:if((r&4194048)!==r)break;case 6:dr(u,r,Vn,!cr);break t;case 2:xn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((r&62914560)===r&&(g=Ih+300-mn(),10<g)){if(dr(u,r,Vn,!cr),Ri(u,0,!0)!==0)break t;Ss=r,u.timeoutHandle=Jb(xb.bind(null,u,l,xn,Dh,tg,r,Vn,wa,Co,cr,p,"Throttled",-0,0),g);break t}xb(u,l,xn,Dh,tg,r,Vn,wa,Co,cr,p,null,-0,0)}}break}while(!0);Yi(s)}function xb(s,r,l,u,g,p,v,S,V,G,Z,st,Y,$){if(s.timeoutHandle=-1,st=r.subtreeFlags,st&8192||(st&16785408)===16785408){st={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:hi},gb(r,p,st);var bt=(p&62914560)===p?Ih-mn():(p&4194048)===p?bb-mn():0;if(bt=O2(st,bt),bt!==null){Ss=p,s.cancelPendingCommit=bt(Db.bind(null,s,r,p,l,u,g,v,S,V,Z,st,null,Y,$)),dr(s,p,v,!G);return}}Db(s,r,p,l,u,g,v,S,V)}function XA(s){for(var r=s;;){var l=r.tag;if((l===0||l===11||l===15)&&r.flags&16384&&(l=r.updateQueue,l!==null&&(l=l.stores,l!==null)))for(var u=0;u<l.length;u++){var g=l[u],p=g.getSnapshot;g=g.value;try{if(!Dn(p(),g))return!1}catch{return!1}}if(l=r.child,r.subtreeFlags&16384&&l!==null)l.return=r,r=l;else{if(r===s)break;for(;r.sibling===null;){if(r.return===null||r.return===s)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function dr(s,r,l,u){r&=~Jm,r&=~wa,s.suspendedLanes|=r,s.pingedLanes&=~r,u&&(s.warmLanes|=r),u=s.expirationTimes;for(var g=r;0<g;){var p=31-ve(g),v=1<<p;u[p]=-1,g&=~v}l!==0&&ta(s,l,r)}function Nh(){return(Xt&6)===0?(lc(0),!1):!0}function sg(){if(Vt!==null){if(Jt===0)var s=Vt.return;else s=Vt,ds=pa=null,vm(s),bo=null,ql=0,s=Vt;for(;s!==null;)tb(s.alternate,s),s=s.return;Vt=null}}function Io(s,r){var l=s.timeoutHandle;l!==-1&&(s.timeoutHandle=-1,p2(l)),l=s.cancelPendingCommit,l!==null&&(s.cancelPendingCommit=null,l()),Ss=0,sg(),ae=s,Vt=l=hs(s.current,null),Lt=r,Jt=0,zn=null,cr=!1,Ao=li(s,r),Zm=!1,Co=Vn=Jm=wa=ur=_e=0,xn=ac=null,tg=!1,(r&8)!==0&&(r|=r&32);var u=s.entangledLanes;if(u!==0)for(s=s.entanglements,u&=r;0<u;){var g=31-ve(u),p=1<<g;r|=s[g],u&=~p}return xs=r,Ju(),l}function Sb(s,r){Ot=null,H.H=Zl,r===_o||r===oh?(r=U0(),Jt=3):r===lm?(r=U0(),Jt=4):Jt=r===Vm?8:r!==null&&typeof r=="object"&&typeof r.then=="function"?6:1,zn=r,Vt===null&&(_e=1,Th(s,Kn(r,s.current)))}function wb(){var s=Mn.current;return s===null?!0:(Lt&4194048)===Lt?Wn===null:(Lt&62914560)===Lt||(Lt&536870912)!==0?s===Wn:!1}function Ab(){var s=H.H;return H.H=Zl,s===null?Zl:s}function Cb(){var s=H.A;return H.A=$A,s}function Mh(){_e=4,cr||(Lt&4194048)!==Lt&&Mn.current!==null||(Ao=!0),(ur&134217727)===0&&(wa&134217727)===0||ae===null||dr(ae,Lt,Vn,!1)}function rg(s,r,l){var u=Xt;Xt|=2;var g=Ab(),p=Cb();(ae!==s||Lt!==r)&&(Dh=null,Io(s,r)),r=!1;var v=_e;t:do try{if(Jt!==0&&Vt!==null){var S=Vt,V=zn;switch(Jt){case 8:sg(),v=6;break t;case 3:case 2:case 9:case 6:Mn.current===null&&(r=!0);var G=Jt;if(Jt=0,zn=null,ko(s,S,V,G),l&&Ao){v=0;break t}break;default:G=Jt,Jt=0,zn=null,ko(s,S,V,G)}}WA(),v=_e;break}catch(Z){Sb(s,Z)}while(!0);return r&&s.shellSuspendCounter++,ds=pa=null,Xt=u,H.H=g,H.A=p,Vt===null&&(ae=null,Lt=0,Ju()),v}function WA(){for(;Vt!==null;)Rb(Vt)}function ZA(s,r){var l=Xt;Xt|=2;var u=Ab(),g=Cb();ae!==s||Lt!==r?(Dh=null,kh=mn()+500,Io(s,r)):Ao=li(s,r);t:do try{if(Jt!==0&&Vt!==null){r=Vt;var p=zn;e:switch(Jt){case 1:Jt=0,zn=null,ko(s,r,p,1);break;case 2:case 9:if(L0(p)){Jt=0,zn=null,Ib(r);break}r=function(){Jt!==2&&Jt!==9||ae!==s||(Jt=7),Yi(s)},p.then(r,r);break t;case 3:Jt=7;break t;case 4:Jt=5;break t;case 7:L0(p)?(Jt=0,zn=null,Ib(r)):(Jt=0,zn=null,ko(s,r,p,7));break;case 5:var v=null;switch(Vt.tag){case 26:v=Vt.memoizedState;case 5:case 27:var S=Vt;if(v?mv(v):S.stateNode.complete){Jt=0,zn=null;var V=S.sibling;if(V!==null)Vt=V;else{var G=S.return;G!==null?(Vt=G,Oh(G)):Vt=null}break e}}Jt=0,zn=null,ko(s,r,p,5);break;case 6:Jt=0,zn=null,ko(s,r,p,6);break;case 8:sg(),_e=6;break t;default:throw Error(i(462))}}JA();break}catch(Z){Sb(s,Z)}while(!0);return ds=pa=null,H.H=u,H.A=g,Xt=l,Vt!==null?0:(ae=null,Lt=0,Ju(),_e)}function JA(){for(;Vt!==null&&!zd();)Rb(Vt)}function Rb(s){var r=Z_(s.alternate,s,xs);s.memoizedProps=s.pendingProps,r===null?Oh(s):Vt=r}function Ib(s){var r=s,l=r.alternate;switch(r.tag){case 15:case 0:r=Y_(l,r,r.pendingProps,r.type,void 0,Lt);break;case 11:r=Y_(l,r,r.pendingProps,r.type.render,r.ref,Lt);break;case 5:vm(r);default:tb(l,r),r=Vt=C0(r,xs),r=Z_(l,r,xs)}s.memoizedProps=s.pendingProps,r===null?Oh(s):Vt=r}function ko(s,r,l,u){ds=pa=null,vm(r),bo=null,ql=0;var g=r.return;try{if(BA(s,g,r,l,Lt)){_e=1,Th(s,Kn(l,s.current)),Vt=null;return}}catch(p){if(g!==null)throw Vt=g,p;_e=1,Th(s,Kn(l,s.current)),Vt=null;return}r.flags&32768?(Ft||u===1?s=!0:Ao||(Lt&536870912)!==0?s=!1:(cr=s=!0,(u===2||u===9||u===3||u===6)&&(u=Mn.current,u!==null&&u.tag===13&&(u.flags|=16384))),kb(r,s)):Oh(r)}function Oh(s){var r=s;do{if((r.flags&32768)!==0){kb(r,cr);return}s=r.return;var l=qA(r.alternate,r,xs);if(l!==null){Vt=l;return}if(r=r.sibling,r!==null){Vt=r;return}Vt=r=s}while(r!==null);_e===0&&(_e=5)}function kb(s,r){do{var l=GA(s.alternate,s);if(l!==null){l.flags&=32767,Vt=l;return}if(l=s.return,l!==null&&(l.flags|=32768,l.subtreeFlags=0,l.deletions=null),!r&&(s=s.sibling,s!==null)){Vt=s;return}Vt=s=l}while(s!==null);_e=6,Vt=null}function Db(s,r,l,u,g,p,v,S,V){s.cancelPendingCommit=null;do zh();while(Ue!==0);if((Xt&6)!==0)throw Error(i(327));if(r!==null){if(r===s.current)throw Error(i(177));if(p=r.lanes|r.childLanes,p|=Kd,Ld(s,l,p,v,S,V),s===ae&&(Vt=ae=null,Lt=0),Ro=r,fr=s,Ss=l,eg=p,ng=g,vb=u,(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,i2(Fs,function(){return Vb(),null})):(s.callbackNode=null,s.callbackPriority=0),u=(r.flags&13878)!==0,(r.subtreeFlags&13878)!==0||u){u=H.T,H.T=null,g=ot.p,ot.p=2,v=Xt,Xt|=4;try{YA(s,r,l)}finally{Xt=v,ot.p=g,H.T=u}}Ue=1,Nb(),Mb(),Ob()}}function Nb(){if(Ue===1){Ue=0;var s=fr,r=Ro,l=(r.flags&13878)!==0;if((r.subtreeFlags&13878)!==0||l){l=H.T,H.T=null;var u=ot.p;ot.p=2;var g=Xt;Xt|=4;try{fb(r,s);var p=yg,v=_0(s.containerInfo),S=p.focusedElem,V=p.selectionRange;if(v!==S&&S&&S.ownerDocument&&y0(S.ownerDocument.documentElement,S)){if(V!==null&&Hd(S)){var G=V.start,Z=V.end;if(Z===void 0&&(Z=G),"selectionStart"in S)S.selectionStart=G,S.selectionEnd=Math.min(Z,S.value.length);else{var st=S.ownerDocument||document,Y=st&&st.defaultView||window;if(Y.getSelection){var $=Y.getSelection(),bt=S.textContent.length,xt=Math.min(V.start,bt),re=V.end===void 0?xt:Math.min(V.end,bt);!$.extend&&xt>re&&(v=re,re=xt,xt=v);var U=p0(S,xt),j=p0(S,re);if(U&&j&&($.rangeCount!==1||$.anchorNode!==U.node||$.anchorOffset!==U.offset||$.focusNode!==j.node||$.focusOffset!==j.offset)){var q=st.createRange();q.setStart(U.node,U.offset),$.removeAllRanges(),xt>re?($.addRange(q),$.extend(j.node,j.offset)):(q.setEnd(j.node,j.offset),$.addRange(q))}}}}for(st=[],$=S;$=$.parentNode;)$.nodeType===1&&st.push({element:$,left:$.scrollLeft,top:$.scrollTop});for(typeof S.focus=="function"&&S.focus(),S=0;S<st.length;S++){var tt=st[S];tt.element.scrollLeft=tt.left,tt.element.scrollTop=tt.top}}Kh=!!pg,yg=pg=null}finally{Xt=g,ot.p=u,H.T=l}}s.current=r,Ue=2}}function Mb(){if(Ue===2){Ue=0;var s=fr,r=Ro,l=(r.flags&8772)!==0;if((r.subtreeFlags&8772)!==0||l){l=H.T,H.T=null;var u=ot.p;ot.p=2;var g=Xt;Xt|=4;try{ob(s,r.alternate,r)}finally{Xt=g,ot.p=u,H.T=l}}Ue=3}}function Ob(){if(Ue===4||Ue===3){Ue=0,wu();var s=fr,r=Ro,l=Ss,u=vb;(r.subtreeFlags&10256)!==0||(r.flags&10256)!==0?Ue=5:(Ue=0,Ro=fr=null,zb(s,s.pendingLanes));var g=s.pendingLanes;if(g===0&&(hr=null),os(l),r=r.stateNode,Qe&&typeof Qe.onCommitFiberRoot=="function")try{Qe.onCommitFiberRoot(oi,r,void 0,(r.current.flags&128)===128)}catch{}if(u!==null){r=H.T,g=ot.p,ot.p=2,H.T=null;try{for(var p=s.onRecoverableError,v=0;v<u.length;v++){var S=u[v];p(S.value,{componentStack:S.stack})}}finally{H.T=r,ot.p=g}}(Ss&3)!==0&&zh(),Yi(s),g=s.pendingLanes,(l&261930)!==0&&(g&42)!==0?s===ig?oc++:(oc=0,ig=s):oc=0,lc(0)}}function zb(s,r){(s.pooledCacheLanes&=r)===0&&(r=s.pooledCache,r!=null&&(s.pooledCache=null,Hl(r)))}function zh(){return Nb(),Mb(),Ob(),Vb()}function Vb(){if(Ue!==5)return!1;var s=fr,r=eg;eg=0;var l=os(Ss),u=H.T,g=ot.p;try{ot.p=32>l?32:l,H.T=null,l=ng,ng=null;var p=fr,v=Ss;if(Ue=0,Ro=fr=null,Ss=0,(Xt&6)!==0)throw Error(i(331));var S=Xt;if(Xt|=4,yb(p.current),mb(p,p.current,v,l),Xt=S,lc(0,!1),Qe&&typeof Qe.onPostCommitFiberRoot=="function")try{Qe.onPostCommitFiberRoot(oi,p)}catch{}return!0}finally{ot.p=g,H.T=u,zb(s,r)}}function Pb(s,r,l){r=Kn(l,r),r=zm(s.stateNode,r,2),s=rr(s,r,2),s!==null&&(Jr(s,2),Yi(s))}function te(s,r,l){if(s.tag===3)Pb(s,s,l);else for(;r!==null;){if(r.tag===3){Pb(r,s,l);break}else if(r.tag===1){var u=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(hr===null||!hr.has(u))){s=Kn(l,s),l=L_(2),u=rr(r,l,2),u!==null&&(j_(l,u,r,s),Jr(u,2),Yi(u));break}}r=r.return}}function ag(s,r,l){var u=s.pingCache;if(u===null){u=s.pingCache=new QA;var g=new Set;u.set(r,g)}else g=u.get(r),g===void 0&&(g=new Set,u.set(r,g));g.has(l)||(Zm=!0,g.add(l),s=t2.bind(null,s,r,l),r.then(s,s))}function t2(s,r,l){var u=s.pingCache;u!==null&&u.delete(r),s.pingedLanes|=s.suspendedLanes&l,s.warmLanes&=~l,ae===s&&(Lt&l)===l&&(_e===4||_e===3&&(Lt&62914560)===Lt&&300>mn()-Ih?(Xt&2)===0&&Io(s,0):Jm|=l,Co===Lt&&(Co=0)),Yi(s)}function Lb(s,r){r===0&&(r=Du()),s=da(s,r),s!==null&&(Jr(s,r),Yi(s))}function e2(s){var r=s.memoizedState,l=0;r!==null&&(l=r.retryLane),Lb(s,l)}function n2(s,r){var l=0;switch(s.tag){case 31:case 13:var u=s.stateNode,g=s.memoizedState;g!==null&&(l=g.retryLane);break;case 19:u=s.stateNode;break;case 22:u=s.stateNode._retryCache;break;default:throw Error(i(314))}u!==null&&u.delete(r),Lb(s,l)}function i2(s,r){return je(s,r)}var Vh=null,Do=null,og=!1,Ph=!1,lg=!1,mr=0;function Yi(s){s!==Do&&s.next===null&&(Do===null?Vh=Do=s:Do=Do.next=s),Ph=!0,og||(og=!0,r2())}function lc(s,r){if(!lg&&Ph){lg=!0;do for(var l=!1,u=Vh;u!==null;){if(s!==0){var g=u.pendingLanes;if(g===0)var p=0;else{var v=u.suspendedLanes,S=u.pingedLanes;p=(1<<31-ve(42|s)+1)-1,p&=g&~(v&~S),p=p&201326741?p&201326741|1:p?p|2:0}p!==0&&(l=!0,Hb(u,p))}else p=Lt,p=Ri(u,u===ae?p:0,u.cancelPendingCommit!==null||u.timeoutHandle!==-1),(p&3)===0||li(u,p)||(l=!0,Hb(u,p));u=u.next}while(l);lg=!1}}function s2(){jb()}function jb(){Ph=og=!1;var s=0;mr!==0&&g2()&&(s=mr);for(var r=mn(),l=null,u=Vh;u!==null;){var g=u.next,p=Ub(u,r);p===0?(u.next=null,l===null?Vh=g:l.next=g,g===null&&(Do=l)):(l=u,(s!==0||(p&3)!==0)&&(Ph=!0)),u=g}Ue!==0&&Ue!==5||lc(s),mr!==0&&(mr=0)}function Ub(s,r){for(var l=s.suspendedLanes,u=s.pingedLanes,g=s.expirationTimes,p=s.pendingLanes&-62914561;0<p;){var v=31-ve(p),S=1<<v,V=g[v];V===-1?((S&l)===0||(S&u)!==0)&&(g[v]=Pd(S,r)):V<=r&&(s.expiredLanes|=S),p&=~S}if(r=ae,l=Lt,l=Ri(s,s===r?l:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u=s.callbackNode,l===0||s===r&&(Jt===2||Jt===9)||s.cancelPendingCommit!==null)return u!==null&&u!==null&&Hs(u),s.callbackNode=null,s.callbackPriority=0;if((l&3)===0||li(s,l)){if(r=l&-l,r===s.callbackPriority)return r;switch(u!==null&&Hs(u),os(l)){case 2:case 8:l=_l;break;case 32:l=Fs;break;case 268435456:l=Au;break;default:l=Fs}return u=Bb.bind(null,s),l=je(l,u),s.callbackPriority=r,s.callbackNode=l,r}return u!==null&&u!==null&&Hs(u),s.callbackPriority=2,s.callbackNode=null,2}function Bb(s,r){if(Ue!==0&&Ue!==5)return s.callbackNode=null,s.callbackPriority=0,null;var l=s.callbackNode;if(zh()&&s.callbackNode!==l)return null;var u=Lt;return u=Ri(s,s===ae?u:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),u===0?null:(Eb(s,u,r),Ub(s,mn()),s.callbackNode!=null&&s.callbackNode===l?Bb.bind(null,s):null)}function Hb(s,r){if(zh())return null;Eb(s,r,!0)}function r2(){y2(function(){(Xt&6)!==0?je(yl,s2):jb()})}function cg(){if(mr===0){var s=po;s===0&&(s=Ai,Ai<<=1,(Ai&261888)===0&&(Ai=256)),mr=s}return mr}function Fb(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:to(""+s)}function qb(s,r){var l=r.ownerDocument.createElement("input");return l.name=r.name,l.value=r.value,s.id&&l.setAttribute("form",s.id),r.parentNode.insertBefore(l,r),s=new FormData(s),l.parentNode.removeChild(l),s}function a2(s,r,l,u,g){if(r==="submit"&&l&&l.stateNode===g){var p=Fb((g[Fe]||null).action),v=u.submitter;v&&(r=(r=v[Fe]||null)?Fb(r.formAction):v.getAttribute("formAction"),r!==null&&(p=r,v=null));var S=new ji("action","action",null,u,g);s.push({event:S,listeners:[{instance:null,listener:function(){if(u.defaultPrevented){if(mr!==0){var V=v?qb(g,v):new FormData(g);Im(l,{pending:!0,data:V,method:g.method,action:p},null,V)}}else typeof p=="function"&&(S.preventDefault(),V=v?qb(g,v):new FormData(g),Im(l,{pending:!0,data:V,method:g.method,action:p},p,V))},currentTarget:g}]})}}for(var ug=0;ug<Yd.length;ug++){var hg=Yd[ug],o2=hg.toLowerCase(),l2=hg[0].toUpperCase()+hg.slice(1);pi(o2,"on"+l2)}pi(T0,"onAnimationEnd"),pi(E0,"onAnimationIteration"),pi(x0,"onAnimationStart"),pi("dblclick","onDoubleClick"),pi("focusin","onFocus"),pi("focusout","onBlur"),pi(SA,"onTransitionRun"),pi(wA,"onTransitionStart"),pi(AA,"onTransitionCancel"),pi(S0,"onTransitionEnd"),zi("onMouseEnter",["mouseout","mouseover"]),zi("onMouseLeave",["mouseout","mouseover"]),zi("onPointerEnter",["pointerout","pointerover"]),zi("onPointerLeave",["pointerout","pointerover"]),Oi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Oi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Oi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Oi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Oi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Oi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),c2=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(cc));function Gb(s,r){r=(r&4)!==0;for(var l=0;l<s.length;l++){var u=s[l],g=u.event;u=u.listeners;t:{var p=void 0;if(r)for(var v=u.length-1;0<=v;v--){var S=u[v],V=S.instance,G=S.currentTarget;if(S=S.listener,V!==p&&g.isPropagationStopped())break t;p=S,g.currentTarget=G;try{p(g)}catch(Z){Zu(Z)}g.currentTarget=null,p=V}else for(v=0;v<u.length;v++){if(S=u[v],V=S.instance,G=S.currentTarget,S=S.listener,V!==p&&g.isPropagationStopped())break t;p=S,g.currentTarget=G;try{p(g)}catch(Z){Zu(Z)}g.currentTarget=null,p=V}}}}function Pt(s,r){var l=r[Qa];l===void 0&&(l=r[Qa]=new Set);var u=s+"__bubble";l.has(u)||(Yb(r,s,2,!1),l.add(u))}function fg(s,r,l){var u=0;r&&(u|=4),Yb(l,s,u,r)}var Lh="_reactListening"+Math.random().toString(36).slice(2);function dg(s){if(!s[Lh]){s[Lh]=!0,Tl.forEach(function(l){l!=="selectionchange"&&(c2.has(l)||fg(l,!1,s),fg(l,!0,s))});var r=s.nodeType===9?s:s.ownerDocument;r===null||r[Lh]||(r[Lh]=!0,fg("selectionchange",!1,r))}}function Yb(s,r,l,u){switch(Tv(r)){case 2:var g=P2;break;case 8:g=L2;break;default:g=Rg}l=g.bind(null,r,l,s),g=void 0,!ra||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(g=!0),u?g!==void 0?s.addEventListener(r,l,{capture:!0,passive:g}):s.addEventListener(r,l,!0):g!==void 0?s.addEventListener(r,l,{passive:g}):s.addEventListener(r,l,!1)}function mg(s,r,l,u,g){var p=u;if((r&1)===0&&(r&2)===0&&u!==null)t:for(;;){if(u===null)return;var v=u.tag;if(v===3||v===4){var S=u.stateNode.containerInfo;if(S===g)break;if(v===4)for(v=u.return;v!==null;){var V=v.tag;if((V===3||V===4)&&v.stateNode.containerInfo===g)return;v=v.return}for(;S!==null;){if(v=Ni(S),v===null)return;if(V=v.tag,V===5||V===6||V===26||V===27){u=p=v;continue t}S=S.parentNode}}u=u.return}Qs(function(){var G=p,Z=Fn(l),st=[];t:{var Y=w0.get(s);if(Y!==void 0){var $=ji,bt=s;switch(s){case"keypress":if(oa(l)===0)break t;case"keydown":case"keyup":$=Qu;break;case"focusin":bt="focus",$=ca;break;case"focusout":bt="blur",$=ca;break;case"beforeblur":case"afterblur":$=ca;break;case"click":if(l.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":$=Ol;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":$=Uu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":$=_;break;case T0:case E0:case x0:$=Hu;break;case S0:$=R;break;case"scroll":case"scrollend":$=Ml;break;case"wheel":$=K;break;case"copy":case"cut":case"paste":$=Fu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":$=us;break;case"toggle":case"beforetoggle":$=Mt}var xt=(r&4)!==0,re=!xt&&(s==="scroll"||s==="scrollend"),U=xt?Y!==null?Y+"Capture":null:Y;xt=[];for(var j=G,q;j!==null;){var tt=j;if(q=tt.stateNode,tt=tt.tag,tt!==5&&tt!==26&&tt!==27||q===null||U===null||(tt=fi(j,U),tt!=null&&xt.push(uc(j,tt,q))),re)break;j=j.return}0<xt.length&&(Y=new $(Y,bt,null,l,Z),st.push({event:Y,listeners:xt}))}}if((r&7)===0){t:{if(Y=s==="mouseover"||s==="pointerover",$=s==="mouseout"||s==="pointerout",Y&&l!==kl&&(bt=l.relatedTarget||l.fromElement)&&(Ni(bt)||bt[ki]))break t;if(($||Y)&&(Y=Z.window===Z?Z:(Y=Z.ownerDocument)?Y.defaultView||Y.parentWindow:window,$?(bt=l.relatedTarget||l.toElement,$=G,bt=bt?Ni(bt):null,bt!==null&&(re=o(bt),xt=bt.tag,bt!==re||xt!==5&&xt!==27&&xt!==6)&&(bt=null)):($=null,bt=G),$!==bt)){if(xt=Ol,tt="onMouseLeave",U="onMouseEnter",j="mouse",(s==="pointerout"||s==="pointerover")&&(xt=us,tt="onPointerLeave",U="onPointerEnter",j="pointer"),re=$==null?Y:In($),q=bt==null?Y:In(bt),Y=new xt(tt,j+"leave",$,l,Z),Y.target=re,Y.relatedTarget=q,tt=null,Ni(Z)===G&&(xt=new xt(U,j+"enter",bt,l,Z),xt.target=q,xt.relatedTarget=re,tt=xt),re=tt,$&&bt)e:{for(xt=u2,U=$,j=bt,q=0,tt=U;tt;tt=xt(tt))q++;tt=0;for(var Tt=j;Tt;Tt=xt(Tt))tt++;for(;0<q-tt;)U=xt(U),q--;for(;0<tt-q;)j=xt(j),tt--;for(;q--;){if(U===j||j!==null&&U===j.alternate){xt=U;break e}U=xt(U),j=xt(j)}xt=null}else xt=null;$!==null&&Kb(st,Y,$,xt,!1),bt!==null&&re!==null&&Kb(st,re,bt,xt,!0)}}t:{if(Y=G?In(G):window,$=Y.nodeName&&Y.nodeName.toLowerCase(),$==="select"||$==="input"&&Y.type==="file")var Kt=u0;else if(l0(Y))if(h0)Kt=TA;else{Kt=bA;var vt=_A}else $=Y.nodeName,!$||$.toLowerCase()!=="input"||Y.type!=="checkbox"&&Y.type!=="radio"?G&&Ja(G.elementType)&&(Kt=u0):Kt=vA;if(Kt&&(Kt=Kt(s,G))){c0(st,Kt,l,Z);break t}vt&&vt(s,Y,G),s==="focusout"&&G&&Y.type==="number"&&G.memoizedProps.value!=null&&Cl(Y,"number",Y.value)}switch(vt=G?In(G):window,s){case"focusin":(l0(vt)||vt.contentEditable==="true")&&(oo=vt,Fd=G,jl=null);break;case"focusout":jl=Fd=oo=null;break;case"mousedown":qd=!0;break;case"contextmenu":case"mouseup":case"dragend":qd=!1,b0(st,l,Z);break;case"selectionchange":if(xA)break;case"keydown":case"keyup":b0(st,l,Z)}var zt;if(Qt)t:{switch(s){case"compositionstart":var jt="onCompositionStart";break t;case"compositionend":jt="onCompositionEnd";break t;case"compositionupdate":jt="onCompositionUpdate";break t}jt=void 0}else ao?ua(s,l)&&(jt="onCompositionEnd"):s==="keydown"&&l.keyCode===229&&(jt="onCompositionStart");jt&&(Hi&&l.locale!=="ko"&&(ao||jt!=="onCompositionStart"?jt==="onCompositionEnd"&&ao&&(zt=Nl()):(Li=Z,Dl="value"in Li?Li.value:Li.textContent,ao=!0)),vt=jh(G,jt),0<vt.length&&(jt=new Bi(jt,s,null,l,Z),st.push({event:jt,listeners:vt}),zt?jt.data=zt:(zt=ro(l),zt!==null&&(jt.data=zt)))),(zt=Gn?mA(s,l):gA(s,l))&&(jt=jh(G,"onBeforeInput"),0<jt.length&&(vt=new Bi("onBeforeInput","beforeinput",null,l,Z),st.push({event:vt,listeners:jt}),vt.data=zt)),a2(st,s,G,l,Z)}Gb(st,r)})}function uc(s,r,l){return{instance:s,listener:r,currentTarget:l}}function jh(s,r){for(var l=r+"Capture",u=[];s!==null;){var g=s,p=g.stateNode;if(g=g.tag,g!==5&&g!==26&&g!==27||p===null||(g=fi(s,l),g!=null&&u.unshift(uc(s,g,p)),g=fi(s,r),g!=null&&u.push(uc(s,g,p))),s.tag===3)return u;s=s.return}return[]}function u2(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function Kb(s,r,l,u,g){for(var p=r._reactName,v=[];l!==null&&l!==u;){var S=l,V=S.alternate,G=S.stateNode;if(S=S.tag,V!==null&&V===u)break;S!==5&&S!==26&&S!==27||G===null||(V=G,g?(G=fi(l,p),G!=null&&v.unshift(uc(l,G,V))):g||(G=fi(l,p),G!=null&&v.push(uc(l,G,V)))),l=l.return}v.length!==0&&s.push({event:r,listeners:v})}var h2=/\r\n?/g,f2=/\u0000|\uFFFD/g;function $b(s){return(typeof s=="string"?s:""+s).replace(h2,`
`).replace(f2,"")}function Qb(s,r){return r=$b(r),$b(s)===r}function se(s,r,l,u,g,p){switch(l){case"children":typeof u=="string"?r==="body"||r==="textarea"&&u===""||bn(s,u):(typeof u=="number"||typeof u=="bigint")&&r!=="body"&&bn(s,""+u);break;case"className":kn(s,"class",u);break;case"tabIndex":kn(s,"tabindex",u);break;case"dir":case"role":case"viewBox":case"width":case"height":kn(s,l,u);break;case"style":Il(s,u,p);break;case"data":if(r!=="object"){kn(s,"data",u);break}case"src":case"href":if(u===""&&(r!=="a"||l!=="href")){s.removeAttribute(l);break}if(u==null||typeof u=="function"||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=to(""+u),s.setAttribute(l,u);break;case"action":case"formAction":if(typeof u=="function"){s.setAttribute(l,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof p=="function"&&(l==="formAction"?(r!=="input"&&se(s,r,"name",g.name,g,null),se(s,r,"formEncType",g.formEncType,g,null),se(s,r,"formMethod",g.formMethod,g,null),se(s,r,"formTarget",g.formTarget,g,null)):(se(s,r,"encType",g.encType,g,null),se(s,r,"method",g.method,g,null),se(s,r,"target",g.target,g,null)));if(u==null||typeof u=="symbol"||typeof u=="boolean"){s.removeAttribute(l);break}u=to(""+u),s.setAttribute(l,u);break;case"onClick":u!=null&&(s.onclick=hi);break;case"onScroll":u!=null&&Pt("scroll",s);break;case"onScrollEnd":u!=null&&Pt("scrollend",s);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(g.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"multiple":s.multiple=u&&typeof u!="function"&&typeof u!="symbol";break;case"muted":s.muted=u&&typeof u!="function"&&typeof u!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(u==null||typeof u=="function"||typeof u=="boolean"||typeof u=="symbol"){s.removeAttribute("xlink:href");break}l=to(""+u),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",l);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""+u):s.removeAttribute(l);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":u&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,""):s.removeAttribute(l);break;case"capture":case"download":u===!0?s.setAttribute(l,""):u!==!1&&u!=null&&typeof u!="function"&&typeof u!="symbol"?s.setAttribute(l,u):s.removeAttribute(l);break;case"cols":case"rows":case"size":case"span":u!=null&&typeof u!="function"&&typeof u!="symbol"&&!isNaN(u)&&1<=u?s.setAttribute(l,u):s.removeAttribute(l);break;case"rowSpan":case"start":u==null||typeof u=="function"||typeof u=="symbol"||isNaN(u)?s.removeAttribute(l):s.setAttribute(l,u);break;case"popover":Pt("beforetoggle",s),Pt("toggle",s),Wa(s,"popover",u);break;case"xlinkActuate":De(s,"http://www.w3.org/1999/xlink","xlink:actuate",u);break;case"xlinkArcrole":De(s,"http://www.w3.org/1999/xlink","xlink:arcrole",u);break;case"xlinkRole":De(s,"http://www.w3.org/1999/xlink","xlink:role",u);break;case"xlinkShow":De(s,"http://www.w3.org/1999/xlink","xlink:show",u);break;case"xlinkTitle":De(s,"http://www.w3.org/1999/xlink","xlink:title",u);break;case"xlinkType":De(s,"http://www.w3.org/1999/xlink","xlink:type",u);break;case"xmlBase":De(s,"http://www.w3.org/XML/1998/namespace","xml:base",u);break;case"xmlLang":De(s,"http://www.w3.org/XML/1998/namespace","xml:lang",u);break;case"xmlSpace":De(s,"http://www.w3.org/XML/1998/namespace","xml:space",u);break;case"is":Wa(s,"is",u);break;case"innerText":case"textContent":break;default:(!(2<l.length)||l[0]!=="o"&&l[0]!=="O"||l[1]!=="n"&&l[1]!=="N")&&(l=ju.get(l)||l,Wa(s,l,u))}}function gg(s,r,l,u,g,p){switch(l){case"style":Il(s,u,p);break;case"dangerouslySetInnerHTML":if(u!=null){if(typeof u!="object"||!("__html"in u))throw Error(i(61));if(l=u.__html,l!=null){if(g.children!=null)throw Error(i(60));s.innerHTML=l}}break;case"children":typeof u=="string"?bn(s,u):(typeof u=="number"||typeof u=="bigint")&&bn(s,""+u);break;case"onScroll":u!=null&&Pt("scroll",s);break;case"onScrollEnd":u!=null&&Pt("scrollend",s);break;case"onClick":u!=null&&(s.onclick=hi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!El.hasOwnProperty(l))t:{if(l[0]==="o"&&l[1]==="n"&&(g=l.endsWith("Capture"),r=l.slice(2,g?l.length-7:void 0),p=s[Fe]||null,p=p!=null?p[l]:null,typeof p=="function"&&s.removeEventListener(r,p,g),typeof u=="function")){typeof p!="function"&&p!==null&&(l in s?s[l]=null:s.hasAttribute(l)&&s.removeAttribute(l)),s.addEventListener(r,u,g);break t}l in s?s[l]=u:u===!0?s.setAttribute(l,""):Wa(s,l,u)}}}function tn(s,r,l){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Pt("error",s),Pt("load",s);var u=!1,g=!1,p;for(p in l)if(l.hasOwnProperty(p)){var v=l[p];if(v!=null)switch(p){case"src":u=!0;break;case"srcSet":g=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:se(s,r,p,v,l,null)}}g&&se(s,r,"srcSet",l.srcSet,l,null),u&&se(s,r,"src",l.src,l,null);return;case"input":Pt("invalid",s);var S=p=v=g=null,V=null,G=null;for(u in l)if(l.hasOwnProperty(u)){var Z=l[u];if(Z!=null)switch(u){case"name":g=Z;break;case"type":v=Z;break;case"checked":V=Z;break;case"defaultChecked":G=Z;break;case"value":p=Z;break;case"defaultValue":S=Z;break;case"children":case"dangerouslySetInnerHTML":if(Z!=null)throw Error(i(137,r));break;default:se(s,r,u,Z,l,null)}}Vu(s,p,S,V,G,v,g,!1);return;case"select":Pt("invalid",s),u=v=p=null;for(g in l)if(l.hasOwnProperty(g)&&(S=l[g],S!=null))switch(g){case"value":p=S;break;case"defaultValue":v=S;break;case"multiple":u=S;default:se(s,r,g,S,l,null)}r=p,l=v,s.multiple=!!u,r!=null?Gs(s,!!u,r,!1):l!=null&&Gs(s,!!u,l,!0);return;case"textarea":Pt("invalid",s),p=g=u=null;for(v in l)if(l.hasOwnProperty(v)&&(S=l[v],S!=null))switch(v){case"value":u=S;break;case"defaultValue":g=S;break;case"children":p=S;break;case"dangerouslySetInnerHTML":if(S!=null)throw Error(i(91));break;default:se(s,r,v,S,l,null)}Ys(s,u,g,p);return;case"option":for(V in l)if(l.hasOwnProperty(V)&&(u=l[V],u!=null))switch(V){case"selected":s.selected=u&&typeof u!="function"&&typeof u!="symbol";break;default:se(s,r,V,u,l,null)}return;case"dialog":Pt("beforetoggle",s),Pt("toggle",s),Pt("cancel",s),Pt("close",s);break;case"iframe":case"object":Pt("load",s);break;case"video":case"audio":for(u=0;u<cc.length;u++)Pt(cc[u],s);break;case"image":Pt("error",s),Pt("load",s);break;case"details":Pt("toggle",s);break;case"embed":case"source":case"link":Pt("error",s),Pt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(G in l)if(l.hasOwnProperty(G)&&(u=l[G],u!=null))switch(G){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,r));default:se(s,r,G,u,l,null)}return;default:if(Ja(r)){for(Z in l)l.hasOwnProperty(Z)&&(u=l[Z],u!==void 0&&gg(s,r,Z,u,l,void 0));return}}for(S in l)l.hasOwnProperty(S)&&(u=l[S],u!=null&&se(s,r,S,u,l,null))}function d2(s,r,l,u){switch(r){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var g=null,p=null,v=null,S=null,V=null,G=null,Z=null;for($ in l){var st=l[$];if(l.hasOwnProperty($)&&st!=null)switch($){case"checked":break;case"value":break;case"defaultValue":V=st;default:u.hasOwnProperty($)||se(s,r,$,null,u,st)}}for(var Y in u){var $=u[Y];if(st=l[Y],u.hasOwnProperty(Y)&&($!=null||st!=null))switch(Y){case"type":p=$;break;case"name":g=$;break;case"checked":G=$;break;case"defaultChecked":Z=$;break;case"value":v=$;break;case"defaultValue":S=$;break;case"children":case"dangerouslySetInnerHTML":if($!=null)throw Error(i(137,r));break;default:$!==st&&se(s,r,Y,$,u,st)}}Za(s,v,S,V,G,Z,p,g);return;case"select":$=v=S=Y=null;for(p in l)if(V=l[p],l.hasOwnProperty(p)&&V!=null)switch(p){case"value":break;case"multiple":$=V;default:u.hasOwnProperty(p)||se(s,r,p,null,u,V)}for(g in u)if(p=u[g],V=l[g],u.hasOwnProperty(g)&&(p!=null||V!=null))switch(g){case"value":Y=p;break;case"defaultValue":S=p;break;case"multiple":v=p;default:p!==V&&se(s,r,g,p,u,V)}r=S,l=v,u=$,Y!=null?Gs(s,!!l,Y,!1):!!u!=!!l&&(r!=null?Gs(s,!!l,r,!0):Gs(s,!!l,l?[]:"",!1));return;case"textarea":$=Y=null;for(S in l)if(g=l[S],l.hasOwnProperty(S)&&g!=null&&!u.hasOwnProperty(S))switch(S){case"value":break;case"children":break;default:se(s,r,S,null,u,g)}for(v in u)if(g=u[v],p=l[v],u.hasOwnProperty(v)&&(g!=null||p!=null))switch(v){case"value":Y=g;break;case"defaultValue":$=g;break;case"children":break;case"dangerouslySetInnerHTML":if(g!=null)throw Error(i(91));break;default:g!==p&&se(s,r,v,g,u,p)}Pu(s,Y,$);return;case"option":for(var bt in l)if(Y=l[bt],l.hasOwnProperty(bt)&&Y!=null&&!u.hasOwnProperty(bt))switch(bt){case"selected":s.selected=!1;break;default:se(s,r,bt,null,u,Y)}for(V in u)if(Y=u[V],$=l[V],u.hasOwnProperty(V)&&Y!==$&&(Y!=null||$!=null))switch(V){case"selected":s.selected=Y&&typeof Y!="function"&&typeof Y!="symbol";break;default:se(s,r,V,Y,u,$)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var xt in l)Y=l[xt],l.hasOwnProperty(xt)&&Y!=null&&!u.hasOwnProperty(xt)&&se(s,r,xt,null,u,Y);for(G in u)if(Y=u[G],$=l[G],u.hasOwnProperty(G)&&Y!==$&&(Y!=null||$!=null))switch(G){case"children":case"dangerouslySetInnerHTML":if(Y!=null)throw Error(i(137,r));break;default:se(s,r,G,Y,u,$)}return;default:if(Ja(r)){for(var re in l)Y=l[re],l.hasOwnProperty(re)&&Y!==void 0&&!u.hasOwnProperty(re)&&gg(s,r,re,void 0,u,Y);for(Z in u)Y=u[Z],$=l[Z],!u.hasOwnProperty(Z)||Y===$||Y===void 0&&$===void 0||gg(s,r,Z,Y,u,$);return}}for(var U in l)Y=l[U],l.hasOwnProperty(U)&&Y!=null&&!u.hasOwnProperty(U)&&se(s,r,U,null,u,Y);for(st in u)Y=u[st],$=l[st],!u.hasOwnProperty(st)||Y===$||Y==null&&$==null||se(s,r,st,Y,u,$)}function Xb(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function m2(){if(typeof performance.getEntriesByType=="function"){for(var s=0,r=0,l=performance.getEntriesByType("resource"),u=0;u<l.length;u++){var g=l[u],p=g.transferSize,v=g.initiatorType,S=g.duration;if(p&&S&&Xb(v)){for(v=0,S=g.responseEnd,u+=1;u<l.length;u++){var V=l[u],G=V.startTime;if(G>S)break;var Z=V.transferSize,st=V.initiatorType;Z&&Xb(st)&&(V=V.responseEnd,v+=Z*(V<S?1:(S-G)/(V-G)))}if(--u,r+=8*(p+v)/(g.duration/1e3),s++,10<s)break}}if(0<s)return r/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var pg=null,yg=null;function Uh(s){return s.nodeType===9?s:s.ownerDocument}function Wb(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Zb(s,r){if(s===0)switch(r){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&r==="foreignObject"?0:s}function _g(s,r){return s==="textarea"||s==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.children=="bigint"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var bg=null;function g2(){var s=window.event;return s&&s.type==="popstate"?s===bg?!1:(bg=s,!0):(bg=null,!1)}var Jb=typeof setTimeout=="function"?setTimeout:void 0,p2=typeof clearTimeout=="function"?clearTimeout:void 0,tv=typeof Promise=="function"?Promise:void 0,y2=typeof queueMicrotask=="function"?queueMicrotask:typeof tv<"u"?function(s){return tv.resolve(null).then(s).catch(_2)}:Jb;function _2(s){setTimeout(function(){throw s})}function gr(s){return s==="head"}function ev(s,r){var l=r,u=0;do{var g=l.nextSibling;if(s.removeChild(l),g&&g.nodeType===8)if(l=g.data,l==="/$"||l==="/&"){if(u===0){s.removeChild(g),zo(r);return}u--}else if(l==="$"||l==="$?"||l==="$~"||l==="$!"||l==="&")u++;else if(l==="html")hc(s.ownerDocument.documentElement);else if(l==="head"){l=s.ownerDocument.head,hc(l);for(var p=l.firstChild;p;){var v=p.nextSibling,S=p.nodeName;p[Di]||S==="SCRIPT"||S==="STYLE"||S==="LINK"&&p.rel.toLowerCase()==="stylesheet"||l.removeChild(p),p=v}}else l==="body"&&hc(s.ownerDocument.body);l=g}while(l);zo(r)}function nv(s,r){var l=s;s=0;do{var u=l.nextSibling;if(l.nodeType===1?r?(l._stashedDisplay=l.style.display,l.style.display="none"):(l.style.display=l._stashedDisplay||"",l.getAttribute("style")===""&&l.removeAttribute("style")):l.nodeType===3&&(r?(l._stashedText=l.nodeValue,l.nodeValue=""):l.nodeValue=l._stashedText||""),u&&u.nodeType===8)if(l=u.data,l==="/$"){if(s===0)break;s--}else l!=="$"&&l!=="$?"&&l!=="$~"&&l!=="$!"||s++;l=u}while(l)}function vg(s){var r=s.firstChild;for(r&&r.nodeType===10&&(r=r.nextSibling);r;){var l=r;switch(r=r.nextSibling,l.nodeName){case"HTML":case"HEAD":case"BODY":vg(l),Xa(l);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(l.rel.toLowerCase()==="stylesheet")continue}s.removeChild(l)}}function b2(s,r,l,u){for(;s.nodeType===1;){var g=l;if(s.nodeName.toLowerCase()!==r.toLowerCase()){if(!u&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(u){if(!s[Di])switch(r){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(p=s.getAttribute("rel"),p==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(p!==g.rel||s.getAttribute("href")!==(g.href==null||g.href===""?null:g.href)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin)||s.getAttribute("title")!==(g.title==null?null:g.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(p=s.getAttribute("src"),(p!==(g.src==null?null:g.src)||s.getAttribute("type")!==(g.type==null?null:g.type)||s.getAttribute("crossorigin")!==(g.crossOrigin==null?null:g.crossOrigin))&&p&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(r==="input"&&s.type==="hidden"){var p=g.name==null?null:""+g.name;if(g.type==="hidden"&&s.getAttribute("name")===p)return s}else return s;if(s=Zn(s.nextSibling),s===null)break}return null}function v2(s,r,l){if(r==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!l||(s=Zn(s.nextSibling),s===null))return null;return s}function iv(s,r){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!r||(s=Zn(s.nextSibling),s===null))return null;return s}function Tg(s){return s.data==="$?"||s.data==="$~"}function Eg(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function T2(s,r){var l=s.ownerDocument;if(s.data==="$~")s._reactRetry=r;else if(s.data!=="$?"||l.readyState!=="loading")r();else{var u=function(){r(),l.removeEventListener("DOMContentLoaded",u)};l.addEventListener("DOMContentLoaded",u),s._reactRetry=u}}function Zn(s){for(;s!=null;s=s.nextSibling){var r=s.nodeType;if(r===1||r===3)break;if(r===8){if(r=s.data,r==="$"||r==="$!"||r==="$?"||r==="$~"||r==="&"||r==="F!"||r==="F")break;if(r==="/$"||r==="/&")return null}}return s}var xg=null;function sv(s){s=s.nextSibling;for(var r=0;s;){if(s.nodeType===8){var l=s.data;if(l==="/$"||l==="/&"){if(r===0)return Zn(s.nextSibling);r--}else l!=="$"&&l!=="$!"&&l!=="$?"&&l!=="$~"&&l!=="&"||r++}s=s.nextSibling}return null}function rv(s){s=s.previousSibling;for(var r=0;s;){if(s.nodeType===8){var l=s.data;if(l==="$"||l==="$!"||l==="$?"||l==="$~"||l==="&"){if(r===0)return s;r--}else l!=="/$"&&l!=="/&"||r++}s=s.previousSibling}return null}function av(s,r,l){switch(r=Uh(l),s){case"html":if(s=r.documentElement,!s)throw Error(i(452));return s;case"head":if(s=r.head,!s)throw Error(i(453));return s;case"body":if(s=r.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function hc(s){for(var r=s.attributes;r.length;)s.removeAttributeNode(r[0]);Xa(s)}var Jn=new Map,ov=new Set;function Bh(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var ws=ot.d;ot.d={f:E2,r:x2,D:S2,C:w2,L:A2,m:C2,X:I2,S:R2,M:k2};function E2(){var s=ws.f(),r=Nh();return s||r}function x2(s){var r=Hn(s);r!==null&&r.tag===5&&r.type==="form"?S_(r):ws.r(s)}var No=typeof document>"u"?null:document;function lv(s,r,l){var u=No;if(u&&typeof r=="string"&&r){var g=_n(r);g='link[rel="'+s+'"][href="'+g+'"]',typeof l=="string"&&(g+='[crossorigin="'+l+'"]'),ov.has(g)||(ov.add(g),s={rel:s,crossOrigin:l,href:r},u.querySelector(g)===null&&(r=u.createElement("link"),tn(r,"link",s),ke(r),u.head.appendChild(r)))}}function S2(s){ws.D(s),lv("dns-prefetch",s,null)}function w2(s,r){ws.C(s,r),lv("preconnect",s,r)}function A2(s,r,l){ws.L(s,r,l);var u=No;if(u&&s&&r){var g='link[rel="preload"][as="'+_n(r)+'"]';r==="image"&&l&&l.imageSrcSet?(g+='[imagesrcset="'+_n(l.imageSrcSet)+'"]',typeof l.imageSizes=="string"&&(g+='[imagesizes="'+_n(l.imageSizes)+'"]')):g+='[href="'+_n(s)+'"]';var p=g;switch(r){case"style":p=Mo(s);break;case"script":p=Oo(s)}Jn.has(p)||(s=b({rel:"preload",href:r==="image"&&l&&l.imageSrcSet?void 0:s,as:r},l),Jn.set(p,s),u.querySelector(g)!==null||r==="style"&&u.querySelector(fc(p))||r==="script"&&u.querySelector(dc(p))||(r=u.createElement("link"),tn(r,"link",s),ke(r),u.head.appendChild(r)))}}function C2(s,r){ws.m(s,r);var l=No;if(l&&s){var u=r&&typeof r.as=="string"?r.as:"script",g='link[rel="modulepreload"][as="'+_n(u)+'"][href="'+_n(s)+'"]',p=g;switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":p=Oo(s)}if(!Jn.has(p)&&(s=b({rel:"modulepreload",href:s},r),Jn.set(p,s),l.querySelector(g)===null)){switch(u){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(l.querySelector(dc(p)))return}u=l.createElement("link"),tn(u,"link",s),ke(u),l.head.appendChild(u)}}}function R2(s,r,l){ws.S(s,r,l);var u=No;if(u&&s){var g=Mi(u).hoistableStyles,p=Mo(s);r=r||"default";var v=g.get(p);if(!v){var S={loading:0,preload:null};if(v=u.querySelector(fc(p)))S.loading=5;else{s=b({rel:"stylesheet",href:s,"data-precedence":r},l),(l=Jn.get(p))&&Sg(s,l);var V=v=u.createElement("link");ke(V),tn(V,"link",s),V._p=new Promise(function(G,Z){V.onload=G,V.onerror=Z}),V.addEventListener("load",function(){S.loading|=1}),V.addEventListener("error",function(){S.loading|=2}),S.loading|=4,Hh(v,r,u)}v={type:"stylesheet",instance:v,count:1,state:S},g.set(p,v)}}}function I2(s,r){ws.X(s,r);var l=No;if(l&&s){var u=Mi(l).hoistableScripts,g=Oo(s),p=u.get(g);p||(p=l.querySelector(dc(g)),p||(s=b({src:s,async:!0},r),(r=Jn.get(g))&&wg(s,r),p=l.createElement("script"),ke(p),tn(p,"link",s),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(g,p))}}function k2(s,r){ws.M(s,r);var l=No;if(l&&s){var u=Mi(l).hoistableScripts,g=Oo(s),p=u.get(g);p||(p=l.querySelector(dc(g)),p||(s=b({src:s,async:!0,type:"module"},r),(r=Jn.get(g))&&wg(s,r),p=l.createElement("script"),ke(p),tn(p,"link",s),l.head.appendChild(p)),p={type:"script",instance:p,count:1,state:null},u.set(g,p))}}function cv(s,r,l,u){var g=(g=ct.current)?Bh(g):null;if(!g)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof l.precedence=="string"&&typeof l.href=="string"?(r=Mo(l.href),l=Mi(g).hoistableStyles,u=l.get(r),u||(u={type:"style",instance:null,count:0,state:null},l.set(r,u)),u):{type:"void",instance:null,count:0,state:null};case"link":if(l.rel==="stylesheet"&&typeof l.href=="string"&&typeof l.precedence=="string"){s=Mo(l.href);var p=Mi(g).hoistableStyles,v=p.get(s);if(v||(g=g.ownerDocument||g,v={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},p.set(s,v),(p=g.querySelector(fc(s)))&&!p._p&&(v.instance=p,v.state.loading=5),Jn.has(s)||(l={rel:"preload",as:"style",href:l.href,crossOrigin:l.crossOrigin,integrity:l.integrity,media:l.media,hrefLang:l.hrefLang,referrerPolicy:l.referrerPolicy},Jn.set(s,l),p||D2(g,s,l,v.state))),r&&u===null)throw Error(i(528,""));return v}if(r&&u!==null)throw Error(i(529,""));return null;case"script":return r=l.async,l=l.src,typeof l=="string"&&r&&typeof r!="function"&&typeof r!="symbol"?(r=Oo(l),l=Mi(g).hoistableScripts,u=l.get(r),u||(u={type:"script",instance:null,count:0,state:null},l.set(r,u)),u):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function Mo(s){return'href="'+_n(s)+'"'}function fc(s){return'link[rel="stylesheet"]['+s+"]"}function uv(s){return b({},s,{"data-precedence":s.precedence,precedence:null})}function D2(s,r,l,u){s.querySelector('link[rel="preload"][as="style"]['+r+"]")?u.loading=1:(r=s.createElement("link"),u.preload=r,r.addEventListener("load",function(){return u.loading|=1}),r.addEventListener("error",function(){return u.loading|=2}),tn(r,"link",l),ke(r),s.head.appendChild(r))}function Oo(s){return'[src="'+_n(s)+'"]'}function dc(s){return"script[async]"+s}function hv(s,r,l){if(r.count++,r.instance===null)switch(r.type){case"style":var u=s.querySelector('style[data-href~="'+_n(l.href)+'"]');if(u)return r.instance=u,ke(u),u;var g=b({},l,{"data-href":l.href,"data-precedence":l.precedence,href:null,precedence:null});return u=(s.ownerDocument||s).createElement("style"),ke(u),tn(u,"style",g),Hh(u,l.precedence,s),r.instance=u;case"stylesheet":g=Mo(l.href);var p=s.querySelector(fc(g));if(p)return r.state.loading|=4,r.instance=p,ke(p),p;u=uv(l),(g=Jn.get(g))&&Sg(u,g),p=(s.ownerDocument||s).createElement("link"),ke(p);var v=p;return v._p=new Promise(function(S,V){v.onload=S,v.onerror=V}),tn(p,"link",u),r.state.loading|=4,Hh(p,l.precedence,s),r.instance=p;case"script":return p=Oo(l.src),(g=s.querySelector(dc(p)))?(r.instance=g,ke(g),g):(u=l,(g=Jn.get(p))&&(u=b({},l),wg(u,g)),s=s.ownerDocument||s,g=s.createElement("script"),ke(g),tn(g,"link",u),s.head.appendChild(g),r.instance=g);case"void":return null;default:throw Error(i(443,r.type))}else r.type==="stylesheet"&&(r.state.loading&4)===0&&(u=r.instance,r.state.loading|=4,Hh(u,l.precedence,s));return r.instance}function Hh(s,r,l){for(var u=l.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),g=u.length?u[u.length-1]:null,p=g,v=0;v<u.length;v++){var S=u[v];if(S.dataset.precedence===r)p=S;else if(p!==g)break}p?p.parentNode.insertBefore(s,p.nextSibling):(r=l.nodeType===9?l.head:l,r.insertBefore(s,r.firstChild))}function Sg(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.title==null&&(s.title=r.title)}function wg(s,r){s.crossOrigin==null&&(s.crossOrigin=r.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=r.referrerPolicy),s.integrity==null&&(s.integrity=r.integrity)}var Fh=null;function fv(s,r,l){if(Fh===null){var u=new Map,g=Fh=new Map;g.set(l,u)}else g=Fh,u=g.get(l),u||(u=new Map,g.set(l,u));if(u.has(s))return u;for(u.set(s,null),l=l.getElementsByTagName(s),g=0;g<l.length;g++){var p=l[g];if(!(p[Di]||p[Ie]||s==="link"&&p.getAttribute("rel")==="stylesheet")&&p.namespaceURI!=="http://www.w3.org/2000/svg"){var v=p.getAttribute(r)||"";v=s+v;var S=u.get(v);S?S.push(p):u.set(v,[p])}}return u}function dv(s,r,l){s=s.ownerDocument||s,s.head.insertBefore(l,r==="title"?s.querySelector("head > title"):null)}function N2(s,r,l){if(l===1||r.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof r.precedence!="string"||typeof r.href!="string"||r.href==="")break;return!0;case"link":if(typeof r.rel!="string"||typeof r.href!="string"||r.href===""||r.onLoad||r.onError)break;switch(r.rel){case"stylesheet":return s=r.disabled,typeof r.precedence=="string"&&s==null;default:return!0}case"script":if(r.async&&typeof r.async!="function"&&typeof r.async!="symbol"&&!r.onLoad&&!r.onError&&r.src&&typeof r.src=="string")return!0}return!1}function mv(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function M2(s,r,l,u){if(l.type==="stylesheet"&&(typeof u.media!="string"||matchMedia(u.media).matches!==!1)&&(l.state.loading&4)===0){if(l.instance===null){var g=Mo(u.href),p=r.querySelector(fc(g));if(p){r=p._p,r!==null&&typeof r=="object"&&typeof r.then=="function"&&(s.count++,s=qh.bind(s),r.then(s,s)),l.state.loading|=4,l.instance=p,ke(p);return}p=r.ownerDocument||r,u=uv(u),(g=Jn.get(g))&&Sg(u,g),p=p.createElement("link"),ke(p);var v=p;v._p=new Promise(function(S,V){v.onload=S,v.onerror=V}),tn(p,"link",u),l.instance=p}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(l,r),(r=l.state.preload)&&(l.state.loading&3)===0&&(s.count++,l=qh.bind(s),r.addEventListener("load",l),r.addEventListener("error",l))}}var Ag=0;function O2(s,r){return s.stylesheets&&s.count===0&&Yh(s,s.stylesheets),0<s.count||0<s.imgCount?function(l){var u=setTimeout(function(){if(s.stylesheets&&Yh(s,s.stylesheets),s.unsuspend){var p=s.unsuspend;s.unsuspend=null,p()}},6e4+r);0<s.imgBytes&&Ag===0&&(Ag=62500*m2());var g=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Yh(s,s.stylesheets),s.unsuspend)){var p=s.unsuspend;s.unsuspend=null,p()}},(s.imgBytes>Ag?50:800)+r);return s.unsuspend=l,function(){s.unsuspend=null,clearTimeout(u),clearTimeout(g)}}:null}function qh(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Yh(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var Gh=null;function Yh(s,r){s.stylesheets=null,s.unsuspend!==null&&(s.count++,Gh=new Map,r.forEach(z2,s),Gh=null,qh.call(s))}function z2(s,r){if(!(r.state.loading&4)){var l=Gh.get(s);if(l)var u=l.get(null);else{l=new Map,Gh.set(s,l);for(var g=s.querySelectorAll("link[data-precedence],style[data-precedence]"),p=0;p<g.length;p++){var v=g[p];(v.nodeName==="LINK"||v.getAttribute("media")!=="not all")&&(l.set(v.dataset.precedence,v),u=v)}u&&l.set(null,u)}g=r.instance,v=g.getAttribute("data-precedence"),p=l.get(v)||u,p===u&&l.set(null,g),l.set(v,g),this.count++,u=qh.bind(this),g.addEventListener("load",u),g.addEventListener("error",u),p?p.parentNode.insertBefore(g,p.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(g,s.firstChild)),r.state.loading|=4}}var mc={$$typeof:X,Provider:null,Consumer:null,_currentValue:pt,_currentValue2:pt,_threadCount:0};function V2(s,r,l,u,g,p,v,S,V){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ii(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ii(0),this.hiddenUpdates=Ii(null),this.identifierPrefix=u,this.onUncaughtError=g,this.onCaughtError=p,this.onRecoverableError=v,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=V,this.incompleteTransitions=new Map}function gv(s,r,l,u,g,p,v,S,V,G,Z,st){return s=new V2(s,r,l,v,V,G,Z,st,S),r=1,p===!0&&(r|=24),p=Nn(3,null,null,r),s.current=p,p.stateNode=s,r=rm(),r.refCount++,s.pooledCache=r,r.refCount++,p.memoizedState={element:u,isDehydrated:l,cache:r},cm(p),s}function pv(s){return s?(s=uo,s):uo}function yv(s,r,l,u,g,p){g=pv(g),u.context===null?u.context=g:u.pendingContext=g,u=sr(r),u.payload={element:l},p=p===void 0?null:p,p!==null&&(u.callback=p),l=rr(s,u,r),l!==null&&(Sn(l,s,r),Yl(l,s,r))}function _v(s,r){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var l=s.retryLane;s.retryLane=l!==0&&l<r?l:r}}function Cg(s,r){_v(s,r),(s=s.alternate)&&_v(s,r)}function bv(s){if(s.tag===13||s.tag===31){var r=da(s,67108864);r!==null&&Sn(r,s,67108864),Cg(s,67108864)}}function vv(s){if(s.tag===13||s.tag===31){var r=Pn();r=ea(r);var l=da(s,r);l!==null&&Sn(l,s,r),Cg(s,r)}}var Kh=!0;function P2(s,r,l,u){var g=H.T;H.T=null;var p=ot.p;try{ot.p=2,Rg(s,r,l,u)}finally{ot.p=p,H.T=g}}function L2(s,r,l,u){var g=H.T;H.T=null;var p=ot.p;try{ot.p=8,Rg(s,r,l,u)}finally{ot.p=p,H.T=g}}function Rg(s,r,l,u){if(Kh){var g=Ig(u);if(g===null)mg(s,r,u,$h,l),Ev(s,u);else if(U2(g,s,r,l,u))u.stopPropagation();else if(Ev(s,u),r&4&&-1<j2.indexOf(s)){for(;g!==null;){var p=Hn(g);if(p!==null)switch(p.tag){case 3:if(p=p.stateNode,p.current.memoizedState.isDehydrated){var v=Ci(p.pendingLanes);if(v!==0){var S=p;for(S.pendingLanes|=2,S.entangledLanes|=2;v;){var V=1<<31-ve(v);S.entanglements[1]|=V,v&=~V}Yi(p),(Xt&6)===0&&(kh=mn()+500,lc(0))}}break;case 31:case 13:S=da(p,2),S!==null&&Sn(S,p,2),Nh(),Cg(p,2)}if(p=Ig(u),p===null&&mg(s,r,u,$h,l),p===g)break;g=p}g!==null&&u.stopPropagation()}else mg(s,r,u,null,l)}}function Ig(s){return s=Fn(s),kg(s)}var $h=null;function kg(s){if($h=null,s=Ni(s),s!==null){var r=o(s);if(r===null)s=null;else{var l=r.tag;if(l===13){if(s=c(r),s!==null)return s;s=null}else if(l===31){if(s=h(r),s!==null)return s;s=null}else if(l===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;s=null}else r!==s&&(s=null)}}return $h=s,null}function Tv(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Wr()){case yl:return 2;case _l:return 8;case Fs:case Vd:return 32;case Au:return 268435456;default:return 32}default:return 32}}var Dg=!1,pr=null,yr=null,_r=null,gc=new Map,pc=new Map,br=[],j2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Ev(s,r){switch(s){case"focusin":case"focusout":pr=null;break;case"dragenter":case"dragleave":yr=null;break;case"mouseover":case"mouseout":_r=null;break;case"pointerover":case"pointerout":gc.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":pc.delete(r.pointerId)}}function yc(s,r,l,u,g,p){return s===null||s.nativeEvent!==p?(s={blockedOn:r,domEventName:l,eventSystemFlags:u,nativeEvent:p,targetContainers:[g]},r!==null&&(r=Hn(r),r!==null&&bv(r)),s):(s.eventSystemFlags|=u,r=s.targetContainers,g!==null&&r.indexOf(g)===-1&&r.push(g),s)}function U2(s,r,l,u,g){switch(r){case"focusin":return pr=yc(pr,s,r,l,u,g),!0;case"dragenter":return yr=yc(yr,s,r,l,u,g),!0;case"mouseover":return _r=yc(_r,s,r,l,u,g),!0;case"pointerover":var p=g.pointerId;return gc.set(p,yc(gc.get(p)||null,s,r,l,u,g)),!0;case"gotpointercapture":return p=g.pointerId,pc.set(p,yc(pc.get(p)||null,s,r,l,u,g)),!0}return!1}function xv(s){var r=Ni(s.target);if(r!==null){var l=o(r);if(l!==null){if(r=l.tag,r===13){if(r=c(l),r!==null){s.blockedOn=r,ci(s.priority,function(){vv(l)});return}}else if(r===31){if(r=h(l),r!==null){s.blockedOn=r,ci(s.priority,function(){vv(l)});return}}else if(r===3&&l.stateNode.current.memoizedState.isDehydrated){s.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Qh(s){if(s.blockedOn!==null)return!1;for(var r=s.targetContainers;0<r.length;){var l=Ig(s.nativeEvent);if(l===null){l=s.nativeEvent;var u=new l.constructor(l.type,l);kl=u,l.target.dispatchEvent(u),kl=null}else return r=Hn(l),r!==null&&bv(r),s.blockedOn=l,!1;r.shift()}return!0}function Sv(s,r,l){Qh(s)&&l.delete(r)}function B2(){Dg=!1,pr!==null&&Qh(pr)&&(pr=null),yr!==null&&Qh(yr)&&(yr=null),_r!==null&&Qh(_r)&&(_r=null),gc.forEach(Sv),pc.forEach(Sv)}function Xh(s,r){s.blockedOn===r&&(s.blockedOn=null,Dg||(Dg=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,B2)))}var Wh=null;function wv(s){Wh!==s&&(Wh=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Wh===s&&(Wh=null);for(var r=0;r<s.length;r+=3){var l=s[r],u=s[r+1],g=s[r+2];if(typeof u!="function"){if(kg(u||l)===null)continue;break}var p=Hn(l);p!==null&&(s.splice(r,3),r-=3,Im(p,{pending:!0,data:g,method:l.method,action:u},u,g))}}))}function zo(s){function r(V){return Xh(V,s)}pr!==null&&Xh(pr,s),yr!==null&&Xh(yr,s),_r!==null&&Xh(_r,s),gc.forEach(r),pc.forEach(r);for(var l=0;l<br.length;l++){var u=br[l];u.blockedOn===s&&(u.blockedOn=null)}for(;0<br.length&&(l=br[0],l.blockedOn===null);)xv(l),l.blockedOn===null&&br.shift();if(l=(s.ownerDocument||s).$$reactFormReplay,l!=null)for(u=0;u<l.length;u+=3){var g=l[u],p=l[u+1],v=g[Fe]||null;if(typeof p=="function")v||wv(l);else if(v){var S=null;if(p&&p.hasAttribute("formAction")){if(g=p,v=p[Fe]||null)S=v.formAction;else if(kg(g)!==null)continue}else S=v.action;typeof S=="function"?l[u+1]=S:(l.splice(u,3),u-=3),wv(l)}}}function Av(){function s(p){p.canIntercept&&p.info==="react-transition"&&p.intercept({handler:function(){return new Promise(function(v){return g=v})},focusReset:"manual",scroll:"manual"})}function r(){g!==null&&(g(),g=null),u||setTimeout(l,20)}function l(){if(!u&&!navigation.transition){var p=navigation.currentEntry;p&&p.url!=null&&navigation.navigate(p.url,{state:p.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var u=!1,g=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",r),navigation.addEventListener("navigateerror",r),setTimeout(l,100),function(){u=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",r),navigation.removeEventListener("navigateerror",r),g!==null&&(g(),g=null)}}}function Ng(s){this._internalRoot=s}Zh.prototype.render=Ng.prototype.render=function(s){var r=this._internalRoot;if(r===null)throw Error(i(409));var l=r.current,u=Pn();yv(l,u,s,r,null,null)},Zh.prototype.unmount=Ng.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var r=s.containerInfo;yv(s.current,2,null,s,null,null),Nh(),r[ki]=null}};function Zh(s){this._internalRoot=s}Zh.prototype.unstable_scheduleHydration=function(s){if(s){var r=Nu();s={blockedOn:null,target:s,priority:r};for(var l=0;l<br.length&&r!==0&&r<br[l].priority;l++);br.splice(l,0,s),l===0&&xv(s)}};var Cv=t.version;if(Cv!=="19.2.1")throw Error(i(527,Cv,"19.2.1"));ot.findDOMNode=function(s){var r=s._reactInternals;if(r===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=m(r),s=s!==null?y(s):null,s=s===null?null:s.stateNode,s};var H2={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:H,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jh.isDisabled&&Jh.supportsFiber)try{oi=Jh.inject(H2),Qe=Jh}catch{}}return bc.createRoot=function(s,r){if(!a(s))throw Error(i(299));var l=!1,u="",g=O_,p=z_,v=V_;return r!=null&&(r.unstable_strictMode===!0&&(l=!0),r.identifierPrefix!==void 0&&(u=r.identifierPrefix),r.onUncaughtError!==void 0&&(g=r.onUncaughtError),r.onCaughtError!==void 0&&(p=r.onCaughtError),r.onRecoverableError!==void 0&&(v=r.onRecoverableError)),r=gv(s,1,!1,null,null,l,u,null,g,p,v,Av),s[ki]=r.current,dg(s),new Ng(r)},bc.hydrateRoot=function(s,r,l){if(!a(s))throw Error(i(299));var u=!1,g="",p=O_,v=z_,S=V_,V=null;return l!=null&&(l.unstable_strictMode===!0&&(u=!0),l.identifierPrefix!==void 0&&(g=l.identifierPrefix),l.onUncaughtError!==void 0&&(p=l.onUncaughtError),l.onCaughtError!==void 0&&(v=l.onCaughtError),l.onRecoverableError!==void 0&&(S=l.onRecoverableError),l.formState!==void 0&&(V=l.formState)),r=gv(s,1,!0,r,l??null,u,g,V,p,v,S,Av),r.context=pv(null),l=r.current,u=Pn(),u=ea(u),g=sr(u),g.callback=null,rr(l,g,u),l=u,r.current.lanes=l,Jr(r,l),Yi(r),s[ki]=r.current,dg(s),new Zh(r)},bc.version="19.2.1",bc}var Pv;function Z2(){if(Pv)return zg.exports;Pv=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),zg.exports=W2(),zg.exports}var J2=Z2();const tC=()=>{};var Lv={};const O1=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let a=n.charCodeAt(i);a<128?t[e++]=a:a<2048?(t[e++]=a>>6|192,t[e++]=a&63|128):(a&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(a=65536+((a&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=a>>18|240,t[e++]=a>>12&63|128,t[e++]=a>>6&63|128,t[e++]=a&63|128):(t[e++]=a>>12|224,t[e++]=a>>6&63|128,t[e++]=a&63|128)}return t},eC=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const a=n[e++];if(a<128)t[i++]=String.fromCharCode(a);else if(a>191&&a<224){const o=n[e++];t[i++]=String.fromCharCode((a&31)<<6|o&63)}else if(a>239&&a<365){const o=n[e++],c=n[e++],h=n[e++],f=((a&7)<<18|(o&63)<<12|(c&63)<<6|h&63)-65536;t[i++]=String.fromCharCode(55296+(f>>10)),t[i++]=String.fromCharCode(56320+(f&1023))}else{const o=n[e++],c=n[e++];t[i++]=String.fromCharCode((a&15)<<12|(o&63)<<6|c&63)}}return t.join("")},z1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let a=0;a<n.length;a+=3){const o=n[a],c=a+1<n.length,h=c?n[a+1]:0,f=a+2<n.length,m=f?n[a+2]:0,y=o>>2,b=(o&3)<<4|h>>4;let T=(h&15)<<2|m>>6,x=m&63;f||(x=64,c||(T=64)),i.push(e[y],e[b],e[T],e[x])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(O1(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):eC(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let a=0;a<n.length;){const o=e[n.charAt(a++)],h=a<n.length?e[n.charAt(a)]:0;++a;const m=a<n.length?e[n.charAt(a)]:64;++a;const b=a<n.length?e[n.charAt(a)]:64;if(++a,o==null||h==null||m==null||b==null)throw new nC;const T=o<<2|h>>4;if(i.push(T),m!==64){const x=h<<4&240|m>>2;if(i.push(x),b!==64){const A=m<<6&192|b;i.push(A)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class nC extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const iC=function(n){const t=O1(n);return z1.encodeByteArray(t,!0)},Of=function(n){return iC(n).replace(/\./g,"")},V1=function(n){try{return z1.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function sC(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const rC=()=>sC().__FIREBASE_DEFAULTS__,aC=()=>{if(typeof process>"u"||typeof Lv>"u")return;const n=Lv.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},oC=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&V1(n[1]);return t&&JSON.parse(t)},ad=()=>{try{return tC()||rC()||aC()||oC()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},P1=n=>ad()?.emulatorHosts?.[n],lC=n=>{const t=P1(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),i]:[t.substring(0,e),i]},L1=()=>ad()?.config,j1=n=>ad()?.[`_${n}`];class cC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}function al(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function U1(n){return(await fetch(n,{credentials:"include"})).ok}function uC(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},i=t||"demo-project",a=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const c={iss:`https://securetoken.google.com/${i}`,aud:i,iat:a,exp:a+3600,auth_time:a,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Of(JSON.stringify(e)),Of(JSON.stringify(c)),""].join(".")}const Oc={};function hC(){const n={prod:[],emulator:[]};for(const t of Object.keys(Oc))Oc[t]?n.emulator.push(t):n.prod.push(t);return n}function fC(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let jv=!1;function B1(n,t){if(typeof window>"u"||typeof document>"u"||!al(window.location.host)||Oc[n]===t||Oc[n]||jv)return;Oc[n]=t;function e(T){return`__firebase__banner__${T}`}const i="__firebase__banner",o=hC().prod.length>0;function c(){const T=document.getElementById(i);T&&T.remove()}function h(T){T.style.display="flex",T.style.background="#7faaf0",T.style.position="fixed",T.style.bottom="5px",T.style.left="5px",T.style.padding=".5em",T.style.borderRadius="5px",T.style.alignItems="center"}function f(T,x){T.setAttribute("width","24"),T.setAttribute("id",x),T.setAttribute("height","24"),T.setAttribute("viewBox","0 0 24 24"),T.setAttribute("fill","none"),T.style.marginLeft="-6px"}function m(){const T=document.createElement("span");return T.style.cursor="pointer",T.style.marginLeft="16px",T.style.fontSize="24px",T.innerHTML=" &times;",T.onclick=()=>{jv=!0,c()},T}function y(T,x){T.setAttribute("id",x),T.innerText="Learn more",T.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",T.setAttribute("target","__blank"),T.style.paddingLeft="5px",T.style.textDecoration="underline"}function b(){const T=fC(i),x=e("text"),A=document.getElementById(x)||document.createElement("span"),I=e("learnmore"),N=document.getElementById(I)||document.createElement("a"),B=e("preprendIcon"),Q=document.getElementById(B)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(T.created){const X=T.element;h(X),y(N,I);const at=m();f(Q,B),X.append(Q,A,N,at),document.body.appendChild(X)}o?(A.innerText="Preview backend disconnected.",Q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(Q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,A.innerText="Preview backend running in this workspace."),A.setAttribute("id",x)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",b):b()}function fn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(fn())}function mC(){const n=ad()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function gC(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function pC(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function yC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function _C(){const n=fn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function bC(){return!mC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vC(){try{return typeof indexedDB=="object"}catch{return!1}}function TC(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(i);a.onsuccess=()=>{a.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},a.onupgradeneeded=()=>{e=!1},a.onerror=()=>{t(a.error?.message||"")}}catch(e){t(e)}})}const EC="FirebaseError";class Ls extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=EC,Object.setPrototypeOf(this,Ls.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cu.prototype.create)}}class cu{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},a=`${this.service}/${t}`,o=this.errors[t],c=o?xC(o,i):"Error",h=`${this.serviceName}: ${c} (${a}).`;return new Ls(a,h,i)}}function xC(n,t){return n.replace(SC,(e,i)=>{const a=t[i];return a!=null?String(a):`<${i}?>`})}const SC=/\{\$([^}]+)}/g;function wC(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function La(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const a of e){if(!i.includes(a))return!1;const o=n[a],c=t[a];if(Uv(o)&&Uv(c)){if(!La(o,c))return!1}else if(o!==c)return!1}for(const a of i)if(!e.includes(a))return!1;return!0}function Uv(n){return n!==null&&typeof n=="object"}function uu(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(a=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(a))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function wc(n){const t={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[a,o]=i.split("=");t[decodeURIComponent(a)]=decodeURIComponent(o)}}),t}function Ac(n){const t=n.indexOf("?");if(!t)return"";const e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}function AC(n,t){const e=new CC(n,t);return e.subscribe.bind(e)}class CC{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let a;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");RC(t,["next","error","complete"])?a=t:a={next:t,error:e,complete:i},a.next===void 0&&(a.next=jg),a.error===void 0&&(a.error=jg),a.complete===void 0&&(a.complete=jg);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?a.error(this.finalError):a.complete()}catch{}}),this.observers.push(a),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function RC(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function jg(){}function be(n){return n&&n._delegate?n._delegate:n}class ja{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const Ia="[DEFAULT]";class IC{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new cC;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:e});a&&i.resolve(a)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),i=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(DC(t))try{this.getOrInitializeService({instanceIdentifier:Ia})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(e);try{const o=this.getOrInitializeService({instanceIdentifier:a});i.resolve(o)}catch{}}}}clearInstance(t=Ia){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=Ia){return this.instances.has(t)}getOptions(t=Ia){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[o,c]of this.instancesDeferred.entries()){const h=this.normalizeInstanceIdentifier(o);i===h&&c.resolve(a)}return a}onInit(t,e){const i=this.normalizeInstanceIdentifier(e),a=this.onInitCallbacks.get(i)??new Set;a.add(t),this.onInitCallbacks.set(i,a);const o=this.instances.get(i);return o&&t(o,i),()=>{a.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const a of i)try{a(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:kC(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=Ia){return this.component?this.component.multipleInstances?t:Ia:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function kC(n){return n===Ia?void 0:n}function DC(n){return n.instantiationMode==="EAGER"}class NC{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new IC(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}var Ut;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ut||(Ut={}));const MC={debug:Ut.DEBUG,verbose:Ut.VERBOSE,info:Ut.INFO,warn:Ut.WARN,error:Ut.ERROR,silent:Ut.SILENT},OC=Ut.INFO,zC={[Ut.DEBUG]:"log",[Ut.VERBOSE]:"log",[Ut.INFO]:"info",[Ut.WARN]:"warn",[Ut.ERROR]:"error"},VC=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),a=zC[t];if(a)console[a](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Jp{constructor(t){this.name=t,this._logLevel=OC,this._logHandler=VC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ut))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?MC[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ut.DEBUG,...t),this._logHandler(this,Ut.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ut.VERBOSE,...t),this._logHandler(this,Ut.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ut.INFO,...t),this._logHandler(this,Ut.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ut.WARN,...t),this._logHandler(this,Ut.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ut.ERROR,...t),this._logHandler(this,Ut.ERROR,...t)}}const PC=(n,t)=>t.some(e=>n instanceof e);let Bv,Hv;function LC(){return Bv||(Bv=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function jC(){return Hv||(Hv=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const H1=new WeakMap,fp=new WeakMap,F1=new WeakMap,Ug=new WeakMap,ty=new WeakMap;function UC(n){const t=new Promise((e,i)=>{const a=()=>{n.removeEventListener("success",o),n.removeEventListener("error",c)},o=()=>{e(kr(n.result)),a()},c=()=>{i(n.error),a()};n.addEventListener("success",o),n.addEventListener("error",c)});return t.then(e=>{e instanceof IDBCursor&&H1.set(e,n)}).catch(()=>{}),ty.set(t,n),t}function BC(n){if(fp.has(n))return;const t=new Promise((e,i)=>{const a=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",c),n.removeEventListener("abort",c)},o=()=>{e(),a()},c=()=>{i(n.error||new DOMException("AbortError","AbortError")),a()};n.addEventListener("complete",o),n.addEventListener("error",c),n.addEventListener("abort",c)});fp.set(n,t)}let dp={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return fp.get(n);if(t==="objectStoreNames")return n.objectStoreNames||F1.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return kr(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function HC(n){dp=n(dp)}function FC(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(Bg(this),t,...e);return F1.set(i,t.sort?t.sort():[t]),kr(i)}:jC().includes(n)?function(...t){return n.apply(Bg(this),t),kr(H1.get(this))}:function(...t){return kr(n.apply(Bg(this),t))}}function qC(n){return typeof n=="function"?FC(n):(n instanceof IDBTransaction&&BC(n),PC(n,LC())?new Proxy(n,dp):n)}function kr(n){if(n instanceof IDBRequest)return UC(n);if(Ug.has(n))return Ug.get(n);const t=qC(n);return t!==n&&(Ug.set(n,t),ty.set(t,n)),t}const Bg=n=>ty.get(n);function GC(n,t,{blocked:e,upgrade:i,blocking:a,terminated:o}={}){const c=indexedDB.open(n,t),h=kr(c);return i&&c.addEventListener("upgradeneeded",f=>{i(kr(c.result),f.oldVersion,f.newVersion,kr(c.transaction),f)}),e&&c.addEventListener("blocked",f=>e(f.oldVersion,f.newVersion,f)),h.then(f=>{o&&f.addEventListener("close",()=>o()),a&&f.addEventListener("versionchange",m=>a(m.oldVersion,m.newVersion,m))}).catch(()=>{}),h}const YC=["get","getKey","getAll","getAllKeys","count"],KC=["put","add","delete","clear"],Hg=new Map;function Fv(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(Hg.get(t))return Hg.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,a=KC.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(a||YC.includes(e)))return;const o=async function(c,...h){const f=this.transaction(c,a?"readwrite":"readonly");let m=f.store;return i&&(m=m.index(h.shift())),(await Promise.all([m[e](...h),a&&f.done]))[0]};return Hg.set(t,o),o}HC(n=>({...n,get:(t,e,i)=>Fv(t,e)||n.get(t,e,i),has:(t,e)=>!!Fv(t,e)||n.has(t,e)}));class $C{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(QC(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function QC(n){return n.getComponent()?.type==="VERSION"}const mp="@firebase/app",qv="0.14.6";const Ns=new Jp("@firebase/app"),XC="@firebase/app-compat",WC="@firebase/analytics-compat",ZC="@firebase/analytics",JC="@firebase/app-check-compat",tR="@firebase/app-check",eR="@firebase/auth",nR="@firebase/auth-compat",iR="@firebase/database",sR="@firebase/data-connect",rR="@firebase/database-compat",aR="@firebase/functions",oR="@firebase/functions-compat",lR="@firebase/installations",cR="@firebase/installations-compat",uR="@firebase/messaging",hR="@firebase/messaging-compat",fR="@firebase/performance",dR="@firebase/performance-compat",mR="@firebase/remote-config",gR="@firebase/remote-config-compat",pR="@firebase/storage",yR="@firebase/storage-compat",_R="@firebase/firestore",bR="@firebase/ai",vR="@firebase/firestore-compat",TR="firebase",ER="12.6.0";const gp="[DEFAULT]",xR={[mp]:"fire-core",[XC]:"fire-core-compat",[ZC]:"fire-analytics",[WC]:"fire-analytics-compat",[tR]:"fire-app-check",[JC]:"fire-app-check-compat",[eR]:"fire-auth",[nR]:"fire-auth-compat",[iR]:"fire-rtdb",[sR]:"fire-data-connect",[rR]:"fire-rtdb-compat",[aR]:"fire-fn",[oR]:"fire-fn-compat",[lR]:"fire-iid",[cR]:"fire-iid-compat",[uR]:"fire-fcm",[hR]:"fire-fcm-compat",[fR]:"fire-perf",[dR]:"fire-perf-compat",[mR]:"fire-rc",[gR]:"fire-rc-compat",[pR]:"fire-gcs",[yR]:"fire-gcs-compat",[_R]:"fire-fst",[vR]:"fire-fst-compat",[bR]:"fire-vertex","fire-js":"fire-js",[TR]:"fire-js-all"};const zf=new Map,SR=new Map,pp=new Map;function Gv(n,t){try{n.container.addComponent(t)}catch(e){Ns.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function $o(n){const t=n.name;if(pp.has(t))return Ns.debug(`There were multiple attempts to register component ${t}.`),!1;pp.set(t,n);for(const e of zf.values())Gv(e,n);for(const e of SR.values())Gv(e,n);return!0}function ey(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function Ln(n){return n==null?!1:n.settings!==void 0}const wR={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Dr=new cu("app","Firebase",wR);class AR{constructor(t,e,i){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ja("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Dr.create("app-deleted",{appName:this._name})}}const ol=ER;function q1(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const i={name:gp,automaticDataCollectionEnabled:!0,...t},a=i.name;if(typeof a!="string"||!a)throw Dr.create("bad-app-name",{appName:String(a)});if(e||(e=L1()),!e)throw Dr.create("no-options");const o=zf.get(a);if(o){if(La(e,o.options)&&La(i,o.config))return o;throw Dr.create("duplicate-app",{appName:a})}const c=new NC(a);for(const f of pp.values())c.addComponent(f);const h=new AR(e,i,c);return zf.set(a,h),h}function G1(n=gp){const t=zf.get(n);if(!t&&n===gp&&L1())return q1();if(!t)throw Dr.create("no-app",{appName:n});return t}function Nr(n,t,e){let i=xR[n]??n;e&&(i+=`-${e}`);const a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){const c=[`Unable to register library "${i}" with version "${t}":`];a&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&o&&c.push("and"),o&&c.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Ns.warn(c.join(" "));return}$o(new ja(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}const CR="firebase-heartbeat-database",RR=1,Kc="firebase-heartbeat-store";let Fg=null;function Y1(){return Fg||(Fg=GC(CR,RR,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Kc)}catch(e){console.warn(e)}}}}).catch(n=>{throw Dr.create("idb-open",{originalErrorMessage:n.message})})),Fg}async function IR(n){try{const e=(await Y1()).transaction(Kc),i=await e.objectStore(Kc).get(K1(n));return await e.done,i}catch(t){if(t instanceof Ls)Ns.warn(t.message);else{const e=Dr.create("idb-get",{originalErrorMessage:t?.message});Ns.warn(e.message)}}}async function Yv(n,t){try{const i=(await Y1()).transaction(Kc,"readwrite");await i.objectStore(Kc).put(t,K1(n)),await i.done}catch(e){if(e instanceof Ls)Ns.warn(e.message);else{const i=Dr.create("idb-set",{originalErrorMessage:e?.message});Ns.warn(i.message)}}}function K1(n){return`${n.name}!${n.options.appId}`}const kR=1024,DR=30;class NR{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new OR(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Kv();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(a=>a.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:e}),this._heartbeatsCache.heartbeats.length>DR){const a=zR(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){Ns.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=Kv(),{heartbeatsToSend:e,unsentEntries:i}=MR(this._heartbeatsCache.heartbeats),a=Of(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Ns.warn(t),""}}}function Kv(){return new Date().toISOString().substring(0,10)}function MR(n,t=kR){const e=[];let i=n.slice();for(const a of n){const o=e.find(c=>c.agent===a.agent);if(o){if(o.dates.push(a.date),$v(e)>t){o.dates.pop();break}}else if(e.push({agent:a.agent,dates:[a.date]}),$v(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class OR{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return vC()?TC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await IR(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return Yv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return Yv(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function $v(n){return Of(JSON.stringify({version:2,heartbeats:n})).length}function zR(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}function VR(n){$o(new ja("platform-logger",t=>new $C(t),"PRIVATE")),$o(new ja("heartbeat",t=>new NR(t),"PRIVATE")),Nr(mp,qv,n),Nr(mp,qv,"esm2020"),Nr("fire-js","")}VR("");var PR="firebase",LR="12.6.0";Nr(PR,LR,"app");function $1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const jR=$1,Q1=new cu("auth","Firebase",$1());const Vf=new Jp("@firebase/auth");function UR(n,...t){Vf.logLevel<=Ut.WARN&&Vf.warn(`Auth (${ol}): ${n}`,...t)}function vf(n,...t){Vf.logLevel<=Ut.ERROR&&Vf.error(`Auth (${ol}): ${n}`,...t)}function xi(n,...t){throw ny(n,...t)}function Zi(n,...t){return ny(n,...t)}function X1(n,t,e){const i={...jR(),[t]:e};return new cu("auth","Firebase",i).create(t,{appName:n.name})}function Ji(n){return X1(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function ny(n,...t){if(typeof n!="string"){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return Q1.create(n,...t)}function wt(n,t,...e){if(!n)throw ny(t,...e)}function ks(n){const t="INTERNAL ASSERTION FAILED: "+n;throw vf(t),new Error(t)}function Ms(n,t){n||ks(t)}function yp(){return typeof self<"u"&&self.location?.href||""}function BR(){return Qv()==="http:"||Qv()==="https:"}function Qv(){return typeof self<"u"&&self.location?.protocol||null}function HR(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(BR()||pC()||"connection"in navigator)?navigator.onLine:!0}function FR(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class hu{constructor(t,e){this.shortDelay=t,this.longDelay=e,Ms(e>t,"Short delay should be less than long delay!"),this.isMobile=dC()||yC()}get(){return HR()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function iy(n,t){Ms(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}class W1{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ks("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ks("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ks("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const qR={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const GR=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],YR=new hu(3e4,6e4);function qr(n,t){return n.tenantId&&!t.tenantId?{...t,tenantId:n.tenantId}:t}async function js(n,t,e,i,a={}){return Z1(n,a,async()=>{let o={},c={};i&&(t==="GET"?c=i:o={body:JSON.stringify(i)});const h=uu({key:n.config.apiKey,...c}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const m={method:t,headers:f,...o};return gC()||(m.referrerPolicy="no-referrer"),n.emulatorConfig&&al(n.emulatorConfig.host)&&(m.credentials="include"),W1.fetch()(await J1(n,n.config.apiHost,e,h),m)})}async function Z1(n,t,e){n._canInitEmulator=!1;const i={...qR,...t};try{const a=new $R(n),o=await Promise.race([e(),a.promise]);a.clearNetworkTimeout();const c=await o.json();if("needConfirmation"in c)throw tf(n,"account-exists-with-different-credential",c);if(o.ok&&!("errorMessage"in c))return c;{const h=o.ok?c.errorMessage:c.error.message,[f,m]=h.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw tf(n,"credential-already-in-use",c);if(f==="EMAIL_EXISTS")throw tf(n,"email-already-in-use",c);if(f==="USER_DISABLED")throw tf(n,"user-disabled",c);const y=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw X1(n,y,m);xi(n,y)}}catch(a){if(a instanceof Ls)throw a;xi(n,"network-request-failed",{message:String(a)})}}async function fu(n,t,e,i,a={}){const o=await js(n,t,e,i,a);return"mfaPendingCredential"in o&&xi(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function J1(n,t,e,i){const a=`${t}${e}?${i}`,o=n,c=o.config.emulator?iy(n.config,a):`${n.config.apiScheme}://${a}`;return GR.includes(e)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(c).toString():c}function KR(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class $R{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(Zi(this.auth,"network-request-failed")),YR.get())})}}function tf(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const a=Zi(n,t,i);return a.customData._tokenResponse=e,a}function Xv(n){return n!==void 0&&n.enterprise!==void 0}class QR{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return KR(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function XR(n,t){return js(n,"GET","/v2/recaptchaConfig",qr(n,t))}async function WR(n,t){return js(n,"POST","/v1/accounts:delete",t)}async function Pf(n,t){return js(n,"POST","/v1/accounts:lookup",t)}function zc(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function ZR(n,t=!1){const e=be(n),i=await e.getIdToken(t),a=sy(i);wt(a&&a.exp&&a.auth_time&&a.iat,e.auth,"internal-error");const o=typeof a.firebase=="object"?a.firebase:void 0,c=o?.sign_in_provider;return{claims:a,token:i,authTime:zc(qg(a.auth_time)),issuedAtTime:zc(qg(a.iat)),expirationTime:zc(qg(a.exp)),signInProvider:c||null,signInSecondFactor:o?.sign_in_second_factor||null}}function qg(n){return Number(n)*1e3}function sy(n){const[t,e,i]=n.split(".");if(t===void 0||e===void 0||i===void 0)return vf("JWT malformed, contained fewer than 3 sections"),null;try{const a=V1(e);return a?JSON.parse(a):(vf("Failed to decode base64 JWT payload"),null)}catch(a){return vf("Caught error parsing JWT payload as JSON",a?.toString()),null}}function Wv(n){const t=sy(n);return wt(t,"internal-error"),wt(typeof t.exp<"u","internal-error"),wt(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Qo(n,t,e=!1){if(e)return t;try{return await t}catch(i){throw i instanceof Ls&&JR(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function JR({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class tI{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class _p{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=zc(this.lastLoginAt),this.creationTime=zc(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Lf(n){const t=n.auth,e=await n.getIdToken(),i=await Qo(n,Pf(t,{idToken:e}));wt(i?.users.length,t,"internal-error");const a=i.users[0];n._notifyReloadListener(a);const o=a.providerUserInfo?.length?tx(a.providerUserInfo):[],c=nI(n.providerData,o),h=n.isAnonymous,f=!(n.email&&a.passwordHash)&&!c?.length,m=h?f:!1,y={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:c,metadata:new _p(a.createdAt,a.lastLoginAt),isAnonymous:m};Object.assign(n,y)}async function eI(n){const t=be(n);await Lf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function nI(n,t){return[...n.filter(i=>!t.some(a=>a.providerId===i.providerId)),...t]}function tx(n){return n.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}async function iI(n,t){const e=await Z1(n,{},async()=>{const i=uu({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:a,apiKey:o}=n.config,c=await J1(n,a,"/v1/token",`key=${o}`),h=await n._getAdditionalHeaders();h["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:h,body:i};return n.emulatorConfig&&al(n.emulatorConfig.host)&&(f.credentials="include"),W1.fetch()(c,f)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function sI(n,t){return js(n,"POST","/v2/accounts:revokeToken",qr(n,t))}class Fo{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){wt(t.idToken,"internal-error"),wt(typeof t.idToken<"u","internal-error"),wt(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):Wv(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){wt(t.length!==0,"internal-error");const e=Wv(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(wt(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:i,refreshToken:a,expiresIn:o}=await iI(t,e);this.updateTokensAndExpiration(i,a,Number(o))}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,e){const{refreshToken:i,accessToken:a,expirationTime:o}=e,c=new Fo;return i&&(wt(typeof i=="string","internal-error",{appName:t}),c.refreshToken=i),a&&(wt(typeof a=="string","internal-error",{appName:t}),c.accessToken=a),o&&(wt(typeof o=="number","internal-error",{appName:t}),c.expirationTime=o),c}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Fo,this.toJSON())}_performRefresh(){return ks("not implemented")}}function Tr(n,t){wt(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class bi{constructor({uid:t,auth:e,stsTokenManager:i,...a}){this.providerId="firebase",this.proactiveRefresh=new tI(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new _p(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(t){const e=await Qo(this,this.stsTokenManager.getToken(this.auth,t));return wt(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return ZR(this,t)}reload(){return eI(this)}_assign(t){this!==t&&(wt(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new bi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){wt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&await Lf(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Ln(this.auth.app))return Promise.reject(Ji(this.auth));const t=await this.getIdToken();return await Qo(this,WR(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const i=e.displayName??void 0,a=e.email??void 0,o=e.phoneNumber??void 0,c=e.photoURL??void 0,h=e.tenantId??void 0,f=e._redirectEventId??void 0,m=e.createdAt??void 0,y=e.lastLoginAt??void 0,{uid:b,emailVerified:T,isAnonymous:x,providerData:A,stsTokenManager:I}=e;wt(b&&I,t,"internal-error");const N=Fo.fromJSON(this.name,I);wt(typeof b=="string",t,"internal-error"),Tr(i,t.name),Tr(a,t.name),wt(typeof T=="boolean",t,"internal-error"),wt(typeof x=="boolean",t,"internal-error"),Tr(o,t.name),Tr(c,t.name),Tr(h,t.name),Tr(f,t.name),Tr(m,t.name),Tr(y,t.name);const B=new bi({uid:b,auth:t,email:a,emailVerified:T,displayName:i,isAnonymous:x,photoURL:c,phoneNumber:o,tenantId:h,stsTokenManager:N,createdAt:m,lastLoginAt:y});return A&&Array.isArray(A)&&(B.providerData=A.map(Q=>({...Q}))),f&&(B._redirectEventId=f),B}static async _fromIdTokenResponse(t,e,i=!1){const a=new Fo;a.updateFromServerResponse(e);const o=new bi({uid:e.localId,auth:t,stsTokenManager:a,isAnonymous:i});return await Lf(o),o}static async _fromGetAccountInfoResponse(t,e,i){const a=e.users[0];wt(a.localId!==void 0,"internal-error");const o=a.providerUserInfo!==void 0?tx(a.providerUserInfo):[],c=!(a.email&&a.passwordHash)&&!o?.length,h=new Fo;h.updateFromIdToken(i);const f=new bi({uid:a.localId,auth:t,stsTokenManager:h,isAnonymous:c}),m={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:o,metadata:new _p(a.createdAt,a.lastLoginAt),isAnonymous:!(a.email&&a.passwordHash)&&!o?.length};return Object.assign(f,m),f}}const Zv=new Map;function Ds(n){Ms(n instanceof Function,"Expected a class definition");let t=Zv.get(n);return t?(Ms(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,Zv.set(n,t),t)}class ex{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}ex.type="NONE";const Jv=ex;function Tf(n,t,e){return`firebase:${n}:${t}:${e}`}class qo{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:a,name:o}=this.auth;this.fullUserKey=Tf(this.userKey,a.apiKey,o),this.fullPersistenceKey=Tf("persistence",a.apiKey,o),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await Pf(this.auth,{idToken:t}).catch(()=>{});return e?bi._fromGetAccountInfoResponse(this.auth,e,t):null}return bi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,i="authUser"){if(!e.length)return new qo(Ds(Jv),t,i);const a=(await Promise.all(e.map(async m=>{if(await m._isAvailable())return m}))).filter(m=>m);let o=a[0]||Ds(Jv);const c=Tf(i,t.config.apiKey,t.name);let h=null;for(const m of e)try{const y=await m._get(c);if(y){let b;if(typeof y=="string"){const T=await Pf(t,{idToken:y}).catch(()=>{});if(!T)break;b=await bi._fromGetAccountInfoResponse(t,T,y)}else b=bi._fromJSON(t,y);m!==o&&(h=b),o=m;break}}catch{}const f=a.filter(m=>m._shouldAllowMigration);return!o._shouldAllowMigration||!f.length?new qo(o,t,i):(o=f[0],h&&await o._set(c,h.toJSON()),await Promise.all(e.map(async m=>{if(m!==o)try{await m._remove(c)}catch{}})),new qo(o,t,i))}}function tT(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(rx(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(nx(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(ox(t))return"Blackberry";if(lx(t))return"Webos";if(ix(t))return"Safari";if((t.includes("chrome/")||sx(t))&&!t.includes("edge/"))return"Chrome";if(ax(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(e);if(i?.length===2)return i[1]}return"Other"}function nx(n=fn()){return/firefox\//i.test(n)}function ix(n=fn()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function sx(n=fn()){return/crios\//i.test(n)}function rx(n=fn()){return/iemobile/i.test(n)}function ax(n=fn()){return/android/i.test(n)}function ox(n=fn()){return/blackberry/i.test(n)}function lx(n=fn()){return/webos/i.test(n)}function ry(n=fn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function rI(n=fn()){return ry(n)&&!!window.navigator?.standalone}function aI(){return _C()&&document.documentMode===10}function cx(n=fn()){return ry(n)||ax(n)||lx(n)||ox(n)||/windows phone/i.test(n)||rx(n)}function ux(n,t=[]){let e;switch(n){case"Browser":e=tT(fn());break;case"Worker":e=`${tT(fn())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${ol}/${i}`}class oI{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=o=>new Promise((c,h)=>{try{const f=t(o);c(f)}catch(f){h(f)}});i.onAbort=e,this.queue.push(i);const a=this.queue.length-1;return()=>{this.queue[a]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const i of this.queue)await i(t),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(const a of e)try{a()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function lI(n,t={}){return js(n,"GET","/v2/passwordPolicy",qr(n,t))}const cI=6;class uI{constructor(t){const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??cI,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,a=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),a&&(e.meetsMaxPasswordLength=t.length<=a)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let i;for(let a=0;a<t.length;a++)i=t.charAt(a),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,a,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=a)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}class hI{constructor(t,e,i,a){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=a,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new eT(this),this.idTokenSubscription=new eT(this),this.beforeStateQueue=new oI(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Q1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=a.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=Ds(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await qo.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await Pf(this,{idToken:t}),i=await bi._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Ln(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let i=e,a=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,c=i?._redirectEventId,h=await this.tryRedirectSignIn(t);(!o||o===c)&&h?.user&&(i=h.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return wt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Lf(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=FR()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Ln(this.app))return Promise.reject(Ji(this));const e=t?be(t):null;return e&&wt(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&wt(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Ln(this.app)?Promise.reject(Ji(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Ln(this.app)?Promise.reject(Ji(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ds(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await lI(this),e=new uI(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new cu("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(i.tenantId=this.tenantId),await sI(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){const i=await this.getOrInitRedirectPersistenceManager(e);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&Ds(t)||this._popupRedirectResolver;wt(e,this,"argument-error"),this.redirectPersistenceManager=await qo.create(this,[Ds(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,a){if(this._deleted)return()=>{};const o=typeof e=="function"?e:e.next.bind(e);let c=!1;const h=this._isInitialized?Promise.resolve():this._initializationPromise;if(wt(h,this,"internal-error"),h.then(()=>{c||o(this.currentUser)}),typeof e=="function"){const f=t.addObserver(e,i,a);return()=>{c=!0,f()}}else{const f=t.addObserver(e);return()=>{c=!0,f()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return wt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=ux(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){if(Ln(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&UR(`Error while retrieving App Check token: ${t.error}`),t?.token}}function Gr(n){return be(n)}class eT{constructor(t){this.auth=t,this.observer=null,this.addObserver=AC(e=>this.observer=e)}get next(){return wt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let od={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function fI(n){od=n}function hx(n){return od.loadJS(n)}function dI(){return od.recaptchaEnterpriseScript}function mI(){return od.gapiScript}function gI(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class pI{constructor(){this.enterprise=new yI}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class yI{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const _I="recaptcha-enterprise",fx="NO_RECAPTCHA";class bI{constructor(t){this.type=_I,this.auth=Gr(t)}async verify(t="verify",e=!1){async function i(o){if(!e){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(c,h)=>{XR(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)h(new Error("recaptcha Enterprise site key undefined"));else{const m=new QR(f);return o.tenantId==null?o._agentRecaptchaConfig=m:o._tenantRecaptchaConfigs[o.tenantId]=m,c(m.siteKey)}}).catch(f=>{h(f)})})}function a(o,c,h){const f=window.grecaptcha;Xv(f)?f.enterprise.ready(()=>{f.enterprise.execute(o,{action:t}).then(m=>{c(m)}).catch(()=>{c(fx)})}):h(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new pI().execute("siteKey",{action:"verify"}):new Promise((o,c)=>{i(this.auth).then(h=>{if(!e&&Xv(window.grecaptcha))a(h,o,c);else{if(typeof window>"u"){c(new Error("RecaptchaVerifier is only supported in browser"));return}let f=dI();f.length!==0&&(f+=h),hx(f).then(()=>{a(h,o,c)}).catch(m=>{c(m)})}}).catch(h=>{c(h)})})}}async function nT(n,t,e,i=!1,a=!1){const o=new bI(n);let c;if(a)c=fx;else try{c=await o.verify(e)}catch{c=await o.verify(e,!0)}const h={...t};if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in h){const f=h.phoneEnrollmentInfo.phoneNumber,m=h.phoneEnrollmentInfo.recaptchaToken;Object.assign(h,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:m,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in h){const f=h.phoneSignInInfo.recaptchaToken;Object.assign(h,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:c,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return h}return i?Object.assign(h,{captchaResp:c}):Object.assign(h,{captchaResponse:c}),Object.assign(h,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(h,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),h}async function bp(n,t,e,i,a){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await nT(n,t,e,e==="getOobCode");return i(n,o)}else return i(n,t).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await nT(n,t,e,e==="getOobCode");return i(n,c)}else return Promise.reject(o)})}function vI(n,t){const e=ey(n,"auth");if(e.isInitialized()){const a=e.getImmediate(),o=e.getOptions();if(La(o,t??{}))return a;xi(a,"already-initialized")}return e.initialize({options:t})}function TI(n,t){const e=t?.persistence||[],i=(Array.isArray(e)?e:[e]).map(Ds);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t?.popupRedirectResolver)}function EI(n,t,e){const i=Gr(n);wt(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const a=!1,o=dx(t),{host:c,port:h}=xI(t),f=h===null?"":`:${h}`,m={url:`${o}//${c}${f}/`},y=Object.freeze({host:c,port:h,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:a})});if(!i._canInitEmulator){wt(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),wt(La(m,i.config.emulator)&&La(y,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=m,i.emulatorConfig=y,i.settings.appVerificationDisabledForTesting=!0,al(c)?(U1(`${o}//${c}${f}`),B1("Auth",!0)):SI()}function dx(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function xI(n){const t=dx(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const i=e[2].split("@").pop()||"",a=/^(\[[^\]]+\])(:|$)/.exec(i);if(a){const o=a[1];return{host:o,port:iT(i.substr(o.length+1))}}else{const[o,c]=i.split(":");return{host:o,port:iT(c)}}}function iT(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function SI(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class ay{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return ks("not implemented")}_getIdTokenResponse(t){return ks("not implemented")}_linkToIdToken(t,e){return ks("not implemented")}_getReauthenticationResolver(t){return ks("not implemented")}}async function wI(n,t){return js(n,"POST","/v1/accounts:signUp",t)}async function AI(n,t){return fu(n,"POST","/v1/accounts:signInWithPassword",qr(n,t))}async function CI(n,t){return fu(n,"POST","/v1/accounts:signInWithEmailLink",qr(n,t))}async function RI(n,t){return fu(n,"POST","/v1/accounts:signInWithEmailLink",qr(n,t))}class $c extends ay{constructor(t,e,i,a=null){super("password",i),this._email=t,this._password=e,this._tenantId=a}static _fromEmailAndPassword(t,e){return new $c(t,e,"password")}static _fromEmailAndCode(t,e,i=null){return new $c(t,e,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e?.email&&e?.password){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bp(t,e,"signInWithPassword",AI);case"emailLink":return CI(t,{email:this._email,oobCode:this._password});default:xi(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const i={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bp(t,i,"signUpPassword",wI);case"emailLink":return RI(t,{idToken:e,email:this._email,oobCode:this._password});default:xi(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function Go(n,t){return fu(n,"POST","/v1/accounts:signInWithIdp",qr(n,t))}const II="http://localhost";class Ua extends ay{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new Ua(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):xi("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:a,...o}=e;if(!i||!a)return null;const c=new Ua(i,a);return c.idToken=o.idToken||void 0,c.accessToken=o.accessToken||void 0,c.secret=o.secret,c.nonce=o.nonce,c.pendingToken=o.pendingToken||null,c}_getIdTokenResponse(t){const e=this.buildRequest();return Go(t,e)}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,Go(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,Go(t,e)}buildRequest(){const t={requestUri:II,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=uu(e)}return t}}function kI(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function DI(n){const t=wc(Ac(n)).link,e=t?wc(Ac(t)).deep_link_id:null,i=wc(Ac(n)).deep_link_id;return(i?wc(Ac(i)).link:null)||i||e||t||n}class oy{constructor(t){const e=wc(Ac(t)),i=e.apiKey??null,a=e.oobCode??null,o=kI(e.mode??null);wt(i&&a&&o,"argument-error"),this.apiKey=i,this.operation=o,this.code=a,this.continueUrl=e.continueUrl??null,this.languageCode=e.lang??null,this.tenantId=e.tenantId??null}static parseLink(t){const e=DI(t);try{return new oy(e)}catch{return null}}}class ll{constructor(){this.providerId=ll.PROVIDER_ID}static credential(t,e){return $c._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const i=oy.parseLink(e);return wt(i,"argument-error"),$c._fromEmailAndCode(t,i.code,i.tenantId)}}ll.PROVIDER_ID="password";ll.EMAIL_PASSWORD_SIGN_IN_METHOD="password";ll.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class mx{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class du extends mx{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Er extends du{constructor(){super("facebook.com")}static credential(t){return Ua._fromParams({providerId:Er.PROVIDER_ID,signInMethod:Er.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Er.credentialFromTaggedObject(t)}static credentialFromError(t){return Er.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Er.credential(t.oauthAccessToken)}catch{return null}}}Er.FACEBOOK_SIGN_IN_METHOD="facebook.com";Er.PROVIDER_ID="facebook.com";class xr extends du{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return Ua._fromParams({providerId:xr.PROVIDER_ID,signInMethod:xr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return xr.credentialFromTaggedObject(t)}static credentialFromError(t){return xr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:i}=t;if(!e&&!i)return null;try{return xr.credential(e,i)}catch{return null}}}xr.GOOGLE_SIGN_IN_METHOD="google.com";xr.PROVIDER_ID="google.com";class Sr extends du{constructor(){super("github.com")}static credential(t){return Ua._fromParams({providerId:Sr.PROVIDER_ID,signInMethod:Sr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Sr.credentialFromTaggedObject(t)}static credentialFromError(t){return Sr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Sr.credential(t.oauthAccessToken)}catch{return null}}}Sr.GITHUB_SIGN_IN_METHOD="github.com";Sr.PROVIDER_ID="github.com";class wr extends du{constructor(){super("twitter.com")}static credential(t,e){return Ua._fromParams({providerId:wr.PROVIDER_ID,signInMethod:wr.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return wr.credentialFromTaggedObject(t)}static credentialFromError(t){return wr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:i}=t;if(!e||!i)return null;try{return wr.credential(e,i)}catch{return null}}}wr.TWITTER_SIGN_IN_METHOD="twitter.com";wr.PROVIDER_ID="twitter.com";async function gx(n,t){return fu(n,"POST","/v1/accounts:signUp",qr(n,t))}class Os{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,i,a=!1){const o=await bi._fromIdTokenResponse(t,i,a),c=sT(i);return new Os({user:o,providerId:c,_tokenResponse:i,operationType:e})}static async _forOperation(t,e,i){await t._updateTokensIfNecessary(i,!0);const a=sT(i);return new Os({user:t,providerId:a,_tokenResponse:i,operationType:e})}}function sT(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}async function NI(n){if(Ln(n.app))return Promise.reject(Ji(n));const t=Gr(n);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new Os({user:t.currentUser,providerId:null,operationType:"signIn"});const e=await gx(t,{returnSecureToken:!0}),i=await Os._fromIdTokenResponse(t,"signIn",e,!0);return await t._updateCurrentUser(i.user),i}class jf extends Ls{constructor(t,e,i,a){super(e.code,e.message),this.operationType=i,this.user=a,Object.setPrototypeOf(this,jf.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,a){return new jf(t,e,i,a)}}function px(n,t,e,i){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?jf._fromErrorAndOperation(n,o,t,i):o})}async function MI(n,t,e=!1){const i=await Qo(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return Os._forOperation(n,"link",i)}async function OI(n,t,e=!1){const{auth:i}=n;if(Ln(i.app))return Promise.reject(Ji(i));const a="reauthenticate";try{const o=await Qo(n,px(i,a,t,n),e);wt(o.idToken,i,"internal-error");const c=sy(o.idToken);wt(c,i,"internal-error");const{sub:h}=c;return wt(n.uid===h,i,"user-mismatch"),Os._forOperation(n,a,o)}catch(o){throw o?.code==="auth/user-not-found"&&xi(i,"user-mismatch"),o}}async function yx(n,t,e=!1){if(Ln(n.app))return Promise.reject(Ji(n));const i="signIn",a=await px(n,i,t),o=await Os._fromIdTokenResponse(n,i,a);return e||await n._updateCurrentUser(o.user),o}async function zI(n,t){return yx(Gr(n),t)}async function _x(n){const t=Gr(n);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function VI(n,t,e){if(Ln(n.app))return Promise.reject(Ji(n));const i=Gr(n),c=await bp(i,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",gx).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&_x(n),f}),h=await Os._fromIdTokenResponse(i,"signIn",c);return await i._updateCurrentUser(h.user),h}function PI(n,t,e){return Ln(n.app)?Promise.reject(Ji(n)):zI(be(n),ll.credential(t,e)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&_x(n),i})}async function LI(n,t){return js(n,"POST","/v1/accounts:update",t)}async function jI(n,{displayName:t,photoURL:e}){if(t===void 0&&e===void 0)return;const i=be(n),o={idToken:await i.getIdToken(),displayName:t,photoUrl:e,returnSecureToken:!0},c=await Qo(i,LI(i.auth,o));i.displayName=c.displayName||null,i.photoURL=c.photoUrl||null;const h=i.providerData.find(({providerId:f})=>f==="password");h&&(h.displayName=i.displayName,h.photoURL=i.photoURL),await i._updateTokensIfNecessary(c)}function UI(n,t,e,i){return be(n).onIdTokenChanged(t,e,i)}function BI(n,t,e){return be(n).beforeAuthStateChanged(t,e)}function HI(n,t,e,i){return be(n).onAuthStateChanged(t,e,i)}function FI(n){return be(n).signOut()}const Uf="__sak";class bx{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Uf,"1"),this.storage.removeItem(Uf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const qI=1e3,GI=10;class vx extends bx{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=cx(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const i=this.storage.getItem(e),a=this.localCache[e];i!==a&&t(e,a,i)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((c,h,f)=>{this.notifyListeners(c,f)});return}const i=t.key;e?this.detachListener():this.stopPolling();const a=()=>{const c=this.storage.getItem(i);!e&&this.localCache[i]===c||this.notifyListeners(i,c)},o=this.storage.getItem(i);aI()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(a,GI):a()}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const a of Array.from(i))a(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:i}),!0)})},qI)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}vx.type="LOCAL";const YI=vx;class Tx extends bx{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}Tx.type="SESSION";const Ex=Tx;function KI(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}class ld{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(a=>a.isListeningto(t));if(e)return e;const i=new ld(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:i,eventType:a,data:o}=e.data,c=this.handlersMap[a];if(!c?.size)return;e.ports[0].postMessage({status:"ack",eventId:i,eventType:a});const h=Array.from(c).map(async m=>m(e.origin,o)),f=await KI(h);e.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:f})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ld.receivers=[];function ly(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(Math.random()*10);return n+e}class $I{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,i=50){const a=typeof MessageChannel<"u"?new MessageChannel:null;if(!a)throw new Error("connection_unavailable");let o,c;return new Promise((h,f)=>{const m=ly("",20);a.port1.start();const y=setTimeout(()=>{f(new Error("unsupported_event"))},i);c={messageChannel:a,onMessage(b){const T=b;if(T.data.eventId===m)switch(T.data.status){case"ack":clearTimeout(y),o=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),h(T.data.response);break;default:clearTimeout(y),clearTimeout(o),f(new Error("invalid_response"));break}}},this.handlers.add(c),a.port1.addEventListener("message",c.onMessage),this.target.postMessage({eventType:t,eventId:m,data:e},[a.port2])}).finally(()=>{c&&this.removeMessageHandler(c)})}}function ts(){return window}function QI(n){ts().location.href=n}function xx(){return typeof ts().WorkerGlobalScope<"u"&&typeof ts().importScripts=="function"}async function XI(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function WI(){return navigator?.serviceWorker?.controller||null}function ZI(){return xx()?self:null}const Sx="firebaseLocalStorageDb",JI=1,Bf="firebaseLocalStorage",wx="fbase_key";class mu{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function cd(n,t){return n.transaction([Bf],t?"readwrite":"readonly").objectStore(Bf)}function tk(){const n=indexedDB.deleteDatabase(Sx);return new mu(n).toPromise()}function vp(){const n=indexedDB.open(Sx,JI);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Bf,{keyPath:wx})}catch(a){e(a)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Bf)?t(i):(i.close(),await tk(),t(await vp()))})})}async function rT(n,t,e){const i=cd(n,!0).put({[wx]:t,value:e});return new mu(i).toPromise()}async function ek(n,t){const e=cd(n,!1).get(t),i=await new mu(e).toPromise();return i===void 0?null:i.value}function aT(n,t){const e=cd(n,!0).delete(t);return new mu(e).toPromise()}const nk=800,ik=3;class Ax{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await vp(),this.db)}async _withRetries(t){let e=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(e++>ik)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return xx()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ld._getInstance(ZI()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await XI(),!this.activeServiceWorker)return;this.sender=new $I(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||WI()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await vp();return await rT(t,Uf,"1"),await aT(t,Uf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(i=>rT(i,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(i=>ek(i,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>aT(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(a=>{const o=cd(a,!1).getAll();return new mu(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],i=new Set;if(t.length!==0)for(const{fbase_key:a,value:o}of t)i.add(a),JSON.stringify(this.localCache[a])!==JSON.stringify(o)&&(this.notifyListeners(a,o),e.push(a));for(const a of Object.keys(this.localCache))this.localCache[a]&&!i.has(a)&&(this.notifyListeners(a,null),e.push(a));return e}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const a of Array.from(i))a(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),nk)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Ax.type="LOCAL";const sk=Ax;new hu(3e4,6e4);function rk(n,t){return t?Ds(t):(wt(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class cy extends ay{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Go(t,this._buildIdpRequest())}_linkToIdToken(t,e){return Go(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return Go(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function ak(n){return yx(n.auth,new cy(n),n.bypassAuthState)}function ok(n){const{auth:t,user:e}=n;return wt(e,t,"internal-error"),OI(e,new cy(n),n.bypassAuthState)}async function lk(n){const{auth:t,user:e}=n;return wt(e,t,"internal-error"),MI(e,new cy(n),n.bypassAuthState)}class Cx{constructor(t,e,i,a,o=!1){this.auth=t,this.resolver=i,this.user=a,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:i,postBody:a,tenantId:o,error:c,type:h}=t;if(c){this.reject(c);return}const f={auth:this.auth,requestUri:e,sessionId:i,tenantId:o||void 0,postBody:a||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(h)(f))}catch(m){this.reject(m)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return ak;case"linkViaPopup":case"linkViaRedirect":return lk;case"reauthViaPopup":case"reauthViaRedirect":return ok;default:xi(this.auth,"internal-error")}}resolve(t){Ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){Ms(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ck=new hu(2e3,1e4);class Bo extends Cx{constructor(t,e,i,a,o){super(t,e,a,o),this.provider=i,this.authWindow=null,this.pollId=null,Bo.currentPopupAction&&Bo.currentPopupAction.cancel(),Bo.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return wt(t,this.auth,"internal-error"),t}async onExecution(){Ms(this.filter.length===1,"Popup operations only handle one event");const t=ly();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(Zi(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Zi(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Bo.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Zi(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,ck.get())};t()}}Bo.currentPopupAction=null;const uk="pendingRedirect",Ef=new Map;class hk extends Cx{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}async execute(){let t=Ef.get(this.auth._key());if(!t){try{const i=await fk(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(e){t=()=>Promise.reject(e)}Ef.set(this.auth._key(),t)}return this.bypassAuthState||Ef.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function fk(n,t){const e=gk(t),i=mk(n);if(!await i._isAvailable())return!1;const a=await i._get(e)==="true";return await i._remove(e),a}function dk(n,t){Ef.set(n._key(),t)}function mk(n){return Ds(n._redirectPersistence)}function gk(n){return Tf(uk,n.config.apiKey,n.name)}async function pk(n,t,e=!1){if(Ln(n.app))return Promise.reject(Ji(n));const i=Gr(n),a=rk(i,t),c=await new hk(i,a,e).execute();return c&&!e&&(delete c.user._redirectEventId,await i._persistUserIfCurrent(c.user),await i._setRedirectUser(null,t)),c}const yk=600*1e3;class _k{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!bk(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!Rx(t)){const i=t.error.code?.split("auth/")[1]||"internal-error";e.onError(Zi(this.auth,i))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=yk&&this.cachedEventUids.clear(),this.cachedEventUids.has(oT(t))}saveEventToCache(t){this.cachedEventUids.add(oT(t)),this.lastProcessedEventTime=Date.now()}}function oT(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function Rx({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function bk(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Rx(n);default:return!1}}async function vk(n,t={}){return js(n,"GET","/v1/projects",t)}const Tk=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ek=/^https?/;async function xk(n){if(n.config.emulator)return;const{authorizedDomains:t}=await vk(n);for(const e of t)try{if(Sk(e))return}catch{}xi(n,"unauthorized-domain")}function Sk(n){const t=yp(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){const c=new URL(n);return c.hostname===""&&i===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&c.hostname===i}if(!Ek.test(e))return!1;if(Tk.test(n))return i===n;const a=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+a+"|"+a+")$","i").test(i)}const wk=new hu(3e4,6e4);function lT(){const n=ts().___jsl;if(n?.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function Ak(n){return new Promise((t,e)=>{function i(){lT(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{lT(),e(Zi(n,"network-request-failed"))},timeout:wk.get()})}if(ts().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(ts().gapi?.load)i();else{const a=gI("iframefcb");return ts()[a]=()=>{gapi.load?i():e(Zi(n,"network-request-failed"))},hx(`${mI()}?onload=${a}`).catch(o=>e(o))}}).catch(t=>{throw xf=null,t})}let xf=null;function Ck(n){return xf=xf||Ak(n),xf}const Rk=new hu(5e3,15e3),Ik="__/auth/iframe",kk="emulator/auth/iframe",Dk={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Nk=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Mk(n){const t=n.config;wt(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?iy(t,kk):`https://${n.config.authDomain}/${Ik}`,i={apiKey:t.apiKey,appName:n.name,v:ol},a=Nk.get(n.config.apiHost);a&&(i.eid=a);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${e}?${uu(i).slice(1)}`}async function Ok(n){const t=await Ck(n),e=ts().gapi;return wt(e,n,"internal-error"),t.open({where:document.body,url:Mk(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Dk,dontclear:!0},i=>new Promise(async(a,o)=>{await i.restyle({setHideOnLeave:!1});const c=Zi(n,"network-request-failed"),h=ts().setTimeout(()=>{o(c)},Rk.get());function f(){ts().clearTimeout(h),a(i)}i.ping(f).then(f,()=>{o(c)})}))}const zk={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Vk=500,Pk=600,Lk="_blank",jk="http://localhost";class cT{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Uk(n,t,e,i=Vk,a=Pk){const o=Math.max((window.screen.availHeight-a)/2,0).toString(),c=Math.max((window.screen.availWidth-i)/2,0).toString();let h="";const f={...zk,width:i.toString(),height:a.toString(),top:o,left:c},m=fn().toLowerCase();e&&(h=sx(m)?Lk:e),nx(m)&&(t=t||jk,f.scrollbars="yes");const y=Object.entries(f).reduce((T,[x,A])=>`${T}${x}=${A},`,"");if(rI(m)&&h!=="_self")return Bk(t||"",h),new cT(null);const b=window.open(t||"",h,y);wt(b,n,"popup-blocked");try{b.focus()}catch{}return new cT(b)}function Bk(n,t){const e=document.createElement("a");e.href=n,e.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}const Hk="__/auth/handler",Fk="emulator/auth/handler",qk=encodeURIComponent("fac");async function uT(n,t,e,i,a,o){wt(n.config.authDomain,n,"auth-domain-config-required"),wt(n.config.apiKey,n,"invalid-api-key");const c={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:ol,eventId:a};if(t instanceof mx){t.setDefaultLanguage(n.languageCode),c.providerId=t.providerId||"",wC(t.getCustomParameters())||(c.customParameters=JSON.stringify(t.getCustomParameters()));for(const[y,b]of Object.entries({}))c[y]=b}if(t instanceof du){const y=t.getScopes().filter(b=>b!=="");y.length>0&&(c.scopes=y.join(","))}n.tenantId&&(c.tid=n.tenantId);const h=c;for(const y of Object.keys(h))h[y]===void 0&&delete h[y];const f=await n._getAppCheckToken(),m=f?`#${qk}=${encodeURIComponent(f)}`:"";return`${Gk(n)}?${uu(h).slice(1)}${m}`}function Gk({config:n}){return n.emulator?iy(n,Fk):`https://${n.authDomain}/${Hk}`}const Gg="webStorageSupport";class Yk{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ex,this._completeRedirectFn=pk,this._overrideRedirectResult=dk}async _openPopup(t,e,i,a){Ms(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const o=await uT(t,e,i,yp(),a);return Uk(t,o,ly())}async _openRedirect(t,e,i,a){await this._originValidation(t);const o=await uT(t,e,i,yp(),a);return QI(o),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:a,promise:o}=this.eventManagers[e];return a?Promise.resolve(a):(Ms(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}async initAndGetManager(t){const e=await Ok(t),i=new _k(t);return e.register("authEvent",a=>(wt(a?.authEvent,t,"invalid-auth-event"),{status:i.onEvent(a.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(Gg,{type:Gg},a=>{const o=a?.[0]?.[Gg];o!==void 0&&e(!!o),xi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=xk(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return cx()||ix()||ry()}}const Kk=Yk;var hT="@firebase/auth",fT="1.11.1";class $k{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){wt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Qk(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Xk(n){$o(new ja("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),a=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:c,authDomain:h}=i.options;wt(c&&!c.includes(":"),"invalid-api-key",{appName:i.name});const f={apiKey:c,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ux(n)},m=new hI(i,a,o,f);return TI(m,e),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),$o(new ja("auth-internal",t=>{const e=Gr(t.getProvider("auth").getImmediate());return(i=>new $k(i))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Nr(hT,fT,Qk(n)),Nr(hT,fT,"esm2020")}const Wk=300,Zk=j1("authIdTokenMaxAge")||Wk;let dT=null;const Jk=n=>async t=>{const e=t&&await t.getIdTokenResult(),i=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(i&&i>Zk)return;const a=e?.token;dT!==a&&(dT=a,await fetch(n,{method:a?"POST":"DELETE",headers:a?{Authorization:`Bearer ${a}`}:{}}))};function tD(n=G1()){const t=ey(n,"auth");if(t.isInitialized())return t.getImmediate();const e=vI(n,{popupRedirectResolver:Kk,persistence:[sk,YI,Ex]}),i=j1("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const c=Jk(o.toString());BI(e,c,()=>c(e.currentUser)),UI(e,h=>c(h))}}const a=P1("auth");return a&&EI(e,`http://${a}`),e}function eD(){return document.getElementsByTagName("head")?.[0]??document}fI({loadJS(n){return new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=a=>{const o=Zi("internal-error");o.customData=a,e(o)},i.type="text/javascript",i.charset="UTF-8",eD().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Xk("Browser");var mT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Mr,Ix;(function(){var n;function t(k,C){function D(){}D.prototype=C.prototype,k.F=C.prototype,k.prototype=new D,k.prototype.constructor=k,k.D=function(P,z,L){for(var O=Array(arguments.length-2),Ct=2;Ct<arguments.length;Ct++)O[Ct-2]=arguments[Ct];return C.prototype[z].apply(P,O)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(i,e),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(k,C,D){D||(D=0);const P=Array(16);if(typeof C=="string")for(var z=0;z<16;++z)P[z]=C.charCodeAt(D++)|C.charCodeAt(D++)<<8|C.charCodeAt(D++)<<16|C.charCodeAt(D++)<<24;else for(z=0;z<16;++z)P[z]=C[D++]|C[D++]<<8|C[D++]<<16|C[D++]<<24;C=k.g[0],D=k.g[1],z=k.g[2];let L=k.g[3],O;O=C+(L^D&(z^L))+P[0]+3614090360&4294967295,C=D+(O<<7&4294967295|O>>>25),O=L+(z^C&(D^z))+P[1]+3905402710&4294967295,L=C+(O<<12&4294967295|O>>>20),O=z+(D^L&(C^D))+P[2]+606105819&4294967295,z=L+(O<<17&4294967295|O>>>15),O=D+(C^z&(L^C))+P[3]+3250441966&4294967295,D=z+(O<<22&4294967295|O>>>10),O=C+(L^D&(z^L))+P[4]+4118548399&4294967295,C=D+(O<<7&4294967295|O>>>25),O=L+(z^C&(D^z))+P[5]+1200080426&4294967295,L=C+(O<<12&4294967295|O>>>20),O=z+(D^L&(C^D))+P[6]+2821735955&4294967295,z=L+(O<<17&4294967295|O>>>15),O=D+(C^z&(L^C))+P[7]+4249261313&4294967295,D=z+(O<<22&4294967295|O>>>10),O=C+(L^D&(z^L))+P[8]+1770035416&4294967295,C=D+(O<<7&4294967295|O>>>25),O=L+(z^C&(D^z))+P[9]+2336552879&4294967295,L=C+(O<<12&4294967295|O>>>20),O=z+(D^L&(C^D))+P[10]+4294925233&4294967295,z=L+(O<<17&4294967295|O>>>15),O=D+(C^z&(L^C))+P[11]+2304563134&4294967295,D=z+(O<<22&4294967295|O>>>10),O=C+(L^D&(z^L))+P[12]+1804603682&4294967295,C=D+(O<<7&4294967295|O>>>25),O=L+(z^C&(D^z))+P[13]+4254626195&4294967295,L=C+(O<<12&4294967295|O>>>20),O=z+(D^L&(C^D))+P[14]+2792965006&4294967295,z=L+(O<<17&4294967295|O>>>15),O=D+(C^z&(L^C))+P[15]+1236535329&4294967295,D=z+(O<<22&4294967295|O>>>10),O=C+(z^L&(D^z))+P[1]+4129170786&4294967295,C=D+(O<<5&4294967295|O>>>27),O=L+(D^z&(C^D))+P[6]+3225465664&4294967295,L=C+(O<<9&4294967295|O>>>23),O=z+(C^D&(L^C))+P[11]+643717713&4294967295,z=L+(O<<14&4294967295|O>>>18),O=D+(L^C&(z^L))+P[0]+3921069994&4294967295,D=z+(O<<20&4294967295|O>>>12),O=C+(z^L&(D^z))+P[5]+3593408605&4294967295,C=D+(O<<5&4294967295|O>>>27),O=L+(D^z&(C^D))+P[10]+38016083&4294967295,L=C+(O<<9&4294967295|O>>>23),O=z+(C^D&(L^C))+P[15]+3634488961&4294967295,z=L+(O<<14&4294967295|O>>>18),O=D+(L^C&(z^L))+P[4]+3889429448&4294967295,D=z+(O<<20&4294967295|O>>>12),O=C+(z^L&(D^z))+P[9]+568446438&4294967295,C=D+(O<<5&4294967295|O>>>27),O=L+(D^z&(C^D))+P[14]+3275163606&4294967295,L=C+(O<<9&4294967295|O>>>23),O=z+(C^D&(L^C))+P[3]+4107603335&4294967295,z=L+(O<<14&4294967295|O>>>18),O=D+(L^C&(z^L))+P[8]+1163531501&4294967295,D=z+(O<<20&4294967295|O>>>12),O=C+(z^L&(D^z))+P[13]+2850285829&4294967295,C=D+(O<<5&4294967295|O>>>27),O=L+(D^z&(C^D))+P[2]+4243563512&4294967295,L=C+(O<<9&4294967295|O>>>23),O=z+(C^D&(L^C))+P[7]+1735328473&4294967295,z=L+(O<<14&4294967295|O>>>18),O=D+(L^C&(z^L))+P[12]+2368359562&4294967295,D=z+(O<<20&4294967295|O>>>12),O=C+(D^z^L)+P[5]+4294588738&4294967295,C=D+(O<<4&4294967295|O>>>28),O=L+(C^D^z)+P[8]+2272392833&4294967295,L=C+(O<<11&4294967295|O>>>21),O=z+(L^C^D)+P[11]+1839030562&4294967295,z=L+(O<<16&4294967295|O>>>16),O=D+(z^L^C)+P[14]+4259657740&4294967295,D=z+(O<<23&4294967295|O>>>9),O=C+(D^z^L)+P[1]+2763975236&4294967295,C=D+(O<<4&4294967295|O>>>28),O=L+(C^D^z)+P[4]+1272893353&4294967295,L=C+(O<<11&4294967295|O>>>21),O=z+(L^C^D)+P[7]+4139469664&4294967295,z=L+(O<<16&4294967295|O>>>16),O=D+(z^L^C)+P[10]+3200236656&4294967295,D=z+(O<<23&4294967295|O>>>9),O=C+(D^z^L)+P[13]+681279174&4294967295,C=D+(O<<4&4294967295|O>>>28),O=L+(C^D^z)+P[0]+3936430074&4294967295,L=C+(O<<11&4294967295|O>>>21),O=z+(L^C^D)+P[3]+3572445317&4294967295,z=L+(O<<16&4294967295|O>>>16),O=D+(z^L^C)+P[6]+76029189&4294967295,D=z+(O<<23&4294967295|O>>>9),O=C+(D^z^L)+P[9]+3654602809&4294967295,C=D+(O<<4&4294967295|O>>>28),O=L+(C^D^z)+P[12]+3873151461&4294967295,L=C+(O<<11&4294967295|O>>>21),O=z+(L^C^D)+P[15]+530742520&4294967295,z=L+(O<<16&4294967295|O>>>16),O=D+(z^L^C)+P[2]+3299628645&4294967295,D=z+(O<<23&4294967295|O>>>9),O=C+(z^(D|~L))+P[0]+4096336452&4294967295,C=D+(O<<6&4294967295|O>>>26),O=L+(D^(C|~z))+P[7]+1126891415&4294967295,L=C+(O<<10&4294967295|O>>>22),O=z+(C^(L|~D))+P[14]+2878612391&4294967295,z=L+(O<<15&4294967295|O>>>17),O=D+(L^(z|~C))+P[5]+4237533241&4294967295,D=z+(O<<21&4294967295|O>>>11),O=C+(z^(D|~L))+P[12]+1700485571&4294967295,C=D+(O<<6&4294967295|O>>>26),O=L+(D^(C|~z))+P[3]+2399980690&4294967295,L=C+(O<<10&4294967295|O>>>22),O=z+(C^(L|~D))+P[10]+4293915773&4294967295,z=L+(O<<15&4294967295|O>>>17),O=D+(L^(z|~C))+P[1]+2240044497&4294967295,D=z+(O<<21&4294967295|O>>>11),O=C+(z^(D|~L))+P[8]+1873313359&4294967295,C=D+(O<<6&4294967295|O>>>26),O=L+(D^(C|~z))+P[15]+4264355552&4294967295,L=C+(O<<10&4294967295|O>>>22),O=z+(C^(L|~D))+P[6]+2734768916&4294967295,z=L+(O<<15&4294967295|O>>>17),O=D+(L^(z|~C))+P[13]+1309151649&4294967295,D=z+(O<<21&4294967295|O>>>11),O=C+(z^(D|~L))+P[4]+4149444226&4294967295,C=D+(O<<6&4294967295|O>>>26),O=L+(D^(C|~z))+P[11]+3174756917&4294967295,L=C+(O<<10&4294967295|O>>>22),O=z+(C^(L|~D))+P[2]+718787259&4294967295,z=L+(O<<15&4294967295|O>>>17),O=D+(L^(z|~C))+P[9]+3951481745&4294967295,k.g[0]=k.g[0]+C&4294967295,k.g[1]=k.g[1]+(z+(O<<21&4294967295|O>>>11))&4294967295,k.g[2]=k.g[2]+z&4294967295,k.g[3]=k.g[3]+L&4294967295}i.prototype.v=function(k,C){C===void 0&&(C=k.length);const D=C-this.blockSize,P=this.C;let z=this.h,L=0;for(;L<C;){if(z==0)for(;L<=D;)a(this,k,L),L+=this.blockSize;if(typeof k=="string"){for(;L<C;)if(P[z++]=k.charCodeAt(L++),z==this.blockSize){a(this,P),z=0;break}}else for(;L<C;)if(P[z++]=k[L++],z==this.blockSize){a(this,P),z=0;break}}this.h=z,this.o+=C},i.prototype.A=function(){var k=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);k[0]=128;for(var C=1;C<k.length-8;++C)k[C]=0;C=this.o*8;for(var D=k.length-8;D<k.length;++D)k[D]=C&255,C/=256;for(this.v(k),k=Array(16),C=0,D=0;D<4;++D)for(let P=0;P<32;P+=8)k[C++]=this.g[D]>>>P&255;return k};function o(k,C){var D=h;return Object.prototype.hasOwnProperty.call(D,k)?D[k]:D[k]=C(k)}function c(k,C){this.h=C;const D=[];let P=!0;for(let z=k.length-1;z>=0;z--){const L=k[z]|0;P&&L==C||(D[z]=L,P=!1)}this.g=D}var h={};function f(k){return-128<=k&&k<128?o(k,function(C){return new c([C|0],C<0?-1:0)}):new c([k|0],k<0?-1:0)}function m(k){if(isNaN(k)||!isFinite(k))return b;if(k<0)return N(m(-k));const C=[];let D=1;for(let P=0;k>=D;P++)C[P]=k/D|0,D*=4294967296;return new c(C,0)}function y(k,C){if(k.length==0)throw Error("number format error: empty string");if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(k.charAt(0)=="-")return N(y(k.substring(1),C));if(k.indexOf("-")>=0)throw Error('number format error: interior "-" character');const D=m(Math.pow(C,8));let P=b;for(let L=0;L<k.length;L+=8){var z=Math.min(8,k.length-L);const O=parseInt(k.substring(L,L+z),C);z<8?(z=m(Math.pow(C,z)),P=P.j(z).add(m(O))):(P=P.j(D),P=P.add(m(O)))}return P}var b=f(0),T=f(1),x=f(16777216);n=c.prototype,n.m=function(){if(I(this))return-N(this).m();let k=0,C=1;for(let D=0;D<this.g.length;D++){const P=this.i(D);k+=(P>=0?P:4294967296+P)*C,C*=4294967296}return k},n.toString=function(k){if(k=k||10,k<2||36<k)throw Error("radix out of range: "+k);if(A(this))return"0";if(I(this))return"-"+N(this).toString(k);const C=m(Math.pow(k,6));var D=this;let P="";for(;;){const z=at(D,C).g;D=B(D,z.j(C));let L=((D.g.length>0?D.g[0]:D.h)>>>0).toString(k);if(D=z,A(D))return L+P;for(;L.length<6;)L="0"+L;P=L+P}},n.i=function(k){return k<0?0:k<this.g.length?this.g[k]:this.h};function A(k){if(k.h!=0)return!1;for(let C=0;C<k.g.length;C++)if(k.g[C]!=0)return!1;return!0}function I(k){return k.h==-1}n.l=function(k){return k=B(this,k),I(k)?-1:A(k)?0:1};function N(k){const C=k.g.length,D=[];for(let P=0;P<C;P++)D[P]=~k.g[P];return new c(D,~k.h).add(T)}n.abs=function(){return I(this)?N(this):this},n.add=function(k){const C=Math.max(this.g.length,k.g.length),D=[];let P=0;for(let z=0;z<=C;z++){let L=P+(this.i(z)&65535)+(k.i(z)&65535),O=(L>>>16)+(this.i(z)>>>16)+(k.i(z)>>>16);P=O>>>16,L&=65535,O&=65535,D[z]=O<<16|L}return new c(D,D[D.length-1]&-2147483648?-1:0)};function B(k,C){return k.add(N(C))}n.j=function(k){if(A(this)||A(k))return b;if(I(this))return I(k)?N(this).j(N(k)):N(N(this).j(k));if(I(k))return N(this.j(N(k)));if(this.l(x)<0&&k.l(x)<0)return m(this.m()*k.m());const C=this.g.length+k.g.length,D=[];for(var P=0;P<2*C;P++)D[P]=0;for(P=0;P<this.g.length;P++)for(let z=0;z<k.g.length;z++){const L=this.i(P)>>>16,O=this.i(P)&65535,Ct=k.i(z)>>>16,J=k.i(z)&65535;D[2*P+2*z]+=O*J,Q(D,2*P+2*z),D[2*P+2*z+1]+=L*J,Q(D,2*P+2*z+1),D[2*P+2*z+1]+=O*Ct,Q(D,2*P+2*z+1),D[2*P+2*z+2]+=L*Ct,Q(D,2*P+2*z+2)}for(k=0;k<C;k++)D[k]=D[2*k+1]<<16|D[2*k];for(k=C;k<2*C;k++)D[k]=0;return new c(D,0)};function Q(k,C){for(;(k[C]&65535)!=k[C];)k[C+1]+=k[C]>>>16,k[C]&=65535,C++}function X(k,C){this.g=k,this.h=C}function at(k,C){if(A(C))throw Error("division by zero");if(A(k))return new X(b,b);if(I(k))return C=at(N(k),C),new X(N(C.g),N(C.h));if(I(C))return C=at(k,N(C)),new X(N(C.g),C.h);if(k.g.length>30){if(I(k)||I(C))throw Error("slowDivide_ only works with positive integers.");for(var D=T,P=C;P.l(k)<=0;)D=nt(D),P=nt(P);var z=lt(D,1),L=lt(P,1);for(P=lt(P,2),D=lt(D,2);!A(P);){var O=L.add(P);O.l(k)<=0&&(z=z.add(D),L=O),P=lt(P,1),D=lt(D,1)}return C=B(k,z.j(C)),new X(z,C)}for(z=b;k.l(C)>=0;){for(D=Math.max(1,Math.floor(k.m()/C.m())),P=Math.ceil(Math.log(D)/Math.LN2),P=P<=48?1:Math.pow(2,P-48),L=m(D),O=L.j(C);I(O)||O.l(k)>0;)D-=P,L=m(D),O=L.j(C);A(L)&&(L=T),z=z.add(L),k=B(k,O)}return new X(z,k)}n.B=function(k){return at(this,k).h},n.and=function(k){const C=Math.max(this.g.length,k.g.length),D=[];for(let P=0;P<C;P++)D[P]=this.i(P)&k.i(P);return new c(D,this.h&k.h)},n.or=function(k){const C=Math.max(this.g.length,k.g.length),D=[];for(let P=0;P<C;P++)D[P]=this.i(P)|k.i(P);return new c(D,this.h|k.h)},n.xor=function(k){const C=Math.max(this.g.length,k.g.length),D=[];for(let P=0;P<C;P++)D[P]=this.i(P)^k.i(P);return new c(D,this.h^k.h)};function nt(k){const C=k.g.length+1,D=[];for(let P=0;P<C;P++)D[P]=k.i(P)<<1|k.i(P-1)>>>31;return new c(D,k.h)}function lt(k,C){const D=C>>5;C%=32;const P=k.g.length-D,z=[];for(let L=0;L<P;L++)z[L]=C>0?k.i(L+D)>>>C|k.i(L+D+1)<<32-C:k.i(L+D);return new c(z,k.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,Ix=i,c.prototype.add=c.prototype.add,c.prototype.multiply=c.prototype.j,c.prototype.modulo=c.prototype.B,c.prototype.compare=c.prototype.l,c.prototype.toNumber=c.prototype.m,c.prototype.toString=c.prototype.toString,c.prototype.getBits=c.prototype.i,c.fromNumber=m,c.fromString=y,Mr=c}).apply(typeof mT<"u"?mT:typeof self<"u"?self:typeof window<"u"?window:{});var ef=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var kx,Cc,Dx,Sf,Tp,Nx,Mx,Ox;(function(){var n,t=Object.defineProperty;function e(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof ef=="object"&&ef];for(var _=0;_<d.length;++_){var E=d[_];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var i=e(this);function a(d,_){if(_)t:{var E=i;d=d.split(".");for(var R=0;R<d.length-1;R++){var F=d[R];if(!(F in E))break t;E=E[F]}d=d[d.length-1],R=E[d],_=_(R),_!=R&&_!=null&&t(E,d,{configurable:!0,writable:!0,value:_})}}a("Symbol.dispose",function(d){return d||Symbol("Symbol.dispose")}),a("Array.prototype.values",function(d){return d||function(){return this[Symbol.iterator]()}}),a("Object.entries",function(d){return d||function(_){var E=[],R;for(R in _)Object.prototype.hasOwnProperty.call(_,R)&&E.push([R,_[R]]);return E}});var o=o||{},c=this||self;function h(d){var _=typeof d;return _=="object"&&d!=null||_=="function"}function f(d,_,E){return d.call.apply(d.bind,arguments)}function m(d,_,E){return m=f,m.apply(null,arguments)}function y(d,_){var E=Array.prototype.slice.call(arguments,1);return function(){var R=E.slice();return R.push.apply(R,arguments),d.apply(this,R)}}function b(d,_){function E(){}E.prototype=_.prototype,d.Z=_.prototype,d.prototype=new E,d.prototype.constructor=d,d.Ob=function(R,F,K){for(var ht=Array(arguments.length-2),Mt=2;Mt<arguments.length;Mt++)ht[Mt-2]=arguments[Mt];return _.prototype[F].apply(R,ht)}}var T=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?d=>d&&AsyncContext.Snapshot.wrap(d):d=>d;function x(d){const _=d.length;if(_>0){const E=Array(_);for(let R=0;R<_;R++)E[R]=d[R];return E}return[]}function A(d,_){for(let R=1;R<arguments.length;R++){const F=arguments[R];var E=typeof F;if(E=E!="object"?E:F?Array.isArray(F)?"array":E:"null",E=="array"||E=="object"&&typeof F.length=="number"){E=d.length||0;const K=F.length||0;d.length=E+K;for(let ht=0;ht<K;ht++)d[E+ht]=F[ht]}else d.push(F)}}class I{constructor(_,E){this.i=_,this.j=E,this.h=0,this.g=null}get(){let _;return this.h>0?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function N(d){c.setTimeout(()=>{throw d},0)}function B(){var d=k;let _=null;return d.g&&(_=d.g,d.g=d.g.next,d.g||(d.h=null),_.next=null),_}class Q{constructor(){this.h=this.g=null}add(_,E){const R=X.get();R.set(_,E),this.h?this.h.next=R:this.g=R,this.h=R}}var X=new I(()=>new at,d=>d.reset());class at{constructor(){this.next=this.g=this.h=null}set(_,E){this.h=_,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let nt,lt=!1,k=new Q,C=()=>{const d=Promise.resolve(void 0);nt=()=>{d.then(D)}};function D(){for(var d;d=B();){try{d.h.call(d.g)}catch(E){N(E)}var _=X;_.j(d),_.h<100&&(_.h++,d.next=_.g,_.g=d)}lt=!1}function P(){this.u=this.u,this.C=this.C}P.prototype.u=!1,P.prototype.dispose=function(){this.u||(this.u=!0,this.N())},P.prototype[Symbol.dispose]=function(){this.dispose()},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function z(d,_){this.type=d,this.g=this.target=_,this.defaultPrevented=!1}z.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!c.addEventListener||!Object.defineProperty)return!1;var d=!1,_=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const E=()=>{};c.addEventListener("test",E,_),c.removeEventListener("test",E,_)}catch{}return d})();function O(d){return/^[\s\xa0]*$/.test(d)}function Ct(d,_){z.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d&&this.init(d,_)}b(Ct,z),Ct.prototype.init=function(d,_){const E=this.type=d.type,R=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;this.target=d.target||d.srcElement,this.g=_,_=d.relatedTarget,_||(E=="mouseover"?_=d.fromElement:E=="mouseout"&&(_=d.toElement)),this.relatedTarget=_,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=d.pointerType,this.state=d.state,this.i=d,d.defaultPrevented&&Ct.Z.h.call(this)},Ct.prototype.h=function(){Ct.Z.h.call(this);const d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var J="closure_listenable_"+(Math.random()*1e6|0),H=0;function ot(d,_,E,R,F){this.listener=d,this.proxy=null,this.src=_,this.type=E,this.capture=!!R,this.ha=F,this.key=++H,this.da=this.fa=!1}function pt(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function St(d,_,E){for(const R in d)_.call(E,d[R],R,d)}function ft(d,_){for(const E in d)_.call(void 0,d[E],E,d)}function M(d){const _={};for(const E in d)_[E]=d[E];return _}const W="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ut(d,_){let E,R;for(let F=1;F<arguments.length;F++){R=arguments[F];for(E in R)d[E]=R[E];for(let K=0;K<W.length;K++)E=W[K],Object.prototype.hasOwnProperty.call(R,E)&&(d[E]=R[E])}}function dt(d){this.src=d,this.g={},this.h=0}dt.prototype.add=function(d,_,E,R,F){const K=d.toString();d=this.g[K],d||(d=this.g[K]=[],this.h++);const ht=ct(d,_,R,F);return ht>-1?(_=d[ht],E||(_.fa=!1)):(_=new ot(_,this.src,K,!!R,F),_.fa=E,d.push(_)),_};function et(d,_){const E=_.type;if(E in d.g){var R=d.g[E],F=Array.prototype.indexOf.call(R,_,void 0),K;(K=F>=0)&&Array.prototype.splice.call(R,F,1),K&&(pt(_),d.g[E].length==0&&(delete d.g[E],d.h--))}}function ct(d,_,E,R){for(let F=0;F<d.length;++F){const K=d[F];if(!K.da&&K.listener==_&&K.capture==!!E&&K.ha==R)return F}return-1}var yt="closure_lm_"+(Math.random()*1e6|0),Dt={};function Nt(d,_,E,R,F){if(Array.isArray(_)){for(let K=0;K<_.length;K++)Nt(d,_[K],E,R,F);return null}return E=pl(E),d&&d[J]?d.J(_,E,h(R)?!!R.capture:!1,F):wi(d,_,E,!1,R,F)}function wi(d,_,E,R,F,K){if(!_)throw Error("Invalid event type");const ht=h(F)?!!F.capture:!!F;let Mt=Xr(d);if(Mt||(d[yt]=Mt=new dt(d)),E=Mt.add(_,E,R,ht,K),E.proxy)return E;if(R=Us(),E.proxy=R,R.src=d,R.listener=E,d.addEventListener)L||(F=ht),F===void 0&&(F=!1),d.addEventListener(_.toString(),R,F);else if(d.attachEvent)d.attachEvent(ai(_.toString()),R);else if(d.addListener&&d.removeListener)d.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Us(){function d(E){return _.call(d.src,d.listener,E)}const _=Qr;return d}function as(d,_,E,R,F){if(Array.isArray(_))for(var K=0;K<_.length;K++)as(d,_[K],E,R,F);else R=h(R)?!!R.capture:!!R,E=pl(E),d&&d[J]?(d=d.i,K=String(_).toString(),K in d.g&&(_=d.g[K],E=ct(_,E,R,F),E>-1&&(pt(_[E]),Array.prototype.splice.call(_,E,1),_.length==0&&(delete d.g[K],d.h--)))):d&&(d=Xr(d))&&(_=d.g[_.toString()],d=-1,_&&(d=ct(_,E,R,F)),(E=d>-1?_[d]:null)&&Bs(E))}function Bs(d){if(typeof d!="number"&&d&&!d.da){var _=d.src;if(_&&_[J])et(_.i,d);else{var E=d.type,R=d.proxy;_.removeEventListener?_.removeEventListener(E,R,d.capture):_.detachEvent?_.detachEvent(ai(E),R):_.addListener&&_.removeListener&&_.removeListener(R),(E=Xr(_))?(et(E,d),E.h==0&&(E.src=null,_[yt]=null)):pt(d)}}}function ai(d){return d in Dt?Dt[d]:Dt[d]="on"+d}function Qr(d,_){if(d.da)d=!0;else{_=new Ct(_,this);const E=d.listener,R=d.ha||d.src;d.fa&&Bs(d),d=E.call(R,_)}return d}function Xr(d){return d=d[yt],d instanceof dt?d:null}var gl="__closure_events_fn_"+(Math.random()*1e9>>>0);function pl(d){return typeof d=="function"?d:(d[gl]||(d[gl]=function(_){return d.handleEvent(_)}),d[gl])}function Ce(){P.call(this),this.i=new dt(this),this.M=this,this.G=null}b(Ce,P),Ce.prototype[J]=!0,Ce.prototype.removeEventListener=function(d,_,E,R){as(this,d,_,E,R)};function je(d,_){var E,R=d.G;if(R)for(E=[];R;R=R.G)E.push(R);if(d=d.M,R=_.type||_,typeof _=="string")_=new z(_,d);else if(_ instanceof z)_.target=_.target||d;else{var F=_;_=new z(R,d),ut(_,F)}F=!0;let K,ht;if(E)for(ht=E.length-1;ht>=0;ht--)K=_.g=E[ht],F=Hs(K,R,!0,_)&&F;if(K=_.g=d,F=Hs(K,R,!0,_)&&F,F=Hs(K,R,!1,_)&&F,E)for(ht=0;ht<E.length;ht++)K=_.g=E[ht],F=Hs(K,R,!1,_)&&F}Ce.prototype.N=function(){if(Ce.Z.N.call(this),this.i){var d=this.i;for(const _ in d.g){const E=d.g[_];for(let R=0;R<E.length;R++)pt(E[R]);delete d.g[_],d.h--}}this.G=null},Ce.prototype.J=function(d,_,E,R){return this.i.add(String(d),_,!1,E,R)},Ce.prototype.K=function(d,_,E,R){return this.i.add(String(d),_,!0,E,R)};function Hs(d,_,E,R){if(_=d.i.g[String(_)],!_)return!0;_=_.concat();let F=!0;for(let K=0;K<_.length;++K){const ht=_[K];if(ht&&!ht.da&&ht.capture==E){const Mt=ht.listener,Te=ht.ha||ht.src;ht.fa&&et(d.i,ht),F=Mt.call(Te,R)!==!1&&F}}return F&&!R.defaultPrevented}function zd(d,_){if(typeof d!="function")if(d&&typeof d.handleEvent=="function")d=m(d.handleEvent,d);else throw Error("Invalid listener argument");return Number(_)>2147483647?-1:c.setTimeout(d,_||0)}function wu(d){d.g=zd(()=>{d.g=null,d.i&&(d.i=!1,wu(d))},d.l);const _=d.h;d.h=null,d.m.apply(null,_)}class mn extends P{constructor(_,E){super(),this.m=_,this.l=E,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:wu(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wr(d){P.call(this),this.h=d,this.g={}}b(Wr,P);var yl=[];function _l(d){St(d.g,function(_,E){this.g.hasOwnProperty(E)&&Bs(_)},d),d.g={}}Wr.prototype.N=function(){Wr.Z.N.call(this),_l(this)},Wr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Fs=c.JSON.stringify,Vd=c.JSON.parse,Au=class{stringify(d){return c.JSON.stringify(d,void 0)}parse(d){return c.JSON.parse(d,void 0)}};function Cu(){}function Ru(){}var oi={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Qe(){z.call(this,"d")}b(Qe,z);function Bn(){z.call(this,"c")}b(Bn,z);var ve={},Iu=null;function $a(){return Iu=Iu||new Ce}ve.Ia="serverreachability";function ku(d){z.call(this,ve.Ia,d)}b(ku,z);function Ai(d){const _=$a();je(_,new ku(_))}ve.STAT_EVENT="statevent";function Zr(d,_){z.call(this,ve.STAT_EVENT,d),this.stat=_}b(Zr,z);function Re(d){const _=$a();je(_,new Zr(_,d))}ve.Ja="timingevent";function Ci(d,_){z.call(this,ve.Ja,d),this.size=_}b(Ci,z);function Ri(d,_){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){d()},_)}function li(){this.g=!0}li.prototype.ua=function(){this.g=!1};function Pd(d,_,E,R,F,K){d.info(function(){if(d.g)if(K){var ht="",Mt=K.split("&");for(let Qt=0;Qt<Mt.length;Qt++){var Te=Mt[Qt].split("=");if(Te.length>1){const de=Te[0];Te=Te[1];const Gn=de.split("_");ht=Gn.length>=2&&Gn[1]=="type"?ht+(de+"="+Te+"&"):ht+(de+"=redacted&")}}}else ht=null;else ht=K;return"XMLHTTP REQ ("+R+") [attempt "+F+"]: "+_+`
`+E+`
`+ht})}function Du(d,_,E,R,F,K,ht){d.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+F+"]: "+_+`
`+E+`
`+K+" "+ht})}function Ii(d,_,E,R){d.info(function(){return"XMLHTTP TEXT ("+_+"): "+Ld(d,E)+(R?" "+R:"")})}function Jr(d,_){d.info(function(){return"TIMEOUT: "+_})}li.prototype.info=function(){};function Ld(d,_){if(!d.g)return _;if(!_)return null;try{const K=JSON.parse(_);if(K){for(d=0;d<K.length;d++)if(Array.isArray(K[d])){var E=K[d];if(!(E.length<2)){var R=E[1];if(Array.isArray(R)&&!(R.length<1)){var F=R[0];if(F!="noop"&&F!="stop"&&F!="close")for(let ht=1;ht<R.length;ht++)R[ht]=""}}}}return Fs(K)}catch{return _}}var ta={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},bl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},vl;function ea(){}b(ea,Cu),ea.prototype.g=function(){return new XMLHttpRequest},vl=new ea;function os(d){return encodeURIComponent(String(d))}function Nu(d){var _=1;d=d.split(":");const E=[];for(;_>0&&d.length;)E.push(d.shift()),_--;return d.length&&E.push(d.join(":")),E}function ci(d,_,E,R){this.j=d,this.i=_,this.l=E,this.S=R||1,this.V=new Wr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ui}function ui(){this.i=null,this.g="",this.h=!1}var Ie={},Fe={};function ki(d,_,E){d.M=1,d.A=na(De(_)),d.u=E,d.R=!0,Qa(d,null)}function Qa(d,_){d.F=Date.now(),Di(d),d.B=De(d.A);var E=d.B,R=d.S;Array.isArray(R)||(R=[String(R)]),Ja(E.i,"t",R),d.C=0,E=d.j.L,d.h=new ui,d.g=Ku(d.j,E?_:null,!d.u),d.P>0&&(d.O=new mn(m(d.Y,d,d.g),d.P)),_=d.V,E=d.g,R=d.ba;var F="readystatechange";Array.isArray(F)||(F&&(yl[0]=F.toString()),F=yl);for(let K=0;K<F.length;K++){const ht=Nt(E,F[K],R||_.handleEvent,!1,_.h||_);if(!ht)break;_.g[ht.key]=ht}_=d.J?M(d.J):{},d.u?(d.v||(d.v="POST"),_["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.B,d.v,d.u,_)):(d.v="GET",d.g.ea(d.B,d.v,null,_)),Ai(),Pd(d.i,d.v,d.B,d.l,d.S,d.u)}ci.prototype.ba=function(d){d=d.target;const _=this.O;_&&di(d)==3?_.j():this.Y(d)},ci.prototype.Y=function(d){try{if(d==this.g)t:{const Mt=di(this.g),Te=this.g.ya(),Qt=this.g.ca();if(!(Mt<3)&&(Mt!=3||this.g&&(this.h.h||this.g.la()||Xe(this.g)))){this.K||Mt!=4||Te==7||(Te==8||Qt<=0?Ai(3):Ai(2)),Ni(this);var _=this.g.ca();this.X=_;var E=jd(this);if(this.o=_==200,Du(this.i,this.v,this.B,this.l,this.S,Mt,_),this.o){if(this.U&&!this.L){e:{if(this.g){var R,F=this.g;if((R=F.g?F.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!O(R)){var K=R;break e}}K=null}if(d=K)Ii(this.i,this.l,d,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Mi(this,d);else{this.o=!1,this.m=3,Re(12),In(this),Hn(this);break t}}if(this.R){d=!0;let de;for(;!this.K&&this.C<E.length;)if(de=Ou(this,E),de==Fe){Mt==4&&(this.m=4,Re(14),d=!1),Ii(this.i,this.l,null,"[Incomplete Response]");break}else if(de==Ie){this.m=4,Re(15),Ii(this.i,this.l,E,"[Invalid Chunk]"),d=!1;break}else Ii(this.i,this.l,de,null),Mi(this,de);if(Mu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Mt!=4||E.length!=0||this.h.h||(this.m=1,Re(16),d=!1),this.o=this.o&&d,!d)Ii(this.i,this.l,E,"[Invalid Chunked Response]"),In(this),Hn(this);else if(E.length>0&&!this.W){this.W=!0;var ht=this.j;ht.g==this&&ht.aa&&!ht.P&&(ht.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),zl(ht),ht.P=!0,Re(11))}}else Ii(this.i,this.l,E,null),Mi(this,E);Mt==4&&In(this),this.o&&!this.K&&(Mt==4?Fu(this.j,this):(this.o=!1,Di(this)))}else cs(this.g),_==400&&E.indexOf("Unknown SID")>0?(this.m=3,Re(12)):(this.m=0,Re(13)),In(this),Hn(this)}}}catch{}finally{}};function jd(d){if(!Mu(d))return d.g.la();const _=Xe(d.g);if(_==="")return"";let E="";const R=_.length,F=di(d.g)==4;if(!d.h.i){if(typeof TextDecoder>"u")return In(d),Hn(d),"";d.h.i=new c.TextDecoder}for(let K=0;K<R;K++)d.h.h=!0,E+=d.h.i.decode(_[K],{stream:!(F&&K==R-1)});return _.length=0,d.h.g+=E,d.C=0,d.h.g}function Mu(d){return d.g?d.v=="GET"&&d.M!=2&&d.j.Aa:!1}function Ou(d,_){var E=d.C,R=_.indexOf(`
`,E);return R==-1?Fe:(E=Number(_.substring(E,R)),isNaN(E)?Ie:(R+=1,R+E>_.length?Fe:(_=_.slice(R,R+E),d.C=R+E,_)))}ci.prototype.cancel=function(){this.K=!0,In(this)};function Di(d){d.T=Date.now()+d.H,Xa(d,d.H)}function Xa(d,_){if(d.D!=null)throw Error("WatchDog timer not null");d.D=Ri(m(d.aa,d),_)}function Ni(d){d.D&&(c.clearTimeout(d.D),d.D=null)}ci.prototype.aa=function(){this.D=null;const d=Date.now();d-this.T>=0?(Jr(this.i,this.B),this.M!=2&&(Ai(),Re(17)),In(this),this.m=2,Hn(this)):Xa(this,this.T-d)};function Hn(d){d.j.I==0||d.K||Fu(d.j,d)}function In(d){Ni(d);var _=d.O;_&&typeof _.dispose=="function"&&_.dispose(),d.O=null,_l(d.V),d.g&&(_=d.g,d.g=null,_.abort(),_.dispose())}function Mi(d,_){try{var E=d.j;if(E.I!=0&&(E.g==d||zi(E.h,d))){if(!d.L&&zi(E.h,d)&&E.I==3){try{var R=E.Ba.g.parse(_)}catch{R=null}if(Array.isArray(R)&&R.length==3){var F=R;if(F[0]==0){t:if(!E.v){if(E.g)if(E.g.F+3e3<d.F)so(E),Ws(E);else break t;ca(E),Re(18)}}else E.xa=F[1],0<E.xa-E.K&&F[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Ri(m(E.Va,E),6e3));Oi(E.h)<=1&&E.ta&&(E.ta=void 0)}else Bi(E,11)}else if((d.L||E.g==d)&&so(E),!O(_))for(F=E.Ba.g.parse(_),_=0;_<F.length;_++){let Qt=F[_];const de=Qt[0];if(!(de<=E.K))if(E.K=de,Qt=Qt[1],E.I==2)if(Qt[0]=="c"){E.M=Qt[1],E.ba=Qt[2];const Gn=Qt[3];Gn!=null&&(E.ka=Gn,E.j.info("VER="+E.ka));const Hi=Qt[4];Hi!=null&&(E.za=Hi,E.j.info("SVER="+E.za));const mi=Qt[5];mi!=null&&typeof mi=="number"&&mi>0&&(R=1.5*mi,E.O=R,E.j.info("backChannelRequestTimeoutMs_="+R)),R=E;const gi=d.g;if(gi){const ua=gi.g?gi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ua){var K=R.h;K.g||ua.indexOf("spdy")==-1&&ua.indexOf("quic")==-1&&ua.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(xl(K,K.h),K.h=null))}if(R.G){const ro=gi.g?gi.g.getResponseHeader("X-HTTP-Session-Id"):null;ro&&(R.wa=ro,Zt(R.J,R.G,ro))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-d.F,E.j.info("Handshake RTT: "+E.T+"ms")),R=E;var ht=d;if(R.na=Yu(R,R.L?R.ba:null,R.W),ht.L){Sl(R.h,ht);var Mt=ht,Te=R.O;Te&&(Mt.H=Te),Mt.D&&(Ni(Mt),Di(Mt)),R.g=ht}else Bu(R);E.i.length>0&&Ui(E)}else Qt[0]!="stop"&&Qt[0]!="close"||Bi(E,7);else E.I==3&&(Qt[0]=="stop"||Qt[0]=="close"?Qt[0]=="stop"?Bi(E,7):Ml(E):Qt[0]!="noop"&&E.l&&E.l.qa(Qt),E.A=0)}}Ai(4)}catch{}}var ke=class{constructor(d,_){this.g=d,this.map=_}};function Tl(d){this.l=d||10,c.PerformanceNavigationTiming?(d=c.performance.getEntriesByType("navigation"),d=d.length>0&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function El(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Oi(d){return d.h?1:d.g?d.g.size:0}function zi(d,_){return d.h?d.h==_:d.g?d.g.has(_):!1}function xl(d,_){d.g?d.g.add(_):d.h=_}function Sl(d,_){d.h&&d.h==_?d.h=null:d.g&&d.g.has(_)&&d.g.delete(_)}Tl.prototype.cancel=function(){if(this.i=wl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function wl(d){if(d.h!=null)return d.i.concat(d.h.G);if(d.g!=null&&d.g.size!==0){let _=d.i;for(const E of d.g.values())_=_.concat(E.G);return _}return x(d.i)}var zu=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Wa(d,_){if(d){d=d.split("&");for(let E=0;E<d.length;E++){const R=d[E].indexOf("=");let F,K=null;R>=0?(F=d[E].substring(0,R),K=d[E].substring(R+1)):F=d[E],_(F,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function kn(d){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let _;d instanceof kn?(this.l=d.l,qe(this,d.j),this.o=d.o,this.g=d.g,qs(this,d.u),this.h=d.h,Al(this,ju(d.i)),this.m=d.m):d&&(_=String(d).match(zu))?(this.l=!1,qe(this,_[1]||"",!0),this.o=Vi(_[2]||""),this.g=Vi(_[3]||"",!0),qs(this,_[4]),this.h=Vi(_[5]||"",!0),Al(this,_[6]||"",!0),this.m=Vi(_[7]||"")):(this.l=!1,this.i=new Ys(null,this.l))}kn.prototype.toString=function(){const d=[];var _=this.j;_&&d.push(ia(_,Za,!0),":");var E=this.g;return(E||_=="file")&&(d.push("//"),(_=this.o)&&d.push(ia(_,Za,!0),"@"),d.push(os(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&d.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&d.push("/"),d.push(ia(E,E.charAt(0)=="/"?Cl:Vu,!0))),(E=this.i.toString())&&d.push("?",E),(E=this.m)&&d.push("#",ia(E,Pu)),d.join("")},kn.prototype.resolve=function(d){const _=De(this);let E=!!d.j;E?qe(_,d.j):E=!!d.o,E?_.o=d.o:E=!!d.g,E?_.g=d.g:E=d.u!=null;var R=d.h;if(E)qs(_,d.u);else if(E=!!d.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var F=_.h.lastIndexOf("/");F!=-1&&(R=_.h.slice(0,F+1)+R)}if(F=R,F==".."||F==".")R="";else if(F.indexOf("./")!=-1||F.indexOf("/.")!=-1){R=F.lastIndexOf("/",0)==0,F=F.split("/");const K=[];for(let ht=0;ht<F.length;){const Mt=F[ht++];Mt=="."?R&&ht==F.length&&K.push(""):Mt==".."?((K.length>1||K.length==1&&K[0]!="")&&K.pop(),R&&ht==F.length&&K.push("")):(K.push(Mt),R=!0)}R=K.join("/")}else R=F}return E?_.h=R:E=d.i.toString()!=="",E?Al(_,ju(d.i)):E=!!d.m,E&&(_.m=d.m),_};function De(d){return new kn(d)}function qe(d,_,E){d.j=E?Vi(_,!0):_,d.j&&(d.j=d.j.replace(/:$/,""))}function qs(d,_){if(_){if(_=Number(_),isNaN(_)||_<0)throw Error("Bad port number "+_);d.u=_}else d.u=null}function Al(d,_,E){_ instanceof Ys?(d.i=_,to(d.i,d.l)):(E||(_=ia(_,Gs)),d.i=new Ys(_,d.l))}function Zt(d,_,E){d.i.set(_,E)}function na(d){return Zt(d,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),d}function Vi(d,_){return d?_?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function ia(d,_,E){return typeof d=="string"?(d=encodeURI(d).replace(_,_n),E&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function _n(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var Za=/[#\/\?@]/g,Vu=/[#\?:]/g,Cl=/[#\?]/g,Gs=/[#\?@]/g,Pu=/#/g;function Ys(d,_){this.h=this.g=null,this.i=d||null,this.j=!!_}function bn(d){d.g||(d.g=new Map,d.h=0,d.i&&Wa(d.i,function(_,E){d.add(decodeURIComponent(_.replace(/\+/g," ")),E)}))}n=Ys.prototype,n.add=function(d,_){bn(this),this.i=null,d=Ks(this,d);let E=this.g.get(d);return E||this.g.set(d,E=[]),E.push(_),this.h+=1,this};function Lu(d,_){bn(d),_=Ks(d,_),d.g.has(_)&&(d.i=null,d.h-=d.g.get(_).length,d.g.delete(_))}function Rl(d,_){return bn(d),_=Ks(d,_),d.g.has(_)}n.forEach=function(d,_){bn(this),this.g.forEach(function(E,R){E.forEach(function(F){d.call(_,F,R,this)},this)},this)};function Il(d,_){bn(d);let E=[];if(typeof _=="string")Rl(d,_)&&(E=E.concat(d.g.get(Ks(d,_))));else for(d=Array.from(d.g.values()),_=0;_<d.length;_++)E=E.concat(d[_]);return E}n.set=function(d,_){return bn(this),this.i=null,d=Ks(this,d),Rl(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[_]),this.h+=1,this},n.get=function(d,_){return d?(d=Il(this,d),d.length>0?String(d[0]):_):_};function Ja(d,_,E){Lu(d,_),E.length>0&&(d.i=null,d.g.set(Ks(d,_),x(E)),d.h+=E.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],_=Array.from(this.g.keys());for(let R=0;R<_.length;R++){var E=_[R];const F=os(E);E=Il(this,E);for(let K=0;K<E.length;K++){let ht=F;E[K]!==""&&(ht+="="+os(E[K])),d.push(ht)}}return this.i=d.join("&")};function ju(d){const _=new Ys;return _.i=d.i,d.g&&(_.g=new Map(d.g),_.h=d.h),_}function Ks(d,_){return _=String(_),d.j&&(_=_.toLowerCase()),_}function to(d,_){_&&!d.j&&(bn(d),d.i=null,d.g.forEach(function(E,R){const F=R.toLowerCase();R!=F&&(Lu(this,R),Ja(this,F,E))},d)),d.j=_}function hi(d,_){const E=new li;if(c.Image){const R=new Image;R.onload=y(Fn,E,"TestLoadImage: loaded",!0,_,R),R.onerror=y(Fn,E,"TestLoadImage: error",!1,_,R),R.onabort=y(Fn,E,"TestLoadImage: abort",!1,_,R),R.ontimeout=y(Fn,E,"TestLoadImage: timeout",!1,_,R),c.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=d}else _(!1)}function kl(d,_){const E=new li,R=new AbortController,F=setTimeout(()=>{R.abort(),Fn(E,"TestPingServer: timeout",!1,_)},1e4);fetch(d,{signal:R.signal}).then(K=>{clearTimeout(F),K.ok?Fn(E,"TestPingServer: ok",!0,_):Fn(E,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(F),Fn(E,"TestPingServer: error",!1,_)})}function Fn(d,_,E,R,F){try{F&&(F.onload=null,F.onerror=null,F.onabort=null,F.ontimeout=null),R(E)}catch{}}function $s(){this.g=new Au}function Pi(d){this.i=d.Sb||null,this.h=d.ab||!1}b(Pi,Cu),Pi.prototype.g=function(){return new sa(this.i,this.h)};function sa(d,_){Ce.call(this),this.H=d,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}b(sa,Ce),n=sa.prototype,n.open=function(d,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=d,this.D=_,this.readyState=1,fi(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const _={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};d&&(_.body=d),(this.H||c).fetch(new Request(this.D,_)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Qs(this)),this.readyState=0},n.Pa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,fi(this)),this.g&&(this.readyState=3,fi(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;eo(this)}else d.text().then(this.Oa.bind(this),this.ga.bind(this))};function eo(d){d.j.read().then(d.Ma.bind(d)).catch(d.ga.bind(d))}n.Ma=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var _=d.value?d.value:new Uint8Array(0);(_=this.B.decode(_,{stream:!d.done}))&&(this.response=this.responseText+=_)}d.done?Qs(this):fi(this),this.readyState==3&&eo(this)}},n.Oa=function(d){this.g&&(this.response=this.responseText=d,Qs(this))},n.Na=function(d){this.g&&(this.response=d,Qs(this))},n.ga=function(){this.g&&Qs(this)};function Qs(d){d.readyState=4,d.l=null,d.j=null,d.B=null,fi(d)}n.setRequestHeader=function(d,_){this.A.append(d,_)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],_=this.h.entries();for(var E=_.next();!E.done;)E=E.value,d.push(E[0]+": "+E[1]),E=_.next();return d.join(`\r
`)};function fi(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(sa.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function qn(d){let _="";return St(d,function(E,R){_+=R,_+=":",_+=E,_+=`\r
`}),_}function ra(d,_,E){t:{for(R in E){var R=!1;break t}R=!0}R||(E=qn(E),typeof d=="string"?E!=null&&os(E):Zt(d,_,E))}function ne(d){Ce.call(this),this.headers=new Map,this.L=d||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}b(ne,Ce);var Li=/^https?$/i,Dl=["POST","PUT"];n=ne.prototype,n.Fa=function(d){this.H=d},n.ea=function(d,_,E,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);_=_?_.toUpperCase():"GET",this.D=d,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():vl.g(),this.g.onreadystatechange=T(m(this.Ca,this));try{this.B=!0,this.g.open(_,String(d),!0),this.B=!1}catch(K){aa(this,K);return}if(d=E||"",E=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var F in R)E.set(F,R[F]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const K of R.keys())E.set(K,R.get(K));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(E.keys()).find(K=>K.toLowerCase()=="content-type"),F=c.FormData&&d instanceof c.FormData,!(Array.prototype.indexOf.call(Dl,_,void 0)>=0)||R||F||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,ht]of E)this.g.setRequestHeader(K,ht);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(d),this.v=!1}catch(K){aa(this,K)}};function aa(d,_){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=_,d.o=5,Nl(d),ls(d)}function Nl(d){d.A||(d.A=!0,je(d,"complete"),je(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=d||7,je(this,"complete"),je(this,"abort"),ls(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),ls(this,!0)),ne.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?oa(this):this.Xa())},n.Xa=function(){oa(this)};function oa(d){if(d.h&&typeof o<"u"){if(d.v&&di(d)==4)setTimeout(d.Ca.bind(d),0);else if(je(d,"readystatechange"),di(d)==4){d.h=!1;try{const K=d.ca();t:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break t;default:_=!1}var E;if(!(E=_)){var R;if(R=K===0){let ht=String(d.D).match(zu)[1]||null;!ht&&c.self&&c.self.location&&(ht=c.self.location.protocol.slice(0,-1)),R=!Li.test(ht?ht.toLowerCase():"")}E=R}if(E)je(d,"complete"),je(d,"success");else{d.o=6;try{var F=di(d)>2?d.g.statusText:""}catch{F=""}d.l=F+" ["+d.ca()+"]",Nl(d)}}finally{ls(d)}}}}function ls(d,_){if(d.g){d.m&&(clearTimeout(d.m),d.m=null);const E=d.g;d.g=null,_||je(d,"ready");try{E.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function di(d){return d.g?d.g.readyState:0}n.ca=function(){try{return di(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(d){if(this.g){var _=this.g.responseText;return d&&_.indexOf(d)==0&&(_=_.substring(d.length)),Vd(_)}};function Xe(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.F){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function cs(d){const _={};d=(d.g&&di(d)>=2&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<d.length;R++){if(O(d[R]))continue;var E=Nu(d[R]);const F=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const K=_[F]||[];_[F]=K,K.push(E)}ft(_,function(R){return R.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ji(d,_,E){return E&&E.internalChannelParams&&E.internalChannelParams[d]||_}function Xs(d){this.za=0,this.i=[],this.j=new li,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ji("failFast",!1,d),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ji("baseRetryDelayMs",5e3,d),this.Za=ji("retryDelaySeedMs",1e4,d),this.Ta=ji("forwardChannelMaxRetries",2,d),this.va=ji("forwardChannelRequestTimeoutMs",2e4,d),this.ma=d&&d.xmlHttpFactory||void 0,this.Ua=d&&d.Rb||void 0,this.Aa=d&&d.useFetchStreams||!1,this.O=void 0,this.L=d&&d.supportsCrossDomainXhr||!1,this.M="",this.h=new Tl(d&&d.concurrentRequestLimit),this.Ba=new $s,this.S=d&&d.fastHandshake||!1,this.R=d&&d.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=d&&d.Pb||!1,d&&d.ua&&this.j.ua(),d&&d.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&d&&d.detectBufferingProxy||!1,this.ia=void 0,d&&d.longPollingTimeout&&d.longPollingTimeout>0&&(this.ia=d.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=Xs.prototype,n.ka=8,n.I=1,n.connect=function(d,_,E,R){Re(0),this.W=d,this.H=_||{},E&&R!==void 0&&(this.H.OSID=E,this.H.OAID=R),this.F=this.X,this.J=Yu(this,null,this.W),Ui(this)};function Ml(d){if(no(d),d.I==3){var _=d.V++,E=De(d.J);if(Zt(E,"SID",d.M),Zt(E,"RID",_),Zt(E,"TYPE","terminate"),la(d,E),_=new ci(d,d.j,_),_.M=2,_.A=na(De(E)),E=!1,c.navigator&&c.navigator.sendBeacon)try{E=c.navigator.sendBeacon(_.A.toString(),"")}catch{}!E&&c.Image&&(new Image().src=_.A,E=!0),E||(_.g=Ku(_.j,null),_.g.ea(_.A)),_.F=Date.now(),Di(_)}Gu(d)}function Ws(d){d.g&&(zl(d),d.g.cancel(),d.g=null)}function no(d){Ws(d),d.v&&(c.clearTimeout(d.v),d.v=null),so(d),d.h.cancel(),d.m&&(typeof d.m=="number"&&c.clearTimeout(d.m),d.m=null)}function Ui(d){if(!El(d.h)&&!d.m){d.m=!0;var _=d.Ea;nt||C(),lt||(nt(),lt=!0),k.add(_,d),d.D=0}}function io(d,_){return Oi(d.h)>=d.h.j-(d.m?1:0)?!1:d.m?(d.i=_.G.concat(d.i),!0):d.I==1||d.I==2||d.D>=(d.Sa?0:d.Ta)?!1:(d.m=Ri(m(d.Ea,d,_),qu(d,d.D)),d.D++,!0)}n.Ea=function(d){if(this.m)if(this.m=null,this.I==1){if(!d){this.V=Math.floor(Math.random()*1e5),d=this.V++;const F=new ci(this,this.j,d);let K=this.o;if(this.U&&(K?(K=M(K),ut(K,this.U)):K=this.U),this.u!==null||this.R||(F.J=K,K=null),this.S)t:{for(var _=0,E=0;E<this.i.length;E++){e:{var R=this.i[E];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break e}R=void 0}if(R===void 0)break;if(_+=R,_>4096){_=E;break t}if(_===4096||E===this.i.length-1){_=E+1;break t}}_=1e3}else _=1e3;_=Uu(this,F,_),E=De(this.J),Zt(E,"RID",d),Zt(E,"CVER",22),this.G&&Zt(E,"X-HTTP-Session-Id",this.G),la(this,E),K&&(this.R?_="headers="+os(qn(K))+"&"+_:this.u&&ra(E,this.u,K)),xl(this.h,F),this.Ra&&Zt(E,"TYPE","init"),this.S?(Zt(E,"$req",_),Zt(E,"SID","null"),F.U=!0,ki(F,E,null)):ki(F,E,_),this.I=2}}else this.I==3&&(d?Ol(this,d):this.i.length==0||El(this.h)||Ol(this))};function Ol(d,_){var E;_?E=_.l:E=d.V++;const R=De(d.J);Zt(R,"SID",d.M),Zt(R,"RID",E),Zt(R,"AID",d.K),la(d,R),d.u&&d.o&&ra(R,d.u,d.o),E=new ci(d,d.j,E,d.D+1),d.u===null&&(E.J=d.o),_&&(d.i=_.G.concat(d.i)),_=Uu(d,E,1e3),E.H=Math.round(d.va*.5)+Math.round(d.va*.5*Math.random()),xl(d.h,E),ki(E,R,_)}function la(d,_){d.H&&St(d.H,function(E,R){Zt(_,R,E)}),d.l&&St({},function(E,R){Zt(_,R,E)})}function Uu(d,_,E){E=Math.min(d.i.length,E);const R=d.l?m(d.l.Ka,d.l,d):null;t:{var F=d.i;let Mt=-1;for(;;){const Te=["count="+E];Mt==-1?E>0?(Mt=F[0].g,Te.push("ofs="+Mt)):Mt=0:Te.push("ofs="+Mt);let Qt=!0;for(let de=0;de<E;de++){var K=F[de].g;const Gn=F[de].map;if(K-=Mt,K<0)Mt=Math.max(0,F[de].g-100),Qt=!1;else try{K="req"+K+"_"||"";try{var ht=Gn instanceof Map?Gn:Object.entries(Gn);for(const[Hi,mi]of ht){let gi=mi;h(mi)&&(gi=Fs(mi)),Te.push(K+Hi+"="+encodeURIComponent(gi))}}catch(Hi){throw Te.push(K+"type="+encodeURIComponent("_badmap")),Hi}}catch{R&&R(Gn)}}if(Qt){ht=Te.join("&");break t}}ht=void 0}return d=d.i.splice(0,E),_.G=d,ht}function Bu(d){if(!d.g&&!d.v){d.Y=1;var _=d.Da;nt||C(),lt||(nt(),lt=!0),k.add(_,d),d.A=0}}function ca(d){return d.g||d.v||d.A>=3?!1:(d.Y++,d.v=Ri(m(d.Da,d),qu(d,d.A)),d.A++,!0)}n.Da=function(){if(this.v=null,Hu(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var d=4*this.T;this.j.info("BP detection timer enabled: "+d),this.B=Ri(m(this.Wa,this),d)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Re(10),Ws(this),Hu(this))};function zl(d){d.B!=null&&(c.clearTimeout(d.B),d.B=null)}function Hu(d){d.g=new ci(d,d.j,"rpc",d.Y),d.u===null&&(d.g.J=d.o),d.g.P=0;var _=De(d.na);Zt(_,"RID","rpc"),Zt(_,"SID",d.M),Zt(_,"AID",d.K),Zt(_,"CI",d.F?"0":"1"),!d.F&&d.ia&&Zt(_,"TO",d.ia),Zt(_,"TYPE","xmlhttp"),la(d,_),d.u&&d.o&&ra(_,d.u,d.o),d.O&&(d.g.H=d.O);var E=d.g;d=d.ba,E.M=1,E.A=na(De(_)),E.u=null,E.R=!0,Qa(E,d)}n.Va=function(){this.C!=null&&(this.C=null,Ws(this),ca(this),Re(19))};function so(d){d.C!=null&&(c.clearTimeout(d.C),d.C=null)}function Fu(d,_){var E=null;if(d.g==_){so(d),zl(d),d.g=null;var R=2}else if(zi(d.h,_))E=_.G,Sl(d.h,_),R=1;else return;if(d.I!=0){if(_.o)if(R==1){E=_.u?_.u.length:0,_=Date.now()-_.F;var F=d.D;R=$a(),je(R,new Ci(R,E)),Ui(d)}else Bu(d);else if(F=_.m,F==3||F==0&&_.X>0||!(R==1&&io(d,_)||R==2&&ca(d)))switch(E&&E.length>0&&(_=d.h,_.i=_.i.concat(E)),F){case 1:Bi(d,5);break;case 4:Bi(d,10);break;case 3:Bi(d,6);break;default:Bi(d,2)}}}function qu(d,_){let E=d.Qa+Math.floor(Math.random()*d.Za);return d.isActive()||(E*=2),E*_}function Bi(d,_){if(d.j.info("Error code "+_),_==2){var E=m(d.bb,d),R=d.Ua;const F=!R;R=new kn(R||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||qe(R,"https"),na(R),F?hi(R.toString(),E):kl(R.toString(),E)}else Re(2);d.I=0,d.l&&d.l.pa(_),Gu(d),no(d)}n.bb=function(d){d?(this.j.info("Successfully pinged google.com"),Re(2)):(this.j.info("Failed to ping google.com"),Re(1))};function Gu(d){if(d.I=0,d.ja=[],d.l){const _=wl(d.h);(_.length!=0||d.i.length!=0)&&(A(d.ja,_),A(d.ja,d.i),d.h.i.length=0,x(d.i),d.i.length=0),d.l.oa()}}function Yu(d,_,E){var R=E instanceof kn?De(E):new kn(E);if(R.g!="")_&&(R.g=_+"."+R.g),qs(R,R.u);else{var F=c.location;R=F.protocol,_=_?_+"."+F.hostname:F.hostname,F=+F.port;const K=new kn(null);R&&qe(K,R),_&&(K.g=_),F&&qs(K,F),E&&(K.h=E),R=K}return E=d.G,_=d.wa,E&&_&&Zt(R,E,_),Zt(R,"VER",d.ka),la(d,R),R}function Ku(d,_,E){if(_&&!d.L)throw Error("Can't create secondary domain capable XhrIo object.");return _=d.Aa&&!d.ma?new ne(new Pi({ab:E})):new ne(d.ma),_.Fa(d.L),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function $u(){}n=$u.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function Zs(){}Zs.prototype.g=function(d,_){return new gn(d,_)};function gn(d,_){Ce.call(this),this.g=new Xs(_),this.l=d,this.h=_&&_.messageUrlParams||null,d=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(d?d["X-WebChannel-Content-Type"]=_.messageContentType:d={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.sa&&(d?d["X-WebChannel-Client-Profile"]=_.sa:d={"X-WebChannel-Client-Profile":_.sa}),this.g.U=d,(d=_&&_.Qb)&&!O(d)&&(this.g.u=d),this.A=_&&_.supportsCrossDomainXhr||!1,this.v=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!O(_)&&(this.g.G=_,d=this.h,d!==null&&_ in d&&(d=this.h,_ in d&&delete d[_])),this.j=new us(this)}b(gn,Ce),gn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},gn.prototype.close=function(){Ml(this.g)},gn.prototype.o=function(d){var _=this.g;if(typeof d=="string"){var E={};E.__data__=d,d=E}else this.v&&(E={},E.__data__=Fs(d),d=E);_.i.push(new ke(_.Ya++,d)),_.I==3&&Ui(_)},gn.prototype.N=function(){this.g.l=null,delete this.j,Ml(this.g),delete this.g,gn.Z.N.call(this)};function Qu(d){Qe.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var _=d.__sm__;if(_){t:{for(const E in _){d=E;break t}d=void 0}(this.i=d)&&(d=this.i,_=_!==null&&d in _?_[d]:void 0),this.data=_}else this.data=d}b(Qu,Qe);function Xu(){Bn.call(this),this.status=1}b(Xu,Bn);function us(d){this.g=d}b(us,$u),us.prototype.ra=function(){je(this.g,"a")},us.prototype.qa=function(d){je(this.g,new Qu(d))},us.prototype.pa=function(d){je(this.g,new Xu)},us.prototype.oa=function(){je(this.g,"b")},Zs.prototype.createWebChannel=Zs.prototype.g,gn.prototype.send=gn.prototype.o,gn.prototype.open=gn.prototype.m,gn.prototype.close=gn.prototype.close,Ox=function(){return new Zs},Mx=function(){return $a()},Nx=ve,Tp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ta.NO_ERROR=0,ta.TIMEOUT=8,ta.HTTP_ERROR=6,Sf=ta,bl.COMPLETE="complete",Dx=bl,Ru.EventType=oi,oi.OPEN="a",oi.CLOSE="b",oi.ERROR="c",oi.MESSAGE="d",Ce.prototype.listen=Ce.prototype.J,Cc=Ru,ne.prototype.listenOnce=ne.prototype.K,ne.prototype.getLastError=ne.prototype.Ha,ne.prototype.getLastErrorCode=ne.prototype.ya,ne.prototype.getStatus=ne.prototype.ca,ne.prototype.getResponseJson=ne.prototype.La,ne.prototype.getResponseText=ne.prototype.la,ne.prototype.send=ne.prototype.ea,ne.prototype.setWithCredentials=ne.prototype.Fa,kx=ne}).apply(typeof ef<"u"?ef:typeof self<"u"?self:typeof window<"u"?window:{});const gT="@firebase/firestore",pT="4.9.2";let cn=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};cn.UNAUTHENTICATED=new cn(null),cn.GOOGLE_CREDENTIALS=new cn("google-credentials-uid"),cn.FIRST_PARTY=new cn("first-party-uid"),cn.MOCK_USER=new cn("mock-user");let cl="12.3.0";const Ba=new Jp("@firebase/firestore");function Po(){return Ba.logLevel}function _t(n,...t){if(Ba.logLevel<=Ut.DEBUG){const e=t.map(uy);Ba.debug(`Firestore (${cl}): ${n}`,...e)}}function zs(n,...t){if(Ba.logLevel<=Ut.ERROR){const e=t.map(uy);Ba.error(`Firestore (${cl}): ${n}`,...e)}}function Xo(n,...t){if(Ba.logLevel<=Ut.WARN){const e=t.map(uy);Ba.warn(`Firestore (${cl}): ${n}`,...e)}}function uy(n){if(typeof n=="string")return n;try{return(function(e){return JSON.stringify(e)})(n)}catch{return n}}function At(n,t,e){let i="Unexpected state";typeof t=="string"?i=t:e=t,zx(n,i,e)}function zx(n,t,e){let i=`FIRESTORE (${cl}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{i+=" CONTEXT: "+JSON.stringify(e)}catch{i+=" CONTEXT: "+e}throw zs(i),new Error(i)}function Wt(n,t,e,i){let a="Unexpected state";typeof e=="string"?a=e:i=e,n||zx(t,a,i)}function kt(n,t){return n}const it={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class gt extends Ls{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Or{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}class Vx{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class nD{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(cn.UNAUTHENTICATED)))}shutdown(){}}class iD{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class sD{constructor(t){this.t=t,this.currentUser=cn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){Wt(this.o===void 0,42304);let i=this.i;const a=f=>this.i!==i?(i=this.i,e(f)):Promise.resolve();let o=new Or;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Or,t.enqueueRetryable((()=>a(this.currentUser)))};const c=()=>{const f=o;t.enqueueRetryable((async()=>{await f.promise,await a(this.currentUser)}))},h=f=>{_t("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),c())};this.t.onInit((f=>h(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?h(f):(_t("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Or)}}),0),c()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((i=>this.i!==t?(_t("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(Wt(typeof i.accessToken=="string",31837,{l:i}),new Vx(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Wt(t===null||typeof t=="string",2055,{h:t}),new cn(t)}}class rD{constructor(t,e,i){this.P=t,this.T=e,this.I=i,this.type="FirstParty",this.user=cn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class aD{constructor(t,e,i){this.P=t,this.T=e,this.I=i}getToken(){return Promise.resolve(new rD(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(cn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class yT{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class oD{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Ln(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){Wt(this.o===void 0,3512);const i=o=>{o.error!=null&&_t("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.m;return this.m=o.token,_t("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable((()=>i(o)))};const a=o=>{_t("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>a(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?a(o):_t("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new yT(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(Wt(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new yT(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function lD(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class hy{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const a=lD(40);for(let o=0;o<a.length;++o)i.length<20&&a[o]<e&&(i+=t.charAt(a[o]%62))}return i}}function Bt(n,t){return n<t?-1:n>t?1:0}function Ep(n,t){const e=Math.min(n.length,t.length);for(let i=0;i<e;i++){const a=n.charAt(i),o=t.charAt(i);if(a!==o)return Yg(a)===Yg(o)?Bt(a,o):Yg(a)?1:-1}return Bt(n.length,t.length)}const cD=55296,uD=57343;function Yg(n){const t=n.charCodeAt(0);return t>=cD&&t<=uD}function Wo(n,t,e){return n.length===t.length&&n.every(((i,a)=>e(i,t[a])))}const _T="__name__";class Xi{constructor(t,e,i){e===void 0?e=0:e>t.length&&At(637,{offset:e,range:t.length}),i===void 0?i=t.length-e:i>t.length-e&&At(1746,{length:i,range:t.length-e}),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return Xi.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof Xi?t.forEach((i=>{e.push(i)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let a=0;a<i;a++){const o=Xi.compareSegments(t.get(a),e.get(a));if(o!==0)return o}return Bt(t.length,e.length)}static compareSegments(t,e){const i=Xi.isNumericId(t),a=Xi.isNumericId(e);return i&&!a?-1:!i&&a?1:i&&a?Xi.extractNumericId(t).compare(Xi.extractNumericId(e)):Ep(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Mr.fromString(t.substring(4,t.length-2))}}class oe extends Xi{construct(t,e,i){return new oe(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new gt(it.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((a=>a.length>0)))}return new oe(e)}static emptyPath(){return new oe([])}}const hD=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sn extends Xi{construct(t,e,i){return new sn(t,e,i)}static isValidIdentifier(t){return hD.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===_T}static keyField(){return new sn([_T])}static fromServerFormat(t){const e=[];let i="",a=0;const o=()=>{if(i.length===0)throw new gt(it.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let c=!1;for(;a<t.length;){const h=t[a];if(h==="\\"){if(a+1===t.length)throw new gt(it.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const f=t[a+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new gt(it.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=f,a+=2}else h==="`"?(c=!c,a++):h!=="."||c?(i+=h,a++):(o(),a++)}if(o(),c)throw new gt(it.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new sn(e)}static emptyPath(){return new sn([])}}class Et{constructor(t){this.path=t}static fromPath(t){return new Et(oe.fromString(t))}static fromName(t){return new Et(oe.fromString(t).popFirst(5))}static empty(){return new Et(oe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&oe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return oe.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Et(new oe(t.slice()))}}function Px(n,t,e){if(!e)throw new gt(it.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function fD(n,t,e,i){if(t===!0&&i===!0)throw new gt(it.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function bT(n){if(!Et.isDocumentKey(n))throw new gt(it.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function vT(n){if(Et.isDocumentKey(n))throw new gt(it.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Lx(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function ud(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(i){return i.constructor?i.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":At(12329,{type:typeof n})}function Un(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new gt(it.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=ud(n);throw new gt(it.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function Le(n,t){const e={typeString:n};return t&&(e.value=t),e}function gu(n,t){if(!Lx(n))throw new gt(it.INVALID_ARGUMENT,"JSON must be an object");let e;for(const i in t)if(t[i]){const a=t[i].typeString,o="value"in t[i]?{value:t[i].value}:void 0;if(!(i in n)){e=`JSON missing required field: '${i}'`;break}const c=n[i];if(a&&typeof c!==a){e=`JSON field '${i}' must be a ${a}.`;break}if(o!==void 0&&c!==o.value){e=`Expected '${i}' field to equal '${o.value}'`;break}}if(e)throw new gt(it.INVALID_ARGUMENT,e);return!0}const TT=-62135596800,ET=1e6;class fe{static now(){return fe.fromMillis(Date.now())}static fromDate(t){return fe.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor((t-1e3*e)*ET);return new fe(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new gt(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new gt(it.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<TT)throw new gt(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new gt(it.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/ET}_compareTo(t){return this.seconds===t.seconds?Bt(this.nanoseconds,t.nanoseconds):Bt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:fe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(gu(t,fe._jsonSchema))return new fe(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-TT;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}fe._jsonSchemaVersion="firestore/timestamp/1.0",fe._jsonSchema={type:Le("string",fe._jsonSchemaVersion),seconds:Le("number"),nanoseconds:Le("number")};class Rt{static fromTimestamp(t){return new Rt(t)}static min(){return new Rt(new fe(0,0))}static max(){return new Rt(new fe(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const Qc=-1;function dD(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,a=Rt.fromTimestamp(i===1e9?new fe(e+1,0):new fe(e,i));return new Pr(a,Et.empty(),t)}function mD(n){return new Pr(n.readTime,n.key,Qc)}class Pr{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new Pr(Rt.min(),Et.empty(),Qc)}static max(){return new Pr(Rt.max(),Et.empty(),Qc)}}function gD(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=Et.comparator(n.documentKey,t.documentKey),e!==0?e:Bt(n.largestBatchId,t.largestBatchId))}const pD="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class yD{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function ul(n){if(n.code!==it.FAILED_PRECONDITION||n.message!==pD)throw n;_t("LocalStore","Unexpectedly lost primary lease")}class rt{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&At(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new rt(((i,a)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,a)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,a)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof rt?e:rt.resolve(e)}catch(e){return rt.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):rt.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):rt.reject(e)}static resolve(t){return new rt(((e,i)=>{e(t)}))}static reject(t){return new rt(((e,i)=>{i(t)}))}static waitFor(t){return new rt(((e,i)=>{let a=0,o=0,c=!1;t.forEach((h=>{++a,h.next((()=>{++o,c&&o===a&&e()}),(f=>i(f)))})),c=!0,o===a&&e()}))}static or(t){let e=rt.resolve(!1);for(const i of t)e=e.next((a=>a?rt.resolve(a):i()));return e}static forEach(t,e){const i=[];return t.forEach(((a,o)=>{i.push(e.call(this,a,o))})),this.waitFor(i)}static mapArray(t,e){return new rt(((i,a)=>{const o=t.length,c=new Array(o);let h=0;for(let f=0;f<o;f++){const m=f;e(t[m]).next((y=>{c[m]=y,++h,h===o&&i(c)}),(y=>a(y)))}}))}static doWhile(t,e){return new rt(((i,a)=>{const o=()=>{t()===!0?e().next((()=>{o()}),a):i()};o()}))}}function _D(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function hl(n){return n.name==="IndexedDbTransactionError"}class hd{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>e.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}hd.ce=-1;const fy=-1;function fd(n){return n==null}function Hf(n){return n===0&&1/n==-1/0}function bD(n){return typeof n=="number"&&Number.isInteger(n)&&!Hf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const jx="";function vD(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=xT(t)),t=TD(n.get(e),t);return xT(t)}function TD(n,t){let e=t;const i=n.length;for(let a=0;a<i;a++){const o=n.charAt(a);switch(o){case"\0":e+="";break;case jx:e+="";break;default:e+=o}}return e}function xT(n){return n+jx+""}function ST(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function Yr(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function Ux(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class ge{constructor(t,e){this.comparator=t,this.root=e||nn.EMPTY}insert(t,e){return new ge(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,nn.BLACK,null,null))}remove(t){return new ge(this.comparator,this.root.remove(t,this.comparator).copy(null,null,nn.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const a=this.comparator(t,i.key);if(a===0)return e+i.left.size;a<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,i)=>(t(e,i),!1)))}toString(){const t=[];return this.inorderTraversal(((e,i)=>(t.push(`${e}:${i}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new nf(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new nf(this.root,t,this.comparator,!1)}getReverseIterator(){return new nf(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new nf(this.root,t,this.comparator,!0)}}class nf{constructor(t,e,i,a){this.isReverse=a,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&a&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class nn{constructor(t,e,i,a,o){this.key=t,this.value=e,this.color=i??nn.RED,this.left=a??nn.EMPTY,this.right=o??nn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,a,o){return new nn(t??this.key,e??this.value,i??this.color,a??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let a=this;const o=i(t,a.key);return a=o<0?a.copy(null,null,null,a.left.insert(t,e,i),null):o===0?a.copy(null,e,null,null,null):a.copy(null,null,null,null,a.right.insert(t,e,i)),a.fixUp()}removeMin(){if(this.left.isEmpty())return nn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,a=this;if(e(t,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(t,e),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),e(t,a.key)===0){if(a.right.isEmpty())return nn.EMPTY;i=a.right.min(),a=a.copy(i.key,i.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(t,e))}return a.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,nn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,nn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw At(43730,{key:this.key,value:this.value});if(this.right.isRed())throw At(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw At(27949);return t+(this.isRed()?0:1)}}nn.EMPTY=null,nn.RED=!0,nn.BLACK=!1;nn.EMPTY=new class{constructor(){this.size=0}get key(){throw At(57766)}get value(){throw At(16141)}get color(){throw At(16727)}get left(){throw At(29726)}get right(){throw At(36894)}copy(t,e,i,a,o){return this}insert(t,e,i){return new nn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class He{constructor(t){this.comparator=t,this.data=new ge(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,i)=>(t(e),!1)))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const a=i.getNext();if(this.comparator(a.key,t[1])>=0)return;e(a.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new wT(this.data.getIterator())}getIteratorFrom(t){return new wT(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((i=>{e=e.add(i)})),e}isEqual(t){if(!(t instanceof He)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const a=e.getNext().key,o=i.getNext().key;if(this.comparator(a,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new He(this.comparator);return e.data=t,e}}class wT{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class jn{constructor(t){this.fields=t,t.sort(sn.comparator)}static empty(){return new jn([])}unionWith(t){let e=new He(sn.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new jn(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Wo(this.fields,t.fields,((e,i)=>e.isEqual(i)))}}class Bx extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class rn{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(a){try{return atob(a)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Bx("Invalid base64 string: "+o):o}})(t);return new rn(e)}static fromUint8Array(t){const e=(function(a){let o="";for(let c=0;c<a.length;++c)o+=String.fromCharCode(a[c]);return o})(t);return new rn(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const i=new Uint8Array(e.length);for(let a=0;a<e.length;a++)i[a]=e.charCodeAt(a);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Bt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}rn.EMPTY_BYTE_STRING=new rn("");const ED=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Lr(n){if(Wt(!!n,39018),typeof n=="string"){let t=0;const e=ED.exec(n);if(Wt(!!e,46558,{timestamp:n}),e[1]){let a=e[1];a=(a+"000000000").substr(0,9),t=Number(a)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Se(n.seconds),nanos:Se(n.nanos)}}function Se(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function jr(n){return typeof n=="string"?rn.fromBase64String(n):rn.fromUint8Array(n)}const Hx="server_timestamp",Fx="__type__",qx="__previous_value__",Gx="__local_write_time__";function dy(n){return(n?.mapValue?.fields||{})[Fx]?.stringValue===Hx}function dd(n){const t=n.mapValue.fields[qx];return dy(t)?dd(t):t}function Xc(n){const t=Lr(n.mapValue.fields[Gx].timestampValue);return new fe(t.seconds,t.nanos)}class xD{constructor(t,e,i,a,o,c,h,f,m,y){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=a,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=h,this.longPollingOptions=f,this.useFetchStreams=m,this.isUsingEmulator=y}}const Ff="(default)";class Wc{constructor(t,e){this.projectId=t,this.database=e||Ff}static empty(){return new Wc("","")}get isDefaultDatabase(){return this.database===Ff}isEqual(t){return t instanceof Wc&&t.projectId===this.projectId&&t.database===this.database}}const Yx="__type__",SD="__max__",sf={mapValue:{}},Kx="__vector__",qf="value";function Ur(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?dy(n)?4:AD(n)?9007199254740991:wD(n)?10:11:At(28295,{value:n})}function rs(n,t){if(n===t)return!0;const e=Ur(n);if(e!==Ur(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Xc(n).isEqual(Xc(t));case 3:return(function(a,o){if(typeof a.timestampValue=="string"&&typeof o.timestampValue=="string"&&a.timestampValue.length===o.timestampValue.length)return a.timestampValue===o.timestampValue;const c=Lr(a.timestampValue),h=Lr(o.timestampValue);return c.seconds===h.seconds&&c.nanos===h.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(a,o){return jr(a.bytesValue).isEqual(jr(o.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(a,o){return Se(a.geoPointValue.latitude)===Se(o.geoPointValue.latitude)&&Se(a.geoPointValue.longitude)===Se(o.geoPointValue.longitude)})(n,t);case 2:return(function(a,o){if("integerValue"in a&&"integerValue"in o)return Se(a.integerValue)===Se(o.integerValue);if("doubleValue"in a&&"doubleValue"in o){const c=Se(a.doubleValue),h=Se(o.doubleValue);return c===h?Hf(c)===Hf(h):isNaN(c)&&isNaN(h)}return!1})(n,t);case 9:return Wo(n.arrayValue.values||[],t.arrayValue.values||[],rs);case 10:case 11:return(function(a,o){const c=a.mapValue.fields||{},h=o.mapValue.fields||{};if(ST(c)!==ST(h))return!1;for(const f in c)if(c.hasOwnProperty(f)&&(h[f]===void 0||!rs(c[f],h[f])))return!1;return!0})(n,t);default:return At(52216,{left:n})}}function Zc(n,t){return(n.values||[]).find((e=>rs(e,t)))!==void 0}function Zo(n,t){if(n===t)return 0;const e=Ur(n),i=Ur(t);if(e!==i)return Bt(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Bt(n.booleanValue,t.booleanValue);case 2:return(function(o,c){const h=Se(o.integerValue||o.doubleValue),f=Se(c.integerValue||c.doubleValue);return h<f?-1:h>f?1:h===f?0:isNaN(h)?isNaN(f)?0:-1:1})(n,t);case 3:return AT(n.timestampValue,t.timestampValue);case 4:return AT(Xc(n),Xc(t));case 5:return Ep(n.stringValue,t.stringValue);case 6:return(function(o,c){const h=jr(o),f=jr(c);return h.compareTo(f)})(n.bytesValue,t.bytesValue);case 7:return(function(o,c){const h=o.split("/"),f=c.split("/");for(let m=0;m<h.length&&m<f.length;m++){const y=Bt(h[m],f[m]);if(y!==0)return y}return Bt(h.length,f.length)})(n.referenceValue,t.referenceValue);case 8:return(function(o,c){const h=Bt(Se(o.latitude),Se(c.latitude));return h!==0?h:Bt(Se(o.longitude),Se(c.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return CT(n.arrayValue,t.arrayValue);case 10:return(function(o,c){const h=o.fields||{},f=c.fields||{},m=h[qf]?.arrayValue,y=f[qf]?.arrayValue,b=Bt(m?.values?.length||0,y?.values?.length||0);return b!==0?b:CT(m,y)})(n.mapValue,t.mapValue);case 11:return(function(o,c){if(o===sf.mapValue&&c===sf.mapValue)return 0;if(o===sf.mapValue)return 1;if(c===sf.mapValue)return-1;const h=o.fields||{},f=Object.keys(h),m=c.fields||{},y=Object.keys(m);f.sort(),y.sort();for(let b=0;b<f.length&&b<y.length;++b){const T=Ep(f[b],y[b]);if(T!==0)return T;const x=Zo(h[f[b]],m[y[b]]);if(x!==0)return x}return Bt(f.length,y.length)})(n.mapValue,t.mapValue);default:throw At(23264,{he:e})}}function AT(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return Bt(n,t);const e=Lr(n),i=Lr(t),a=Bt(e.seconds,i.seconds);return a!==0?a:Bt(e.nanos,i.nanos)}function CT(n,t){const e=n.values||[],i=t.values||[];for(let a=0;a<e.length&&a<i.length;++a){const o=Zo(e[a],i[a]);if(o)return o}return Bt(e.length,i.length)}function Jo(n){return xp(n)}function xp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(e){const i=Lr(e);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(e){return jr(e).toBase64()})(n.bytesValue):"referenceValue"in n?(function(e){return Et.fromName(e).toString()})(n.referenceValue):"geoPointValue"in n?(function(e){return`geo(${e.latitude},${e.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(e){let i="[",a=!0;for(const o of e.values||[])a?a=!1:i+=",",i+=xp(o);return i+"]"})(n.arrayValue):"mapValue"in n?(function(e){const i=Object.keys(e.fields||{}).sort();let a="{",o=!0;for(const c of i)o?o=!1:a+=",",a+=`${c}:${xp(e.fields[c])}`;return a+"}"})(n.mapValue):At(61005,{value:n})}function wf(n){switch(Ur(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=dd(n);return t?16+wf(t):16;case 5:return 2*n.stringValue.length;case 6:return jr(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((a,o)=>a+wf(o)),0)})(n.arrayValue);case 10:case 11:return(function(i){let a=0;return Yr(i.fields,((o,c)=>{a+=o.length+wf(c)})),a})(n.mapValue);default:throw At(13486,{value:n})}}function RT(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function Sp(n){return!!n&&"integerValue"in n}function my(n){return!!n&&"arrayValue"in n}function IT(n){return!!n&&"nullValue"in n}function kT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Af(n){return!!n&&"mapValue"in n}function wD(n){return(n?.mapValue?.fields||{})[Yx]?.stringValue===Kx}function Vc(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return Yr(n.mapValue.fields,((e,i)=>t.mapValue.fields[e]=Vc(i))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=Vc(n.arrayValue.values[e]);return t}return{...n}}function AD(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===SD}class Cn{constructor(t){this.value=t}static empty(){return new Cn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!Af(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=Vc(e)}setAll(t){let e=sn.emptyPath(),i={},a=[];t.forEach(((c,h)=>{if(!e.isImmediateParentOf(h)){const f=this.getFieldsMap(e);this.applyChanges(f,i,a),i={},a=[],e=h.popLast()}c?i[h.lastSegment()]=Vc(c):a.push(h.lastSegment())}));const o=this.getFieldsMap(e);this.applyChanges(o,i,a)}delete(t){const e=this.field(t.popLast());Af(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return rs(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let a=e.mapValue.fields[t.get(i)];Af(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=a),e=a}return e.mapValue.fields}applyChanges(t,e,i){Yr(e,((a,o)=>t[a]=o));for(const a of i)delete t[a]}clone(){return new Cn(Vc(this.value))}}function $x(n){const t=[];return Yr(n.fields,((e,i)=>{const a=new sn([e]);if(Af(i)){const o=$x(i.mapValue).fields;if(o.length===0)t.push(a);else for(const c of o)t.push(a.child(c))}else t.push(a)})),new jn(t)}class un{constructor(t,e,i,a,o,c,h){this.key=t,this.documentType=e,this.version=i,this.readTime=a,this.createTime=o,this.data=c,this.documentState=h}static newInvalidDocument(t){return new un(t,0,Rt.min(),Rt.min(),Rt.min(),Cn.empty(),0)}static newFoundDocument(t,e,i,a){return new un(t,1,e,Rt.min(),i,a,0)}static newNoDocument(t,e){return new un(t,2,e,Rt.min(),Rt.min(),Cn.empty(),0)}static newUnknownDocument(t,e){return new un(t,3,e,Rt.min(),Rt.min(),Cn.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Rt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Cn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Cn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Rt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof un&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Gf{constructor(t,e){this.position=t,this.inclusive=e}}function DT(n,t,e){let i=0;for(let a=0;a<n.position.length;a++){const o=t[a],c=n.position[a];if(o.field.isKeyField()?i=Et.comparator(Et.fromName(c.referenceValue),e.key):i=Zo(c,e.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function NT(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!rs(n.position[e],t.position[e]))return!1;return!0}class Jc{constructor(t,e="asc"){this.field=t,this.dir=e}}function CD(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class Qx{}class Pe extends Qx{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,i):new ID(t,e,i):e==="array-contains"?new ND(t,i):e==="in"?new MD(t,i):e==="not-in"?new OD(t,i):e==="array-contains-any"?new zD(t,i):new Pe(t,e,i)}static createKeyFieldInFilter(t,e,i){return e==="in"?new kD(t,i):new DD(t,i)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Zo(e,this.value)):e!==null&&Ur(this.value)===Ur(e)&&this.matchesComparison(Zo(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return At(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Si extends Qx{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new Si(t,e)}matches(t){return Xx(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Xx(n){return n.op==="and"}function Wx(n){return RD(n)&&Xx(n)}function RD(n){for(const t of n.filters)if(t instanceof Si)return!1;return!0}function wp(n){if(n instanceof Pe)return n.field.canonicalString()+n.op.toString()+Jo(n.value);if(Wx(n))return n.filters.map((t=>wp(t))).join(",");{const t=n.filters.map((e=>wp(e))).join(",");return`${n.op}(${t})`}}function Zx(n,t){return n instanceof Pe?(function(i,a){return a instanceof Pe&&i.op===a.op&&i.field.isEqual(a.field)&&rs(i.value,a.value)})(n,t):n instanceof Si?(function(i,a){return a instanceof Si&&i.op===a.op&&i.filters.length===a.filters.length?i.filters.reduce(((o,c,h)=>o&&Zx(c,a.filters[h])),!0):!1})(n,t):void At(19439)}function Jx(n){return n instanceof Pe?(function(e){return`${e.field.canonicalString()} ${e.op} ${Jo(e.value)}`})(n):n instanceof Si?(function(e){return e.op.toString()+" {"+e.getFilters().map(Jx).join(" ,")+"}"})(n):"Filter"}class ID extends Pe{constructor(t,e,i){super(t,e,i),this.key=Et.fromName(i.referenceValue)}matches(t){const e=Et.comparator(t.key,this.key);return this.matchesComparison(e)}}class kD extends Pe{constructor(t,e){super(t,"in",e),this.keys=tS("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class DD extends Pe{constructor(t,e){super(t,"not-in",e),this.keys=tS("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function tS(n,t){return(t.arrayValue?.values||[]).map((e=>Et.fromName(e.referenceValue)))}class ND extends Pe{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return my(e)&&Zc(e.arrayValue,this.value)}}class MD extends Pe{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Zc(this.value.arrayValue,e)}}class OD extends Pe{constructor(t,e){super(t,"not-in",e)}matches(t){if(Zc(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Zc(this.value.arrayValue,e)}}class zD extends Pe{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!my(e)||!e.arrayValue.values)&&e.arrayValue.values.some((i=>Zc(this.value.arrayValue,i)))}}class VD{constructor(t,e=null,i=[],a=[],o=null,c=null,h=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=a,this.limit=o,this.startAt=c,this.endAt=h,this.Te=null}}function MT(n,t=null,e=[],i=[],a=null,o=null,c=null){return new VD(n,t,e,i,a,o,c)}function gy(n){const t=kt(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((i=>wp(i))).join(","),e+="|ob:",e+=t.orderBy.map((i=>(function(o){return o.field.canonicalString()+o.dir})(i))).join(","),fd(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((i=>Jo(i))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((i=>Jo(i))).join(",")),t.Te=e}return t.Te}function py(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!CD(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!Zx(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!NT(n.startAt,t.startAt)&&NT(n.endAt,t.endAt)}function Ap(n){return Et.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class fl{constructor(t,e=null,i=[],a=[],o=null,c="F",h=null,f=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=a,this.limit=o,this.limitType=c,this.startAt=h,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function PD(n,t,e,i,a,o,c,h){return new fl(n,t,e,i,a,o,c,h)}function yy(n){return new fl(n)}function OT(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function eS(n){return n.collectionGroup!==null}function Pc(n){const t=kt(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const o of t.explicitOrderBy)t.Ie.push(o),e.add(o.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(c){let h=new He(sn.comparator);return c.filters.forEach((f=>{f.getFlattenedFilters().forEach((m=>{m.isInequality()&&(h=h.add(m.field))}))})),h})(t).forEach((o=>{e.has(o.canonicalString())||o.isKeyField()||t.Ie.push(new Jc(o,i))})),e.has(sn.keyField().canonicalString())||t.Ie.push(new Jc(sn.keyField(),i))}return t.Ie}function es(n){const t=kt(n);return t.Ee||(t.Ee=LD(t,Pc(n))),t.Ee}function LD(n,t){if(n.limitType==="F")return MT(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((a=>{const o=a.dir==="desc"?"asc":"desc";return new Jc(a.field,o)}));const e=n.endAt?new Gf(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Gf(n.startAt.position,n.startAt.inclusive):null;return MT(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}function Cp(n,t){const e=n.filters.concat([t]);return new fl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function Rp(n,t,e){return new fl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function md(n,t){return py(es(n),es(t))&&n.limitType===t.limitType}function nS(n){return`${gy(es(n))}|lt:${n.limitType}`}function Lo(n){return`Query(target=${(function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map((a=>Jx(a))).join(", ")}]`),fd(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map((a=>(function(c){return`${c.field.canonicalString()} (${c.dir})`})(a))).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((a=>Jo(a))).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((a=>Jo(a))).join(",")),`Target(${i})`})(es(n))}; limitType=${n.limitType})`}function gd(n,t){return t.isFoundDocument()&&(function(i,a){const o=a.key.path;return i.collectionGroup!==null?a.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):Et.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)})(n,t)&&(function(i,a){for(const o of Pc(i))if(!o.field.isKeyField()&&a.data.field(o.field)===null)return!1;return!0})(n,t)&&(function(i,a){for(const o of i.filters)if(!o.matches(a))return!1;return!0})(n,t)&&(function(i,a){return!(i.startAt&&!(function(c,h,f){const m=DT(c,h,f);return c.inclusive?m<=0:m<0})(i.startAt,Pc(i),a)||i.endAt&&!(function(c,h,f){const m=DT(c,h,f);return c.inclusive?m>=0:m>0})(i.endAt,Pc(i),a))})(n,t)}function jD(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function iS(n){return(t,e)=>{let i=!1;for(const a of Pc(n)){const o=UD(a,t,e);if(o!==0)return o;i=i||a.field.isKeyField()}return 0}}function UD(n,t,e){const i=n.field.isKeyField()?Et.comparator(t.key,e.key):(function(o,c,h){const f=c.data.field(o),m=h.data.field(o);return f!==null&&m!==null?Zo(f,m):At(42886)})(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return At(19790,{direction:n.dir})}}class qa{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(const[a,o]of i)if(this.equalsFn(a,t))return o}}has(t){return this.get(t)!==void 0}set(t,e){const i=this.mapKeyFn(t),a=this.inner[i];if(a===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<a.length;o++)if(this.equalsFn(a[o][0],t))return void(a[o]=[t,e]);a.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],t))return i.length===1?delete this.inner[e]:i.splice(a,1),this.innerSize--,!0;return!1}forEach(t){Yr(this.inner,((e,i)=>{for(const[a,o]of i)t(a,o)}))}isEmpty(){return Ux(this.inner)}size(){return this.innerSize}}const BD=new ge(Et.comparator);function Vs(){return BD}const sS=new ge(Et.comparator);function Rc(...n){let t=sS;for(const e of n)t=t.insert(e.key,e);return t}function rS(n){let t=sS;return n.forEach(((e,i)=>t=t.insert(e,i.overlayedDocument))),t}function Na(){return Lc()}function aS(){return Lc()}function Lc(){return new qa((n=>n.toString()),((n,t)=>n.isEqual(t)))}const HD=new ge(Et.comparator),FD=new He(Et.comparator);function Ht(...n){let t=FD;for(const e of n)t=t.add(e);return t}const qD=new He(Bt);function GD(){return qD}function _y(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Hf(t)?"-0":t}}function oS(n){return{integerValue:""+n}}function YD(n,t){return bD(t)?oS(t):_y(n,t)}class pd{constructor(){this._=void 0}}function KD(n,t,e){return n instanceof tu?(function(a,o){const c={fields:{[Fx]:{stringValue:Hx},[Gx]:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return o&&dy(o)&&(o=dd(o)),o&&(c.fields[qx]=o),{mapValue:c}})(e,t):n instanceof eu?cS(n,t):n instanceof nu?uS(n,t):(function(a,o){const c=lS(a,o),h=zT(c)+zT(a.Ae);return Sp(c)&&Sp(a.Ae)?oS(h):_y(a.serializer,h)})(n,t)}function $D(n,t,e){return n instanceof eu?cS(n,t):n instanceof nu?uS(n,t):e}function lS(n,t){return n instanceof Yf?(function(i){return Sp(i)||(function(o){return!!o&&"doubleValue"in o})(i)})(t)?t:{integerValue:0}:null}class tu extends pd{}class eu extends pd{constructor(t){super(),this.elements=t}}function cS(n,t){const e=hS(t);for(const i of n.elements)e.some((a=>rs(a,i)))||e.push(i);return{arrayValue:{values:e}}}class nu extends pd{constructor(t){super(),this.elements=t}}function uS(n,t){let e=hS(t);for(const i of n.elements)e=e.filter((a=>!rs(a,i)));return{arrayValue:{values:e}}}class Yf extends pd{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function zT(n){return Se(n.integerValue||n.doubleValue)}function hS(n){return my(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class QD{constructor(t,e){this.field=t,this.transform=e}}function XD(n,t){return n.field.isEqual(t.field)&&(function(i,a){return i instanceof eu&&a instanceof eu||i instanceof nu&&a instanceof nu?Wo(i.elements,a.elements,rs):i instanceof Yf&&a instanceof Yf?rs(i.Ae,a.Ae):i instanceof tu&&a instanceof tu})(n.transform,t.transform)}class WD{constructor(t,e){this.version=t,this.transformResults=e}}class yn{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new yn}static exists(t){return new yn(void 0,t)}static updateTime(t){return new yn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function Cf(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class yd{}function fS(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new _d(n.key,yn.none()):new pu(n.key,n.data,yn.none());{const e=n.data,i=Cn.empty();let a=new He(sn.comparator);for(let o of t.fields)if(!a.has(o)){let c=e.field(o);c===null&&o.length>1&&(o=o.popLast(),c=e.field(o)),c===null?i.delete(o):i.set(o,c),a=a.add(o)}return new Kr(n.key,i,new jn(a.toArray()),yn.none())}}function ZD(n,t,e){n instanceof pu?(function(a,o,c){const h=a.value.clone(),f=PT(a.fieldTransforms,o,c.transformResults);h.setAll(f),o.convertToFoundDocument(c.version,h).setHasCommittedMutations()})(n,t,e):n instanceof Kr?(function(a,o,c){if(!Cf(a.precondition,o))return void o.convertToUnknownDocument(c.version);const h=PT(a.fieldTransforms,o,c.transformResults),f=o.data;f.setAll(dS(a)),f.setAll(h),o.convertToFoundDocument(c.version,f).setHasCommittedMutations()})(n,t,e):(function(a,o,c){o.convertToNoDocument(c.version).setHasCommittedMutations()})(0,t,e)}function jc(n,t,e,i){return n instanceof pu?(function(o,c,h,f){if(!Cf(o.precondition,c))return h;const m=o.value.clone(),y=LT(o.fieldTransforms,f,c);return m.setAll(y),c.convertToFoundDocument(c.version,m).setHasLocalMutations(),null})(n,t,e,i):n instanceof Kr?(function(o,c,h,f){if(!Cf(o.precondition,c))return h;const m=LT(o.fieldTransforms,f,c),y=c.data;return y.setAll(dS(o)),y.setAll(m),c.convertToFoundDocument(c.version,y).setHasLocalMutations(),h===null?null:h.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((b=>b.field)))})(n,t,e,i):(function(o,c,h){return Cf(o.precondition,c)?(c.convertToNoDocument(c.version).setHasLocalMutations(),null):h})(n,t,e)}function JD(n,t){let e=null;for(const i of n.fieldTransforms){const a=t.data.field(i.field),o=lS(i.transform,a||null);o!=null&&(e===null&&(e=Cn.empty()),e.set(i.field,o))}return e||null}function VT(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(i,a){return i===void 0&&a===void 0||!(!i||!a)&&Wo(i,a,((o,c)=>XD(o,c)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class pu extends yd{constructor(t,e,i,a=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class Kr extends yd{constructor(t,e,i,a,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=a,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function dS(n){const t=new Map;return n.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}})),t}function PT(n,t,e){const i=new Map;Wt(n.length===e.length,32656,{Re:e.length,Ve:n.length});for(let a=0;a<e.length;a++){const o=n[a],c=o.transform,h=t.data.field(o.field);i.set(o.field,$D(c,h,e[a]))}return i}function LT(n,t,e){const i=new Map;for(const a of n){const o=a.transform,c=e.data.field(a.field);i.set(a.field,KD(o,c,t))}return i}class _d extends yd{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class tN extends yd{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class eN{constructor(t,e,i,a){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=a}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let a=0;a<this.mutations.length;a++){const o=this.mutations[a];o.key.isEqual(t.key)&&ZD(o,t,i[a])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=jc(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=jc(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=aS();return this.mutations.forEach((a=>{const o=t.get(a.key),c=o.overlayedDocument;let h=this.applyToLocalView(c,o.mutatedFields);h=e.has(a.key)?null:h;const f=fS(c,h);f!==null&&i.set(a.key,f),c.isValidDocument()||c.convertToNoDocument(Rt.min())})),i}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),Ht())}isEqual(t){return this.batchId===t.batchId&&Wo(this.mutations,t.mutations,((e,i)=>VT(e,i)))&&Wo(this.baseMutations,t.baseMutations,((e,i)=>VT(e,i)))}}class by{constructor(t,e,i,a){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=a}static from(t,e,i){Wt(t.mutations.length===i.length,58842,{me:t.mutations.length,fe:i.length});let a=(function(){return HD})();const o=t.mutations;for(let c=0;c<o.length;c++)a=a.insert(o[c].key,i[c].version);return new by(t,e,i,a)}}class nN{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class iN{constructor(t,e){this.count=t,this.unchangedNames=e}}var Ve,Gt;function sN(n){switch(n){case it.OK:return At(64938);case it.CANCELLED:case it.UNKNOWN:case it.DEADLINE_EXCEEDED:case it.RESOURCE_EXHAUSTED:case it.INTERNAL:case it.UNAVAILABLE:case it.UNAUTHENTICATED:return!1;case it.INVALID_ARGUMENT:case it.NOT_FOUND:case it.ALREADY_EXISTS:case it.PERMISSION_DENIED:case it.FAILED_PRECONDITION:case it.ABORTED:case it.OUT_OF_RANGE:case it.UNIMPLEMENTED:case it.DATA_LOSS:return!0;default:return At(15467,{code:n})}}function mS(n){if(n===void 0)return zs("GRPC error has no .code"),it.UNKNOWN;switch(n){case Ve.OK:return it.OK;case Ve.CANCELLED:return it.CANCELLED;case Ve.UNKNOWN:return it.UNKNOWN;case Ve.DEADLINE_EXCEEDED:return it.DEADLINE_EXCEEDED;case Ve.RESOURCE_EXHAUSTED:return it.RESOURCE_EXHAUSTED;case Ve.INTERNAL:return it.INTERNAL;case Ve.UNAVAILABLE:return it.UNAVAILABLE;case Ve.UNAUTHENTICATED:return it.UNAUTHENTICATED;case Ve.INVALID_ARGUMENT:return it.INVALID_ARGUMENT;case Ve.NOT_FOUND:return it.NOT_FOUND;case Ve.ALREADY_EXISTS:return it.ALREADY_EXISTS;case Ve.PERMISSION_DENIED:return it.PERMISSION_DENIED;case Ve.FAILED_PRECONDITION:return it.FAILED_PRECONDITION;case Ve.ABORTED:return it.ABORTED;case Ve.OUT_OF_RANGE:return it.OUT_OF_RANGE;case Ve.UNIMPLEMENTED:return it.UNIMPLEMENTED;case Ve.DATA_LOSS:return it.DATA_LOSS;default:return At(39323,{code:n})}}(Gt=Ve||(Ve={}))[Gt.OK=0]="OK",Gt[Gt.CANCELLED=1]="CANCELLED",Gt[Gt.UNKNOWN=2]="UNKNOWN",Gt[Gt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Gt[Gt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Gt[Gt.NOT_FOUND=5]="NOT_FOUND",Gt[Gt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Gt[Gt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Gt[Gt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Gt[Gt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Gt[Gt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Gt[Gt.ABORTED=10]="ABORTED",Gt[Gt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Gt[Gt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Gt[Gt.INTERNAL=13]="INTERNAL",Gt[Gt.UNAVAILABLE=14]="UNAVAILABLE",Gt[Gt.DATA_LOSS=15]="DATA_LOSS";function rN(){return new TextEncoder}const aN=new Mr([4294967295,4294967295],0);function jT(n){const t=rN().encode(n),e=new Ix;return e.update(t),new Uint8Array(e.digest())}function UT(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),a=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new Mr([e,i],0),new Mr([a,o],0)]}class vy{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new Ic(`Invalid padding: ${e}`);if(i<0)throw new Ic(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new Ic(`Invalid hash count: ${i}`);if(t.length===0&&e!==0)throw new Ic(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=Mr.fromNumber(this.ge)}ye(t,e,i){let a=t.add(e.multiply(Mr.fromNumber(i)));return a.compare(aN)===1&&(a=new Mr([a.getBits(0),a.getBits(1)],0)),a.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=jT(t),[i,a]=UT(e);for(let o=0;o<this.hashCount;o++){const c=this.ye(i,a,o);if(!this.we(c))return!1}return!0}static create(t,e,i){const a=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),c=new vy(o,a,e);return i.forEach((h=>c.insert(h))),c}insert(t){if(this.ge===0)return;const e=jT(t),[i,a]=UT(e);for(let o=0;o<this.hashCount;o++){const c=this.ye(i,a,o);this.Se(c)}}Se(t){const e=Math.floor(t/8),i=t%8;this.bitmap[e]|=1<<i}}class Ic extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class bd{constructor(t,e,i,a,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=a,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const a=new Map;return a.set(t,yu.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new bd(Rt.min(),a,new ge(Bt),Vs(),Ht())}}class yu{constructor(t,e,i,a,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=a,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new yu(i,e,Ht(),Ht(),Ht())}}class Rf{constructor(t,e,i,a){this.be=t,this.removedTargetIds=e,this.key=i,this.De=a}}class gS{constructor(t,e){this.targetId=t,this.Ce=e}}class pS{constructor(t,e,i=rn.EMPTY_BYTE_STRING,a=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=a}}class BT{constructor(){this.ve=0,this.Fe=HT(),this.Me=rn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=Ht(),e=Ht(),i=Ht();return this.Fe.forEach(((a,o)=>{switch(o){case 0:t=t.add(a);break;case 2:e=e.add(a);break;case 1:i=i.add(a);break;default:At(38017,{changeType:o})}})),new yu(this.Me,this.xe,t,e,i)}qe(){this.Oe=!1,this.Fe=HT()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,Wt(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class oN{constructor(t){this.Ge=t,this.ze=new Map,this.je=Vs(),this.Je=rf(),this.He=rf(),this.Ye=new ge(Bt)}Ze(t){for(const e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const i=this.nt(e);switch(t.state){case 0:this.rt(e)&&i.Le(t.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(t.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(i.We(),i.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),i.Le(t.resumeToken));break;default:At(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((i,a)=>{this.rt(a)&&e(a)}))}st(t){const e=t.targetId,i=t.Ce.count,a=this.ot(e);if(a){const o=a.target;if(Ap(o))if(i===0){const c=new Et(o.path);this.et(e,c,un.newNoDocument(c,Rt.min()))}else Wt(i===1,20013,{expectedCount:i});else{const c=this._t(e);if(c!==i){const h=this.ut(t),f=h?this.ct(h,t,c):1;if(f!==0){this.it(e);const m=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,m)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:a=0},hashCount:o=0}=e;let c,h;try{c=jr(i).toUint8Array()}catch(f){if(f instanceof Bx)return Xo("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{h=new vy(c,a,o)}catch(f){return Xo(f instanceof Ic?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return h.ge===0?null:h}ct(t,e,i){return e.Ce.count===i-this.Pt(t,e.targetId)?0:2}Pt(t,e){const i=this.Ge.getRemoteKeysForTarget(e);let a=0;return i.forEach((o=>{const c=this.Ge.ht(),h=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;t.mightContain(h)||(this.et(e,o,null),a++)})),a}Tt(t){const e=new Map;this.ze.forEach(((o,c)=>{const h=this.ot(c);if(h){if(o.current&&Ap(h.target)){const f=new Et(h.target.path);this.It(f).has(c)||this.Et(c,f)||this.et(c,f,un.newNoDocument(f,t))}o.Be&&(e.set(c,o.ke()),o.qe())}}));let i=Ht();this.He.forEach(((o,c)=>{let h=!0;c.forEachWhile((f=>{const m=this.ot(f);return!m||m.purpose==="TargetPurposeLimboResolution"||(h=!1,!1)})),h&&(i=i.add(o))})),this.je.forEach(((o,c)=>c.setReadTime(t)));const a=new bd(t,e,this.Ye,this.je,i);return this.je=Vs(),this.Je=rf(),this.He=rf(),this.Ye=new ge(Bt),a}Xe(t,e){if(!this.rt(t))return;const i=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,i),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,i){if(!this.rt(t))return;const a=this.nt(t);this.Et(t,e)?a.Qe(e,1):a.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),i&&(this.je=this.je.insert(e,i))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new BT,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new He(Bt),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new He(Bt),this.Je=this.Je.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||_t("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new BT),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function rf(){return new ge(Et.comparator)}function HT(){return new ge(Et.comparator)}const lN={asc:"ASCENDING",desc:"DESCENDING"},cN={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},uN={and:"AND",or:"OR"};class hN{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function Ip(n,t){return n.useProto3Json||fd(t)?t:{value:t}}function Kf(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function yS(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function fN(n,t){return Kf(n,t.toTimestamp())}function ns(n){return Wt(!!n,49232),Rt.fromTimestamp((function(e){const i=Lr(e);return new fe(i.seconds,i.nanos)})(n))}function Ty(n,t){return kp(n,t).canonicalString()}function kp(n,t){const e=(function(a){return new oe(["projects",a.projectId,"databases",a.database])})(n).child("documents");return t===void 0?e:e.child(t)}function _S(n){const t=oe.fromString(n);return Wt(xS(t),10190,{key:t.toString()}),t}function Dp(n,t){return Ty(n.databaseId,t.path)}function Kg(n,t){const e=_S(t);if(e.get(1)!==n.databaseId.projectId)throw new gt(it.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new gt(it.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new Et(vS(e))}function bS(n,t){return Ty(n.databaseId,t)}function dN(n){const t=_S(n);return t.length===4?oe.emptyPath():vS(t)}function Np(n){return new oe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function vS(n){return Wt(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function FT(n,t,e){return{name:Dp(n,t),fields:e.value.mapValue.fields}}function mN(n,t){let e;if("targetChange"in t){t.targetChange;const i=(function(m){return m==="NO_CHANGE"?0:m==="ADD"?1:m==="REMOVE"?2:m==="CURRENT"?3:m==="RESET"?4:At(39313,{state:m})})(t.targetChange.targetChangeType||"NO_CHANGE"),a=t.targetChange.targetIds||[],o=(function(m,y){return m.useProto3Json?(Wt(y===void 0||typeof y=="string",58123),rn.fromBase64String(y||"")):(Wt(y===void 0||y instanceof Buffer||y instanceof Uint8Array,16193),rn.fromUint8Array(y||new Uint8Array))})(n,t.targetChange.resumeToken),c=t.targetChange.cause,h=c&&(function(m){const y=m.code===void 0?it.UNKNOWN:mS(m.code);return new gt(y,m.message||"")})(c);e=new pS(i,a,o,h||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const a=Kg(n,i.document.name),o=ns(i.document.updateTime),c=i.document.createTime?ns(i.document.createTime):Rt.min(),h=new Cn({mapValue:{fields:i.document.fields}}),f=un.newFoundDocument(a,o,c,h),m=i.targetIds||[],y=i.removedTargetIds||[];e=new Rf(m,y,f.key,f)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const a=Kg(n,i.document),o=i.readTime?ns(i.readTime):Rt.min(),c=un.newNoDocument(a,o),h=i.removedTargetIds||[];e=new Rf([],h,c.key,c)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const a=Kg(n,i.document),o=i.removedTargetIds||[];e=new Rf([],o,a,null)}else{if(!("filter"in t))return At(11601,{Rt:t});{t.filter;const i=t.filter;i.targetId;const{count:a=0,unchangedNames:o}=i,c=new iN(a,o),h=i.targetId;e=new gS(h,c)}}return e}function gN(n,t){let e;if(t instanceof pu)e={update:FT(n,t.key,t.value)};else if(t instanceof _d)e={delete:Dp(n,t.key)};else if(t instanceof Kr)e={update:FT(n,t.key,t.data),updateMask:SN(t.fieldMask)};else{if(!(t instanceof tN))return At(16599,{Vt:t.type});e={verify:Dp(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((i=>(function(o,c){const h=c.transform;if(h instanceof tu)return{fieldPath:c.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(h instanceof eu)return{fieldPath:c.field.canonicalString(),appendMissingElements:{values:h.elements}};if(h instanceof nu)return{fieldPath:c.field.canonicalString(),removeAllFromArray:{values:h.elements}};if(h instanceof Yf)return{fieldPath:c.field.canonicalString(),increment:h.Ae};throw At(20930,{transform:c.transform})})(0,i)))),t.precondition.isNone||(e.currentDocument=(function(a,o){return o.updateTime!==void 0?{updateTime:fN(a,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:At(27497)})(n,t.precondition)),e}function pN(n,t){return n&&n.length>0?(Wt(t!==void 0,14353),n.map((e=>(function(a,o){let c=a.updateTime?ns(a.updateTime):ns(o);return c.isEqual(Rt.min())&&(c=ns(o)),new WD(c,a.transformResults||[])})(e,t)))):[]}function yN(n,t){return{documents:[bS(n,t.path)]}}function _N(n,t){const e={structuredQuery:{}},i=t.path;let a;t.collectionGroup!==null?(a=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(a=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=bS(n,a);const o=(function(m){if(m.length!==0)return ES(Si.create(m,"and"))})(t.filters);o&&(e.structuredQuery.where=o);const c=(function(m){if(m.length!==0)return m.map((y=>(function(T){return{field:jo(T.field),direction:TN(T.dir)}})(y)))})(t.orderBy);c&&(e.structuredQuery.orderBy=c);const h=Ip(n,t.limit);return h!==null&&(e.structuredQuery.limit=h),t.startAt&&(e.structuredQuery.startAt=(function(m){return{before:m.inclusive,values:m.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(m){return{before:!m.inclusive,values:m.position}})(t.endAt)),{ft:e,parent:a}}function bN(n){let t=dN(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let a=null;if(i>0){Wt(i===1,65062);const y=e.from[0];y.allDescendants?a=y.collectionId:t=t.child(y.collectionId)}let o=[];e.where&&(o=(function(b){const T=TS(b);return T instanceof Si&&Wx(T)?T.getFilters():[T]})(e.where));let c=[];e.orderBy&&(c=(function(b){return b.map((T=>(function(A){return new Jc(Uo(A.field),(function(N){switch(N){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(A.direction))})(T)))})(e.orderBy));let h=null;e.limit&&(h=(function(b){let T;return T=typeof b=="object"?b.value:b,fd(T)?null:T})(e.limit));let f=null;e.startAt&&(f=(function(b){const T=!!b.before,x=b.values||[];return new Gf(x,T)})(e.startAt));let m=null;return e.endAt&&(m=(function(b){const T=!b.before,x=b.values||[];return new Gf(x,T)})(e.endAt)),PD(t,a,c,o,h,"F",f,m)}function vN(n,t){const e=(function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return At(28987,{purpose:a})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function TS(n){return n.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=Uo(e.unaryFilter.field);return Pe.create(i,"==",{doubleValue:NaN});case"IS_NULL":const a=Uo(e.unaryFilter.field);return Pe.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=Uo(e.unaryFilter.field);return Pe.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const c=Uo(e.unaryFilter.field);return Pe.create(c,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return At(61313);default:return At(60726)}})(n):n.fieldFilter!==void 0?(function(e){return Pe.create(Uo(e.fieldFilter.field),(function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return At(58110);default:return At(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(e){return Si.create(e.compositeFilter.filters.map((i=>TS(i))),(function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return At(1026)}})(e.compositeFilter.op))})(n):At(30097,{filter:n})}function TN(n){return lN[n]}function EN(n){return cN[n]}function xN(n){return uN[n]}function jo(n){return{fieldPath:n.canonicalString()}}function Uo(n){return sn.fromServerFormat(n.fieldPath)}function ES(n){return n instanceof Pe?(function(e){if(e.op==="=="){if(kT(e.value))return{unaryFilter:{field:jo(e.field),op:"IS_NAN"}};if(IT(e.value))return{unaryFilter:{field:jo(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(kT(e.value))return{unaryFilter:{field:jo(e.field),op:"IS_NOT_NAN"}};if(IT(e.value))return{unaryFilter:{field:jo(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:jo(e.field),op:EN(e.op),value:e.value}}})(n):n instanceof Si?(function(e){const i=e.getFilters().map((a=>ES(a)));return i.length===1?i[0]:{compositeFilter:{op:xN(e.op),filters:i}}})(n):At(54877,{filter:n})}function SN(n){const t=[];return n.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function xS(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}class Ar{constructor(t,e,i,a,o=Rt.min(),c=Rt.min(),h=rn.EMPTY_BYTE_STRING,f=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=a,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=h,this.expectedCount=f}withSequenceNumber(t){return new Ar(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Ar(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Ar(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Ar(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class wN{constructor(t){this.yt=t}}function AN(n){const t=bN({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Rp(t,t.limit,"L"):t}class CN{constructor(){this.Cn=new RN}addToCollectionParentIndex(t,e){return this.Cn.add(e),rt.resolve()}getCollectionParents(t,e){return rt.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return rt.resolve()}deleteFieldIndex(t,e){return rt.resolve()}deleteAllFieldIndexes(t){return rt.resolve()}createTargetIndexes(t,e){return rt.resolve()}getDocumentsMatchingTarget(t,e){return rt.resolve(null)}getIndexType(t,e){return rt.resolve(0)}getFieldIndexes(t,e){return rt.resolve([])}getNextCollectionGroupToUpdate(t){return rt.resolve(null)}getMinOffset(t,e){return rt.resolve(Pr.min())}getMinOffsetFromCollectionGroup(t,e){return rt.resolve(Pr.min())}updateCollectionGroup(t,e,i){return rt.resolve()}updateIndexEntries(t,e){return rt.resolve()}}class RN{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),a=this.index[e]||new He(oe.comparator),o=!a.has(i);return this.index[e]=a.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),a=this.index[e];return a&&a.has(i)}getEntries(t){return(this.index[t]||new He(oe.comparator)).toArray()}}const qT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},SS=41943040;class An{static withCacheSize(t){return new An(t,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}}An.DEFAULT_COLLECTION_PERCENTILE=10,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,An.DEFAULT=new An(SS,An.DEFAULT_COLLECTION_PERCENTILE,An.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),An.DISABLED=new An(-1,0,0);class tl{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new tl(0)}static cr(){return new tl(-1)}}const GT="LruGarbageCollector",IN=1048576;function YT([n,t],[e,i]){const a=Bt(n,e);return a===0?Bt(t,i):a}class kN{constructor(t){this.Ir=t,this.buffer=new He(YT),this.Er=0}dr(){return++this.Er}Ar(t){const e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();YT(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class DN{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){_t(GT,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){hl(e)?_t(GT,"Ignoring IndexedDB error during garbage collection: ",e):await ul(e)}await this.Vr(3e5)}))}}class NN{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next((i=>Math.floor(e/100*i)))}nthSequenceNumber(t,e){if(e===0)return rt.resolve(hd.ce);const i=new kN(e);return this.mr.forEachTarget(t,(a=>i.Ar(a.sequenceNumber))).next((()=>this.mr.pr(t,(a=>i.Ar(a))))).next((()=>i.maxValue))}removeTargets(t,e,i){return this.mr.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(_t("LruGarbageCollector","Garbage collection skipped; disabled"),rt.resolve(qT)):this.getCacheSize(t).next((i=>i<this.params.cacheSizeCollectionThreshold?(_t("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),qT):this.yr(t,e)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let i,a,o,c,h,f,m;const y=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((b=>(b>this.params.maximumSequenceNumbersToCollect?(_t("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${b}`),a=this.params.maximumSequenceNumbersToCollect):a=b,c=Date.now(),this.nthSequenceNumber(t,a)))).next((b=>(i=b,h=Date.now(),this.removeTargets(t,i,e)))).next((b=>(o=b,f=Date.now(),this.removeOrphanedDocuments(t,i)))).next((b=>(m=Date.now(),Po()<=Ut.DEBUG&&_t("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${c-y}ms
	Determined least recently used ${a} in `+(h-c)+`ms
	Removed ${o} targets in `+(f-h)+`ms
	Removed ${b} documents in `+(m-f)+`ms
Total Duration: ${m-y}ms`),rt.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:o,documentsRemoved:b}))))}}function MN(n,t){return new NN(n,t)}class ON{constructor(){this.changes=new qa((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,un.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return i!==void 0?rt.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class zN{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class VN{constructor(t,e,i,a){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=a}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next((a=>(i=a,this.remoteDocumentCache.getEntry(t,e)))).next((a=>(i!==null&&jc(i.mutation,a,jn.empty(),fe.now()),a)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.getLocalViewOfDocuments(t,i,Ht()).next((()=>i))))}getLocalViewOfDocuments(t,e,i=Ht()){const a=Na();return this.populateOverlays(t,a,e).next((()=>this.computeViews(t,e,a,i).next((o=>{let c=Rc();return o.forEach(((h,f)=>{c=c.insert(h,f.overlayedDocument)})),c}))))}getOverlayedDocuments(t,e){const i=Na();return this.populateOverlays(t,i,e).next((()=>this.computeViews(t,e,i,Ht())))}populateOverlays(t,e,i){const a=[];return i.forEach((o=>{e.has(o)||a.push(o)})),this.documentOverlayCache.getOverlays(t,a).next((o=>{o.forEach(((c,h)=>{e.set(c,h)}))}))}computeViews(t,e,i,a){let o=Vs();const c=Lc(),h=(function(){return Lc()})();return e.forEach(((f,m)=>{const y=i.get(m.key);a.has(m.key)&&(y===void 0||y.mutation instanceof Kr)?o=o.insert(m.key,m):y!==void 0?(c.set(m.key,y.mutation.getFieldMask()),jc(y.mutation,m,y.mutation.getFieldMask(),fe.now())):c.set(m.key,jn.empty())})),this.recalculateAndSaveOverlays(t,o).next((f=>(f.forEach(((m,y)=>c.set(m,y))),e.forEach(((m,y)=>h.set(m,new zN(y,c.get(m)??null)))),h)))}recalculateAndSaveOverlays(t,e){const i=Lc();let a=new ge(((c,h)=>c-h)),o=Ht();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((c=>{for(const h of c)h.keys().forEach((f=>{const m=e.get(f);if(m===null)return;let y=i.get(f)||jn.empty();y=h.applyToLocalView(m,y),i.set(f,y);const b=(a.get(h.batchId)||Ht()).add(f);a=a.insert(h.batchId,b)}))})).next((()=>{const c=[],h=a.getReverseIterator();for(;h.hasNext();){const f=h.getNext(),m=f.key,y=f.value,b=aS();y.forEach((T=>{if(!o.has(T)){const x=fS(e.get(T),i.get(T));x!==null&&b.set(T,x),o=o.add(T)}})),c.push(this.documentOverlayCache.saveOverlays(t,m,b))}return rt.waitFor(c)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.recalculateAndSaveOverlays(t,i)))}getDocumentsMatchingQuery(t,e,i,a){return(function(c){return Et.isDocumentKey(c.path)&&c.collectionGroup===null&&c.filters.length===0})(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):eS(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,a):this.getDocumentsMatchingCollectionQuery(t,e,i,a)}getNextDocuments(t,e,i,a){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,a).next((o=>{const c=a-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,a-o.size):rt.resolve(Na());let h=Qc,f=o;return c.next((m=>rt.forEach(m,((y,b)=>(h<b.largestBatchId&&(h=b.largestBatchId),o.get(y)?rt.resolve():this.remoteDocumentCache.getEntry(t,y).next((T=>{f=f.insert(y,T)}))))).next((()=>this.populateOverlays(t,m,o))).next((()=>this.computeViews(t,f,m,Ht()))).next((y=>({batchId:h,changes:rS(y)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new Et(e)).next((i=>{let a=Rc();return i.isFoundDocument()&&(a=a.insert(i.key,i)),a}))}getDocumentsMatchingCollectionGroupQuery(t,e,i,a){const o=e.collectionGroup;let c=Rc();return this.indexManager.getCollectionParents(t,o).next((h=>rt.forEach(h,(f=>{const m=(function(b,T){return new fl(T,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt)})(e,f.child(o));return this.getDocumentsMatchingCollectionQuery(t,m,i,a).next((y=>{y.forEach(((b,T)=>{c=c.insert(b,T)}))}))})).next((()=>c))))}getDocumentsMatchingCollectionQuery(t,e,i,a){let o;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next((c=>(o=c,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,o,a)))).next((c=>{o.forEach(((f,m)=>{const y=m.getKey();c.get(y)===null&&(c=c.insert(y,un.newInvalidDocument(y)))}));let h=Rc();return c.forEach(((f,m)=>{const y=o.get(f);y!==void 0&&jc(y.mutation,m,jn.empty(),fe.now()),gd(e,m)&&(h=h.insert(f,m))})),h}))}}class PN{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return rt.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,(function(a){return{id:a.id,version:a.version,createTime:ns(a.createTime)}})(e)),rt.resolve()}getNamedQuery(t,e){return rt.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,(function(a){return{name:a.name,query:AN(a.bundledQuery),readTime:ns(a.readTime)}})(e)),rt.resolve()}}class LN{constructor(){this.overlays=new ge(Et.comparator),this.qr=new Map}getOverlay(t,e){return rt.resolve(this.overlays.get(e))}getOverlays(t,e){const i=Na();return rt.forEach(e,(a=>this.getOverlay(t,a).next((o=>{o!==null&&i.set(a,o)})))).next((()=>i))}saveOverlays(t,e,i){return i.forEach(((a,o)=>{this.St(t,e,o)})),rt.resolve()}removeOverlaysForBatchId(t,e,i){const a=this.qr.get(i);return a!==void 0&&(a.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(i)),rt.resolve()}getOverlaysForCollection(t,e,i){const a=Na(),o=e.length+1,c=new Et(e.child("")),h=this.overlays.getIteratorFrom(c);for(;h.hasNext();){const f=h.getNext().value,m=f.getKey();if(!e.isPrefixOf(m.path))break;m.path.length===o&&f.largestBatchId>i&&a.set(f.getKey(),f)}return rt.resolve(a)}getOverlaysForCollectionGroup(t,e,i,a){let o=new ge(((m,y)=>m-y));const c=this.overlays.getIterator();for(;c.hasNext();){const m=c.getNext().value;if(m.getKey().getCollectionGroup()===e&&m.largestBatchId>i){let y=o.get(m.largestBatchId);y===null&&(y=Na(),o=o.insert(m.largestBatchId,y)),y.set(m.getKey(),m)}}const h=Na(),f=o.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((m,y)=>h.set(m,y))),!(h.size()>=a)););return rt.resolve(h)}St(t,e,i){const a=this.overlays.get(i.key);if(a!==null){const c=this.qr.get(a.largestBatchId).delete(i.key);this.qr.set(a.largestBatchId,c)}this.overlays=this.overlays.insert(i.key,new nN(e,i));let o=this.qr.get(e);o===void 0&&(o=Ht(),this.qr.set(e,o)),this.qr.set(e,o.add(i.key))}}class jN{constructor(){this.sessionToken=rn.EMPTY_BYTE_STRING}getSessionToken(t){return rt.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,rt.resolve()}}class Ey{constructor(){this.Qr=new He(Ke.$r),this.Ur=new He(Ke.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){const i=new Ke(t,e);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(t,e){t.forEach((i=>this.addReference(i,e)))}removeReference(t,e){this.Gr(new Ke(t,e))}zr(t,e){t.forEach((i=>this.removeReference(i,e)))}jr(t){const e=new Et(new oe([])),i=new Ke(e,t),a=new Ke(e,t+1),o=[];return this.Ur.forEachInRange([i,a],(c=>{this.Gr(c),o.push(c.key)})),o}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const e=new Et(new oe([])),i=new Ke(e,t),a=new Ke(e,t+1);let o=Ht();return this.Ur.forEachInRange([i,a],(c=>{o=o.add(c.key)})),o}containsKey(t){const e=new Ke(t,0),i=this.Qr.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}}class Ke{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return Et.comparator(t.key,e.key)||Bt(t.Yr,e.Yr)}static Kr(t,e){return Bt(t.Yr,e.Yr)||Et.comparator(t.key,e.key)}}class UN{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new He(Ke.$r)}checkEmpty(t){return rt.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,a){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const c=new eN(o,e,i,a);this.mutationQueue.push(c);for(const h of a)this.Zr=this.Zr.add(new Ke(h.key,o)),this.indexManager.addToCollectionParentIndex(t,h.key.path.popLast());return rt.resolve(c)}lookupMutationBatch(t,e){return rt.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,a=this.ei(i),o=a<0?0:a;return rt.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return rt.resolve(this.mutationQueue.length===0?fy:this.tr-1)}getAllMutationBatches(t){return rt.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new Ke(e,0),a=new Ke(e,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([i,a],(c=>{const h=this.Xr(c.Yr);o.push(h)})),rt.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new He(Bt);return e.forEach((a=>{const o=new Ke(a,0),c=new Ke(a,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,c],(h=>{i=i.add(h.Yr)}))})),rt.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,a=i.length+1;let o=i;Et.isDocumentKey(o)||(o=o.child(""));const c=new Ke(new Et(o),0);let h=new He(Bt);return this.Zr.forEachWhile((f=>{const m=f.key.path;return!!i.isPrefixOf(m)&&(m.length===a&&(h=h.add(f.Yr)),!0)}),c),rt.resolve(this.ti(h))}ti(t){const e=[];return t.forEach((i=>{const a=this.Xr(i);a!==null&&e.push(a)})),e}removeMutationBatch(t,e){Wt(this.ni(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return rt.forEach(e.mutations,(a=>{const o=new Ke(a.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,a.key)})).next((()=>{this.Zr=i}))}ir(t){}containsKey(t,e){const i=new Ke(e,0),a=this.Zr.firstAfterOrEqual(i);return rt.resolve(e.isEqual(a&&a.key))}performConsistencyCheck(t){return this.mutationQueue.length,rt.resolve()}ni(t,e){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class BN{constructor(t){this.ri=t,this.docs=(function(){return new ge(Et.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,a=this.docs.get(i),o=a?a.size:0,c=this.ri(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return rt.resolve(i?i.document.mutableCopy():un.newInvalidDocument(e))}getEntries(t,e){let i=Vs();return e.forEach((a=>{const o=this.docs.get(a);i=i.insert(a,o?o.document.mutableCopy():un.newInvalidDocument(a))})),rt.resolve(i)}getDocumentsMatchingQuery(t,e,i,a){let o=Vs();const c=e.path,h=new Et(c.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(h);for(;f.hasNext();){const{key:m,value:{document:y}}=f.getNext();if(!c.isPrefixOf(m.path))break;m.path.length>c.length+1||gD(mD(y),i)<=0||(a.has(y.key)||gd(e,y))&&(o=o.insert(y.key,y.mutableCopy()))}return rt.resolve(o)}getAllFromCollectionGroup(t,e,i,a){At(9500)}ii(t,e){return rt.forEach(this.docs,(i=>e(i)))}newChangeBuffer(t){return new HN(this)}getSize(t){return rt.resolve(this.size)}}class HN extends ON{constructor(t){super(),this.Nr=t}applyChanges(t){const e=[];return this.changes.forEach(((i,a)=>{a.isValidDocument()?e.push(this.Nr.addEntry(t,a)):this.Nr.removeEntry(i)})),rt.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}}class FN{constructor(t){this.persistence=t,this.si=new qa((e=>gy(e)),py),this.lastRemoteSnapshotVersion=Rt.min(),this.highestTargetId=0,this.oi=0,this._i=new Ey,this.targetCount=0,this.ai=tl.ur()}forEachTarget(t,e){return this.si.forEach(((i,a)=>e(a))),rt.resolve()}getLastRemoteSnapshotVersion(t){return rt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return rt.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),rt.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.oi&&(this.oi=e),rt.resolve()}Pr(t){this.si.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ai=new tl(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,rt.resolve()}updateTargetData(t,e){return this.Pr(e),rt.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,rt.resolve()}removeTargets(t,e,i){let a=0;const o=[];return this.si.forEach(((c,h)=>{h.sequenceNumber<=e&&i.get(h.targetId)===null&&(this.si.delete(c),o.push(this.removeMatchingKeysForTargetId(t,h.targetId)),a++)})),rt.waitFor(o).next((()=>a))}getTargetCount(t){return rt.resolve(this.targetCount)}getTargetData(t,e){const i=this.si.get(e)||null;return rt.resolve(i)}addMatchingKeys(t,e,i){return this._i.Wr(e,i),rt.resolve()}removeMatchingKeys(t,e,i){this._i.zr(e,i);const a=this.persistence.referenceDelegate,o=[];return a&&e.forEach((c=>{o.push(a.markPotentiallyOrphaned(t,c))})),rt.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),rt.resolve()}getMatchingKeysForTargetId(t,e){const i=this._i.Hr(e);return rt.resolve(i)}containsKey(t,e){return rt.resolve(this._i.containsKey(e))}}class wS{constructor(t,e){this.ui={},this.overlays={},this.ci=new hd(0),this.li=!1,this.li=!0,this.hi=new jN,this.referenceDelegate=t(this),this.Pi=new FN(this),this.indexManager=new CN,this.remoteDocumentCache=(function(a){return new BN(a)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new wN(e),this.Ii=new PN(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new LN,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.ui[t.toKey()];return i||(i=new UN(e,this.referenceDelegate),this.ui[t.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,i){_t("MemoryPersistence","Starting transaction:",t);const a=new qN(this.ci.next());return this.referenceDelegate.Ei(),i(a).next((o=>this.referenceDelegate.di(a).next((()=>o)))).toPromise().then((o=>(a.raiseOnCommittedEvent(),o)))}Ai(t,e){return rt.or(Object.values(this.ui).map((i=>()=>i.containsKey(t,e))))}}class qN extends yD{constructor(t){super(),this.currentSequenceNumber=t}}class xy{constructor(t){this.persistence=t,this.Ri=new Ey,this.Vi=null}static mi(t){return new xy(t)}get fi(){if(this.Vi)return this.Vi;throw At(60996)}addReference(t,e,i){return this.Ri.addReference(i,e),this.fi.delete(i.toString()),rt.resolve()}removeReference(t,e,i){return this.Ri.removeReference(i,e),this.fi.add(i.toString()),rt.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),rt.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach((a=>this.fi.add(a.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next((a=>{a.forEach((o=>this.fi.add(o.toString())))})).next((()=>i.removeTargetData(t,e)))}Ei(){this.Vi=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return rt.forEach(this.fi,(i=>{const a=Et.fromPath(i);return this.gi(t,a).next((o=>{o||e.removeEntry(a,Rt.min())}))})).next((()=>(this.Vi=null,e.apply(t))))}updateLimboDocument(t,e){return this.gi(t,e).next((i=>{i?this.fi.delete(e.toString()):this.fi.add(e.toString())}))}Ti(t){return 0}gi(t,e){return rt.or([()=>rt.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}class $f{constructor(t,e){this.persistence=t,this.pi=new qa((i=>vD(i.path)),((i,a)=>i.isEqual(a))),this.garbageCollector=MN(this,e)}static mi(t,e){return new $f(t,e)}Ei(){}di(t){return rt.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){const e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((i=>e.next((a=>i+a))))}wr(t){let e=0;return this.pr(t,(i=>{e++})).next((()=>e))}pr(t,e){return rt.forEach(this.pi,((i,a)=>this.br(t,i,a).next((o=>o?rt.resolve():e(a)))))}removeTargets(t,e,i){return this.persistence.getTargetCache().removeTargets(t,e,i)}removeOrphanedDocuments(t,e){let i=0;const a=this.persistence.getRemoteDocumentCache(),o=a.newChangeBuffer();return a.ii(t,(c=>this.br(t,c,e).next((h=>{h||(i++,o.removeEntry(c,Rt.min()))})))).next((()=>o.apply(t))).next((()=>i))}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),rt.resolve()}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,e,i){return this.pi.set(i,t.currentSequenceNumber),rt.resolve()}removeReference(t,e,i){return this.pi.set(i,t.currentSequenceNumber),rt.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),rt.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=wf(t.data.value)),e}br(t,e,i){return rt.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const a=this.pi.get(e);return rt.resolve(a!==void 0&&a>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class Sy{constructor(t,e,i,a){this.targetId=t,this.fromCache=e,this.Es=i,this.ds=a}static As(t,e){let i=Ht(),a=Ht();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:a=a.add(o.doc.key)}return new Sy(t,e.fromCache,i,a)}}class GN{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class YN{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return bC()?8:_D(fn())>0?6:4})()}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,i,a){const o={result:null};return this.ys(t,e).next((c=>{o.result=c})).next((()=>{if(!o.result)return this.ws(t,e,a,i).next((c=>{o.result=c}))})).next((()=>{if(o.result)return;const c=new GN;return this.Ss(t,e,c).next((h=>{if(o.result=h,this.Vs)return this.bs(t,e,c,h.size)}))})).next((()=>o.result))}bs(t,e,i,a){return i.documentReadCount<this.fs?(Po()<=Ut.DEBUG&&_t("QueryEngine","SDK will not create cache indexes for query:",Lo(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),rt.resolve()):(Po()<=Ut.DEBUG&&_t("QueryEngine","Query:",Lo(e),"scans",i.documentReadCount,"local documents and returns",a,"documents as results."),i.documentReadCount>this.gs*a?(Po()<=Ut.DEBUG&&_t("QueryEngine","The SDK decides to create cache indexes for query:",Lo(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,es(e))):rt.resolve())}ys(t,e){if(OT(e))return rt.resolve(null);let i=es(e);return this.indexManager.getIndexType(t,i).next((a=>a===0?null:(e.limit!==null&&a===1&&(e=Rp(e,null,"F"),i=es(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next((o=>{const c=Ht(...o);return this.ps.getDocuments(t,c).next((h=>this.indexManager.getMinOffset(t,i).next((f=>{const m=this.Ds(e,h);return this.Cs(e,m,c,f.readTime)?this.ys(t,Rp(e,null,"F")):this.vs(t,m,e,f)}))))})))))}ws(t,e,i,a){return OT(e)||a.isEqual(Rt.min())?rt.resolve(null):this.ps.getDocuments(t,i).next((o=>{const c=this.Ds(e,o);return this.Cs(e,c,i,a)?rt.resolve(null):(Po()<=Ut.DEBUG&&_t("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Lo(e)),this.vs(t,c,e,dD(a,Qc)).next((h=>h)))}))}Ds(t,e){let i=new He(iS(t));return e.forEach(((a,o)=>{gd(t,o)&&(i=i.add(o))})),i}Cs(t,e,i,a){if(t.limit===null)return!1;if(i.size!==e.size)return!0;const o=t.limitType==="F"?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(a)>0)}Ss(t,e,i){return Po()<=Ut.DEBUG&&_t("QueryEngine","Using full collection scan to execute query:",Lo(e)),this.ps.getDocumentsMatchingQuery(t,e,Pr.min(),i)}vs(t,e,i,a){return this.ps.getDocumentsMatchingQuery(t,i,a).next((o=>(e.forEach((c=>{o=o.insert(c.key,c)})),o)))}}const wy="LocalStore",KN=3e8;class $N{constructor(t,e,i,a){this.persistence=t,this.Fs=e,this.serializer=a,this.Ms=new ge(Bt),this.xs=new qa((o=>gy(o)),py),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(i)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new VN(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.Ms)))}}function QN(n,t,e,i){return new $N(n,t,e,i)}async function AS(n,t){const e=kt(n);return await e.persistence.runTransaction("Handle user change","readonly",(i=>{let a;return e.mutationQueue.getAllMutationBatches(i).next((o=>(a=o,e.Bs(t),e.mutationQueue.getAllMutationBatches(i)))).next((o=>{const c=[],h=[];let f=Ht();for(const m of a){c.push(m.batchId);for(const y of m.mutations)f=f.add(y.key)}for(const m of o){h.push(m.batchId);for(const y of m.mutations)f=f.add(y.key)}return e.localDocuments.getDocuments(i,f).next((m=>({Ls:m,removedBatchIds:c,addedBatchIds:h})))}))}))}function XN(n,t){const e=kt(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const a=t.batch.keys(),o=e.Ns.newChangeBuffer({trackRemovals:!0});return(function(h,f,m,y){const b=m.batch,T=b.keys();let x=rt.resolve();return T.forEach((A=>{x=x.next((()=>y.getEntry(f,A))).next((I=>{const N=m.docVersions.get(A);Wt(N!==null,48541),I.version.compareTo(N)<0&&(b.applyToRemoteDocument(I,m),I.isValidDocument()&&(I.setReadTime(m.commitVersion),y.addEntry(I)))}))})),x.next((()=>h.mutationQueue.removeMutationBatch(f,b)))})(e,i,t,o).next((()=>o.apply(i))).next((()=>e.mutationQueue.performConsistencyCheck(i))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(i,a,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(h){let f=Ht();for(let m=0;m<h.mutationResults.length;++m)h.mutationResults[m].transformResults.length>0&&(f=f.add(h.batch.mutations[m].key));return f})(t)))).next((()=>e.localDocuments.getDocuments(i,a)))}))}function CS(n){const t=kt(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Pi.getLastRemoteSnapshotVersion(e)))}function WN(n,t){const e=kt(n),i=t.snapshotVersion;let a=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const c=e.Ns.newChangeBuffer({trackRemovals:!0});a=e.Ms;const h=[];t.targetChanges.forEach(((y,b)=>{const T=a.get(b);if(!T)return;h.push(e.Pi.removeMatchingKeys(o,y.removedDocuments,b).next((()=>e.Pi.addMatchingKeys(o,y.addedDocuments,b))));let x=T.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(b)!==null?x=x.withResumeToken(rn.EMPTY_BYTE_STRING,Rt.min()).withLastLimboFreeSnapshotVersion(Rt.min()):y.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(y.resumeToken,i)),a=a.insert(b,x),(function(I,N,B){return I.resumeToken.approximateByteSize()===0||N.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=KN?!0:B.addedDocuments.size+B.modifiedDocuments.size+B.removedDocuments.size>0})(T,x,y)&&h.push(e.Pi.updateTargetData(o,x))}));let f=Vs(),m=Ht();if(t.documentUpdates.forEach((y=>{t.resolvedLimboDocuments.has(y)&&h.push(e.persistence.referenceDelegate.updateLimboDocument(o,y))})),h.push(ZN(o,c,t.documentUpdates).next((y=>{f=y.ks,m=y.qs}))),!i.isEqual(Rt.min())){const y=e.Pi.getLastRemoteSnapshotVersion(o).next((b=>e.Pi.setTargetsMetadata(o,o.currentSequenceNumber,i)));h.push(y)}return rt.waitFor(h).next((()=>c.apply(o))).next((()=>e.localDocuments.getLocalViewOfDocuments(o,f,m))).next((()=>f))})).then((o=>(e.Ms=a,o)))}function ZN(n,t,e){let i=Ht(),a=Ht();return e.forEach((o=>i=i.add(o))),t.getEntries(n,i).next((o=>{let c=Vs();return e.forEach(((h,f)=>{const m=o.get(h);f.isFoundDocument()!==m.isFoundDocument()&&(a=a.add(h)),f.isNoDocument()&&f.version.isEqual(Rt.min())?(t.removeEntry(h,f.readTime),c=c.insert(h,f)):!m.isValidDocument()||f.version.compareTo(m.version)>0||f.version.compareTo(m.version)===0&&m.hasPendingWrites?(t.addEntry(f),c=c.insert(h,f)):_t(wy,"Ignoring outdated watch update for ",h,". Current version:",m.version," Watch version:",f.version)})),{ks:c,qs:a}}))}function JN(n,t){const e=kt(n);return e.persistence.runTransaction("Get next mutation batch","readonly",(i=>(t===void 0&&(t=fy),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t))))}function tM(n,t){const e=kt(n);return e.persistence.runTransaction("Allocate target","readwrite",(i=>{let a;return e.Pi.getTargetData(i,t).next((o=>o?(a=o,rt.resolve(a)):e.Pi.allocateTargetId(i).next((c=>(a=new Ar(t,c,"TargetPurposeListen",i.currentSequenceNumber),e.Pi.addTargetData(i,a).next((()=>a)))))))})).then((i=>{const a=e.Ms.get(i.targetId);return(a===null||i.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(e.Ms=e.Ms.insert(i.targetId,i),e.xs.set(t,i.targetId)),i}))}async function Mp(n,t,e){const i=kt(n),a=i.Ms.get(t),o=e?"readwrite":"readwrite-primary";try{e||await i.persistence.runTransaction("Release target",o,(c=>i.persistence.referenceDelegate.removeTarget(c,a)))}catch(c){if(!hl(c))throw c;_t(wy,`Failed to update sequence numbers for target ${t}: ${c}`)}i.Ms=i.Ms.remove(t),i.xs.delete(a.target)}function KT(n,t,e){const i=kt(n);let a=Rt.min(),o=Ht();return i.persistence.runTransaction("Execute query","readwrite",(c=>(function(f,m,y){const b=kt(f),T=b.xs.get(y);return T!==void 0?rt.resolve(b.Ms.get(T)):b.Pi.getTargetData(m,y)})(i,c,es(t)).next((h=>{if(h)return a=h.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(c,h.targetId).next((f=>{o=f}))})).next((()=>i.Fs.getDocumentsMatchingQuery(c,t,e?a:Rt.min(),e?o:Ht()))).next((h=>(eM(i,jD(t),h),{documents:h,Qs:o})))))}function eM(n,t,e){let i=n.Os.get(t)||Rt.min();e.forEach(((a,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)})),n.Os.set(t,i)}class $T{constructor(){this.activeTargetIds=GD()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class nM{constructor(){this.Mo=new $T,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,i){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new $T,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class iM{Oo(t){}shutdown(){}}const QT="ConnectivityMonitor";class XT{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){_t(QT,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){_t(QT,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let af=null;function Op(){return af===null?af=(function(){return 268435456+Math.round(2147483648*Math.random())})():af++,"0x"+af.toString(16)}const $g="RestConnection",sM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class rM{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${i}/databases/${a}`,this.Wo=this.databaseId.database===Ff?`project_id=${i}`:`project_id=${i}&database_id=${a}`}Go(t,e,i,a,o){const c=Op(),h=this.zo(t,e.toUriEncodedString());_t($g,`Sending RPC '${t}' ${c}:`,h,i);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,a,o);const{host:m}=new URL(h),y=al(m);return this.Jo(t,h,f,i,y).then((b=>(_t($g,`Received RPC '${t}' ${c}: `,b),b)),(b=>{throw Xo($g,`RPC '${t}' ${c} failed with error: `,b,"url: ",h,"request:",i),b}))}Ho(t,e,i,a,o,c){return this.Go(t,e,i,a,o)}jo(t,e,i){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+cl})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((a,o)=>t[o]=a)),i&&i.headers.forEach(((a,o)=>t[o]=a))}zo(t,e){const i=sM[t];return`${this.Uo}/v1/${e}:${i}`}terminate(){}}class aM{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const on="WebChannelConnection";class oM extends rM{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,i,a,o){const c=Op();return new Promise(((h,f)=>{const m=new kx;m.setWithCredentials(!0),m.listenOnce(Dx.COMPLETE,(()=>{try{switch(m.getLastErrorCode()){case Sf.NO_ERROR:const b=m.getResponseJson();_t(on,`XHR for RPC '${t}' ${c} received:`,JSON.stringify(b)),h(b);break;case Sf.TIMEOUT:_t(on,`RPC '${t}' ${c} timed out`),f(new gt(it.DEADLINE_EXCEEDED,"Request time out"));break;case Sf.HTTP_ERROR:const T=m.getStatus();if(_t(on,`RPC '${t}' ${c} failed with status:`,T,"response text:",m.getResponseText()),T>0){let x=m.getResponseJson();Array.isArray(x)&&(x=x[0]);const A=x?.error;if(A&&A.status&&A.message){const I=(function(B){const Q=B.toLowerCase().replace(/_/g,"-");return Object.values(it).indexOf(Q)>=0?Q:it.UNKNOWN})(A.status);f(new gt(I,A.message))}else f(new gt(it.UNKNOWN,"Server responded with status "+m.getStatus()))}else f(new gt(it.UNAVAILABLE,"Connection failed."));break;default:At(9055,{l_:t,streamId:c,h_:m.getLastErrorCode(),P_:m.getLastError()})}}finally{_t(on,`RPC '${t}' ${c} completed.`)}}));const y=JSON.stringify(a);_t(on,`RPC '${t}' ${c} sending request:`,a),m.send(e,"POST",y,i,15)}))}T_(t,e,i){const a=Op(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],c=Ox(),h=Mx(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},m=this.longPollingOptions.timeoutSeconds;m!==void 0&&(f.longPollingTimeout=Math.round(1e3*m)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,e,i),f.encodeInitMessageHeaders=!0;const y=o.join("");_t(on,`Creating RPC '${t}' stream ${a}: ${y}`,f);const b=c.createWebChannel(y,f);this.I_(b);let T=!1,x=!1;const A=new aM({Yo:N=>{x?_t(on,`Not sending because RPC '${t}' stream ${a} is closed:`,N):(T||(_t(on,`Opening RPC '${t}' stream ${a} transport.`),b.open(),T=!0),_t(on,`RPC '${t}' stream ${a} sending:`,N),b.send(N))},Zo:()=>b.close()}),I=(N,B,Q)=>{N.listen(B,(X=>{try{Q(X)}catch(at){setTimeout((()=>{throw at}),0)}}))};return I(b,Cc.EventType.OPEN,(()=>{x||(_t(on,`RPC '${t}' stream ${a} transport opened.`),A.o_())})),I(b,Cc.EventType.CLOSE,(()=>{x||(x=!0,_t(on,`RPC '${t}' stream ${a} transport closed`),A.a_(),this.E_(b))})),I(b,Cc.EventType.ERROR,(N=>{x||(x=!0,Xo(on,`RPC '${t}' stream ${a} transport errored. Name:`,N.name,"Message:",N.message),A.a_(new gt(it.UNAVAILABLE,"The operation could not be completed")))})),I(b,Cc.EventType.MESSAGE,(N=>{if(!x){const B=N.data[0];Wt(!!B,16349);const Q=B,X=Q?.error||Q[0]?.error;if(X){_t(on,`RPC '${t}' stream ${a} received error:`,X);const at=X.status;let nt=(function(C){const D=Ve[C];if(D!==void 0)return mS(D)})(at),lt=X.message;nt===void 0&&(nt=it.INTERNAL,lt="Unknown error status: "+at+" with message "+X.message),x=!0,A.a_(new gt(nt,lt)),b.close()}else _t(on,`RPC '${t}' stream ${a} received:`,B),A.u_(B)}})),I(h,Nx.STAT_EVENT,(N=>{N.stat===Tp.PROXY?_t(on,`RPC '${t}' stream ${a} detected buffering proxy`):N.stat===Tp.NOPROXY&&_t(on,`RPC '${t}' stream ${a} detected no buffering proxy`)})),setTimeout((()=>{A.__()}),0),A}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((e=>e===t))}}function Qg(){return typeof document<"u"?document:null}function vd(n){return new hN(n,!0)}class RS{constructor(t,e,i=1e3,a=1.5,o=6e4){this.Mi=t,this.timerId=e,this.d_=i,this.A_=a,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),a=Math.max(0,e-i);a>0&&_t("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,a,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const WT="PersistentStream";class IS{constructor(t,e,i,a,o,c,h,f){this.Mi=t,this.S_=i,this.b_=a,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=h,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new RS(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===it.RESOURCE_EXHAUSTED?(zs(e.toString()),zs("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===it.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,a])=>{this.D_===e&&this.G_(i,a)}),(i=>{t((()=>{const a=new gt(it.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(a)}))}))}G_(t,e){const i=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((a=>{i((()=>this.z_(a)))})),this.stream.onMessage((a=>{i((()=>++this.F_==1?this.J_(a):this.onNext(a)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return _t(WT,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget((()=>this.D_===t?e():(_t(WT,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class lM extends IS{constructor(t,e,i,a,o,c){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,a,c),this.serializer=o}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=mN(this.serializer,t),i=(function(o){if(!("targetChange"in o))return Rt.min();const c=o.targetChange;return c.targetIds&&c.targetIds.length?Rt.min():c.readTime?ns(c.readTime):Rt.min()})(t);return this.listener.H_(e,i)}Y_(t){const e={};e.database=Np(this.serializer),e.addTarget=(function(o,c){let h;const f=c.target;if(h=Ap(f)?{documents:yN(o,f)}:{query:_N(o,f).ft},h.targetId=c.targetId,c.resumeToken.approximateByteSize()>0){h.resumeToken=yS(o,c.resumeToken);const m=Ip(o,c.expectedCount);m!==null&&(h.expectedCount=m)}else if(c.snapshotVersion.compareTo(Rt.min())>0){h.readTime=Kf(o,c.snapshotVersion.toTimestamp());const m=Ip(o,c.expectedCount);m!==null&&(h.expectedCount=m)}return h})(this.serializer,t);const i=vN(this.serializer,t);i&&(e.labels=i),this.q_(e)}Z_(t){const e={};e.database=Np(this.serializer),e.removeTarget=t,this.q_(e)}}class cM extends IS{constructor(t,e,i,a,o,c){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,a,c),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}J_(t){return Wt(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,Wt(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){Wt(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=pN(t.writeResults,t.commitTime),i=ns(t.commitTime);return this.listener.na(i,e)}ra(){const t={};t.database=Np(this.serializer),this.q_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((i=>gN(this.serializer,i)))};this.q_(e)}}class uM{}class hM extends uM{constructor(t,e,i,a){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=a,this.ia=!1}sa(){if(this.ia)throw new gt(it.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,c])=>this.connection.Go(t,kp(e,i),a,o,c))).catch((o=>{throw o.name==="FirebaseError"?(o.code===it.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new gt(it.UNKNOWN,o.toString())}))}Ho(t,e,i,a,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([c,h])=>this.connection.Ho(t,kp(e,i),a,c,h,o))).catch((c=>{throw c.name==="FirebaseError"?(c.code===it.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),c):new gt(it.UNKNOWN,c.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class fM{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(zs(e),this.aa=!1):_t("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const Ha="RemoteStore";class dM{constructor(t,e,i,a,o){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((c=>{i.enqueueAndForget((async()=>{Ga(this)&&(_t(Ha,"Restarting streams for network reachability change."),await(async function(f){const m=kt(f);m.Ea.add(4),await _u(m),m.Ra.set("Unknown"),m.Ea.delete(4),await Td(m)})(this))}))})),this.Ra=new fM(i,a)}}async function Td(n){if(Ga(n))for(const t of n.da)await t(!0)}async function _u(n){for(const t of n.da)await t(!1)}function kS(n,t){const e=kt(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),Iy(e)?Ry(e):dl(e).O_()&&Cy(e,t))}function Ay(n,t){const e=kt(n),i=dl(e);e.Ia.delete(t),i.O_()&&DS(e,t),e.Ia.size===0&&(i.O_()?i.L_():Ga(e)&&e.Ra.set("Unknown"))}function Cy(n,t){if(n.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Rt.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}dl(n).Y_(t)}function DS(n,t){n.Va.Ue(t),dl(n).Z_(t)}function Ry(n){n.Va=new oN({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),dl(n).start(),n.Ra.ua()}function Iy(n){return Ga(n)&&!dl(n).x_()&&n.Ia.size>0}function Ga(n){return kt(n).Ea.size===0}function NS(n){n.Va=void 0}async function mM(n){n.Ra.set("Online")}async function gM(n){n.Ia.forEach(((t,e)=>{Cy(n,t)}))}async function pM(n,t){NS(n),Iy(n)?(n.Ra.ha(t),Ry(n)):n.Ra.set("Unknown")}async function yM(n,t,e){if(n.Ra.set("Online"),t instanceof pS&&t.state===2&&t.cause)try{await(async function(a,o){const c=o.cause;for(const h of o.targetIds)a.Ia.has(h)&&(await a.remoteSyncer.rejectListen(h,c),a.Ia.delete(h),a.Va.removeTarget(h))})(n,t)}catch(i){_t(Ha,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await Qf(n,i)}else if(t instanceof Rf?n.Va.Ze(t):t instanceof gS?n.Va.st(t):n.Va.tt(t),!e.isEqual(Rt.min()))try{const i=await CS(n.localStore);e.compareTo(i)>=0&&await(function(o,c){const h=o.Va.Tt(c);return h.targetChanges.forEach(((f,m)=>{if(f.resumeToken.approximateByteSize()>0){const y=o.Ia.get(m);y&&o.Ia.set(m,y.withResumeToken(f.resumeToken,c))}})),h.targetMismatches.forEach(((f,m)=>{const y=o.Ia.get(f);if(!y)return;o.Ia.set(f,y.withResumeToken(rn.EMPTY_BYTE_STRING,y.snapshotVersion)),DS(o,f);const b=new Ar(y.target,f,m,y.sequenceNumber);Cy(o,b)})),o.remoteSyncer.applyRemoteEvent(h)})(n,e)}catch(i){_t(Ha,"Failed to raise snapshot:",i),await Qf(n,i)}}async function Qf(n,t,e){if(!hl(t))throw t;n.Ea.add(1),await _u(n),n.Ra.set("Offline"),e||(e=()=>CS(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{_t(Ha,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await Td(n)}))}function MS(n,t){return t().catch((e=>Qf(n,e,t)))}async function Ed(n){const t=kt(n),e=Br(t);let i=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:fy;for(;_M(t);)try{const a=await JN(t.localStore,i);if(a===null){t.Ta.length===0&&e.L_();break}i=a.batchId,bM(t,a)}catch(a){await Qf(t,a)}OS(t)&&zS(t)}function _M(n){return Ga(n)&&n.Ta.length<10}function bM(n,t){n.Ta.push(t);const e=Br(n);e.O_()&&e.X_&&e.ea(t.mutations)}function OS(n){return Ga(n)&&!Br(n).x_()&&n.Ta.length>0}function zS(n){Br(n).start()}async function vM(n){Br(n).ra()}async function TM(n){const t=Br(n);for(const e of n.Ta)t.ea(e.mutations)}async function EM(n,t,e){const i=n.Ta.shift(),a=by.from(i,t,e);await MS(n,(()=>n.remoteSyncer.applySuccessfulWrite(a))),await Ed(n)}async function xM(n,t){t&&Br(n).X_&&await(async function(i,a){if((function(c){return sN(c)&&c!==it.ABORTED})(a.code)){const o=i.Ta.shift();Br(i).B_(),await MS(i,(()=>i.remoteSyncer.rejectFailedWrite(o.batchId,a))),await Ed(i)}})(n,t),OS(n)&&zS(n)}async function ZT(n,t){const e=kt(n);e.asyncQueue.verifyOperationInProgress(),_t(Ha,"RemoteStore received new credentials");const i=Ga(e);e.Ea.add(3),await _u(e),i&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await Td(e)}async function SM(n,t){const e=kt(n);t?(e.Ea.delete(2),await Td(e)):t||(e.Ea.add(2),await _u(e),e.Ra.set("Unknown"))}function dl(n){return n.ma||(n.ma=(function(e,i,a){const o=kt(e);return o.sa(),new lM(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(n.datastore,n.asyncQueue,{Xo:mM.bind(null,n),t_:gM.bind(null,n),r_:pM.bind(null,n),H_:yM.bind(null,n)}),n.da.push((async t=>{t?(n.ma.B_(),Iy(n)?Ry(n):n.Ra.set("Unknown")):(await n.ma.stop(),NS(n))}))),n.ma}function Br(n){return n.fa||(n.fa=(function(e,i,a){const o=kt(e);return o.sa(),new cM(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,a)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:vM.bind(null,n),r_:xM.bind(null,n),ta:TM.bind(null,n),na:EM.bind(null,n)}),n.da.push((async t=>{t?(n.fa.B_(),await Ed(n)):(await n.fa.stop(),n.Ta.length>0&&(_t(Ha,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class ky{constructor(t,e,i,a,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=a,this.removalCallback=o,this.deferred=new Or,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((c=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,a,o){const c=Date.now()+i,h=new ky(t,e,c,a,o);return h.start(i),h}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new gt(it.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Dy(n,t){if(zs("AsyncQueue",`${t}: ${n}`),hl(n))return new gt(it.UNAVAILABLE,`${t}: ${n}`);throw n}class Yo{static emptySet(t){return new Yo(t.comparator)}constructor(t){this.comparator=t?(e,i)=>t(e,i)||Et.comparator(e.key,i.key):(e,i)=>Et.comparator(e.key,i.key),this.keyedMap=Rc(),this.sortedSet=new ge(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,i)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof Yo)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const a=e.getNext().key,o=i.getNext().key;if(!a.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const i=new Yo;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class JT{constructor(){this.ga=new ge(Et.comparator)}track(t){const e=t.doc.key,i=this.ga.get(e);i?t.type!==0&&i.type===3?this.ga=this.ga.insert(e,t):t.type===3&&i.type!==1?this.ga=this.ga.insert(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.ga=this.ga.remove(e):t.type===1&&i.type===2?this.ga=this.ga.insert(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):At(63341,{Rt:t,pa:i}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,i)=>{t.push(i)})),t}}class el{constructor(t,e,i,a,o,c,h,f,m){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=a,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=h,this.excludesMetadataChanges=f,this.hasCachedResults=m}static fromInitialDocuments(t,e,i,a,o){const c=[];return e.forEach((h=>{c.push({type:0,doc:h})})),new el(t,e,Yo.emptySet(e),c,i,a,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&md(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let a=0;a<e.length;a++)if(e[a].type!==i[a].type||!e[a].doc.isEqual(i[a].doc))return!1;return!0}}class wM{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class AM{constructor(){this.queries=tE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,i){const a=kt(e),o=a.queries;a.queries=tE(),o.forEach(((c,h)=>{for(const f of h.Sa)f.onError(i)}))})(this,new gt(it.ABORTED,"Firestore shutting down"))}}function tE(){return new qa((n=>nS(n)),md)}async function VS(n,t){const e=kt(n);let i=3;const a=t.query;let o=e.queries.get(a);o?!o.ba()&&t.Da()&&(i=2):(o=new wM,i=t.Da()?0:1);try{switch(i){case 0:o.wa=await e.onListen(a,!0);break;case 1:o.wa=await e.onListen(a,!1);break;case 2:await e.onFirstRemoteStoreListen(a)}}catch(c){const h=Dy(c,`Initialization of query '${Lo(t.query)}' failed`);return void t.onError(h)}e.queries.set(a,o),o.Sa.push(t),t.va(e.onlineState),o.wa&&t.Fa(o.wa)&&Ny(e)}async function PS(n,t){const e=kt(n),i=t.query;let a=3;const o=e.queries.get(i);if(o){const c=o.Sa.indexOf(t);c>=0&&(o.Sa.splice(c,1),o.Sa.length===0?a=t.Da()?0:1:!o.ba()&&t.Da()&&(a=2))}switch(a){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}}function CM(n,t){const e=kt(n);let i=!1;for(const a of t){const o=a.query,c=e.queries.get(o);if(c){for(const h of c.Sa)h.Fa(a)&&(i=!0);c.wa=a}}i&&Ny(e)}function RM(n,t,e){const i=kt(n),a=i.queries.get(t);if(a)for(const o of a.Sa)o.onError(e);i.queries.delete(t)}function Ny(n){n.Ca.forEach((t=>{t.next()}))}var zp,eE;(eE=zp||(zp={})).Ma="default",eE.Cache="cache";class LS{constructor(t,e,i){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(t){if(!this.options.includeMetadataChanges){const i=[];for(const a of t.docChanges)a.type!==3&&i.push(a);t=new el(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const i=e!=="Offline";return(!this.options.qa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=el.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==zp.Cache}}class jS{constructor(t){this.key=t}}class US{constructor(t){this.key=t}}class IM{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ht(),this.mutatedKeys=Ht(),this.eu=iS(t),this.tu=new Yo(this.eu)}get nu(){return this.Ya}ru(t,e){const i=e?e.iu:new JT,a=e?e.tu:this.tu;let o=e?e.mutatedKeys:this.mutatedKeys,c=a,h=!1;const f=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,m=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(t.inorderTraversal(((y,b)=>{const T=a.get(y),x=gd(this.query,b)?b:null,A=!!T&&this.mutatedKeys.has(T.key),I=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let N=!1;T&&x?T.data.isEqual(x.data)?A!==I&&(i.track({type:3,doc:x}),N=!0):this.su(T,x)||(i.track({type:2,doc:x}),N=!0,(f&&this.eu(x,f)>0||m&&this.eu(x,m)<0)&&(h=!0)):!T&&x?(i.track({type:0,doc:x}),N=!0):T&&!x&&(i.track({type:1,doc:T}),N=!0,(f||m)&&(h=!0)),N&&(x?(c=c.add(x),o=I?o.add(y):o.delete(y)):(c=c.delete(y),o=o.delete(y)))})),this.query.limit!==null)for(;c.size>this.query.limit;){const y=this.query.limitType==="F"?c.last():c.first();c=c.delete(y.key),o=o.delete(y.key),i.track({type:1,doc:y})}return{tu:c,iu:i,Cs:h,mutatedKeys:o}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,a){const o=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const c=t.iu.ya();c.sort(((y,b)=>(function(x,A){const I=N=>{switch(N){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return At(20277,{Rt:N})}};return I(x)-I(A)})(y.type,b.type)||this.eu(y.doc,b.doc))),this.ou(i),a=a??!1;const h=e&&!a?this._u():[],f=this.Xa.size===0&&this.current&&!a?1:0,m=f!==this.Za;return this.Za=f,c.length!==0||m?{snapshot:new el(this.query,t.tu,o,c,t.mutatedKeys,f===0,m,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:h}:{au:h}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new JT,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Ya=this.Ya.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Ya=this.Ya.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=Ht(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const e=[];return t.forEach((i=>{this.Xa.has(i)||e.push(new US(i))})),this.Xa.forEach((i=>{t.has(i)||e.push(new jS(i))})),e}cu(t){this.Ya=t.Qs,this.Xa=Ht();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return el.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const My="SyncEngine";class kM{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class DM{constructor(t){this.key=t,this.hu=!1}}class NM{constructor(t,e,i,a,o,c){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=a,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.Pu={},this.Tu=new qa((h=>nS(h)),md),this.Iu=new Map,this.Eu=new Set,this.du=new ge(Et.comparator),this.Au=new Map,this.Ru=new Ey,this.Vu={},this.mu=new Map,this.fu=tl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function MM(n,t,e=!0){const i=YS(n);let a;const o=i.Tu.get(t);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),a=o.view.lu()):a=await BS(i,t,e,!0),a}async function OM(n,t){const e=YS(n);await BS(e,t,!0,!1)}async function BS(n,t,e,i){const a=await tM(n.localStore,es(t)),o=a.targetId,c=n.sharedClientState.addLocalQueryTarget(o,e);let h;return i&&(h=await zM(n,t,o,c==="current",a.resumeToken)),n.isPrimaryClient&&e&&kS(n.remoteStore,a),h}async function zM(n,t,e,i,a){n.pu=(b,T,x)=>(async function(I,N,B,Q){let X=N.view.ru(B);X.Cs&&(X=await KT(I.localStore,N.query,!1).then((({documents:k})=>N.view.ru(k,X))));const at=Q&&Q.targetChanges.get(N.targetId),nt=Q&&Q.targetMismatches.get(N.targetId)!=null,lt=N.view.applyChanges(X,I.isPrimaryClient,at,nt);return iE(I,N.targetId,lt.au),lt.snapshot})(n,b,T,x);const o=await KT(n.localStore,t,!0),c=new IM(t,o.Qs),h=c.ru(o.documents),f=yu.createSynthesizedTargetChangeForCurrentChange(e,i&&n.onlineState!=="Offline",a),m=c.applyChanges(h,n.isPrimaryClient,f);iE(n,e,m.au);const y=new kM(t,e,c);return n.Tu.set(t,y),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),m.snapshot}async function VM(n,t,e){const i=kt(n),a=i.Tu.get(t),o=i.Iu.get(a.targetId);if(o.length>1)return i.Iu.set(a.targetId,o.filter((c=>!md(c,t)))),void i.Tu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(a.targetId),i.sharedClientState.isActiveQueryTarget(a.targetId)||await Mp(i.localStore,a.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(a.targetId),e&&Ay(i.remoteStore,a.targetId),Vp(i,a.targetId)})).catch(ul)):(Vp(i,a.targetId),await Mp(i.localStore,a.targetId,!0))}async function PM(n,t){const e=kt(n),i=e.Tu.get(t),a=e.Iu.get(i.targetId);e.isPrimaryClient&&a.length===1&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),Ay(e.remoteStore,i.targetId))}async function LM(n,t,e){const i=GM(n);try{const a=await(function(c,h){const f=kt(c),m=fe.now(),y=h.reduce(((x,A)=>x.add(A.key)),Ht());let b,T;return f.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let A=Vs(),I=Ht();return f.Ns.getEntries(x,y).next((N=>{A=N,A.forEach(((B,Q)=>{Q.isValidDocument()||(I=I.add(B))}))})).next((()=>f.localDocuments.getOverlayedDocuments(x,A))).next((N=>{b=N;const B=[];for(const Q of h){const X=JD(Q,b.get(Q.key).overlayedDocument);X!=null&&B.push(new Kr(Q.key,X,$x(X.value.mapValue),yn.exists(!0)))}return f.mutationQueue.addMutationBatch(x,m,B,h)})).next((N=>{T=N;const B=N.applyToLocalDocumentSet(b,I);return f.documentOverlayCache.saveOverlays(x,N.batchId,B)}))})).then((()=>({batchId:T.batchId,changes:rS(b)})))})(i.localStore,t);i.sharedClientState.addPendingMutation(a.batchId),(function(c,h,f){let m=c.Vu[c.currentUser.toKey()];m||(m=new ge(Bt)),m=m.insert(h,f),c.Vu[c.currentUser.toKey()]=m})(i,a.batchId,e),await bu(i,a.changes),await Ed(i.remoteStore)}catch(a){const o=Dy(a,"Failed to persist write");e.reject(o)}}async function HS(n,t){const e=kt(n);try{const i=await WN(e.localStore,t);t.targetChanges.forEach(((a,o)=>{const c=e.Au.get(o);c&&(Wt(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1,22616),a.addedDocuments.size>0?c.hu=!0:a.modifiedDocuments.size>0?Wt(c.hu,14607):a.removedDocuments.size>0&&(Wt(c.hu,42227),c.hu=!1))})),await bu(e,i,t)}catch(i){await ul(i)}}function nE(n,t,e){const i=kt(n);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){const a=[];i.Tu.forEach(((o,c)=>{const h=c.view.va(t);h.snapshot&&a.push(h.snapshot)})),(function(c,h){const f=kt(c);f.onlineState=h;let m=!1;f.queries.forEach(((y,b)=>{for(const T of b.Sa)T.va(h)&&(m=!0)})),m&&Ny(f)})(i.eventManager,t),a.length&&i.Pu.H_(a),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function jM(n,t,e){const i=kt(n);i.sharedClientState.updateQueryState(t,"rejected",e);const a=i.Au.get(t),o=a&&a.key;if(o){let c=new ge(Et.comparator);c=c.insert(o,un.newNoDocument(o,Rt.min()));const h=Ht().add(o),f=new bd(Rt.min(),new Map,new ge(Bt),c,h);await HS(i,f),i.du=i.du.remove(o),i.Au.delete(t),Oy(i)}else await Mp(i.localStore,t,!1).then((()=>Vp(i,t,e))).catch(ul)}async function UM(n,t){const e=kt(n),i=t.batch.batchId;try{const a=await XN(e.localStore,t);qS(e,i,null),FS(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),await bu(e,a)}catch(a){await ul(a)}}async function BM(n,t,e){const i=kt(n);try{const a=await(function(c,h){const f=kt(c);return f.persistence.runTransaction("Reject batch","readwrite-primary",(m=>{let y;return f.mutationQueue.lookupMutationBatch(m,h).next((b=>(Wt(b!==null,37113),y=b.keys(),f.mutationQueue.removeMutationBatch(m,b)))).next((()=>f.mutationQueue.performConsistencyCheck(m))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(m,y,h))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(m,y))).next((()=>f.localDocuments.getDocuments(m,y)))}))})(i.localStore,t);qS(i,t,e),FS(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),await bu(i,a)}catch(a){await ul(a)}}function FS(n,t){(n.mu.get(t)||[]).forEach((e=>{e.resolve()})),n.mu.delete(t)}function qS(n,t,e){const i=kt(n);let a=i.Vu[i.currentUser.toKey()];if(a){const o=a.get(t);o&&(e?o.reject(e):o.resolve(),a=a.remove(t)),i.Vu[i.currentUser.toKey()]=a}}function Vp(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.Iu.get(t))n.Tu.delete(i),e&&n.Pu.yu(i,e);n.Iu.delete(t),n.isPrimaryClient&&n.Ru.jr(t).forEach((i=>{n.Ru.containsKey(i)||GS(n,i)}))}function GS(n,t){n.Eu.delete(t.path.canonicalString());const e=n.du.get(t);e!==null&&(Ay(n.remoteStore,e),n.du=n.du.remove(t),n.Au.delete(e),Oy(n))}function iE(n,t,e){for(const i of e)i instanceof jS?(n.Ru.addReference(i.key,t),HM(n,i)):i instanceof US?(_t(My,"Document no longer in limbo: "+i.key),n.Ru.removeReference(i.key,t),n.Ru.containsKey(i.key)||GS(n,i.key)):At(19791,{wu:i})}function HM(n,t){const e=t.key,i=e.path.canonicalString();n.du.get(e)||n.Eu.has(i)||(_t(My,"New document in limbo: "+e),n.Eu.add(i),Oy(n))}function Oy(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new Et(oe.fromString(t)),i=n.fu.next();n.Au.set(i,new DM(e)),n.du=n.du.insert(e,i),kS(n.remoteStore,new Ar(es(yy(e.path)),i,"TargetPurposeLimboResolution",hd.ce))}}async function bu(n,t,e){const i=kt(n),a=[],o=[],c=[];i.Tu.isEmpty()||(i.Tu.forEach(((h,f)=>{c.push(i.pu(f,t,e).then((m=>{if((m||e)&&i.isPrimaryClient){const y=m?!m.fromCache:e?.targetChanges.get(f.targetId)?.current;i.sharedClientState.updateQueryState(f.targetId,y?"current":"not-current")}if(m){a.push(m);const y=Sy.As(f.targetId,m);o.push(y)}})))})),await Promise.all(c),i.Pu.H_(a),await(async function(f,m){const y=kt(f);try{await y.persistence.runTransaction("notifyLocalViewChanges","readwrite",(b=>rt.forEach(m,(T=>rt.forEach(T.Es,(x=>y.persistence.referenceDelegate.addReference(b,T.targetId,x))).next((()=>rt.forEach(T.ds,(x=>y.persistence.referenceDelegate.removeReference(b,T.targetId,x)))))))))}catch(b){if(!hl(b))throw b;_t(wy,"Failed to update sequence numbers: "+b)}for(const b of m){const T=b.targetId;if(!b.fromCache){const x=y.Ms.get(T),A=x.snapshotVersion,I=x.withLastLimboFreeSnapshotVersion(A);y.Ms=y.Ms.insert(T,I)}}})(i.localStore,o))}async function FM(n,t){const e=kt(n);if(!e.currentUser.isEqual(t)){_t(My,"User change. New user:",t.toKey());const i=await AS(e.localStore,t);e.currentUser=t,(function(o,c){o.mu.forEach((h=>{h.forEach((f=>{f.reject(new gt(it.CANCELLED,c))}))})),o.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await bu(e,i.Ls)}}function qM(n,t){const e=kt(n),i=e.Au.get(t);if(i&&i.hu)return Ht().add(i.key);{let a=Ht();const o=e.Iu.get(t);if(!o)return a;for(const c of o){const h=e.Tu.get(c);a=a.unionWith(h.view.nu)}return a}}function YS(n){const t=kt(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=HS.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=qM.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=jM.bind(null,t),t.Pu.H_=CM.bind(null,t.eventManager),t.Pu.yu=RM.bind(null,t.eventManager),t}function GM(n){const t=kt(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=UM.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=BM.bind(null,t),t}class Xf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=vd(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return QN(this.persistence,new YN,t.initialUser,this.serializer)}Cu(t){return new wS(xy.mi,this.serializer)}Du(t){return new nM}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Xf.provider={build:()=>new Xf};class YM extends Xf{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){Wt(this.persistence.referenceDelegate instanceof $f,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new DN(i,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?An.withCacheSize(this.cacheSizeBytes):An.DEFAULT;return new wS((i=>$f.mi(i,e)),this.serializer)}}class Pp{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>nE(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=FM.bind(null,this.syncEngine),await SM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new AM})()}createDatastore(t){const e=vd(t.databaseInfo.databaseId),i=(function(o){return new oM(o)})(t.databaseInfo);return(function(o,c,h,f){return new hM(o,c,h,f)})(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return(function(i,a,o,c,h){return new dM(i,a,o,c,h)})(this.localStore,this.datastore,t.asyncQueue,(e=>nE(this.syncEngine,e,0)),(function(){return XT.v()?new XT:new iM})())}createSyncEngine(t,e){return(function(a,o,c,h,f,m,y){const b=new NM(a,o,c,h,f,m);return y&&(b.gu=!0),b})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await(async function(e){const i=kt(e);_t(Ha,"RemoteStore shutting down."),i.Ea.add(5),await _u(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}Pp.provider={build:()=>new Pp};class KS{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):zs("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}const Hr="FirestoreClient";class KM{constructor(t,e,i,a,o){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=a,this.user=cn.UNAUTHENTICATED,this.clientId=hy.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,(async c=>{_t(Hr,"Received user=",c.uid),await this.authCredentialListener(c),this.user=c})),this.appCheckCredentials.start(i,(c=>(_t(Hr,"Received new app check token=",c),this.appCheckCredentialListener(c,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Or;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=Dy(e,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}async function Xg(n,t){n.asyncQueue.verifyOperationInProgress(),_t(Hr,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener((async a=>{i.isEqual(a)||(await AS(t.localStore,a),i=a)})),t.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=t}async function sE(n,t){n.asyncQueue.verifyOperationInProgress();const e=await $M(n);_t(Hr,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener((i=>ZT(t.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,a)=>ZT(t.remoteStore,a))),n._onlineComponents=t}async function $M(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){_t(Hr,"Using user provided OfflineComponentProvider");try{await Xg(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(a){return a.name==="FirebaseError"?a.code===it.FAILED_PRECONDITION||a.code===it.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11})(e))throw e;Xo("Error using user provided cache. Falling back to memory cache: "+e),await Xg(n,new Xf)}}else _t(Hr,"Using default OfflineComponentProvider"),await Xg(n,new YM(void 0));return n._offlineComponents}async function $S(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(_t(Hr,"Using user provided OnlineComponentProvider"),await sE(n,n._uninitializedComponentsProvider._online)):(_t(Hr,"Using default OnlineComponentProvider"),await sE(n,new Pp))),n._onlineComponents}function QM(n){return $S(n).then((t=>t.syncEngine))}async function Lp(n){const t=await $S(n),e=t.eventManager;return e.onListen=MM.bind(null,t.syncEngine),e.onUnlisten=VM.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=OM.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=PM.bind(null,t.syncEngine),e}function XM(n,t,e={}){const i=new Or;return n.asyncQueue.enqueueAndForget((async()=>(function(o,c,h,f,m){const y=new KS({next:T=>{y.Nu(),c.enqueueAndForget((()=>PS(o,b))),T.fromCache&&f.source==="server"?m.reject(new gt(it.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):m.resolve(T)},error:T=>m.reject(T)}),b=new LS(h,y,{includeMetadataChanges:!0,qa:!0});return VS(o,b)})(await Lp(n),n.asyncQueue,t,e,i))),i.promise}function QS(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}const rE=new Map;const XS="firestore.googleapis.com",aE=!0;class oE{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new gt(it.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=XS,this.ssl=aE}else this.host=t.host,this.ssl=t.ssl??aE;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=SS;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<IN)throw new gt(it.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}fD("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=QS(t.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new gt(it.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new gt(it.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new gt(it.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(i,a){return i.timeoutSeconds===a.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class xd{constructor(t,e,i,a){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new oE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new gt(it.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new gt(it.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new oE(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new nD;switch(i.type){case"firstParty":return new aD(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new gt(it.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const i=rE.get(e);i&&(_t("ComponentProvider","Removing Datastore"),rE.delete(e),i.terminate())})(this),Promise.resolve()}}function WM(n,t,e,i={}){n=Un(n,xd);const a=al(t),o=n._getSettings(),c={...o,emulatorOptions:n._getEmulatorOptions()},h=`${t}:${e}`;a&&(U1(`https://${h}`),B1("Firestore",!0)),o.host!==XS&&o.host!==h&&Xo("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...o,host:h,ssl:a,emulatorOptions:i};if(!La(f,c)&&(n._setSettings(f),i.mockUserToken)){let m,y;if(typeof i.mockUserToken=="string")m=i.mockUserToken,y=cn.MOCK_USER;else{m=uC(i.mockUserToken,n._app?.options.projectId);const b=i.mockUserToken.sub||i.mockUserToken.user_id;if(!b)throw new gt(it.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");y=new cn(b)}n._authCredentials=new iD(new Vx(m,y))}}class $r{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new $r(this.firestore,t,this._query)}}class we{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zr(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new we(this.firestore,t,this._key)}toJSON(){return{type:we._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,i){if(gu(e,we._jsonSchema))return new we(t,i||null,new Et(oe.fromString(e.referencePath)))}}we._jsonSchemaVersion="firestore/documentReference/1.0",we._jsonSchema={type:Le("string",we._jsonSchemaVersion),referencePath:Le("string")};class zr extends $r{constructor(t,e,i){super(t,e,yy(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new we(this.firestore,null,new Et(t))}withConverter(t){return new zr(this.firestore,t,this._path)}}function nl(n,t,...e){if(n=be(n),Px("collection","path",t),n instanceof xd){const i=oe.fromString(t,...e);return vT(i),new zr(n,null,i)}{if(!(n instanceof we||n instanceof zr))throw new gt(it.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(oe.fromString(t,...e));return vT(i),new zr(n.firestore,null,i)}}function ei(n,t,...e){if(n=be(n),arguments.length===1&&(t=hy.newId()),Px("doc","path",t),n instanceof xd){const i=oe.fromString(t,...e);return bT(i),new we(n,null,new Et(i))}{if(!(n instanceof we||n instanceof zr))throw new gt(it.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(oe.fromString(t,...e));return bT(i),new we(n.firestore,n instanceof zr?n.converter:null,new Et(i))}}const lE="AsyncQueue";class cE{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new RS(this,"async_queue_retry"),this._c=()=>{const i=Qg();i&&_t(lE,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const e=Qg();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=Qg();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new Or;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!hl(t))throw t;_t(lE,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((i=>{throw this.nc=i,this.rc=!1,zs("INTERNAL UNHANDLED ERROR: ",uE(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=e,e}enqueueAfterDelay(t,e,i){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const a=ky.createAndSchedule(this,t,e,i,(o=>this.hc(o)));return this.tc.push(a),a}uc(){this.nc&&At(47125,{Pc:uE(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,i)=>e.targetTimeMs-i.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function uE(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}function hE(n){return(function(e,i){if(typeof e!="object"||e===null)return!1;const a=e;for(const o of i)if(o in a&&typeof a[o]=="function")return!0;return!1})(n,["next","error","complete"])}class Ps extends xd{constructor(t,e,i,a){super(t,e,i,a),this.type="firestore",this._queue=new cE,this._persistenceKey=a?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new cE(t),this._firestoreClient=void 0,await t}}}function ZM(n,t){const e=typeof n=="object"?n:G1(),i=typeof n=="string"?n:Ff,a=ey(e,"firestore").getImmediate({identifier:i});if(!a._initialized){const o=lC("firestore");o&&WM(a,...o)}return a}function Sd(n){if(n._terminated)throw new gt(it.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||JM(n),n._firestoreClient}function JM(n){const t=n._freezeSettings(),e=(function(a,o,c,h){return new xD(a,o,c,h.host,h.ssl,h.experimentalForceLongPolling,h.experimentalAutoDetectLongPolling,QS(h.experimentalLongPollingOptions),h.useFetchStreams,h.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new KM(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&(function(a){const o=a?._online.build();return{_offline:a?._offline.build(o),_online:o}})(n._componentsProvider))}class ni{constructor(t){this._byteString=t}static fromBase64String(t){try{return new ni(rn.fromBase64String(t))}catch(e){throw new gt(it.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new ni(rn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:ni._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(gu(t,ni._jsonSchema))return ni.fromBase64String(t.bytes)}}ni._jsonSchemaVersion="firestore/bytes/1.0",ni._jsonSchema={type:Le("string",ni._jsonSchemaVersion),bytes:Le("string")};class vu{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new gt(it.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class wd{constructor(t){this._methodName=t}}class is{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new gt(it.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new gt(it.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Bt(this._lat,t._lat)||Bt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:is._jsonSchemaVersion}}static fromJSON(t){if(gu(t,is._jsonSchema))return new is(t.latitude,t.longitude)}}is._jsonSchemaVersion="firestore/geoPoint/1.0",is._jsonSchema={type:Le("string",is._jsonSchemaVersion),latitude:Le("number"),longitude:Le("number")};class ss{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(i,a){if(i.length!==a.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==a[o])return!1;return!0})(this._values,t._values)}toJSON(){return{type:ss._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(gu(t,ss._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new ss(t.vectorValues);throw new gt(it.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ss._jsonSchemaVersion="firestore/vectorValue/1.0",ss._jsonSchema={type:Le("string",ss._jsonSchemaVersion),vectorValues:Le("object")};const tO=/^__.*__$/;class eO{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return this.fieldMask!==null?new Kr(t,this.data,this.fieldMask,e,this.fieldTransforms):new pu(t,this.data,e,this.fieldTransforms)}}class WS{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new Kr(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function ZS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw At(40011,{Ac:n})}}class zy{constructor(t,e,i,a,o,c){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=a,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new zy({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const e=this.path?.child(t),i=this.Vc({path:e,fc:!1});return i.gc(t),i}yc(t){const e=this.path?.child(t),i=this.Vc({path:e,fc:!1});return i.Rc(),i}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Wf(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(ZS(this.Ac)&&tO.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class nO{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||vd(t)}Cc(t,e,i,a=!1){return new zy({Ac:t,methodName:e,Dc:i,path:sn.emptyPath(),fc:!1,bc:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Tu(n){const t=n._freezeSettings(),e=vd(n._databaseId);return new nO(n._databaseId,!!t.ignoreUndefinedProperties,e)}function Vy(n,t,e,i,a,o={}){const c=n.Cc(o.merge||o.mergeFields?2:0,t,e,a);Ly("Data must be an object, but it was:",c,i);const h=ew(i,c);let f,m;if(o.merge)f=new jn(c.fieldMask),m=c.fieldTransforms;else if(o.mergeFields){const y=[];for(const b of o.mergeFields){const T=jp(t,b,e);if(!c.contains(T))throw new gt(it.INVALID_ARGUMENT,`Field '${T}' is specified in your field mask but missing from your input data.`);iw(y,T)||y.push(T)}f=new jn(y),m=c.fieldTransforms.filter((b=>f.covers(b.field)))}else f=null,m=c.fieldTransforms;return new eO(new Cn(h),f,m)}class Ad extends wd{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Ad}}class Py extends wd{_toFieldTransform(t){return new QD(t.path,new tu)}isEqual(t){return t instanceof Py}}function JS(n,t,e,i){const a=n.Cc(1,t,e);Ly("Data must be an object, but it was:",a,i);const o=[],c=Cn.empty();Yr(i,((f,m)=>{const y=jy(t,f,e);m=be(m);const b=a.yc(y);if(m instanceof Ad)o.push(y);else{const T=Eu(m,b);T!=null&&(o.push(y),c.set(y,T))}}));const h=new jn(o);return new WS(c,h,a.fieldTransforms)}function tw(n,t,e,i,a,o){const c=n.Cc(1,t,e),h=[jp(t,i,e)],f=[a];if(o.length%2!=0)throw new gt(it.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let T=0;T<o.length;T+=2)h.push(jp(t,o[T])),f.push(o[T+1]);const m=[],y=Cn.empty();for(let T=h.length-1;T>=0;--T)if(!iw(m,h[T])){const x=h[T];let A=f[T];A=be(A);const I=c.yc(x);if(A instanceof Ad)m.push(x);else{const N=Eu(A,I);N!=null&&(m.push(x),y.set(x,N))}}const b=new jn(m);return new WS(y,b,c.fieldTransforms)}function iO(n,t,e,i=!1){return Eu(e,n.Cc(i?4:3,t))}function Eu(n,t){if(nw(n=be(n)))return Ly("Unsupported field value:",t,n),ew(n,t);if(n instanceof wd)return(function(i,a){if(!ZS(a.Ac))throw a.Sc(`${i._methodName}() can only be used with update() and set()`);if(!a.path)throw a.Sc(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(a);o&&a.fieldTransforms.push(o)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(i,a){const o=[];let c=0;for(const h of i){let f=Eu(h,a.wc(c));f==null&&(f={nullValue:"NULL_VALUE"}),o.push(f),c++}return{arrayValue:{values:o}}})(n,t)}return(function(i,a){if((i=be(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return YD(a.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=fe.fromDate(i);return{timestampValue:Kf(a.serializer,o)}}if(i instanceof fe){const o=new fe(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:Kf(a.serializer,o)}}if(i instanceof is)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof ni)return{bytesValue:yS(a.serializer,i._byteString)};if(i instanceof we){const o=a.databaseId,c=i.firestore._databaseId;if(!c.isEqual(o))throw a.Sc(`Document reference is for database ${c.projectId}/${c.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:Ty(i.firestore._databaseId||a.databaseId,i._key.path)}}if(i instanceof ss)return(function(c,h){return{mapValue:{fields:{[Yx]:{stringValue:Kx},[qf]:{arrayValue:{values:c.toArray().map((m=>{if(typeof m!="number")throw h.Sc("VectorValues must only contain numeric values.");return _y(h.serializer,m)}))}}}}}})(i,a);throw a.Sc(`Unsupported field value: ${ud(i)}`)})(n,t)}function ew(n,t){const e={};return Ux(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Yr(n,((i,a)=>{const o=Eu(a,t.mc(i));o!=null&&(e[i]=o)})),{mapValue:{fields:e}}}function nw(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof fe||n instanceof is||n instanceof ni||n instanceof we||n instanceof wd||n instanceof ss)}function Ly(n,t,e){if(!nw(e)||!Lx(e)){const i=ud(e);throw i==="an object"?t.Sc(n+" a custom object"):t.Sc(n+" "+i)}}function jp(n,t,e){if((t=be(t))instanceof vu)return t._internalPath;if(typeof t=="string")return jy(n,t);throw Wf("Field path arguments must be of type string or ",n,!1,void 0,e)}const sO=new RegExp("[~\\*/\\[\\]]");function jy(n,t,e){if(t.search(sO)>=0)throw Wf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new vu(...t.split("."))._internalPath}catch{throw Wf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function Wf(n,t,e,i,a){const o=i&&!i.isEmpty(),c=a!==void 0;let h=`Function ${t}() called with invalid data`;e&&(h+=" (via `toFirestore()`)"),h+=". ";let f="";return(o||c)&&(f+=" (found",o&&(f+=` in field ${i}`),c&&(f+=` in document ${a}`),f+=")"),new gt(it.INVALID_ARGUMENT,h+n+f)}function iw(n,t){return n.some((e=>e.isEqual(t)))}class sw{constructor(t,e,i,a,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=a,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new we(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new rO(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(Uy("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class rO extends sw{data(){return super.data()}}function Uy(n,t){return typeof t=="string"?jy(n,t):t instanceof vu?t._internalPath:t._delegate._internalPath}function rw(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new gt(it.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class By{}class aw extends By{}function Up(n,t,...e){let i=[];t instanceof By&&i.push(t),i=i.concat(e),(function(o){const c=o.filter((f=>f instanceof Fy)).length,h=o.filter((f=>f instanceof Hy)).length;if(c>1||c>0&&h>0)throw new gt(it.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const a of i)n=a._apply(n);return n}class Hy extends aw{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new Hy(t,e,i)}_apply(t){const e=this._parse(t);return ow(t._query,e),new $r(t.firestore,t.converter,Cp(t._query,e))}_parse(t){const e=Tu(t.firestore);return(function(o,c,h,f,m,y,b){let T;if(m.isKeyField()){if(y==="array-contains"||y==="array-contains-any")throw new gt(it.INVALID_ARGUMENT,`Invalid Query. You can't perform '${y}' queries on documentId().`);if(y==="in"||y==="not-in"){mE(b,y);const A=[];for(const I of b)A.push(dE(f,o,I));T={arrayValue:{values:A}}}else T=dE(f,o,b)}else y!=="in"&&y!=="not-in"&&y!=="array-contains-any"||mE(b,y),T=iO(h,c,b,y==="in"||y==="not-in");return Pe.create(m,y,T)})(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}class Fy extends By{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new Fy(t,e)}_parse(t){const e=this._queryConstraints.map((i=>i._parse(t))).filter((i=>i.getFilters().length>0));return e.length===1?e[0]:Si.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:((function(a,o){let c=a;const h=o.getFlattenedFilters();for(const f of h)ow(c,f),c=Cp(c,f)})(t._query,e),new $r(t.firestore,t.converter,Cp(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class qy extends aw{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new qy(t,e)}_apply(t){const e=(function(a,o,c){if(a.startAt!==null)throw new gt(it.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(a.endAt!==null)throw new gt(it.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Jc(o,c)})(t._query,this._field,this._direction);return new $r(t.firestore,t.converter,(function(a,o){const c=a.explicitOrderBy.concat([o]);return new fl(a.path,a.collectionGroup,c,a.filters.slice(),a.limit,a.limitType,a.startAt,a.endAt)})(t._query,e))}}function fE(n,t="asc"){const e=t,i=Uy("orderBy",n);return qy._create(i,e)}function dE(n,t,e){if(typeof(e=be(e))=="string"){if(e==="")throw new gt(it.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!eS(t)&&e.indexOf("/")!==-1)throw new gt(it.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(oe.fromString(e));if(!Et.isDocumentKey(i))throw new gt(it.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return RT(n,new Et(i))}if(e instanceof we)return RT(n,e._key);throw new gt(it.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${ud(e)}.`)}function mE(n,t){if(!Array.isArray(n)||n.length===0)throw new gt(it.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function ow(n,t){const e=(function(a,o){for(const c of a)for(const h of c.getFlattenedFilters())if(o.indexOf(h.op)>=0)return h.op;return null})(n.filters,(function(a){switch(a){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(e!==null)throw e===t.op?new gt(it.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new gt(it.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class aO{convertValue(t,e="none"){switch(Ur(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Se(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(jr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw At(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return Yr(t,((a,o)=>{i[a]=this.convertValue(o,e)})),i}convertVectorValue(t){const e=t.fields?.[qf].arrayValue?.values?.map((i=>Se(i.doubleValue)));return new ss(e)}convertGeoPoint(t){return new is(Se(t.latitude),Se(t.longitude))}convertArray(t,e){return(t.values||[]).map((i=>this.convertValue(i,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const i=dd(t);return i==null?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Xc(t));default:return null}}convertTimestamp(t){const e=Lr(t);return new fe(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=oe.fromString(t);Wt(xS(i),9688,{name:t});const a=new Wc(i.get(1),i.get(3)),o=new Et(i.popFirst(5));return a.isEqual(e)||zs(`Document ${o} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}function Gy(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class kc{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class za extends sw{constructor(t,e,i,a,o,c){super(t,e,i,a,c),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new If(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(Uy("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new gt(it.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=za._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}za._jsonSchemaVersion="firestore/documentSnapshot/1.0",za._jsonSchema={type:Le("string",za._jsonSchemaVersion),bundleSource:Le("string","DocumentSnapshot"),bundleName:Le("string"),bundle:Le("string")};class If extends za{data(t={}){return super.data(t)}}class Va{constructor(t,e,i,a){this._firestore=t,this._userDataWriter=e,this._snapshot=a,this.metadata=new kc(a.hasPendingWrites,a.fromCache),this.query=i}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((i=>{t.call(e,new If(this._firestore,this._userDataWriter,i.key,i,new kc(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new gt(it.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(a,o){if(a._snapshot.oldDocs.isEmpty()){let c=0;return a._snapshot.docChanges.map((h=>{const f=new If(a._firestore,a._userDataWriter,h.doc.key,h.doc,new kc(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);return h.doc,{type:"added",doc:f,oldIndex:-1,newIndex:c++}}))}{let c=a._snapshot.oldDocs;return a._snapshot.docChanges.filter((h=>o||h.type!==3)).map((h=>{const f=new If(a._firestore,a._userDataWriter,h.doc.key,h.doc,new kc(a._snapshot.mutatedKeys.has(h.doc.key),a._snapshot.fromCache),a.query.converter);let m=-1,y=-1;return h.type!==0&&(m=c.indexOf(h.doc.key),c=c.delete(h.doc.key)),h.type!==1&&(c=c.add(h.doc),y=c.indexOf(h.doc.key)),{type:oO(h.type),doc:f,oldIndex:m,newIndex:y}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new gt(it.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=Va._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=hy.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],i=[],a=[];return this.docs.forEach((o=>{o._document!==null&&(e.push(o._document),i.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),a.push(o.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function oO(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return At(61501,{type:n})}}Va._jsonSchemaVersion="firestore/querySnapshot/1.0",Va._jsonSchema={type:Le("string",Va._jsonSchemaVersion),bundleSource:Le("string","QuerySnapshot"),bundleName:Le("string"),bundle:Le("string")};class Yy extends aO{constructor(t){super(),this.firestore=t}convertBytes(t){return new ni(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new we(this.firestore,null,e)}}function gE(n){n=Un(n,$r);const t=Un(n.firestore,Ps),e=Sd(t),i=new Yy(t);return rw(n._query),XM(e,n._query).then((a=>new Va(t,i,n,a)))}function Wg(n,t,e){n=Un(n,we);const i=Un(n.firestore,Ps),a=Gy(n.converter,t,e);return xu(i,[Vy(Tu(i),"setDoc",n._key,a,n.converter!==null,e).toMutation(n._key,yn.none())])}function lw(n,t,e,...i){n=Un(n,we);const a=Un(n.firestore,Ps),o=Tu(a);let c;return c=typeof(t=be(t))=="string"||t instanceof vu?tw(o,"updateDoc",n._key,t,e,i):JS(o,"updateDoc",n._key,t),xu(a,[c.toMutation(n._key,yn.exists(!0))])}function cw(n){return xu(Un(n.firestore,Ps),[new _d(n._key,yn.none())])}function uw(n,t){const e=Un(n.firestore,Ps),i=ei(n),a=Gy(n.converter,t);return xu(e,[Vy(Tu(n.firestore),"addDoc",i._key,a,n.converter!==null,{}).toMutation(i._key,yn.exists(!1))]).then((()=>i))}function Zg(n,...t){n=be(n);let e={includeMetadataChanges:!1,source:"default"},i=0;typeof t[i]!="object"||hE(t[i])||(e=t[i++]);const a={includeMetadataChanges:e.includeMetadataChanges,source:e.source};if(hE(t[i])){const f=t[i];t[i]=f.next?.bind(f),t[i+1]=f.error?.bind(f),t[i+2]=f.complete?.bind(f)}let o,c,h;if(n instanceof we)c=Un(n.firestore,Ps),h=yy(n._key.path),o={next:f=>{t[i]&&t[i](lO(c,n,f))},error:t[i+1],complete:t[i+2]};else{const f=Un(n,$r);c=Un(f.firestore,Ps),h=f._query;const m=new Yy(c);o={next:y=>{t[i]&&t[i](new Va(c,m,f,y))},error:t[i+1],complete:t[i+2]},rw(n._query)}return(function(m,y,b,T){const x=new KS(T),A=new LS(y,x,b);return m.asyncQueue.enqueueAndForget((async()=>VS(await Lp(m),A))),()=>{x.Nu(),m.asyncQueue.enqueueAndForget((async()=>PS(await Lp(m),A)))}})(Sd(c),h,a,o)}function xu(n,t){return(function(i,a){const o=new Or;return i.asyncQueue.enqueueAndForget((async()=>LM(await QM(i),a,o))),o.promise})(Sd(n),t)}function lO(n,t,e){const i=e.docs.get(t._key),a=new Yy(n);return new za(n,a,t._key,i,new kc(e.hasPendingWrites,e.fromCache),t.converter)}class cO{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=Tu(t)}set(t,e,i){this._verifyNotCommitted();const a=Jg(t,this._firestore),o=Gy(a.converter,e,i),c=Vy(this._dataReader,"WriteBatch.set",a._key,o,a.converter!==null,i);return this._mutations.push(c.toMutation(a._key,yn.none())),this}update(t,e,i,...a){this._verifyNotCommitted();const o=Jg(t,this._firestore);let c;return c=typeof(e=be(e))=="string"||e instanceof vu?tw(this._dataReader,"WriteBatch.update",o._key,e,i,a):JS(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(c.toMutation(o._key,yn.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=Jg(t,this._firestore);return this._mutations=this._mutations.concat(new _d(e._key,yn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new gt(it.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function Jg(n,t){if((n=be(n)).firestore!==t)throw new gt(it.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}function Bp(){return new Py("serverTimestamp")}function uO(n){return Sd(n=Un(n,Ps)),new cO(n,(t=>xu(n,t)))}(function(t,e=!0){(function(a){cl=a})(ol),$o(new ja("firestore",((i,{instanceIdentifier:a,options:o})=>{const c=i.getProvider("app").getImmediate(),h=new Ps(new sD(i.getProvider("auth-internal")),new oD(c,i.getProvider("app-check-internal")),(function(m,y){if(!Object.prototype.hasOwnProperty.apply(m.options,["projectId"]))throw new gt(it.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wc(m.options.projectId,y)})(c,a),c);return o={useFetchStreams:e,...o},h._setSettings(o),h}),"PUBLIC").setMultipleInstances(!0)),Nr(gT,pT,t),Nr(gT,pT,"esm2020")})();const hO=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),fO=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,i)=>i?i.toUpperCase():e.toLowerCase()),pE=n=>{const t=fO(n);return t.charAt(0).toUpperCase()+t.slice(1)},hw=(...n)=>n.filter((t,e,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===e).join(" ").trim(),dO=n=>{for(const t in n)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var mO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const gO=mt.forwardRef(({color:n="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:i,className:a="",children:o,iconNode:c,...h},f)=>mt.createElement("svg",{ref:f,...mO,width:t,height:t,stroke:n,strokeWidth:i?Number(e)*24/Number(t):e,className:hw("lucide",a),...!o&&!dO(h)&&{"aria-hidden":"true"},...h},[...c.map(([m,y])=>mt.createElement(m,y)),...Array.isArray(o)?o:[o]]));const pe=(n,t)=>{const e=mt.forwardRef(({className:i,...a},o)=>mt.createElement(gO,{ref:o,iconNode:t,className:hw(`lucide-${hO(pE(n))}`,`lucide-${n}`,i),...a}));return e.displayName=pE(n),e};const pO=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],kf=pe("activity",pO);const yO=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],fw=pe("calendar",yO);const _O=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],Ky=pe("chart-no-axes-column",_O);const bO=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Df=pe("check",bO);const vO=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],tp=pe("chevron-down",vO);const TO=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],dw=pe("chevron-left",TO);const EO=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],$y=pe("chevron-right",EO);const xO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],SO=pe("circle-question-mark",xO);const wO=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],AO=pe("download",wO);const CO=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],mw=pe("flame",CO);const RO=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],IO=pe("history",RO);const kO=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],gw=pe("moon",kO);const DO=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],NO=pe("palette",DO);const MO=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],pw=pe("pen",MO);const OO=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Hp=pe("plus",OO);const zO=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],VO=pe("settings",zO);const PO=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],LO=pe("star",PO);const jO=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],UO=pe("sun",jO);const BO=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],HO=pe("target",BO);const FO=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],yw=pe("trash-2",FO);const qO=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],GO=pe("upload",qO);const YO=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],KO=pe("user",YO);const $O=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Uc=pe("x",$O);function Su(n){return n+.5|0}const Cr=(n,t,e)=>Math.max(Math.min(n,e),t);function Dc(n){return Cr(Su(n*2.55),0,255)}function Vr(n){return Cr(Su(n*255),0,255)}function Is(n){return Cr(Su(n/2.55)/100,0,1)}function yE(n){return Cr(Su(n*100),0,100)}const ti={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Fp=[..."0123456789ABCDEF"],QO=n=>Fp[n&15],XO=n=>Fp[(n&240)>>4]+Fp[n&15],of=n=>(n&240)>>4===(n&15),WO=n=>of(n.r)&&of(n.g)&&of(n.b)&&of(n.a);function ZO(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&ti[n[1]]*17,g:255&ti[n[2]]*17,b:255&ti[n[3]]*17,a:t===5?ti[n[4]]*17:255}:(t===7||t===9)&&(e={r:ti[n[1]]<<4|ti[n[2]],g:ti[n[3]]<<4|ti[n[4]],b:ti[n[5]]<<4|ti[n[6]],a:t===9?ti[n[7]]<<4|ti[n[8]]:255})),e}const JO=(n,t)=>n<255?t(n):"";function t4(n){var t=WO(n)?QO:XO;return n?"#"+t(n.r)+t(n.g)+t(n.b)+JO(n.a,t):void 0}const e4=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function _w(n,t,e){const i=t*Math.min(e,1-e),a=(o,c=(o+n/30)%12)=>e-i*Math.max(Math.min(c-3,9-c,1),-1);return[a(0),a(8),a(4)]}function n4(n,t,e){const i=(a,o=(a+n/60)%6)=>e-e*t*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function i4(n,t,e){const i=_w(n,1,.5);let a;for(t+e>1&&(a=1/(t+e),t*=a,e*=a),a=0;a<3;a++)i[a]*=1-t-e,i[a]+=t;return i}function s4(n,t,e,i,a){return n===a?(t-e)/i+(t<e?6:0):t===a?(e-n)/i+2:(n-t)/i+4}function Qy(n){const e=n.r/255,i=n.g/255,a=n.b/255,o=Math.max(e,i,a),c=Math.min(e,i,a),h=(o+c)/2;let f,m,y;return o!==c&&(y=o-c,m=h>.5?y/(2-o-c):y/(o+c),f=s4(e,i,a,y,o),f=f*60+.5),[f|0,m||0,h]}function Xy(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(Vr)}function Wy(n,t,e){return Xy(_w,n,t,e)}function r4(n,t,e){return Xy(i4,n,t,e)}function a4(n,t,e){return Xy(n4,n,t,e)}function bw(n){return(n%360+360)%360}function o4(n){const t=e4.exec(n);let e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?Dc(+t[5]):Vr(+t[5]));const a=bw(+t[2]),o=+t[3]/100,c=+t[4]/100;return t[1]==="hwb"?i=r4(a,o,c):t[1]==="hsv"?i=a4(a,o,c):i=Wy(a,o,c),{r:i[0],g:i[1],b:i[2],a:e}}function l4(n,t){var e=Qy(n);e[0]=bw(e[0]+t),e=Wy(e),n.r=e[0],n.g=e[1],n.b=e[2]}function c4(n){if(!n)return;const t=Qy(n),e=t[0],i=yE(t[1]),a=yE(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${a}%, ${Is(n.a)})`:`hsl(${e}, ${i}%, ${a}%)`}const _E={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},bE={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function u4(){const n={},t=Object.keys(bE),e=Object.keys(_E);let i,a,o,c,h;for(i=0;i<t.length;i++){for(c=h=t[i],a=0;a<e.length;a++)o=e[a],h=h.replace(o,_E[o]);o=parseInt(bE[c],16),n[h]=[o>>16&255,o>>8&255,o&255]}return n}let lf;function h4(n){lf||(lf=u4(),lf.transparent=[0,0,0,0]);const t=lf[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const f4=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function d4(n){const t=f4.exec(n);let e=255,i,a,o;if(t){if(t[7]!==i){const c=+t[7];e=t[8]?Dc(c):Cr(c*255,0,255)}return i=+t[1],a=+t[3],o=+t[5],i=255&(t[2]?Dc(i):Cr(i,0,255)),a=255&(t[4]?Dc(a):Cr(a,0,255)),o=255&(t[6]?Dc(o):Cr(o,0,255)),{r:i,g:a,b:o,a:e}}}function m4(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Is(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const ep=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,Vo=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function g4(n,t,e){const i=Vo(Is(n.r)),a=Vo(Is(n.g)),o=Vo(Is(n.b));return{r:Vr(ep(i+e*(Vo(Is(t.r))-i))),g:Vr(ep(a+e*(Vo(Is(t.g))-a))),b:Vr(ep(o+e*(Vo(Is(t.b))-o))),a:n.a+e*(t.a-n.a)}}function cf(n,t,e){if(n){let i=Qy(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=Wy(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function vw(n,t){return n&&Object.assign(t||{},n)}function vE(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=Vr(n[3]))):(t=vw(n,{r:0,g:0,b:0,a:1}),t.a=Vr(t.a)),t}function p4(n){return n.charAt(0)==="r"?d4(n):o4(n)}class iu{constructor(t){if(t instanceof iu)return t;const e=typeof t;let i;e==="object"?i=vE(t):e==="string"&&(i=ZO(t)||h4(t)||p4(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=vw(this._rgb);return t&&(t.a=Is(t.a)),t}set rgb(t){this._rgb=vE(t)}rgbString(){return this._valid?m4(this._rgb):void 0}hexString(){return this._valid?t4(this._rgb):void 0}hslString(){return this._valid?c4(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,a=t.rgb;let o;const c=e===o?.5:e,h=2*c-1,f=i.a-a.a,m=((h*f===-1?h:(h+f)/(1+h*f))+1)/2;o=1-m,i.r=255&m*i.r+o*a.r+.5,i.g=255&m*i.g+o*a.g+.5,i.b=255&m*i.b+o*a.b+.5,i.a=c*i.a+(1-c)*a.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=g4(this._rgb,t._rgb,e)),this}clone(){return new iu(this.rgb)}alpha(t){return this._rgb.a=Vr(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=Su(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return cf(this._rgb,2,t),this}darken(t){return cf(this._rgb,2,-t),this}saturate(t){return cf(this._rgb,1,t),this}desaturate(t){return cf(this._rgb,1,-t),this}rotate(t){return l4(this._rgb,t),this}}function As(){}const y4=(()=>{let n=0;return()=>n++})();function le(n){return n==null}function Be(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Yt(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function dn(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function Ki(n,t){return dn(n)?n:t}function qt(n,t){return typeof n>"u"?t:n}const _4=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function he(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function ee(n,t,e,i){let a,o,c;if(Be(n))for(o=n.length,a=0;a<o;a++)t.call(e,n[a],a);else if(Yt(n))for(c=Object.keys(n),o=c.length,a=0;a<o;a++)t.call(e,n[c[a]],c[a])}function Zf(n,t){let e,i,a,o;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(a=n[e],o=t[e],a.datasetIndex!==o.datasetIndex||a.index!==o.index)return!1;return!0}function Jf(n){if(Be(n))return n.map(Jf);if(Yt(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let a=0;for(;a<i;++a)t[e[a]]=Jf(n[e[a]]);return t}return n}function Tw(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function b4(n,t,e,i){if(!Tw(n))return;const a=t[n],o=e[n];Yt(a)&&Yt(o)?su(a,o,i):t[n]=Jf(o)}function su(n,t,e){const i=Be(t)?t:[t],a=i.length;if(!Yt(n))return n;e=e||{};const o=e.merger||b4;let c;for(let h=0;h<a;++h){if(c=i[h],!Yt(c))continue;const f=Object.keys(c);for(let m=0,y=f.length;m<y;++m)o(f[m],n,c,e)}return n}function Bc(n,t){return su(n,t,{merger:v4})}function v4(n,t,e){if(!Tw(n))return;const i=t[n],a=e[n];Yt(i)&&Yt(a)?Bc(i,a):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=Jf(a))}const TE={"":n=>n,x:n=>n.x,y:n=>n.y};function T4(n){const t=n.split("."),e=[];let i="";for(const a of t)i+=a,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function E4(n){const t=T4(n);return e=>{for(const i of t){if(i==="")break;e=e&&e[i]}return e}}function td(n,t){return(TE[t]||(TE[t]=E4(t)))(n)}function Zy(n){return n.charAt(0).toUpperCase()+n.slice(1)}const ed=n=>typeof n<"u",Fr=n=>typeof n=="function",EE=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function x4(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const $e=Math.PI,Ti=2*$e,S4=Ti+$e,nd=Number.POSITIVE_INFINITY,w4=$e/180,vi=$e/2,Aa=$e/4,xE=$e*2/3,Ew=Math.log10,il=Math.sign;function Hc(n,t,e){return Math.abs(n-t)<e}function SE(n){const t=Math.round(n);n=Hc(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(Ew(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function A4(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((a,o)=>a-o).pop(),t}function C4(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function ru(n){return!C4(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function R4(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function I4(n,t,e){let i,a,o;for(i=0,a=n.length;i<a;i++)o=n[i][e],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function Ma(n){return n*($e/180)}function k4(n){return n*(180/$e)}function wE(n){if(!dn(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function D4(n,t){const e=t.x-n.x,i=t.y-n.y,a=Math.sqrt(e*e+i*i);let o=Math.atan2(i,e);return o<-.5*$e&&(o+=Ti),{angle:o,distance:a}}function qp(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function N4(n,t){return(n-t+S4)%Ti-$e}function Wi(n){return(n%Ti+Ti)%Ti}function xw(n,t,e,i){const a=Wi(n),o=Wi(t),c=Wi(e),h=Wi(o-a),f=Wi(c-a),m=Wi(a-o),y=Wi(a-c);return a===o||a===c||i&&o===c||h>f&&m<y}function ii(n,t,e){return Math.max(t,Math.min(e,n))}function M4(n){return ii(n,-32768,32767)}function Ho(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function Jy(n,t,e){e=e||(c=>n[c]<t);let i=n.length-1,a=0,o;for(;i-a>1;)o=a+i>>1,e(o)?a=o:i=o;return{lo:a,hi:i}}const Oa=(n,t,e,i)=>Jy(n,e,i?a=>{const o=n[a][t];return o<e||o===e&&n[a+1][t]===e}:a=>n[a][t]<e),O4=(n,t,e)=>Jy(n,e,i=>n[i][t]>=e);function z4(n,t,e){let i=0,a=n.length;for(;i<a&&n[i]<t;)i++;for(;a>i&&n[a-1]>e;)a--;return i>0||a<n.length?n.slice(i,a):n}const Sw=["push","pop","shift","splice","unshift"];function V4(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),Sw.forEach(e=>{const i="_onData"+Zy(e),a=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...o){const c=a.apply(this,o);return n._chartjs.listeners.forEach(h=>{typeof h[i]=="function"&&h[i](...o)}),c}})})}function AE(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,a=i.indexOf(t);a!==-1&&i.splice(a,1),!(i.length>0)&&(Sw.forEach(o=>{delete n[o]}),delete n._chartjs)}function P4(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const ww=(function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame})();function Aw(n,t){let e=[],i=!1;return function(...a){e=a,i||(i=!0,ww.call(window,()=>{i=!1,n.apply(t,e)}))}}function L4(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}const t0=n=>n==="start"?"left":n==="end"?"right":"center",ln=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,j4=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t;function U4(n,t,e){const i=t.length;let a=0,o=i;if(n._sorted){const{iScale:c,vScale:h,_parsed:f}=n,m=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,y=c.axis,{min:b,max:T,minDefined:x,maxDefined:A}=c.getUserBounds();if(x){if(a=Math.min(Oa(f,y,b).lo,e?i:Oa(t,y,c.getPixelForValue(b)).lo),m){const I=f.slice(0,a+1).reverse().findIndex(N=>!le(N[h.axis]));a-=Math.max(0,I)}a=ii(a,0,i-1)}if(A){let I=Math.max(Oa(f,c.axis,T,!0).hi+1,e?0:Oa(t,y,c.getPixelForValue(T),!0).hi+1);if(m){const N=f.slice(I-1).findIndex(B=>!le(B[h.axis]));I+=Math.max(0,N)}o=ii(I,a,i)-a}else o=i-a}return{start:a,count:o}}function B4(n){const{xScale:t,yScale:e,_scaleRanges:i}=n,a={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return n._scaleRanges=a,!0;const o=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,a),o}const uf=n=>n===0||n===1,CE=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*Ti/e)),RE=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*Ti/e)+1,Fc={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*vi)+1,easeOutSine:n=>Math.sin(n*vi),easeInOutSine:n=>-.5*(Math.cos($e*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>uf(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>uf(n)?n:CE(n,.075,.3),easeOutElastic:n=>uf(n)?n:RE(n,.075,.3),easeInOutElastic(n){return uf(n)?n:n<.5?.5*CE(n*2,.1125,.45):.5+.5*RE(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-Fc.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Fc.easeInBounce(n*2)*.5:Fc.easeOutBounce(n*2-1)*.5+.5};function e0(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function IE(n){return e0(n)?n:new iu(n)}function np(n){return e0(n)?n:new iu(n).saturate(.5).darken(.1).hexString()}const H4=["x","y","borderWidth","radius","tension"],F4=["color","borderColor","backgroundColor"];function q4(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:F4},numbers:{type:"number",properties:H4}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function G4(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const kE=new Map;function Y4(n,t){t=t||{};const e=n+JSON.stringify(t);let i=kE.get(e);return i||(i=new Intl.NumberFormat(n,t),kE.set(e,i)),i}function Cw(n,t,e){return Y4(t,e).format(n)}const K4={values(n){return Be(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const i=this.chart.options.locale;let a,o=n;if(e.length>1){const m=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(m<1e-4||m>1e15)&&(a="scientific"),o=$4(n,e)}const c=Ew(Math.abs(o)),h=isNaN(c)?1:Math.max(Math.min(-1*Math.floor(c),20),0),f={notation:a,minimumFractionDigits:h,maximumFractionDigits:h};return Object.assign(f,this.options.ticks.format),Cw(n,i,f)}};function $4(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var Rw={formatters:K4};function Q4(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Rw.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const Fa=Object.create(null),Gp=Object.create(null);function qc(n,t){if(!t)return n;const e=t.split(".");for(let i=0,a=e.length;i<a;++i){const o=e[i];n=n[o]||(n[o]=Object.create(null))}return n}function ip(n,t,e){return typeof t=="string"?su(qc(n,t),e):su(qc(n,""),t)}class X4{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,a)=>np(a.backgroundColor),this.hoverBorderColor=(i,a)=>np(a.borderColor),this.hoverColor=(i,a)=>np(a.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return ip(this,t,e)}get(t){return qc(this,t)}describe(t,e){return ip(Gp,t,e)}override(t,e){return ip(Fa,t,e)}route(t,e,i,a){const o=qc(this,t),c=qc(this,i),h="_"+e;Object.defineProperties(o,{[h]:{value:o[e],writable:!0},[e]:{enumerable:!0,get(){const f=this[h],m=c[a];return Yt(f)?Object.assign({},m,f):qt(f,m)},set(f){this[h]=f}}})}apply(t){t.forEach(e=>e(this))}}var Ae=new X4({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[q4,G4,Q4]);function W4(n){return!n||le(n.size)||le(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function DE(n,t,e,i,a){let o=t[a];return o||(o=t[a]=n.measureText(a).width,e.push(a)),o>i&&(i=o),i}function Ca(n,t,e){const i=n.currentDevicePixelRatio,a=e!==0?Math.max(e/2,.5):0;return Math.round((t-a)*i)/i+a}function NE(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function Yp(n,t,e,i){Iw(n,t,e,i,null)}function Iw(n,t,e,i,a){let o,c,h,f,m,y,b,T;const x=t.pointStyle,A=t.rotation,I=t.radius;let N=(A||0)*w4;if(x&&typeof x=="object"&&(o=x.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(N),n.drawImage(x,-x.width/2,-x.height/2,x.width,x.height),n.restore();return}if(!(isNaN(I)||I<=0)){switch(n.beginPath(),x){default:a?n.ellipse(e,i,a/2,I,0,0,Ti):n.arc(e,i,I,0,Ti),n.closePath();break;case"triangle":y=a?a/2:I,n.moveTo(e+Math.sin(N)*y,i-Math.cos(N)*I),N+=xE,n.lineTo(e+Math.sin(N)*y,i-Math.cos(N)*I),N+=xE,n.lineTo(e+Math.sin(N)*y,i-Math.cos(N)*I),n.closePath();break;case"rectRounded":m=I*.516,f=I-m,c=Math.cos(N+Aa)*f,b=Math.cos(N+Aa)*(a?a/2-m:f),h=Math.sin(N+Aa)*f,T=Math.sin(N+Aa)*(a?a/2-m:f),n.arc(e-b,i-h,m,N-$e,N-vi),n.arc(e+T,i-c,m,N-vi,N),n.arc(e+b,i+h,m,N,N+vi),n.arc(e-T,i+c,m,N+vi,N+$e),n.closePath();break;case"rect":if(!A){f=Math.SQRT1_2*I,y=a?a/2:f,n.rect(e-y,i-f,2*y,2*f);break}N+=Aa;case"rectRot":b=Math.cos(N)*(a?a/2:I),c=Math.cos(N)*I,h=Math.sin(N)*I,T=Math.sin(N)*(a?a/2:I),n.moveTo(e-b,i-h),n.lineTo(e+T,i-c),n.lineTo(e+b,i+h),n.lineTo(e-T,i+c),n.closePath();break;case"crossRot":N+=Aa;case"cross":b=Math.cos(N)*(a?a/2:I),c=Math.cos(N)*I,h=Math.sin(N)*I,T=Math.sin(N)*(a?a/2:I),n.moveTo(e-b,i-h),n.lineTo(e+b,i+h),n.moveTo(e+T,i-c),n.lineTo(e-T,i+c);break;case"star":b=Math.cos(N)*(a?a/2:I),c=Math.cos(N)*I,h=Math.sin(N)*I,T=Math.sin(N)*(a?a/2:I),n.moveTo(e-b,i-h),n.lineTo(e+b,i+h),n.moveTo(e+T,i-c),n.lineTo(e-T,i+c),N+=Aa,b=Math.cos(N)*(a?a/2:I),c=Math.cos(N)*I,h=Math.sin(N)*I,T=Math.sin(N)*(a?a/2:I),n.moveTo(e-b,i-h),n.lineTo(e+b,i+h),n.moveTo(e+T,i-c),n.lineTo(e-T,i+c);break;case"line":c=a?a/2:Math.cos(N)*I,h=Math.sin(N)*I,n.moveTo(e-c,i-h),n.lineTo(e+c,i+h);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(N)*(a?a/2:I),i+Math.sin(N)*I);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function au(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function Cd(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function Rd(n){n.restore()}function Z4(n,t,e,i,a){if(!t)return n.lineTo(e.x,e.y);if(a==="middle"){const o=(t.x+e.x)/2;n.lineTo(o,t.y),n.lineTo(o,e.y)}else a==="after"!=!!i?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function J4(n,t,e,i){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function tz(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),le(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function ez(n,t,e,i,a){if(a.strikethrough||a.underline){const o=n.measureText(i),c=t-o.actualBoundingBoxLeft,h=t+o.actualBoundingBoxRight,f=e-o.actualBoundingBoxAscent,m=e+o.actualBoundingBoxDescent,y=a.strikethrough?(f+m)/2:m;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=a.decorationWidth||2,n.moveTo(c,y),n.lineTo(h,y),n.stroke()}}function nz(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function ou(n,t,e,i,a,o={}){const c=Be(t)?t:[t],h=o.strokeWidth>0&&o.strokeColor!=="";let f,m;for(n.save(),n.font=a.string,tz(n,o),f=0;f<c.length;++f)m=c[f],o.backdrop&&nz(n,o.backdrop),h&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),le(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(m,e,i,o.maxWidth)),n.fillText(m,e,i,o.maxWidth),ez(n,e,i,m,o),i+=Number(a.lineHeight);n.restore()}function Kp(n,t){const{x:e,y:i,w:a,h:o,radius:c}=t;n.arc(e+c.topLeft,i+c.topLeft,c.topLeft,1.5*$e,$e,!0),n.lineTo(e,i+o-c.bottomLeft),n.arc(e+c.bottomLeft,i+o-c.bottomLeft,c.bottomLeft,$e,vi,!0),n.lineTo(e+a-c.bottomRight,i+o),n.arc(e+a-c.bottomRight,i+o-c.bottomRight,c.bottomRight,vi,0,!0),n.lineTo(e+a,i+c.topRight),n.arc(e+a-c.topRight,i+c.topRight,c.topRight,0,-vi,!0),n.lineTo(e+c.topLeft,i)}const iz=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,sz=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function rz(n,t){const e=(""+n).match(iz);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const az=n=>+n||0;function kw(n,t){const e={},i=Yt(t),a=i?Object.keys(t):t,o=Yt(n)?i?c=>qt(n[c],n[t[c]]):c=>n[c]:()=>n;for(const c of a)e[c]=az(o(c));return e}function oz(n){return kw(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Gc(n){return kw(n,["topLeft","topRight","bottomLeft","bottomRight"])}function ri(n){const t=oz(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function hn(n,t){n=n||{},t=t||Ae.font;let e=qt(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=qt(n.style,t.style);i&&!(""+i).match(sz)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const a={family:qt(n.family,t.family),lineHeight:rz(qt(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:qt(n.weight,t.weight),string:""};return a.string=W4(a),a}function hf(n,t,e,i){let a,o,c;for(a=0,o=n.length;a<o;++a)if(c=n[a],c!==void 0&&c!==void 0)return c}function lz(n,t,e){const{min:i,max:a}=n,o=_4(t,(a-i)/2),c=(h,f)=>e&&h===0?0:h+f;return{min:c(i,-Math.abs(o)),max:c(a,o)}}function Ya(n,t){return Object.assign(Object.create(n),t)}function n0(n,t=[""],e,i,a=()=>n[0]){const o=e||n;typeof i>"u"&&(i=Ow("_fallback",n));const c={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:i,_getTarget:a,override:h=>n0([h,...n],t,o,i)};return new Proxy(c,{deleteProperty(h,f){return delete h[f],delete h._keys,delete n[0][f],!0},get(h,f){return Nw(h,f,()=>pz(f,t,n,h))},getOwnPropertyDescriptor(h,f){return Reflect.getOwnPropertyDescriptor(h._scopes[0],f)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(h,f){return OE(h).includes(f)},ownKeys(h){return OE(h)},set(h,f,m){const y=h._storage||(h._storage=a());return h[f]=y[f]=m,delete h._keys,!0}})}function sl(n,t,e,i){const a={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:Dw(n,i),setContext:o=>sl(n,o,e,i),override:o=>sl(n.override(o),t,e,i)};return new Proxy(a,{deleteProperty(o,c){return delete o[c],delete n[c],!0},get(o,c,h){return Nw(o,c,()=>uz(o,c,h))},getOwnPropertyDescriptor(o,c){return o._descriptors.allKeys?Reflect.has(n,c)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,c)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(o,c){return Reflect.has(n,c)},ownKeys(){return Reflect.ownKeys(n)},set(o,c,h){return n[c]=h,delete o[c],!0}})}function Dw(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:a=t.allKeys}=n;return{allKeys:a,scriptable:e,indexable:i,isScriptable:Fr(e)?e:()=>e,isIndexable:Fr(i)?i:()=>i}}const cz=(n,t)=>n?n+Zy(t):t,i0=(n,t)=>Yt(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function Nw(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const i=e();return n[t]=i,i}function uz(n,t,e){const{_proxy:i,_context:a,_subProxy:o,_descriptors:c}=n;let h=i[t];return Fr(h)&&c.isScriptable(t)&&(h=hz(t,h,n,e)),Be(h)&&h.length&&(h=fz(t,h,n,c.isIndexable)),i0(t,h)&&(h=sl(h,a,o&&o[t],c)),h}function hz(n,t,e,i){const{_proxy:a,_context:o,_subProxy:c,_stack:h}=e;if(h.has(n))throw new Error("Recursion detected: "+Array.from(h).join("->")+"->"+n);h.add(n);let f=t(o,c||i);return h.delete(n),i0(n,f)&&(f=s0(a._scopes,a,n,f)),f}function fz(n,t,e,i){const{_proxy:a,_context:o,_subProxy:c,_descriptors:h}=e;if(typeof o.index<"u"&&i(n))return t[o.index%t.length];if(Yt(t[0])){const f=t,m=a._scopes.filter(y=>y!==f);t=[];for(const y of f){const b=s0(m,a,n,y);t.push(sl(b,o,c&&c[n],h))}}return t}function Mw(n,t,e){return Fr(n)?n(t,e):n}const dz=(n,t)=>n===!0?t:typeof n=="string"?td(t,n):void 0;function mz(n,t,e,i,a){for(const o of t){const c=dz(e,o);if(c){n.add(c);const h=Mw(c._fallback,e,a);if(typeof h<"u"&&h!==e&&h!==i)return h}else if(c===!1&&typeof i<"u"&&e!==i)return null}return!1}function s0(n,t,e,i){const a=t._rootScopes,o=Mw(t._fallback,e,i),c=[...n,...a],h=new Set;h.add(i);let f=ME(h,c,e,o||e,i);return f===null||typeof o<"u"&&o!==e&&(f=ME(h,c,o,f,i),f===null)?!1:n0(Array.from(h),[""],a,o,()=>gz(t,e,i))}function ME(n,t,e,i,a){for(;e;)e=mz(n,t,e,i,a);return e}function gz(n,t,e){const i=n._getTarget();t in i||(i[t]={});const a=i[t];return Be(a)&&Yt(e)?e:a||{}}function pz(n,t,e,i){let a;for(const o of t)if(a=Ow(cz(o,n),e),typeof a<"u")return i0(n,a)?s0(e,i,n,a):a}function Ow(n,t){for(const e of t){if(!e)continue;const i=e[n];if(typeof i<"u")return i}}function OE(n){let t=n._keys;return t||(t=n._keys=yz(n._scopes)),t}function yz(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(a=>!a.startsWith("_")))t.add(i);return Array.from(t)}const _z=Number.EPSILON||1e-14,rl=(n,t)=>t<n.length&&!n[t].skip&&n[t],zw=n=>n==="x"?"y":"x";function bz(n,t,e,i){const a=n.skip?t:n,o=t,c=e.skip?t:e,h=qp(o,a),f=qp(c,o);let m=h/(h+f),y=f/(h+f);m=isNaN(m)?0:m,y=isNaN(y)?0:y;const b=i*m,T=i*y;return{previous:{x:o.x-b*(c.x-a.x),y:o.y-b*(c.y-a.y)},next:{x:o.x+T*(c.x-a.x),y:o.y+T*(c.y-a.y)}}}function vz(n,t,e){const i=n.length;let a,o,c,h,f,m=rl(n,0);for(let y=0;y<i-1;++y)if(f=m,m=rl(n,y+1),!(!f||!m)){if(Hc(t[y],0,_z)){e[y]=e[y+1]=0;continue}a=e[y]/t[y],o=e[y+1]/t[y],h=Math.pow(a,2)+Math.pow(o,2),!(h<=9)&&(c=3/Math.sqrt(h),e[y]=a*c*t[y],e[y+1]=o*c*t[y])}}function Tz(n,t,e="x"){const i=zw(e),a=n.length;let o,c,h,f=rl(n,0);for(let m=0;m<a;++m){if(c=h,h=f,f=rl(n,m+1),!h)continue;const y=h[e],b=h[i];c&&(o=(y-c[e])/3,h[`cp1${e}`]=y-o,h[`cp1${i}`]=b-o*t[m]),f&&(o=(f[e]-y)/3,h[`cp2${e}`]=y+o,h[`cp2${i}`]=b+o*t[m])}}function Ez(n,t="x"){const e=zw(t),i=n.length,a=Array(i).fill(0),o=Array(i);let c,h,f,m=rl(n,0);for(c=0;c<i;++c)if(h=f,f=m,m=rl(n,c+1),!!f){if(m){const y=m[t]-f[t];a[c]=y!==0?(m[e]-f[e])/y:0}o[c]=h?m?il(a[c-1])!==il(a[c])?0:(a[c-1]+a[c])/2:a[c-1]:a[c]}vz(n,a,o),Tz(n,o,t)}function ff(n,t,e){return Math.max(Math.min(n,e),t)}function xz(n,t){let e,i,a,o,c,h=au(n[0],t);for(e=0,i=n.length;e<i;++e)c=o,o=h,h=e<i-1&&au(n[e+1],t),o&&(a=n[e],c&&(a.cp1x=ff(a.cp1x,t.left,t.right),a.cp1y=ff(a.cp1y,t.top,t.bottom)),h&&(a.cp2x=ff(a.cp2x,t.left,t.right),a.cp2y=ff(a.cp2y,t.top,t.bottom)))}function Sz(n,t,e,i,a){let o,c,h,f;if(t.spanGaps&&(n=n.filter(m=>!m.skip)),t.cubicInterpolationMode==="monotone")Ez(n,a);else{let m=i?n[n.length-1]:n[0];for(o=0,c=n.length;o<c;++o)h=n[o],f=bz(m,h,n[Math.min(o+1,c-(i?0:1))%c],t.tension),h.cp1x=f.previous.x,h.cp1y=f.previous.y,h.cp2x=f.next.x,h.cp2y=f.next.y,m=h}t.capBezierPoints&&xz(n,e)}function r0(){return typeof window<"u"&&typeof document<"u"}function a0(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function id(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}const Id=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function wz(n,t){return Id(n).getPropertyValue(t)}const Az=["top","right","bottom","left"];function Pa(n,t,e){const i={};e=e?"-"+e:"";for(let a=0;a<4;a++){const o=Az[a];i[o]=parseFloat(n[t+"-"+o+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const Cz=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function Rz(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:a,offsetY:o}=i;let c=!1,h,f;if(Cz(a,o,n.target))h=a,f=o;else{const m=t.getBoundingClientRect();h=i.clientX-m.left,f=i.clientY-m.top,c=!0}return{x:h,y:f,box:c}}function ka(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,a=Id(e),o=a.boxSizing==="border-box",c=Pa(a,"padding"),h=Pa(a,"border","width"),{x:f,y:m,box:y}=Rz(n,e),b=c.left+(y&&h.left),T=c.top+(y&&h.top);let{width:x,height:A}=t;return o&&(x-=c.width+h.width,A-=c.height+h.height),{x:Math.round((f-b)/x*e.width/i),y:Math.round((m-T)/A*e.height/i)}}function Iz(n,t,e){let i,a;if(t===void 0||e===void 0){const o=n&&a0(n);if(!o)t=n.clientWidth,e=n.clientHeight;else{const c=o.getBoundingClientRect(),h=Id(o),f=Pa(h,"border","width"),m=Pa(h,"padding");t=c.width-m.width-f.width,e=c.height-m.height-f.height,i=id(h.maxWidth,o,"clientWidth"),a=id(h.maxHeight,o,"clientHeight")}}return{width:t,height:e,maxWidth:i||nd,maxHeight:a||nd}}const Rr=n=>Math.round(n*10)/10;function kz(n,t,e,i){const a=Id(n),o=Pa(a,"margin"),c=id(a.maxWidth,n,"clientWidth")||nd,h=id(a.maxHeight,n,"clientHeight")||nd,f=Iz(n,t,e);let{width:m,height:y}=f;if(a.boxSizing==="content-box"){const T=Pa(a,"border","width"),x=Pa(a,"padding");m-=x.width+T.width,y-=x.height+T.height}return m=Math.max(0,m-o.width),y=Math.max(0,i?m/i:y-o.height),m=Rr(Math.min(m,c,f.maxWidth)),y=Rr(Math.min(y,h,f.maxHeight)),m&&!y&&(y=Rr(m/2)),(t!==void 0||e!==void 0)&&i&&f.height&&y>f.height&&(y=f.height,m=Rr(Math.floor(y*i))),{width:m,height:y}}function zE(n,t,e){const i=t||1,a=Rr(n.height*i),o=Rr(n.width*i);n.height=Rr(n.height),n.width=Rr(n.width);const c=n.canvas;return c.style&&(e||!c.style.height&&!c.style.width)&&(c.style.height=`${n.height}px`,c.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||c.height!==a||c.width!==o?(n.currentDevicePixelRatio=i,c.height=a,c.width=o,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const Dz=(function(){let n=!1;try{const t={get passive(){return n=!0,!1}};r0()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n})();function VE(n,t){const e=wz(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function Da(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function Nz(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:i==="middle"?e<.5?n.y:t.y:i==="after"?e<1?n.y:t.y:e>0?t.y:n.y}}function Mz(n,t,e,i){const a={x:n.cp2x,y:n.cp2y},o={x:t.cp1x,y:t.cp1y},c=Da(n,a,e),h=Da(a,o,e),f=Da(o,t,e),m=Da(c,h,e),y=Da(h,f,e);return Da(m,y,e)}const Oz=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},zz=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function Ko(n,t,e){return n?Oz(t,e):zz()}function Vw(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function Pw(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function Lw(n){return n==="angle"?{between:xw,compare:N4,normalize:Wi}:{between:Ho,compare:(t,e)=>t-e,normalize:t=>t}}function PE({start:n,end:t,count:e,loop:i,style:a}){return{start:n%e,end:t%e,loop:i&&(t-n+1)%e===0,style:a}}function Vz(n,t,e){const{property:i,start:a,end:o}=e,{between:c,normalize:h}=Lw(i),f=t.length;let{start:m,end:y,loop:b}=n,T,x;if(b){for(m+=f,y+=f,T=0,x=f;T<x&&c(h(t[m%f][i]),a,o);++T)m--,y--;m%=f,y%=f}return y<m&&(y+=f),{start:m,end:y,loop:b,style:n.style}}function jw(n,t,e){if(!e)return[n];const{property:i,start:a,end:o}=e,c=t.length,{compare:h,between:f,normalize:m}=Lw(i),{start:y,end:b,loop:T,style:x}=Vz(n,t,e),A=[];let I=!1,N=null,B,Q,X;const at=()=>f(a,X,B)&&h(a,X)!==0,nt=()=>h(o,B)===0||f(o,X,B),lt=()=>I||at(),k=()=>!I||nt();for(let C=y,D=y;C<=b;++C)Q=t[C%c],!Q.skip&&(B=m(Q[i]),B!==X&&(I=f(B,a,o),N===null&&lt()&&(N=h(B,a)===0?C:D),N!==null&&k()&&(A.push(PE({start:N,end:C,loop:T,count:c,style:x})),N=null),D=C,X=B));return N!==null&&A.push(PE({start:N,end:b,loop:T,count:c,style:x})),A}function Uw(n,t){const e=[],i=n.segments;for(let a=0;a<i.length;a++){const o=jw(i[a],n.points,t);o.length&&e.push(...o)}return e}function Pz(n,t,e,i){let a=0,o=t-1;if(e&&!i)for(;a<t&&!n[a].skip;)a++;for(;a<t&&n[a].skip;)a++;for(a%=t,e&&(o+=a);o>a&&n[o%t].skip;)o--;return o%=t,{start:a,end:o}}function Lz(n,t,e,i){const a=n.length,o=[];let c=t,h=n[t],f;for(f=t+1;f<=e;++f){const m=n[f%a];m.skip||m.stop?h.skip||(i=!1,o.push({start:t%a,end:(f-1)%a,loop:i}),t=c=m.stop?f:null):(c=f,h.skip&&(t=f)),h=m}return c!==null&&o.push({start:t%a,end:c%a,loop:i}),o}function jz(n,t){const e=n.points,i=n.options.spanGaps,a=e.length;if(!a)return[];const o=!!n._loop,{start:c,end:h}=Pz(e,a,o,i);if(i===!0)return LE(n,[{start:c,end:h,loop:o}],e,t);const f=h<c?h+a:h,m=!!n._fullLoop&&c===0&&h===a-1;return LE(n,Lz(e,c,f,m),e,t)}function LE(n,t,e,i){return!i||!i.setContext||!e?t:Uz(n,t,e,i)}function Uz(n,t,e,i){const a=n._chart.getContext(),o=jE(n.options),{_datasetIndex:c,options:{spanGaps:h}}=n,f=e.length,m=[];let y=o,b=t[0].start,T=b;function x(A,I,N,B){const Q=h?-1:1;if(A!==I){for(A+=f;e[A%f].skip;)A-=Q;for(;e[I%f].skip;)I+=Q;A%f!==I%f&&(m.push({start:A%f,end:I%f,loop:N,style:B}),y=B,b=I%f)}}for(const A of t){b=h?b:A.start;let I=e[b%f],N;for(T=b+1;T<=A.end;T++){const B=e[T%f];N=jE(i.setContext(Ya(a,{type:"segment",p0:I,p1:B,p0DataIndex:(T-1)%f,p1DataIndex:T%f,datasetIndex:c}))),Bz(N,y)&&x(b,T-1,A.loop,y),I=B,y=N}b<T-1&&x(b,T-1,A.loop,y)}return m}function jE(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function Bz(n,t){if(!t)return!1;const e=[],i=function(a,o){return e0(o)?(e.includes(o)||e.push(o),e.indexOf(o)):o};return JSON.stringify(n,i)!==JSON.stringify(t,i)}function df(n,t,e){return n.options.clip?n[e]:t[e]}function Hz(n,t){const{xScale:e,yScale:i}=n;return e&&i?{left:df(e,t,"left"),right:df(e,t,"right"),top:df(i,t,"top"),bottom:df(i,t,"bottom")}:t}function Bw(n,t){const e=t._clip;if(e.disabled)return!1;const i=Hz(t,n.chartArea);return{left:e.left===!1?0:i.left-(e.left===!0?0:e.left),right:e.right===!1?n.width:i.right+(e.right===!0?0:e.right),top:e.top===!1?0:i.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?n.height:i.bottom+(e.bottom===!0?0:e.bottom)}}class Fz{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,a){const o=e.listeners[a],c=e.duration;o.forEach(h=>h({chart:t,initial:e.initial,numSteps:c,currentStep:Math.min(i-e.start,c)}))}_refresh(){this._request||(this._running=!0,this._request=ww.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,a)=>{if(!i.running||!i.items.length)return;const o=i.items;let c=o.length-1,h=!1,f;for(;c>=0;--c)f=o[c],f._active?(f._total>i.duration&&(i.duration=f._total),f.tick(t),h=!0):(o[c]=o[o.length-1],o.pop());h&&(a.draw(),this._notify(a,i,t,"progress")),o.length||(i.running=!1,this._notify(a,i,t,"complete"),i.initial=!1),e+=o.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,a)=>Math.max(i,a._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let a=i.length-1;for(;a>=0;--a)i[a].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Cs=new Fz;const UE="transparent",qz={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const i=IE(n||UE),a=i.valid&&IE(t||UE);return a&&a.valid?a.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class Gz{constructor(t,e,i,a){const o=e[i];a=hf([t.to,a,o,t.from]);const c=hf([t.from,o,a]);this._active=!0,this._fn=t.fn||qz[t.type||typeof c],this._easing=Fc[t.easing]||Fc.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=c,this._to=a,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const a=this._target[this._prop],o=i-this._start,c=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(c,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=hf([t.to,e,a,t.from]),this._from=hf([t.from,a,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,a=this._prop,o=this._from,c=this._loop,h=this._to;let f;if(this._active=o!==h&&(c||e<i),!this._active){this._target[a]=h,this._notify(!0);return}if(e<0){this._target[a]=o;return}f=e/i%2,f=c&&f>1?2-f:f,f=this._easing(Math.min(1,Math.max(0,f))),this._target[a]=this._fn(o,h,f)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let a=0;a<i.length;a++)i[a][e]()}}class Hw{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!Yt(t))return;const e=Object.keys(Ae.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(a=>{const o=t[a];if(!Yt(o))return;const c={};for(const h of e)c[h]=o[h];(Be(o.properties)&&o.properties||[a]).forEach(h=>{(h===a||!i.has(h))&&i.set(h,c)})})}_animateOptions(t,e){const i=e.options,a=Kz(t,i);if(!a)return[];const o=this._createAnimations(a,i);return i.$shared&&Yz(t.options.$animations,i).then(()=>{t.options=i},()=>{}),o}_createAnimations(t,e){const i=this._properties,a=[],o=t.$animations||(t.$animations={}),c=Object.keys(e),h=Date.now();let f;for(f=c.length-1;f>=0;--f){const m=c[f];if(m.charAt(0)==="$")continue;if(m==="options"){a.push(...this._animateOptions(t,e));continue}const y=e[m];let b=o[m];const T=i.get(m);if(b)if(T&&b.active()){b.update(T,y,h);continue}else b.cancel();if(!T||!T.duration){t[m]=y;continue}o[m]=b=new Gz(T,t,m,y),a.push(b)}return a}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const i=this._createAnimations(t,e);if(i.length)return Cs.add(this._chart,i),!0}}function Yz(n,t){const e=[],i=Object.keys(t);for(let a=0;a<i.length;a++){const o=n[i[a]];o&&o.active()&&e.push(o.wait())}return Promise.all(e)}function Kz(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function BE(n,t){const e=n&&n.options||{},i=e.reverse,a=e.min===void 0?t:0,o=e.max===void 0?t:0;return{start:i?o:a,end:i?a:o}}function $z(n,t,e){if(e===!1)return!1;const i=BE(n,e),a=BE(t,e);return{top:a.end,right:i.end,bottom:a.start,left:i.start}}function Qz(n){let t,e,i,a;return Yt(n)?(t=n.top,e=n.right,i=n.bottom,a=n.left):t=e=i=a=n,{top:t,right:e,bottom:i,left:a,disabled:n===!1}}function Fw(n,t){const e=[],i=n._getSortedDatasetMetas(t);let a,o;for(a=0,o=i.length;a<o;++a)e.push(i[a].index);return e}function HE(n,t,e,i={}){const a=n.keys,o=i.mode==="single";let c,h,f,m;if(t===null)return;let y=!1;for(c=0,h=a.length;c<h;++c){if(f=+a[c],f===e){if(y=!0,i.all)continue;break}m=n.values[f],dn(m)&&(o||t===0||il(t)===il(m))&&(t+=m)}return!y&&!i.all?0:t}function Xz(n,t){const{iScale:e,vScale:i}=t,a=e.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",c=Object.keys(n),h=new Array(c.length);let f,m,y;for(f=0,m=c.length;f<m;++f)y=c[f],h[f]={[a]:y,[o]:n[y]};return h}function sp(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function Wz(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function Zz(n){const{min:t,max:e,minDefined:i,maxDefined:a}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:a?e:Number.POSITIVE_INFINITY}}function Jz(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function FE(n,t,e,i){for(const a of t.getMatchingVisibleMetas(i).reverse()){const o=n[a.index];if(e&&o>0||!e&&o<0)return a.index}return null}function qE(n,t){const{chart:e,_cachedMeta:i}=n,a=e._stacks||(e._stacks={}),{iScale:o,vScale:c,index:h}=i,f=o.axis,m=c.axis,y=Wz(o,c,i),b=t.length;let T;for(let x=0;x<b;++x){const A=t[x],{[f]:I,[m]:N}=A,B=A._stacks||(A._stacks={});T=B[m]=Jz(a,y,I),T[h]=N,T._top=FE(T,c,!0,i.type),T._bottom=FE(T,c,!1,i.type);const Q=T._visualValues||(T._visualValues={});Q[h]=N}}function rp(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function tV(n,t){return Ya(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function eV(n,t,e){return Ya(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function vc(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const a of t){const o=a._stacks;if(!o||o[i]===void 0||o[i][e]===void 0)return;delete o[i][e],o[i]._visualValues!==void 0&&o[i]._visualValues[e]!==void 0&&delete o[i]._visualValues[e]}}}const ap=n=>n==="reset"||n==="none",GE=(n,t)=>t?n:Object.assign({},n),nV=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:Fw(e,!0),values:null};class qw{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=sp(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&vc(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),a=(b,T,x,A)=>b==="x"?T:b==="r"?A:x,o=e.xAxisID=qt(i.xAxisID,rp(t,"x")),c=e.yAxisID=qt(i.yAxisID,rp(t,"y")),h=e.rAxisID=qt(i.rAxisID,rp(t,"r")),f=e.indexAxis,m=e.iAxisID=a(f,o,c,h),y=e.vAxisID=a(f,c,o,h);e.xScale=this.getScaleForId(o),e.yScale=this.getScaleForId(c),e.rScale=this.getScaleForId(h),e.iScale=this.getScaleForId(m),e.vScale=this.getScaleForId(y)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&AE(this._data,this),t._stacked&&vc(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(Yt(e)){const a=this._cachedMeta;this._data=Xz(e,a)}else if(i!==e){if(i){AE(i,this);const a=this._cachedMeta;vc(a),a._parsed=[]}e&&Object.isExtensible(e)&&V4(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let a=!1;this._dataCheck();const o=e._stacked;e._stacked=sp(e.vScale,e),e.stack!==i.stack&&(a=!0,vc(e),e.stack=i.stack),this._resyncElements(t),(a||o!==e._stacked)&&(qE(this,e._parsed),e._stacked=sp(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:a}=this,{iScale:o,_stacked:c}=i,h=o.axis;let f=t===0&&e===a.length?!0:i._sorted,m=t>0&&i._parsed[t-1],y,b,T;if(this._parsing===!1)i._parsed=a,i._sorted=!0,T=a;else{Be(a[t])?T=this.parseArrayData(i,a,t,e):Yt(a[t])?T=this.parseObjectData(i,a,t,e):T=this.parsePrimitiveData(i,a,t,e);const x=()=>b[h]===null||m&&b[h]<m[h];for(y=0;y<e;++y)i._parsed[y+t]=b=T[y],f&&(x()&&(f=!1),m=b);i._sorted=f}c&&qE(this,T)}parsePrimitiveData(t,e,i,a){const{iScale:o,vScale:c}=t,h=o.axis,f=c.axis,m=o.getLabels(),y=o===c,b=new Array(a);let T,x,A;for(T=0,x=a;T<x;++T)A=T+i,b[T]={[h]:y||o.parse(m[A],A),[f]:c.parse(e[A],A)};return b}parseArrayData(t,e,i,a){const{xScale:o,yScale:c}=t,h=new Array(a);let f,m,y,b;for(f=0,m=a;f<m;++f)y=f+i,b=e[y],h[f]={x:o.parse(b[0],y),y:c.parse(b[1],y)};return h}parseObjectData(t,e,i,a){const{xScale:o,yScale:c}=t,{xAxisKey:h="x",yAxisKey:f="y"}=this._parsing,m=new Array(a);let y,b,T,x;for(y=0,b=a;y<b;++y)T=y+i,x=e[T],m[y]={x:o.parse(td(x,h),T),y:c.parse(td(x,f),T)};return m}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const a=this.chart,o=this._cachedMeta,c=e[t.axis],h={keys:Fw(a,!0),values:e._stacks[t.axis]._visualValues};return HE(h,c,o.index,{mode:i})}updateRangeFromParsed(t,e,i,a){const o=i[e.axis];let c=o===null?NaN:o;const h=a&&i._stacks[e.axis];a&&h&&(a.values=h,c=HE(a,o,this._cachedMeta.index)),t.min=Math.min(t.min,c),t.max=Math.max(t.max,c)}getMinMax(t,e){const i=this._cachedMeta,a=i._parsed,o=i._sorted&&t===i.iScale,c=a.length,h=this._getOtherScale(t),f=nV(e,i,this.chart),m={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:y,max:b}=Zz(h);let T,x;function A(){x=a[T];const I=x[h.axis];return!dn(x[t.axis])||y>I||b<I}for(T=0;T<c&&!(!A()&&(this.updateRangeFromParsed(m,t,x,f),o));++T);if(o){for(T=c-1;T>=0;--T)if(!A()){this.updateRangeFromParsed(m,t,x,f);break}}return m}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let a,o,c;for(a=0,o=e.length;a<o;++a)c=e[a][t.axis],dn(c)&&i.push(c);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,a=e.vScale,o=this.getParsed(t);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:a?""+a.getLabelForValue(o[a.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=Qz(qt(this.options.clip,$z(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,a=i.data||[],o=e.chartArea,c=[],h=this._drawStart||0,f=this._drawCount||a.length-h,m=this.options.drawActiveElementsOnTop;let y;for(i.dataset&&i.dataset.draw(t,o,h,f),y=h;y<h+f;++y){const b=a[y];b.hidden||(b.active&&m?c.push(b):b.draw(t,o))}for(y=0;y<c.length;++y)c[y].draw(t,o)}getStyle(t,e){const i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const a=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const c=this._cachedMeta.data[t];o=c.$context||(c.$context=eV(this.getContext(),t,c)),o.parsed=this.getParsed(t),o.raw=a.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=tV(this.chart.getContext(),this.index)),o.dataset=a,o.index=o.datasetIndex=this.index;return o.active=!!e,o.mode=i,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const a=e==="active",o=this._cachedDataOpts,c=t+"-"+e,h=o[c],f=this.enableOptionSharing&&ed(i);if(h)return GE(h,f);const m=this.chart.config,y=m.datasetElementScopeKeys(this._type,t),b=a?[`${t}Hover`,"hover",t,""]:[t,""],T=m.getOptionScopes(this.getDataset(),y),x=Object.keys(Ae.elements[t]),A=()=>this.getContext(i,a,e),I=m.resolveNamedOptions(T,x,A,b);return I.$shared&&(I.$shared=f,o[c]=Object.freeze(GE(I,f))),I}_resolveAnimations(t,e,i){const a=this.chart,o=this._cachedDataOpts,c=`animation-${e}`,h=o[c];if(h)return h;let f;if(a.options.animation!==!1){const y=this.chart.config,b=y.datasetAnimationScopeKeys(this._type,e),T=y.getOptionScopes(this.getDataset(),b);f=y.createResolver(T,this.getContext(t,i,e))}const m=new Hw(a,f&&f.animations);return f&&f._cacheable&&(o[c]=Object.freeze(m)),m}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||ap(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),a=this._sharedOptions,o=this.getSharedOptions(i),c=this.includeOptions(e,o)||o!==a;return this.updateSharedOptions(o,e,i),{sharedOptions:o,includeOptions:c}}updateElement(t,e,i,a){ap(a)?Object.assign(t,i):this._resolveAnimations(e,a).update(t,i)}updateSharedOptions(t,e,i){t&&!ap(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,a){t.active=a;const o=this.getStyle(e,a);this._resolveAnimations(e,i,a).update(t,{options:!a&&this.getSharedOptions(o)||o})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[h,f,m]of this._syncList)this[h](f,m);this._syncList=[];const a=i.length,o=e.length,c=Math.min(o,a);c&&this.parse(0,c),o>a?this._insertElements(a,o-a,t):o<a&&this._removeElements(o,a-o)}_insertElements(t,e,i=!0){const a=this._cachedMeta,o=a.data,c=t+e;let h;const f=m=>{for(m.length+=e,h=m.length-1;h>=c;h--)m[h]=m[h-e]};for(f(o),h=t;h<c;++h)o[h]=new this.dataElementType;this._parsing&&f(a._parsed),this.parse(t,e),i&&this.updateElements(o,t,e,"reset")}updateElements(t,e,i,a){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const a=i._parsed.splice(t,e);i._stacked&&vc(i,a)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,a]=t;this[e](i,a)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}class iV extends qw{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:i,data:a=[],_dataset:o}=e,c=this.chart._animationsDisabled;let{start:h,count:f}=U4(e,a,c);this._drawStart=h,this._drawCount=f,B4(e)&&(h=0,f=a.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!o._decimated,i.points=a;const m=this.resolveDatasetElementOptions(t);this.options.showLine||(m.borderWidth=0),m.segment=this.options.segment,this.updateElement(i,void 0,{animated:!c,options:m},t),this.updateElements(a,h,f,t)}updateElements(t,e,i,a){const o=a==="reset",{iScale:c,vScale:h,_stacked:f,_dataset:m}=this._cachedMeta,{sharedOptions:y,includeOptions:b}=this._getSharedOptions(e,a),T=c.axis,x=h.axis,{spanGaps:A,segment:I}=this.options,N=ru(A)?A:Number.POSITIVE_INFINITY,B=this.chart._animationsDisabled||o||a==="none",Q=e+i,X=t.length;let at=e>0&&this.getParsed(e-1);for(let nt=0;nt<X;++nt){const lt=t[nt],k=B?lt:{};if(nt<e||nt>=Q){k.skip=!0;continue}const C=this.getParsed(nt),D=le(C[x]),P=k[T]=c.getPixelForValue(C[T],nt),z=k[x]=o||D?h.getBasePixel():h.getPixelForValue(f?this.applyStack(h,C,f):C[x],nt);k.skip=isNaN(P)||isNaN(z)||D,k.stop=nt>0&&Math.abs(C[T]-at[T])>N,I&&(k.parsed=C,k.raw=m.data[nt]),b&&(k.options=y||this.resolveDataElementOptions(nt,lt.active?"active":a)),B||this.updateElement(lt,nt,k,a),at=C}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,i=e.options&&e.options.borderWidth||0,a=t.data||[];if(!a.length)return i;const o=a[0].size(this.resolveDataElementOptions(0)),c=a[a.length-1].size(this.resolveDataElementOptions(a.length-1));return Math.max(i,o,c)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}function Ra(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class o0{static override(t){Object.assign(o0.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return Ra()}parse(){return Ra()}format(){return Ra()}add(){return Ra()}diff(){return Ra()}startOf(){return Ra()}endOf(){return Ra()}}var sV={_date:o0};function rV(n,t,e,i){const{controller:a,data:o,_sorted:c}=n,h=a._cachedMeta.iScale,f=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(h&&t===h.axis&&t!=="r"&&c&&o.length){const m=h._reversePixels?O4:Oa;if(i){if(a._sharedOptions){const y=o[0],b=typeof y.getRange=="function"&&y.getRange(t);if(b){const T=m(o,t,e-b),x=m(o,t,e+b);return{lo:T.lo,hi:x.hi}}}}else{const y=m(o,t,e);if(f){const{vScale:b}=a._cachedMeta,{_parsed:T}=n,x=T.slice(0,y.lo+1).reverse().findIndex(I=>!le(I[b.axis]));y.lo-=Math.max(0,x);const A=T.slice(y.hi).findIndex(I=>!le(I[b.axis]));y.hi+=Math.max(0,A)}return y}}return{lo:0,hi:o.length-1}}function kd(n,t,e,i,a){const o=n.getSortedVisibleDatasetMetas(),c=e[t];for(let h=0,f=o.length;h<f;++h){const{index:m,data:y}=o[h],{lo:b,hi:T}=rV(o[h],t,c,a);for(let x=b;x<=T;++x){const A=y[x];A.skip||i(A,m,x)}}}function aV(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,a){const o=t?Math.abs(i.x-a.x):0,c=e?Math.abs(i.y-a.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(c,2))}}function op(n,t,e,i,a){const o=[];return!a&&!n.isPointInArea(t)||kd(n,e,t,function(h,f,m){!a&&!au(h,n.chartArea,0)||h.inRange(t.x,t.y,i)&&o.push({element:h,datasetIndex:f,index:m})},!0),o}function oV(n,t,e,i){let a=[];function o(c,h,f){const{startAngle:m,endAngle:y}=c.getProps(["startAngle","endAngle"],i),{angle:b}=D4(c,{x:t.x,y:t.y});xw(b,m,y)&&a.push({element:c,datasetIndex:h,index:f})}return kd(n,e,t,o),a}function lV(n,t,e,i,a,o){let c=[];const h=aV(e);let f=Number.POSITIVE_INFINITY;function m(y,b,T){const x=y.inRange(t.x,t.y,a);if(i&&!x)return;const A=y.getCenterPoint(a);if(!(!!o||n.isPointInArea(A))&&!x)return;const N=h(t,A);N<f?(c=[{element:y,datasetIndex:b,index:T}],f=N):N===f&&c.push({element:y,datasetIndex:b,index:T})}return kd(n,e,t,m),c}function lp(n,t,e,i,a,o){return!o&&!n.isPointInArea(t)?[]:e==="r"&&!i?oV(n,t,e,a):lV(n,t,e,i,a,o)}function YE(n,t,e,i,a){const o=[],c=e==="x"?"inXRange":"inYRange";let h=!1;return kd(n,e,t,(f,m,y)=>{f[c]&&f[c](t[e],a)&&(o.push({element:f,datasetIndex:m,index:y}),h=h||f.inRange(t.x,t.y,a))}),i&&!h?[]:o}var cV={modes:{index(n,t,e,i){const a=ka(t,n),o=e.axis||"x",c=e.includeInvisible||!1,h=e.intersect?op(n,a,o,i,c):lp(n,a,o,!1,i,c),f=[];return h.length?(n.getSortedVisibleDatasetMetas().forEach(m=>{const y=h[0].index,b=m.data[y];b&&!b.skip&&f.push({element:b,datasetIndex:m.index,index:y})}),f):[]},dataset(n,t,e,i){const a=ka(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;let h=e.intersect?op(n,a,o,i,c):lp(n,a,o,!1,i,c);if(h.length>0){const f=h[0].datasetIndex,m=n.getDatasetMeta(f).data;h=[];for(let y=0;y<m.length;++y)h.push({element:m[y],datasetIndex:f,index:y})}return h},point(n,t,e,i){const a=ka(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;return op(n,a,o,i,c)},nearest(n,t,e,i){const a=ka(t,n),o=e.axis||"xy",c=e.includeInvisible||!1;return lp(n,a,o,e.intersect,i,c)},x(n,t,e,i){const a=ka(t,n);return YE(n,a,"x",e.intersect,i)},y(n,t,e,i){const a=ka(t,n);return YE(n,a,"y",e.intersect,i)}}};const Gw=["left","top","right","bottom"];function Tc(n,t){return n.filter(e=>e.pos===t)}function KE(n,t){return n.filter(e=>Gw.indexOf(e.pos)===-1&&e.box.axis===t)}function Ec(n,t){return n.sort((e,i)=>{const a=t?i:e,o=t?e:i;return a.weight===o.weight?a.index-o.index:a.weight-o.weight})}function uV(n){const t=[];let e,i,a,o,c,h;for(e=0,i=(n||[]).length;e<i;++e)a=n[e],{position:o,options:{stack:c,stackWeight:h=1}}=a,t.push({index:e,box:a,pos:o,horizontal:a.isHorizontal(),weight:a.weight,stack:c&&o+c,stackWeight:h});return t}function hV(n){const t={};for(const e of n){const{stack:i,pos:a,stackWeight:o}=e;if(!i||!Gw.includes(a))continue;const c=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});c.count++,c.weight+=o}return t}function fV(n,t){const e=hV(n),{vBoxMaxWidth:i,hBoxMaxHeight:a}=t;let o,c,h;for(o=0,c=n.length;o<c;++o){h=n[o];const{fullSize:f}=h.box,m=e[h.stack],y=m&&h.stackWeight/m.weight;h.horizontal?(h.width=y?y*i:f&&t.availableWidth,h.height=a):(h.width=i,h.height=y?y*a:f&&t.availableHeight)}return e}function dV(n){const t=uV(n),e=Ec(t.filter(m=>m.box.fullSize),!0),i=Ec(Tc(t,"left"),!0),a=Ec(Tc(t,"right")),o=Ec(Tc(t,"top"),!0),c=Ec(Tc(t,"bottom")),h=KE(t,"x"),f=KE(t,"y");return{fullSize:e,leftAndTop:i.concat(o),rightAndBottom:a.concat(f).concat(c).concat(h),chartArea:Tc(t,"chartArea"),vertical:i.concat(a).concat(f),horizontal:o.concat(c).concat(h)}}function $E(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function Yw(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function mV(n,t,e,i){const{pos:a,box:o}=e,c=n.maxPadding;if(!Yt(a)){e.size&&(n[a]-=e.size);const b=i[e.stack]||{size:0,count:1};b.size=Math.max(b.size,e.horizontal?o.height:o.width),e.size=b.size/b.count,n[a]+=e.size}o.getPadding&&Yw(c,o.getPadding());const h=Math.max(0,t.outerWidth-$E(c,n,"left","right")),f=Math.max(0,t.outerHeight-$E(c,n,"top","bottom")),m=h!==n.w,y=f!==n.h;return n.w=h,n.h=f,e.horizontal?{same:m,other:y}:{same:y,other:m}}function gV(n){const t=n.maxPadding;function e(i){const a=Math.max(t[i]-n[i],0);return n[i]+=a,a}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function pV(n,t){const e=t.maxPadding;function i(a){const o={left:0,top:0,right:0,bottom:0};return a.forEach(c=>{o[c]=Math.max(t[c],e[c])}),o}return i(n?["left","right"]:["top","bottom"])}function Nc(n,t,e,i){const a=[];let o,c,h,f,m,y;for(o=0,c=n.length,m=0;o<c;++o){h=n[o],f=h.box,f.update(h.width||t.w,h.height||t.h,pV(h.horizontal,t));const{same:b,other:T}=mV(t,e,h,i);m|=b&&a.length,y=y||T,f.fullSize||a.push(h)}return m&&Nc(a,t,e,i)||y}function mf(n,t,e,i,a){n.top=e,n.left=t,n.right=t+i,n.bottom=e+a,n.width=i,n.height=a}function QE(n,t,e,i){const a=e.padding;let{x:o,y:c}=t;for(const h of n){const f=h.box,m=i[h.stack]||{placed:0,weight:1},y=h.stackWeight/m.weight||1;if(h.horizontal){const b=t.w*y,T=m.size||f.height;ed(m.start)&&(c=m.start),f.fullSize?mf(f,a.left,c,e.outerWidth-a.right-a.left,T):mf(f,t.left+m.placed,c,b,T),m.start=c,m.placed+=b,c=f.bottom}else{const b=t.h*y,T=m.size||f.width;ed(m.start)&&(o=m.start),f.fullSize?mf(f,o,a.top,T,e.outerHeight-a.bottom-a.top):mf(f,o,t.top+m.placed,T,b),m.start=o,m.placed+=b,o=f.right}}t.x=o,t.y=c}var si={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const a=ri(n.options.layout.padding),o=Math.max(t-a.width,0),c=Math.max(e-a.height,0),h=dV(n.boxes),f=h.vertical,m=h.horizontal;ee(n.boxes,I=>{typeof I.beforeLayout=="function"&&I.beforeLayout()});const y=f.reduce((I,N)=>N.box.options&&N.box.options.display===!1?I:I+1,0)||1,b=Object.freeze({outerWidth:t,outerHeight:e,padding:a,availableWidth:o,availableHeight:c,vBoxMaxWidth:o/2/y,hBoxMaxHeight:c/2}),T=Object.assign({},a);Yw(T,ri(i));const x=Object.assign({maxPadding:T,w:o,h:c,x:a.left,y:a.top},a),A=fV(f.concat(m),b);Nc(h.fullSize,x,b,A),Nc(f,x,b,A),Nc(m,x,b,A)&&Nc(f,x,b,A),gV(x),QE(h.leftAndTop,x,b,A),x.x+=x.w,x.y+=x.h,QE(h.rightAndBottom,x,b,A),n.chartArea={left:x.left,top:x.top,right:x.left+x.w,bottom:x.top+x.h,height:x.h,width:x.w},ee(h.chartArea,I=>{const N=I.box;Object.assign(N,n.chartArea),N.update(x.w,x.h,{left:0,top:0,right:0,bottom:0})})}};class Kw{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,a){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,a?Math.floor(e/a):i)}}isAttached(t){return!0}updateConfig(t){}}class yV extends Kw{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Nf="$chartjs",_V={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},XE=n=>n===null||n==="";function bV(n,t){const e=n.style,i=n.getAttribute("height"),a=n.getAttribute("width");if(n[Nf]={initial:{height:i,width:a,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",XE(a)){const o=VE(n,"width");o!==void 0&&(n.width=o)}if(XE(i))if(n.style.height==="")n.height=n.width/(t||2);else{const o=VE(n,"height");o!==void 0&&(n.height=o)}return n}const $w=Dz?{passive:!0}:!1;function vV(n,t,e){n&&n.addEventListener(t,e,$w)}function TV(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,$w)}function EV(n,t){const e=_V[n.type]||n.type,{x:i,y:a}=ka(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:a!==void 0?a:null}}function sd(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function xV(n,t,e){const i=n.canvas,a=new MutationObserver(o=>{let c=!1;for(const h of o)c=c||sd(h.addedNodes,i),c=c&&!sd(h.removedNodes,i);c&&e()});return a.observe(document,{childList:!0,subtree:!0}),a}function SV(n,t,e){const i=n.canvas,a=new MutationObserver(o=>{let c=!1;for(const h of o)c=c||sd(h.removedNodes,i),c=c&&!sd(h.addedNodes,i);c&&e()});return a.observe(document,{childList:!0,subtree:!0}),a}const lu=new Map;let WE=0;function Qw(){const n=window.devicePixelRatio;n!==WE&&(WE=n,lu.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function wV(n,t){lu.size||window.addEventListener("resize",Qw),lu.set(n,t)}function AV(n){lu.delete(n),lu.size||window.removeEventListener("resize",Qw)}function CV(n,t,e){const i=n.canvas,a=i&&a0(i);if(!a)return;const o=Aw((h,f)=>{const m=a.clientWidth;e(h,f),m<a.clientWidth&&e()},window),c=new ResizeObserver(h=>{const f=h[0],m=f.contentRect.width,y=f.contentRect.height;m===0&&y===0||o(m,y)});return c.observe(a),wV(n,o),c}function cp(n,t,e){e&&e.disconnect(),t==="resize"&&AV(n)}function RV(n,t,e){const i=n.canvas,a=Aw(o=>{n.ctx!==null&&e(EV(o,n))},n);return vV(i,t,a),a}class IV extends Kw{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(bV(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[Nf])return!1;const i=e[Nf].initial;["height","width"].forEach(o=>{const c=i[o];le(c)?e.removeAttribute(o):e.setAttribute(o,c)});const a=i.style||{};return Object.keys(a).forEach(o=>{e.style[o]=a[o]}),e.width=e.width,delete e[Nf],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const a=t.$proxies||(t.$proxies={}),c={attach:xV,detach:SV,resize:CV}[e]||RV;a[e]=c(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),a=i[e];if(!a)return;({attach:cp,detach:cp,resize:cp}[e]||TV)(t,e,a),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,a){return kz(t,e,i,a)}isAttached(t){const e=t&&a0(t);return!!(e&&e.isConnected)}}function kV(n){return!r0()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?yV:IV}class Ka{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return ru(this.x)&&ru(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const a={};return t.forEach(o=>{a[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),a}}function DV(n,t){const e=n.options.ticks,i=NV(n),a=Math.min(e.maxTicksLimit||i,i),o=e.major.enabled?OV(t):[],c=o.length,h=o[0],f=o[c-1],m=[];if(c>a)return zV(t,m,o,c/a),m;const y=MV(o,t,a);if(c>0){let b,T;const x=c>1?Math.round((f-h)/(c-1)):null;for(gf(t,m,y,le(x)?0:h-x,h),b=0,T=c-1;b<T;b++)gf(t,m,y,o[b],o[b+1]);return gf(t,m,y,f,le(x)?t.length:f+x),m}return gf(t,m,y),m}function NV(n){const t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),a=n._maxLength/e;return Math.floor(Math.min(i,a))}function MV(n,t,e){const i=VV(n),a=t.length/e;if(!i)return Math.max(a,1);const o=A4(i);for(let c=0,h=o.length-1;c<h;c++){const f=o[c];if(f>a)return f}return Math.max(a,1)}function OV(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function zV(n,t,e,i){let a=0,o=e[0],c;for(i=Math.ceil(i),c=0;c<n.length;c++)c===o&&(t.push(n[c]),a++,o=e[a*i])}function gf(n,t,e,i,a){const o=qt(i,0),c=Math.min(qt(a,n.length),n.length);let h=0,f,m,y;for(e=Math.ceil(e),a&&(f=a-i,e=f/Math.floor(f/e)),y=o;y<0;)h++,y=Math.round(o+h*e);for(m=Math.max(o,0);m<c;m++)m===y&&(t.push(n[m]),h++,y=Math.round(o+h*e))}function VV(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}const PV=n=>n==="left"?"right":n==="right"?"left":n,ZE=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,JE=(n,t)=>Math.min(t||n,n);function t1(n,t){const e=[],i=n.length/t,a=n.length;let o=0;for(;o<a;o+=i)e.push(n[Math.floor(o)]);return e}function LV(n,t,e){const i=n.ticks.length,a=Math.min(t,i-1),o=n._startPixel,c=n._endPixel,h=1e-6;let f=n.getPixelForTick(a),m;if(!(e&&(i===1?m=Math.max(f-o,c-f):t===0?m=(n.getPixelForTick(1)-f)/2:m=(f-n.getPixelForTick(a-1))/2,f+=a<t?m:-m,f<o-h||f>c+h)))return f}function jV(n,t){ee(n,e=>{const i=e.gc,a=i.length/2;let o;if(a>t){for(o=0;o<a;++o)delete e.data[i[o]];i.splice(0,a)}})}function xc(n){return n.drawTicks?n.tickLength:0}function e1(n,t){if(!n.display)return 0;const e=hn(n.font,t),i=ri(n.padding);return(Be(n.text)?n.text.length:1)*e.lineHeight+i.height}function UV(n,t){return Ya(n,{scale:t,type:"scale"})}function BV(n,t,e){return Ya(n,{tick:e,index:t,type:"tick"})}function HV(n,t,e){let i=t0(n);return(e&&t!=="right"||!e&&t==="right")&&(i=PV(i)),i}function FV(n,t,e,i){const{top:a,left:o,bottom:c,right:h,chart:f}=n,{chartArea:m,scales:y}=f;let b=0,T,x,A;const I=c-a,N=h-o;if(n.isHorizontal()){if(x=ln(i,o,h),Yt(e)){const B=Object.keys(e)[0],Q=e[B];A=y[B].getPixelForValue(Q)+I-t}else e==="center"?A=(m.bottom+m.top)/2+I-t:A=ZE(n,e,t);T=h-o}else{if(Yt(e)){const B=Object.keys(e)[0],Q=e[B];x=y[B].getPixelForValue(Q)-N+t}else e==="center"?x=(m.left+m.right)/2-N+t:x=ZE(n,e,t);A=ln(i,c,a),b=e==="left"?-vi:vi}return{titleX:x,titleY:A,maxWidth:T,rotation:b}}class ml extends Ka{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:a}=this;return t=Ki(t,Number.POSITIVE_INFINITY),e=Ki(e,Number.NEGATIVE_INFINITY),i=Ki(i,Number.POSITIVE_INFINITY),a=Ki(a,Number.NEGATIVE_INFINITY),{min:Ki(t,i),max:Ki(e,a),minDefined:dn(t),maxDefined:dn(e)}}getMinMax(t){let{min:e,max:i,minDefined:a,maxDefined:o}=this.getUserBounds(),c;if(a&&o)return{min:e,max:i};const h=this.getMatchingVisibleMetas();for(let f=0,m=h.length;f<m;++f)c=h[f].controller.getMinMax(this,t),a||(e=Math.min(e,c.min)),o||(i=Math.max(i,c.max));return e=o&&e>i?i:e,i=a&&e>i?e:i,{min:Ki(e,Ki(i,e)),max:Ki(i,Ki(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){he(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:a,grace:o,ticks:c}=this.options,h=c.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=lz(this,o,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const f=h<this.ticks.length;this._convertTicksToLabels(f?t1(this.ticks,h):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),c.display&&(c.autoSkip||c.source==="auto")&&(this.ticks=DV(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),f&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){he(this.options.afterUpdate,[this])}beforeSetDimensions(){he(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){he(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),he(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){he(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,a,o;for(i=0,a=t.length;i<a;i++)o=t[i],o.label=he(e.callback,[o.value,i,t],this)}afterTickToLabelConversion(){he(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){he(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=JE(this.ticks.length,t.ticks.maxTicksLimit),a=e.minRotation||0,o=e.maxRotation;let c=a,h,f,m;if(!this._isVisible()||!e.display||a>=o||i<=1||!this.isHorizontal()){this.labelRotation=a;return}const y=this._getLabelSizes(),b=y.widest.width,T=y.highest.height,x=ii(this.chart.width-b,0,this.maxWidth);h=t.offset?this.maxWidth/i:x/(i-1),b+6>h&&(h=x/(i-(t.offset?.5:1)),f=this.maxHeight-xc(t.grid)-e.padding-e1(t.title,this.chart.options.font),m=Math.sqrt(b*b+T*T),c=k4(Math.min(Math.asin(ii((y.highest.height+6)/h,-1,1)),Math.asin(ii(f/m,-1,1))-Math.asin(ii(T/m,-1,1)))),c=Math.max(a,Math.min(o,c))),this.labelRotation=c}afterCalculateLabelRotation(){he(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){he(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:a,grid:o}}=this,c=this._isVisible(),h=this.isHorizontal();if(c){const f=e1(a,e.options.font);if(h?(t.width=this.maxWidth,t.height=xc(o)+f):(t.height=this.maxHeight,t.width=xc(o)+f),i.display&&this.ticks.length){const{first:m,last:y,widest:b,highest:T}=this._getLabelSizes(),x=i.padding*2,A=Ma(this.labelRotation),I=Math.cos(A),N=Math.sin(A);if(h){const B=i.mirror?0:N*b.width+I*T.height;t.height=Math.min(this.maxHeight,t.height+B+x)}else{const B=i.mirror?0:I*b.width+N*T.height;t.width=Math.min(this.maxWidth,t.width+B+x)}this._calculatePadding(m,y,N,I)}}this._handleMargins(),h?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,a){const{ticks:{align:o,padding:c},position:h}=this.options,f=this.labelRotation!==0,m=h!=="top"&&this.axis==="x";if(this.isHorizontal()){const y=this.getPixelForTick(0)-this.left,b=this.right-this.getPixelForTick(this.ticks.length-1);let T=0,x=0;f?m?(T=a*t.width,x=i*e.height):(T=i*t.height,x=a*e.width):o==="start"?x=e.width:o==="end"?T=t.width:o!=="inner"&&(T=t.width/2,x=e.width/2),this.paddingLeft=Math.max((T-y+c)*this.width/(this.width-y),0),this.paddingRight=Math.max((x-b+c)*this.width/(this.width-b),0)}else{let y=e.height/2,b=t.height/2;o==="start"?(y=0,b=t.height):o==="end"&&(y=e.height,b=0),this.paddingTop=y+c,this.paddingBottom=b+c}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){he(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)le(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=t1(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:a,_longestTextCache:o}=this,c=[],h=[],f=Math.floor(e/JE(e,i));let m=0,y=0,b,T,x,A,I,N,B,Q,X,at,nt;for(b=0;b<e;b+=f){if(A=t[b].label,I=this._resolveTickFontOptions(b),a.font=N=I.string,B=o[N]=o[N]||{data:{},gc:[]},Q=I.lineHeight,X=at=0,!le(A)&&!Be(A))X=DE(a,B.data,B.gc,X,A),at=Q;else if(Be(A))for(T=0,x=A.length;T<x;++T)nt=A[T],!le(nt)&&!Be(nt)&&(X=DE(a,B.data,B.gc,X,nt),at+=Q);c.push(X),h.push(at),m=Math.max(X,m),y=Math.max(at,y)}jV(o,e);const lt=c.indexOf(m),k=h.indexOf(y),C=D=>({width:c[D]||0,height:h[D]||0});return{first:C(0),last:C(e-1),widest:C(lt),highest:C(k),widths:c,heights:h}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return M4(this._alignToPixels?Ca(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=BV(this.getContext(),t,i))}return this.$context||(this.$context=UV(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=Ma(this.labelRotation),i=Math.abs(Math.cos(e)),a=Math.abs(Math.sin(e)),o=this._getLabelSizes(),c=t.autoSkipPadding||0,h=o?o.widest.width+c:0,f=o?o.highest.height+c:0;return this.isHorizontal()?f*i>h*a?h/i:f/a:f*a<h*i?f/i:h/a}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,a=this.options,{grid:o,position:c,border:h}=a,f=o.offset,m=this.isHorizontal(),b=this.ticks.length+(f?1:0),T=xc(o),x=[],A=h.setContext(this.getContext()),I=A.display?A.width:0,N=I/2,B=function(H){return Ca(i,H,I)};let Q,X,at,nt,lt,k,C,D,P,z,L,O;if(c==="top")Q=B(this.bottom),k=this.bottom-T,D=Q-N,z=B(t.top)+N,O=t.bottom;else if(c==="bottom")Q=B(this.top),z=t.top,O=B(t.bottom)-N,k=Q+N,D=this.top+T;else if(c==="left")Q=B(this.right),lt=this.right-T,C=Q-N,P=B(t.left)+N,L=t.right;else if(c==="right")Q=B(this.left),P=t.left,L=B(t.right)-N,lt=Q+N,C=this.left+T;else if(e==="x"){if(c==="center")Q=B((t.top+t.bottom)/2+.5);else if(Yt(c)){const H=Object.keys(c)[0],ot=c[H];Q=B(this.chart.scales[H].getPixelForValue(ot))}z=t.top,O=t.bottom,k=Q+N,D=k+T}else if(e==="y"){if(c==="center")Q=B((t.left+t.right)/2);else if(Yt(c)){const H=Object.keys(c)[0],ot=c[H];Q=B(this.chart.scales[H].getPixelForValue(ot))}lt=Q-N,C=lt-T,P=t.left,L=t.right}const Ct=qt(a.ticks.maxTicksLimit,b),J=Math.max(1,Math.ceil(b/Ct));for(X=0;X<b;X+=J){const H=this.getContext(X),ot=o.setContext(H),pt=h.setContext(H),St=ot.lineWidth,ft=ot.color,M=pt.dash||[],W=pt.dashOffset,ut=ot.tickWidth,dt=ot.tickColor,et=ot.tickBorderDash||[],ct=ot.tickBorderDashOffset;at=LV(this,X,f),at!==void 0&&(nt=Ca(i,at,St),m?lt=C=P=L=nt:k=D=z=O=nt,x.push({tx1:lt,ty1:k,tx2:C,ty2:D,x1:P,y1:z,x2:L,y2:O,width:St,color:ft,borderDash:M,borderDashOffset:W,tickWidth:ut,tickColor:dt,tickBorderDash:et,tickBorderDashOffset:ct}))}return this._ticksLength=b,this._borderValue=Q,x}_computeLabelItems(t){const e=this.axis,i=this.options,{position:a,ticks:o}=i,c=this.isHorizontal(),h=this.ticks,{align:f,crossAlign:m,padding:y,mirror:b}=o,T=xc(i.grid),x=T+y,A=b?-y:x,I=-Ma(this.labelRotation),N=[];let B,Q,X,at,nt,lt,k,C,D,P,z,L,O="middle";if(a==="top")lt=this.bottom-A,k=this._getXAxisLabelAlignment();else if(a==="bottom")lt=this.top+A,k=this._getXAxisLabelAlignment();else if(a==="left"){const J=this._getYAxisLabelAlignment(T);k=J.textAlign,nt=J.x}else if(a==="right"){const J=this._getYAxisLabelAlignment(T);k=J.textAlign,nt=J.x}else if(e==="x"){if(a==="center")lt=(t.top+t.bottom)/2+x;else if(Yt(a)){const J=Object.keys(a)[0],H=a[J];lt=this.chart.scales[J].getPixelForValue(H)+x}k=this._getXAxisLabelAlignment()}else if(e==="y"){if(a==="center")nt=(t.left+t.right)/2-x;else if(Yt(a)){const J=Object.keys(a)[0],H=a[J];nt=this.chart.scales[J].getPixelForValue(H)}k=this._getYAxisLabelAlignment(T).textAlign}e==="y"&&(f==="start"?O="top":f==="end"&&(O="bottom"));const Ct=this._getLabelSizes();for(B=0,Q=h.length;B<Q;++B){X=h[B],at=X.label;const J=o.setContext(this.getContext(B));C=this.getPixelForTick(B)+o.labelOffset,D=this._resolveTickFontOptions(B),P=D.lineHeight,z=Be(at)?at.length:1;const H=z/2,ot=J.color,pt=J.textStrokeColor,St=J.textStrokeWidth;let ft=k;c?(nt=C,k==="inner"&&(B===Q-1?ft=this.options.reverse?"left":"right":B===0?ft=this.options.reverse?"right":"left":ft="center"),a==="top"?m==="near"||I!==0?L=-z*P+P/2:m==="center"?L=-Ct.highest.height/2-H*P+P:L=-Ct.highest.height+P/2:m==="near"||I!==0?L=P/2:m==="center"?L=Ct.highest.height/2-H*P:L=Ct.highest.height-z*P,b&&(L*=-1),I!==0&&!J.showLabelBackdrop&&(nt+=P/2*Math.sin(I))):(lt=C,L=(1-z)*P/2);let M;if(J.showLabelBackdrop){const W=ri(J.backdropPadding),ut=Ct.heights[B],dt=Ct.widths[B];let et=L-W.top,ct=0-W.left;switch(O){case"middle":et-=ut/2;break;case"bottom":et-=ut;break}switch(k){case"center":ct-=dt/2;break;case"right":ct-=dt;break;case"inner":B===Q-1?ct-=dt:B>0&&(ct-=dt/2);break}M={left:ct,top:et,width:dt+W.width,height:ut+W.height,color:J.backdropColor}}N.push({label:at,font:D,textOffset:L,options:{rotation:I,color:ot,strokeColor:pt,strokeWidth:St,textAlign:ft,textBaseline:O,translation:[nt,lt],backdrop:M}})}return N}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-Ma(this.labelRotation))return t==="top"?"left":"right";let a="center";return e.align==="start"?a="left":e.align==="end"?a="right":e.align==="inner"&&(a="inner"),a}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:a,padding:o}}=this.options,c=this._getLabelSizes(),h=t+o,f=c.widest.width;let m,y;return e==="left"?a?(y=this.right+o,i==="near"?m="left":i==="center"?(m="center",y+=f/2):(m="right",y+=f)):(y=this.right-h,i==="near"?m="right":i==="center"?(m="center",y-=f/2):(m="left",y=this.left)):e==="right"?a?(y=this.left+o,i==="near"?m="right":i==="center"?(m="center",y-=f/2):(m="left",y-=f)):(y=this.left+h,i==="near"?m="left":i==="center"?(m="center",y+=f/2):(m="right",y=this.right)):m="right",{textAlign:m,x:y}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:a,width:o,height:c}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,a,o,c),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const a=this.ticks.findIndex(o=>o.value===t);return a>=0?e.setContext(this.getContext(a)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,c;const h=(f,m,y)=>{!y.width||!y.color||(i.save(),i.lineWidth=y.width,i.strokeStyle=y.color,i.setLineDash(y.borderDash||[]),i.lineDashOffset=y.borderDashOffset,i.beginPath(),i.moveTo(f.x,f.y),i.lineTo(m.x,m.y),i.stroke(),i.restore())};if(e.display)for(o=0,c=a.length;o<c;++o){const f=a[o];e.drawOnChartArea&&h({x:f.x1,y:f.y1},{x:f.x2,y:f.y2},f),e.drawTicks&&h({x:f.tx1,y:f.ty1},{x:f.tx2,y:f.ty2},{color:f.tickColor,width:f.tickWidth,borderDash:f.tickBorderDash,borderDashOffset:f.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:a}}=this,o=i.setContext(this.getContext()),c=i.display?o.width:0;if(!c)return;const h=a.setContext(this.getContext(0)).lineWidth,f=this._borderValue;let m,y,b,T;this.isHorizontal()?(m=Ca(t,this.left,c)-c/2,y=Ca(t,this.right,h)+h/2,b=T=f):(b=Ca(t,this.top,c)-c/2,T=Ca(t,this.bottom,h)+h/2,m=y=f),e.save(),e.lineWidth=o.width,e.strokeStyle=o.color,e.beginPath(),e.moveTo(m,b),e.lineTo(y,T),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,a=this._computeLabelArea();a&&Cd(i,a);const o=this.getLabelItems(t);for(const c of o){const h=c.options,f=c.font,m=c.label,y=c.textOffset;ou(i,m,0,y,f,h)}a&&Rd(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:a}}=this;if(!i.display)return;const o=hn(i.font),c=ri(i.padding),h=i.align;let f=o.lineHeight/2;e==="bottom"||e==="center"||Yt(e)?(f+=c.bottom,Be(i.text)&&(f+=o.lineHeight*(i.text.length-1))):f+=c.top;const{titleX:m,titleY:y,maxWidth:b,rotation:T}=FV(this,f,e,h);ou(t,i.text,0,0,o,{color:i.color,maxWidth:b,rotation:T,textAlign:HV(h,e,a),textBaseline:"middle",translation:[m,y]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=qt(t.grid&&t.grid.z,-1),a=qt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==ml.prototype.draw?[{z:e,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:a,draw:()=>{this.drawBorder()}},{z:e,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",a=[];let o,c;for(o=0,c=e.length;o<c;++o){const h=e[o];h[i]===this.id&&(!t||h.type===t)&&a.push(h)}return a}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return hn(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class pf{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;YV(e)&&(i=this.register(e));const a=this.items,o=t.id,c=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in a||(a[o]=t,qV(t,c,i),this.override&&Ae.override(t.id,t.overrides)),c}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,a=this.scope;i in e&&delete e[i],a&&i in Ae[a]&&(delete Ae[a][i],this.override&&delete Fa[i])}}function qV(n,t,e){const i=su(Object.create(null),[e?Ae.get(e):{},Ae.get(t),n.defaults]);Ae.set(t,i),n.defaultRoutes&&GV(t,n.defaultRoutes),n.descriptors&&Ae.describe(t,n.descriptors)}function GV(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),a=i.pop(),o=[n].concat(i).join("."),c=t[e].split("."),h=c.pop(),f=c.join(".");Ae.route(o,a,f,h)})}function YV(n){return"id"in n&&"defaults"in n}class KV{constructor(){this.controllers=new pf(qw,"datasets",!0),this.elements=new pf(Ka,"elements"),this.plugins=new pf(Object,"plugins"),this.scales=new pf(ml,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(a=>{const o=i||this._getRegistryForType(a);i||o.isForType(a)||o===this.plugins&&a.id?this._exec(t,o,a):ee(a,c=>{const h=i||this._getRegistryForType(c);this._exec(t,h,c)})})}_exec(t,e,i){const a=Zy(t);he(i["before"+a],[],i),e[t](i),he(i["after"+a],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const a=e.get(t);if(a===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return a}}var Qi=new KV;class $V{constructor(){this._init=void 0}notify(t,e,i,a){if(e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install")),this._init===void 0)return;const o=a?this._descriptors(t).filter(a):this._descriptors(t),c=this._notify(o,t,e,i);return e==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall"),this._init=void 0),c}_notify(t,e,i,a){a=a||{};for(const o of t){const c=o.plugin,h=c[i],f=[e,a,o.options];if(he(h,f,c)===!1&&a.cancelable)return!1}return!0}invalidate(){le(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,a=qt(i.options&&i.options.plugins,{}),o=QV(i);return a===!1&&!e?[]:WV(t,o,a,e)}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,a=(o,c)=>o.filter(h=>!c.some(f=>h.plugin.id===f.plugin.id));this._notify(a(e,i),t,"stop"),this._notify(a(i,e),t,"start")}}function QV(n){const t={},e=[],i=Object.keys(Qi.plugins.items);for(let o=0;o<i.length;o++)e.push(Qi.getPlugin(i[o]));const a=n.plugins||[];for(let o=0;o<a.length;o++){const c=a[o];e.indexOf(c)===-1&&(e.push(c),t[c.id]=!0)}return{plugins:e,localIds:t}}function XV(n,t){return!t&&n===!1?null:n===!0?{}:n}function WV(n,{plugins:t,localIds:e},i,a){const o=[],c=n.getContext();for(const h of t){const f=h.id,m=XV(i[f],a);m!==null&&o.push({plugin:h,options:ZV(n.config,{plugin:h,local:e[f]},m,c)})}return o}function ZV(n,{plugin:t,local:e},i,a){const o=n.pluginScopeKeys(t),c=n.getOptionScopes(i,o);return e&&t.defaults&&c.push(t.defaults),n.createResolver(c,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function $p(n,t){const e=Ae.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function JV(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function t5(n,t){return n===t?"_index_":"_value_"}function n1(n){if(n==="x"||n==="y"||n==="r")return n}function e5(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function Qp(n,...t){if(n1(n))return n;for(const e of t){const i=e.axis||e5(e.position)||n.length>1&&n1(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function i1(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function n5(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return i1(n,"x",e[0])||i1(n,"y",e[0])}return{}}function i5(n,t){const e=Fa[n.type]||{scales:{}},i=t.scales||{},a=$p(n.type,t),o=Object.create(null);return Object.keys(i).forEach(c=>{const h=i[c];if(!Yt(h))return console.error(`Invalid scale configuration for scale: ${c}`);if(h._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${c}`);const f=Qp(c,h,n5(c,n),Ae.scales[h.type]),m=t5(f,a),y=e.scales||{};o[c]=Bc(Object.create(null),[{axis:f},h,y[f],y[m]])}),n.data.datasets.forEach(c=>{const h=c.type||n.type,f=c.indexAxis||$p(h,t),y=(Fa[h]||{}).scales||{};Object.keys(y).forEach(b=>{const T=JV(b,f),x=c[T+"AxisID"]||T;o[x]=o[x]||Object.create(null),Bc(o[x],[{axis:T},i[x],y[b]])})}),Object.keys(o).forEach(c=>{const h=o[c];Bc(h,[Ae.scales[h.type],Ae.scale])}),o}function Xw(n){const t=n.options||(n.options={});t.plugins=qt(t.plugins,{}),t.scales=i5(n,t)}function Ww(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function s5(n){return n=n||{},n.data=Ww(n.data),Xw(n),n}const s1=new Map,Zw=new Set;function yf(n,t){let e=s1.get(n);return e||(e=t(),s1.set(n,e),Zw.add(e)),e}const Sc=(n,t,e)=>{const i=td(t,e);i!==void 0&&n.add(i)};class r5{constructor(t){this._config=s5(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=Ww(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),Xw(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return yf(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return yf(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return yf(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,i=this.type;return yf(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let a=i.get(t);return(!a||e)&&(a=new Map,i.set(t,a)),a}getOptionScopes(t,e,i){const{options:a,type:o}=this,c=this._cachedScopes(t,i),h=c.get(e);if(h)return h;const f=new Set;e.forEach(y=>{t&&(f.add(t),y.forEach(b=>Sc(f,t,b))),y.forEach(b=>Sc(f,a,b)),y.forEach(b=>Sc(f,Fa[o]||{},b)),y.forEach(b=>Sc(f,Ae,b)),y.forEach(b=>Sc(f,Gp,b))});const m=Array.from(f);return m.length===0&&m.push(Object.create(null)),Zw.has(e)&&c.set(e,m),m}chartOptionScopes(){const{options:t,type:e}=this;return[t,Fa[e]||{},Ae.datasets[e]||{},{type:e},Ae,Gp]}resolveNamedOptions(t,e,i,a=[""]){const o={$shared:!0},{resolver:c,subPrefixes:h}=r1(this._resolverCache,t,a);let f=c;if(o5(c,e)){o.$shared=!1,i=Fr(i)?i():i;const m=this.createResolver(t,i,h);f=sl(c,i,m)}for(const m of e)o[m]=f[m];return o}createResolver(t,e,i=[""],a){const{resolver:o}=r1(this._resolverCache,t,i);return Yt(e)?sl(o,e,void 0,a):o}}function r1(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const a=e.join();let o=i.get(a);return o||(o={resolver:n0(t,e),subPrefixes:e.filter(h=>!h.toLowerCase().includes("hover"))},i.set(a,o)),o}const a5=n=>Yt(n)&&Object.getOwnPropertyNames(n).some(t=>Fr(n[t]));function o5(n,t){const{isScriptable:e,isIndexable:i}=Dw(n);for(const a of t){const o=e(a),c=i(a),h=(c||o)&&n[a];if(o&&(Fr(h)||a5(h))||c&&Be(h))return!0}return!1}var l5="4.5.1";const c5=["top","bottom","left","right","chartArea"];function a1(n,t){return n==="top"||n==="bottom"||c5.indexOf(n)===-1&&t==="x"}function o1(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function l1(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),he(e&&e.onComplete,[n],t)}function u5(n){const t=n.chart,e=t.options.animation;he(e&&e.onProgress,[n],t)}function Jw(n){return r0()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Mf={},c1=n=>{const t=Jw(n);return Object.values(Mf).filter(e=>e.canvas===t).pop()};function h5(n,t,e){const i=Object.keys(n);for(const a of i){const o=+a;if(o>=t){const c=n[a];delete n[a],(e>0||o>t)&&(n[o+e]=c)}}}function f5(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}let Dd=class{static defaults=Ae;static instances=Mf;static overrides=Fa;static registry=Qi;static version=l5;static getChart=c1;static register(...t){Qi.add(...t),u1()}static unregister(...t){Qi.remove(...t),u1()}constructor(t,e){const i=this.config=new r5(e),a=Jw(t),o=c1(a);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const c=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||kV(a)),this.platform.updateConfig(i);const h=this.platform.acquireContext(a,c.aspectRatio),f=h&&h.canvas,m=f&&f.height,y=f&&f.width;if(this.id=y4(),this.ctx=h,this.canvas=f,this.width=y,this.height=m,this._options=c,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new $V,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=L4(b=>this.update(b),c.resizeDelay||0),this._dataChanges=[],Mf[this.id]=this,!h||!f){console.error("Failed to create chart: can't acquire context from the given item");return}Cs.listen(this,"complete",l1),Cs.listen(this,"progress",u5),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:a,_aspectRatio:o}=this;return le(t)?e&&o?o:a?i/a:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return Qi}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():zE(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return NE(this.canvas,this.ctx),this}stop(){return Cs.stop(this),this}resize(t,e){Cs.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,a=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,c=this.platform.getMaximumSize(a,t,e,o),h=i.devicePixelRatio||this.platform.getDevicePixelRatio(),f=this.width?"resize":"attach";this.width=c.width,this.height=c.height,this._aspectRatio=this.aspectRatio,zE(this,h,!0)&&(this.notifyPlugins("resize",{size:c}),he(i.onResize,[this,c],this),this.attached&&this._doResize(f)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};ee(e,(i,a)=>{i.id=a})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,a=Object.keys(i).reduce((c,h)=>(c[h]=!1,c),{});let o=[];e&&(o=o.concat(Object.keys(e).map(c=>{const h=e[c],f=Qp(c,h),m=f==="r",y=f==="x";return{options:h,dposition:m?"chartArea":y?"bottom":"left",dtype:m?"radialLinear":y?"category":"linear"}}))),ee(o,c=>{const h=c.options,f=h.id,m=Qp(f,h),y=qt(h.type,c.dtype);(h.position===void 0||a1(h.position,m)!==a1(c.dposition))&&(h.position=c.dposition),a[f]=!0;let b=null;if(f in i&&i[f].type===y)b=i[f];else{const T=Qi.getScale(y);b=new T({id:f,type:y,ctx:this.ctx,chart:this}),i[b.id]=b}b.init(h,t)}),ee(a,(c,h)=>{c||delete i[h]}),ee(i,c=>{si.configure(this,c,c.options),si.addBox(this,c)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((a,o)=>a.index-o.index),i>e){for(let a=e;a<i;++a)this._destroyDatasetMeta(a);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(o1("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,a)=>{e.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,a;for(this._removeUnreferencedMetasets(),i=0,a=e.length;i<a;i++){const o=e[i];let c=this.getDatasetMeta(i);const h=o.type||this.config.type;if(c.type&&c.type!==h&&(this._destroyDatasetMeta(i),c=this.getDatasetMeta(i)),c.type=h,c.indexAxis=o.indexAxis||$p(h,this.options),c.order=o.order||0,c.index=i,c.label=""+o.label,c.visible=this.isDatasetVisible(i),c.controller)c.controller.updateIndex(i),c.controller.linkScales();else{const f=Qi.getController(h),{datasetElementType:m,dataElementType:y}=Ae.datasets[h];Object.assign(f,{dataElementType:Qi.getElement(y),datasetElementType:m&&Qi.getElement(m)}),c.controller=new f(this,i),t.push(c.controller)}}return this._updateMetasets(),t}_resetElements(){ee(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let c=0;for(let m=0,y=this.data.datasets.length;m<y;m++){const{controller:b}=this.getDatasetMeta(m),T=!a&&o.indexOf(b)===-1;b.buildOrUpdateElements(T),c=Math.max(+b.getMaxOverflow(),c)}c=this._minPadding=i.layout.autoPadding?c:0,this._updateLayout(c),a||ee(o,m=>{m.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(o1("z","_idx"));const{_active:h,_lastEvent:f}=this;f?this._eventHandler(f,!0):h.length&&this._updateHoverStyles(h,h,!0),this.render()}_updateScales(){ee(this.scales,t=>{si.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!EE(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:a,count:o}of e){const c=i==="_removeElements"?-o:o;h5(t,a,c)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=o=>new Set(t.filter(c=>c[0]===o).map((c,h)=>h+","+c.splice(1).join(","))),a=i(0);for(let o=1;o<e;o++)if(!EE(a,i(o)))return;return Array.from(a).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;si.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],ee(this.boxes,a=>{i&&a.position==="chartArea"||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,o)=>{a._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,Fr(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),a={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",a)!==!1&&(i.controller._update(e),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Cs.has(this)?this.attached&&!Cs.running(this)&&Cs.start(this):(this.draw(),l1({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:a}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,a)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let a,o;for(a=0,o=e.length;a<o;++a){const c=e[a];(!t||c.visible)&&i.push(c)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i={meta:t,index:t.index,cancelable:!0},a=Bw(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(a&&Cd(e,a),t.controller.draw(),a&&Rd(e),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return au(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,a){const o=cV.modes[e];return typeof o=="function"?o(this,t,i,a):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let a=i.filter(o=>o&&o._dataset===e).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(a)),a}getContext(){return this.$context||(this.$context=Ya(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const a=i?"show":"hide",o=this.getDatasetMeta(t),c=o.controller._resolveAnimations(void 0,a);ed(e)?(o.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),c.update(o,{visible:i}),this.update(h=>h.datasetIndex===t?a:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),Cs.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),NE(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete Mf[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(o,c)=>{e.addEventListener(this,o,c),t[o]=c},a=(o,c,h)=>{o.offsetX=c,o.offsetY=h,this._eventHandler(o)};ee(this.options.events,o=>i(o,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(f,m)=>{e.addEventListener(this,f,m),t[f]=m},a=(f,m)=>{t[f]&&(e.removeEventListener(this,f,m),delete t[f])},o=(f,m)=>{this.canvas&&this.resize(f,m)};let c;const h=()=>{a("attach",h),this.attached=!0,this.resize(),i("resize",o),i("detach",c)};c=()=>{this.attached=!1,a("resize",o),this._stop(),this._resize(0,0),i("attach",h)},e.isAttached(this.canvas)?h():c()}unbindEvents(){ee(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},ee(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const a=i?"set":"remove";let o,c,h,f;for(e==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+a+"DatasetHoverStyle"]()),h=0,f=t.length;h<f;++h){c=t[h];const m=c&&this.getDatasetMeta(c.datasetIndex).controller;m&&m[a+"HoverStyle"](c.element,c.datasetIndex,c.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:o,index:c})=>{const h=this.getDatasetMeta(o);if(!h)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:h.data[c],index:c}});!Zf(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,i){const a=this.options.hover,o=(f,m)=>f.filter(y=>!m.some(b=>y.datasetIndex===b.datasetIndex&&y.index===b.index)),c=o(e,t),h=i?t:o(t,e);c.length&&this.updateHoverStyle(c,a.mode,!1),h.length&&a.mode&&this.updateHoverStyle(h,a.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},a=c=>(c.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,a)===!1)return;const o=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,a),(o||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:a=[],options:o}=this,c=e,h=this._getActiveElements(t,a,i,c),f=x4(t),m=f5(t,this._lastEvent,i,f);i&&(this._lastEvent=null,he(o.onHover,[t,h,this],this),f&&he(o.onClick,[t,h,this],this));const y=!Zf(h,a);return(y||e)&&(this._active=h,this._updateHoverStyles(h,a,e)),this._lastEvent=m,y}_getActiveElements(t,e,i,a){if(t.type==="mouseout")return[];if(!i)return e;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,a)}};function u1(){return ee(Dd.instances,n=>n._plugins.invalidate())}function tA(n,t,e=t){n.lineCap=qt(e.borderCapStyle,t.borderCapStyle),n.setLineDash(qt(e.borderDash,t.borderDash)),n.lineDashOffset=qt(e.borderDashOffset,t.borderDashOffset),n.lineJoin=qt(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=qt(e.borderWidth,t.borderWidth),n.strokeStyle=qt(e.borderColor,t.borderColor)}function d5(n,t,e){n.lineTo(e.x,e.y)}function m5(n){return n.stepped?Z4:n.tension||n.cubicInterpolationMode==="monotone"?J4:d5}function eA(n,t,e={}){const i=n.length,{start:a=0,end:o=i-1}=e,{start:c,end:h}=t,f=Math.max(a,c),m=Math.min(o,h),y=a<c&&o<c||a>h&&o>h;return{count:i,start:f,loop:t.loop,ilen:m<f&&!y?i+m-f:m-f}}function g5(n,t,e,i){const{points:a,options:o}=t,{count:c,start:h,loop:f,ilen:m}=eA(a,e,i),y=m5(o);let{move:b=!0,reverse:T}=i||{},x,A,I;for(x=0;x<=m;++x)A=a[(h+(T?m-x:x))%c],!A.skip&&(b?(n.moveTo(A.x,A.y),b=!1):y(n,I,A,T,o.stepped),I=A);return f&&(A=a[(h+(T?m:0))%c],y(n,I,A,T,o.stepped)),!!f}function p5(n,t,e,i){const a=t.points,{count:o,start:c,ilen:h}=eA(a,e,i),{move:f=!0,reverse:m}=i||{};let y=0,b=0,T,x,A,I,N,B;const Q=at=>(c+(m?h-at:at))%o,X=()=>{I!==N&&(n.lineTo(y,N),n.lineTo(y,I),n.lineTo(y,B))};for(f&&(x=a[Q(0)],n.moveTo(x.x,x.y)),T=0;T<=h;++T){if(x=a[Q(T)],x.skip)continue;const at=x.x,nt=x.y,lt=at|0;lt===A?(nt<I?I=nt:nt>N&&(N=nt),y=(b*y+at)/++b):(X(),n.lineTo(at,nt),A=lt,b=0,I=N=nt),B=nt}X()}function Xp(n){const t=n.options,e=t.borderDash&&t.borderDash.length;return!n._decimated&&!n._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?p5:g5}function y5(n){return n.stepped?Nz:n.tension||n.cubicInterpolationMode==="monotone"?Mz:Da}function _5(n,t,e,i){let a=t._path;a||(a=t._path=new Path2D,t.path(a,e,i)&&a.closePath()),tA(n,t.options),n.stroke(a)}function b5(n,t,e,i){const{segments:a,options:o}=t,c=Xp(t);for(const h of a)tA(n,o,h.style),n.beginPath(),c(n,t,h,{start:e,end:e+i-1})&&n.closePath(),n.stroke()}const v5=typeof Path2D=="function";function T5(n,t,e,i){v5&&!t.options.segment?_5(n,t,e,i):b5(n,t,e,i)}class Nd extends Ka{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const a=i.spanGaps?this._loop:this._fullLoop;Sz(this._points,i,t,a,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=jz(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,i=t.length;return i&&e[t[i-1].end]}interpolate(t,e){const i=this.options,a=t[e],o=this.points,c=Uw(this,{property:e,start:a,end:a});if(!c.length)return;const h=[],f=y5(i);let m,y;for(m=0,y=c.length;m<y;++m){const{start:b,end:T}=c[m],x=o[b],A=o[T];if(x===A){h.push(x);continue}const I=Math.abs((a-x[e])/(A[e]-x[e])),N=f(x,A,I,i.stepped);N[e]=t[e],h.push(N)}return h.length===1?h[0]:h}pathSegment(t,e,i){return Xp(this)(t,this,e,i)}path(t,e,i){const a=this.segments,o=Xp(this);let c=this._loop;e=e||0,i=i||this.points.length-e;for(const h of a)c&=o(t,this,h,{start:e,end:e+i-1});return!!c}draw(t,e,i,a){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(t.save(),T5(t,this,i,a),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function h1(n,t,e,i){const a=n.options,{[e]:o}=n.getProps([e],i);return Math.abs(t-o)<a.radius+a.hitRadius}class E5 extends Ka{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,i){const a=this.options,{x:o,y:c}=this.getProps(["x","y"],i);return Math.pow(t-o,2)+Math.pow(e-c,2)<Math.pow(a.hitRadius+a.radius,2)}inXRange(t,e){return h1(this,t,"x",e)}inYRange(t,e){return h1(this,t,"y",e)}getCenterPoint(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}size(t){t=t||this.options||{};let e=t.radius||0;e=Math.max(e,e&&t.hoverRadius||0);const i=e&&t.borderWidth||0;return(e+i)*2}draw(t,e){const i=this.options;this.skip||i.radius<.1||!au(this,e,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,Yp(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function x5(n,t,e){const i=n.segments,a=n.points,o=t.points,c=[];for(const h of i){let{start:f,end:m}=h;m=Md(f,m,a);const y=Wp(e,a[f],a[m],h.loop);if(!t.segments){c.push({source:h,target:y,start:a[f],end:a[m]});continue}const b=Uw(t,y);for(const T of b){const x=Wp(e,o[T.start],o[T.end],T.loop),A=jw(h,a,x);for(const I of A)c.push({source:I,target:T,start:{[e]:f1(y,x,"start",Math.max)},end:{[e]:f1(y,x,"end",Math.min)}})}}return c}function Wp(n,t,e,i){if(i)return;let a=t[n],o=e[n];return n==="angle"&&(a=Wi(a),o=Wi(o)),{property:n,start:a,end:o}}function S5(n,t){const{x:e=null,y:i=null}=n||{},a=t.points,o=[];return t.segments.forEach(({start:c,end:h})=>{h=Md(c,h,a);const f=a[c],m=a[h];i!==null?(o.push({x:f.x,y:i}),o.push({x:m.x,y:i})):e!==null&&(o.push({x:e,y:f.y}),o.push({x:e,y:m.y}))}),o}function Md(n,t,e){for(;t>n;t--){const i=e[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function f1(n,t,e,i){return n&&t?i(n[e],t[e]):n?n[e]:t?t[e]:0}function nA(n,t){let e=[],i=!1;return Be(n)?(i=!0,e=n):e=S5(n,t),e.length?new Nd({points:e,options:{tension:0},_loop:i,_fullLoop:i}):null}function d1(n){return n&&n.fill!==!1}function w5(n,t,e){let a=n[t].fill;const o=[t];let c;if(!e)return a;for(;a!==!1&&o.indexOf(a)===-1;){if(!dn(a))return a;if(c=n[a],!c)return!1;if(c.visible)return a;o.push(a),a=c.fill}return!1}function A5(n,t,e){const i=k5(n);if(Yt(i))return isNaN(i.value)?!1:i;let a=parseFloat(i);return dn(a)&&Math.floor(a)===a?C5(i[0],t,a,e):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function C5(n,t,e,i){return(n==="-"||n==="+")&&(e=t+e),e===t||e<0||e>=i?!1:e}function R5(n,t){let e=null;return n==="start"?e=t.bottom:n==="end"?e=t.top:Yt(n)?e=t.getPixelForValue(n.value):t.getBasePixel&&(e=t.getBasePixel()),e}function I5(n,t,e){let i;return n==="start"?i=e:n==="end"?i=t.options.reverse?t.min:t.max:Yt(n)?i=n.value:i=t.getBaseValue(),i}function k5(n){const t=n.options,e=t.fill;let i=qt(e&&e.target,e);return i===void 0&&(i=!!t.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function D5(n){const{scale:t,index:e,line:i}=n,a=[],o=i.segments,c=i.points,h=N5(t,e);h.push(nA({x:null,y:t.bottom},i));for(let f=0;f<o.length;f++){const m=o[f];for(let y=m.start;y<=m.end;y++)M5(a,c[y],h)}return new Nd({points:a,options:{}})}function N5(n,t){const e=[],i=n.getMatchingVisibleMetas("line");for(let a=0;a<i.length;a++){const o=i[a];if(o.index===t)break;o.hidden||e.unshift(o.dataset)}return e}function M5(n,t,e){const i=[];for(let a=0;a<e.length;a++){const o=e[a],{first:c,last:h,point:f}=O5(o,t,"x");if(!(!f||c&&h)){if(c)i.unshift(f);else if(n.push(f),!h)break}}n.push(...i)}function O5(n,t,e){const i=n.interpolate(t,e);if(!i)return{};const a=i[e],o=n.segments,c=n.points;let h=!1,f=!1;for(let m=0;m<o.length;m++){const y=o[m],b=c[y.start][e],T=c[y.end][e];if(Ho(a,b,T)){h=a===b,f=a===T;break}}return{first:h,last:f,point:i}}class iA{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,i){const{x:a,y:o,radius:c}=this;return e=e||{start:0,end:Ti},t.arc(a,o,c,e.end,e.start,!0),!i.bounds}interpolate(t){const{x:e,y:i,radius:a}=this,o=t.angle;return{x:e+Math.cos(o)*a,y:i+Math.sin(o)*a,angle:o}}}function z5(n){const{chart:t,fill:e,line:i}=n;if(dn(e))return V5(t,e);if(e==="stack")return D5(n);if(e==="shape")return!0;const a=P5(n);return a instanceof iA?a:nA(a,i)}function V5(n,t){const e=n.getDatasetMeta(t);return e&&n.isDatasetVisible(t)?e.dataset:null}function P5(n){return(n.scale||{}).getPointPositionForValue?j5(n):L5(n)}function L5(n){const{scale:t={},fill:e}=n,i=R5(e,t);if(dn(i)){const a=t.isHorizontal();return{x:a?i:null,y:a?null:i}}return null}function j5(n){const{scale:t,fill:e}=n,i=t.options,a=t.getLabels().length,o=i.reverse?t.max:t.min,c=I5(e,t,o),h=[];if(i.grid.circular){const f=t.getPointPositionForValue(0,o);return new iA({x:f.x,y:f.y,radius:t.getDistanceFromCenterForValue(c)})}for(let f=0;f<a;++f)h.push(t.getPointPositionForValue(f,c));return h}function up(n,t,e){const i=z5(t),{chart:a,index:o,line:c,scale:h,axis:f}=t,m=c.options,y=m.fill,b=m.backgroundColor,{above:T=b,below:x=b}=y||{},A=a.getDatasetMeta(o),I=Bw(a,A);i&&c.points.length&&(Cd(n,e),U5(n,{line:c,target:i,above:T,below:x,area:e,scale:h,axis:f,clip:I}),Rd(n))}function U5(n,t){const{line:e,target:i,above:a,below:o,area:c,scale:h,clip:f}=t,m=e._loop?"angle":t.axis;n.save();let y=o;o!==a&&(m==="x"?(m1(n,i,c.top),hp(n,{line:e,target:i,color:a,scale:h,property:m,clip:f}),n.restore(),n.save(),m1(n,i,c.bottom)):m==="y"&&(g1(n,i,c.left),hp(n,{line:e,target:i,color:o,scale:h,property:m,clip:f}),n.restore(),n.save(),g1(n,i,c.right),y=a)),hp(n,{line:e,target:i,color:y,scale:h,property:m,clip:f}),n.restore()}function m1(n,t,e){const{segments:i,points:a}=t;let o=!0,c=!1;n.beginPath();for(const h of i){const{start:f,end:m}=h,y=a[f],b=a[Md(f,m,a)];o?(n.moveTo(y.x,y.y),o=!1):(n.lineTo(y.x,e),n.lineTo(y.x,y.y)),c=!!t.pathSegment(n,h,{move:c}),c?n.closePath():n.lineTo(b.x,e)}n.lineTo(t.first().x,e),n.closePath(),n.clip()}function g1(n,t,e){const{segments:i,points:a}=t;let o=!0,c=!1;n.beginPath();for(const h of i){const{start:f,end:m}=h,y=a[f],b=a[Md(f,m,a)];o?(n.moveTo(y.x,y.y),o=!1):(n.lineTo(e,y.y),n.lineTo(y.x,y.y)),c=!!t.pathSegment(n,h,{move:c}),c?n.closePath():n.lineTo(e,b.y)}n.lineTo(e,t.first().y),n.closePath(),n.clip()}function hp(n,t){const{line:e,target:i,property:a,color:o,scale:c,clip:h}=t,f=x5(e,i,a);for(const{source:m,target:y,start:b,end:T}of f){const{style:{backgroundColor:x=o}={}}=m,A=i!==!0;n.save(),n.fillStyle=x,B5(n,c,h,A&&Wp(a,b,T)),n.beginPath();const I=!!e.pathSegment(n,m);let N;if(A){I?n.closePath():p1(n,i,T,a);const B=!!i.pathSegment(n,y,{move:I,reverse:!0});N=I&&B,N||p1(n,i,b,a)}n.closePath(),n.fill(N?"evenodd":"nonzero"),n.restore()}}function B5(n,t,e,i){const a=t.chart.chartArea,{property:o,start:c,end:h}=i||{};if(o==="x"||o==="y"){let f,m,y,b;o==="x"?(f=c,m=a.top,y=h,b=a.bottom):(f=a.left,m=c,y=a.right,b=h),n.beginPath(),e&&(f=Math.max(f,e.left),y=Math.min(y,e.right),m=Math.max(m,e.top),b=Math.min(b,e.bottom)),n.rect(f,m,y-f,b-m),n.clip()}}function p1(n,t,e,i){const a=t.interpolate(e,i);a&&n.lineTo(a.x,a.y)}var H5={id:"filler",afterDatasetsUpdate(n,t,e){const i=(n.data.datasets||[]).length,a=[];let o,c,h,f;for(c=0;c<i;++c)o=n.getDatasetMeta(c),h=o.dataset,f=null,h&&h.options&&h instanceof Nd&&(f={visible:n.isDatasetVisible(c),index:c,fill:A5(h,c,i),chart:n,axis:o.controller.options.indexAxis,scale:o.vScale,line:h}),o.$filler=f,a.push(f);for(c=0;c<i;++c)f=a[c],!(!f||f.fill===!1)&&(f.fill=w5(a,c,e.propagate))},beforeDraw(n,t,e){const i=e.drawTime==="beforeDraw",a=n.getSortedVisibleDatasetMetas(),o=n.chartArea;for(let c=a.length-1;c>=0;--c){const h=a[c].$filler;h&&(h.line.updateControlPoints(o,h.axis),i&&h.fill&&up(n.ctx,h,o))}},beforeDatasetsDraw(n,t,e){if(e.drawTime!=="beforeDatasetsDraw")return;const i=n.getSortedVisibleDatasetMetas();for(let a=i.length-1;a>=0;--a){const o=i[a].$filler;d1(o)&&up(n.ctx,o,n.chartArea)}},beforeDatasetDraw(n,t,e){const i=t.meta.$filler;!d1(i)||e.drawTime!=="beforeDatasetDraw"||up(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const y1=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},F5=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class _1 extends Ka{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=he(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,a)=>t.sort(i,a,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,a=hn(i.font),o=a.size,c=this._computeTitleHeight(),{boxWidth:h,itemHeight:f}=y1(i,o);let m,y;e.font=a.string,this.isHorizontal()?(m=this.maxWidth,y=this._fitRows(c,o,h,f)+10):(y=this.maxHeight,m=this._fitCols(c,a,h,f)+10),this.width=Math.min(m,t.maxWidth||this.maxWidth),this.height=Math.min(y,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,a){const{ctx:o,maxWidth:c,options:{labels:{padding:h}}}=this,f=this.legendHitBoxes=[],m=this.lineWidths=[0],y=a+h;let b=t;o.textAlign="left",o.textBaseline="middle";let T=-1,x=-y;return this.legendItems.forEach((A,I)=>{const N=i+e/2+o.measureText(A.text).width;(I===0||m[m.length-1]+N+2*h>c)&&(b+=y,m[m.length-(I>0?0:1)]=0,x+=y,T++),f[I]={left:0,top:x,row:T,width:N,height:a},m[m.length-1]+=N+h}),b}_fitCols(t,e,i,a){const{ctx:o,maxHeight:c,options:{labels:{padding:h}}}=this,f=this.legendHitBoxes=[],m=this.columnSizes=[],y=c-t;let b=h,T=0,x=0,A=0,I=0;return this.legendItems.forEach((N,B)=>{const{itemWidth:Q,itemHeight:X}=q5(i,e,o,N,a);B>0&&x+X+2*h>y&&(b+=T+h,m.push({width:T,height:x}),A+=T+h,I++,T=x=0),f[B]={left:A,top:x,col:I,width:Q,height:X},T=Math.max(T,Q),x+=X+h}),b+=T,m.push({width:T,height:x}),b}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:a},rtl:o}}=this,c=Ko(o,this.left,this.width);if(this.isHorizontal()){let h=0,f=ln(i,this.left+a,this.right-this.lineWidths[h]);for(const m of e)h!==m.row&&(h=m.row,f=ln(i,this.left+a,this.right-this.lineWidths[h])),m.top+=this.top+t+a,m.left=c.leftForLtr(c.x(f),m.width),f+=m.width+a}else{let h=0,f=ln(i,this.top+t+a,this.bottom-this.columnSizes[h].height);for(const m of e)m.col!==h&&(h=m.col,f=ln(i,this.top+t+a,this.bottom-this.columnSizes[h].height)),m.top=f,m.left+=this.left+a,m.left=c.leftForLtr(c.x(m.left),m.width),f+=m.height+a}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Cd(t,this),this._draw(),Rd(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:a}=this,{align:o,labels:c}=t,h=Ae.color,f=Ko(t.rtl,this.left,this.width),m=hn(c.font),{padding:y}=c,b=m.size,T=b/2;let x;this.drawTitle(),a.textAlign=f.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=m.string;const{boxWidth:A,boxHeight:I,itemHeight:N}=y1(c,b),B=function(lt,k,C){if(isNaN(A)||A<=0||isNaN(I)||I<0)return;a.save();const D=qt(C.lineWidth,1);if(a.fillStyle=qt(C.fillStyle,h),a.lineCap=qt(C.lineCap,"butt"),a.lineDashOffset=qt(C.lineDashOffset,0),a.lineJoin=qt(C.lineJoin,"miter"),a.lineWidth=D,a.strokeStyle=qt(C.strokeStyle,h),a.setLineDash(qt(C.lineDash,[])),c.usePointStyle){const P={radius:I*Math.SQRT2/2,pointStyle:C.pointStyle,rotation:C.rotation,borderWidth:D},z=f.xPlus(lt,A/2),L=k+T;Iw(a,P,z,L,c.pointStyleWidth&&A)}else{const P=k+Math.max((b-I)/2,0),z=f.leftForLtr(lt,A),L=Gc(C.borderRadius);a.beginPath(),Object.values(L).some(O=>O!==0)?Kp(a,{x:z,y:P,w:A,h:I,radius:L}):a.rect(z,P,A,I),a.fill(),D!==0&&a.stroke()}a.restore()},Q=function(lt,k,C){ou(a,C.text,lt,k+N/2,m,{strikethrough:C.hidden,textAlign:f.textAlign(C.textAlign)})},X=this.isHorizontal(),at=this._computeTitleHeight();X?x={x:ln(o,this.left+y,this.right-i[0]),y:this.top+y+at,line:0}:x={x:this.left+y,y:ln(o,this.top+at+y,this.bottom-e[0].height),line:0},Vw(this.ctx,t.textDirection);const nt=N+y;this.legendItems.forEach((lt,k)=>{a.strokeStyle=lt.fontColor,a.fillStyle=lt.fontColor;const C=a.measureText(lt.text).width,D=f.textAlign(lt.textAlign||(lt.textAlign=c.textAlign)),P=A+T+C;let z=x.x,L=x.y;f.setWidth(this.width),X?k>0&&z+P+y>this.right&&(L=x.y+=nt,x.line++,z=x.x=ln(o,this.left+y,this.right-i[x.line])):k>0&&L+nt>this.bottom&&(z=x.x=z+e[x.line].width+y,x.line++,L=x.y=ln(o,this.top+at+y,this.bottom-e[x.line].height));const O=f.x(z);if(B(O,L,lt),z=j4(D,z+A+T,X?z+P:this.right,t.rtl),Q(f.x(z),L,lt),X)x.x+=P+y;else if(typeof lt.text!="string"){const Ct=m.lineHeight;x.y+=sA(lt,Ct)+y}else x.y+=nt}),Pw(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=hn(e.font),a=ri(e.padding);if(!e.display)return;const o=Ko(t.rtl,this.left,this.width),c=this.ctx,h=e.position,f=i.size/2,m=a.top+f;let y,b=this.left,T=this.width;if(this.isHorizontal())T=Math.max(...this.lineWidths),y=this.top+m,b=ln(t.align,b,this.right-T);else{const A=this.columnSizes.reduce((I,N)=>Math.max(I,N.height),0);y=m+ln(t.align,this.top,this.bottom-A-t.labels.padding-this._computeTitleHeight())}const x=ln(h,b,b+T);c.textAlign=o.textAlign(t0(h)),c.textBaseline="middle",c.strokeStyle=e.color,c.fillStyle=e.color,c.font=i.string,ou(c,e.text,x,y,i)}_computeTitleHeight(){const t=this.options.title,e=hn(t.font),i=ri(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,a,o;if(Ho(t,this.left,this.right)&&Ho(e,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(a=o[i],Ho(t,a.left,a.left+a.width)&&Ho(e,a.top,a.top+a.height))return this.legendItems[i]}return null}handleEvent(t){const e=this.options;if(!K5(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const a=this._hoveredItem,o=F5(a,i);a&&!o&&he(e.onLeave,[t,a,this],this),this._hoveredItem=i,i&&!o&&he(e.onHover,[t,i,this],this)}else i&&he(e.onClick,[t,i,this],this)}}function q5(n,t,e,i,a){const o=G5(i,n,t,e),c=Y5(a,i,t.lineHeight);return{itemWidth:o,itemHeight:c}}function G5(n,t,e,i){let a=n.text;return a&&typeof a!="string"&&(a=a.reduce((o,c)=>o.length>c.length?o:c)),t+e.size/2+i.measureText(a).width}function Y5(n,t,e){let i=n;return typeof t.text!="string"&&(i=sA(t,e)),i}function sA(n,t){const e=n.text?n.text.length:0;return t*e}function K5(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var $5={id:"legend",_element:_1,start(n,t,e){const i=n.legend=new _1({ctx:n.ctx,options:e,chart:n});si.configure(n,i,e),si.addBox(n,i)},stop(n){si.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;si.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,a=e.chart;a.isDatasetVisible(i)?(a.hide(i),t.hidden=!0):(a.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:a,color:o,useBorderRadius:c,borderRadius:h}}=n.legend.options;return n._getSortedDatasetMetas().map(f=>{const m=f.controller.getStyle(e?0:void 0),y=ri(m.borderWidth);return{text:t[f.index].label,fillStyle:m.backgroundColor,fontColor:o,hidden:!f.visible,lineCap:m.borderCapStyle,lineDash:m.borderDash,lineDashOffset:m.borderDashOffset,lineJoin:m.borderJoinStyle,lineWidth:(y.width+y.height)/4,strokeStyle:m.borderColor,pointStyle:i||m.pointStyle,rotation:m.rotation,textAlign:a||m.textAlign,borderRadius:c&&(h||m.borderRadius),datasetIndex:f.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class rA extends Ka{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const a=Be(i.text)?i.text.length:1;this._padding=ri(i.padding);const o=a*hn(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:i,bottom:a,right:o,options:c}=this,h=c.align;let f=0,m,y,b;return this.isHorizontal()?(y=ln(h,i,o),b=e+t,m=o-i):(c.position==="left"?(y=i+t,b=ln(h,a,e),f=$e*-.5):(y=o-t,b=ln(h,e,a),f=$e*.5),m=a-e),{titleX:y,titleY:b,maxWidth:m,rotation:f}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=hn(e.font),o=i.lineHeight/2+this._padding.top,{titleX:c,titleY:h,maxWidth:f,rotation:m}=this._drawArgs(o);ou(t,e.text,0,0,i,{color:e.color,maxWidth:f,rotation:m,textAlign:t0(e.align),textBaseline:"middle",translation:[c,h]})}}function Q5(n,t){const e=new rA({ctx:n.ctx,options:t,chart:n});si.configure(n,e,t),si.addBox(n,e),n.titleBlock=e}var X5={id:"title",_element:rA,start(n,t,e){Q5(n,e)},stop(n){const t=n.titleBlock;si.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){const i=n.titleBlock;si.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Mc={average(n){if(!n.length)return!1;let t,e,i=new Set,a=0,o=0;for(t=0,e=n.length;t<e;++t){const h=n[t].element;if(h&&h.hasValue()){const f=h.tooltipPosition();i.add(f.x),a+=f.y,++o}}return o===0||i.size===0?!1:{x:[...i].reduce((h,f)=>h+f)/i.size,y:a/o}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,a=Number.POSITIVE_INFINITY,o,c,h;for(o=0,c=n.length;o<c;++o){const f=n[o].element;if(f&&f.hasValue()){const m=f.getCenterPoint(),y=qp(t,m);y<a&&(a=y,h=f)}}if(h){const f=h.tooltipPosition();e=f.x,i=f.y}return{x:e,y:i}}};function $i(n,t){return t&&(Be(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function Rs(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function W5(n,t){const{element:e,datasetIndex:i,index:a}=t,o=n.getDatasetMeta(i).controller,{label:c,value:h}=o.getLabelAndValue(a);return{chart:n,label:c,parsed:o.getParsed(a),raw:n.data.datasets[i].data[a],formattedValue:h,dataset:o.getDataset(),dataIndex:a,datasetIndex:i,element:e}}function b1(n,t){const e=n.chart.ctx,{body:i,footer:a,title:o}=n,{boxWidth:c,boxHeight:h}=t,f=hn(t.bodyFont),m=hn(t.titleFont),y=hn(t.footerFont),b=o.length,T=a.length,x=i.length,A=ri(t.padding);let I=A.height,N=0,B=i.reduce((at,nt)=>at+nt.before.length+nt.lines.length+nt.after.length,0);if(B+=n.beforeBody.length+n.afterBody.length,b&&(I+=b*m.lineHeight+(b-1)*t.titleSpacing+t.titleMarginBottom),B){const at=t.displayColors?Math.max(h,f.lineHeight):f.lineHeight;I+=x*at+(B-x)*f.lineHeight+(B-1)*t.bodySpacing}T&&(I+=t.footerMarginTop+T*y.lineHeight+(T-1)*t.footerSpacing);let Q=0;const X=function(at){N=Math.max(N,e.measureText(at).width+Q)};return e.save(),e.font=m.string,ee(n.title,X),e.font=f.string,ee(n.beforeBody.concat(n.afterBody),X),Q=t.displayColors?c+2+t.boxPadding:0,ee(i,at=>{ee(at.before,X),ee(at.lines,X),ee(at.after,X)}),Q=0,e.font=y.string,ee(n.footer,X),e.restore(),N+=A.width,{width:N,height:I}}function Z5(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function J5(n,t,e,i){const{x:a,width:o}=i,c=e.caretSize+e.caretPadding;if(n==="left"&&a+o+c>t.width||n==="right"&&a-o-c<0)return!0}function t3(n,t,e,i){const{x:a,width:o}=e,{width:c,chartArea:{left:h,right:f}}=n;let m="center";return i==="center"?m=a<=(h+f)/2?"left":"right":a<=o/2?m="left":a>=c-o/2&&(m="right"),J5(m,n,t,e)&&(m="center"),m}function v1(n,t,e){const i=e.yAlign||t.yAlign||Z5(n,e);return{xAlign:e.xAlign||t.xAlign||t3(n,t,e,i),yAlign:i}}function e3(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function n3(n,t,e){let{y:i,height:a}=n;return t==="top"?i+=e:t==="bottom"?i-=a+e:i-=a/2,i}function T1(n,t,e,i){const{caretSize:a,caretPadding:o,cornerRadius:c}=n,{xAlign:h,yAlign:f}=e,m=a+o,{topLeft:y,topRight:b,bottomLeft:T,bottomRight:x}=Gc(c);let A=e3(t,h);const I=n3(t,f,m);return f==="center"?h==="left"?A+=m:h==="right"&&(A-=m):h==="left"?A-=Math.max(y,T)+a:h==="right"&&(A+=Math.max(b,x)+a),{x:ii(A,0,i.width-t.width),y:ii(I,0,i.height-t.height)}}function _f(n,t,e){const i=ri(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function E1(n){return $i([],Rs(n))}function i3(n,t,e){return Ya(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function x1(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const aA={beforeTitle:As,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:As,beforeBody:As,beforeLabel:As,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return le(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:As,afterBody:As,beforeFooter:As,footer:As,afterFooter:As};function wn(n,t,e,i){const a=n[t].call(e,i);return typeof a>"u"?aA[t].call(e,i):a}class S1 extends Ka{static positioners=Mc;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),a=i.enabled&&e.options.animation&&i.animations,o=new Hw(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=i3(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,a=wn(i,"beforeTitle",this,t),o=wn(i,"title",this,t),c=wn(i,"afterTitle",this,t);let h=[];return h=$i(h,Rs(a)),h=$i(h,Rs(o)),h=$i(h,Rs(c)),h}getBeforeBody(t,e){return E1(wn(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,a=[];return ee(t,o=>{const c={before:[],lines:[],after:[]},h=x1(i,o);$i(c.before,Rs(wn(h,"beforeLabel",this,o))),$i(c.lines,wn(h,"label",this,o)),$i(c.after,Rs(wn(h,"afterLabel",this,o))),a.push(c)}),a}getAfterBody(t,e){return E1(wn(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,a=wn(i,"beforeFooter",this,t),o=wn(i,"footer",this,t),c=wn(i,"afterFooter",this,t);let h=[];return h=$i(h,Rs(a)),h=$i(h,Rs(o)),h=$i(h,Rs(c)),h}_createItems(t){const e=this._active,i=this.chart.data,a=[],o=[],c=[];let h=[],f,m;for(f=0,m=e.length;f<m;++f)h.push(W5(this.chart,e[f]));return t.filter&&(h=h.filter((y,b,T)=>t.filter(y,b,T,i))),t.itemSort&&(h=h.sort((y,b)=>t.itemSort(y,b,i))),ee(h,y=>{const b=x1(t.callbacks,y);a.push(wn(b,"labelColor",this,y)),o.push(wn(b,"labelPointStyle",this,y)),c.push(wn(b,"labelTextColor",this,y))}),this.labelColors=a,this.labelPointStyles=o,this.labelTextColors=c,this.dataPoints=h,h}update(t,e){const i=this.options.setContext(this.getContext()),a=this._active;let o,c=[];if(!a.length)this.opacity!==0&&(o={opacity:0});else{const h=Mc[i.position].call(this,a,this._eventPosition);c=this._createItems(i),this.title=this.getTitle(c,i),this.beforeBody=this.getBeforeBody(c,i),this.body=this.getBody(c,i),this.afterBody=this.getAfterBody(c,i),this.footer=this.getFooter(c,i);const f=this._size=b1(this,i),m=Object.assign({},h,f),y=v1(this.chart,i,m),b=T1(i,m,y,this.chart);this.xAlign=y.xAlign,this.yAlign=y.yAlign,o={opacity:1,x:b.x,y:b.y,width:f.width,height:f.height,caretX:h.x,caretY:h.y}}this._tooltipItems=c,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,a){const o=this.getCaretPosition(t,i,a);e.lineTo(o.x1,o.y1),e.lineTo(o.x2,o.y2),e.lineTo(o.x3,o.y3)}getCaretPosition(t,e,i){const{xAlign:a,yAlign:o}=this,{caretSize:c,cornerRadius:h}=i,{topLeft:f,topRight:m,bottomLeft:y,bottomRight:b}=Gc(h),{x:T,y:x}=t,{width:A,height:I}=e;let N,B,Q,X,at,nt;return o==="center"?(at=x+I/2,a==="left"?(N=T,B=N-c,X=at+c,nt=at-c):(N=T+A,B=N+c,X=at-c,nt=at+c),Q=N):(a==="left"?B=T+Math.max(f,y)+c:a==="right"?B=T+A-Math.max(m,b)-c:B=this.caretX,o==="top"?(X=x,at=X-c,N=B-c,Q=B+c):(X=x+I,at=X+c,N=B+c,Q=B-c),nt=X),{x1:N,x2:B,x3:Q,y1:X,y2:at,y3:nt}}drawTitle(t,e,i){const a=this.title,o=a.length;let c,h,f;if(o){const m=Ko(i.rtl,this.x,this.width);for(t.x=_f(this,i.titleAlign,i),e.textAlign=m.textAlign(i.titleAlign),e.textBaseline="middle",c=hn(i.titleFont),h=i.titleSpacing,e.fillStyle=i.titleColor,e.font=c.string,f=0;f<o;++f)e.fillText(a[f],m.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+h,f+1===o&&(t.y+=i.titleMarginBottom-h)}}_drawColorBox(t,e,i,a,o){const c=this.labelColors[i],h=this.labelPointStyles[i],{boxHeight:f,boxWidth:m}=o,y=hn(o.bodyFont),b=_f(this,"left",o),T=a.x(b),x=f<y.lineHeight?(y.lineHeight-f)/2:0,A=e.y+x;if(o.usePointStyle){const I={radius:Math.min(m,f)/2,pointStyle:h.pointStyle,rotation:h.rotation,borderWidth:1},N=a.leftForLtr(T,m)+m/2,B=A+f/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,Yp(t,I,N,B),t.strokeStyle=c.borderColor,t.fillStyle=c.backgroundColor,Yp(t,I,N,B)}else{t.lineWidth=Yt(c.borderWidth)?Math.max(...Object.values(c.borderWidth)):c.borderWidth||1,t.strokeStyle=c.borderColor,t.setLineDash(c.borderDash||[]),t.lineDashOffset=c.borderDashOffset||0;const I=a.leftForLtr(T,m),N=a.leftForLtr(a.xPlus(T,1),m-2),B=Gc(c.borderRadius);Object.values(B).some(Q=>Q!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,Kp(t,{x:I,y:A,w:m,h:f,radius:B}),t.fill(),t.stroke(),t.fillStyle=c.backgroundColor,t.beginPath(),Kp(t,{x:N,y:A+1,w:m-2,h:f-2,radius:B}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(I,A,m,f),t.strokeRect(I,A,m,f),t.fillStyle=c.backgroundColor,t.fillRect(N,A+1,m-2,f-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:a}=this,{bodySpacing:o,bodyAlign:c,displayColors:h,boxHeight:f,boxWidth:m,boxPadding:y}=i,b=hn(i.bodyFont);let T=b.lineHeight,x=0;const A=Ko(i.rtl,this.x,this.width),I=function(C){e.fillText(C,A.x(t.x+x),t.y+T/2),t.y+=T+o},N=A.textAlign(c);let B,Q,X,at,nt,lt,k;for(e.textAlign=c,e.textBaseline="middle",e.font=b.string,t.x=_f(this,N,i),e.fillStyle=i.bodyColor,ee(this.beforeBody,I),x=h&&N!=="right"?c==="center"?m/2+y:m+2+y:0,at=0,lt=a.length;at<lt;++at){for(B=a[at],Q=this.labelTextColors[at],e.fillStyle=Q,ee(B.before,I),X=B.lines,h&&X.length&&(this._drawColorBox(e,t,at,A,i),T=Math.max(b.lineHeight,f)),nt=0,k=X.length;nt<k;++nt)I(X[nt]),T=b.lineHeight;ee(B.after,I)}x=0,T=b.lineHeight,ee(this.afterBody,I),t.y-=o}drawFooter(t,e,i){const a=this.footer,o=a.length;let c,h;if(o){const f=Ko(i.rtl,this.x,this.width);for(t.x=_f(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=f.textAlign(i.footerAlign),e.textBaseline="middle",c=hn(i.footerFont),e.fillStyle=i.footerColor,e.font=c.string,h=0;h<o;++h)e.fillText(a[h],f.x(t.x),t.y+c.lineHeight/2),t.y+=c.lineHeight+i.footerSpacing}}drawBackground(t,e,i,a){const{xAlign:o,yAlign:c}=this,{x:h,y:f}=t,{width:m,height:y}=i,{topLeft:b,topRight:T,bottomLeft:x,bottomRight:A}=Gc(a.cornerRadius);e.fillStyle=a.backgroundColor,e.strokeStyle=a.borderColor,e.lineWidth=a.borderWidth,e.beginPath(),e.moveTo(h+b,f),c==="top"&&this.drawCaret(t,e,i,a),e.lineTo(h+m-T,f),e.quadraticCurveTo(h+m,f,h+m,f+T),c==="center"&&o==="right"&&this.drawCaret(t,e,i,a),e.lineTo(h+m,f+y-A),e.quadraticCurveTo(h+m,f+y,h+m-A,f+y),c==="bottom"&&this.drawCaret(t,e,i,a),e.lineTo(h+x,f+y),e.quadraticCurveTo(h,f+y,h,f+y-x),c==="center"&&o==="left"&&this.drawCaret(t,e,i,a),e.lineTo(h,f+b),e.quadraticCurveTo(h,f,h+b,f),e.closePath(),e.fill(),a.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,a=i&&i.x,o=i&&i.y;if(a||o){const c=Mc[t.position].call(this,this._active,this._eventPosition);if(!c)return;const h=this._size=b1(this,t),f=Object.assign({},c,this._size),m=v1(e,t,f),y=T1(t,f,m,e);(a._to!==y.x||o._to!==y.y)&&(this.xAlign=m.xAlign,this.yAlign=m.yAlign,this.width=h.width,this.height=h.height,this.caretX=c.x,this.caretY=c.y,this._resolveAnimations().update(this,y))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const a={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const c=ri(e.padding),h=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&h&&(t.save(),t.globalAlpha=i,this.drawBackground(o,t,a,e),Vw(t,e.textDirection),o.y+=c.top,this.drawTitle(o,t,e),this.drawBody(o,t,e),this.drawFooter(o,t,e),Pw(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,a=t.map(({datasetIndex:h,index:f})=>{const m=this.chart.getDatasetMeta(h);if(!m)throw new Error("Cannot find a dataset at index "+h);return{datasetIndex:h,element:m.data[f],index:f}}),o=!Zf(i,a),c=this._positionChanged(a,e);(o||c)&&(this._active=a,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const a=this.options,o=this._active||[],c=this._getActiveElements(t,o,e,i),h=this._positionChanged(c,t),f=e||!Zf(c,o)||h;return f&&(this._active=c,(a.enabled||a.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),f}_getActiveElements(t,e,i,a){const o=this.options;if(t.type==="mouseout")return[];if(!a)return e.filter(h=>this.chart.data.datasets[h.datasetIndex]&&this.chart.getDatasetMeta(h.datasetIndex).controller.getParsed(h.index)!==void 0);const c=this.chart.getElementsAtEventForMode(t,o.mode,o,i);return o.reverse&&c.reverse(),c}_positionChanged(t,e){const{caretX:i,caretY:a,options:o}=this,c=Mc[o.position].call(this,t,e);return c!==!1&&(i!==c.x||a!==c.y)}}var s3={id:"tooltip",_element:S1,positioners:Mc,afterInit(n,t,e){e&&(n.tooltip=new S1({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:aA},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const r3=(n,t,e,i)=>(typeof t=="string"?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function a3(n,t,e,i){const a=n.indexOf(t);if(a===-1)return r3(n,t,e,i);const o=n.lastIndexOf(t);return a!==o?e:a}const o3=(n,t)=>n===null?null:ii(Math.round(n),0,t);function w1(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class l3 extends ml{static id="category";static defaults={ticks:{callback:w1}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:a,label:o}of e)i[a]===o&&i.splice(a,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(le(t))return null;const i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:a3(i,t,qt(e,t),this._addedLabels),o3(e,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:a}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),e||(a=this.getLabels().length-1)),this.min=i,this.max=a}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,a=[];let o=this.getLabels();o=t===0&&e===o.length-1?o:o.slice(t,e+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let c=t;c<=e;c++)a.push({value:c});return a}getLabelForValue(t){return w1.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function c3(n,t){const e=[],{bounds:a,step:o,min:c,max:h,precision:f,count:m,maxTicks:y,maxDigits:b,includeBounds:T}=n,x=o||1,A=y-1,{min:I,max:N}=t,B=!le(c),Q=!le(h),X=!le(m),at=(N-I)/(b+1);let nt=SE((N-I)/A/x)*x,lt,k,C,D;if(nt<1e-14&&!B&&!Q)return[{value:I},{value:N}];D=Math.ceil(N/nt)-Math.floor(I/nt),D>A&&(nt=SE(D*nt/A/x)*x),le(f)||(lt=Math.pow(10,f),nt=Math.ceil(nt*lt)/lt),a==="ticks"?(k=Math.floor(I/nt)*nt,C=Math.ceil(N/nt)*nt):(k=I,C=N),B&&Q&&o&&R4((h-c)/o,nt/1e3)?(D=Math.round(Math.min((h-c)/nt,y)),nt=(h-c)/D,k=c,C=h):X?(k=B?c:k,C=Q?h:C,D=m-1,nt=(C-k)/D):(D=(C-k)/nt,Hc(D,Math.round(D),nt/1e3)?D=Math.round(D):D=Math.ceil(D));const P=Math.max(wE(nt),wE(k));lt=Math.pow(10,le(f)?P:f),k=Math.round(k*lt)/lt,C=Math.round(C*lt)/lt;let z=0;for(B&&(T&&k!==c?(e.push({value:c}),k<c&&z++,Hc(Math.round((k+z*nt)*lt)/lt,c,A1(c,at,n))&&z++):k<c&&z++);z<D;++z){const L=Math.round((k+z*nt)*lt)/lt;if(Q&&L>h)break;e.push({value:L})}return Q&&T&&C!==h?e.length&&Hc(e[e.length-1].value,h,A1(h,at,n))?e[e.length-1].value=h:e.push({value:h}):(!Q||C===h)&&e.push({value:C}),e}function A1(n,t,{horizontal:e,minRotation:i}){const a=Ma(i),o=(e?Math.sin(a):Math.cos(a))||.001,c=.75*t*(""+n).length;return Math.min(t/o,c)}class u3 extends ml{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return le(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:a,max:o}=this;const c=f=>a=e?a:f,h=f=>o=i?o:f;if(t){const f=il(a),m=il(o);f<0&&m<0?h(0):f>0&&m>0&&c(0)}if(a===o){let f=o===0?1:Math.abs(o*.05);h(o+f),t||c(a-f)}this.min=a,this.max=o}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:i}=t,a;return i?(a=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,a>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${a} ticks. Limiting to 1000.`),a=1e3)):(a=this.computeTickLimit(),e=e||11),e&&(a=Math.min(e,a)),a}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const a={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},o=this._range||this,c=c3(a,o);return t.bounds==="ticks"&&I4(c,this,"value"),t.reverse?(c.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),c}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const a=(i-e)/Math.max(t.length-1,1)/2;e-=a,i+=a}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return Cw(t,this.chart.options.locale,this.options.ticks.format)}}class h3 extends u3{static id="linear";static defaults={ticks:{callback:Rw.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=dn(t)?t:0,this.max=dn(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=Ma(this.options.ticks.minRotation),a=(t?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,o.lineHeight/a))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const Od={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Rn=Object.keys(Od);function C1(n,t){return n-t}function R1(n,t){if(le(t))return null;const e=n._adapter,{parser:i,round:a,isoWeekday:o}=n._parseOpts;let c=t;return typeof i=="function"&&(c=i(c)),dn(c)||(c=typeof i=="string"?e.parse(c,i):e.parse(c)),c===null?null:(a&&(c=a==="week"&&(ru(o)||o===!0)?e.startOf(c,"isoWeek",o):e.startOf(c,a)),+c)}function I1(n,t,e,i){const a=Rn.length;for(let o=Rn.indexOf(n);o<a-1;++o){const c=Od[Rn[o]],h=c.steps?c.steps:Number.MAX_SAFE_INTEGER;if(c.common&&Math.ceil((e-t)/(h*c.size))<=i)return Rn[o]}return Rn[a-1]}function f3(n,t,e,i,a){for(let o=Rn.length-1;o>=Rn.indexOf(e);o--){const c=Rn[o];if(Od[c].common&&n._adapter.diff(a,i,c)>=t-1)return c}return Rn[e?Rn.indexOf(e):0]}function d3(n){for(let t=Rn.indexOf(n)+1,e=Rn.length;t<e;++t)if(Od[Rn[t]].common)return Rn[t]}function k1(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:i,hi:a}=Jy(e,t),o=e[i]>=t?e[i]:e[a];n[o]=!0}}function m3(n,t,e,i){const a=n._adapter,o=+a.startOf(t[0].value,i),c=t[t.length-1].value;let h,f;for(h=o;h<=c;h=+a.add(h,1,i))f=e[h],f>=0&&(t[f].major=!0);return t}function D1(n,t,e){const i=[],a={},o=t.length;let c,h;for(c=0;c<o;++c)h=t[c],a[h]=c,i.push({value:h,major:!1});return o===0||!e?i:m3(n,i,a,e)}class N1 extends ml{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),a=this._adapter=new sV._date(t.adapters.date);a.init(e),Bc(i.displayFormats,a.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:R1(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:a,max:o,minDefined:c,maxDefined:h}=this.getUserBounds();function f(m){!c&&!isNaN(m.min)&&(a=Math.min(a,m.min)),!h&&!isNaN(m.max)&&(o=Math.max(o,m.max))}(!c||!h)&&(f(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&f(this.getMinMax(!1))),a=dn(a)&&!isNaN(a)?a:+e.startOf(Date.now(),i),o=dn(o)&&!isNaN(o)?o:+e.endOf(Date.now(),i)+1,this.min=Math.min(a,o-1),this.max=Math.max(a+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,a=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);const o=this.min,c=this.max,h=z4(a,o,c);return this._unit=e.unit||(i.autoSkip?I1(e.minUnit,this.min,this.max,this._getLabelCapacity(o)):f3(this,h.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:d3(this._unit),this.initOffsets(a),t.reverse&&h.reverse(),D1(this,h,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,i=0,a,o;this.options.offset&&t.length&&(a=this.getDecimalForValue(t[0]),t.length===1?e=1-a:e=(this.getDecimalForValue(t[1])-a)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?i=o:i=(o-this.getDecimalForValue(t[t.length-2]))/2);const c=t.length<3?.5:.25;e=ii(e,0,c),i=ii(i,0,c),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,a=this.options,o=a.time,c=o.unit||I1(o.minUnit,e,i,this._getLabelCapacity(e)),h=qt(a.ticks.stepSize,1),f=c==="week"?o.isoWeekday:!1,m=ru(f)||f===!0,y={};let b=e,T,x;if(m&&(b=+t.startOf(b,"isoWeek",f)),b=+t.startOf(b,m?"day":c),t.diff(i,e,c)>1e5*h)throw new Error(e+" and "+i+" are too far apart with stepSize of "+h+" "+c);const A=a.ticks.source==="data"&&this.getDataTimestamps();for(T=b,x=0;T<i;T=+t.add(T,h,c),x++)k1(y,T,A);return(T===i||a.bounds==="ticks"||x===1)&&k1(y,T,A),Object.keys(y).sort(C1).map(I=>+I)}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const a=this.options.time.displayFormats,o=this._unit,c=e||a[o];return this._adapter.format(t,c)}_tickFormatFunction(t,e,i,a){const o=this.options,c=o.ticks.callback;if(c)return he(c,[t,e,i],this);const h=o.time.displayFormats,f=this._unit,m=this._majorUnit,y=f&&h[f],b=m&&h[m],T=i[e],x=m&&b&&T&&T.major;return this._adapter.format(t,a||(x?b:y))}generateTickLabels(t){let e,i,a;for(e=0,i=t.length;e<i;++e)a=t[e],a.label=this._tickFormatFunction(a.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,a=Ma(this.isHorizontal()?e.maxRotation:e.minRotation),o=Math.cos(a),c=Math.sin(a),h=this._resolveTickFontOptions(0).size;return{w:i*o+h*c,h:i*c+h*o}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,a=i[e.unit]||i.millisecond,o=this._tickFormatFunction(t,0,D1(this,[t],this._majorUnit),a),c=this._getLabelSize(o),h=Math.floor(this.isHorizontal()?this.width/c.w:this.height/c.h)-1;return h>0?h:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;const a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(e=0,i=a.length;e<i;++e)t=t.concat(a[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const a=this.getLabels();for(e=0,i=a.length;e<i;++e)t.push(R1(this,a[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return P4(t.sort(C1))}}function bf(n,t,e){let i=0,a=n.length-1,o,c,h,f;e?(t>=n[i].pos&&t<=n[a].pos&&({lo:i,hi:a}=Oa(n,"pos",t)),{pos:o,time:h}=n[i],{pos:c,time:f}=n[a]):(t>=n[i].time&&t<=n[a].time&&({lo:i,hi:a}=Oa(n,"time",t)),{time:o,pos:h}=n[i],{time:c,pos:f}=n[a]);const m=c-o;return m?h+(f-h)*(t-o)/m:h}class V3 extends N1{static id="timeseries";static defaults=N1.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=bf(e,this.min),this._tableRange=bf(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,a=[],o=[];let c,h,f,m,y;for(c=0,h=t.length;c<h;++c)m=t[c],m>=e&&m<=i&&a.push(m);if(a.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(c=0,h=a.length;c<h;++c)y=a[c+1],f=a[c-1],m=a[c],Math.round((y+f)/2)!==m&&o.push({time:m,pos:c/(h-1)});return o}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((a,o)=>a-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(bf(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return bf(this._table,i*this._tableRange+this._minPos,!0)}}const oA="label";function M1(n,t){typeof n=="function"?n(t):n&&(n.current=t)}function g3(n,t){const e=n.options;e&&t&&Object.assign(e,t)}function lA(n,t){n.labels=t}function cA(n,t,e=oA){const i=[];n.datasets=t.map(a=>{const o=n.datasets.find(c=>c[e]===a[e]);return!o||!a.data||i.includes(o)?{...a}:(i.push(o),Object.assign(o,a),o)})}function p3(n,t=oA){const e={labels:[],datasets:[]};return lA(e,n.labels),cA(e,n.datasets,t),e}function y3(n,t){const{height:e=150,width:i=300,redraw:a=!1,datasetIdKey:o,type:c,data:h,options:f,plugins:m=[],fallbackContent:y,updateMode:b,...T}=n,x=mt.useRef(null),A=mt.useRef(null),I=()=>{x.current&&(A.current=new Dd(x.current,{type:c,data:p3(h,o),options:f&&{...f},plugins:m}),M1(t,A.current))},N=()=>{M1(t,null),A.current&&(A.current.destroy(),A.current=null)};return mt.useEffect(()=>{!a&&A.current&&f&&g3(A.current,f)},[a,f]),mt.useEffect(()=>{!a&&A.current&&lA(A.current.config.data,h.labels)},[a,h.labels]),mt.useEffect(()=>{!a&&A.current&&h.datasets&&cA(A.current.config.data,h.datasets,o)},[a,h.datasets]),mt.useEffect(()=>{A.current&&(a?(N(),setTimeout(I)):A.current.update(b))},[a,f,h.labels,h.datasets,b]),mt.useEffect(()=>{A.current&&(N(),setTimeout(I))},[c]),mt.useEffect(()=>(I(),()=>N()),[]),w.jsx("canvas",{ref:x,role:"img",height:e,width:i,...T,children:y})}const _3=mt.forwardRef(y3);function b3(n,t){return Dd.register(t),mt.forwardRef((e,i)=>w.jsx(_3,{...e,ref:i,type:n}))}const v3=b3("line",iV);Dd.register(l3,h3,E5,Nd,X5,s3,$5,H5);const T3={apiKey:"AIzaSyAvBYzH_B2CY7e5tqJkHqj83hT62POyVT4",authDomain:"tracker-7953b.firebaseapp.com",projectId:"tracker-7953b",storageBucket:"tracker-7953b.firebasestorage.app",messagingSenderId:"277129788312",appId:"1:277129788312:web:ed28693354f33d1d6609ed"},uA=q1(T3),Yc=tD(uA),Ye=ZM(uA),en=typeof __app_id<"u"?__app_id:"default-app-id",rd={blue:{label:"Blue",primary:"bg-blue-600 hover:bg-blue-700 text-white shadow-blue-600/20",secondary:"bg-blue-50 dark:bg-blue-900/20 amoled:bg-blue-900/40 text-blue-600 dark:text-blue-400",border:"border-blue-200 dark:border-blue-800",text:"text-blue-600 dark:text-blue-400",ring:"focus:ring-blue-500",chartLine:"#2563EB",chartFill:"rgba(37, 99, 235, 0.1)",chartPoint:"#2563EB",activeNav:"bg-blue-50 dark:bg-blue-900/20 amoled:bg-blue-900/40 border-blue-200 dark:border-blue-800",activeNavText:"text-blue-700 dark:text-blue-400"},purple:{label:"Purple",primary:"bg-purple-600 hover:bg-purple-700 text-white shadow-purple-600/20",secondary:"bg-purple-50 dark:bg-purple-900/20 amoled:bg-purple-900/40 text-purple-600 dark:text-purple-400",border:"border-purple-200 dark:border-purple-800",text:"text-purple-600 dark:text-purple-400",ring:"focus:ring-purple-500",chartLine:"#9333EA",chartFill:"rgba(147, 51, 234, 0.1)",chartPoint:"#9333EA",activeNav:"bg-purple-50 dark:bg-purple-900/20 amoled:bg-purple-900/40 border-purple-200 dark:border-purple-800",activeNavText:"text-purple-700 dark:text-purple-400"},emerald:{label:"Emerald",primary:"bg-emerald-600 hover:bg-emerald-700 text-white shadow-emerald-600/20",secondary:"bg-emerald-50 dark:bg-emerald-900/20 amoled:bg-emerald-900/40 text-emerald-600 dark:text-emerald-400",border:"border-emerald-200 dark:border-emerald-800",text:"text-emerald-600 dark:text-emerald-400",ring:"focus:ring-emerald-500",chartLine:"#059669",chartFill:"rgba(5, 150, 105, 0.1)",chartPoint:"#059669",activeNav:"bg-emerald-50 dark:bg-emerald-900/20 amoled:bg-emerald-900/40 border-emerald-200 dark:border-emerald-800",activeNavText:"text-emerald-700 dark:text-emerald-400"},amber:{label:"Amber",primary:"bg-amber-500 hover:bg-amber-600 text-white shadow-amber-500/20",secondary:"bg-amber-50 dark:bg-amber-900/20 amoled:bg-amber-900/40 text-amber-600 dark:text-amber-400",border:"border-amber-200 dark:border-amber-800",text:"text-amber-600 dark:text-amber-400",ring:"focus:ring-amber-500",chartLine:"#D97706",chartFill:"rgba(217, 119, 6, 0.1)",chartPoint:"#D97706",activeNav:"bg-amber-50 dark:bg-amber-900/20 amoled:bg-amber-900/40 border-amber-200 dark:border-amber-800",activeNavText:"text-amber-700 dark:text-amber-400"},rose:{label:"Rose",primary:"bg-rose-600 hover:bg-rose-700 text-white shadow-rose-600/20",secondary:"bg-rose-50 dark:bg-rose-900/20 amoled:bg-rose-900/40 text-rose-600 dark:text-rose-400",border:"border-rose-200 dark:border-rose-800",text:"text-rose-600 dark:text-rose-400",ring:"focus:ring-rose-500",chartLine:"#E11D48",chartFill:"rgba(225, 29, 72, 0.1)",chartPoint:"#E11D48",activeNav:"bg-rose-50 dark:bg-rose-900/20 amoled:bg-rose-900/40 border-rose-200 dark:border-rose-800",activeNavText:"text-rose-700 dark:text-rose-400"},indigo:{label:"Indigo",primary:"bg-indigo-600 hover:bg-indigo-700 text-white shadow-indigo-600/20",secondary:"bg-indigo-50 dark:bg-indigo-900/20 amoled:bg-indigo-900/40 text-indigo-600 dark:text-indigo-400",border:"border-indigo-200 dark:border-indigo-800",text:"text-indigo-600 dark:text-indigo-400",ring:"focus:ring-indigo-500",chartLine:"#4F46E5",chartFill:"rgba(79, 70, 229, 0.1)",chartPoint:"#4F46E5",activeNav:"bg-indigo-50 dark:bg-indigo-900/20 amoled:bg-indigo-900/40 border-indigo-200 dark:border-indigo-800",activeNavText:"text-indigo-700 dark:text-indigo-400"}},Ir=[{name:"Red",class:"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/40 dark:text-red-300 dark:border-red-800",dot:"bg-red-500"},{name:"Green",class:"bg-emerald-100 text-emerald-800 border-emerald-200 dark:bg-emerald-900/40 dark:text-emerald-300 dark:border-emerald-800",dot:"bg-emerald-500"},{name:"Blue",class:"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/40 dark:text-blue-300 dark:border-blue-800",dot:"bg-blue-500"},{name:"Yellow",class:"bg-yellow-100 text-yellow-800 border-yellow-200 dark:bg-yellow-900/40 dark:text-yellow-300 dark:border-yellow-800",dot:"bg-yellow-500"},{name:"Purple",class:"bg-purple-100 text-purple-800 border-purple-200 dark:bg-purple-900/40 dark:text-purple-300 dark:border-purple-800",dot:"bg-purple-500"},{name:"Orange",class:"bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900/40 dark:text-orange-300 dark:border-orange-800",dot:"bg-orange-500"},{name:"Pink",class:"bg-pink-100 text-pink-800 border-pink-200 dark:bg-pink-900/40 dark:text-pink-300 dark:border-pink-800",dot:"bg-pink-500"},{name:"Indigo",class:"bg-indigo-100 text-indigo-800 border-indigo-200 dark:bg-indigo-900/40 dark:text-indigo-300 dark:border-indigo-800",dot:"bg-indigo-500"}],hA=n=>{if(!n||n.length===0)return Ir[0];const t=new Set(n.map(i=>i.colorClass)),e=Ir.filter(i=>!t.has(i.class));return e.length>0?e[0]:Ir[Math.floor(Math.random()*Ir.length)]},fA=n=>new Date(n).toLocaleDateString("en-US",{month:"short",day:"numeric"}),Ei=n=>{if(!n)return"";const t=new Date(n);return`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`},dA=(n,t)=>{const e=new Date(n,t,1),a=new Date(n,t+1,0).getDate(),o=e.getDay();return{daysInMonth:a,startDay:o}},E3=n=>{if(!n||n.length===0)return 0;const t=n.map(Number).filter(a=>!isNaN(a));if(t.length===0)return 0;const e=[...t].sort((a,o)=>a-o),i=Math.floor(e.length/2);return e.length%2===0?(e[i-1]+e[i])/2:e[i]},x3=({value:n,onChange:t,theme:e})=>{const[i,a]=mt.useState(new Date(n||new Date)),{daysInMonth:o,startDay:c}=mt.useMemo(()=>dA(i.getFullYear(),i.getMonth()),[i]);mt.useEffect(()=>{if(n){const x=new Date(n);(x.getMonth()!==i.getMonth()||x.getFullYear()!==i.getFullYear())&&a(x)}},[n]);const h=(x,A)=>{A.preventDefault();const I=new Date(i);I.setMonth(I.getMonth()+x),a(I)},f=(x,A)=>{A.preventDefault();const I=new Date(i.getFullYear(),i.getMonth(),x);t(Ei(I))},m=i.toLocaleDateString("en-US",{month:"long",year:"numeric"}),y=n?new Date(n):new Date,b=x=>y.getDate()===x&&y.getMonth()===i.getMonth()&&y.getFullYear()===i.getFullYear(),T=[];for(let x=0;x<c;x++)T.push(w.jsx("div",{className:"h-8 md:h-10"},`empty-${x}`));for(let x=1;x<=o;x++){const A=b(x);T.push(w.jsx("button",{onClick:I=>f(x,I),className:`
                    h-8 md:h-10 w-full rounded-lg text-sm font-medium transition-all duration-200 active:scale-95
                    ${A?`${e.primary} shadow-md`:"text-zinc-600 dark:text-zinc-400 hover:bg-zinc-100 dark:hover:bg-zinc-700"}
                `,children:x},x))}return w.jsxs("div",{className:"border border-zinc-200 dark:border-zinc-700 rounded-xl p-4 bg-zinc-50 dark:bg-zinc-900/50 animate-in zoom-in-95 duration-300",children:[w.jsxs("div",{className:"flex items-center justify-between mb-4",children:[w.jsx("span",{className:"font-bold text-zinc-800 dark:text-white",children:m}),w.jsxs("div",{className:"flex space-x-1",children:[w.jsx("button",{onClick:x=>h(-1,x),className:"p-1.5 hover:bg-zinc-200 dark:hover:bg-zinc-700 rounded-lg text-zinc-500",children:w.jsx(dw,{className:"w-4 h-4"})}),w.jsx("button",{onClick:x=>h(1,x),className:"p-1.5 hover:bg-zinc-200 dark:hover:bg-zinc-700 rounded-lg text-zinc-500",children:w.jsx($y,{className:"w-4 h-4"})})]})]}),w.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[["Su","Mo","Tu","We","Th","Fr","Sa"].map(x=>w.jsx("div",{className:"text-center text-xs font-semibold text-zinc-400 mb-1",children:x},x)),T]})]})},S3=({theme:n})=>w.jsxs("div",{className:"flex flex-col items-center justify-center animate-in fade-in zoom-in duration-500",children:[w.jsx("div",{className:`w-16 h-16 rounded-full flex items-center justify-center mb-4 shadow-lg ${n.primary.replace("text-white","text-white")}`,children:w.jsx(Df,{className:"text-white w-10 h-10 animate-bounce"})}),w.jsx("h2",{className:"text-2xl font-bold text-zinc-800 dark:text-white",children:"Success!"})]}),w3=({isOpen:n,onLoginSuccess:t})=>{const[e,i]=mt.useState(""),[a,o]=mt.useState(""),[c,h]=mt.useState(!1),[f,m]=mt.useState(""),[y,b]=mt.useState(!1);if(!n)return null;const T=async I=>{I.preventDefault(),h(!0),m("");try{try{await PI(Yc,e,a)}catch(N){if(N.code==="auth/user-not-found"||N.code==="auth/invalid-credential")await VI(Yc,e,a);else throw N}b(!0),setTimeout(t,1500)}catch(N){m(N.message.replace("Firebase:","").trim()),h(!1)}},x=async()=>{h(!0);try{await NI(Yc),b(!0),setTimeout(t,1500)}catch{m("Could not sign in as guest."),h(!1)}};return w.jsx("div",{className:"fixed inset-0 bg-zinc-900/60 backdrop-blur-sm z-50 flex items-center justify-center p-4 transition-all",children:w.jsx("div",{className:"bg-white dark:bg-zinc-800 rounded-2xl shadow-2xl p-8 w-full max-w-md border border-zinc-200 dark:border-zinc-700 relative overflow-hidden animate-in fade-in zoom-in-95 duration-200",children:y?w.jsx(S3,{theme:{primary:"bg-green-500"}}):w.jsxs(w.Fragment,{children:[w.jsxs("div",{className:"text-center mb-8",children:[w.jsx("div",{className:"bg-blue-600 w-12 h-12 rounded-xl mx-auto flex items-center justify-center mb-4 shadow-lg shadow-blue-600/20",children:w.jsx(kf,{className:"text-white w-6 h-6"})}),w.jsx("h2",{className:"text-2xl font-bold text-zinc-900 dark:text-white",children:"Welcome to TrackIt"}),w.jsx("p",{className:"text-zinc-500 dark:text-zinc-400 mt-2",children:"Sync your progress or continue as guest"})]}),w.jsxs("form",{onSubmit:T,className:"space-y-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"Email"}),w.jsx("input",{type:"email",required:!0,className:"w-full px-4 py-2 rounded-lg bg-zinc-50 dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-700 focus:ring-2 focus:ring-blue-500 outline-none dark:text-white transition-all",value:e,onChange:I=>i(I.target.value)})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"Password"}),w.jsx("input",{type:"password",required:!0,className:"w-full px-4 py-2 rounded-lg bg-zinc-50 dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-700 focus:ring-2 focus:ring-blue-500 outline-none dark:text-white transition-all",value:a,onChange:I=>o(I.target.value)})]}),f&&w.jsx("p",{className:"text-red-500 text-sm",children:f}),w.jsx("button",{type:"submit",disabled:c,className:"w-full py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-medium shadow-lg shadow-blue-600/20 transition-all transform active:scale-95 disabled:opacity-50",children:c?"Processing...":"Continue"})]}),w.jsx("div",{className:"mt-6 pt-6 border-t border-zinc-200 dark:border-zinc-700",children:w.jsx("button",{onClick:x,disabled:c,className:"w-full py-2 text-zinc-600 dark:text-zinc-400 hover:text-zinc-900 dark:hover:text-white font-medium transition-colors",children:"Continue as Guest"})})]})})})},A3=({isOpen:n,onClose:t,user:e,tags:i,onTagsChange:a,theme:o,onThemeChange:c,currentThemeKey:h,onImport:f,themeMode:m,onThemeModeChange:y})=>{const[b,T]=mt.useState(""),[x,A]=mt.useState(!1),[I,N]=mt.useState(e?.displayName||""),[B,Q]=mt.useState(null),[X,at]=mt.useState(""),nt=mt.useRef(null);mt.useEffect(()=>{e&&N(e.displayName||(e.isAnonymous?"Guest User":"User"))},[e]);const lt=async()=>{if(!b.trim())return;const J={id:Date.now(),name:b,colorClass:hA(i).class},H=[...i,J];a(H),T("")},k=async J=>{const H=i.filter(ot=>ot.id!==J);a(H)},C=J=>{Q(J.id),at(J.name)},D=()=>{if(!X.trim())return;const J=i.map(H=>H.id===B?{...H,name:X}:H);a(J),Q(null)},P=J=>{const H=i.find(ft=>ft.id===J);if(!H)return;const pt=(Ir.findIndex(ft=>ft.class===H.colorClass)+1)%Ir.length,St=i.map(ft=>ft.id===J?{...ft,colorClass:Ir[pt].class}:ft);a(St)},z=async()=>{try{await jI(e,{displayName:I}),A(!1)}catch(J){console.error("Error updating profile",J)}},L=async()=>{try{const J={version:1,timestamp:new Date().toISOString(),settings:{tags:i,theme:h,mode:m},trackers:[]},H=Up(nl(Ye,"artifacts",en,"users",e.uid,"trackers")),ot=await gE(H);for(const M of ot.docs){const W={id:M.id,...M.data()},ut=await gE(nl(Ye,"artifacts",en,"users",e.uid,"trackers",M.id,"entries"));W.entries=ut.docs.map(dt=>({id:dt.id,...dt.data()})),J.trackers.push(W)}const pt=new Blob([JSON.stringify(J,null,2)],{type:"application/json"}),St=URL.createObjectURL(pt),ft=document.createElement("a");ft.href=St,ft.download=`trackit-backup-${Ei(new Date)}.json`,document.body.appendChild(ft),ft.click(),document.body.removeChild(ft)}catch(J){console.error("Export Error",J),alert("Failed to export data. Please try again.")}},O=()=>{nt.current?.click()},Ct=J=>{const H=J.target.files[0];if(!H)return;const ot=new FileReader;ot.onload=pt=>{try{const St=JSON.parse(pt.target.result);f(St)}catch{alert("Invalid backup file.")}},ot.readAsText(H),J.target.value=null};return n?w.jsx("div",{className:"fixed inset-0 bg-zinc-900/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:t,children:w.jsxs("div",{className:"bg-white dark:bg-zinc-800 amoled:bg-black amoled:border-zinc-800 rounded-2xl shadow-2xl w-full max-w-lg overflow-hidden animate-in fade-in zoom-in-95 duration-300",onClick:J=>J.stopPropagation(),children:[w.jsxs("div",{className:"p-6 border-b border-zinc-200 dark:border-zinc-700 amoled:border-zinc-800 flex justify-between items-center",children:[w.jsx("h2",{className:"text-xl font-bold dark:text-white",children:"Settings"}),w.jsx("button",{onClick:t,children:w.jsx(Uc,{className:"w-5 h-5 text-zinc-500"})})]}),w.jsxs("div",{className:"p-6 space-y-8 max-h-[80vh] overflow-y-auto",children:[w.jsxs("div",{className:"flex items-center space-x-4",children:[w.jsx("div",{className:"w-16 h-16 bg-zinc-100 dark:bg-zinc-700 rounded-full flex items-center justify-center text-3xl shrink-0",children:e?.isAnonymous?"":""}),w.jsxs("div",{className:"flex-1",children:[w.jsx("div",{className:"flex items-center space-x-2 mb-1",children:x?w.jsxs(w.Fragment,{children:[w.jsx("input",{value:I,onChange:J=>N(J.target.value),className:"px-3 py-1 rounded bg-zinc-50 dark:bg-zinc-900 amoled:bg-zinc-900 border border-zinc-200 dark:border-zinc-700 dark:text-white flex-1",autoFocus:!0}),w.jsx("button",{onClick:z,className:"p-1.5 bg-green-500 text-white rounded hover:bg-green-600",children:w.jsx(Df,{className:"w-4 h-4"})}),w.jsx("button",{onClick:()=>A(!1),className:"p-1.5 bg-zinc-200 dark:bg-zinc-700 text-zinc-500 rounded hover:bg-zinc-300",children:w.jsx(Uc,{className:"w-4 h-4"})})]}):w.jsxs(w.Fragment,{children:[w.jsx("h3",{className:"font-bold dark:text-white text-lg",children:e?.displayName||(e?.isAnonymous?"Guest User":"User")}),w.jsx("button",{onClick:()=>A(!0),className:"p-1 text-zinc-400 hover:text-blue-500 rounded-full",children:w.jsx(pw,{className:"w-4 h-4"})})]})}),w.jsx("p",{className:"text-sm text-zinc-500",children:e?.email||"Anonymous Session"})]})]}),w.jsxs("div",{children:[w.jsxs("h3",{className:"font-bold mb-3 dark:text-white flex items-center gap-2",children:[w.jsx(gw,{className:"w-4 h-4 text-zinc-400"})," Theme Mode"]}),w.jsx("div",{className:"flex bg-zinc-100 dark:bg-zinc-700 amoled:bg-zinc-900 rounded-lg p-1",children:["light","dark","amoled"].map(J=>w.jsx("button",{onClick:()=>y(J),className:`flex-1 py-2 text-sm font-medium rounded-md transition-all capitalize ${m===J?"bg-white dark:bg-zinc-600 amoled:bg-zinc-800 shadow text-zinc-900 dark:text-white":"text-zinc-500 dark:text-zinc-400"}`,children:J==="amoled"?"True Dark":J},J))})]}),w.jsxs("div",{children:[w.jsxs("h3",{className:"font-bold mb-3 dark:text-white flex items-center gap-2",children:[w.jsx(NO,{className:"w-4 h-4 text-zinc-400"})," Accent Color"]}),w.jsx("div",{className:"grid grid-cols-6 gap-2",children:Object.keys(rd).map(J=>{const H=rd[J],ot=H.primary.split(" ")[0];return w.jsx("button",{onClick:()=>c(J),className:`h-10 rounded-full ${ot} transition-transform hover:scale-110 flex items-center justify-center shadow-sm ${h===J?"ring-2 ring-offset-2 ring-zinc-400 dark:ring-offset-zinc-800":""}`,title:H.label,children:h===J&&w.jsx(Df,{className:"w-4 h-4 text-white"})},J)})})]}),w.jsxs("div",{children:[w.jsx("h3",{className:"font-bold mb-3 dark:text-white",children:"Manage Tags"}),w.jsxs("div",{className:"flex gap-2 mb-3",children:[w.jsx("input",{value:b,onChange:J=>T(J.target.value),placeholder:"New Tag Name",className:"flex-1 px-3 py-1.5 text-sm rounded-lg border dark:bg-zinc-900 amoled:bg-zinc-900 dark:border-zinc-700 dark:text-white",onKeyDown:J=>J.key==="Enter"&&lt()}),w.jsx("button",{onClick:lt,disabled:!b.trim(),className:"text-sm bg-zinc-100 dark:bg-zinc-700 hover:bg-zinc-200 px-3 py-1.5 rounded-lg font-medium transition-colors dark:text-white",children:"Add"})]}),w.jsxs("div",{className:"flex flex-wrap gap-2",children:[i.map(J=>B===J.id?w.jsxs("div",{className:`flex items-center gap-1 border rounded-lg p-1 bg-white dark:bg-zinc-800 amoled:bg-zinc-900 ${o.border}`,children:[w.jsx("input",{value:X,onChange:H=>at(H.target.value),className:"w-24 text-sm px-1 outline-none dark:bg-zinc-800 amoled:bg-zinc-900 dark:text-white bg-transparent",autoFocus:!0}),w.jsx("button",{onClick:()=>P(J.id),className:"p-1 hover:bg-zinc-100 dark:hover:bg-zinc-700 rounded-full",title:"Change Color",children:w.jsx("div",{className:`w-4 h-4 rounded-full ${Ir.find(H=>H.class===J.colorClass)?.dot||"bg-zinc-400"}`})}),w.jsx("button",{onClick:D,className:"p-1 text-green-500 hover:bg-zinc-100 dark:hover:bg-zinc-700 rounded",children:w.jsx(Df,{className:"w-3 h-3"})})]},J.id):w.jsxs("span",{className:`${J.colorClass} pl-3 pr-2 py-1 rounded-full text-sm flex items-center border cursor-pointer hover:opacity-80 transition-opacity`,onClick:()=>C(J),title:"Click to edit",children:[J.name,w.jsx("button",{className:"ml-2 p-0.5 hover:bg-black/10 rounded-full",onClick:H=>{H.stopPropagation(),k(J.id)},children:w.jsx(Uc,{className:"w-3 h-3"})})]},J.id)),i.length===0&&w.jsx("p",{className:"text-sm text-zinc-400",children:"No tags yet."})]})]}),w.jsxs("div",{className:"pt-4 border-t border-zinc-100 dark:border-zinc-700",children:[w.jsx("h3",{className:"font-bold mb-3 dark:text-white",children:"Data Management"}),w.jsxs("div",{className:"flex gap-4",children:[w.jsxs("button",{onClick:L,className:"flex-1 flex flex-col items-center justify-center p-4 rounded-xl border border-zinc-200 dark:border-zinc-700 hover:bg-zinc-50 dark:hover:bg-zinc-700/50 transition-colors group",children:[w.jsx(AO,{className:`w-6 h-6 mb-2 ${o.text}`}),w.jsx("span",{className:"text-sm font-medium dark:text-white",children:"Export Data"})]}),w.jsxs("button",{onClick:O,className:"flex-1 flex flex-col items-center justify-center p-4 rounded-xl border border-zinc-200 dark:border-zinc-700 hover:bg-zinc-50 dark:hover:bg-zinc-700/50 transition-colors group",children:[w.jsx(GO,{className:`w-6 h-6 mb-2 ${o.text}`}),w.jsx("span",{className:"text-sm font-medium dark:text-white",children:"Import Data"})]}),w.jsx("input",{type:"file",ref:nt,onChange:Ct,accept:".json",className:"hidden"})]})]}),w.jsx("button",{onClick:()=>FI(Yc),className:"w-full py-3 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-xl transition-colors font-medium",children:"Sign Out"})]})]})}):null},C3=({isOpen:n,onClose:t,user:e,editTracker:i=null,availableTags:a,onTagsChange:o,theme:c})=>{const[h,f]=mt.useState(""),[m,y]=mt.useState("numeric"),[b,T]=mt.useState(""),[x,A]=mt.useState("stars"),[I,N]=mt.useState("increase"),[B,Q]=mt.useState(""),[X,at]=mt.useState(""),[nt,lt]=mt.useState(!1),[k,C]=mt.useState("graph"),[D,P]=mt.useState([]),[z,L]=mt.useState(!0),[O,Ct]=mt.useState(!1),[J,H]=mt.useState("");if(mt.useEffect(()=>{i?(f(i.name),y(i.type),T(i.unit||""),A(i.ratingSystem||"stars"),N(i.goalDirection||"none"),Q(i.targetValue||""),at(i.tolerance||""),C(i.preferredView||"graph"),P(i.tags||[]),L(i.enableStreak!==void 0?i.enableStreak:!0),lt(!0),Ct(!1)):(f(""),y("numeric"),T(""),N("increase"),Q(""),at(""),C("graph"),P([]),L(!0),lt(!1),Ct(!1))},[i,n]),!n)return null;const ot=M=>{D.some(W=>W.id===M.id)?P(D.filter(W=>W.id!==M.id)):P([...D,M])},pt=()=>{if(!J.trim())return;const M={id:Date.now(),name:J,colorClass:hA(a).class};o([...a,M]),P([...D,M]),H("")},St=async()=>{if(!h.trim())return;const M={name:h,type:m,unit:m==="numeric"?b:null,ratingSystem:m==="rating"?x:null,goalDirection:I,targetValue:I==="target"&&B?parseFloat(B):null,tolerance:X?parseFloat(X):0,preferredView:k,tags:D,enableStreak:z,updatedAt:Bp()};i?await lw(ei(Ye,"artifacts",en,"users",e.uid,"trackers",i.id),M):await uw(nl(Ye,"artifacts",en,"users",e.uid,"trackers"),{...M,createdAt:Bp()}),t()},ft=async()=>{if(i)try{const M=ei(Ye,"artifacts",en,"users",e.uid,"trackers",i.id);await cw(M),t()}catch(M){console.error("Error deleting tracker",M)}};return w.jsx("div",{className:"fixed inset-0 bg-zinc-900/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:t,children:w.jsxs("div",{className:"bg-white dark:bg-zinc-800 amoled:bg-black amoled:border-zinc-800 rounded-2xl shadow-2xl w-full max-w-lg overflow-hidden animate-in fade-in zoom-in-95 duration-300",onClick:M=>M.stopPropagation(),children:[w.jsxs("div",{className:"p-6 border-b border-zinc-200 dark:border-zinc-700 amoled:border-zinc-800 flex justify-between items-center",children:[w.jsx("h2",{className:"text-xl font-bold dark:text-white",children:i?"Edit Tracker":"New Tracker"}),w.jsx("button",{onClick:t,children:w.jsx(Uc,{className:"w-5 h-5 text-zinc-500"})})]}),w.jsxs("div",{className:"p-6 space-y-6 max-h-[80vh] overflow-y-auto",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"Name"}),w.jsx("input",{value:h,onChange:M=>f(M.target.value),className:`w-full px-4 py-2 rounded-lg bg-zinc-50 dark:bg-zinc-900 amoled:bg-zinc-900 border border-zinc-200 dark:border-zinc-700 dark:text-white focus:outline-none focus:ring-2 ${c.ring}`,placeholder:"e.g. Water Intake, Meditation"})]}),w.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"Type"}),w.jsxs("div",{className:"relative",children:[w.jsxs("select",{disabled:!!i,value:m,onChange:M=>y(M.target.value),className:"w-full px-4 py-2 rounded-lg bg-zinc-50 dark:bg-zinc-900 amoled:bg-zinc-900 border border-zinc-200 dark:border-zinc-700 dark:text-white appearance-none disabled:opacity-50",children:[w.jsx("option",{value:"numeric",children:"Numeric"}),w.jsx("option",{value:"boolean",children:"Yes / No"}),w.jsx("option",{value:"rating",children:"Rating"})]}),w.jsx(tp,{className:"absolute right-3 top-3 w-4 h-4 text-zinc-400 pointer-events-none"})]})]}),m==="numeric"&&w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"Units"}),w.jsx("input",{value:b,onChange:M=>T(M.target.value),className:`w-full px-4 py-2 rounded-lg bg-zinc-50 dark:bg-zinc-900 amoled:bg-zinc-900 border border-zinc-200 dark:border-zinc-700 dark:text-white focus:outline-none focus:ring-2 ${c.ring}`,placeholder:"e.g. ml, pages, km"})]}),m==="rating"&&w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"System"}),w.jsxs("div",{className:"relative",children:[w.jsxs("select",{value:x,onChange:M=>A(M.target.value),className:"w-full px-4 py-2 rounded-lg bg-zinc-50 dark:bg-zinc-900 amoled:bg-zinc-900 border border-zinc-200 dark:border-zinc-700 dark:text-white appearance-none",children:[w.jsx("option",{value:"stars",children:"5 Stars"}),w.jsx("option",{value:"colors",children:"Traffic Lights"})]}),w.jsx(tp,{className:"absolute right-3 top-3 w-4 h-4 text-zinc-400 pointer-events-none"})]})]})]}),w.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-2",children:"Goal Direction"}),w.jsxs("div",{className:"relative",children:[w.jsxs("select",{value:I,onChange:M=>N(M.target.value),className:"w-full px-4 py-2 rounded-lg bg-zinc-50 dark:bg-zinc-900 amoled:bg-zinc-900 border border-zinc-200 dark:border-zinc-700 dark:text-white appearance-none",children:[w.jsx("option",{value:"increase",children:"Increase"}),w.jsx("option",{value:"decrease",children:"Decrease"}),w.jsx("option",{value:"target",children:"Target Value"}),w.jsx("option",{value:"none",children:"None"})]}),w.jsx(tp,{className:"absolute right-3 top-3 w-4 h-4 text-zinc-400 pointer-events-none"})]})]}),I==="target"&&m!=="boolean"&&w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-2",children:"Target Value"}),w.jsx("input",{type:"number",value:B,onChange:M=>Q(M.target.value),className:`w-full px-4 py-2 rounded-lg bg-zinc-50 dark:bg-zinc-900 amoled:bg-zinc-900 border border-zinc-200 dark:border-zinc-700 dark:text-white focus:outline-none focus:ring-2 ${c.ring}`,placeholder:"2000"})]})]}),w.jsxs("div",{className:"border rounded-xl border-zinc-200 dark:border-zinc-700 overflow-hidden",children:[w.jsxs("button",{onClick:()=>lt(!nt),className:"w-full flex justify-between items-center p-4 bg-zinc-50 dark:bg-zinc-900 amoled:bg-zinc-900 text-zinc-700 dark:text-zinc-300 font-medium",children:["Advanced Settings",w.jsx($y,{className:`w-4 h-4 transition-transform ${nt?"rotate-90":""}`})]}),nt&&w.jsxs("div",{className:"p-4 bg-white dark:bg-zinc-800 amoled:bg-black space-y-6 animate-in slide-in-from-top-2 duration-300",children:[m==="numeric"&&I==="target"&&w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"Goal Tolerance (+/-)"}),w.jsx("input",{type:"number",value:X,onChange:M=>at(M.target.value),className:`w-full px-4 py-2 rounded-lg bg-zinc-50 dark:bg-zinc-900 amoled:bg-zinc-900 border border-zinc-200 dark:border-zinc-700 dark:text-white focus:outline-none focus:ring-2 ${c.ring}`,placeholder:"0"}),w.jsx("p",{className:"text-xs text-zinc-500 mt-1",children:"Acceptable deviation from target."})]}),w.jsxs("div",{children:[w.jsx("div",{className:"flex justify-between items-end mb-3",children:w.jsx("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300",children:"Assign Tags"})}),w.jsxs("div",{className:"flex gap-2 mb-3",children:[w.jsx("input",{value:J,onChange:M=>H(M.target.value),placeholder:"Create new tag...",className:"flex-1 px-3 py-1.5 text-sm rounded-lg border dark:bg-zinc-900 amoled:bg-zinc-900 dark:border-zinc-700 dark:text-white",onKeyDown:M=>M.key==="Enter"&&pt()}),w.jsx("button",{onClick:pt,disabled:!J.trim(),className:"text-sm bg-zinc-100 dark:bg-zinc-700 hover:bg-zinc-200 px-3 py-1.5 rounded-lg font-medium transition-colors dark:text-white",children:"Add"})]}),w.jsxs("div",{className:"flex flex-wrap gap-2",children:[a.length===0&&w.jsx("p",{className:"text-sm text-zinc-400",children:"No tags available."}),a.map(M=>{const W=D.some(ut=>ut.id===M.id);return w.jsx("button",{onClick:()=>ot(M),className:`px-3 py-1 rounded-full text-sm border transition-all ${M.colorClass} ${W?"opacity-100 font-semibold shadow-sm scale-105":"opacity-40 hover:opacity-100 grayscale hover:grayscale-0"}`,children:M.name},M.id)})]})]}),w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsxs("div",{className:"flex items-center gap-2",children:[w.jsx("label",{className:"text-sm font-medium text-zinc-700 dark:text-zinc-300",children:"Track Streak"}),w.jsxs("div",{className:"group relative",children:[w.jsx(SO,{className:"w-4 h-4 text-zinc-400 cursor-help"}),w.jsx("div",{className:"absolute left-full top-1/2 -translate-y-1/2 ml-2 w-48 p-2 bg-zinc-800 text-white text-xs rounded-lg opacity-0 group-hover:opacity-100 pointer-events-none transition-opacity z-50",children:"Counts consecutive days."})]})]}),w.jsx("button",{onClick:()=>L(!z),className:`w-12 h-6 rounded-full transition-colors relative ${z?"bg-green-500":"bg-zinc-300 dark:bg-zinc-600"}`,children:w.jsx("div",{className:`w-4 h-4 bg-white rounded-full absolute top-1 transition-transform ${z?"left-7":"left-1"}`})})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-3 text-center",children:"Preferred View"}),w.jsxs("div",{className:"flex justify-center space-x-6",children:[w.jsxs("button",{onClick:()=>C("graph"),className:`w-32 h-32 p-4 rounded-xl border-2 flex flex-col items-center justify-center space-y-2 transition-all hover:scale-105 ${k==="graph"?`${c.border} ${c.secondary} ${c.text} shadow-md`:"border-zinc-200 dark:border-zinc-700 text-zinc-400 hover:border-zinc-300"}`,children:[w.jsx(Ky,{className:"w-10 h-10"}),w.jsx("span",{className:"font-medium",children:"Graph"})]}),w.jsxs("button",{onClick:()=>C("calendar"),className:`w-32 h-32 p-4 rounded-xl border-2 flex flex-col items-center justify-center space-y-2 transition-all hover:scale-105 ${k==="calendar"?`${c.border} ${c.secondary} ${c.text} shadow-md`:"border-zinc-200 dark:border-zinc-700 text-zinc-400 hover:border-zinc-300"}`,children:[w.jsx(fw,{className:"w-10 h-10"}),w.jsx("span",{className:"font-medium",children:"Calendar"})]})]})]})]})]}),w.jsxs("div",{className:"flex gap-3",children:[i&&(O?w.jsxs("div",{className:"flex-1 flex gap-2 animate-in fade-in slide-in-from-right duration-200",children:[w.jsx("button",{onClick:()=>Ct(!1),className:"flex-1 py-3 bg-zinc-200 dark:bg-zinc-700 text-zinc-700 dark:text-zinc-300 rounded-xl font-medium",children:"Cancel"}),w.jsx("button",{onClick:ft,className:"flex-1 py-3 bg-red-600 hover:bg-red-700 text-white rounded-xl font-medium shadow-lg shadow-red-600/20",children:"Confirm"})]}):w.jsx("button",{onClick:()=>Ct(!0),className:"px-4 py-3 bg-red-50 dark:bg-red-900/20 hover:bg-red-100 dark:hover:bg-red-900/40 text-red-600 dark:text-red-400 rounded-xl font-medium transition-colors",children:w.jsx(yw,{className:"w-5 h-5"})})),w.jsx("button",{onClick:St,disabled:!h.trim(),className:`flex-1 py-3 rounded-xl font-medium shadow-lg transition-all active:scale-95 hover:scale-105 disabled:opacity-50 disabled:scale-100 ${c.primary}`,children:i?"Save Changes":"Create Tracker"})]})]})]})})},R3=({isOpen:n,onClose:t,user:e,tracker:i,existingEntry:a,theme:o})=>{const[c,h]=mt.useState(""),[f,m]=mt.useState(""),[y,b]=mt.useState(Ei(new Date));if(mt.useEffect(()=>{a?(b(Ei(a.date)),a.isNew?(h(""),m("")):(h(String(a.value)),m(a.note||""))):n&&(h(""),m(""),b(Ei(new Date)))},[a,n]),!n||!i)return null;const T=async()=>{if(!c)return;let A;i.type==="numeric"?A=parseFloat(c):i.type==="boolean"?A=c==="true":A=parseInt(c);const I={value:A,note:f,date:y};a&&!a.isNew?await lw(ei(Ye,"artifacts",en,"users",e.uid,"trackers",i.id,"entries",a.id),I):await uw(nl(Ye,"artifacts",en,"users",e.uid,"trackers",i.id,"entries"),{...I,timestamp:Bp()}),t()},x=async()=>{a&&!a.isNew&&(await cw(ei(Ye,"artifacts",en,"users",e.uid,"trackers",i.id,"entries",a.id)),t())};return w.jsx("div",{className:"fixed inset-0 bg-zinc-900/60 backdrop-blur-sm z-50 flex items-center justify-center p-4",onClick:t,children:w.jsxs("div",{className:"bg-white dark:bg-zinc-800 amoled:bg-black amoled:border amoled:border-zinc-800 rounded-2xl shadow-2xl w-full max-w-sm overflow-hidden animate-in fade-in zoom-in-95 duration-300",onClick:A=>A.stopPropagation(),children:[w.jsxs("div",{className:"p-5 border-b border-zinc-200 dark:border-zinc-700 amoled:border-zinc-800 flex justify-between",children:[w.jsxs("h3",{className:"font-bold dark:text-white",children:[a&&!a.isNew?"Edit Entry":"New Entry"," for ",i.name]}),w.jsx("button",{onClick:t,children:w.jsx(Uc,{className:"w-5 h-5 text-zinc-500"})})]}),w.jsxs("div",{className:"p-6 space-y-4",children:[w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-2",children:"Date"}),w.jsx(x3,{value:y,onChange:b,theme:o})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-2",children:"Value"}),i.type==="numeric"?w.jsxs("div",{className:"flex items-center space-x-2",children:[w.jsx("input",{type:"number",value:c,onChange:A=>h(A.target.value),className:`flex-1 px-4 py-2 rounded-lg bg-zinc-50 dark:bg-zinc-900 amoled:bg-zinc-900 border border-zinc-200 dark:border-zinc-700 dark:text-white focus:outline-none focus:ring-2 ${o.ring}`,autoFocus:!0}),w.jsx("span",{className:"text-zinc-500",children:i.unit})]}):i.type==="boolean"?w.jsxs("div",{className:"flex space-x-2",children:[w.jsx("button",{onClick:()=>h("true"),className:`flex-1 py-2 rounded-lg border transition-all active:scale-95 ${String(c)==="true"?"bg-green-100 border-green-500 text-green-700 dark:bg-green-900/30 dark:text-green-400":"border-zinc-200 dark:border-zinc-700 dark:text-zinc-400"}`,children:"Yes"}),w.jsx("button",{onClick:()=>h("false"),className:`flex-1 py-2 rounded-lg border transition-all active:scale-95 ${String(c)==="false"?"bg-red-100 border-red-500 text-red-700 dark:bg-red-900/30 dark:text-red-400":"border-zinc-200 dark:border-zinc-700 dark:text-zinc-400"}`,children:"No"})]}):w.jsx("div",{className:"flex justify-between",children:[1,2,3,4,5].map(A=>w.jsx("button",{onClick:()=>h(A),className:`w-10 h-10 rounded-full flex items-center justify-center transition-all active:scale-90 hover:scale-110 ${parseInt(c)===A?"bg-amber-400 text-white shadow-lg shadow-amber-400/50":"bg-zinc-100 dark:bg-zinc-700 text-zinc-400"}`,children:i.ratingSystem==="colors"?w.jsx("div",{className:`w-4 h-4 rounded-full ${A<3?"bg-red-500":A===3?"bg-yellow-500":"bg-green-500"}`}):w.jsx(LO,{className:`w-5 h-5 ${parseInt(c)>=A?"fill-current":""}`})},A))})]}),w.jsxs("div",{children:[w.jsx("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-2",children:"Note"}),w.jsx("textarea",{value:f,onChange:A=>m(A.target.value),className:"w-full px-4 py-2 rounded-lg bg-zinc-50 dark:bg-zinc-900 amoled:bg-zinc-900 border border-zinc-200 dark:border-zinc-700 dark:text-white h-20 resize-none"})]}),w.jsxs("div",{className:"flex space-x-3 pt-2",children:[a&&!a.isNew&&w.jsx("button",{onClick:x,className:"p-3 text-red-500 bg-red-50 dark:bg-red-900/20 hover:bg-red-100 rounded-xl transition-all active:scale-95",children:w.jsx(yw,{className:"w-5 h-5"})}),w.jsx("button",{onClick:T,disabled:!c,className:`flex-1 py-3 rounded-xl font-medium shadow-lg transition-all active:scale-95 hover:scale-105 disabled:opacity-50 disabled:scale-100 ${o.primary}`,children:"Save Entry"})]})]})]})})},I3=({aggregates:n,tracker:t,theme:e})=>{const i=n.length,a=n[n.length-1],c=(()=>{if(!t.enableStreak)return 0;const m=n.map(x=>x.date).sort();if(m.length===0)return 0;let y=0,b=null;const T=Ei(new Date);for(let x=m.length-1;x>=0;x--){const A=m[x];if(!(A===T&&x!==m.length-1))if(b===null)if((new Date(T).getTime()-new Date(A).getTime())/864e5<=1)y=1,b=A;else return 0;else{const I=Ei(new Date(new Date(b).getTime()-864e5));if(A===I)y++,b=A;else break}}return y})(),f=(()=>{if(!a||t.goalDirection==="none")return null;const m=a.value,y=t.targetValue;if(t.goalDirection==="target"&&y){const b=Math.abs(m-y);return b===0?{text:"Target Hit"}:{text:`${b.toFixed(1)} off`}}return null})();return w.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 pt-4 border-t border-zinc-100 dark:border-zinc-700 animate-in slide-in-from-bottom-2 duration-500 delay-100",children:[w.jsxs("div",{className:"bg-white dark:bg-zinc-800 amoled:bg-black amoled:border amoled:border-zinc-800 p-4 rounded-xl shadow-sm border border-zinc-100 dark:border-zinc-700",children:[w.jsxs("p",{className:"text-sm text-zinc-500 mb-1 flex items-center",children:[w.jsx(Ky,{className:`w-4 h-4 mr-1 ${e.text}`})," Total Days"]}),w.jsx("p",{className:"text-2xl font-bold dark:text-white",children:i})]}),w.jsxs("div",{className:"bg-white dark:bg-zinc-800 amoled:bg-black amoled:border amoled:border-zinc-800 p-4 rounded-xl shadow-sm border border-zinc-100 dark:border-zinc-700",children:[w.jsx("p",{className:"text-sm text-zinc-500 mb-1",children:"Latest Value"}),w.jsx("p",{className:"text-2xl font-bold dark:text-white",children:a?w.jsxs(w.Fragment,{children:[a.value.toFixed(t.type==="numeric"?1:0),w.jsx("span",{className:"text-sm font-normal text-zinc-400 ml-1",children:t.unit})]}):"-"})]}),w.jsxs("div",{className:"bg-white dark:bg-zinc-800 amoled:bg-black amoled:border amoled:border-zinc-800 p-4 rounded-xl shadow-sm border border-zinc-100 dark:border-zinc-700",children:[w.jsxs("p",{className:"text-sm text-zinc-500 mb-1 flex items-center",children:[w.jsx(HO,{className:"w-4 h-4 mr-1 text-green-500"})," Goal"]}),t.goalDirection==="target"?w.jsxs("div",{children:[w.jsx("p",{className:"text-2xl font-bold dark:text-white",children:f?f.text:t.targetValue}),w.jsxs("p",{className:"text-xs text-zinc-400",children:["Target: ",t.targetValue," ",t.unit]})]}):w.jsx("p",{className:"text-2xl font-bold dark:text-white capitalize",children:t.goalDirection==="none"?"No Set Goal":t.goalDirection})]}),w.jsxs("div",{className:"bg-white dark:bg-zinc-800 amoled:bg-black amoled:border amoled:border-zinc-800 p-4 rounded-xl shadow-sm border border-zinc-100 dark:border-zinc-700",children:[w.jsxs("p",{className:"text-sm text-zinc-500 mb-1 flex items-center",children:[w.jsx(mw,{className:"w-4 h-4 mr-1 text-amber-500"})," Streak"]}),w.jsx("p",{className:"text-2xl font-bold dark:text-white",children:t.enableStreak?`${c} Day${c===1?"":"s"}`:"Disabled"})]})]})},k3=({dailyAggregates:n,onDayClick:t,tracker:e,theme:i})=>{const[a,o]=mt.useState(new Date),{daysInMonth:c,startDay:h}=mt.useMemo(()=>dA(a.getFullYear(),a.getMonth()),[a]),f=A=>{const I=new Date(a);I.setMonth(I.getMonth()+A),o(I)},m=a.toLocaleDateString("en-US",{month:"long",year:"numeric"}),y=mt.useMemo(()=>[...n].sort((A,I)=>new Date(A.date)-new Date(I.date)),[n]),b=A=>{if(!A)return"border-zinc-100 dark:border-zinc-700 hover:bg-zinc-50 dark:hover:bg-zinc-700/50";if(e.goalDirection==="none")return`${i.secondary} ${i.border} hover:shadow-md`;const I=A.value,N=e.tolerance||0,B=y.findIndex(at=>at.date===A.date),Q=B>0?y[B-1]:null;let X=null;if(e.goalDirection==="target"&&e.targetValue){const at=Math.abs(I-e.targetValue);if(at<=N)X=!0;else if(Q){const nt=Math.abs(Q.value-e.targetValue);at<nt?X=!0:X=!1}else X=!1}else e.goalDirection==="increase"?Q&&(I>Q.value?X=!0:I<Q.value&&(X=!1)):e.goalDirection==="decrease"&&Q&&(I<Q.value?X=!0:I>Q.value&&(X=!1));return X===!0?"bg-emerald-50 dark:bg-emerald-900/20 amoled:bg-emerald-900/30 border-emerald-200 dark:border-emerald-800 hover:shadow-md":X===!1?"bg-red-50 dark:bg-red-900/20 amoled:bg-red-900/30 border-red-200 dark:border-red-800 hover:shadow-md":`${i.secondary} ${i.border} hover:shadow-md`},T=A=>A.includes("emerald")?"text-emerald-700 dark:text-emerald-400":A.includes("red")?"text-red-700 dark:text-red-400":A.includes("blue")||A.includes("purple")||A.includes("indigo")?i.text:"text-zinc-400",x=[];for(let A=0;A<h;A++)x.push(w.jsx("div",{className:"h-24 bg-zinc-50/50 dark:bg-zinc-900/30 amoled:bg-zinc-900/30 rounded-xl"},`empty-${A}`));for(let A=1;A<=c;A++){const I=new Date(a.getFullYear(),a.getMonth(),A),N=Ei(I),B=n.find(nt=>nt.date===N),Q=Ei(new Date)===N,X=b(B),at=B?T(X):"text-zinc-400";x.push(w.jsxs("div",{onClick:()=>t(I),className:`h-24 border rounded-xl p-2 cursor-pointer transition-all duration-300 hover:scale-[1.02] relative flex flex-col justify-between group ${X} ${Q?`ring-2 ${i.ring} ring-offset-2 dark:ring-offset-zinc-800`:""}`,children:[w.jsx("span",{className:`text-sm font-medium ${at}`,children:A}),B&&w.jsxs("div",{className:"text-right",children:[w.jsx("span",{className:`block text-lg font-bold leading-tight ${B?"dark:text-white":""}`,children:B.value.toFixed(e.type==="numeric"?1:0)}),w.jsx("span",{className:"text-[10px] text-zinc-500 uppercase tracking-wider",children:e.unit})]}),!B&&w.jsx("div",{className:"opacity-0 group-hover:opacity-100 absolute inset-0 flex items-center justify-center text-zinc-300 dark:text-zinc-600 transition-opacity",children:w.jsx(Hp,{className:"w-6 h-6"})})]},A))}return w.jsxs("div",{className:"space-y-4 animate-in fade-in duration-500",children:[w.jsxs("div",{className:"flex items-center justify-between",children:[w.jsx("h3",{className:"text-lg font-bold dark:text-white",children:m}),w.jsxs("div",{className:"flex space-x-2",children:[w.jsx("button",{onClick:()=>f(-1),className:"p-2 hover:bg-zinc-100 dark:hover:bg-zinc-700 rounded-lg text-zinc-600 dark:text-zinc-400",children:w.jsx(dw,{className:"w-5 h-5"})}),w.jsx("button",{onClick:()=>f(1),className:"p-2 hover:bg-zinc-100 dark:hover:bg-zinc-700 rounded-lg text-zinc-600 dark:text-zinc-400",children:w.jsx($y,{className:"w-5 h-5"})})]})]}),w.jsxs("div",{className:"grid grid-cols-7 gap-2",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(A=>w.jsx("div",{className:"text-center text-xs font-semibold text-zinc-400 uppercase tracking-wide py-2",children:A},A)),x]})]})},D3=({entries:n,tracker:t,onEntryClick:e,theme:i})=>{const a=[...n].sort((o,c)=>new Date(c.date)-new Date(o.date)).slice(0,10);return a.length===0?null:w.jsxs("div",{className:"bg-white dark:bg-zinc-800 amoled:bg-black amoled:border amoled:border-zinc-800 rounded-2xl shadow-sm border border-zinc-100 dark:border-zinc-700 overflow-hidden animate-in slide-in-from-bottom-4 duration-500 delay-200",children:[w.jsx("div",{className:"p-4 border-b border-zinc-100 dark:border-zinc-700 amoled:border-zinc-800 flex items-center justify-between",children:w.jsxs("h3",{className:"font-semibold text-zinc-800 dark:text-white flex items-center gap-2",children:[w.jsx(IO,{className:"w-4 h-4 text-zinc-400"})," Recent Entries"]})}),w.jsx("div",{className:"divide-y divide-zinc-100 dark:divide-zinc-700 amoled:divide-zinc-800",children:a.map(o=>w.jsxs("div",{onClick:()=>e(o),className:"p-4 flex items-center justify-between hover:bg-zinc-50 dark:hover:bg-zinc-700/50 cursor-pointer transition-colors",children:[w.jsxs("div",{children:[w.jsx("p",{className:"font-medium text-zinc-800 dark:text-white",children:fA(o.date)}),o.note&&w.jsx("p",{className:"text-xs text-zinc-500 truncate max-w-[200px]",children:o.note})]}),w.jsxs("div",{className:"text-right",children:[w.jsx("span",{className:`font-bold ${i.text}`,children:t.type==="boolean"?o.value?"Yes":"No":o.value}),w.jsx("span",{className:"text-xs text-zinc-400 ml-1",children:t.unit})]})]},o.id))})]})},N3=()=>{const[n,t]=mt.useState(null),[e,i]=mt.useState(!0),[a,o]=mt.useState("light"),c=a==="dark"||a==="amoled",[h,f]=mt.useState(!0),[m,y]=mt.useState([]),[b,T]=mt.useState([]),[x,A]=mt.useState(null),[I,N]=mt.useState(!1),[B,Q]=mt.useState(!1),[X,at]=mt.useState(!1),[nt,lt]=mt.useState(null),[k,C]=mt.useState("graph"),[D,P]=mt.useState([]),[z,L]=mt.useState(null),[O,Ct]=mt.useState("blue"),J=mt.useMemo(()=>rd[O]||rd.blue,[O]);mt.useEffect(()=>{const et=HI(Yc,ct=>{t(ct),i(!1),f(!ct)});return()=>et()},[]),mt.useEffect(()=>{const et=document.documentElement;et.classList.remove("dark","amoled"),a==="dark"?et.classList.add("dark"):a==="amoled"&&et.classList.add("dark","amoled")},[a]),mt.useEffect(()=>{if(!n)return;const et=Zg(ei(Ye,"artifacts",en,"users",n.uid,"settings","tags"),ct=>{if(ct.exists()){T(ct.data().list||[]);const yt=ct.data();yt.theme&&Ct(yt.theme),yt.mode&&o(yt.mode)}});return()=>et()},[n]);const H=async et=>{await Wg(ei(Ye,"artifacts",en,"users",n.uid,"settings","tags"),{list:et,theme:O},{merge:!0})},ot=async et=>{Ct(et),n&&await Wg(ei(Ye,"artifacts",en,"users",n.uid,"settings","tags"),{theme:et},{merge:!0})},pt=async et=>{o(et),n&&await Wg(ei(Ye,"artifacts",en,"users",n.uid,"settings","tags"),{mode:et},{merge:!0})},St=async et=>{if(!(!n||!et))try{const ct=uO(Ye);if(et.settings){const yt=ei(Ye,"artifacts",en,"users",n.uid,"settings","tags");ct.set(yt,{list:et.settings.tags||[],theme:et.settings.theme||"blue",mode:et.settings.mode||"light"}),et.settings.theme&&Ct(et.settings.theme),et.settings.mode&&o(et.settings.mode)}if(et.trackers&&Array.isArray(et.trackers))for(const yt of et.trackers){const Dt=ei(Ye,"artifacts",en,"users",n.uid,"trackers",yt.id),{entries:Nt,id:wi,...Us}=yt;if(ct.set(Dt,Us),Nt&&Array.isArray(Nt))for(const as of Nt){const Bs=ei(Ye,"artifacts",en,"users",n.uid,"trackers",yt.id,"entries",as.id),{id:ai,...Qr}=as;ct.set(Bs,Qr)}}await ct.commit(),alert("Import successful! Data has been restored."),N(!1)}catch(ct){console.error("Import error",ct),alert("Error importing data. Check console.")}};mt.useEffect(()=>{if(!n)return;const et=Up(nl(Ye,"artifacts",en,"users",n.uid,"trackers"),fE("createdAt","desc")),ct=Zg(et,yt=>{const Dt=yt.docs.map(Nt=>({id:Nt.id,...Nt.data()}));y(Dt),Dt.length>0&&!x?A(Dt[0].id):Dt.length===0?A(null):x&&!Dt.find(Nt=>Nt.id===x)&&A(Dt[0].id)});return()=>ct()},[n,x]),mt.useEffect(()=>{if(!n||!x)return;const et=Up(nl(Ye,"artifacts",en,"users",n.uid,"trackers",x,"entries"),fE("date","asc")),ct=Zg(et,yt=>{P(yt.docs.map(Dt=>({id:Dt.id,...Dt.data()})))});return()=>ct()},[n,x]);const ft=mt.useMemo(()=>m.find(et=>et.id===x),[m,x]);mt.useEffect(()=>{ft?.preferredView&&C(ft.preferredView)},[x,ft]);const M=mt.useMemo(()=>{if(!D.length||!ft)return[];const et=D.reduce((ct,yt)=>{const Dt=Ei(yt.date);return ct[Dt]||(ct[Dt]=[]),ct[Dt].push(yt),ct},{});return Object.keys(et).map(ct=>{const yt=et[ct],Dt=yt.map(Nt=>ft.type==="boolean"?Nt.value?1:0:Nt.value);return{date:ct,value:E3(Dt),entryId:yt[0].id,rawEntries:yt,allEntryIds:yt.map(Nt=>Nt.id)}}).sort((ct,yt)=>new Date(ct.date)-new Date(yt.date))},[D,ft]),W=mt.useMemo(()=>{if(!M.length)return{labels:[],datasets:[]};const et=[{label:ft?.name||"Value",data:M.map(ct=>ct.value),borderColor:J.chartLine,backgroundColor:J.chartFill,tension:.3,fill:!0,pointBackgroundColor:J.chartPoint,pointRadius:4,pointHoverRadius:6}];return ft?.goalDirection==="target"&&ft?.targetValue&&et.push({label:"Target",data:M.map(()=>ft.targetValue),borderColor:"#10B981",borderWidth:2,borderDash:[5,5],pointRadius:0,fill:!1,tension:0}),{labels:M.map(ct=>fA(ct.date)),datasets:et}},[M,ft,J]),ut={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:ft?.goalDirection==="target"},tooltip:{callbacks:{label:et=>et.dataset.label==="Target"?`Target: ${et.raw}`:ft?.type==="boolean"?et.raw===1?"Yes":"No":`${et.raw.toFixed(ft?.type==="numeric"?1:0)} ${ft?.unit||""}`}}},scales:{y:{display:!0,grid:{color:c?"#334155":"#E4E4E7"},ticks:{color:c?"#A1A1AA":"#71717A"},...ft?.type==="boolean"?{min:0,max:1,ticks:{stepSize:1,callback:et=>et===1?"Yes":"No"}}:{},...ft?.type==="rating"?{min:0,max:5,ticks:{stepSize:1}}:{}},x:{grid:{display:!1},ticks:{color:c?"#A1A1AA":"#71717A"}}},onClick:(et,ct)=>{if(ct.length>0&&ct[0].datasetIndex===0){const yt=ct[0].index,Dt=M[yt],Nt=D.find(wi=>wi.id===Dt.entryId);L(Nt),at(!0)}}},dt=et=>{const ct=Ei(et),yt=M.find(Dt=>Dt.date===ct);if(yt){const Dt=D.find(Nt=>Nt.id===yt.entryId);L(Dt)}else L({date:ct,value:"",isNew:!0});at(!0)};return e?w.jsx("div",{className:"h-screen w-full flex items-center justify-center bg-zinc-50 dark:bg-zinc-900",children:w.jsx(kf,{className:`animate-spin w-8 h-8 ${J.text}`})}):w.jsxs("div",{className:`h-screen w-full flex overflow-hidden bg-zinc-50/50 dark:bg-zinc-900 amoled:bg-black transition-colors duration-300 font-sans ${a==="dark"?"dark":a==="amoled"?"dark amoled":""}`,children:[w.jsx(w3,{isOpen:h,onLoginSuccess:()=>f(!1)}),w.jsx(A3,{isOpen:I,onClose:()=>N(!1),user:n,tags:b,onTagsChange:H,theme:J,onThemeChange:ot,currentThemeKey:O,onImport:St,themeMode:a,onThemeModeChange:pt,trackers:m}),w.jsx(C3,{isOpen:B,onClose:()=>{Q(!1),lt(null)},user:n,editTracker:nt,availableTags:b,onTagsChange:H,theme:J}),w.jsx(R3,{isOpen:X,onClose:()=>{at(!1),L(null)},user:n,tracker:ft,existingEntry:z?.isNew?null:z,theme:J}),X&&z?.isNew&&w.jsx("div",{style:{display:"none"}}),w.jsxs("aside",{className:"w-80 bg-white dark:bg-zinc-800 amoled:bg-black amoled:border-r amoled:border-zinc-800 border-r border-zinc-200 dark:border-zinc-700 flex flex-col z-10 shadow-lg md:shadow-none absolute md:relative h-full transition-transform transform md:translate-x-0 -translate-x-full",children:[w.jsxs("div",{className:"p-6 border-b border-zinc-200 dark:border-zinc-700 amoled:border-zinc-800 flex items-center space-x-3",children:[w.jsx("div",{className:`rounded-lg p-2 ${J.primary} animate-in zoom-in duration-300`,children:w.jsx(kf,{className:"text-white w-5 h-5"})}),w.jsx("h1",{className:"text-xl font-bold text-zinc-900 dark:text-white",children:"TrackIt"})]}),w.jsx("div",{className:"p-4",children:w.jsxs("button",{onClick:()=>{lt(null),Q(!0)},className:`w-full flex items-center justify-center space-x-2 py-3 rounded-xl transition-all shadow-md active:scale-95 hover:brightness-110 ${J.primary}`,children:[w.jsx(Hp,{className:"w-5 h-5"}),w.jsx("span",{className:"font-medium",children:"New Tracker"})]})}),w.jsxs("div",{className:"flex-1 overflow-y-auto px-4 space-y-3",children:[m.length===0&&w.jsxs("div",{className:"text-center text-zinc-400 py-10 animate-in fade-in duration-500",children:[w.jsx("p",{className:"text-sm",children:"No trackers yet."}),w.jsx("p",{className:"text-xs",children:"Create one to get started!"})]}),m.map(et=>w.jsxs("div",{onClick:()=>A(et.id),className:`p-4 rounded-xl cursor-pointer transition-all border animate-in slide-in-from-left-4 duration-300 ${x===et.id?`${J.activeNav} ${J.border}`:"bg-white dark:bg-zinc-800 amoled:bg-zinc-900 border-zinc-100 dark:border-zinc-700 amoled:border-zinc-800 hover:border-zinc-300 dark:hover:border-zinc-600"}`,children:[w.jsxs("div",{className:"flex justify-between items-start",children:[w.jsxs("div",{className:"flex-1 min-w-0",children:[w.jsx("h3",{className:`font-bold truncate ${x===et.id?J.activeNavText:"text-zinc-700 dark:text-zinc-300"}`,children:et.name}),w.jsxs("p",{className:"text-xs text-zinc-500 mt-1 capitalize",children:[et.type," ",et.unit?`(${et.unit})`:""]})]}),et.enableStreak&&w.jsx(mw,{className:"w-4 h-4 text-amber-500 shrink-0 ml-2"})]}),et.tags&&et.tags.length>0&&w.jsx("div",{className:"flex flex-wrap gap-1 mt-2",children:et.tags.filter(ct=>b.some(yt=>yt.id===ct.id)).map((ct,yt)=>w.jsx("span",{className:`${ct.colorClass} px-2 py-0.5 rounded-full text-[10px] font-medium border opacity-80`,children:ct.name},yt))})]},et.id))]}),w.jsxs("div",{className:"p-4 border-t border-zinc-200 dark:border-zinc-700 amoled:border-zinc-800 flex space-x-2",children:[w.jsxs("button",{onClick:()=>N(!0),className:"flex-1 flex items-center space-x-3 px-4 py-3 rounded-xl hover:bg-zinc-100 dark:hover:bg-zinc-700 amoled:hover:bg-zinc-900 transition-colors text-zinc-600 dark:text-zinc-400",children:[w.jsx("div",{className:"w-8 h-8 rounded-full bg-zinc-200 dark:bg-zinc-600 amoled:bg-zinc-800 flex items-center justify-center shrink-0",children:w.jsx(KO,{className:"w-4 h-4"})}),w.jsxs("div",{className:"text-left flex-1 truncate",children:[w.jsx("p",{className:"text-sm font-medium dark:text-white truncate",children:n?.displayName||"User"}),w.jsx("p",{className:"text-xs text-zinc-500",children:"Settings"})]}),w.jsx(VO,{className:"w-4 h-4"})]}),w.jsx("button",{onClick:()=>pt(a==="light"?"dark":"light"),className:"w-12 flex items-center justify-center rounded-xl bg-zinc-100 dark:bg-zinc-700 amoled:bg-zinc-800 text-zinc-500 hover:text-amber-500 dark:hover:text-amber-400 transition-colors",children:a==="light"?w.jsx(gw,{className:"w-5 h-5"}):w.jsx(UO,{className:"w-5 h-5"})})]})]}),w.jsx("main",{className:"flex-1 flex flex-col h-full overflow-hidden relative",children:ft?w.jsxs(w.Fragment,{children:[w.jsxs("header",{className:"p-6 bg-white/80 dark:bg-zinc-900/80 amoled:bg-black/80 backdrop-blur-md border-b border-zinc-200 dark:border-zinc-700 amoled:border-zinc-800 flex justify-between items-center z-10 sticky top-0 animate-in slide-in-from-top-4 duration-500",children:[w.jsxs("div",{className:"flex items-center space-x-3",children:[w.jsx("h2",{className:"text-2xl font-bold text-zinc-900 dark:text-white",children:ft.name}),w.jsx("button",{onClick:()=>{lt(ft),Q(!0)},className:`p-1.5 hover:bg-zinc-100 dark:hover:bg-zinc-800 rounded-lg text-zinc-400 hover:${J.text} transition-colors`,children:w.jsx(pw,{className:"w-4 h-4"})}),ft.goalDirection==="target"&&ft.targetValue&&w.jsxs("span",{className:"text-sm text-zinc-500 bg-zinc-100 dark:bg-zinc-800 amoled:bg-zinc-900 px-2 py-1 rounded-md ml-2 animate-in fade-in",children:["Target: ",ft.targetValue," ",ft.unit]})]}),w.jsx("div",{className:"flex items-center space-x-4",children:w.jsxs("div",{className:"flex bg-zinc-100 dark:bg-zinc-800 amoled:bg-zinc-900 rounded-lg p-1",children:[w.jsx("button",{onClick:()=>C("graph"),className:`p-2 rounded-md transition-all ${k==="graph"?`bg-white dark:bg-zinc-700 amoled:bg-zinc-800 shadow ${J.text}`:"text-zinc-400"}`,children:w.jsx(Ky,{className:"w-5 h-5"})}),w.jsx("button",{onClick:()=>C("calendar"),className:`p-2 rounded-md transition-all ${k==="calendar"?`bg-white dark:bg-zinc-700 amoled:bg-zinc-800 shadow ${J.text}`:"text-zinc-400"}`,children:w.jsx(fw,{className:"w-5 h-5"})})]})})]}),w.jsxs("div",{className:"flex-1 overflow-y-auto p-6 md:p-8 space-y-6",children:[w.jsx("div",{className:"w-full",children:w.jsxs("button",{onClick:()=>dt(new Date),className:`w-full py-3 rounded-xl font-medium shadow-lg transition-transform hover:scale-[1.005] active:scale-[0.99] flex items-center justify-center space-x-2 animate-in fade-in duration-500 ${J.primary}`,children:[w.jsx(Hp,{className:"w-5 h-5"}),w.jsx("span",{children:"Add New Entry"})]})}),w.jsx("div",{className:"bg-white dark:bg-zinc-800 amoled:bg-black amoled:border amoled:border-zinc-800 p-6 rounded-2xl shadow-lg border border-zinc-100 dark:border-zinc-700 min-h-[400px] animate-in slide-in-from-bottom-4 duration-500",children:k==="graph"?w.jsxs(w.Fragment,{children:[w.jsx("div",{className:"flex justify-between items-center mb-4",children:w.jsx("h3",{className:"text-lg font-semibold dark:text-white",children:"Activity Overview"})}),M.length===0?w.jsx("div",{className:"h-80 flex items-center justify-center text-zinc-400",children:w.jsx("p",{children:"No data recorded yet. Add your first entry!"})}):w.jsx("div",{className:"h-80 w-full",children:w.jsx(v3,{data:W,options:ut})})]}):w.jsx(k3,{dailyAggregates:M,onDayClick:dt,tracker:ft,theme:J})}),M.length>0&&w.jsx(I3,{aggregates:M,tracker:ft,theme:J}),D.length>0&&w.jsx(D3,{entries:D,tracker:ft,onEntryClick:et=>{L(et),at(!0)},theme:J})]})]}):w.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-zinc-400 animate-in fade-in duration-500",children:[w.jsx(kf,{className:"w-16 h-16 mb-4 opacity-20"}),w.jsx("p",{children:"Select a tracker or create a new one to get started."})]})})]})};J2.createRoot(document.getElementById("root")).render(w.jsx(mt.StrictMode,{children:w.jsx(N3,{})}));
