(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))i(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&i(l)}).observe(document,{childList:!0,subtree:!0});function e(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(r){if(r.ep)return;r.ep=!0;const o=e(r);fetch(r.href,o)}})();function k0(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ym={exports:{}},Xc={};var LE;function eN(){if(LE)return Xc;LE=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function e(i,r,o){var l=null;if(o!==void 0&&(l=""+o),r.key!==void 0&&(l=""+r.key),"key"in r){o={};for(var u in r)u!=="key"&&(o[u]=r[u])}else o=r;return r=o.ref,{$$typeof:n,type:i,key:l,ref:r!==void 0?r:null,props:o}}return Xc.Fragment=t,Xc.jsx=e,Xc.jsxs=e,Xc}var VE;function nN(){return VE||(VE=1,Ym.exports=eN()),Ym.exports}var A=nN(),Km={exports:{}},kt={};var jE;function iN(){if(jE)return kt;jE=1;var n=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),e=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),o=Symbol.for("react.consumer"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),y=Symbol.for("react.activity"),_=Symbol.iterator;function v(B){return B===null||typeof B!="object"?null:(B=_&&B[_]||B["@@iterator"],typeof B=="function"?B:null)}var S={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,w={};function O(B,et,ct){this.props=B,this.context=et,this.refs=w,this.updater=ct||S}O.prototype.isReactComponent={},O.prototype.setState=function(B,et){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,et,"setState")},O.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function L(){}L.prototype=O.prototype;function H(B,et,ct){this.props=B,this.context=et,this.refs=w,this.updater=ct||S}var q=H.prototype=new L;q.constructor=H,C(q,O.prototype),q.isPureReactComponent=!0;var F=Array.isArray;function G(){}var R={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function N(B,et,ct){var ut=ct.ref;return{$$typeof:n,type:B,key:et,ref:ut!==void 0?ut:null,props:ct}}function z(B,et){return N(B.type,et,B.props)}function M(B){return typeof B=="object"&&B!==null&&B.$$typeof===n}function V(B){var et={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(ct){return et[ct]})}var P=/\/+/g;function Dt(B,et){return typeof B=="object"&&B!==null&&B.key!=null?V(""+B.key):et.toString(36)}function vt(B){switch(B.status){case"fulfilled":return B.value;case"rejected":throw B.reason;default:switch(typeof B.status=="string"?B.then(G,G):(B.status="pending",B.then(function(et){B.status==="pending"&&(B.status="fulfilled",B.value=et)},function(et){B.status==="pending"&&(B.status="rejected",B.reason=et)})),B.status){case"fulfilled":return B.value;case"rejected":throw B.reason}}throw B}function X(B,et,ct,ut,bt){var xt=typeof B;(xt==="undefined"||xt==="boolean")&&(B=null);var lt=!1;if(B===null)lt=!0;else switch(xt){case"bigint":case"string":case"number":lt=!0;break;case"object":switch(B.$$typeof){case n:case t:lt=!0;break;case p:return lt=B._init,X(lt(B._payload),et,ct,ut,bt)}}if(lt)return bt=bt(B),lt=ut===""?"."+Dt(B,0):ut,F(bt)?(ct="",lt!=null&&(ct=lt.replace(P,"$&/")+"/"),X(bt,et,ct,"",function(ge){return ge})):bt!=null&&(M(bt)&&(bt=z(bt,ct+(bt.key==null||B&&B.key===bt.key?"":(""+bt.key).replace(P,"$&/")+"/")+lt)),et.push(bt)),1;lt=0;var Lt=ut===""?".":ut+":";if(F(B))for(var Vt=0;Vt<B.length;Vt++)ut=B[Vt],xt=Lt+Dt(ut,Vt),lt+=X(ut,et,ct,xt,bt);else if(Vt=v(B),typeof Vt=="function")for(B=Vt.call(B),Vt=0;!(ut=B.next()).done;)ut=ut.value,xt=Lt+Dt(ut,Vt++),lt+=X(ut,et,ct,xt,bt);else if(xt==="object"){if(typeof B.then=="function")return X(vt(B),et,ct,ut,bt);throw et=String(B),Error("Objects are not valid as a React child (found: "+(et==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":et)+"). If you meant to render a collection of children, use an array instead.")}return lt}function ot(B,et,ct){if(B==null)return B;var ut=[],bt=0;return X(B,ut,"","",function(xt){return et.call(ct,xt,bt++)}),ut}function pt(B){if(B._status===-1){var et=B._result;et=et(),et.then(function(ct){(B._status===0||B._status===-1)&&(B._status=1,B._result=ct)},function(ct){(B._status===0||B._status===-1)&&(B._status=2,B._result=ct)}),B._status===-1&&(B._status=0,B._result=et)}if(B._status===1)return B._result.default;throw B._result}var At=typeof reportError=="function"?reportError:function(B){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var et=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof B=="object"&&B!==null&&typeof B.message=="string"?String(B.message):String(B),error:B});if(!window.dispatchEvent(et))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",B);return}console.error(B)},Rt={map:ot,forEach:function(B,et,ct){ot(B,function(){et.apply(this,arguments)},ct)},count:function(B){var et=0;return ot(B,function(){et++}),et},toArray:function(B){return ot(B,function(et){return et})||[]},only:function(B){if(!M(B))throw Error("React.Children.only expected to receive a single React element child.");return B}};return kt.Activity=y,kt.Children=Rt,kt.Component=O,kt.Fragment=e,kt.Profiler=r,kt.PureComponent=H,kt.StrictMode=i,kt.Suspense=d,kt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=R,kt.__COMPILER_RUNTIME={__proto__:null,c:function(B){return R.H.useMemoCache(B)}},kt.cache=function(B){return function(){return B.apply(null,arguments)}},kt.cacheSignal=function(){return null},kt.cloneElement=function(B,et,ct){if(B==null)throw Error("The argument must be a React element, but you passed "+B+".");var ut=C({},B.props),bt=B.key;if(et!=null)for(xt in et.key!==void 0&&(bt=""+et.key),et)!I.call(et,xt)||xt==="key"||xt==="__self"||xt==="__source"||xt==="ref"&&et.ref===void 0||(ut[xt]=et[xt]);var xt=arguments.length-2;if(xt===1)ut.children=ct;else if(1<xt){for(var lt=Array(xt),Lt=0;Lt<xt;Lt++)lt[Lt]=arguments[Lt+2];ut.children=lt}return N(B.type,bt,ut)},kt.createContext=function(B){return B={$$typeof:l,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null},B.Provider=B,B.Consumer={$$typeof:o,_context:B},B},kt.createElement=function(B,et,ct){var ut,bt={},xt=null;if(et!=null)for(ut in et.key!==void 0&&(xt=""+et.key),et)I.call(et,ut)&&ut!=="key"&&ut!=="__self"&&ut!=="__source"&&(bt[ut]=et[ut]);var lt=arguments.length-2;if(lt===1)bt.children=ct;else if(1<lt){for(var Lt=Array(lt),Vt=0;Vt<lt;Vt++)Lt[Vt]=arguments[Vt+2];bt.children=Lt}if(B&&B.defaultProps)for(ut in lt=B.defaultProps,lt)bt[ut]===void 0&&(bt[ut]=lt[ut]);return N(B,xt,bt)},kt.createRef=function(){return{current:null}},kt.forwardRef=function(B){return{$$typeof:u,render:B}},kt.isValidElement=M,kt.lazy=function(B){return{$$typeof:p,_payload:{_status:-1,_result:B},_init:pt}},kt.memo=function(B,et){return{$$typeof:f,type:B,compare:et===void 0?null:et}},kt.startTransition=function(B){var et=R.T,ct={};R.T=ct;try{var ut=B(),bt=R.S;bt!==null&&bt(ct,ut),typeof ut=="object"&&ut!==null&&typeof ut.then=="function"&&ut.then(G,At)}catch(xt){At(xt)}finally{et!==null&&ct.types!==null&&(et.types=ct.types),R.T=et}},kt.unstable_useCacheRefresh=function(){return R.H.useCacheRefresh()},kt.use=function(B){return R.H.use(B)},kt.useActionState=function(B,et,ct){return R.H.useActionState(B,et,ct)},kt.useCallback=function(B,et){return R.H.useCallback(B,et)},kt.useContext=function(B){return R.H.useContext(B)},kt.useDebugValue=function(){},kt.useDeferredValue=function(B,et){return R.H.useDeferredValue(B,et)},kt.useEffect=function(B,et){return R.H.useEffect(B,et)},kt.useEffectEvent=function(B){return R.H.useEffectEvent(B)},kt.useId=function(){return R.H.useId()},kt.useImperativeHandle=function(B,et,ct){return R.H.useImperativeHandle(B,et,ct)},kt.useInsertionEffect=function(B,et){return R.H.useInsertionEffect(B,et)},kt.useLayoutEffect=function(B,et){return R.H.useLayoutEffect(B,et)},kt.useMemo=function(B,et){return R.H.useMemo(B,et)},kt.useOptimistic=function(B,et){return R.H.useOptimistic(B,et)},kt.useReducer=function(B,et,ct){return R.H.useReducer(B,et,ct)},kt.useRef=function(B){return R.H.useRef(B)},kt.useState=function(B){return R.H.useState(B)},kt.useSyncExternalStore=function(B,et,ct){return R.H.useSyncExternalStore(B,et,ct)},kt.useTransition=function(){return R.H.useTransition()},kt.version="19.2.1",kt}var BE;function fg(){return BE||(BE=1,Km.exports=iN()),Km.exports}var W=fg();const Ce=k0(W);var Qm={exports:{}},Jc={},Xm={exports:{}},Jm={};var UE;function sN(){return UE||(UE=1,(function(n){function t(X,ot){var pt=X.length;X.push(ot);t:for(;0<pt;){var At=pt-1>>>1,Rt=X[At];if(0<r(Rt,ot))X[At]=ot,X[pt]=Rt,pt=At;else break t}}function e(X){return X.length===0?null:X[0]}function i(X){if(X.length===0)return null;var ot=X[0],pt=X.pop();if(pt!==ot){X[0]=pt;t:for(var At=0,Rt=X.length,B=Rt>>>1;At<B;){var et=2*(At+1)-1,ct=X[et],ut=et+1,bt=X[ut];if(0>r(ct,pt))ut<Rt&&0>r(bt,ct)?(X[At]=bt,X[ut]=pt,At=ut):(X[At]=ct,X[et]=pt,At=et);else if(ut<Rt&&0>r(bt,pt))X[At]=bt,X[ut]=pt,At=ut;else break t}}return ot}function r(X,ot){var pt=X.sortIndex-ot.sortIndex;return pt!==0?pt:X.id-ot.id}if(n.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var o=performance;n.unstable_now=function(){return o.now()}}else{var l=Date,u=l.now();n.unstable_now=function(){return l.now()-u}}var d=[],f=[],p=1,y=null,_=3,v=!1,S=!1,C=!1,w=!1,O=typeof setTimeout=="function"?setTimeout:null,L=typeof clearTimeout=="function"?clearTimeout:null,H=typeof setImmediate<"u"?setImmediate:null;function q(X){for(var ot=e(f);ot!==null;){if(ot.callback===null)i(f);else if(ot.startTime<=X)i(f),ot.sortIndex=ot.expirationTime,t(d,ot);else break;ot=e(f)}}function F(X){if(C=!1,q(X),!S)if(e(d)!==null)S=!0,G||(G=!0,V());else{var ot=e(f);ot!==null&&vt(F,ot.startTime-X)}}var G=!1,R=-1,I=5,N=-1;function z(){return w?!0:!(n.unstable_now()-N<I)}function M(){if(w=!1,G){var X=n.unstable_now();N=X;var ot=!0;try{t:{S=!1,C&&(C=!1,L(R),R=-1),v=!0;var pt=_;try{e:{for(q(X),y=e(d);y!==null&&!(y.expirationTime>X&&z());){var At=y.callback;if(typeof At=="function"){y.callback=null,_=y.priorityLevel;var Rt=At(y.expirationTime<=X);if(X=n.unstable_now(),typeof Rt=="function"){y.callback=Rt,q(X),ot=!0;break e}y===e(d)&&i(d),q(X)}else i(d);y=e(d)}if(y!==null)ot=!0;else{var B=e(f);B!==null&&vt(F,B.startTime-X),ot=!1}}break t}finally{y=null,_=pt,v=!1}ot=void 0}}finally{ot?V():G=!1}}}var V;if(typeof H=="function")V=function(){H(M)};else if(typeof MessageChannel<"u"){var P=new MessageChannel,Dt=P.port2;P.port1.onmessage=M,V=function(){Dt.postMessage(null)}}else V=function(){O(M,0)};function vt(X,ot){R=O(function(){X(n.unstable_now())},ot)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(X){X.callback=null},n.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<X?Math.floor(1e3/X):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_next=function(X){switch(_){case 1:case 2:case 3:var ot=3;break;default:ot=_}var pt=_;_=ot;try{return X()}finally{_=pt}},n.unstable_requestPaint=function(){w=!0},n.unstable_runWithPriority=function(X,ot){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var pt=_;_=X;try{return ot()}finally{_=pt}},n.unstable_scheduleCallback=function(X,ot,pt){var At=n.unstable_now();switch(typeof pt=="object"&&pt!==null?(pt=pt.delay,pt=typeof pt=="number"&&0<pt?At+pt:At):pt=At,X){case 1:var Rt=-1;break;case 2:Rt=250;break;case 5:Rt=1073741823;break;case 4:Rt=1e4;break;default:Rt=5e3}return Rt=pt+Rt,X={id:p++,callback:ot,priorityLevel:X,startTime:pt,expirationTime:Rt,sortIndex:-1},pt>At?(X.sortIndex=pt,t(f,X),e(d)===null&&X===e(f)&&(C?(L(R),R=-1):C=!0,vt(F,pt-At))):(X.sortIndex=Rt,t(d,X),S||v||(S=!0,G||(G=!0,V()))),X},n.unstable_shouldYield=z,n.unstable_wrapCallback=function(X){var ot=_;return function(){var pt=_;_=ot;try{return X.apply(this,arguments)}finally{_=pt}}}})(Jm)),Jm}var FE;function rN(){return FE||(FE=1,Xm.exports=sN()),Xm.exports}var Zm={exports:{}},bn={};var HE;function aN(){if(HE)return bn;HE=1;var n=fg();function t(d){var f="https://react.dev/errors/"+d;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)f+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+d+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function e(){}var i={d:{f:e,r:function(){throw Error(t(522))},D:e,C:e,L:e,m:e,X:e,S:e,M:e},p:0,findDOMNode:null},r=Symbol.for("react.portal");function o(d,f,p){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:y==null?null:""+y,children:d,containerInfo:f,implementation:p}}var l=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(d,f){if(d==="font")return"";if(typeof f=="string")return f==="use-credentials"?f:""}return bn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=i,bn.createPortal=function(d,f){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!f||f.nodeType!==1&&f.nodeType!==9&&f.nodeType!==11)throw Error(t(299));return o(d,f,null,p)},bn.flushSync=function(d){var f=l.T,p=i.p;try{if(l.T=null,i.p=2,d)return d()}finally{l.T=f,i.p=p,i.d.f()}},bn.preconnect=function(d,f){typeof d=="string"&&(f?(f=f.crossOrigin,f=typeof f=="string"?f==="use-credentials"?f:"":void 0):f=null,i.d.C(d,f))},bn.prefetchDNS=function(d){typeof d=="string"&&i.d.D(d)},bn.preinit=function(d,f){if(typeof d=="string"&&f&&typeof f.as=="string"){var p=f.as,y=u(p,f.crossOrigin),_=typeof f.integrity=="string"?f.integrity:void 0,v=typeof f.fetchPriority=="string"?f.fetchPriority:void 0;p==="style"?i.d.S(d,typeof f.precedence=="string"?f.precedence:void 0,{crossOrigin:y,integrity:_,fetchPriority:v}):p==="script"&&i.d.X(d,{crossOrigin:y,integrity:_,fetchPriority:v,nonce:typeof f.nonce=="string"?f.nonce:void 0})}},bn.preinitModule=function(d,f){if(typeof d=="string")if(typeof f=="object"&&f!==null){if(f.as==null||f.as==="script"){var p=u(f.as,f.crossOrigin);i.d.M(d,{crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0})}}else f==null&&i.d.M(d)},bn.preload=function(d,f){if(typeof d=="string"&&typeof f=="object"&&f!==null&&typeof f.as=="string"){var p=f.as,y=u(p,f.crossOrigin);i.d.L(d,p,{crossOrigin:y,integrity:typeof f.integrity=="string"?f.integrity:void 0,nonce:typeof f.nonce=="string"?f.nonce:void 0,type:typeof f.type=="string"?f.type:void 0,fetchPriority:typeof f.fetchPriority=="string"?f.fetchPriority:void 0,referrerPolicy:typeof f.referrerPolicy=="string"?f.referrerPolicy:void 0,imageSrcSet:typeof f.imageSrcSet=="string"?f.imageSrcSet:void 0,imageSizes:typeof f.imageSizes=="string"?f.imageSizes:void 0,media:typeof f.media=="string"?f.media:void 0})}},bn.preloadModule=function(d,f){if(typeof d=="string")if(f){var p=u(f.as,f.crossOrigin);i.d.m(d,{as:typeof f.as=="string"&&f.as!=="script"?f.as:void 0,crossOrigin:p,integrity:typeof f.integrity=="string"?f.integrity:void 0})}else i.d.m(d)},bn.requestFormReset=function(d){i.d.r(d)},bn.unstable_batchedUpdates=function(d,f){return d(f)},bn.useFormState=function(d,f,p){return l.H.useFormState(d,f,p)},bn.useFormStatus=function(){return l.H.useHostTransitionStatus()},bn.version="19.2.1",bn}var qE;function D1(){if(qE)return Zm.exports;qE=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Zm.exports=aN(),Zm.exports}var GE;function oN(){if(GE)return Jc;GE=1;var n=rN(),t=fg(),e=D1();function i(s){var a="https://react.dev/errors/"+s;if(1<arguments.length){a+="?args[]="+encodeURIComponent(arguments[1]);for(var c=2;c<arguments.length;c++)a+="&args[]="+encodeURIComponent(arguments[c])}return"Minified React error #"+s+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function o(s){var a=s,c=s;if(s.alternate)for(;a.return;)a=a.return;else{s=a;do a=s,(a.flags&4098)!==0&&(c=a.return),s=a.return;while(s)}return a.tag===3?c:null}function l(s){if(s.tag===13){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function u(s){if(s.tag===31){var a=s.memoizedState;if(a===null&&(s=s.alternate,s!==null&&(a=s.memoizedState)),a!==null)return a.dehydrated}return null}function d(s){if(o(s)!==s)throw Error(i(188))}function f(s){var a=s.alternate;if(!a){if(a=o(s),a===null)throw Error(i(188));return a!==s?null:s}for(var c=s,h=a;;){var m=c.return;if(m===null)break;var b=m.alternate;if(b===null){if(h=m.return,h!==null){c=h;continue}break}if(m.child===b.child){for(b=m.child;b;){if(b===c)return d(m),s;if(b===h)return d(m),a;b=b.sibling}throw Error(i(188))}if(c.return!==h.return)c=m,h=b;else{for(var E=!1,D=m.child;D;){if(D===c){E=!0,c=m,h=b;break}if(D===h){E=!0,h=m,c=b;break}D=D.sibling}if(!E){for(D=b.child;D;){if(D===c){E=!0,c=b,h=m;break}if(D===h){E=!0,h=b,c=m;break}D=D.sibling}if(!E)throw Error(i(189))}}if(c.alternate!==h)throw Error(i(190))}if(c.tag!==3)throw Error(i(188));return c.stateNode.current===c?s:a}function p(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s;for(s=s.child;s!==null;){if(a=p(s),a!==null)return a;s=s.sibling}return null}var y=Object.assign,_=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),S=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),O=Symbol.for("react.profiler"),L=Symbol.for("react.consumer"),H=Symbol.for("react.context"),q=Symbol.for("react.forward_ref"),F=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),R=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),z=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function V(s){return s===null||typeof s!="object"?null:(s=M&&s[M]||s["@@iterator"],typeof s=="function"?s:null)}var P=Symbol.for("react.client.reference");function Dt(s){if(s==null)return null;if(typeof s=="function")return s.$$typeof===P?null:s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case C:return"Fragment";case O:return"Profiler";case w:return"StrictMode";case F:return"Suspense";case G:return"SuspenseList";case N:return"Activity"}if(typeof s=="object")switch(s.$$typeof){case S:return"Portal";case H:return s.displayName||"Context";case L:return(s._context.displayName||"Context")+".Consumer";case q:var a=s.render;return s=s.displayName,s||(s=a.displayName||a.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case R:return a=s.displayName||null,a!==null?a:Dt(s.type)||"Memo";case I:a=s._payload,s=s._init;try{return Dt(s(a))}catch{}}return null}var vt=Array.isArray,X=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ot=e.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,pt={pending:!1,data:null,method:null,action:null},At=[],Rt=-1;function B(s){return{current:s}}function et(s){0>Rt||(s.current=At[Rt],At[Rt]=null,Rt--)}function ct(s,a){Rt++,At[Rt]=s.current,s.current=a}var ut=B(null),bt=B(null),xt=B(null),lt=B(null);function Lt(s,a){switch(ct(xt,a),ct(bt,s),ct(ut,null),a.nodeType){case 9:case 11:s=(s=a.documentElement)&&(s=s.namespaceURI)?aE(s):0;break;default:if(s=a.tagName,a=a.namespaceURI)a=aE(a),s=oE(a,s);else switch(s){case"svg":s=1;break;case"math":s=2;break;default:s=0}}et(ut),ct(ut,s)}function Vt(){et(ut),et(bt),et(xt)}function ge(s){s.memoizedState!==null&&ct(lt,s);var a=ut.current,c=oE(a,s.type);a!==c&&(ct(bt,s),ct(ut,c))}function on(s){bt.current===s&&(et(ut),et(bt)),lt.current===s&&(et(lt),Wc._currentValue=pt)}var Se,kn;function ai(s){if(Se===void 0)try{throw Error()}catch(c){var a=c.stack.trim().match(/\n( *(at )?)/);Se=a&&a[1]||"",kn=-1<c.stack.indexOf(`
    at`)?" (<anonymous>)":-1<c.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Se+s+kn}var _a=!1;function oi(s,a){if(!s||_a)return"";_a=!0;var c=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var h={DetermineComponentFrameRoot:function(){try{if(a){var rt=function(){throw Error()};if(Object.defineProperty(rt.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(rt,[])}catch(tt){var J=tt}Reflect.construct(s,[],rt)}else{try{rt.call()}catch(tt){J=tt}s.call(rt.prototype)}}else{try{throw Error()}catch(tt){J=tt}(rt=s())&&typeof rt.catch=="function"&&rt.catch(function(){})}}catch(tt){if(tt&&J&&typeof tt.stack=="string")return[tt.stack,J.stack]}return[null,null]}};h.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var m=Object.getOwnPropertyDescriptor(h.DetermineComponentFrameRoot,"name");m&&m.configurable&&Object.defineProperty(h.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var b=h.DetermineComponentFrameRoot(),E=b[0],D=b[1];if(E&&D){var j=E.split(`
`),Q=D.split(`
`);for(m=h=0;h<j.length&&!j[h].includes("DetermineComponentFrameRoot");)h++;for(;m<Q.length&&!Q[m].includes("DetermineComponentFrameRoot");)m++;if(h===j.length||m===Q.length)for(h=j.length-1,m=Q.length-1;1<=h&&0<=m&&j[h]!==Q[m];)m--;for(;1<=h&&0<=m;h--,m--)if(j[h]!==Q[m]){if(h!==1||m!==1)do if(h--,m--,0>m||j[h]!==Q[m]){var nt=`
`+j[h].replace(" at new "," at ");return s.displayName&&nt.includes("<anonymous>")&&(nt=nt.replace("<anonymous>",s.displayName)),nt}while(1<=h&&0<=m);break}}}finally{_a=!1,Error.prepareStackTrace=c}return(c=s?s.displayName||s.name:"")?ai(c):""}function va(s,a){switch(s.tag){case 26:case 27:case 5:return ai(s.type);case 16:return ai("Lazy");case 13:return s.child!==a&&a!==null?ai("Suspense Fallback"):ai("Suspense");case 19:return ai("SuspenseList");case 0:case 15:return oi(s.type,!1);case 11:return oi(s.type.render,!1);case 1:return oi(s.type,!0);case 31:return ai("Activity");default:return""}}function Ds(s){try{var a="",c=null;do a+=va(s,c),c=s,s=s.return;while(s);return a}catch(h){return`
Error generating stack: `+h.message+`
`+h.stack}}var ft=Object.prototype.hasOwnProperty,Kt=n.unstable_scheduleCallback,ze=n.unstable_cancelCallback,Kl=n.unstable_shouldYield,_h=n.unstable_requestPaint,An=n.unstable_now,xa=n.unstable_getCurrentPriorityLevel,Ql=n.unstable_ImmediatePriority,Xl=n.unstable_UserBlockingPriority,ur=n.unstable_NormalPriority,Xg=n.unstable_LowPriority,vh=n.unstable_IdlePriority,xh=n.log,Eh=n.unstable_setDisableYieldValue,Ri=null,ln=null;function li(s){if(typeof xh=="function"&&Eh(s),ln&&typeof ln.setStrictMode=="function")try{ln.setStrictMode(Ri,s)}catch{}}var De=Math.clz32?Math.clz32:Sh,Th=Math.log,To=Math.LN2;function Sh(s){return s>>>=0,s===0?32:31-(Th(s)/To|0)|0}var Ki=256,Ea=262144,Le=4194304;function Qi(s){var a=s&42;if(a!==0)return a;switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return s&261888;case 262144:case 524288:case 1048576:case 2097152:return s&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return s&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return s}}function Xi(s,a,c){var h=s.pendingLanes;if(h===0)return 0;var m=0,b=s.suspendedLanes,E=s.pingedLanes;s=s.warmLanes;var D=h&134217727;return D!==0?(h=D&~b,h!==0?m=Qi(h):(E&=D,E!==0?m=Qi(E):c||(c=D&~s,c!==0&&(m=Qi(c))))):(D=h&~b,D!==0?m=Qi(D):E!==0?m=Qi(E):c||(c=h&~s,c!==0&&(m=Qi(c)))),m===0?0:a!==0&&a!==m&&(a&b)===0&&(b=m&-m,c=a&-a,b>=c||b===32&&(c&4194048)!==0)?a:m}function Ni(s,a){return(s.pendingLanes&~(s.suspendedLanes&~s.pingedLanes)&a)===0}function Jg(s,a){switch(s){case 1:case 2:case 4:case 8:case 64:return a+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wh(){var s=Le;return Le<<=1,(Le&62914560)===0&&(Le=4194304),s}function Ji(s){for(var a=[],c=0;31>c;c++)a.push(s);return a}function Ta(s,a){s.pendingLanes|=a,a!==268435456&&(s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0)}function Zg(s,a,c,h,m,b){var E=s.pendingLanes;s.pendingLanes=c,s.suspendedLanes=0,s.pingedLanes=0,s.warmLanes=0,s.expiredLanes&=c,s.entangledLanes&=c,s.errorRecoveryDisabledLanes&=c,s.shellSuspendCounter=0;var D=s.entanglements,j=s.expirationTimes,Q=s.hiddenUpdates;for(c=E&~c;0<c;){var nt=31-De(c),rt=1<<nt;D[nt]=0,j[nt]=-1;var J=Q[nt];if(J!==null)for(Q[nt]=null,nt=0;nt<J.length;nt++){var tt=J[nt];tt!==null&&(tt.lane&=-536870913)}c&=~rt}h!==0&&Sa(s,h,0),b!==0&&m===0&&s.tag!==0&&(s.suspendedLanes|=b&~(E&~a))}function Sa(s,a,c){s.pendingLanes|=a,s.suspendedLanes&=~a;var h=31-De(a);s.entangledLanes|=a,s.entanglements[h]=s.entanglements[h]|1073741824|c&261930}function Jl(s,a){var c=s.entangledLanes|=a;for(s=s.entanglements;c;){var h=31-De(c),m=1<<h;m&a|s[h]&a&&(s[h]|=a),c&=~m}}function Zl(s,a){var c=a&-a;return c=(c&42)!==0?1:wa(c),(c&(s.suspendedLanes|a))!==0?0:c}function wa(s){switch(s){case 2:s=1;break;case 8:s=4;break;case 32:s=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:s=128;break;case 268435456:s=134217728;break;default:s=0}return s}function Rs(s){return s&=-s,2<s?8<s?(s&134217727)!==0?32:268435456:8:2}function Ah(){var s=ot.p;return s!==0?s:(s=window.event,s===void 0?32:RE(s.type))}function ki(s,a){var c=ot.p;try{return ot.p=s,a()}finally{ot.p=c}}var Oi=Math.random().toString(36).slice(2),Ve="__reactFiber$"+Oi,Je="__reactProps$"+Oi,Zi="__reactContainer$"+Oi,So="__reactEvents$"+Oi,tp="__reactListeners$"+Oi,Ch="__reactHandles$"+Oi,Ih="__reactResources$"+Oi,ts="__reactMarker$"+Oi;function wo(s){delete s[Ve],delete s[Je],delete s[So],delete s[tp],delete s[Ch]}function es(s){var a=s[Ve];if(a)return a;for(var c=s.parentNode;c;){if(a=c[Zi]||c[Ve]){if(c=a.alternate,a.child!==null||c!==null&&c.child!==null)for(s=gE(s);s!==null;){if(c=s[Ve])return c;s=gE(s)}return a}s=c,c=s.parentNode}return null}function ci(s){if(s=s[Ve]||s[Zi]){var a=s.tag;if(a===5||a===6||a===13||a===31||a===26||a===27||a===3)return s}return null}function qn(s){var a=s.tag;if(a===5||a===26||a===27||a===6)return s.stateNode;throw Error(i(33))}function ns(s){var a=s[Ih];return a||(a=s[Ih]={hoistableStyles:new Map,hoistableScripts:new Map}),a}function je(s){s[ts]=!0}var tc=new Set,ec={};function is(s,a){ss(s,a),ss(s+"Capture",a)}function ss(s,a){for(ec[s]=a,s=0;s<a.length;s++)tc.add(a[s])}var nc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ic={},sc={};function Dh(s){return ft.call(sc,s)?!0:ft.call(ic,s)?!1:nc.test(s)?sc[s]=!0:(ic[s]=!0,!1)}function Ao(s,a,c){if(Dh(a))if(c===null)s.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":s.removeAttribute(a);return;case"boolean":var h=a.toLowerCase().slice(0,5);if(h!=="data-"&&h!=="aria-"){s.removeAttribute(a);return}}s.setAttribute(a,""+c)}}function Gn(s,a,c){if(c===null)s.removeAttribute(a);else{switch(typeof c){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(a);return}s.setAttribute(a,""+c)}}function Be(s,a,c,h){if(h===null)s.removeAttribute(c);else{switch(typeof h){case"undefined":case"function":case"symbol":case"boolean":s.removeAttribute(c);return}s.setAttributeNS(a,c,""+h)}}function Ze(s){switch(typeof s){case"bigint":case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function hr(s){var a=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function rc(s,a,c){var h=Object.getOwnPropertyDescriptor(s.constructor.prototype,a);if(!s.hasOwnProperty(a)&&typeof h<"u"&&typeof h.get=="function"&&typeof h.set=="function"){var m=h.get,b=h.set;return Object.defineProperty(s,a,{configurable:!0,get:function(){return m.call(this)},set:function(E){c=""+E,b.call(this,E)}}),Object.defineProperty(s,a,{enumerable:h.enumerable}),{getValue:function(){return c},setValue:function(E){c=""+E},stopTracking:function(){s._valueTracker=null,delete s[a]}}}}function re(s){if(!s._valueTracker){var a=hr(s)?"checked":"value";s._valueTracker=rc(s,a,""+s[a])}}function Aa(s){if(!s)return!1;var a=s._valueTracker;if(!a)return!0;var c=a.getValue(),h="";return s&&(h=hr(s)?s.checked?"true":"false":s.value),s=h,s!==c?(a.setValue(s),!0):!1}function rs(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}var Ca=/[\n"\\]/g;function On(s){return s.replace(Ca,function(a){return"\\"+a.charCodeAt(0).toString(16)+" "})}function Co(s,a,c,h,m,b,E,D){s.name="",E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?s.type=E:s.removeAttribute("type"),a!=null?E==="number"?(a===0&&s.value===""||s.value!=a)&&(s.value=""+Ze(a)):s.value!==""+Ze(a)&&(s.value=""+Ze(a)):E!=="submit"&&E!=="reset"||s.removeAttribute("value"),a!=null?ac(s,E,Ze(a)):c!=null?ac(s,E,Ze(c)):h!=null&&s.removeAttribute("value"),m==null&&b!=null&&(s.defaultChecked=!!b),m!=null&&(s.checked=m&&typeof m!="function"&&typeof m!="symbol"),D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"?s.name=""+Ze(D):s.removeAttribute("name")}function Rh(s,a,c,h,m,b,E,D){if(b!=null&&typeof b!="function"&&typeof b!="symbol"&&typeof b!="boolean"&&(s.type=b),a!=null||c!=null){if(!(b!=="submit"&&b!=="reset"||a!=null)){re(s);return}c=c!=null?""+Ze(c):"",a=a!=null?""+Ze(a):c,D||a===s.value||(s.value=a),s.defaultValue=a}h=h??m,h=typeof h!="function"&&typeof h!="symbol"&&!!h,s.checked=D?s.checked:!!h,s.defaultChecked=!!h,E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"&&(s.name=E),re(s)}function ac(s,a,c){a==="number"&&rs(s.ownerDocument)===s||s.defaultValue===""+c||(s.defaultValue=""+c)}function dr(s,a,c,h){if(s=s.options,a){a={};for(var m=0;m<c.length;m++)a["$"+c[m]]=!0;for(c=0;c<s.length;c++)m=a.hasOwnProperty("$"+s[c].value),s[c].selected!==m&&(s[c].selected=m),m&&h&&(s[c].defaultSelected=!0)}else{for(c=""+Ze(c),a=null,m=0;m<s.length;m++){if(s[m].value===c){s[m].selected=!0,h&&(s[m].defaultSelected=!0);return}a!==null||s[m].disabled||(a=s[m])}a!==null&&(a.selected=!0)}}function Nh(s,a,c){if(a!=null&&(a=""+Ze(a),a!==s.value&&(s.value=a),c==null)){s.defaultValue!==a&&(s.defaultValue=a);return}s.defaultValue=c!=null?""+Ze(c):""}function fr(s,a,c,h){if(a==null){if(h!=null){if(c!=null)throw Error(i(92));if(vt(h)){if(1<h.length)throw Error(i(93));h=h[0]}c=h}c==null&&(c=""),a=c}c=Ze(a),s.defaultValue=c,h=s.textContent,h===c&&h!==""&&h!==null&&(s.value=h),re(s)}function Mn(s,a){if(a){var c=s.firstChild;if(c&&c===s.lastChild&&c.nodeType===3){c.nodeValue=a;return}}s.textContent=a}var kh=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function oc(s,a,c){var h=a.indexOf("--")===0;c==null||typeof c=="boolean"||c===""?h?s.setProperty(a,""):a==="float"?s.cssFloat="":s[a]="":h?s.setProperty(a,c):typeof c!="number"||c===0||kh.has(a)?a==="float"?s.cssFloat=c:s[a]=(""+c).trim():s[a]=c+"px"}function lc(s,a,c){if(a!=null&&typeof a!="object")throw Error(i(62));if(s=s.style,c!=null){for(var h in c)!c.hasOwnProperty(h)||a!=null&&a.hasOwnProperty(h)||(h.indexOf("--")===0?s.setProperty(h,""):h==="float"?s.cssFloat="":s[h]="");for(var m in a)h=a[m],a.hasOwnProperty(m)&&c[m]!==h&&oc(s,m,h)}else for(var b in a)a.hasOwnProperty(b)&&oc(s,b,a[b])}function Io(s){if(s.indexOf("-")===-1)return!1;switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Oh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),gr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Do(s){return gr.test(""+s)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":s}function Mi(){}var cc=null;function ui(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var pr=null,as=null;function Ia(s){var a=ci(s);if(a&&(s=a.stateNode)){var c=s[Je]||null;t:switch(s=a.stateNode,a.type){case"input":if(Co(s,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name),a=c.name,c.type==="radio"&&a!=null){for(c=s;c.parentNode;)c=c.parentNode;for(c=c.querySelectorAll('input[name="'+On(""+a)+'"][type="radio"]'),a=0;a<c.length;a++){var h=c[a];if(h!==s&&h.form===s.form){var m=h[Je]||null;if(!m)throw Error(i(90));Co(h,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name)}}for(a=0;a<c.length;a++)h=c[a],h.form===s.form&&Aa(h)}break t;case"textarea":Nh(s,c.value,c.defaultValue);break t;case"select":a=c.value,a!=null&&dr(s,!!c.multiple,a,!1)}}}var Ro=!1;function mr(s,a,c){if(Ro)return s(a,c);Ro=!0;try{var h=s(a);return h}finally{if(Ro=!1,(pr!==null||as!==null)&&(Ad(),pr&&(a=pr,s=as,as=pr=null,Ia(a),s)))for(a=0;a<s.length;a++)Ia(s[a])}}function Pi(s,a){var c=s.stateNode;if(c===null)return null;var h=c[Je]||null;if(h===null)return null;c=h[a];t:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break t;default:s=!1}if(s)return null;if(c&&typeof c!="function")throw Error(i(231,a,typeof c));return c}var hi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Da=!1;if(hi)try{var ce={};Object.defineProperty(ce,"passive",{get:function(){Da=!0}}),window.addEventListener("test",ce,ce),window.removeEventListener("test",ce,ce)}catch{Da=!1}var os=null,uc=null,Ra=null;function hc(){if(Ra)return Ra;var s,a=uc,c=a.length,h,m="value"in os?os.value:os.textContent,b=m.length;for(s=0;s<c&&a[s]===m[s];s++);var E=c-s;for(h=1;h<=E&&a[c-h]===m[b-h];h++);return Ra=m.slice(s,1<h?1-h:void 0)}function Na(s){var a=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&a===13&&(s=13)):s=a,s===10&&(s=13),32<=s||s===13?s:0}function Ns(){return!0}function zi(){return!1}function cn(s){function a(c,h,m,b,E){this._reactName=c,this._targetInst=m,this.type=h,this.nativeEvent=b,this.target=E,this.currentTarget=null;for(var D in s)s.hasOwnProperty(D)&&(c=s[D],this[D]=c?c(b):b[D]);return this.isDefaultPrevented=(b.defaultPrevented!=null?b.defaultPrevented:b.returnValue===!1)?Ns:zi,this.isPropagationStopped=zi,this}return y(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var c=this.nativeEvent;c&&(c.preventDefault?c.preventDefault():typeof c.returnValue!="unknown"&&(c.returnValue=!1),this.isDefaultPrevented=Ns)},stopPropagation:function(){var c=this.nativeEvent;c&&(c.stopPropagation?c.stopPropagation():typeof c.cancelBubble!="unknown"&&(c.cancelBubble=!0),this.isPropagationStopped=Ns)},persist:function(){},isPersistent:Ns}),a}var ks={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ls=cn(ks),yr=y({},ks,{view:0,detail:0}),dc=cn(yr),br,No,cs,ko=y({},yr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_r,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==cs&&(cs&&s.type==="mousemove"?(br=s.screenX-cs.screenX,No=s.screenY-cs.screenY):No=br=0,cs=s),br)},movementY:function(s){return"movementY"in s?s.movementY:No}}),fc=cn(ko),ka=y({},ko,{dataTransfer:0}),Mh=cn(ka),Ph=y({},yr,{relatedTarget:0}),Oa=cn(Ph),gc=y({},ks,{animationName:0,elapsedTime:0,pseudoElement:0}),zh=cn(gc),Oo=y({},ks,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Lh=cn(Oo),Vh=y({},ks,{data:0}),us=cn(Vh),jh={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Bh={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Uh={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Fh(s){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(s):(s=Uh[s])?!!a[s]:!1}function _r(){return Fh}var Cn=y({},yr,{key:function(s){if(s.key){var a=jh[s.key]||s.key;if(a!=="Unidentified")return a}return s.type==="keypress"?(s=Na(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?Bh[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_r,charCode:function(s){return s.type==="keypress"?Na(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?Na(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),Hh=cn(Cn),qh=y({},ko,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Os=cn(qh),g=y({},yr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_r}),x=cn(g),T=y({},ks,{propertyName:0,elapsedTime:0,pseudoElement:0}),k=cn(T),Y=y({},ko,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),Z=cn(Y),dt=y({},ks,{newState:0,oldState:0}),Mt=cn(dt),Re=[9,13,27,32],ee=hi&&"CompositionEvent"in window,xe=null;hi&&"documentMode"in document&&(xe=document.documentMode);var di=hi&&"TextEvent"in window&&!xe,hs=hi&&(!ee||xe&&8<xe&&11>=xe),Li=" ",Vi=!1;function Ma(s,a){switch(s){case"keyup":return Re.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mo(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Po=!1;function wD(s,a){switch(s){case"compositionend":return Mo(a);case"keypress":return a.which!==32?null:(Vi=!0,Li);case"textInput":return s=a.data,s===Li&&Vi?null:s;default:return null}}function AD(s,a){if(Po)return s==="compositionend"||!ee&&Ma(s,a)?(s=hc(),Ra=uc=os=null,Po=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return hs&&a.locale!=="ko"?null:a.data;default:return null}}var CD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function y_(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a==="input"?!!CD[s.type]:a==="textarea"}function b_(s,a,c,h){pr?as?as.push(h):as=[h]:pr=h,a=Od(a,"onChange"),0<a.length&&(c=new ls("onChange","change",null,c,h),s.push({event:c,listeners:a}))}var pc=null,mc=null;function ID(s){tE(s,0)}function Gh(s){var a=qn(s);if(Aa(a))return s}function __(s,a){if(s==="change")return a}var v_=!1;if(hi){var ep;if(hi){var np="oninput"in document;if(!np){var x_=document.createElement("div");x_.setAttribute("oninput","return;"),np=typeof x_.oninput=="function"}ep=np}else ep=!1;v_=ep&&(!document.documentMode||9<document.documentMode)}function E_(){pc&&(pc.detachEvent("onpropertychange",T_),mc=pc=null)}function T_(s){if(s.propertyName==="value"&&Gh(mc)){var a=[];b_(a,mc,s,ui(s)),mr(ID,a)}}function DD(s,a,c){s==="focusin"?(E_(),pc=a,mc=c,pc.attachEvent("onpropertychange",T_)):s==="focusout"&&E_()}function RD(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Gh(mc)}function ND(s,a){if(s==="click")return Gh(a)}function kD(s,a){if(s==="input"||s==="change")return Gh(a)}function OD(s,a){return s===a&&(s!==0||1/s===1/a)||s!==s&&a!==a}var $n=typeof Object.is=="function"?Object.is:OD;function yc(s,a){if($n(s,a))return!0;if(typeof s!="object"||s===null||typeof a!="object"||a===null)return!1;var c=Object.keys(s),h=Object.keys(a);if(c.length!==h.length)return!1;for(h=0;h<c.length;h++){var m=c[h];if(!ft.call(a,m)||!$n(s[m],a[m]))return!1}return!0}function S_(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function w_(s,a){var c=S_(s);s=0;for(var h;c;){if(c.nodeType===3){if(h=s+c.textContent.length,s<=a&&h>=a)return{node:c,offset:a-s};s=h}t:{for(;c;){if(c.nextSibling){c=c.nextSibling;break t}c=c.parentNode}c=void 0}c=S_(c)}}function A_(s,a){return s&&a?s===a?!0:s&&s.nodeType===3?!1:a&&a.nodeType===3?A_(s,a.parentNode):"contains"in s?s.contains(a):s.compareDocumentPosition?!!(s.compareDocumentPosition(a)&16):!1:!1}function C_(s){s=s!=null&&s.ownerDocument!=null&&s.ownerDocument.defaultView!=null?s.ownerDocument.defaultView:window;for(var a=rs(s.document);a instanceof s.HTMLIFrameElement;){try{var c=typeof a.contentWindow.location.href=="string"}catch{c=!1}if(c)s=a.contentWindow;else break;a=rs(s.document)}return a}function ip(s){var a=s&&s.nodeName&&s.nodeName.toLowerCase();return a&&(a==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||a==="textarea"||s.contentEditable==="true")}var MD=hi&&"documentMode"in document&&11>=document.documentMode,zo=null,sp=null,bc=null,rp=!1;function I_(s,a,c){var h=c.window===c?c.document:c.nodeType===9?c:c.ownerDocument;rp||zo==null||zo!==rs(h)||(h=zo,"selectionStart"in h&&ip(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),bc&&yc(bc,h)||(bc=h,h=Od(sp,"onSelect"),0<h.length&&(a=new ls("onSelect","select",null,a,c),s.push({event:a,listeners:h}),a.target=zo)))}function Pa(s,a){var c={};return c[s.toLowerCase()]=a.toLowerCase(),c["Webkit"+s]="webkit"+a,c["Moz"+s]="moz"+a,c}var Lo={animationend:Pa("Animation","AnimationEnd"),animationiteration:Pa("Animation","AnimationIteration"),animationstart:Pa("Animation","AnimationStart"),transitionrun:Pa("Transition","TransitionRun"),transitionstart:Pa("Transition","TransitionStart"),transitioncancel:Pa("Transition","TransitionCancel"),transitionend:Pa("Transition","TransitionEnd")},ap={},D_={};hi&&(D_=document.createElement("div").style,"AnimationEvent"in window||(delete Lo.animationend.animation,delete Lo.animationiteration.animation,delete Lo.animationstart.animation),"TransitionEvent"in window||delete Lo.transitionend.transition);function za(s){if(ap[s])return ap[s];if(!Lo[s])return s;var a=Lo[s],c;for(c in a)if(a.hasOwnProperty(c)&&c in D_)return ap[s]=a[c];return s}var R_=za("animationend"),N_=za("animationiteration"),k_=za("animationstart"),PD=za("transitionrun"),zD=za("transitionstart"),LD=za("transitioncancel"),O_=za("transitionend"),M_=new Map,op="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");op.push("scrollEnd");function ji(s,a){M_.set(s,a),is(a,[s])}var $h=typeof reportError=="function"?reportError:function(s){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var a=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof s=="object"&&s!==null&&typeof s.message=="string"?String(s.message):String(s),error:s});if(!window.dispatchEvent(a))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",s);return}console.error(s)},fi=[],Vo=0,lp=0;function Wh(){for(var s=Vo,a=lp=Vo=0;a<s;){var c=fi[a];fi[a++]=null;var h=fi[a];fi[a++]=null;var m=fi[a];fi[a++]=null;var b=fi[a];if(fi[a++]=null,h!==null&&m!==null){var E=h.pending;E===null?m.next=m:(m.next=E.next,E.next=m),h.pending=m}b!==0&&P_(c,m,b)}}function Yh(s,a,c,h){fi[Vo++]=s,fi[Vo++]=a,fi[Vo++]=c,fi[Vo++]=h,lp|=h,s.lanes|=h,s=s.alternate,s!==null&&(s.lanes|=h)}function cp(s,a,c,h){return Yh(s,a,c,h),Kh(s)}function La(s,a){return Yh(s,null,null,a),Kh(s)}function P_(s,a,c){s.lanes|=c;var h=s.alternate;h!==null&&(h.lanes|=c);for(var m=!1,b=s.return;b!==null;)b.childLanes|=c,h=b.alternate,h!==null&&(h.childLanes|=c),b.tag===22&&(s=b.stateNode,s===null||s._visibility&1||(m=!0)),s=b,b=b.return;return s.tag===3?(b=s.stateNode,m&&a!==null&&(m=31-De(c),s=b.hiddenUpdates,h=s[m],h===null?s[m]=[a]:h.push(a),a.lane=c|536870912),b):null}function Kh(s){if(50<Bc)throw Bc=0,bm=null,Error(i(185));for(var a=s.return;a!==null;)s=a,a=s.return;return s.tag===3?s.stateNode:null}var jo={};function VD(s,a,c,h){this.tag=s,this.key=c,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Wn(s,a,c,h){return new VD(s,a,c,h)}function up(s){return s=s.prototype,!(!s||!s.isReactComponent)}function Ms(s,a){var c=s.alternate;return c===null?(c=Wn(s.tag,a,s.key,s.mode),c.elementType=s.elementType,c.type=s.type,c.stateNode=s.stateNode,c.alternate=s,s.alternate=c):(c.pendingProps=a,c.type=s.type,c.flags=0,c.subtreeFlags=0,c.deletions=null),c.flags=s.flags&65011712,c.childLanes=s.childLanes,c.lanes=s.lanes,c.child=s.child,c.memoizedProps=s.memoizedProps,c.memoizedState=s.memoizedState,c.updateQueue=s.updateQueue,a=s.dependencies,c.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},c.sibling=s.sibling,c.index=s.index,c.ref=s.ref,c.refCleanup=s.refCleanup,c}function z_(s,a){s.flags&=65011714;var c=s.alternate;return c===null?(s.childLanes=0,s.lanes=a,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,a=c.dependencies,s.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext}),s}function Qh(s,a,c,h,m,b){var E=0;if(h=s,typeof s=="function")up(s)&&(E=1);else if(typeof s=="string")E=HR(s,c,ut.current)?26:s==="html"||s==="head"||s==="body"?27:5;else t:switch(s){case N:return s=Wn(31,c,a,m),s.elementType=N,s.lanes=b,s;case C:return Va(c.children,m,b,a);case w:E=8,m|=24;break;case O:return s=Wn(12,c,a,m|2),s.elementType=O,s.lanes=b,s;case F:return s=Wn(13,c,a,m),s.elementType=F,s.lanes=b,s;case G:return s=Wn(19,c,a,m),s.elementType=G,s.lanes=b,s;default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case H:E=10;break t;case L:E=9;break t;case q:E=11;break t;case R:E=14;break t;case I:E=16,h=null;break t}E=29,c=Error(i(130,s===null?"null":typeof s,"")),h=null}return a=Wn(E,c,a,m),a.elementType=s,a.type=h,a.lanes=b,a}function Va(s,a,c,h){return s=Wn(7,s,h,a),s.lanes=c,s}function hp(s,a,c){return s=Wn(6,s,null,a),s.lanes=c,s}function L_(s){var a=Wn(18,null,null,0);return a.stateNode=s,a}function dp(s,a,c){return a=Wn(4,s.children!==null?s.children:[],s.key,a),a.lanes=c,a.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},a}var V_=new WeakMap;function gi(s,a){if(typeof s=="object"&&s!==null){var c=V_.get(s);return c!==void 0?c:(a={value:s,source:a,stack:Ds(a)},V_.set(s,a),a)}return{value:s,source:a,stack:Ds(a)}}var Bo=[],Uo=0,Xh=null,_c=0,pi=[],mi=0,vr=null,ds=1,fs="";function Ps(s,a){Bo[Uo++]=_c,Bo[Uo++]=Xh,Xh=s,_c=a}function j_(s,a,c){pi[mi++]=ds,pi[mi++]=fs,pi[mi++]=vr,vr=s;var h=ds;s=fs;var m=32-De(h)-1;h&=~(1<<m),c+=1;var b=32-De(a)+m;if(30<b){var E=m-m%5;b=(h&(1<<E)-1).toString(32),h>>=E,m-=E,ds=1<<32-De(a)+m|c<<m|h,fs=b+s}else ds=1<<b|c<<m|h,fs=s}function fp(s){s.return!==null&&(Ps(s,1),j_(s,1,0))}function gp(s){for(;s===Xh;)Xh=Bo[--Uo],Bo[Uo]=null,_c=Bo[--Uo],Bo[Uo]=null;for(;s===vr;)vr=pi[--mi],pi[mi]=null,fs=pi[--mi],pi[mi]=null,ds=pi[--mi],pi[mi]=null}function B_(s,a){pi[mi++]=ds,pi[mi++]=fs,pi[mi++]=vr,ds=a.id,fs=a.overflow,vr=s}var un=null,ye=null,Wt=!1,xr=null,yi=!1,pp=Error(i(519));function Er(s){var a=Error(i(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw vc(gi(a,s)),pp}function U_(s){var a=s.stateNode,c=s.type,h=s.memoizedProps;switch(a[Ve]=s,a[Je]=h,c){case"dialog":Bt("cancel",a),Bt("close",a);break;case"iframe":case"object":case"embed":Bt("load",a);break;case"video":case"audio":for(c=0;c<Fc.length;c++)Bt(Fc[c],a);break;case"source":Bt("error",a);break;case"img":case"image":case"link":Bt("error",a),Bt("load",a);break;case"details":Bt("toggle",a);break;case"input":Bt("invalid",a),Rh(a,h.value,h.defaultValue,h.checked,h.defaultChecked,h.type,h.name,!0);break;case"select":Bt("invalid",a);break;case"textarea":Bt("invalid",a),fr(a,h.value,h.defaultValue,h.children)}c=h.children,typeof c!="string"&&typeof c!="number"&&typeof c!="bigint"||a.textContent===""+c||h.suppressHydrationWarning===!0||sE(a.textContent,c)?(h.popover!=null&&(Bt("beforetoggle",a),Bt("toggle",a)),h.onScroll!=null&&Bt("scroll",a),h.onScrollEnd!=null&&Bt("scrollend",a),h.onClick!=null&&(a.onclick=Mi),a=!0):a=!1,a||Er(s,!0)}function F_(s){for(un=s.return;un;)switch(un.tag){case 5:case 31:case 13:yi=!1;return;case 27:case 3:yi=!0;return;default:un=un.return}}function Fo(s){if(s!==un)return!1;if(!Wt)return F_(s),Wt=!0,!1;var a=s.tag,c;if((c=a!==3&&a!==27)&&((c=a===5)&&(c=s.type,c=!(c!=="form"&&c!=="button")||Om(s.type,s.memoizedProps)),c=!c),c&&ye&&Er(s),F_(s),a===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));ye=fE(s)}else if(a===31){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(317));ye=fE(s)}else a===27?(a=ye,zr(s.type)?(s=Vm,Vm=null,ye=s):ye=a):ye=un?_i(s.stateNode.nextSibling):null;return!0}function ja(){ye=un=null,Wt=!1}function mp(){var s=xr;return s!==null&&(Vn===null?Vn=s:Vn.push.apply(Vn,s),xr=null),s}function vc(s){xr===null?xr=[s]:xr.push(s)}var yp=B(null),Ba=null,zs=null;function Tr(s,a,c){ct(yp,a._currentValue),a._currentValue=c}function Ls(s){s._currentValue=yp.current,et(yp)}function bp(s,a,c){for(;s!==null;){var h=s.alternate;if((s.childLanes&a)!==a?(s.childLanes|=a,h!==null&&(h.childLanes|=a)):h!==null&&(h.childLanes&a)!==a&&(h.childLanes|=a),s===c)break;s=s.return}}function _p(s,a,c,h){var m=s.child;for(m!==null&&(m.return=s);m!==null;){var b=m.dependencies;if(b!==null){var E=m.child;b=b.firstContext;t:for(;b!==null;){var D=b;b=m;for(var j=0;j<a.length;j++)if(D.context===a[j]){b.lanes|=c,D=b.alternate,D!==null&&(D.lanes|=c),bp(b.return,c,s),h||(E=null);break t}b=D.next}}else if(m.tag===18){if(E=m.return,E===null)throw Error(i(341));E.lanes|=c,b=E.alternate,b!==null&&(b.lanes|=c),bp(E,c,s),E=null}else E=m.child;if(E!==null)E.return=m;else for(E=m;E!==null;){if(E===s){E=null;break}if(m=E.sibling,m!==null){m.return=E.return,E=m;break}E=E.return}m=E}}function Ho(s,a,c,h){s=null;for(var m=a,b=!1;m!==null;){if(!b){if((m.flags&524288)!==0)b=!0;else if((m.flags&262144)!==0)break}if(m.tag===10){var E=m.alternate;if(E===null)throw Error(i(387));if(E=E.memoizedProps,E!==null){var D=m.type;$n(m.pendingProps.value,E.value)||(s!==null?s.push(D):s=[D])}}else if(m===lt.current){if(E=m.alternate,E===null)throw Error(i(387));E.memoizedState.memoizedState!==m.memoizedState.memoizedState&&(s!==null?s.push(Wc):s=[Wc])}m=m.return}s!==null&&_p(a,s,c,h),a.flags|=262144}function Jh(s){for(s=s.firstContext;s!==null;){if(!$n(s.context._currentValue,s.memoizedValue))return!0;s=s.next}return!1}function Ua(s){Ba=s,zs=null,s=s.dependencies,s!==null&&(s.firstContext=null)}function hn(s){return H_(Ba,s)}function Zh(s,a){return Ba===null&&Ua(s),H_(s,a)}function H_(s,a){var c=a._currentValue;if(a={context:a,memoizedValue:c,next:null},zs===null){if(s===null)throw Error(i(308));zs=a,s.dependencies={lanes:0,firstContext:a},s.flags|=524288}else zs=zs.next=a;return c}var jD=typeof AbortController<"u"?AbortController:function(){var s=[],a=this.signal={aborted:!1,addEventListener:function(c,h){s.push(h)}};this.abort=function(){a.aborted=!0,s.forEach(function(c){return c()})}},BD=n.unstable_scheduleCallback,UD=n.unstable_NormalPriority,Ue={$$typeof:H,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function vp(){return{controller:new jD,data:new Map,refCount:0}}function xc(s){s.refCount--,s.refCount===0&&BD(UD,function(){s.controller.abort()})}var Ec=null,xp=0,qo=0,Go=null;function FD(s,a){if(Ec===null){var c=Ec=[];xp=0,qo=Sm(),Go={status:"pending",value:void 0,then:function(h){c.push(h)}}}return xp++,a.then(q_,q_),a}function q_(){if(--xp===0&&Ec!==null){Go!==null&&(Go.status="fulfilled");var s=Ec;Ec=null,qo=0,Go=null;for(var a=0;a<s.length;a++)(0,s[a])()}}function HD(s,a){var c=[],h={status:"pending",value:null,reason:null,then:function(m){c.push(m)}};return s.then(function(){h.status="fulfilled",h.value=a;for(var m=0;m<c.length;m++)(0,c[m])(a)},function(m){for(h.status="rejected",h.reason=m,m=0;m<c.length;m++)(0,c[m])(void 0)}),h}var G_=X.S;X.S=function(s,a){Ix=An(),typeof a=="object"&&a!==null&&typeof a.then=="function"&&FD(s,a),G_!==null&&G_(s,a)};var Fa=B(null);function Ep(){var s=Fa.current;return s!==null?s:fe.pooledCache}function td(s,a){a===null?ct(Fa,Fa.current):ct(Fa,a.pool)}function $_(){var s=Ep();return s===null?null:{parent:Ue._currentValue,pool:s}}var $o=Error(i(460)),Tp=Error(i(474)),ed=Error(i(542)),nd={then:function(){}};function W_(s){return s=s.status,s==="fulfilled"||s==="rejected"}function Y_(s,a,c){switch(c=s[c],c===void 0?s.push(a):c!==a&&(a.then(Mi,Mi),a=c),a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,Q_(s),s;default:if(typeof a.status=="string")a.then(Mi,Mi);else{if(s=fe,s!==null&&100<s.shellSuspendCounter)throw Error(i(482));s=a,s.status="pending",s.then(function(h){if(a.status==="pending"){var m=a;m.status="fulfilled",m.value=h}},function(h){if(a.status==="pending"){var m=a;m.status="rejected",m.reason=h}})}switch(a.status){case"fulfilled":return a.value;case"rejected":throw s=a.reason,Q_(s),s}throw qa=a,$o}}function Ha(s){try{var a=s._init;return a(s._payload)}catch(c){throw c!==null&&typeof c=="object"&&typeof c.then=="function"?(qa=c,$o):c}}var qa=null;function K_(){if(qa===null)throw Error(i(459));var s=qa;return qa=null,s}function Q_(s){if(s===$o||s===ed)throw Error(i(483))}var Wo=null,Tc=0;function id(s){var a=Tc;return Tc+=1,Wo===null&&(Wo=[]),Y_(Wo,s,a)}function Sc(s,a){a=a.props.ref,s.ref=a!==void 0?a:null}function sd(s,a){throw a.$$typeof===_?Error(i(525)):(s=Object.prototype.toString.call(a),Error(i(31,s==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":s)))}function X_(s){function a($,U){if(s){var K=$.deletions;K===null?($.deletions=[U],$.flags|=16):K.push(U)}}function c($,U){if(!s)return null;for(;U!==null;)a($,U),U=U.sibling;return null}function h($){for(var U=new Map;$!==null;)$.key!==null?U.set($.key,$):U.set($.index,$),$=$.sibling;return U}function m($,U){return $=Ms($,U),$.index=0,$.sibling=null,$}function b($,U,K){return $.index=K,s?(K=$.alternate,K!==null?(K=K.index,K<U?($.flags|=67108866,U):K):($.flags|=67108866,U)):($.flags|=1048576,U)}function E($){return s&&$.alternate===null&&($.flags|=67108866),$}function D($,U,K,it){return U===null||U.tag!==6?(U=hp(K,$.mode,it),U.return=$,U):(U=m(U,K),U.return=$,U)}function j($,U,K,it){var Tt=K.type;return Tt===C?nt($,U,K.props.children,it,K.key):U!==null&&(U.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===I&&Ha(Tt)===U.type)?(U=m(U,K.props),Sc(U,K),U.return=$,U):(U=Qh(K.type,K.key,K.props,null,$.mode,it),Sc(U,K),U.return=$,U)}function Q($,U,K,it){return U===null||U.tag!==4||U.stateNode.containerInfo!==K.containerInfo||U.stateNode.implementation!==K.implementation?(U=dp(K,$.mode,it),U.return=$,U):(U=m(U,K.children||[]),U.return=$,U)}function nt($,U,K,it,Tt){return U===null||U.tag!==7?(U=Va(K,$.mode,it,Tt),U.return=$,U):(U=m(U,K),U.return=$,U)}function rt($,U,K){if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return U=hp(""+U,$.mode,K),U.return=$,U;if(typeof U=="object"&&U!==null){switch(U.$$typeof){case v:return K=Qh(U.type,U.key,U.props,null,$.mode,K),Sc(K,U),K.return=$,K;case S:return U=dp(U,$.mode,K),U.return=$,U;case I:return U=Ha(U),rt($,U,K)}if(vt(U)||V(U))return U=Va(U,$.mode,K,null),U.return=$,U;if(typeof U.then=="function")return rt($,id(U),K);if(U.$$typeof===H)return rt($,Zh($,U),K);sd($,U)}return null}function J($,U,K,it){var Tt=U!==null?U.key:null;if(typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint")return Tt!==null?null:D($,U,""+K,it);if(typeof K=="object"&&K!==null){switch(K.$$typeof){case v:return K.key===Tt?j($,U,K,it):null;case S:return K.key===Tt?Q($,U,K,it):null;case I:return K=Ha(K),J($,U,K,it)}if(vt(K)||V(K))return Tt!==null?null:nt($,U,K,it,null);if(typeof K.then=="function")return J($,U,id(K),it);if(K.$$typeof===H)return J($,U,Zh($,K),it);sd($,K)}return null}function tt($,U,K,it,Tt){if(typeof it=="string"&&it!==""||typeof it=="number"||typeof it=="bigint")return $=$.get(K)||null,D(U,$,""+it,Tt);if(typeof it=="object"&&it!==null){switch(it.$$typeof){case v:return $=$.get(it.key===null?K:it.key)||null,j(U,$,it,Tt);case S:return $=$.get(it.key===null?K:it.key)||null,Q(U,$,it,Tt);case I:return it=Ha(it),tt($,U,K,it,Tt)}if(vt(it)||V(it))return $=$.get(K)||null,nt(U,$,it,Tt,null);if(typeof it.then=="function")return tt($,U,K,id(it),Tt);if(it.$$typeof===H)return tt($,U,K,Zh(U,it),Tt);sd(U,it)}return null}function yt($,U,K,it){for(var Tt=null,Zt=null,_t=U,zt=U=0,Ht=null;_t!==null&&zt<K.length;zt++){_t.index>zt?(Ht=_t,_t=null):Ht=_t.sibling;var te=J($,_t,K[zt],it);if(te===null){_t===null&&(_t=Ht);break}s&&_t&&te.alternate===null&&a($,_t),U=b(te,U,zt),Zt===null?Tt=te:Zt.sibling=te,Zt=te,_t=Ht}if(zt===K.length)return c($,_t),Wt&&Ps($,zt),Tt;if(_t===null){for(;zt<K.length;zt++)_t=rt($,K[zt],it),_t!==null&&(U=b(_t,U,zt),Zt===null?Tt=_t:Zt.sibling=_t,Zt=_t);return Wt&&Ps($,zt),Tt}for(_t=h(_t);zt<K.length;zt++)Ht=tt(_t,$,zt,K[zt],it),Ht!==null&&(s&&Ht.alternate!==null&&_t.delete(Ht.key===null?zt:Ht.key),U=b(Ht,U,zt),Zt===null?Tt=Ht:Zt.sibling=Ht,Zt=Ht);return s&&_t.forEach(function(Ur){return a($,Ur)}),Wt&&Ps($,zt),Tt}function wt($,U,K,it){if(K==null)throw Error(i(151));for(var Tt=null,Zt=null,_t=U,zt=U=0,Ht=null,te=K.next();_t!==null&&!te.done;zt++,te=K.next()){_t.index>zt?(Ht=_t,_t=null):Ht=_t.sibling;var Ur=J($,_t,te.value,it);if(Ur===null){_t===null&&(_t=Ht);break}s&&_t&&Ur.alternate===null&&a($,_t),U=b(Ur,U,zt),Zt===null?Tt=Ur:Zt.sibling=Ur,Zt=Ur,_t=Ht}if(te.done)return c($,_t),Wt&&Ps($,zt),Tt;if(_t===null){for(;!te.done;zt++,te=K.next())te=rt($,te.value,it),te!==null&&(U=b(te,U,zt),Zt===null?Tt=te:Zt.sibling=te,Zt=te);return Wt&&Ps($,zt),Tt}for(_t=h(_t);!te.done;zt++,te=K.next())te=tt(_t,$,zt,te.value,it),te!==null&&(s&&te.alternate!==null&&_t.delete(te.key===null?zt:te.key),U=b(te,U,zt),Zt===null?Tt=te:Zt.sibling=te,Zt=te);return s&&_t.forEach(function(tN){return a($,tN)}),Wt&&Ps($,zt),Tt}function de($,U,K,it){if(typeof K=="object"&&K!==null&&K.type===C&&K.key===null&&(K=K.props.children),typeof K=="object"&&K!==null){switch(K.$$typeof){case v:t:{for(var Tt=K.key;U!==null;){if(U.key===Tt){if(Tt=K.type,Tt===C){if(U.tag===7){c($,U.sibling),it=m(U,K.props.children),it.return=$,$=it;break t}}else if(U.elementType===Tt||typeof Tt=="object"&&Tt!==null&&Tt.$$typeof===I&&Ha(Tt)===U.type){c($,U.sibling),it=m(U,K.props),Sc(it,K),it.return=$,$=it;break t}c($,U);break}else a($,U);U=U.sibling}K.type===C?(it=Va(K.props.children,$.mode,it,K.key),it.return=$,$=it):(it=Qh(K.type,K.key,K.props,null,$.mode,it),Sc(it,K),it.return=$,$=it)}return E($);case S:t:{for(Tt=K.key;U!==null;){if(U.key===Tt)if(U.tag===4&&U.stateNode.containerInfo===K.containerInfo&&U.stateNode.implementation===K.implementation){c($,U.sibling),it=m(U,K.children||[]),it.return=$,$=it;break t}else{c($,U);break}else a($,U);U=U.sibling}it=dp(K,$.mode,it),it.return=$,$=it}return E($);case I:return K=Ha(K),de($,U,K,it)}if(vt(K))return yt($,U,K,it);if(V(K)){if(Tt=V(K),typeof Tt!="function")throw Error(i(150));return K=Tt.call(K),wt($,U,K,it)}if(typeof K.then=="function")return de($,U,id(K),it);if(K.$$typeof===H)return de($,U,Zh($,K),it);sd($,K)}return typeof K=="string"&&K!==""||typeof K=="number"||typeof K=="bigint"?(K=""+K,U!==null&&U.tag===6?(c($,U.sibling),it=m(U,K),it.return=$,$=it):(c($,U),it=hp(K,$.mode,it),it.return=$,$=it),E($)):c($,U)}return function($,U,K,it){try{Tc=0;var Tt=de($,U,K,it);return Wo=null,Tt}catch(_t){if(_t===$o||_t===ed)throw _t;var Zt=Wn(29,_t,null,$.mode);return Zt.lanes=it,Zt.return=$,Zt}finally{}}}var Ga=X_(!0),J_=X_(!1),Sr=!1;function Sp(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function wp(s,a){s=s.updateQueue,a.updateQueue===s&&(a.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,callbacks:null})}function wr(s){return{lane:s,tag:0,payload:null,callback:null,next:null}}function Ar(s,a,c){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,(ne&2)!==0){var m=h.pending;return m===null?a.next=a:(a.next=m.next,m.next=a),h.pending=a,a=Kh(s),P_(s,null,c),a}return Yh(s,h,a,c),Kh(s)}function wc(s,a,c){if(a=a.updateQueue,a!==null&&(a=a.shared,(c&4194048)!==0)){var h=a.lanes;h&=s.pendingLanes,c|=h,a.lanes=c,Jl(s,c)}}function Ap(s,a){var c=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,c===h)){var m=null,b=null;if(c=c.firstBaseUpdate,c!==null){do{var E={lane:c.lane,tag:c.tag,payload:c.payload,callback:null,next:null};b===null?m=b=E:b=b.next=E,c=c.next}while(c!==null);b===null?m=b=a:b=b.next=a}else m=b=a;c={baseState:h.baseState,firstBaseUpdate:m,lastBaseUpdate:b,shared:h.shared,callbacks:h.callbacks},s.updateQueue=c;return}s=c.lastBaseUpdate,s===null?c.firstBaseUpdate=a:s.next=a,c.lastBaseUpdate=a}var Cp=!1;function Ac(){if(Cp){var s=Go;if(s!==null)throw s}}function Cc(s,a,c,h){Cp=!1;var m=s.updateQueue;Sr=!1;var b=m.firstBaseUpdate,E=m.lastBaseUpdate,D=m.shared.pending;if(D!==null){m.shared.pending=null;var j=D,Q=j.next;j.next=null,E===null?b=Q:E.next=Q,E=j;var nt=s.alternate;nt!==null&&(nt=nt.updateQueue,D=nt.lastBaseUpdate,D!==E&&(D===null?nt.firstBaseUpdate=Q:D.next=Q,nt.lastBaseUpdate=j))}if(b!==null){var rt=m.baseState;E=0,nt=Q=j=null,D=b;do{var J=D.lane&-536870913,tt=J!==D.lane;if(tt?(Ft&J)===J:(h&J)===J){J!==0&&J===qo&&(Cp=!0),nt!==null&&(nt=nt.next={lane:0,tag:D.tag,payload:D.payload,callback:null,next:null});t:{var yt=s,wt=D;J=a;var de=c;switch(wt.tag){case 1:if(yt=wt.payload,typeof yt=="function"){rt=yt.call(de,rt,J);break t}rt=yt;break t;case 3:yt.flags=yt.flags&-65537|128;case 0:if(yt=wt.payload,J=typeof yt=="function"?yt.call(de,rt,J):yt,J==null)break t;rt=y({},rt,J);break t;case 2:Sr=!0}}J=D.callback,J!==null&&(s.flags|=64,tt&&(s.flags|=8192),tt=m.callbacks,tt===null?m.callbacks=[J]:tt.push(J))}else tt={lane:J,tag:D.tag,payload:D.payload,callback:D.callback,next:null},nt===null?(Q=nt=tt,j=rt):nt=nt.next=tt,E|=J;if(D=D.next,D===null){if(D=m.shared.pending,D===null)break;tt=D,D=tt.next,tt.next=null,m.lastBaseUpdate=tt,m.shared.pending=null}}while(!0);nt===null&&(j=rt),m.baseState=j,m.firstBaseUpdate=Q,m.lastBaseUpdate=nt,b===null&&(m.shared.lanes=0),Nr|=E,s.lanes=E,s.memoizedState=rt}}function Z_(s,a){if(typeof s!="function")throw Error(i(191,s));s.call(a)}function tv(s,a){var c=s.callbacks;if(c!==null)for(s.callbacks=null,s=0;s<c.length;s++)Z_(c[s],a)}var Yo=B(null),rd=B(0);function ev(s,a){s=$s,ct(rd,s),ct(Yo,a),$s=s|a.baseLanes}function Ip(){ct(rd,$s),ct(Yo,Yo.current)}function Dp(){$s=rd.current,et(Yo),et(rd)}var Yn=B(null),bi=null;function Cr(s){var a=s.alternate;ct(Ne,Ne.current&1),ct(Yn,s),bi===null&&(a===null||Yo.current!==null||a.memoizedState!==null)&&(bi=s)}function Rp(s){ct(Ne,Ne.current),ct(Yn,s),bi===null&&(bi=s)}function nv(s){s.tag===22?(ct(Ne,Ne.current),ct(Yn,s),bi===null&&(bi=s)):Ir()}function Ir(){ct(Ne,Ne.current),ct(Yn,Yn.current)}function Kn(s){et(Yn),bi===s&&(bi=null),et(Ne)}var Ne=B(0);function ad(s){for(var a=s;a!==null;){if(a.tag===13){var c=a.memoizedState;if(c!==null&&(c=c.dehydrated,c===null||zm(c)||Lm(c)))return a}else if(a.tag===19&&(a.memoizedProps.revealOrder==="forwards"||a.memoizedProps.revealOrder==="backwards"||a.memoizedProps.revealOrder==="unstable_legacy-backwards"||a.memoizedProps.revealOrder==="together")){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Vs=0,Pt=null,ue=null,Fe=null,od=!1,Ko=!1,$a=!1,ld=0,Ic=0,Qo=null,qD=0;function we(){throw Error(i(321))}function Np(s,a){if(a===null)return!1;for(var c=0;c<a.length&&c<s.length;c++)if(!$n(s[c],a[c]))return!1;return!0}function kp(s,a,c,h,m,b){return Vs=b,Pt=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,X.H=s===null||s.memoizedState===null?jv:Wp,$a=!1,b=c(h,m),$a=!1,Ko&&(b=sv(a,c,h,m)),iv(s),b}function iv(s){X.H=Nc;var a=ue!==null&&ue.next!==null;if(Vs=0,Fe=ue=Pt=null,od=!1,Ic=0,Qo=null,a)throw Error(i(300));s===null||He||(s=s.dependencies,s!==null&&Jh(s)&&(He=!0))}function sv(s,a,c,h){Pt=s;var m=0;do{if(Ko&&(Qo=null),Ic=0,Ko=!1,25<=m)throw Error(i(301));if(m+=1,Fe=ue=null,s.updateQueue!=null){var b=s.updateQueue;b.lastEffect=null,b.events=null,b.stores=null,b.memoCache!=null&&(b.memoCache.index=0)}X.H=Bv,b=a(c,h)}while(Ko);return b}function GD(){var s=X.H,a=s.useState()[0];return a=typeof a.then=="function"?Dc(a):a,s=s.useState()[0],(ue!==null?ue.memoizedState:null)!==s&&(Pt.flags|=1024),a}function Op(){var s=ld!==0;return ld=0,s}function Mp(s,a,c){a.updateQueue=s.updateQueue,a.flags&=-2053,s.lanes&=~c}function Pp(s){if(od){for(s=s.memoizedState;s!==null;){var a=s.queue;a!==null&&(a.pending=null),s=s.next}od=!1}Vs=0,Fe=ue=Pt=null,Ko=!1,Ic=ld=0,Qo=null}function In(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fe===null?Pt.memoizedState=Fe=s:Fe=Fe.next=s,Fe}function ke(){if(ue===null){var s=Pt.alternate;s=s!==null?s.memoizedState:null}else s=ue.next;var a=Fe===null?Pt.memoizedState:Fe.next;if(a!==null)Fe=a,ue=s;else{if(s===null)throw Pt.alternate===null?Error(i(467)):Error(i(310));ue=s,s={memoizedState:ue.memoizedState,baseState:ue.baseState,baseQueue:ue.baseQueue,queue:ue.queue,next:null},Fe===null?Pt.memoizedState=Fe=s:Fe=Fe.next=s}return Fe}function cd(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Dc(s){var a=Ic;return Ic+=1,Qo===null&&(Qo=[]),s=Y_(Qo,s,a),a=Pt,(Fe===null?a.memoizedState:Fe.next)===null&&(a=a.alternate,X.H=a===null||a.memoizedState===null?jv:Wp),s}function ud(s){if(s!==null&&typeof s=="object"){if(typeof s.then=="function")return Dc(s);if(s.$$typeof===H)return hn(s)}throw Error(i(438,String(s)))}function zp(s){var a=null,c=Pt.updateQueue;if(c!==null&&(a=c.memoCache),a==null){var h=Pt.alternate;h!==null&&(h=h.updateQueue,h!==null&&(h=h.memoCache,h!=null&&(a={data:h.data.map(function(m){return m.slice()}),index:0})))}if(a==null&&(a={data:[],index:0}),c===null&&(c=cd(),Pt.updateQueue=c),c.memoCache=a,c=a.data[a.index],c===void 0)for(c=a.data[a.index]=Array(s),h=0;h<s;h++)c[h]=z;return a.index++,c}function js(s,a){return typeof a=="function"?a(s):a}function hd(s){var a=ke();return Lp(a,ue,s)}function Lp(s,a,c){var h=s.queue;if(h===null)throw Error(i(311));h.lastRenderedReducer=c;var m=s.baseQueue,b=h.pending;if(b!==null){if(m!==null){var E=m.next;m.next=b.next,b.next=E}a.baseQueue=m=b,h.pending=null}if(b=s.baseState,m===null)s.memoizedState=b;else{a=m.next;var D=E=null,j=null,Q=a,nt=!1;do{var rt=Q.lane&-536870913;if(rt!==Q.lane?(Ft&rt)===rt:(Vs&rt)===rt){var J=Q.revertLane;if(J===0)j!==null&&(j=j.next={lane:0,revertLane:0,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null}),rt===qo&&(nt=!0);else if((Vs&J)===J){Q=Q.next,J===qo&&(nt=!0);continue}else rt={lane:0,revertLane:Q.revertLane,gesture:null,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},j===null?(D=j=rt,E=b):j=j.next=rt,Pt.lanes|=J,Nr|=J;rt=Q.action,$a&&c(b,rt),b=Q.hasEagerState?Q.eagerState:c(b,rt)}else J={lane:rt,revertLane:Q.revertLane,gesture:Q.gesture,action:Q.action,hasEagerState:Q.hasEagerState,eagerState:Q.eagerState,next:null},j===null?(D=j=J,E=b):j=j.next=J,Pt.lanes|=rt,Nr|=rt;Q=Q.next}while(Q!==null&&Q!==a);if(j===null?E=b:j.next=D,!$n(b,s.memoizedState)&&(He=!0,nt&&(c=Go,c!==null)))throw c;s.memoizedState=b,s.baseState=E,s.baseQueue=j,h.lastRenderedState=b}return m===null&&(h.lanes=0),[s.memoizedState,h.dispatch]}function Vp(s){var a=ke(),c=a.queue;if(c===null)throw Error(i(311));c.lastRenderedReducer=s;var h=c.dispatch,m=c.pending,b=a.memoizedState;if(m!==null){c.pending=null;var E=m=m.next;do b=s(b,E.action),E=E.next;while(E!==m);$n(b,a.memoizedState)||(He=!0),a.memoizedState=b,a.baseQueue===null&&(a.baseState=b),c.lastRenderedState=b}return[b,h]}function rv(s,a,c){var h=Pt,m=ke(),b=Wt;if(b){if(c===void 0)throw Error(i(407));c=c()}else c=a();var E=!$n((ue||m).memoizedState,c);if(E&&(m.memoizedState=c,He=!0),m=m.queue,Up(lv.bind(null,h,m,s),[s]),m.getSnapshot!==a||E||Fe!==null&&Fe.memoizedState.tag&1){if(h.flags|=2048,Xo(9,{destroy:void 0},ov.bind(null,h,m,c,a),null),fe===null)throw Error(i(349));b||(Vs&127)!==0||av(h,a,c)}return c}function av(s,a,c){s.flags|=16384,s={getSnapshot:a,value:c},a=Pt.updateQueue,a===null?(a=cd(),Pt.updateQueue=a,a.stores=[s]):(c=a.stores,c===null?a.stores=[s]:c.push(s))}function ov(s,a,c,h){a.value=c,a.getSnapshot=h,cv(a)&&uv(s)}function lv(s,a,c){return c(function(){cv(a)&&uv(s)})}function cv(s){var a=s.getSnapshot;s=s.value;try{var c=a();return!$n(s,c)}catch{return!0}}function uv(s){var a=La(s,2);a!==null&&jn(a,s,2)}function jp(s){var a=In();if(typeof s=="function"){var c=s;if(s=c(),$a){li(!0);try{c()}finally{li(!1)}}}return a.memoizedState=a.baseState=s,a.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:js,lastRenderedState:s},a}function hv(s,a,c,h){return s.baseState=c,Lp(s,ue,typeof h=="function"?h:js)}function $D(s,a,c,h,m){if(gd(s))throw Error(i(485));if(s=a.action,s!==null){var b={payload:m,action:s,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(E){b.listeners.push(E)}};X.T!==null?c(!0):b.isTransition=!1,h(b),c=a.pending,c===null?(b.next=a.pending=b,dv(a,b)):(b.next=c.next,a.pending=c.next=b)}}function dv(s,a){var c=a.action,h=a.payload,m=s.state;if(a.isTransition){var b=X.T,E={};X.T=E;try{var D=c(m,h),j=X.S;j!==null&&j(E,D),fv(s,a,D)}catch(Q){Bp(s,a,Q)}finally{b!==null&&E.types!==null&&(b.types=E.types),X.T=b}}else try{b=c(m,h),fv(s,a,b)}catch(Q){Bp(s,a,Q)}}function fv(s,a,c){c!==null&&typeof c=="object"&&typeof c.then=="function"?c.then(function(h){gv(s,a,h)},function(h){return Bp(s,a,h)}):gv(s,a,c)}function gv(s,a,c){a.status="fulfilled",a.value=c,pv(a),s.state=c,a=s.pending,a!==null&&(c=a.next,c===a?s.pending=null:(c=c.next,a.next=c,dv(s,c)))}function Bp(s,a,c){var h=s.pending;if(s.pending=null,h!==null){h=h.next;do a.status="rejected",a.reason=c,pv(a),a=a.next;while(a!==h)}s.action=null}function pv(s){s=s.listeners;for(var a=0;a<s.length;a++)(0,s[a])()}function mv(s,a){return a}function yv(s,a){if(Wt){var c=fe.formState;if(c!==null){t:{var h=Pt;if(Wt){if(ye){e:{for(var m=ye,b=yi;m.nodeType!==8;){if(!b){m=null;break e}if(m=_i(m.nextSibling),m===null){m=null;break e}}b=m.data,m=b==="F!"||b==="F"?m:null}if(m){ye=_i(m.nextSibling),h=m.data==="F!";break t}}Er(h)}h=!1}h&&(a=c[0])}}return c=In(),c.memoizedState=c.baseState=a,h={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mv,lastRenderedState:a},c.queue=h,c=zv.bind(null,Pt,h),h.dispatch=c,h=jp(!1),b=$p.bind(null,Pt,!1,h.queue),h=In(),m={state:a,dispatch:null,action:s,pending:null},h.queue=m,c=$D.bind(null,Pt,m,b,c),m.dispatch=c,h.memoizedState=s,[a,c,!1]}function bv(s){var a=ke();return _v(a,ue,s)}function _v(s,a,c){if(a=Lp(s,a,mv)[0],s=hd(js)[0],typeof a=="object"&&a!==null&&typeof a.then=="function")try{var h=Dc(a)}catch(E){throw E===$o?ed:E}else h=a;a=ke();var m=a.queue,b=m.dispatch;return c!==a.memoizedState&&(Pt.flags|=2048,Xo(9,{destroy:void 0},WD.bind(null,m,c),null)),[h,b,s]}function WD(s,a){s.action=a}function vv(s){var a=ke(),c=ue;if(c!==null)return _v(a,c,s);ke(),a=a.memoizedState,c=ke();var h=c.queue.dispatch;return c.memoizedState=s,[a,h,!1]}function Xo(s,a,c,h){return s={tag:s,create:c,deps:h,inst:a,next:null},a=Pt.updateQueue,a===null&&(a=cd(),Pt.updateQueue=a),c=a.lastEffect,c===null?a.lastEffect=s.next=s:(h=c.next,c.next=s,s.next=h,a.lastEffect=s),s}function xv(){return ke().memoizedState}function dd(s,a,c,h){var m=In();Pt.flags|=s,m.memoizedState=Xo(1|a,{destroy:void 0},c,h===void 0?null:h)}function fd(s,a,c,h){var m=ke();h=h===void 0?null:h;var b=m.memoizedState.inst;ue!==null&&h!==null&&Np(h,ue.memoizedState.deps)?m.memoizedState=Xo(a,b,c,h):(Pt.flags|=s,m.memoizedState=Xo(1|a,b,c,h))}function Ev(s,a){dd(8390656,8,s,a)}function Up(s,a){fd(2048,8,s,a)}function YD(s){Pt.flags|=4;var a=Pt.updateQueue;if(a===null)a=cd(),Pt.updateQueue=a,a.events=[s];else{var c=a.events;c===null?a.events=[s]:c.push(s)}}function Tv(s){var a=ke().memoizedState;return YD({ref:a,nextImpl:s}),function(){if((ne&2)!==0)throw Error(i(440));return a.impl.apply(void 0,arguments)}}function Sv(s,a){return fd(4,2,s,a)}function wv(s,a){return fd(4,4,s,a)}function Av(s,a){if(typeof a=="function"){s=s();var c=a(s);return function(){typeof c=="function"?c():a(null)}}if(a!=null)return s=s(),a.current=s,function(){a.current=null}}function Cv(s,a,c){c=c!=null?c.concat([s]):null,fd(4,4,Av.bind(null,a,s),c)}function Fp(){}function Iv(s,a){var c=ke();a=a===void 0?null:a;var h=c.memoizedState;return a!==null&&Np(a,h[1])?h[0]:(c.memoizedState=[s,a],s)}function Dv(s,a){var c=ke();a=a===void 0?null:a;var h=c.memoizedState;if(a!==null&&Np(a,h[1]))return h[0];if(h=s(),$a){li(!0);try{s()}finally{li(!1)}}return c.memoizedState=[h,a],h}function Hp(s,a,c){return c===void 0||(Vs&1073741824)!==0&&(Ft&261930)===0?s.memoizedState=a:(s.memoizedState=c,s=Rx(),Pt.lanes|=s,Nr|=s,c)}function Rv(s,a,c,h){return $n(c,a)?c:Yo.current!==null?(s=Hp(s,c,h),$n(s,a)||(He=!0),s):(Vs&42)===0||(Vs&1073741824)!==0&&(Ft&261930)===0?(He=!0,s.memoizedState=c):(s=Rx(),Pt.lanes|=s,Nr|=s,a)}function Nv(s,a,c,h,m){var b=ot.p;ot.p=b!==0&&8>b?b:8;var E=X.T,D={};X.T=D,$p(s,!1,a,c);try{var j=m(),Q=X.S;if(Q!==null&&Q(D,j),j!==null&&typeof j=="object"&&typeof j.then=="function"){var nt=HD(j,h);Rc(s,a,nt,Jn(s))}else Rc(s,a,h,Jn(s))}catch(rt){Rc(s,a,{then:function(){},status:"rejected",reason:rt},Jn())}finally{ot.p=b,E!==null&&D.types!==null&&(E.types=D.types),X.T=E}}function KD(){}function qp(s,a,c,h){if(s.tag!==5)throw Error(i(476));var m=kv(s).queue;Nv(s,m,a,pt,c===null?KD:function(){return Ov(s),c(h)})}function kv(s){var a=s.memoizedState;if(a!==null)return a;a={memoizedState:pt,baseState:pt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:js,lastRenderedState:pt},next:null};var c={};return a.next={memoizedState:c,baseState:c,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:js,lastRenderedState:c},next:null},s.memoizedState=a,s=s.alternate,s!==null&&(s.memoizedState=a),a}function Ov(s){var a=kv(s);a.next===null&&(a=s.alternate.memoizedState),Rc(s,a.next.queue,{},Jn())}function Gp(){return hn(Wc)}function Mv(){return ke().memoizedState}function Pv(){return ke().memoizedState}function QD(s){for(var a=s.return;a!==null;){switch(a.tag){case 24:case 3:var c=Jn();s=wr(c);var h=Ar(a,s,c);h!==null&&(jn(h,a,c),wc(h,a,c)),a={cache:vp()},s.payload=a;return}a=a.return}}function XD(s,a,c){var h=Jn();c={lane:h,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null},gd(s)?Lv(a,c):(c=cp(s,a,c,h),c!==null&&(jn(c,s,h),Vv(c,a,h)))}function zv(s,a,c){var h=Jn();Rc(s,a,c,h)}function Rc(s,a,c,h){var m={lane:h,revertLane:0,gesture:null,action:c,hasEagerState:!1,eagerState:null,next:null};if(gd(s))Lv(a,m);else{var b=s.alternate;if(s.lanes===0&&(b===null||b.lanes===0)&&(b=a.lastRenderedReducer,b!==null))try{var E=a.lastRenderedState,D=b(E,c);if(m.hasEagerState=!0,m.eagerState=D,$n(D,E))return Yh(s,a,m,0),fe===null&&Wh(),!1}catch{}finally{}if(c=cp(s,a,m,h),c!==null)return jn(c,s,h),Vv(c,a,h),!0}return!1}function $p(s,a,c,h){if(h={lane:2,revertLane:Sm(),gesture:null,action:h,hasEagerState:!1,eagerState:null,next:null},gd(s)){if(a)throw Error(i(479))}else a=cp(s,c,h,2),a!==null&&jn(a,s,2)}function gd(s){var a=s.alternate;return s===Pt||a!==null&&a===Pt}function Lv(s,a){Ko=od=!0;var c=s.pending;c===null?a.next=a:(a.next=c.next,c.next=a),s.pending=a}function Vv(s,a,c){if((c&4194048)!==0){var h=a.lanes;h&=s.pendingLanes,c|=h,a.lanes=c,Jl(s,c)}}var Nc={readContext:hn,use:ud,useCallback:we,useContext:we,useEffect:we,useImperativeHandle:we,useLayoutEffect:we,useInsertionEffect:we,useMemo:we,useReducer:we,useRef:we,useState:we,useDebugValue:we,useDeferredValue:we,useTransition:we,useSyncExternalStore:we,useId:we,useHostTransitionStatus:we,useFormState:we,useActionState:we,useOptimistic:we,useMemoCache:we,useCacheRefresh:we};Nc.useEffectEvent=we;var jv={readContext:hn,use:ud,useCallback:function(s,a){return In().memoizedState=[s,a===void 0?null:a],s},useContext:hn,useEffect:Ev,useImperativeHandle:function(s,a,c){c=c!=null?c.concat([s]):null,dd(4194308,4,Av.bind(null,a,s),c)},useLayoutEffect:function(s,a){return dd(4194308,4,s,a)},useInsertionEffect:function(s,a){dd(4,2,s,a)},useMemo:function(s,a){var c=In();a=a===void 0?null:a;var h=s();if($a){li(!0);try{s()}finally{li(!1)}}return c.memoizedState=[h,a],h},useReducer:function(s,a,c){var h=In();if(c!==void 0){var m=c(a);if($a){li(!0);try{c(a)}finally{li(!1)}}}else m=a;return h.memoizedState=h.baseState=m,s={pending:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:m},h.queue=s,s=s.dispatch=XD.bind(null,Pt,s),[h.memoizedState,s]},useRef:function(s){var a=In();return s={current:s},a.memoizedState=s},useState:function(s){s=jp(s);var a=s.queue,c=zv.bind(null,Pt,a);return a.dispatch=c,[s.memoizedState,c]},useDebugValue:Fp,useDeferredValue:function(s,a){var c=In();return Hp(c,s,a)},useTransition:function(){var s=jp(!1);return s=Nv.bind(null,Pt,s.queue,!0,!1),In().memoizedState=s,[!1,s]},useSyncExternalStore:function(s,a,c){var h=Pt,m=In();if(Wt){if(c===void 0)throw Error(i(407));c=c()}else{if(c=a(),fe===null)throw Error(i(349));(Ft&127)!==0||av(h,a,c)}m.memoizedState=c;var b={value:c,getSnapshot:a};return m.queue=b,Ev(lv.bind(null,h,b,s),[s]),h.flags|=2048,Xo(9,{destroy:void 0},ov.bind(null,h,b,c,a),null),c},useId:function(){var s=In(),a=fe.identifierPrefix;if(Wt){var c=fs,h=ds;c=(h&~(1<<32-De(h)-1)).toString(32)+c,a="_"+a+"R_"+c,c=ld++,0<c&&(a+="H"+c.toString(32)),a+="_"}else c=qD++,a="_"+a+"r_"+c.toString(32)+"_";return s.memoizedState=a},useHostTransitionStatus:Gp,useFormState:yv,useActionState:yv,useOptimistic:function(s){var a=In();a.memoizedState=a.baseState=s;var c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return a.queue=c,a=$p.bind(null,Pt,!0,c),c.dispatch=a,[s,a]},useMemoCache:zp,useCacheRefresh:function(){return In().memoizedState=QD.bind(null,Pt)},useEffectEvent:function(s){var a=In(),c={impl:s};return a.memoizedState=c,function(){if((ne&2)!==0)throw Error(i(440));return c.impl.apply(void 0,arguments)}}},Wp={readContext:hn,use:ud,useCallback:Iv,useContext:hn,useEffect:Up,useImperativeHandle:Cv,useInsertionEffect:Sv,useLayoutEffect:wv,useMemo:Dv,useReducer:hd,useRef:xv,useState:function(){return hd(js)},useDebugValue:Fp,useDeferredValue:function(s,a){var c=ke();return Rv(c,ue.memoizedState,s,a)},useTransition:function(){var s=hd(js)[0],a=ke().memoizedState;return[typeof s=="boolean"?s:Dc(s),a]},useSyncExternalStore:rv,useId:Mv,useHostTransitionStatus:Gp,useFormState:bv,useActionState:bv,useOptimistic:function(s,a){var c=ke();return hv(c,ue,s,a)},useMemoCache:zp,useCacheRefresh:Pv};Wp.useEffectEvent=Tv;var Bv={readContext:hn,use:ud,useCallback:Iv,useContext:hn,useEffect:Up,useImperativeHandle:Cv,useInsertionEffect:Sv,useLayoutEffect:wv,useMemo:Dv,useReducer:Vp,useRef:xv,useState:function(){return Vp(js)},useDebugValue:Fp,useDeferredValue:function(s,a){var c=ke();return ue===null?Hp(c,s,a):Rv(c,ue.memoizedState,s,a)},useTransition:function(){var s=Vp(js)[0],a=ke().memoizedState;return[typeof s=="boolean"?s:Dc(s),a]},useSyncExternalStore:rv,useId:Mv,useHostTransitionStatus:Gp,useFormState:vv,useActionState:vv,useOptimistic:function(s,a){var c=ke();return ue!==null?hv(c,ue,s,a):(c.baseState=s,[s,c.queue.dispatch])},useMemoCache:zp,useCacheRefresh:Pv};Bv.useEffectEvent=Tv;function Yp(s,a,c,h){a=s.memoizedState,c=c(h,a),c=c==null?a:y({},a,c),s.memoizedState=c,s.lanes===0&&(s.updateQueue.baseState=c)}var Kp={enqueueSetState:function(s,a,c){s=s._reactInternals;var h=Jn(),m=wr(h);m.payload=a,c!=null&&(m.callback=c),a=Ar(s,m,h),a!==null&&(jn(a,s,h),wc(a,s,h))},enqueueReplaceState:function(s,a,c){s=s._reactInternals;var h=Jn(),m=wr(h);m.tag=1,m.payload=a,c!=null&&(m.callback=c),a=Ar(s,m,h),a!==null&&(jn(a,s,h),wc(a,s,h))},enqueueForceUpdate:function(s,a){s=s._reactInternals;var c=Jn(),h=wr(c);h.tag=2,a!=null&&(h.callback=a),a=Ar(s,h,c),a!==null&&(jn(a,s,c),wc(a,s,c))}};function Uv(s,a,c,h,m,b,E){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,b,E):a.prototype&&a.prototype.isPureReactComponent?!yc(c,h)||!yc(m,b):!0}function Fv(s,a,c,h){s=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(c,h),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(c,h),a.state!==s&&Kp.enqueueReplaceState(a,a.state,null)}function Wa(s,a){var c=a;if("ref"in a){c={};for(var h in a)h!=="ref"&&(c[h]=a[h])}if(s=s.defaultProps){c===a&&(c=y({},c));for(var m in s)c[m]===void 0&&(c[m]=s[m])}return c}function Hv(s){$h(s)}function qv(s){console.error(s)}function Gv(s){$h(s)}function pd(s,a){try{var c=s.onUncaughtError;c(a.value,{componentStack:a.stack})}catch(h){setTimeout(function(){throw h})}}function $v(s,a,c){try{var h=s.onCaughtError;h(c.value,{componentStack:c.stack,errorBoundary:a.tag===1?a.stateNode:null})}catch(m){setTimeout(function(){throw m})}}function Qp(s,a,c){return c=wr(c),c.tag=3,c.payload={element:null},c.callback=function(){pd(s,a)},c}function Wv(s){return s=wr(s),s.tag=3,s}function Yv(s,a,c,h){var m=c.type.getDerivedStateFromError;if(typeof m=="function"){var b=h.value;s.payload=function(){return m(b)},s.callback=function(){$v(a,c,h)}}var E=c.stateNode;E!==null&&typeof E.componentDidCatch=="function"&&(s.callback=function(){$v(a,c,h),typeof m!="function"&&(kr===null?kr=new Set([this]):kr.add(this));var D=h.stack;this.componentDidCatch(h.value,{componentStack:D!==null?D:""})})}function JD(s,a,c,h,m){if(c.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){if(a=c.alternate,a!==null&&Ho(a,c,m,!0),c=Yn.current,c!==null){switch(c.tag){case 31:case 13:return bi===null?Cd():c.alternate===null&&Ae===0&&(Ae=3),c.flags&=-257,c.flags|=65536,c.lanes=m,h===nd?c.flags|=16384:(a=c.updateQueue,a===null?c.updateQueue=new Set([h]):a.add(h),xm(s,h,m)),!1;case 22:return c.flags|=65536,h===nd?c.flags|=16384:(a=c.updateQueue,a===null?(a={transitions:null,markerInstances:null,retryQueue:new Set([h])},c.updateQueue=a):(c=a.retryQueue,c===null?a.retryQueue=new Set([h]):c.add(h)),xm(s,h,m)),!1}throw Error(i(435,c.tag))}return xm(s,h,m),Cd(),!1}if(Wt)return a=Yn.current,a!==null?((a.flags&65536)===0&&(a.flags|=256),a.flags|=65536,a.lanes=m,h!==pp&&(s=Error(i(422),{cause:h}),vc(gi(s,c)))):(h!==pp&&(a=Error(i(423),{cause:h}),vc(gi(a,c))),s=s.current.alternate,s.flags|=65536,m&=-m,s.lanes|=m,h=gi(h,c),m=Qp(s.stateNode,h,m),Ap(s,m),Ae!==4&&(Ae=2)),!1;var b=Error(i(520),{cause:h});if(b=gi(b,c),jc===null?jc=[b]:jc.push(b),Ae!==4&&(Ae=2),a===null)return!0;h=gi(h,c),c=a;do{switch(c.tag){case 3:return c.flags|=65536,s=m&-m,c.lanes|=s,s=Qp(c.stateNode,h,s),Ap(c,s),!1;case 1:if(a=c.type,b=c.stateNode,(c.flags&128)===0&&(typeof a.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(kr===null||!kr.has(b))))return c.flags|=65536,m&=-m,c.lanes|=m,m=Wv(m),Yv(m,s,c,h),Ap(c,m),!1}c=c.return}while(c!==null);return!1}var Xp=Error(i(461)),He=!1;function dn(s,a,c,h){a.child=s===null?J_(a,null,c,h):Ga(a,s.child,c,h)}function Kv(s,a,c,h,m){c=c.render;var b=a.ref;if("ref"in h){var E={};for(var D in h)D!=="ref"&&(E[D]=h[D])}else E=h;return Ua(a),h=kp(s,a,c,E,b,m),D=Op(),s!==null&&!He?(Mp(s,a,m),Bs(s,a,m)):(Wt&&D&&fp(a),a.flags|=1,dn(s,a,h,m),a.child)}function Qv(s,a,c,h,m){if(s===null){var b=c.type;return typeof b=="function"&&!up(b)&&b.defaultProps===void 0&&c.compare===null?(a.tag=15,a.type=b,Xv(s,a,b,h,m)):(s=Qh(c.type,null,h,a,a.mode,m),s.ref=a.ref,s.return=a,a.child=s)}if(b=s.child,!rm(s,m)){var E=b.memoizedProps;if(c=c.compare,c=c!==null?c:yc,c(E,h)&&s.ref===a.ref)return Bs(s,a,m)}return a.flags|=1,s=Ms(b,h),s.ref=a.ref,s.return=a,a.child=s}function Xv(s,a,c,h,m){if(s!==null){var b=s.memoizedProps;if(yc(b,h)&&s.ref===a.ref)if(He=!1,a.pendingProps=h=b,rm(s,m))(s.flags&131072)!==0&&(He=!0);else return a.lanes=s.lanes,Bs(s,a,m)}return Jp(s,a,c,h,m)}function Jv(s,a,c,h){var m=h.children,b=s!==null?s.memoizedState:null;if(s===null&&a.stateNode===null&&(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.mode==="hidden"){if((a.flags&128)!==0){if(b=b!==null?b.baseLanes|c:c,s!==null){for(h=a.child=s.child,m=0;h!==null;)m=m|h.lanes|h.childLanes,h=h.sibling;h=m&~b}else h=0,a.child=null;return Zv(s,a,b,c,h)}if((c&536870912)!==0)a.memoizedState={baseLanes:0,cachePool:null},s!==null&&td(a,b!==null?b.cachePool:null),b!==null?ev(a,b):Ip(),nv(a);else return h=a.lanes=536870912,Zv(s,a,b!==null?b.baseLanes|c:c,c,h)}else b!==null?(td(a,b.cachePool),ev(a,b),Ir(),a.memoizedState=null):(s!==null&&td(a,null),Ip(),Ir());return dn(s,a,m,c),a.child}function kc(s,a){return s!==null&&s.tag===22||a.stateNode!==null||(a.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),a.sibling}function Zv(s,a,c,h,m){var b=Ep();return b=b===null?null:{parent:Ue._currentValue,pool:b},a.memoizedState={baseLanes:c,cachePool:b},s!==null&&td(a,null),Ip(),nv(a),s!==null&&Ho(s,a,h,!0),a.childLanes=m,null}function md(s,a){return a=bd({mode:a.mode,children:a.children},s.mode),a.ref=s.ref,s.child=a,a.return=s,a}function tx(s,a,c){return Ga(a,s.child,null,c),s=md(a,a.pendingProps),s.flags|=2,Kn(a),a.memoizedState=null,s}function ZD(s,a,c){var h=a.pendingProps,m=(a.flags&128)!==0;if(a.flags&=-129,s===null){if(Wt){if(h.mode==="hidden")return s=md(a,h),a.lanes=536870912,kc(null,s);if(Rp(a),(s=ye)?(s=dE(s,yi),s=s!==null&&s.data==="&"?s:null,s!==null&&(a.memoizedState={dehydrated:s,treeContext:vr!==null?{id:ds,overflow:fs}:null,retryLane:536870912,hydrationErrors:null},c=L_(s),c.return=a,a.child=c,un=a,ye=null)):s=null,s===null)throw Er(a);return a.lanes=536870912,null}return md(a,h)}var b=s.memoizedState;if(b!==null){var E=b.dehydrated;if(Rp(a),m)if(a.flags&256)a.flags&=-257,a=tx(s,a,c);else if(a.memoizedState!==null)a.child=s.child,a.flags|=128,a=null;else throw Error(i(558));else if(He||Ho(s,a,c,!1),m=(c&s.childLanes)!==0,He||m){if(h=fe,h!==null&&(E=Zl(h,c),E!==0&&E!==b.retryLane))throw b.retryLane=E,La(s,E),jn(h,s,E),Xp;Cd(),a=tx(s,a,c)}else s=b.treeContext,ye=_i(E.nextSibling),un=a,Wt=!0,xr=null,yi=!1,s!==null&&B_(a,s),a=md(a,h),a.flags|=4096;return a}return s=Ms(s.child,{mode:h.mode,children:h.children}),s.ref=a.ref,a.child=s,s.return=a,s}function yd(s,a){var c=a.ref;if(c===null)s!==null&&s.ref!==null&&(a.flags|=4194816);else{if(typeof c!="function"&&typeof c!="object")throw Error(i(284));(s===null||s.ref!==c)&&(a.flags|=4194816)}}function Jp(s,a,c,h,m){return Ua(a),c=kp(s,a,c,h,void 0,m),h=Op(),s!==null&&!He?(Mp(s,a,m),Bs(s,a,m)):(Wt&&h&&fp(a),a.flags|=1,dn(s,a,c,m),a.child)}function ex(s,a,c,h,m,b){return Ua(a),a.updateQueue=null,c=sv(a,h,c,m),iv(s),h=Op(),s!==null&&!He?(Mp(s,a,b),Bs(s,a,b)):(Wt&&h&&fp(a),a.flags|=1,dn(s,a,c,b),a.child)}function nx(s,a,c,h,m){if(Ua(a),a.stateNode===null){var b=jo,E=c.contextType;typeof E=="object"&&E!==null&&(b=hn(E)),b=new c(h,b),a.memoizedState=b.state!==null&&b.state!==void 0?b.state:null,b.updater=Kp,a.stateNode=b,b._reactInternals=a,b=a.stateNode,b.props=h,b.state=a.memoizedState,b.refs={},Sp(a),E=c.contextType,b.context=typeof E=="object"&&E!==null?hn(E):jo,b.state=a.memoizedState,E=c.getDerivedStateFromProps,typeof E=="function"&&(Yp(a,c,E,h),b.state=a.memoizedState),typeof c.getDerivedStateFromProps=="function"||typeof b.getSnapshotBeforeUpdate=="function"||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(E=b.state,typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount(),E!==b.state&&Kp.enqueueReplaceState(b,b.state,null),Cc(a,h,b,m),Ac(),b.state=a.memoizedState),typeof b.componentDidMount=="function"&&(a.flags|=4194308),h=!0}else if(s===null){b=a.stateNode;var D=a.memoizedProps,j=Wa(c,D);b.props=j;var Q=b.context,nt=c.contextType;E=jo,typeof nt=="object"&&nt!==null&&(E=hn(nt));var rt=c.getDerivedStateFromProps;nt=typeof rt=="function"||typeof b.getSnapshotBeforeUpdate=="function",D=a.pendingProps!==D,nt||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(D||Q!==E)&&Fv(a,b,h,E),Sr=!1;var J=a.memoizedState;b.state=J,Cc(a,h,b,m),Ac(),Q=a.memoizedState,D||J!==Q||Sr?(typeof rt=="function"&&(Yp(a,c,rt,h),Q=a.memoizedState),(j=Sr||Uv(a,c,j,h,J,Q,E))?(nt||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(a.flags|=4194308)):(typeof b.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=h,a.memoizedState=Q),b.props=h,b.state=Q,b.context=E,h=j):(typeof b.componentDidMount=="function"&&(a.flags|=4194308),h=!1)}else{b=a.stateNode,wp(s,a),E=a.memoizedProps,nt=Wa(c,E),b.props=nt,rt=a.pendingProps,J=b.context,Q=c.contextType,j=jo,typeof Q=="object"&&Q!==null&&(j=hn(Q)),D=c.getDerivedStateFromProps,(Q=typeof D=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(E!==rt||J!==j)&&Fv(a,b,h,j),Sr=!1,J=a.memoizedState,b.state=J,Cc(a,h,b,m),Ac();var tt=a.memoizedState;E!==rt||J!==tt||Sr||s!==null&&s.dependencies!==null&&Jh(s.dependencies)?(typeof D=="function"&&(Yp(a,c,D,h),tt=a.memoizedState),(nt=Sr||Uv(a,c,nt,h,J,tt,j)||s!==null&&s.dependencies!==null&&Jh(s.dependencies))?(Q||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(h,tt,j),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(h,tt,j)),typeof b.componentDidUpdate=="function"&&(a.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof b.componentDidUpdate!="function"||E===s.memoizedProps&&J===s.memoizedState||(a.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||E===s.memoizedProps&&J===s.memoizedState||(a.flags|=1024),a.memoizedProps=h,a.memoizedState=tt),b.props=h,b.state=tt,b.context=j,h=nt):(typeof b.componentDidUpdate!="function"||E===s.memoizedProps&&J===s.memoizedState||(a.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||E===s.memoizedProps&&J===s.memoizedState||(a.flags|=1024),h=!1)}return b=h,yd(s,a),h=(a.flags&128)!==0,b||h?(b=a.stateNode,c=h&&typeof c.getDerivedStateFromError!="function"?null:b.render(),a.flags|=1,s!==null&&h?(a.child=Ga(a,s.child,null,m),a.child=Ga(a,null,c,m)):dn(s,a,c,m),a.memoizedState=b.state,s=a.child):s=Bs(s,a,m),s}function ix(s,a,c,h){return ja(),a.flags|=256,dn(s,a,c,h),a.child}var Zp={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function tm(s){return{baseLanes:s,cachePool:$_()}}function em(s,a,c){return s=s!==null?s.childLanes&~c:0,a&&(s|=Xn),s}function sx(s,a,c){var h=a.pendingProps,m=!1,b=(a.flags&128)!==0,E;if((E=b)||(E=s!==null&&s.memoizedState===null?!1:(Ne.current&2)!==0),E&&(m=!0,a.flags&=-129),E=(a.flags&32)!==0,a.flags&=-33,s===null){if(Wt){if(m?Cr(a):Ir(),(s=ye)?(s=dE(s,yi),s=s!==null&&s.data!=="&"?s:null,s!==null&&(a.memoizedState={dehydrated:s,treeContext:vr!==null?{id:ds,overflow:fs}:null,retryLane:536870912,hydrationErrors:null},c=L_(s),c.return=a,a.child=c,un=a,ye=null)):s=null,s===null)throw Er(a);return Lm(s)?a.lanes=32:a.lanes=536870912,null}var D=h.children;return h=h.fallback,m?(Ir(),m=a.mode,D=bd({mode:"hidden",children:D},m),h=Va(h,m,c,null),D.return=a,h.return=a,D.sibling=h,a.child=D,h=a.child,h.memoizedState=tm(c),h.childLanes=em(s,E,c),a.memoizedState=Zp,kc(null,h)):(Cr(a),nm(a,D))}var j=s.memoizedState;if(j!==null&&(D=j.dehydrated,D!==null)){if(b)a.flags&256?(Cr(a),a.flags&=-257,a=im(s,a,c)):a.memoizedState!==null?(Ir(),a.child=s.child,a.flags|=128,a=null):(Ir(),D=h.fallback,m=a.mode,h=bd({mode:"visible",children:h.children},m),D=Va(D,m,c,null),D.flags|=2,h.return=a,D.return=a,h.sibling=D,a.child=h,Ga(a,s.child,null,c),h=a.child,h.memoizedState=tm(c),h.childLanes=em(s,E,c),a.memoizedState=Zp,a=kc(null,h));else if(Cr(a),Lm(D)){if(E=D.nextSibling&&D.nextSibling.dataset,E)var Q=E.dgst;E=Q,h=Error(i(419)),h.stack="",h.digest=E,vc({value:h,source:null,stack:null}),a=im(s,a,c)}else if(He||Ho(s,a,c,!1),E=(c&s.childLanes)!==0,He||E){if(E=fe,E!==null&&(h=Zl(E,c),h!==0&&h!==j.retryLane))throw j.retryLane=h,La(s,h),jn(E,s,h),Xp;zm(D)||Cd(),a=im(s,a,c)}else zm(D)?(a.flags|=192,a.child=s.child,a=null):(s=j.treeContext,ye=_i(D.nextSibling),un=a,Wt=!0,xr=null,yi=!1,s!==null&&B_(a,s),a=nm(a,h.children),a.flags|=4096);return a}return m?(Ir(),D=h.fallback,m=a.mode,j=s.child,Q=j.sibling,h=Ms(j,{mode:"hidden",children:h.children}),h.subtreeFlags=j.subtreeFlags&65011712,Q!==null?D=Ms(Q,D):(D=Va(D,m,c,null),D.flags|=2),D.return=a,h.return=a,h.sibling=D,a.child=h,kc(null,h),h=a.child,D=s.child.memoizedState,D===null?D=tm(c):(m=D.cachePool,m!==null?(j=Ue._currentValue,m=m.parent!==j?{parent:j,pool:j}:m):m=$_(),D={baseLanes:D.baseLanes|c,cachePool:m}),h.memoizedState=D,h.childLanes=em(s,E,c),a.memoizedState=Zp,kc(s.child,h)):(Cr(a),c=s.child,s=c.sibling,c=Ms(c,{mode:"visible",children:h.children}),c.return=a,c.sibling=null,s!==null&&(E=a.deletions,E===null?(a.deletions=[s],a.flags|=16):E.push(s)),a.child=c,a.memoizedState=null,c)}function nm(s,a){return a=bd({mode:"visible",children:a},s.mode),a.return=s,s.child=a}function bd(s,a){return s=Wn(22,s,null,a),s.lanes=0,s}function im(s,a,c){return Ga(a,s.child,null,c),s=nm(a,a.pendingProps.children),s.flags|=2,a.memoizedState=null,s}function rx(s,a,c){s.lanes|=a;var h=s.alternate;h!==null&&(h.lanes|=a),bp(s.return,a,c)}function sm(s,a,c,h,m,b){var E=s.memoizedState;E===null?s.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:h,tail:c,tailMode:m,treeForkCount:b}:(E.isBackwards=a,E.rendering=null,E.renderingStartTime=0,E.last=h,E.tail=c,E.tailMode=m,E.treeForkCount=b)}function ax(s,a,c){var h=a.pendingProps,m=h.revealOrder,b=h.tail;h=h.children;var E=Ne.current,D=(E&2)!==0;if(D?(E=E&1|2,a.flags|=128):E&=1,ct(Ne,E),dn(s,a,h,c),h=Wt?_c:0,!D&&s!==null&&(s.flags&128)!==0)t:for(s=a.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&rx(s,c,a);else if(s.tag===19)rx(s,c,a);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===a)break t;for(;s.sibling===null;){if(s.return===null||s.return===a)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}switch(m){case"forwards":for(c=a.child,m=null;c!==null;)s=c.alternate,s!==null&&ad(s)===null&&(m=c),c=c.sibling;c=m,c===null?(m=a.child,a.child=null):(m=c.sibling,c.sibling=null),sm(a,!1,m,c,b,h);break;case"backwards":case"unstable_legacy-backwards":for(c=null,m=a.child,a.child=null;m!==null;){if(s=m.alternate,s!==null&&ad(s)===null){a.child=m;break}s=m.sibling,m.sibling=c,c=m,m=s}sm(a,!0,c,null,b,h);break;case"together":sm(a,!1,null,null,void 0,h);break;default:a.memoizedState=null}return a.child}function Bs(s,a,c){if(s!==null&&(a.dependencies=s.dependencies),Nr|=a.lanes,(c&a.childLanes)===0)if(s!==null){if(Ho(s,a,c,!1),(c&a.childLanes)===0)return null}else return null;if(s!==null&&a.child!==s.child)throw Error(i(153));if(a.child!==null){for(s=a.child,c=Ms(s,s.pendingProps),a.child=c,c.return=a;s.sibling!==null;)s=s.sibling,c=c.sibling=Ms(s,s.pendingProps),c.return=a;c.sibling=null}return a.child}function rm(s,a){return(s.lanes&a)!==0?!0:(s=s.dependencies,!!(s!==null&&Jh(s)))}function tR(s,a,c){switch(a.tag){case 3:Lt(a,a.stateNode.containerInfo),Tr(a,Ue,s.memoizedState.cache),ja();break;case 27:case 5:ge(a);break;case 4:Lt(a,a.stateNode.containerInfo);break;case 10:Tr(a,a.type,a.memoizedProps.value);break;case 31:if(a.memoizedState!==null)return a.flags|=128,Rp(a),null;break;case 13:var h=a.memoizedState;if(h!==null)return h.dehydrated!==null?(Cr(a),a.flags|=128,null):(c&a.child.childLanes)!==0?sx(s,a,c):(Cr(a),s=Bs(s,a,c),s!==null?s.sibling:null);Cr(a);break;case 19:var m=(s.flags&128)!==0;if(h=(c&a.childLanes)!==0,h||(Ho(s,a,c,!1),h=(c&a.childLanes)!==0),m){if(h)return ax(s,a,c);a.flags|=128}if(m=a.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),ct(Ne,Ne.current),h)break;return null;case 22:return a.lanes=0,Jv(s,a,c,a.pendingProps);case 24:Tr(a,Ue,s.memoizedState.cache)}return Bs(s,a,c)}function ox(s,a,c){if(s!==null)if(s.memoizedProps!==a.pendingProps)He=!0;else{if(!rm(s,c)&&(a.flags&128)===0)return He=!1,tR(s,a,c);He=(s.flags&131072)!==0}else He=!1,Wt&&(a.flags&1048576)!==0&&j_(a,_c,a.index);switch(a.lanes=0,a.tag){case 16:t:{var h=a.pendingProps;if(s=Ha(a.elementType),a.type=s,typeof s=="function")up(s)?(h=Wa(s,h),a.tag=1,a=nx(null,a,s,h,c)):(a.tag=0,a=Jp(null,a,s,h,c));else{if(s!=null){var m=s.$$typeof;if(m===q){a.tag=11,a=Kv(null,a,s,h,c);break t}else if(m===R){a.tag=14,a=Qv(null,a,s,h,c);break t}}throw a=Dt(s)||s,Error(i(306,a,""))}}return a;case 0:return Jp(s,a,a.type,a.pendingProps,c);case 1:return h=a.type,m=Wa(h,a.pendingProps),nx(s,a,h,m,c);case 3:t:{if(Lt(a,a.stateNode.containerInfo),s===null)throw Error(i(387));h=a.pendingProps;var b=a.memoizedState;m=b.element,wp(s,a),Cc(a,h,null,c);var E=a.memoizedState;if(h=E.cache,Tr(a,Ue,h),h!==b.cache&&_p(a,[Ue],c,!0),Ac(),h=E.element,b.isDehydrated)if(b={element:h,isDehydrated:!1,cache:E.cache},a.updateQueue.baseState=b,a.memoizedState=b,a.flags&256){a=ix(s,a,h,c);break t}else if(h!==m){m=gi(Error(i(424)),a),vc(m),a=ix(s,a,h,c);break t}else{switch(s=a.stateNode.containerInfo,s.nodeType){case 9:s=s.body;break;default:s=s.nodeName==="HTML"?s.ownerDocument.body:s}for(ye=_i(s.firstChild),un=a,Wt=!0,xr=null,yi=!0,c=J_(a,null,h,c),a.child=c;c;)c.flags=c.flags&-3|4096,c=c.sibling}else{if(ja(),h===m){a=Bs(s,a,c);break t}dn(s,a,h,c)}a=a.child}return a;case 26:return yd(s,a),s===null?(c=bE(a.type,null,a.pendingProps,null))?a.memoizedState=c:Wt||(c=a.type,s=a.pendingProps,h=Md(xt.current).createElement(c),h[Ve]=a,h[Je]=s,fn(h,c,s),je(h),a.stateNode=h):a.memoizedState=bE(a.type,s.memoizedProps,a.pendingProps,s.memoizedState),null;case 27:return ge(a),s===null&&Wt&&(h=a.stateNode=pE(a.type,a.pendingProps,xt.current),un=a,yi=!0,m=ye,zr(a.type)?(Vm=m,ye=_i(h.firstChild)):ye=m),dn(s,a,a.pendingProps.children,c),yd(s,a),s===null&&(a.flags|=4194304),a.child;case 5:return s===null&&Wt&&((m=h=ye)&&(h=RR(h,a.type,a.pendingProps,yi),h!==null?(a.stateNode=h,un=a,ye=_i(h.firstChild),yi=!1,m=!0):m=!1),m||Er(a)),ge(a),m=a.type,b=a.pendingProps,E=s!==null?s.memoizedProps:null,h=b.children,Om(m,b)?h=null:E!==null&&Om(m,E)&&(a.flags|=32),a.memoizedState!==null&&(m=kp(s,a,GD,null,null,c),Wc._currentValue=m),yd(s,a),dn(s,a,h,c),a.child;case 6:return s===null&&Wt&&((s=c=ye)&&(c=NR(c,a.pendingProps,yi),c!==null?(a.stateNode=c,un=a,ye=null,s=!0):s=!1),s||Er(a)),null;case 13:return sx(s,a,c);case 4:return Lt(a,a.stateNode.containerInfo),h=a.pendingProps,s===null?a.child=Ga(a,null,h,c):dn(s,a,h,c),a.child;case 11:return Kv(s,a,a.type,a.pendingProps,c);case 7:return dn(s,a,a.pendingProps,c),a.child;case 8:return dn(s,a,a.pendingProps.children,c),a.child;case 12:return dn(s,a,a.pendingProps.children,c),a.child;case 10:return h=a.pendingProps,Tr(a,a.type,h.value),dn(s,a,h.children,c),a.child;case 9:return m=a.type._context,h=a.pendingProps.children,Ua(a),m=hn(m),h=h(m),a.flags|=1,dn(s,a,h,c),a.child;case 14:return Qv(s,a,a.type,a.pendingProps,c);case 15:return Xv(s,a,a.type,a.pendingProps,c);case 19:return ax(s,a,c);case 31:return ZD(s,a,c);case 22:return Jv(s,a,c,a.pendingProps);case 24:return Ua(a),h=hn(Ue),s===null?(m=Ep(),m===null&&(m=fe,b=vp(),m.pooledCache=b,b.refCount++,b!==null&&(m.pooledCacheLanes|=c),m=b),a.memoizedState={parent:h,cache:m},Sp(a),Tr(a,Ue,m)):((s.lanes&c)!==0&&(wp(s,a),Cc(a,null,null,c),Ac()),m=s.memoizedState,b=a.memoizedState,m.parent!==h?(m={parent:h,cache:h},a.memoizedState=m,a.lanes===0&&(a.memoizedState=a.updateQueue.baseState=m),Tr(a,Ue,h)):(h=b.cache,Tr(a,Ue,h),h!==m.cache&&_p(a,[Ue],c,!0))),dn(s,a,a.pendingProps.children,c),a.child;case 29:throw a.pendingProps}throw Error(i(156,a.tag))}function Us(s){s.flags|=4}function am(s,a,c,h,m){if((a=(s.mode&32)!==0)&&(a=!1),a){if(s.flags|=16777216,(m&335544128)===m)if(s.stateNode.complete)s.flags|=8192;else if(Mx())s.flags|=8192;else throw qa=nd,Tp}else s.flags&=-16777217}function lx(s,a){if(a.type!=="stylesheet"||(a.state.loading&4)!==0)s.flags&=-16777217;else if(s.flags|=16777216,!TE(a))if(Mx())s.flags|=8192;else throw qa=nd,Tp}function _d(s,a){a!==null&&(s.flags|=4),s.flags&16384&&(a=s.tag!==22?wh():536870912,s.lanes|=a,el|=a)}function Oc(s,a){if(!Wt)switch(s.tailMode){case"hidden":a=s.tail;for(var c=null;a!==null;)a.alternate!==null&&(c=a),a=a.sibling;c===null?s.tail=null:c.sibling=null;break;case"collapsed":c=s.tail;for(var h=null;c!==null;)c.alternate!==null&&(h=c),c=c.sibling;h===null?a||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function be(s){var a=s.alternate!==null&&s.alternate.child===s.child,c=0,h=0;if(a)for(var m=s.child;m!==null;)c|=m.lanes|m.childLanes,h|=m.subtreeFlags&65011712,h|=m.flags&65011712,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)c|=m.lanes|m.childLanes,h|=m.subtreeFlags,h|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=h,s.childLanes=c,a}function eR(s,a,c){var h=a.pendingProps;switch(gp(a),a.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return be(a),null;case 1:return be(a),null;case 3:return c=a.stateNode,h=null,s!==null&&(h=s.memoizedState.cache),a.memoizedState.cache!==h&&(a.flags|=2048),Ls(Ue),Vt(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(s===null||s.child===null)&&(Fo(a)?Us(a):s===null||s.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,mp())),be(a),null;case 26:var m=a.type,b=a.memoizedState;return s===null?(Us(a),b!==null?(be(a),lx(a,b)):(be(a),am(a,m,null,h,c))):b?b!==s.memoizedState?(Us(a),be(a),lx(a,b)):(be(a),a.flags&=-16777217):(s=s.memoizedProps,s!==h&&Us(a),be(a),am(a,m,s,h,c)),null;case 27:if(on(a),c=xt.current,m=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==h&&Us(a);else{if(!h){if(a.stateNode===null)throw Error(i(166));return be(a),null}s=ut.current,Fo(a)?U_(a):(s=pE(m,h,c),a.stateNode=s,Us(a))}return be(a),null;case 5:if(on(a),m=a.type,s!==null&&a.stateNode!=null)s.memoizedProps!==h&&Us(a);else{if(!h){if(a.stateNode===null)throw Error(i(166));return be(a),null}if(b=ut.current,Fo(a))U_(a);else{var E=Md(xt.current);switch(b){case 1:b=E.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:b=E.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":b=E.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":b=E.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":b=E.createElement("div"),b.innerHTML="<script><\/script>",b=b.removeChild(b.firstChild);break;case"select":b=typeof h.is=="string"?E.createElement("select",{is:h.is}):E.createElement("select"),h.multiple?b.multiple=!0:h.size&&(b.size=h.size);break;default:b=typeof h.is=="string"?E.createElement(m,{is:h.is}):E.createElement(m)}}b[Ve]=a,b[Je]=h;t:for(E=a.child;E!==null;){if(E.tag===5||E.tag===6)b.appendChild(E.stateNode);else if(E.tag!==4&&E.tag!==27&&E.child!==null){E.child.return=E,E=E.child;continue}if(E===a)break t;for(;E.sibling===null;){if(E.return===null||E.return===a)break t;E=E.return}E.sibling.return=E.return,E=E.sibling}a.stateNode=b;t:switch(fn(b,m,h),m){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break t;case"img":h=!0;break t;default:h=!1}h&&Us(a)}}return be(a),am(a,a.type,s===null?null:s.memoizedProps,a.pendingProps,c),null;case 6:if(s&&a.stateNode!=null)s.memoizedProps!==h&&Us(a);else{if(typeof h!="string"&&a.stateNode===null)throw Error(i(166));if(s=xt.current,Fo(a)){if(s=a.stateNode,c=a.memoizedProps,h=null,m=un,m!==null)switch(m.tag){case 27:case 5:h=m.memoizedProps}s[Ve]=a,s=!!(s.nodeValue===c||h!==null&&h.suppressHydrationWarning===!0||sE(s.nodeValue,c)),s||Er(a,!0)}else s=Md(s).createTextNode(h),s[Ve]=a,a.stateNode=s}return be(a),null;case 31:if(c=a.memoizedState,s===null||s.memoizedState!==null){if(h=Fo(a),c!==null){if(s===null){if(!h)throw Error(i(318));if(s=a.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(i(557));s[Ve]=a}else ja(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;be(a),s=!1}else c=mp(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=c),s=!0;if(!s)return a.flags&256?(Kn(a),a):(Kn(a),null);if((a.flags&128)!==0)throw Error(i(558))}return be(a),null;case 13:if(h=a.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(m=Fo(a),h!==null&&h.dehydrated!==null){if(s===null){if(!m)throw Error(i(318));if(m=a.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(i(317));m[Ve]=a}else ja(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;be(a),m=!1}else m=mp(),s!==null&&s.memoizedState!==null&&(s.memoizedState.hydrationErrors=m),m=!0;if(!m)return a.flags&256?(Kn(a),a):(Kn(a),null)}return Kn(a),(a.flags&128)!==0?(a.lanes=c,a):(c=h!==null,s=s!==null&&s.memoizedState!==null,c&&(h=a.child,m=null,h.alternate!==null&&h.alternate.memoizedState!==null&&h.alternate.memoizedState.cachePool!==null&&(m=h.alternate.memoizedState.cachePool.pool),b=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(b=h.memoizedState.cachePool.pool),b!==m&&(h.flags|=2048)),c!==s&&c&&(a.child.flags|=8192),_d(a,a.updateQueue),be(a),null);case 4:return Vt(),s===null&&Im(a.stateNode.containerInfo),be(a),null;case 10:return Ls(a.type),be(a),null;case 19:if(et(Ne),h=a.memoizedState,h===null)return be(a),null;if(m=(a.flags&128)!==0,b=h.rendering,b===null)if(m)Oc(h,!1);else{if(Ae!==0||s!==null&&(s.flags&128)!==0)for(s=a.child;s!==null;){if(b=ad(s),b!==null){for(a.flags|=128,Oc(h,!1),s=b.updateQueue,a.updateQueue=s,_d(a,s),a.subtreeFlags=0,s=c,c=a.child;c!==null;)z_(c,s),c=c.sibling;return ct(Ne,Ne.current&1|2),Wt&&Ps(a,h.treeForkCount),a.child}s=s.sibling}h.tail!==null&&An()>Sd&&(a.flags|=128,m=!0,Oc(h,!1),a.lanes=4194304)}else{if(!m)if(s=ad(b),s!==null){if(a.flags|=128,m=!0,s=s.updateQueue,a.updateQueue=s,_d(a,s),Oc(h,!0),h.tail===null&&h.tailMode==="hidden"&&!b.alternate&&!Wt)return be(a),null}else 2*An()-h.renderingStartTime>Sd&&c!==536870912&&(a.flags|=128,m=!0,Oc(h,!1),a.lanes=4194304);h.isBackwards?(b.sibling=a.child,a.child=b):(s=h.last,s!==null?s.sibling=b:a.child=b,h.last=b)}return h.tail!==null?(s=h.tail,h.rendering=s,h.tail=s.sibling,h.renderingStartTime=An(),s.sibling=null,c=Ne.current,ct(Ne,m?c&1|2:c&1),Wt&&Ps(a,h.treeForkCount),s):(be(a),null);case 22:case 23:return Kn(a),Dp(),h=a.memoizedState!==null,s!==null?s.memoizedState!==null!==h&&(a.flags|=8192):h&&(a.flags|=8192),h?(c&536870912)!==0&&(a.flags&128)===0&&(be(a),a.subtreeFlags&6&&(a.flags|=8192)):be(a),c=a.updateQueue,c!==null&&_d(a,c.retryQueue),c=null,s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),h=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(h=a.memoizedState.cachePool.pool),h!==c&&(a.flags|=2048),s!==null&&et(Fa),null;case 24:return c=null,s!==null&&(c=s.memoizedState.cache),a.memoizedState.cache!==c&&(a.flags|=2048),Ls(Ue),be(a),null;case 25:return null;case 30:return null}throw Error(i(156,a.tag))}function nR(s,a){switch(gp(a),a.tag){case 1:return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 3:return Ls(Ue),Vt(),s=a.flags,(s&65536)!==0&&(s&128)===0?(a.flags=s&-65537|128,a):null;case 26:case 27:case 5:return on(a),null;case 31:if(a.memoizedState!==null){if(Kn(a),a.alternate===null)throw Error(i(340));ja()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 13:if(Kn(a),s=a.memoizedState,s!==null&&s.dehydrated!==null){if(a.alternate===null)throw Error(i(340));ja()}return s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 19:return et(Ne),null;case 4:return Vt(),null;case 10:return Ls(a.type),null;case 22:case 23:return Kn(a),Dp(),s!==null&&et(Fa),s=a.flags,s&65536?(a.flags=s&-65537|128,a):null;case 24:return Ls(Ue),null;case 25:return null;default:return null}}function cx(s,a){switch(gp(a),a.tag){case 3:Ls(Ue),Vt();break;case 26:case 27:case 5:on(a);break;case 4:Vt();break;case 31:a.memoizedState!==null&&Kn(a);break;case 13:Kn(a);break;case 19:et(Ne);break;case 10:Ls(a.type);break;case 22:case 23:Kn(a),Dp(),s!==null&&et(Fa);break;case 24:Ls(Ue)}}function Mc(s,a){try{var c=a.updateQueue,h=c!==null?c.lastEffect:null;if(h!==null){var m=h.next;c=m;do{if((c.tag&s)===s){h=void 0;var b=c.create,E=c.inst;h=b(),E.destroy=h}c=c.next}while(c!==m)}}catch(D){oe(a,a.return,D)}}function Dr(s,a,c){try{var h=a.updateQueue,m=h!==null?h.lastEffect:null;if(m!==null){var b=m.next;h=b;do{if((h.tag&s)===s){var E=h.inst,D=E.destroy;if(D!==void 0){E.destroy=void 0,m=a;var j=c,Q=D;try{Q()}catch(nt){oe(m,j,nt)}}}h=h.next}while(h!==b)}}catch(nt){oe(a,a.return,nt)}}function ux(s){var a=s.updateQueue;if(a!==null){var c=s.stateNode;try{tv(a,c)}catch(h){oe(s,s.return,h)}}}function hx(s,a,c){c.props=Wa(s.type,s.memoizedProps),c.state=s.memoizedState;try{c.componentWillUnmount()}catch(h){oe(s,a,h)}}function Pc(s,a){try{var c=s.ref;if(c!==null){switch(s.tag){case 26:case 27:case 5:var h=s.stateNode;break;case 30:h=s.stateNode;break;default:h=s.stateNode}typeof c=="function"?s.refCleanup=c(h):c.current=h}}catch(m){oe(s,a,m)}}function gs(s,a){var c=s.ref,h=s.refCleanup;if(c!==null)if(typeof h=="function")try{h()}catch(m){oe(s,a,m)}finally{s.refCleanup=null,s=s.alternate,s!=null&&(s.refCleanup=null)}else if(typeof c=="function")try{c(null)}catch(m){oe(s,a,m)}else c.current=null}function dx(s){var a=s.type,c=s.memoizedProps,h=s.stateNode;try{t:switch(a){case"button":case"input":case"select":case"textarea":c.autoFocus&&h.focus();break t;case"img":c.src?h.src=c.src:c.srcSet&&(h.srcset=c.srcSet)}}catch(m){oe(s,s.return,m)}}function om(s,a,c){try{var h=s.stateNode;SR(h,s.type,c,a),h[Je]=a}catch(m){oe(s,s.return,m)}}function fx(s){return s.tag===5||s.tag===3||s.tag===26||s.tag===27&&zr(s.type)||s.tag===4}function lm(s){t:for(;;){for(;s.sibling===null;){if(s.return===null||fx(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.tag===27&&zr(s.type)||s.flags&2||s.child===null||s.tag===4)continue t;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function cm(s,a,c){var h=s.tag;if(h===5||h===6)s=s.stateNode,a?(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c).insertBefore(s,a):(a=c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,a.appendChild(s),c=c._reactRootContainer,c!=null||a.onclick!==null||(a.onclick=Mi));else if(h!==4&&(h===27&&zr(s.type)&&(c=s.stateNode,a=null),s=s.child,s!==null))for(cm(s,a,c),s=s.sibling;s!==null;)cm(s,a,c),s=s.sibling}function vd(s,a,c){var h=s.tag;if(h===5||h===6)s=s.stateNode,a?c.insertBefore(s,a):c.appendChild(s);else if(h!==4&&(h===27&&zr(s.type)&&(c=s.stateNode),s=s.child,s!==null))for(vd(s,a,c),s=s.sibling;s!==null;)vd(s,a,c),s=s.sibling}function gx(s){var a=s.stateNode,c=s.memoizedProps;try{for(var h=s.type,m=a.attributes;m.length;)a.removeAttributeNode(m[0]);fn(a,h,c),a[Ve]=s,a[Je]=c}catch(b){oe(s,s.return,b)}}var Fs=!1,qe=!1,um=!1,px=typeof WeakSet=="function"?WeakSet:Set,tn=null;function iR(s,a){if(s=s.containerInfo,Nm=Ud,s=C_(s),ip(s)){if("selectionStart"in s)var c={start:s.selectionStart,end:s.selectionEnd};else t:{c=(c=s.ownerDocument)&&c.defaultView||window;var h=c.getSelection&&c.getSelection();if(h&&h.rangeCount!==0){c=h.anchorNode;var m=h.anchorOffset,b=h.focusNode;h=h.focusOffset;try{c.nodeType,b.nodeType}catch{c=null;break t}var E=0,D=-1,j=-1,Q=0,nt=0,rt=s,J=null;e:for(;;){for(var tt;rt!==c||m!==0&&rt.nodeType!==3||(D=E+m),rt!==b||h!==0&&rt.nodeType!==3||(j=E+h),rt.nodeType===3&&(E+=rt.nodeValue.length),(tt=rt.firstChild)!==null;)J=rt,rt=tt;for(;;){if(rt===s)break e;if(J===c&&++Q===m&&(D=E),J===b&&++nt===h&&(j=E),(tt=rt.nextSibling)!==null)break;rt=J,J=rt.parentNode}rt=tt}c=D===-1||j===-1?null:{start:D,end:j}}else c=null}c=c||{start:0,end:0}}else c=null;for(km={focusedElem:s,selectionRange:c},Ud=!1,tn=a;tn!==null;)if(a=tn,s=a.child,(a.subtreeFlags&1028)!==0&&s!==null)s.return=a,tn=s;else for(;tn!==null;){switch(a=tn,b=a.alternate,s=a.flags,a.tag){case 0:if((s&4)!==0&&(s=a.updateQueue,s=s!==null?s.events:null,s!==null))for(c=0;c<s.length;c++)m=s[c],m.ref.impl=m.nextImpl;break;case 11:case 15:break;case 1:if((s&1024)!==0&&b!==null){s=void 0,c=a,m=b.memoizedProps,b=b.memoizedState,h=c.stateNode;try{var yt=Wa(c.type,m);s=h.getSnapshotBeforeUpdate(yt,b),h.__reactInternalSnapshotBeforeUpdate=s}catch(wt){oe(c,c.return,wt)}}break;case 3:if((s&1024)!==0){if(s=a.stateNode.containerInfo,c=s.nodeType,c===9)Pm(s);else if(c===1)switch(s.nodeName){case"HEAD":case"HTML":case"BODY":Pm(s);break;default:s.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((s&1024)!==0)throw Error(i(163))}if(s=a.sibling,s!==null){s.return=a.return,tn=s;break}tn=a.return}}function mx(s,a,c){var h=c.flags;switch(c.tag){case 0:case 11:case 15:qs(s,c),h&4&&Mc(5,c);break;case 1:if(qs(s,c),h&4)if(s=c.stateNode,a===null)try{s.componentDidMount()}catch(E){oe(c,c.return,E)}else{var m=Wa(c.type,a.memoizedProps);a=a.memoizedState;try{s.componentDidUpdate(m,a,s.__reactInternalSnapshotBeforeUpdate)}catch(E){oe(c,c.return,E)}}h&64&&ux(c),h&512&&Pc(c,c.return);break;case 3:if(qs(s,c),h&64&&(s=c.updateQueue,s!==null)){if(a=null,c.child!==null)switch(c.child.tag){case 27:case 5:a=c.child.stateNode;break;case 1:a=c.child.stateNode}try{tv(s,a)}catch(E){oe(c,c.return,E)}}break;case 27:a===null&&h&4&&gx(c);case 26:case 5:qs(s,c),a===null&&h&4&&dx(c),h&512&&Pc(c,c.return);break;case 12:qs(s,c);break;case 31:qs(s,c),h&4&&_x(s,c);break;case 13:qs(s,c),h&4&&vx(s,c),h&64&&(s=c.memoizedState,s!==null&&(s=s.dehydrated,s!==null&&(c=dR.bind(null,c),kR(s,c))));break;case 22:if(h=c.memoizedState!==null||Fs,!h){a=a!==null&&a.memoizedState!==null||qe,m=Fs;var b=qe;Fs=h,(qe=a)&&!b?Gs(s,c,(c.subtreeFlags&8772)!==0):qs(s,c),Fs=m,qe=b}break;case 30:break;default:qs(s,c)}}function yx(s){var a=s.alternate;a!==null&&(s.alternate=null,yx(a)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(a=s.stateNode,a!==null&&wo(a)),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}var Ee=null,Pn=!1;function Hs(s,a,c){for(c=c.child;c!==null;)bx(s,a,c),c=c.sibling}function bx(s,a,c){if(ln&&typeof ln.onCommitFiberUnmount=="function")try{ln.onCommitFiberUnmount(Ri,c)}catch{}switch(c.tag){case 26:qe||gs(c,a),Hs(s,a,c),c.memoizedState?c.memoizedState.count--:c.stateNode&&(c=c.stateNode,c.parentNode.removeChild(c));break;case 27:qe||gs(c,a);var h=Ee,m=Pn;zr(c.type)&&(Ee=c.stateNode,Pn=!1),Hs(s,a,c),qc(c.stateNode),Ee=h,Pn=m;break;case 5:qe||gs(c,a);case 6:if(h=Ee,m=Pn,Ee=null,Hs(s,a,c),Ee=h,Pn=m,Ee!==null)if(Pn)try{(Ee.nodeType===9?Ee.body:Ee.nodeName==="HTML"?Ee.ownerDocument.body:Ee).removeChild(c.stateNode)}catch(b){oe(c,a,b)}else try{Ee.removeChild(c.stateNode)}catch(b){oe(c,a,b)}break;case 18:Ee!==null&&(Pn?(s=Ee,uE(s.nodeType===9?s.body:s.nodeName==="HTML"?s.ownerDocument.body:s,c.stateNode),cl(s)):uE(Ee,c.stateNode));break;case 4:h=Ee,m=Pn,Ee=c.stateNode.containerInfo,Pn=!0,Hs(s,a,c),Ee=h,Pn=m;break;case 0:case 11:case 14:case 15:Dr(2,c,a),qe||Dr(4,c,a),Hs(s,a,c);break;case 1:qe||(gs(c,a),h=c.stateNode,typeof h.componentWillUnmount=="function"&&hx(c,a,h)),Hs(s,a,c);break;case 21:Hs(s,a,c);break;case 22:qe=(h=qe)||c.memoizedState!==null,Hs(s,a,c),qe=h;break;default:Hs(s,a,c)}}function _x(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null))){s=s.dehydrated;try{cl(s)}catch(c){oe(a,a.return,c)}}}function vx(s,a){if(a.memoizedState===null&&(s=a.alternate,s!==null&&(s=s.memoizedState,s!==null&&(s=s.dehydrated,s!==null))))try{cl(s)}catch(c){oe(a,a.return,c)}}function sR(s){switch(s.tag){case 31:case 13:case 19:var a=s.stateNode;return a===null&&(a=s.stateNode=new px),a;case 22:return s=s.stateNode,a=s._retryCache,a===null&&(a=s._retryCache=new px),a;default:throw Error(i(435,s.tag))}}function xd(s,a){var c=sR(s);a.forEach(function(h){if(!c.has(h)){c.add(h);var m=fR.bind(null,s,h);h.then(m,m)}})}function zn(s,a){var c=a.deletions;if(c!==null)for(var h=0;h<c.length;h++){var m=c[h],b=s,E=a,D=E;t:for(;D!==null;){switch(D.tag){case 27:if(zr(D.type)){Ee=D.stateNode,Pn=!1;break t}break;case 5:Ee=D.stateNode,Pn=!1;break t;case 3:case 4:Ee=D.stateNode.containerInfo,Pn=!0;break t}D=D.return}if(Ee===null)throw Error(i(160));bx(b,E,m),Ee=null,Pn=!1,b=m.alternate,b!==null&&(b.return=null),m.return=null}if(a.subtreeFlags&13886)for(a=a.child;a!==null;)xx(a,s),a=a.sibling}var Bi=null;function xx(s,a){var c=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:zn(a,s),Ln(s),h&4&&(Dr(3,s,s.return),Mc(3,s),Dr(5,s,s.return));break;case 1:zn(a,s),Ln(s),h&512&&(qe||c===null||gs(c,c.return)),h&64&&Fs&&(s=s.updateQueue,s!==null&&(h=s.callbacks,h!==null&&(c=s.shared.hiddenCallbacks,s.shared.hiddenCallbacks=c===null?h:c.concat(h))));break;case 26:var m=Bi;if(zn(a,s),Ln(s),h&512&&(qe||c===null||gs(c,c.return)),h&4){var b=c!==null?c.memoizedState:null;if(h=s.memoizedState,c===null)if(h===null)if(s.stateNode===null){t:{h=s.type,c=s.memoizedProps,m=m.ownerDocument||m;e:switch(h){case"title":b=m.getElementsByTagName("title")[0],(!b||b[ts]||b[Ve]||b.namespaceURI==="http://www.w3.org/2000/svg"||b.hasAttribute("itemprop"))&&(b=m.createElement(h),m.head.insertBefore(b,m.querySelector("head > title"))),fn(b,h,c),b[Ve]=s,je(b),h=b;break t;case"link":var E=xE("link","href",m).get(h+(c.href||""));if(E){for(var D=0;D<E.length;D++)if(b=E[D],b.getAttribute("href")===(c.href==null||c.href===""?null:c.href)&&b.getAttribute("rel")===(c.rel==null?null:c.rel)&&b.getAttribute("title")===(c.title==null?null:c.title)&&b.getAttribute("crossorigin")===(c.crossOrigin==null?null:c.crossOrigin)){E.splice(D,1);break e}}b=m.createElement(h),fn(b,h,c),m.head.appendChild(b);break;case"meta":if(E=xE("meta","content",m).get(h+(c.content||""))){for(D=0;D<E.length;D++)if(b=E[D],b.getAttribute("content")===(c.content==null?null:""+c.content)&&b.getAttribute("name")===(c.name==null?null:c.name)&&b.getAttribute("property")===(c.property==null?null:c.property)&&b.getAttribute("http-equiv")===(c.httpEquiv==null?null:c.httpEquiv)&&b.getAttribute("charset")===(c.charSet==null?null:c.charSet)){E.splice(D,1);break e}}b=m.createElement(h),fn(b,h,c),m.head.appendChild(b);break;default:throw Error(i(468,h))}b[Ve]=s,je(b),h=b}s.stateNode=h}else EE(m,s.type,s.stateNode);else s.stateNode=vE(m,h,s.memoizedProps);else b!==h?(b===null?c.stateNode!==null&&(c=c.stateNode,c.parentNode.removeChild(c)):b.count--,h===null?EE(m,s.type,s.stateNode):vE(m,h,s.memoizedProps)):h===null&&s.stateNode!==null&&om(s,s.memoizedProps,c.memoizedProps)}break;case 27:zn(a,s),Ln(s),h&512&&(qe||c===null||gs(c,c.return)),c!==null&&h&4&&om(s,s.memoizedProps,c.memoizedProps);break;case 5:if(zn(a,s),Ln(s),h&512&&(qe||c===null||gs(c,c.return)),s.flags&32){m=s.stateNode;try{Mn(m,"")}catch(yt){oe(s,s.return,yt)}}h&4&&s.stateNode!=null&&(m=s.memoizedProps,om(s,m,c!==null?c.memoizedProps:m)),h&1024&&(um=!0);break;case 6:if(zn(a,s),Ln(s),h&4){if(s.stateNode===null)throw Error(i(162));h=s.memoizedProps,c=s.stateNode;try{c.nodeValue=h}catch(yt){oe(s,s.return,yt)}}break;case 3:if(Ld=null,m=Bi,Bi=Pd(a.containerInfo),zn(a,s),Bi=m,Ln(s),h&4&&c!==null&&c.memoizedState.isDehydrated)try{cl(a.containerInfo)}catch(yt){oe(s,s.return,yt)}um&&(um=!1,Ex(s));break;case 4:h=Bi,Bi=Pd(s.stateNode.containerInfo),zn(a,s),Ln(s),Bi=h;break;case 12:zn(a,s),Ln(s);break;case 31:zn(a,s),Ln(s),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,xd(s,h)));break;case 13:zn(a,s),Ln(s),s.child.flags&8192&&s.memoizedState!==null!=(c!==null&&c.memoizedState!==null)&&(Td=An()),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,xd(s,h)));break;case 22:m=s.memoizedState!==null;var j=c!==null&&c.memoizedState!==null,Q=Fs,nt=qe;if(Fs=Q||m,qe=nt||j,zn(a,s),qe=nt,Fs=Q,Ln(s),h&8192)t:for(a=s.stateNode,a._visibility=m?a._visibility&-2:a._visibility|1,m&&(c===null||j||Fs||qe||Ya(s)),c=null,a=s;;){if(a.tag===5||a.tag===26){if(c===null){j=c=a;try{if(b=j.stateNode,m)E=b.style,typeof E.setProperty=="function"?E.setProperty("display","none","important"):E.display="none";else{D=j.stateNode;var rt=j.memoizedProps.style,J=rt!=null&&rt.hasOwnProperty("display")?rt.display:null;D.style.display=J==null||typeof J=="boolean"?"":(""+J).trim()}}catch(yt){oe(j,j.return,yt)}}}else if(a.tag===6){if(c===null){j=a;try{j.stateNode.nodeValue=m?"":j.memoizedProps}catch(yt){oe(j,j.return,yt)}}}else if(a.tag===18){if(c===null){j=a;try{var tt=j.stateNode;m?hE(tt,!0):hE(j.stateNode,!1)}catch(yt){oe(j,j.return,yt)}}}else if((a.tag!==22&&a.tag!==23||a.memoizedState===null||a===s)&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===s)break t;for(;a.sibling===null;){if(a.return===null||a.return===s)break t;c===a&&(c=null),a=a.return}c===a&&(c=null),a.sibling.return=a.return,a=a.sibling}h&4&&(h=s.updateQueue,h!==null&&(c=h.retryQueue,c!==null&&(h.retryQueue=null,xd(s,c))));break;case 19:zn(a,s),Ln(s),h&4&&(h=s.updateQueue,h!==null&&(s.updateQueue=null,xd(s,h)));break;case 30:break;case 21:break;default:zn(a,s),Ln(s)}}function Ln(s){var a=s.flags;if(a&2){try{for(var c,h=s.return;h!==null;){if(fx(h)){c=h;break}h=h.return}if(c==null)throw Error(i(160));switch(c.tag){case 27:var m=c.stateNode,b=lm(s);vd(s,b,m);break;case 5:var E=c.stateNode;c.flags&32&&(Mn(E,""),c.flags&=-33);var D=lm(s);vd(s,D,E);break;case 3:case 4:var j=c.stateNode.containerInfo,Q=lm(s);cm(s,Q,j);break;default:throw Error(i(161))}}catch(nt){oe(s,s.return,nt)}s.flags&=-3}a&4096&&(s.flags&=-4097)}function Ex(s){if(s.subtreeFlags&1024)for(s=s.child;s!==null;){var a=s;Ex(a),a.tag===5&&a.flags&1024&&a.stateNode.reset(),s=s.sibling}}function qs(s,a){if(a.subtreeFlags&8772)for(a=a.child;a!==null;)mx(s,a.alternate,a),a=a.sibling}function Ya(s){for(s=s.child;s!==null;){var a=s;switch(a.tag){case 0:case 11:case 14:case 15:Dr(4,a,a.return),Ya(a);break;case 1:gs(a,a.return);var c=a.stateNode;typeof c.componentWillUnmount=="function"&&hx(a,a.return,c),Ya(a);break;case 27:qc(a.stateNode);case 26:case 5:gs(a,a.return),Ya(a);break;case 22:a.memoizedState===null&&Ya(a);break;case 30:Ya(a);break;default:Ya(a)}s=s.sibling}}function Gs(s,a,c){for(c=c&&(a.subtreeFlags&8772)!==0,a=a.child;a!==null;){var h=a.alternate,m=s,b=a,E=b.flags;switch(b.tag){case 0:case 11:case 15:Gs(m,b,c),Mc(4,b);break;case 1:if(Gs(m,b,c),h=b,m=h.stateNode,typeof m.componentDidMount=="function")try{m.componentDidMount()}catch(Q){oe(h,h.return,Q)}if(h=b,m=h.updateQueue,m!==null){var D=h.stateNode;try{var j=m.shared.hiddenCallbacks;if(j!==null)for(m.shared.hiddenCallbacks=null,m=0;m<j.length;m++)Z_(j[m],D)}catch(Q){oe(h,h.return,Q)}}c&&E&64&&ux(b),Pc(b,b.return);break;case 27:gx(b);case 26:case 5:Gs(m,b,c),c&&h===null&&E&4&&dx(b),Pc(b,b.return);break;case 12:Gs(m,b,c);break;case 31:Gs(m,b,c),c&&E&4&&_x(m,b);break;case 13:Gs(m,b,c),c&&E&4&&vx(m,b);break;case 22:b.memoizedState===null&&Gs(m,b,c),Pc(b,b.return);break;case 30:break;default:Gs(m,b,c)}a=a.sibling}}function hm(s,a){var c=null;s!==null&&s.memoizedState!==null&&s.memoizedState.cachePool!==null&&(c=s.memoizedState.cachePool.pool),s=null,a.memoizedState!==null&&a.memoizedState.cachePool!==null&&(s=a.memoizedState.cachePool.pool),s!==c&&(s!=null&&s.refCount++,c!=null&&xc(c))}function dm(s,a){s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&xc(s))}function Ui(s,a,c,h){if(a.subtreeFlags&10256)for(a=a.child;a!==null;)Tx(s,a,c,h),a=a.sibling}function Tx(s,a,c,h){var m=a.flags;switch(a.tag){case 0:case 11:case 15:Ui(s,a,c,h),m&2048&&Mc(9,a);break;case 1:Ui(s,a,c,h);break;case 3:Ui(s,a,c,h),m&2048&&(s=null,a.alternate!==null&&(s=a.alternate.memoizedState.cache),a=a.memoizedState.cache,a!==s&&(a.refCount++,s!=null&&xc(s)));break;case 12:if(m&2048){Ui(s,a,c,h),s=a.stateNode;try{var b=a.memoizedProps,E=b.id,D=b.onPostCommit;typeof D=="function"&&D(E,a.alternate===null?"mount":"update",s.passiveEffectDuration,-0)}catch(j){oe(a,a.return,j)}}else Ui(s,a,c,h);break;case 31:Ui(s,a,c,h);break;case 13:Ui(s,a,c,h);break;case 23:break;case 22:b=a.stateNode,E=a.alternate,a.memoizedState!==null?b._visibility&2?Ui(s,a,c,h):zc(s,a):b._visibility&2?Ui(s,a,c,h):(b._visibility|=2,Jo(s,a,c,h,(a.subtreeFlags&10256)!==0||!1)),m&2048&&hm(E,a);break;case 24:Ui(s,a,c,h),m&2048&&dm(a.alternate,a);break;default:Ui(s,a,c,h)}}function Jo(s,a,c,h,m){for(m=m&&((a.subtreeFlags&10256)!==0||!1),a=a.child;a!==null;){var b=s,E=a,D=c,j=h,Q=E.flags;switch(E.tag){case 0:case 11:case 15:Jo(b,E,D,j,m),Mc(8,E);break;case 23:break;case 22:var nt=E.stateNode;E.memoizedState!==null?nt._visibility&2?Jo(b,E,D,j,m):zc(b,E):(nt._visibility|=2,Jo(b,E,D,j,m)),m&&Q&2048&&hm(E.alternate,E);break;case 24:Jo(b,E,D,j,m),m&&Q&2048&&dm(E.alternate,E);break;default:Jo(b,E,D,j,m)}a=a.sibling}}function zc(s,a){if(a.subtreeFlags&10256)for(a=a.child;a!==null;){var c=s,h=a,m=h.flags;switch(h.tag){case 22:zc(c,h),m&2048&&hm(h.alternate,h);break;case 24:zc(c,h),m&2048&&dm(h.alternate,h);break;default:zc(c,h)}a=a.sibling}}var Lc=8192;function Zo(s,a,c){if(s.subtreeFlags&Lc)for(s=s.child;s!==null;)Sx(s,a,c),s=s.sibling}function Sx(s,a,c){switch(s.tag){case 26:Zo(s,a,c),s.flags&Lc&&s.memoizedState!==null&&qR(c,Bi,s.memoizedState,s.memoizedProps);break;case 5:Zo(s,a,c);break;case 3:case 4:var h=Bi;Bi=Pd(s.stateNode.containerInfo),Zo(s,a,c),Bi=h;break;case 22:s.memoizedState===null&&(h=s.alternate,h!==null&&h.memoizedState!==null?(h=Lc,Lc=16777216,Zo(s,a,c),Lc=h):Zo(s,a,c));break;default:Zo(s,a,c)}}function wx(s){var a=s.alternate;if(a!==null&&(s=a.child,s!==null)){a.child=null;do a=s.sibling,s.sibling=null,s=a;while(s!==null)}}function Vc(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var c=0;c<a.length;c++){var h=a[c];tn=h,Cx(h,s)}wx(s)}if(s.subtreeFlags&10256)for(s=s.child;s!==null;)Ax(s),s=s.sibling}function Ax(s){switch(s.tag){case 0:case 11:case 15:Vc(s),s.flags&2048&&Dr(9,s,s.return);break;case 3:Vc(s);break;case 12:Vc(s);break;case 22:var a=s.stateNode;s.memoizedState!==null&&a._visibility&2&&(s.return===null||s.return.tag!==13)?(a._visibility&=-3,Ed(s)):Vc(s);break;default:Vc(s)}}function Ed(s){var a=s.deletions;if((s.flags&16)!==0){if(a!==null)for(var c=0;c<a.length;c++){var h=a[c];tn=h,Cx(h,s)}wx(s)}for(s=s.child;s!==null;){switch(a=s,a.tag){case 0:case 11:case 15:Dr(8,a,a.return),Ed(a);break;case 22:c=a.stateNode,c._visibility&2&&(c._visibility&=-3,Ed(a));break;default:Ed(a)}s=s.sibling}}function Cx(s,a){for(;tn!==null;){var c=tn;switch(c.tag){case 0:case 11:case 15:Dr(8,c,a);break;case 23:case 22:if(c.memoizedState!==null&&c.memoizedState.cachePool!==null){var h=c.memoizedState.cachePool.pool;h!=null&&h.refCount++}break;case 24:xc(c.memoizedState.cache)}if(h=c.child,h!==null)h.return=c,tn=h;else t:for(c=s;tn!==null;){h=tn;var m=h.sibling,b=h.return;if(yx(h),h===c){tn=null;break t}if(m!==null){m.return=b,tn=m;break t}tn=b}}}var rR={getCacheForType:function(s){var a=hn(Ue),c=a.data.get(s);return c===void 0&&(c=s(),a.data.set(s,c)),c},cacheSignal:function(){return hn(Ue).controller.signal}},aR=typeof WeakMap=="function"?WeakMap:Map,ne=0,fe=null,jt=null,Ft=0,ae=0,Qn=null,Rr=!1,tl=!1,fm=!1,$s=0,Ae=0,Nr=0,Ka=0,gm=0,Xn=0,el=0,jc=null,Vn=null,pm=!1,Td=0,Ix=0,Sd=1/0,wd=null,kr=null,Ke=0,Or=null,nl=null,Ws=0,mm=0,ym=null,Dx=null,Bc=0,bm=null;function Jn(){return(ne&2)!==0&&Ft!==0?Ft&-Ft:X.T!==null?Sm():Ah()}function Rx(){if(Xn===0)if((Ft&536870912)===0||Wt){var s=Ea;Ea<<=1,(Ea&3932160)===0&&(Ea=262144),Xn=s}else Xn=536870912;return s=Yn.current,s!==null&&(s.flags|=32),Xn}function jn(s,a,c){(s===fe&&(ae===2||ae===9)||s.cancelPendingCommit!==null)&&(il(s,0),Mr(s,Ft,Xn,!1)),Ta(s,c),((ne&2)===0||s!==fe)&&(s===fe&&((ne&2)===0&&(Ka|=c),Ae===4&&Mr(s,Ft,Xn,!1)),ps(s))}function Nx(s,a,c){if((ne&6)!==0)throw Error(i(327));var h=!c&&(a&127)===0&&(a&s.expiredLanes)===0||Ni(s,a),m=h?cR(s,a):vm(s,a,!0),b=h;do{if(m===0){tl&&!h&&Mr(s,a,0,!1);break}else{if(c=s.current.alternate,b&&!oR(c)){m=vm(s,a,!1),b=!1;continue}if(m===2){if(b=a,s.errorRecoveryDisabledLanes&b)var E=0;else E=s.pendingLanes&-536870913,E=E!==0?E:E&536870912?536870912:0;if(E!==0){a=E;t:{var D=s;m=jc;var j=D.current.memoizedState.isDehydrated;if(j&&(il(D,E).flags|=256),E=vm(D,E,!1),E!==2){if(fm&&!j){D.errorRecoveryDisabledLanes|=b,Ka|=b,m=4;break t}b=Vn,Vn=m,b!==null&&(Vn===null?Vn=b:Vn.push.apply(Vn,b))}m=E}if(b=!1,m!==2)continue}}if(m===1){il(s,0),Mr(s,a,0,!0);break}t:{switch(h=s,b=m,b){case 0:case 1:throw Error(i(345));case 4:if((a&4194048)!==a)break;case 6:Mr(h,a,Xn,!Rr);break t;case 2:Vn=null;break;case 3:case 5:break;default:throw Error(i(329))}if((a&62914560)===a&&(m=Td+300-An(),10<m)){if(Mr(h,a,Xn,!Rr),Xi(h,0,!0)!==0)break t;Ws=a,h.timeoutHandle=lE(kx.bind(null,h,c,Vn,wd,pm,a,Xn,Ka,el,Rr,b,"Throttled",-0,0),m);break t}kx(h,c,Vn,wd,pm,a,Xn,Ka,el,Rr,b,null,-0,0)}}break}while(!0);ps(s)}function kx(s,a,c,h,m,b,E,D,j,Q,nt,rt,J,tt){if(s.timeoutHandle=-1,rt=a.subtreeFlags,rt&8192||(rt&16785408)===16785408){rt={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Mi},Sx(a,b,rt);var yt=(b&62914560)===b?Td-An():(b&4194048)===b?Ix-An():0;if(yt=GR(rt,yt),yt!==null){Ws=b,s.cancelPendingCommit=yt(Bx.bind(null,s,a,b,c,h,m,E,D,j,nt,rt,null,J,tt)),Mr(s,b,E,!Q);return}}Bx(s,a,b,c,h,m,E,D,j)}function oR(s){for(var a=s;;){var c=a.tag;if((c===0||c===11||c===15)&&a.flags&16384&&(c=a.updateQueue,c!==null&&(c=c.stores,c!==null)))for(var h=0;h<c.length;h++){var m=c[h],b=m.getSnapshot;m=m.value;try{if(!$n(b(),m))return!1}catch{return!1}}if(c=a.child,a.subtreeFlags&16384&&c!==null)c.return=a,a=c;else{if(a===s)break;for(;a.sibling===null;){if(a.return===null||a.return===s)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Mr(s,a,c,h){a&=~gm,a&=~Ka,s.suspendedLanes|=a,s.pingedLanes&=~a,h&&(s.warmLanes|=a),h=s.expirationTimes;for(var m=a;0<m;){var b=31-De(m),E=1<<b;h[b]=-1,m&=~E}c!==0&&Sa(s,c,a)}function Ad(){return(ne&6)===0?(Uc(0),!1):!0}function _m(){if(jt!==null){if(ae===0)var s=jt.return;else s=jt,zs=Ba=null,Pp(s),Wo=null,Tc=0,s=jt;for(;s!==null;)cx(s.alternate,s),s=s.return;jt=null}}function il(s,a){var c=s.timeoutHandle;c!==-1&&(s.timeoutHandle=-1,CR(c)),c=s.cancelPendingCommit,c!==null&&(s.cancelPendingCommit=null,c()),Ws=0,_m(),fe=s,jt=c=Ms(s.current,null),Ft=a,ae=0,Qn=null,Rr=!1,tl=Ni(s,a),fm=!1,el=Xn=gm=Ka=Nr=Ae=0,Vn=jc=null,pm=!1,(a&8)!==0&&(a|=a&32);var h=s.entangledLanes;if(h!==0)for(s=s.entanglements,h&=a;0<h;){var m=31-De(h),b=1<<m;a|=s[m],h&=~b}return $s=a,Wh(),c}function Ox(s,a){Pt=null,X.H=Nc,a===$o||a===ed?(a=K_(),ae=3):a===Tp?(a=K_(),ae=4):ae=a===Xp?8:a!==null&&typeof a=="object"&&typeof a.then=="function"?6:1,Qn=a,jt===null&&(Ae=1,pd(s,gi(a,s.current)))}function Mx(){var s=Yn.current;return s===null?!0:(Ft&4194048)===Ft?bi===null:(Ft&62914560)===Ft||(Ft&536870912)!==0?s===bi:!1}function Px(){var s=X.H;return X.H=Nc,s===null?Nc:s}function zx(){var s=X.A;return X.A=rR,s}function Cd(){Ae=4,Rr||(Ft&4194048)!==Ft&&Yn.current!==null||(tl=!0),(Nr&134217727)===0&&(Ka&134217727)===0||fe===null||Mr(fe,Ft,Xn,!1)}function vm(s,a,c){var h=ne;ne|=2;var m=Px(),b=zx();(fe!==s||Ft!==a)&&(wd=null,il(s,a)),a=!1;var E=Ae;t:do try{if(ae!==0&&jt!==null){var D=jt,j=Qn;switch(ae){case 8:_m(),E=6;break t;case 3:case 2:case 9:case 6:Yn.current===null&&(a=!0);var Q=ae;if(ae=0,Qn=null,sl(s,D,j,Q),c&&tl){E=0;break t}break;default:Q=ae,ae=0,Qn=null,sl(s,D,j,Q)}}lR(),E=Ae;break}catch(nt){Ox(s,nt)}while(!0);return a&&s.shellSuspendCounter++,zs=Ba=null,ne=h,X.H=m,X.A=b,jt===null&&(fe=null,Ft=0,Wh()),E}function lR(){for(;jt!==null;)Lx(jt)}function cR(s,a){var c=ne;ne|=2;var h=Px(),m=zx();fe!==s||Ft!==a?(wd=null,Sd=An()+500,il(s,a)):tl=Ni(s,a);t:do try{if(ae!==0&&jt!==null){a=jt;var b=Qn;e:switch(ae){case 1:ae=0,Qn=null,sl(s,a,b,1);break;case 2:case 9:if(W_(b)){ae=0,Qn=null,Vx(a);break}a=function(){ae!==2&&ae!==9||fe!==s||(ae=7),ps(s)},b.then(a,a);break t;case 3:ae=7;break t;case 4:ae=5;break t;case 7:W_(b)?(ae=0,Qn=null,Vx(a)):(ae=0,Qn=null,sl(s,a,b,7));break;case 5:var E=null;switch(jt.tag){case 26:E=jt.memoizedState;case 5:case 27:var D=jt;if(E?TE(E):D.stateNode.complete){ae=0,Qn=null;var j=D.sibling;if(j!==null)jt=j;else{var Q=D.return;Q!==null?(jt=Q,Id(Q)):jt=null}break e}}ae=0,Qn=null,sl(s,a,b,5);break;case 6:ae=0,Qn=null,sl(s,a,b,6);break;case 8:_m(),Ae=6;break t;default:throw Error(i(462))}}uR();break}catch(nt){Ox(s,nt)}while(!0);return zs=Ba=null,X.H=h,X.A=m,ne=c,jt!==null?0:(fe=null,Ft=0,Wh(),Ae)}function uR(){for(;jt!==null&&!Kl();)Lx(jt)}function Lx(s){var a=ox(s.alternate,s,$s);s.memoizedProps=s.pendingProps,a===null?Id(s):jt=a}function Vx(s){var a=s,c=a.alternate;switch(a.tag){case 15:case 0:a=ex(c,a,a.pendingProps,a.type,void 0,Ft);break;case 11:a=ex(c,a,a.pendingProps,a.type.render,a.ref,Ft);break;case 5:Pp(a);default:cx(c,a),a=jt=z_(a,$s),a=ox(c,a,$s)}s.memoizedProps=s.pendingProps,a===null?Id(s):jt=a}function sl(s,a,c,h){zs=Ba=null,Pp(a),Wo=null,Tc=0;var m=a.return;try{if(JD(s,m,a,c,Ft)){Ae=1,pd(s,gi(c,s.current)),jt=null;return}}catch(b){if(m!==null)throw jt=m,b;Ae=1,pd(s,gi(c,s.current)),jt=null;return}a.flags&32768?(Wt||h===1?s=!0:tl||(Ft&536870912)!==0?s=!1:(Rr=s=!0,(h===2||h===9||h===3||h===6)&&(h=Yn.current,h!==null&&h.tag===13&&(h.flags|=16384))),jx(a,s)):Id(a)}function Id(s){var a=s;do{if((a.flags&32768)!==0){jx(a,Rr);return}s=a.return;var c=eR(a.alternate,a,$s);if(c!==null){jt=c;return}if(a=a.sibling,a!==null){jt=a;return}jt=a=s}while(a!==null);Ae===0&&(Ae=5)}function jx(s,a){do{var c=nR(s.alternate,s);if(c!==null){c.flags&=32767,jt=c;return}if(c=s.return,c!==null&&(c.flags|=32768,c.subtreeFlags=0,c.deletions=null),!a&&(s=s.sibling,s!==null)){jt=s;return}jt=s=c}while(s!==null);Ae=6,jt=null}function Bx(s,a,c,h,m,b,E,D,j){s.cancelPendingCommit=null;do Dd();while(Ke!==0);if((ne&6)!==0)throw Error(i(327));if(a!==null){if(a===s.current)throw Error(i(177));if(b=a.lanes|a.childLanes,b|=lp,Zg(s,c,b,E,D,j),s===fe&&(jt=fe=null,Ft=0),nl=a,Or=s,Ws=c,mm=b,ym=m,Dx=h,(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?(s.callbackNode=null,s.callbackPriority=0,gR(ur,function(){return Gx(),null})):(s.callbackNode=null,s.callbackPriority=0),h=(a.flags&13878)!==0,(a.subtreeFlags&13878)!==0||h){h=X.T,X.T=null,m=ot.p,ot.p=2,E=ne,ne|=4;try{iR(s,a,c)}finally{ne=E,ot.p=m,X.T=h}}Ke=1,Ux(),Fx(),Hx()}}function Ux(){if(Ke===1){Ke=0;var s=Or,a=nl,c=(a.flags&13878)!==0;if((a.subtreeFlags&13878)!==0||c){c=X.T,X.T=null;var h=ot.p;ot.p=2;var m=ne;ne|=4;try{xx(a,s);var b=km,E=C_(s.containerInfo),D=b.focusedElem,j=b.selectionRange;if(E!==D&&D&&D.ownerDocument&&A_(D.ownerDocument.documentElement,D)){if(j!==null&&ip(D)){var Q=j.start,nt=j.end;if(nt===void 0&&(nt=Q),"selectionStart"in D)D.selectionStart=Q,D.selectionEnd=Math.min(nt,D.value.length);else{var rt=D.ownerDocument||document,J=rt&&rt.defaultView||window;if(J.getSelection){var tt=J.getSelection(),yt=D.textContent.length,wt=Math.min(j.start,yt),de=j.end===void 0?wt:Math.min(j.end,yt);!tt.extend&&wt>de&&(E=de,de=wt,wt=E);var $=w_(D,wt),U=w_(D,de);if($&&U&&(tt.rangeCount!==1||tt.anchorNode!==$.node||tt.anchorOffset!==$.offset||tt.focusNode!==U.node||tt.focusOffset!==U.offset)){var K=rt.createRange();K.setStart($.node,$.offset),tt.removeAllRanges(),wt>de?(tt.addRange(K),tt.extend(U.node,U.offset)):(K.setEnd(U.node,U.offset),tt.addRange(K))}}}}for(rt=[],tt=D;tt=tt.parentNode;)tt.nodeType===1&&rt.push({element:tt,left:tt.scrollLeft,top:tt.scrollTop});for(typeof D.focus=="function"&&D.focus(),D=0;D<rt.length;D++){var it=rt[D];it.element.scrollLeft=it.left,it.element.scrollTop=it.top}}Ud=!!Nm,km=Nm=null}finally{ne=m,ot.p=h,X.T=c}}s.current=a,Ke=2}}function Fx(){if(Ke===2){Ke=0;var s=Or,a=nl,c=(a.flags&8772)!==0;if((a.subtreeFlags&8772)!==0||c){c=X.T,X.T=null;var h=ot.p;ot.p=2;var m=ne;ne|=4;try{mx(s,a.alternate,a)}finally{ne=m,ot.p=h,X.T=c}}Ke=3}}function Hx(){if(Ke===4||Ke===3){Ke=0,_h();var s=Or,a=nl,c=Ws,h=Dx;(a.subtreeFlags&10256)!==0||(a.flags&10256)!==0?Ke=5:(Ke=0,nl=Or=null,qx(s,s.pendingLanes));var m=s.pendingLanes;if(m===0&&(kr=null),Rs(c),a=a.stateNode,ln&&typeof ln.onCommitFiberRoot=="function")try{ln.onCommitFiberRoot(Ri,a,void 0,(a.current.flags&128)===128)}catch{}if(h!==null){a=X.T,m=ot.p,ot.p=2,X.T=null;try{for(var b=s.onRecoverableError,E=0;E<h.length;E++){var D=h[E];b(D.value,{componentStack:D.stack})}}finally{X.T=a,ot.p=m}}(Ws&3)!==0&&Dd(),ps(s),m=s.pendingLanes,(c&261930)!==0&&(m&42)!==0?s===bm?Bc++:(Bc=0,bm=s):Bc=0,Uc(0)}}function qx(s,a){(s.pooledCacheLanes&=a)===0&&(a=s.pooledCache,a!=null&&(s.pooledCache=null,xc(a)))}function Dd(){return Ux(),Fx(),Hx(),Gx()}function Gx(){if(Ke!==5)return!1;var s=Or,a=mm;mm=0;var c=Rs(Ws),h=X.T,m=ot.p;try{ot.p=32>c?32:c,X.T=null,c=ym,ym=null;var b=Or,E=Ws;if(Ke=0,nl=Or=null,Ws=0,(ne&6)!==0)throw Error(i(331));var D=ne;if(ne|=4,Ax(b.current),Tx(b,b.current,E,c),ne=D,Uc(0,!1),ln&&typeof ln.onPostCommitFiberRoot=="function")try{ln.onPostCommitFiberRoot(Ri,b)}catch{}return!0}finally{ot.p=m,X.T=h,qx(s,a)}}function $x(s,a,c){a=gi(c,a),a=Qp(s.stateNode,a,2),s=Ar(s,a,2),s!==null&&(Ta(s,2),ps(s))}function oe(s,a,c){if(s.tag===3)$x(s,s,c);else for(;a!==null;){if(a.tag===3){$x(a,s,c);break}else if(a.tag===1){var h=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(kr===null||!kr.has(h))){s=gi(c,s),c=Wv(2),h=Ar(a,c,2),h!==null&&(Yv(c,h,a,s),Ta(h,2),ps(h));break}}a=a.return}}function xm(s,a,c){var h=s.pingCache;if(h===null){h=s.pingCache=new aR;var m=new Set;h.set(a,m)}else m=h.get(a),m===void 0&&(m=new Set,h.set(a,m));m.has(c)||(fm=!0,m.add(c),s=hR.bind(null,s,a,c),a.then(s,s))}function hR(s,a,c){var h=s.pingCache;h!==null&&h.delete(a),s.pingedLanes|=s.suspendedLanes&c,s.warmLanes&=~c,fe===s&&(Ft&c)===c&&(Ae===4||Ae===3&&(Ft&62914560)===Ft&&300>An()-Td?(ne&2)===0&&il(s,0):gm|=c,el===Ft&&(el=0)),ps(s)}function Wx(s,a){a===0&&(a=wh()),s=La(s,a),s!==null&&(Ta(s,a),ps(s))}function dR(s){var a=s.memoizedState,c=0;a!==null&&(c=a.retryLane),Wx(s,c)}function fR(s,a){var c=0;switch(s.tag){case 31:case 13:var h=s.stateNode,m=s.memoizedState;m!==null&&(c=m.retryLane);break;case 19:h=s.stateNode;break;case 22:h=s.stateNode._retryCache;break;default:throw Error(i(314))}h!==null&&h.delete(a),Wx(s,c)}function gR(s,a){return Kt(s,a)}var Rd=null,rl=null,Em=!1,Nd=!1,Tm=!1,Pr=0;function ps(s){s!==rl&&s.next===null&&(rl===null?Rd=rl=s:rl=rl.next=s),Nd=!0,Em||(Em=!0,mR())}function Uc(s,a){if(!Tm&&Nd){Tm=!0;do for(var c=!1,h=Rd;h!==null;){if(s!==0){var m=h.pendingLanes;if(m===0)var b=0;else{var E=h.suspendedLanes,D=h.pingedLanes;b=(1<<31-De(42|s)+1)-1,b&=m&~(E&~D),b=b&201326741?b&201326741|1:b?b|2:0}b!==0&&(c=!0,Xx(h,b))}else b=Ft,b=Xi(h,h===fe?b:0,h.cancelPendingCommit!==null||h.timeoutHandle!==-1),(b&3)===0||Ni(h,b)||(c=!0,Xx(h,b));h=h.next}while(c);Tm=!1}}function pR(){Yx()}function Yx(){Nd=Em=!1;var s=0;Pr!==0&&AR()&&(s=Pr);for(var a=An(),c=null,h=Rd;h!==null;){var m=h.next,b=Kx(h,a);b===0?(h.next=null,c===null?Rd=m:c.next=m,m===null&&(rl=c)):(c=h,(s!==0||(b&3)!==0)&&(Nd=!0)),h=m}Ke!==0&&Ke!==5||Uc(s),Pr!==0&&(Pr=0)}function Kx(s,a){for(var c=s.suspendedLanes,h=s.pingedLanes,m=s.expirationTimes,b=s.pendingLanes&-62914561;0<b;){var E=31-De(b),D=1<<E,j=m[E];j===-1?((D&c)===0||(D&h)!==0)&&(m[E]=Jg(D,a)):j<=a&&(s.expiredLanes|=D),b&=~D}if(a=fe,c=Ft,c=Xi(s,s===a?c:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),h=s.callbackNode,c===0||s===a&&(ae===2||ae===9)||s.cancelPendingCommit!==null)return h!==null&&h!==null&&ze(h),s.callbackNode=null,s.callbackPriority=0;if((c&3)===0||Ni(s,c)){if(a=c&-c,a===s.callbackPriority)return a;switch(h!==null&&ze(h),Rs(c)){case 2:case 8:c=Xl;break;case 32:c=ur;break;case 268435456:c=vh;break;default:c=ur}return h=Qx.bind(null,s),c=Kt(c,h),s.callbackPriority=a,s.callbackNode=c,a}return h!==null&&h!==null&&ze(h),s.callbackPriority=2,s.callbackNode=null,2}function Qx(s,a){if(Ke!==0&&Ke!==5)return s.callbackNode=null,s.callbackPriority=0,null;var c=s.callbackNode;if(Dd()&&s.callbackNode!==c)return null;var h=Ft;return h=Xi(s,s===fe?h:0,s.cancelPendingCommit!==null||s.timeoutHandle!==-1),h===0?null:(Nx(s,h,a),Kx(s,An()),s.callbackNode!=null&&s.callbackNode===c?Qx.bind(null,s):null)}function Xx(s,a){if(Dd())return null;Nx(s,a,!0)}function mR(){IR(function(){(ne&6)!==0?Kt(Ql,pR):Yx()})}function Sm(){if(Pr===0){var s=qo;s===0&&(s=Ki,Ki<<=1,(Ki&261888)===0&&(Ki=256)),Pr=s}return Pr}function Jx(s){return s==null||typeof s=="symbol"||typeof s=="boolean"?null:typeof s=="function"?s:Do(""+s)}function Zx(s,a){var c=a.ownerDocument.createElement("input");return c.name=a.name,c.value=a.value,s.id&&c.setAttribute("form",s.id),a.parentNode.insertBefore(c,a),s=new FormData(s),c.parentNode.removeChild(c),s}function yR(s,a,c,h,m){if(a==="submit"&&c&&c.stateNode===m){var b=Jx((m[Je]||null).action),E=h.submitter;E&&(a=(a=E[Je]||null)?Jx(a.formAction):E.getAttribute("formAction"),a!==null&&(b=a,E=null));var D=new ls("action","action",null,h,m);s.push({event:D,listeners:[{instance:null,listener:function(){if(h.defaultPrevented){if(Pr!==0){var j=E?Zx(m,E):new FormData(m);qp(c,{pending:!0,data:j,method:m.method,action:b},null,j)}}else typeof b=="function"&&(D.preventDefault(),j=E?Zx(m,E):new FormData(m),qp(c,{pending:!0,data:j,method:m.method,action:b},b,j))},currentTarget:m}]})}}for(var wm=0;wm<op.length;wm++){var Am=op[wm],bR=Am.toLowerCase(),_R=Am[0].toUpperCase()+Am.slice(1);ji(bR,"on"+_R)}ji(R_,"onAnimationEnd"),ji(N_,"onAnimationIteration"),ji(k_,"onAnimationStart"),ji("dblclick","onDoubleClick"),ji("focusin","onFocus"),ji("focusout","onBlur"),ji(PD,"onTransitionRun"),ji(zD,"onTransitionStart"),ji(LD,"onTransitionCancel"),ji(O_,"onTransitionEnd"),ss("onMouseEnter",["mouseout","mouseover"]),ss("onMouseLeave",["mouseout","mouseover"]),ss("onPointerEnter",["pointerout","pointerover"]),ss("onPointerLeave",["pointerout","pointerover"]),is("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),is("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),is("onBeforeInput",["compositionend","keypress","textInput","paste"]),is("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),is("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),is("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Fc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),vR=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Fc));function tE(s,a){a=(a&4)!==0;for(var c=0;c<s.length;c++){var h=s[c],m=h.event;h=h.listeners;t:{var b=void 0;if(a)for(var E=h.length-1;0<=E;E--){var D=h[E],j=D.instance,Q=D.currentTarget;if(D=D.listener,j!==b&&m.isPropagationStopped())break t;b=D,m.currentTarget=Q;try{b(m)}catch(nt){$h(nt)}m.currentTarget=null,b=j}else for(E=0;E<h.length;E++){if(D=h[E],j=D.instance,Q=D.currentTarget,D=D.listener,j!==b&&m.isPropagationStopped())break t;b=D,m.currentTarget=Q;try{b(m)}catch(nt){$h(nt)}m.currentTarget=null,b=j}}}}function Bt(s,a){var c=a[So];c===void 0&&(c=a[So]=new Set);var h=s+"__bubble";c.has(h)||(eE(a,s,2,!1),c.add(h))}function Cm(s,a,c){var h=0;a&&(h|=4),eE(c,s,h,a)}var kd="_reactListening"+Math.random().toString(36).slice(2);function Im(s){if(!s[kd]){s[kd]=!0,tc.forEach(function(c){c!=="selectionchange"&&(vR.has(c)||Cm(c,!1,s),Cm(c,!0,s))});var a=s.nodeType===9?s:s.ownerDocument;a===null||a[kd]||(a[kd]=!0,Cm("selectionchange",!1,a))}}function eE(s,a,c,h){switch(RE(a)){case 2:var m=YR;break;case 8:m=KR;break;default:m=Hm}c=m.bind(null,a,c,s),m=void 0,!Da||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(m=!0),h?m!==void 0?s.addEventListener(a,c,{capture:!0,passive:m}):s.addEventListener(a,c,!0):m!==void 0?s.addEventListener(a,c,{passive:m}):s.addEventListener(a,c,!1)}function Dm(s,a,c,h,m){var b=h;if((a&1)===0&&(a&2)===0&&h!==null)t:for(;;){if(h===null)return;var E=h.tag;if(E===3||E===4){var D=h.stateNode.containerInfo;if(D===m)break;if(E===4)for(E=h.return;E!==null;){var j=E.tag;if((j===3||j===4)&&E.stateNode.containerInfo===m)return;E=E.return}for(;D!==null;){if(E=es(D),E===null)return;if(j=E.tag,j===5||j===6||j===26||j===27){h=b=E;continue t}D=D.parentNode}}h=h.return}mr(function(){var Q=b,nt=ui(c),rt=[];t:{var J=M_.get(s);if(J!==void 0){var tt=ls,yt=s;switch(s){case"keypress":if(Na(c)===0)break t;case"keydown":case"keyup":tt=Hh;break;case"focusin":yt="focus",tt=Oa;break;case"focusout":yt="blur",tt=Oa;break;case"beforeblur":case"afterblur":tt=Oa;break;case"click":if(c.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":tt=fc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":tt=Mh;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":tt=x;break;case R_:case N_:case k_:tt=zh;break;case O_:tt=k;break;case"scroll":case"scrollend":tt=dc;break;case"wheel":tt=Z;break;case"copy":case"cut":case"paste":tt=Lh;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":tt=Os;break;case"toggle":case"beforetoggle":tt=Mt}var wt=(a&4)!==0,de=!wt&&(s==="scroll"||s==="scrollend"),$=wt?J!==null?J+"Capture":null:J;wt=[];for(var U=Q,K;U!==null;){var it=U;if(K=it.stateNode,it=it.tag,it!==5&&it!==26&&it!==27||K===null||$===null||(it=Pi(U,$),it!=null&&wt.push(Hc(U,it,K))),de)break;U=U.return}0<wt.length&&(J=new tt(J,yt,null,c,nt),rt.push({event:J,listeners:wt}))}}if((a&7)===0){t:{if(J=s==="mouseover"||s==="pointerover",tt=s==="mouseout"||s==="pointerout",J&&c!==cc&&(yt=c.relatedTarget||c.fromElement)&&(es(yt)||yt[Zi]))break t;if((tt||J)&&(J=nt.window===nt?nt:(J=nt.ownerDocument)?J.defaultView||J.parentWindow:window,tt?(yt=c.relatedTarget||c.toElement,tt=Q,yt=yt?es(yt):null,yt!==null&&(de=o(yt),wt=yt.tag,yt!==de||wt!==5&&wt!==27&&wt!==6)&&(yt=null)):(tt=null,yt=Q),tt!==yt)){if(wt=fc,it="onMouseLeave",$="onMouseEnter",U="mouse",(s==="pointerout"||s==="pointerover")&&(wt=Os,it="onPointerLeave",$="onPointerEnter",U="pointer"),de=tt==null?J:qn(tt),K=yt==null?J:qn(yt),J=new wt(it,U+"leave",tt,c,nt),J.target=de,J.relatedTarget=K,it=null,es(nt)===Q&&(wt=new wt($,U+"enter",yt,c,nt),wt.target=K,wt.relatedTarget=de,it=wt),de=it,tt&&yt)e:{for(wt=xR,$=tt,U=yt,K=0,it=$;it;it=wt(it))K++;it=0;for(var Tt=U;Tt;Tt=wt(Tt))it++;for(;0<K-it;)$=wt($),K--;for(;0<it-K;)U=wt(U),it--;for(;K--;){if($===U||U!==null&&$===U.alternate){wt=$;break e}$=wt($),U=wt(U)}wt=null}else wt=null;tt!==null&&nE(rt,J,tt,wt,!1),yt!==null&&de!==null&&nE(rt,de,yt,wt,!0)}}t:{if(J=Q?qn(Q):window,tt=J.nodeName&&J.nodeName.toLowerCase(),tt==="select"||tt==="input"&&J.type==="file")var Zt=__;else if(y_(J))if(v_)Zt=kD;else{Zt=RD;var _t=DD}else tt=J.nodeName,!tt||tt.toLowerCase()!=="input"||J.type!=="checkbox"&&J.type!=="radio"?Q&&Io(Q.elementType)&&(Zt=__):Zt=ND;if(Zt&&(Zt=Zt(s,Q))){b_(rt,Zt,c,nt);break t}_t&&_t(s,J,Q),s==="focusout"&&Q&&J.type==="number"&&Q.memoizedProps.value!=null&&ac(J,"number",J.value)}switch(_t=Q?qn(Q):window,s){case"focusin":(y_(_t)||_t.contentEditable==="true")&&(zo=_t,sp=Q,bc=null);break;case"focusout":bc=sp=zo=null;break;case"mousedown":rp=!0;break;case"contextmenu":case"mouseup":case"dragend":rp=!1,I_(rt,c,nt);break;case"selectionchange":if(MD)break;case"keydown":case"keyup":I_(rt,c,nt)}var zt;if(ee)t:{switch(s){case"compositionstart":var Ht="onCompositionStart";break t;case"compositionend":Ht="onCompositionEnd";break t;case"compositionupdate":Ht="onCompositionUpdate";break t}Ht=void 0}else Po?Ma(s,c)&&(Ht="onCompositionEnd"):s==="keydown"&&c.keyCode===229&&(Ht="onCompositionStart");Ht&&(hs&&c.locale!=="ko"&&(Po||Ht!=="onCompositionStart"?Ht==="onCompositionEnd"&&Po&&(zt=hc()):(os=nt,uc="value"in os?os.value:os.textContent,Po=!0)),_t=Od(Q,Ht),0<_t.length&&(Ht=new us(Ht,s,null,c,nt),rt.push({event:Ht,listeners:_t}),zt?Ht.data=zt:(zt=Mo(c),zt!==null&&(Ht.data=zt)))),(zt=di?wD(s,c):AD(s,c))&&(Ht=Od(Q,"onBeforeInput"),0<Ht.length&&(_t=new us("onBeforeInput","beforeinput",null,c,nt),rt.push({event:_t,listeners:Ht}),_t.data=zt)),yR(rt,s,Q,c,nt)}tE(rt,a)})}function Hc(s,a,c){return{instance:s,listener:a,currentTarget:c}}function Od(s,a){for(var c=a+"Capture",h=[];s!==null;){var m=s,b=m.stateNode;if(m=m.tag,m!==5&&m!==26&&m!==27||b===null||(m=Pi(s,c),m!=null&&h.unshift(Hc(s,m,b)),m=Pi(s,a),m!=null&&h.push(Hc(s,m,b))),s.tag===3)return h;s=s.return}return[]}function xR(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5&&s.tag!==27);return s||null}function nE(s,a,c,h,m){for(var b=a._reactName,E=[];c!==null&&c!==h;){var D=c,j=D.alternate,Q=D.stateNode;if(D=D.tag,j!==null&&j===h)break;D!==5&&D!==26&&D!==27||Q===null||(j=Q,m?(Q=Pi(c,b),Q!=null&&E.unshift(Hc(c,Q,j))):m||(Q=Pi(c,b),Q!=null&&E.push(Hc(c,Q,j)))),c=c.return}E.length!==0&&s.push({event:a,listeners:E})}var ER=/\r\n?/g,TR=/\u0000|\uFFFD/g;function iE(s){return(typeof s=="string"?s:""+s).replace(ER,`
`).replace(TR,"")}function sE(s,a){return a=iE(a),iE(s)===a}function he(s,a,c,h,m,b){switch(c){case"children":typeof h=="string"?a==="body"||a==="textarea"&&h===""||Mn(s,h):(typeof h=="number"||typeof h=="bigint")&&a!=="body"&&Mn(s,""+h);break;case"className":Gn(s,"class",h);break;case"tabIndex":Gn(s,"tabindex",h);break;case"dir":case"role":case"viewBox":case"width":case"height":Gn(s,c,h);break;case"style":lc(s,h,b);break;case"data":if(a!=="object"){Gn(s,"data",h);break}case"src":case"href":if(h===""&&(a!=="a"||c!=="href")){s.removeAttribute(c);break}if(h==null||typeof h=="function"||typeof h=="symbol"||typeof h=="boolean"){s.removeAttribute(c);break}h=Do(""+h),s.setAttribute(c,h);break;case"action":case"formAction":if(typeof h=="function"){s.setAttribute(c,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof b=="function"&&(c==="formAction"?(a!=="input"&&he(s,a,"name",m.name,m,null),he(s,a,"formEncType",m.formEncType,m,null),he(s,a,"formMethod",m.formMethod,m,null),he(s,a,"formTarget",m.formTarget,m,null)):(he(s,a,"encType",m.encType,m,null),he(s,a,"method",m.method,m,null),he(s,a,"target",m.target,m,null)));if(h==null||typeof h=="symbol"||typeof h=="boolean"){s.removeAttribute(c);break}h=Do(""+h),s.setAttribute(c,h);break;case"onClick":h!=null&&(s.onclick=Mi);break;case"onScroll":h!=null&&Bt("scroll",s);break;case"onScrollEnd":h!=null&&Bt("scrollend",s);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(i(61));if(c=h.__html,c!=null){if(m.children!=null)throw Error(i(60));s.innerHTML=c}}break;case"multiple":s.multiple=h&&typeof h!="function"&&typeof h!="symbol";break;case"muted":s.muted=h&&typeof h!="function"&&typeof h!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(h==null||typeof h=="function"||typeof h=="boolean"||typeof h=="symbol"){s.removeAttribute("xlink:href");break}c=Do(""+h),s.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",c);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":h!=null&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(c,""+h):s.removeAttribute(c);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":h&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(c,""):s.removeAttribute(c);break;case"capture":case"download":h===!0?s.setAttribute(c,""):h!==!1&&h!=null&&typeof h!="function"&&typeof h!="symbol"?s.setAttribute(c,h):s.removeAttribute(c);break;case"cols":case"rows":case"size":case"span":h!=null&&typeof h!="function"&&typeof h!="symbol"&&!isNaN(h)&&1<=h?s.setAttribute(c,h):s.removeAttribute(c);break;case"rowSpan":case"start":h==null||typeof h=="function"||typeof h=="symbol"||isNaN(h)?s.removeAttribute(c):s.setAttribute(c,h);break;case"popover":Bt("beforetoggle",s),Bt("toggle",s),Ao(s,"popover",h);break;case"xlinkActuate":Be(s,"http://www.w3.org/1999/xlink","xlink:actuate",h);break;case"xlinkArcrole":Be(s,"http://www.w3.org/1999/xlink","xlink:arcrole",h);break;case"xlinkRole":Be(s,"http://www.w3.org/1999/xlink","xlink:role",h);break;case"xlinkShow":Be(s,"http://www.w3.org/1999/xlink","xlink:show",h);break;case"xlinkTitle":Be(s,"http://www.w3.org/1999/xlink","xlink:title",h);break;case"xlinkType":Be(s,"http://www.w3.org/1999/xlink","xlink:type",h);break;case"xmlBase":Be(s,"http://www.w3.org/XML/1998/namespace","xml:base",h);break;case"xmlLang":Be(s,"http://www.w3.org/XML/1998/namespace","xml:lang",h);break;case"xmlSpace":Be(s,"http://www.w3.org/XML/1998/namespace","xml:space",h);break;case"is":Ao(s,"is",h);break;case"innerText":case"textContent":break;default:(!(2<c.length)||c[0]!=="o"&&c[0]!=="O"||c[1]!=="n"&&c[1]!=="N")&&(c=Oh.get(c)||c,Ao(s,c,h))}}function Rm(s,a,c,h,m,b){switch(c){case"style":lc(s,h,b);break;case"dangerouslySetInnerHTML":if(h!=null){if(typeof h!="object"||!("__html"in h))throw Error(i(61));if(c=h.__html,c!=null){if(m.children!=null)throw Error(i(60));s.innerHTML=c}}break;case"children":typeof h=="string"?Mn(s,h):(typeof h=="number"||typeof h=="bigint")&&Mn(s,""+h);break;case"onScroll":h!=null&&Bt("scroll",s);break;case"onScrollEnd":h!=null&&Bt("scrollend",s);break;case"onClick":h!=null&&(s.onclick=Mi);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ec.hasOwnProperty(c))t:{if(c[0]==="o"&&c[1]==="n"&&(m=c.endsWith("Capture"),a=c.slice(2,m?c.length-7:void 0),b=s[Je]||null,b=b!=null?b[c]:null,typeof b=="function"&&s.removeEventListener(a,b,m),typeof h=="function")){typeof b!="function"&&b!==null&&(c in s?s[c]=null:s.hasAttribute(c)&&s.removeAttribute(c)),s.addEventListener(a,h,m);break t}c in s?s[c]=h:h===!0?s.setAttribute(c,""):Ao(s,c,h)}}}function fn(s,a,c){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Bt("error",s),Bt("load",s);var h=!1,m=!1,b;for(b in c)if(c.hasOwnProperty(b)){var E=c[b];if(E!=null)switch(b){case"src":h=!0;break;case"srcSet":m=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:he(s,a,b,E,c,null)}}m&&he(s,a,"srcSet",c.srcSet,c,null),h&&he(s,a,"src",c.src,c,null);return;case"input":Bt("invalid",s);var D=b=E=m=null,j=null,Q=null;for(h in c)if(c.hasOwnProperty(h)){var nt=c[h];if(nt!=null)switch(h){case"name":m=nt;break;case"type":E=nt;break;case"checked":j=nt;break;case"defaultChecked":Q=nt;break;case"value":b=nt;break;case"defaultValue":D=nt;break;case"children":case"dangerouslySetInnerHTML":if(nt!=null)throw Error(i(137,a));break;default:he(s,a,h,nt,c,null)}}Rh(s,b,D,j,Q,E,m,!1);return;case"select":Bt("invalid",s),h=E=b=null;for(m in c)if(c.hasOwnProperty(m)&&(D=c[m],D!=null))switch(m){case"value":b=D;break;case"defaultValue":E=D;break;case"multiple":h=D;default:he(s,a,m,D,c,null)}a=b,c=E,s.multiple=!!h,a!=null?dr(s,!!h,a,!1):c!=null&&dr(s,!!h,c,!0);return;case"textarea":Bt("invalid",s),b=m=h=null;for(E in c)if(c.hasOwnProperty(E)&&(D=c[E],D!=null))switch(E){case"value":h=D;break;case"defaultValue":m=D;break;case"children":b=D;break;case"dangerouslySetInnerHTML":if(D!=null)throw Error(i(91));break;default:he(s,a,E,D,c,null)}fr(s,h,m,b);return;case"option":for(j in c)if(c.hasOwnProperty(j)&&(h=c[j],h!=null))switch(j){case"selected":s.selected=h&&typeof h!="function"&&typeof h!="symbol";break;default:he(s,a,j,h,c,null)}return;case"dialog":Bt("beforetoggle",s),Bt("toggle",s),Bt("cancel",s),Bt("close",s);break;case"iframe":case"object":Bt("load",s);break;case"video":case"audio":for(h=0;h<Fc.length;h++)Bt(Fc[h],s);break;case"image":Bt("error",s),Bt("load",s);break;case"details":Bt("toggle",s);break;case"embed":case"source":case"link":Bt("error",s),Bt("load",s);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Q in c)if(c.hasOwnProperty(Q)&&(h=c[Q],h!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,a));default:he(s,a,Q,h,c,null)}return;default:if(Io(a)){for(nt in c)c.hasOwnProperty(nt)&&(h=c[nt],h!==void 0&&Rm(s,a,nt,h,c,void 0));return}}for(D in c)c.hasOwnProperty(D)&&(h=c[D],h!=null&&he(s,a,D,h,c,null))}function SR(s,a,c,h){switch(a){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var m=null,b=null,E=null,D=null,j=null,Q=null,nt=null;for(tt in c){var rt=c[tt];if(c.hasOwnProperty(tt)&&rt!=null)switch(tt){case"checked":break;case"value":break;case"defaultValue":j=rt;default:h.hasOwnProperty(tt)||he(s,a,tt,null,h,rt)}}for(var J in h){var tt=h[J];if(rt=c[J],h.hasOwnProperty(J)&&(tt!=null||rt!=null))switch(J){case"type":b=tt;break;case"name":m=tt;break;case"checked":Q=tt;break;case"defaultChecked":nt=tt;break;case"value":E=tt;break;case"defaultValue":D=tt;break;case"children":case"dangerouslySetInnerHTML":if(tt!=null)throw Error(i(137,a));break;default:tt!==rt&&he(s,a,J,tt,h,rt)}}Co(s,E,D,j,Q,nt,b,m);return;case"select":tt=E=D=J=null;for(b in c)if(j=c[b],c.hasOwnProperty(b)&&j!=null)switch(b){case"value":break;case"multiple":tt=j;default:h.hasOwnProperty(b)||he(s,a,b,null,h,j)}for(m in h)if(b=h[m],j=c[m],h.hasOwnProperty(m)&&(b!=null||j!=null))switch(m){case"value":J=b;break;case"defaultValue":D=b;break;case"multiple":E=b;default:b!==j&&he(s,a,m,b,h,j)}a=D,c=E,h=tt,J!=null?dr(s,!!c,J,!1):!!h!=!!c&&(a!=null?dr(s,!!c,a,!0):dr(s,!!c,c?[]:"",!1));return;case"textarea":tt=J=null;for(D in c)if(m=c[D],c.hasOwnProperty(D)&&m!=null&&!h.hasOwnProperty(D))switch(D){case"value":break;case"children":break;default:he(s,a,D,null,h,m)}for(E in h)if(m=h[E],b=c[E],h.hasOwnProperty(E)&&(m!=null||b!=null))switch(E){case"value":J=m;break;case"defaultValue":tt=m;break;case"children":break;case"dangerouslySetInnerHTML":if(m!=null)throw Error(i(91));break;default:m!==b&&he(s,a,E,m,h,b)}Nh(s,J,tt);return;case"option":for(var yt in c)if(J=c[yt],c.hasOwnProperty(yt)&&J!=null&&!h.hasOwnProperty(yt))switch(yt){case"selected":s.selected=!1;break;default:he(s,a,yt,null,h,J)}for(j in h)if(J=h[j],tt=c[j],h.hasOwnProperty(j)&&J!==tt&&(J!=null||tt!=null))switch(j){case"selected":s.selected=J&&typeof J!="function"&&typeof J!="symbol";break;default:he(s,a,j,J,h,tt)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var wt in c)J=c[wt],c.hasOwnProperty(wt)&&J!=null&&!h.hasOwnProperty(wt)&&he(s,a,wt,null,h,J);for(Q in h)if(J=h[Q],tt=c[Q],h.hasOwnProperty(Q)&&J!==tt&&(J!=null||tt!=null))switch(Q){case"children":case"dangerouslySetInnerHTML":if(J!=null)throw Error(i(137,a));break;default:he(s,a,Q,J,h,tt)}return;default:if(Io(a)){for(var de in c)J=c[de],c.hasOwnProperty(de)&&J!==void 0&&!h.hasOwnProperty(de)&&Rm(s,a,de,void 0,h,J);for(nt in h)J=h[nt],tt=c[nt],!h.hasOwnProperty(nt)||J===tt||J===void 0&&tt===void 0||Rm(s,a,nt,J,h,tt);return}}for(var $ in c)J=c[$],c.hasOwnProperty($)&&J!=null&&!h.hasOwnProperty($)&&he(s,a,$,null,h,J);for(rt in h)J=h[rt],tt=c[rt],!h.hasOwnProperty(rt)||J===tt||J==null&&tt==null||he(s,a,rt,J,h,tt)}function rE(s){switch(s){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function wR(){if(typeof performance.getEntriesByType=="function"){for(var s=0,a=0,c=performance.getEntriesByType("resource"),h=0;h<c.length;h++){var m=c[h],b=m.transferSize,E=m.initiatorType,D=m.duration;if(b&&D&&rE(E)){for(E=0,D=m.responseEnd,h+=1;h<c.length;h++){var j=c[h],Q=j.startTime;if(Q>D)break;var nt=j.transferSize,rt=j.initiatorType;nt&&rE(rt)&&(j=j.responseEnd,E+=nt*(j<D?1:(D-Q)/(j-Q)))}if(--h,a+=8*(b+E)/(m.duration/1e3),s++,10<s)break}}if(0<s)return a/s/1e6}return navigator.connection&&(s=navigator.connection.downlink,typeof s=="number")?s:5}var Nm=null,km=null;function Md(s){return s.nodeType===9?s:s.ownerDocument}function aE(s){switch(s){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function oE(s,a){if(s===0)switch(a){case"svg":return 1;case"math":return 2;default:return 0}return s===1&&a==="foreignObject"?0:s}function Om(s,a){return s==="textarea"||s==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.children=="bigint"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var Mm=null;function AR(){var s=window.event;return s&&s.type==="popstate"?s===Mm?!1:(Mm=s,!0):(Mm=null,!1)}var lE=typeof setTimeout=="function"?setTimeout:void 0,CR=typeof clearTimeout=="function"?clearTimeout:void 0,cE=typeof Promise=="function"?Promise:void 0,IR=typeof queueMicrotask=="function"?queueMicrotask:typeof cE<"u"?function(s){return cE.resolve(null).then(s).catch(DR)}:lE;function DR(s){setTimeout(function(){throw s})}function zr(s){return s==="head"}function uE(s,a){var c=a,h=0;do{var m=c.nextSibling;if(s.removeChild(c),m&&m.nodeType===8)if(c=m.data,c==="/$"||c==="/&"){if(h===0){s.removeChild(m),cl(a);return}h--}else if(c==="$"||c==="$?"||c==="$~"||c==="$!"||c==="&")h++;else if(c==="html")qc(s.ownerDocument.documentElement);else if(c==="head"){c=s.ownerDocument.head,qc(c);for(var b=c.firstChild;b;){var E=b.nextSibling,D=b.nodeName;b[ts]||D==="SCRIPT"||D==="STYLE"||D==="LINK"&&b.rel.toLowerCase()==="stylesheet"||c.removeChild(b),b=E}}else c==="body"&&qc(s.ownerDocument.body);c=m}while(c);cl(a)}function hE(s,a){var c=s;s=0;do{var h=c.nextSibling;if(c.nodeType===1?a?(c._stashedDisplay=c.style.display,c.style.display="none"):(c.style.display=c._stashedDisplay||"",c.getAttribute("style")===""&&c.removeAttribute("style")):c.nodeType===3&&(a?(c._stashedText=c.nodeValue,c.nodeValue=""):c.nodeValue=c._stashedText||""),h&&h.nodeType===8)if(c=h.data,c==="/$"){if(s===0)break;s--}else c!=="$"&&c!=="$?"&&c!=="$~"&&c!=="$!"||s++;c=h}while(c)}function Pm(s){var a=s.firstChild;for(a&&a.nodeType===10&&(a=a.nextSibling);a;){var c=a;switch(a=a.nextSibling,c.nodeName){case"HTML":case"HEAD":case"BODY":Pm(c),wo(c);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(c.rel.toLowerCase()==="stylesheet")continue}s.removeChild(c)}}function RR(s,a,c,h){for(;s.nodeType===1;){var m=c;if(s.nodeName.toLowerCase()!==a.toLowerCase()){if(!h&&(s.nodeName!=="INPUT"||s.type!=="hidden"))break}else if(h){if(!s[ts])switch(a){case"meta":if(!s.hasAttribute("itemprop"))break;return s;case"link":if(b=s.getAttribute("rel"),b==="stylesheet"&&s.hasAttribute("data-precedence"))break;if(b!==m.rel||s.getAttribute("href")!==(m.href==null||m.href===""?null:m.href)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin)||s.getAttribute("title")!==(m.title==null?null:m.title))break;return s;case"style":if(s.hasAttribute("data-precedence"))break;return s;case"script":if(b=s.getAttribute("src"),(b!==(m.src==null?null:m.src)||s.getAttribute("type")!==(m.type==null?null:m.type)||s.getAttribute("crossorigin")!==(m.crossOrigin==null?null:m.crossOrigin))&&b&&s.hasAttribute("async")&&!s.hasAttribute("itemprop"))break;return s;default:return s}}else if(a==="input"&&s.type==="hidden"){var b=m.name==null?null:""+m.name;if(m.type==="hidden"&&s.getAttribute("name")===b)return s}else return s;if(s=_i(s.nextSibling),s===null)break}return null}function NR(s,a,c){if(a==="")return null;for(;s.nodeType!==3;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!c||(s=_i(s.nextSibling),s===null))return null;return s}function dE(s,a){for(;s.nodeType!==8;)if((s.nodeType!==1||s.nodeName!=="INPUT"||s.type!=="hidden")&&!a||(s=_i(s.nextSibling),s===null))return null;return s}function zm(s){return s.data==="$?"||s.data==="$~"}function Lm(s){return s.data==="$!"||s.data==="$?"&&s.ownerDocument.readyState!=="loading"}function kR(s,a){var c=s.ownerDocument;if(s.data==="$~")s._reactRetry=a;else if(s.data!=="$?"||c.readyState!=="loading")a();else{var h=function(){a(),c.removeEventListener("DOMContentLoaded",h)};c.addEventListener("DOMContentLoaded",h),s._reactRetry=h}}function _i(s){for(;s!=null;s=s.nextSibling){var a=s.nodeType;if(a===1||a===3)break;if(a===8){if(a=s.data,a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"||a==="F!"||a==="F")break;if(a==="/$"||a==="/&")return null}}return s}var Vm=null;function fE(s){s=s.nextSibling;for(var a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="/$"||c==="/&"){if(a===0)return _i(s.nextSibling);a--}else c!=="$"&&c!=="$!"&&c!=="$?"&&c!=="$~"&&c!=="&"||a++}s=s.nextSibling}return null}function gE(s){s=s.previousSibling;for(var a=0;s;){if(s.nodeType===8){var c=s.data;if(c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"){if(a===0)return s;a--}else c!=="/$"&&c!=="/&"||a++}s=s.previousSibling}return null}function pE(s,a,c){switch(a=Md(c),s){case"html":if(s=a.documentElement,!s)throw Error(i(452));return s;case"head":if(s=a.head,!s)throw Error(i(453));return s;case"body":if(s=a.body,!s)throw Error(i(454));return s;default:throw Error(i(451))}}function qc(s){for(var a=s.attributes;a.length;)s.removeAttributeNode(a[0]);wo(s)}var vi=new Map,mE=new Set;function Pd(s){return typeof s.getRootNode=="function"?s.getRootNode():s.nodeType===9?s:s.ownerDocument}var Ys=ot.d;ot.d={f:OR,r:MR,D:PR,C:zR,L:LR,m:VR,X:BR,S:jR,M:UR};function OR(){var s=Ys.f(),a=Ad();return s||a}function MR(s){var a=ci(s);a!==null&&a.tag===5&&a.type==="form"?Ov(a):Ys.r(s)}var al=typeof document>"u"?null:document;function yE(s,a,c){var h=al;if(h&&typeof a=="string"&&a){var m=On(a);m='link[rel="'+s+'"][href="'+m+'"]',typeof c=="string"&&(m+='[crossorigin="'+c+'"]'),mE.has(m)||(mE.add(m),s={rel:s,crossOrigin:c,href:a},h.querySelector(m)===null&&(a=h.createElement("link"),fn(a,"link",s),je(a),h.head.appendChild(a)))}}function PR(s){Ys.D(s),yE("dns-prefetch",s,null)}function zR(s,a){Ys.C(s,a),yE("preconnect",s,a)}function LR(s,a,c){Ys.L(s,a,c);var h=al;if(h&&s&&a){var m='link[rel="preload"][as="'+On(a)+'"]';a==="image"&&c&&c.imageSrcSet?(m+='[imagesrcset="'+On(c.imageSrcSet)+'"]',typeof c.imageSizes=="string"&&(m+='[imagesizes="'+On(c.imageSizes)+'"]')):m+='[href="'+On(s)+'"]';var b=m;switch(a){case"style":b=ol(s);break;case"script":b=ll(s)}vi.has(b)||(s=y({rel:"preload",href:a==="image"&&c&&c.imageSrcSet?void 0:s,as:a},c),vi.set(b,s),h.querySelector(m)!==null||a==="style"&&h.querySelector(Gc(b))||a==="script"&&h.querySelector($c(b))||(a=h.createElement("link"),fn(a,"link",s),je(a),h.head.appendChild(a)))}}function VR(s,a){Ys.m(s,a);var c=al;if(c&&s){var h=a&&typeof a.as=="string"?a.as:"script",m='link[rel="modulepreload"][as="'+On(h)+'"][href="'+On(s)+'"]',b=m;switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":b=ll(s)}if(!vi.has(b)&&(s=y({rel:"modulepreload",href:s},a),vi.set(b,s),c.querySelector(m)===null)){switch(h){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(c.querySelector($c(b)))return}h=c.createElement("link"),fn(h,"link",s),je(h),c.head.appendChild(h)}}}function jR(s,a,c){Ys.S(s,a,c);var h=al;if(h&&s){var m=ns(h).hoistableStyles,b=ol(s);a=a||"default";var E=m.get(b);if(!E){var D={loading:0,preload:null};if(E=h.querySelector(Gc(b)))D.loading=5;else{s=y({rel:"stylesheet",href:s,"data-precedence":a},c),(c=vi.get(b))&&jm(s,c);var j=E=h.createElement("link");je(j),fn(j,"link",s),j._p=new Promise(function(Q,nt){j.onload=Q,j.onerror=nt}),j.addEventListener("load",function(){D.loading|=1}),j.addEventListener("error",function(){D.loading|=2}),D.loading|=4,zd(E,a,h)}E={type:"stylesheet",instance:E,count:1,state:D},m.set(b,E)}}}function BR(s,a){Ys.X(s,a);var c=al;if(c&&s){var h=ns(c).hoistableScripts,m=ll(s),b=h.get(m);b||(b=c.querySelector($c(m)),b||(s=y({src:s,async:!0},a),(a=vi.get(m))&&Bm(s,a),b=c.createElement("script"),je(b),fn(b,"link",s),c.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},h.set(m,b))}}function UR(s,a){Ys.M(s,a);var c=al;if(c&&s){var h=ns(c).hoistableScripts,m=ll(s),b=h.get(m);b||(b=c.querySelector($c(m)),b||(s=y({src:s,async:!0,type:"module"},a),(a=vi.get(m))&&Bm(s,a),b=c.createElement("script"),je(b),fn(b,"link",s),c.head.appendChild(b)),b={type:"script",instance:b,count:1,state:null},h.set(m,b))}}function bE(s,a,c,h){var m=(m=xt.current)?Pd(m):null;if(!m)throw Error(i(446));switch(s){case"meta":case"title":return null;case"style":return typeof c.precedence=="string"&&typeof c.href=="string"?(a=ol(c.href),c=ns(m).hoistableStyles,h=c.get(a),h||(h={type:"style",instance:null,count:0,state:null},c.set(a,h)),h):{type:"void",instance:null,count:0,state:null};case"link":if(c.rel==="stylesheet"&&typeof c.href=="string"&&typeof c.precedence=="string"){s=ol(c.href);var b=ns(m).hoistableStyles,E=b.get(s);if(E||(m=m.ownerDocument||m,E={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},b.set(s,E),(b=m.querySelector(Gc(s)))&&!b._p&&(E.instance=b,E.state.loading=5),vi.has(s)||(c={rel:"preload",as:"style",href:c.href,crossOrigin:c.crossOrigin,integrity:c.integrity,media:c.media,hrefLang:c.hrefLang,referrerPolicy:c.referrerPolicy},vi.set(s,c),b||FR(m,s,c,E.state))),a&&h===null)throw Error(i(528,""));return E}if(a&&h!==null)throw Error(i(529,""));return null;case"script":return a=c.async,c=c.src,typeof c=="string"&&a&&typeof a!="function"&&typeof a!="symbol"?(a=ll(c),c=ns(m).hoistableScripts,h=c.get(a),h||(h={type:"script",instance:null,count:0,state:null},c.set(a,h)),h):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,s))}}function ol(s){return'href="'+On(s)+'"'}function Gc(s){return'link[rel="stylesheet"]['+s+"]"}function _E(s){return y({},s,{"data-precedence":s.precedence,precedence:null})}function FR(s,a,c,h){s.querySelector('link[rel="preload"][as="style"]['+a+"]")?h.loading=1:(a=s.createElement("link"),h.preload=a,a.addEventListener("load",function(){return h.loading|=1}),a.addEventListener("error",function(){return h.loading|=2}),fn(a,"link",c),je(a),s.head.appendChild(a))}function ll(s){return'[src="'+On(s)+'"]'}function $c(s){return"script[async]"+s}function vE(s,a,c){if(a.count++,a.instance===null)switch(a.type){case"style":var h=s.querySelector('style[data-href~="'+On(c.href)+'"]');if(h)return a.instance=h,je(h),h;var m=y({},c,{"data-href":c.href,"data-precedence":c.precedence,href:null,precedence:null});return h=(s.ownerDocument||s).createElement("style"),je(h),fn(h,"style",m),zd(h,c.precedence,s),a.instance=h;case"stylesheet":m=ol(c.href);var b=s.querySelector(Gc(m));if(b)return a.state.loading|=4,a.instance=b,je(b),b;h=_E(c),(m=vi.get(m))&&jm(h,m),b=(s.ownerDocument||s).createElement("link"),je(b);var E=b;return E._p=new Promise(function(D,j){E.onload=D,E.onerror=j}),fn(b,"link",h),a.state.loading|=4,zd(b,c.precedence,s),a.instance=b;case"script":return b=ll(c.src),(m=s.querySelector($c(b)))?(a.instance=m,je(m),m):(h=c,(m=vi.get(b))&&(h=y({},c),Bm(h,m)),s=s.ownerDocument||s,m=s.createElement("script"),je(m),fn(m,"link",h),s.head.appendChild(m),a.instance=m);case"void":return null;default:throw Error(i(443,a.type))}else a.type==="stylesheet"&&(a.state.loading&4)===0&&(h=a.instance,a.state.loading|=4,zd(h,c.precedence,s));return a.instance}function zd(s,a,c){for(var h=c.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),m=h.length?h[h.length-1]:null,b=m,E=0;E<h.length;E++){var D=h[E];if(D.dataset.precedence===a)b=D;else if(b!==m)break}b?b.parentNode.insertBefore(s,b.nextSibling):(a=c.nodeType===9?c.head:c,a.insertBefore(s,a.firstChild))}function jm(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.title==null&&(s.title=a.title)}function Bm(s,a){s.crossOrigin==null&&(s.crossOrigin=a.crossOrigin),s.referrerPolicy==null&&(s.referrerPolicy=a.referrerPolicy),s.integrity==null&&(s.integrity=a.integrity)}var Ld=null;function xE(s,a,c){if(Ld===null){var h=new Map,m=Ld=new Map;m.set(c,h)}else m=Ld,h=m.get(c),h||(h=new Map,m.set(c,h));if(h.has(s))return h;for(h.set(s,null),c=c.getElementsByTagName(s),m=0;m<c.length;m++){var b=c[m];if(!(b[ts]||b[Ve]||s==="link"&&b.getAttribute("rel")==="stylesheet")&&b.namespaceURI!=="http://www.w3.org/2000/svg"){var E=b.getAttribute(a)||"";E=s+E;var D=h.get(E);D?D.push(b):h.set(E,[b])}}return h}function EE(s,a,c){s=s.ownerDocument||s,s.head.insertBefore(c,a==="title"?s.querySelector("head > title"):null)}function HR(s,a,c){if(c===1||a.itemProp!=null)return!1;switch(s){case"meta":case"title":return!0;case"style":if(typeof a.precedence!="string"||typeof a.href!="string"||a.href==="")break;return!0;case"link":if(typeof a.rel!="string"||typeof a.href!="string"||a.href===""||a.onLoad||a.onError)break;switch(a.rel){case"stylesheet":return s=a.disabled,typeof a.precedence=="string"&&s==null;default:return!0}case"script":if(a.async&&typeof a.async!="function"&&typeof a.async!="symbol"&&!a.onLoad&&!a.onError&&a.src&&typeof a.src=="string")return!0}return!1}function TE(s){return!(s.type==="stylesheet"&&(s.state.loading&3)===0)}function qR(s,a,c,h){if(c.type==="stylesheet"&&(typeof h.media!="string"||matchMedia(h.media).matches!==!1)&&(c.state.loading&4)===0){if(c.instance===null){var m=ol(h.href),b=a.querySelector(Gc(m));if(b){a=b._p,a!==null&&typeof a=="object"&&typeof a.then=="function"&&(s.count++,s=Vd.bind(s),a.then(s,s)),c.state.loading|=4,c.instance=b,je(b);return}b=a.ownerDocument||a,h=_E(h),(m=vi.get(m))&&jm(h,m),b=b.createElement("link"),je(b);var E=b;E._p=new Promise(function(D,j){E.onload=D,E.onerror=j}),fn(b,"link",h),c.instance=b}s.stylesheets===null&&(s.stylesheets=new Map),s.stylesheets.set(c,a),(a=c.state.preload)&&(c.state.loading&3)===0&&(s.count++,c=Vd.bind(s),a.addEventListener("load",c),a.addEventListener("error",c))}}var Um=0;function GR(s,a){return s.stylesheets&&s.count===0&&Bd(s,s.stylesheets),0<s.count||0<s.imgCount?function(c){var h=setTimeout(function(){if(s.stylesheets&&Bd(s,s.stylesheets),s.unsuspend){var b=s.unsuspend;s.unsuspend=null,b()}},6e4+a);0<s.imgBytes&&Um===0&&(Um=62500*wR());var m=setTimeout(function(){if(s.waitingForImages=!1,s.count===0&&(s.stylesheets&&Bd(s,s.stylesheets),s.unsuspend)){var b=s.unsuspend;s.unsuspend=null,b()}},(s.imgBytes>Um?50:800)+a);return s.unsuspend=c,function(){s.unsuspend=null,clearTimeout(h),clearTimeout(m)}}:null}function Vd(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Bd(this,this.stylesheets);else if(this.unsuspend){var s=this.unsuspend;this.unsuspend=null,s()}}}var jd=null;function Bd(s,a){s.stylesheets=null,s.unsuspend!==null&&(s.count++,jd=new Map,a.forEach($R,s),jd=null,Vd.call(s))}function $R(s,a){if(!(a.state.loading&4)){var c=jd.get(s);if(c)var h=c.get(null);else{c=new Map,jd.set(s,c);for(var m=s.querySelectorAll("link[data-precedence],style[data-precedence]"),b=0;b<m.length;b++){var E=m[b];(E.nodeName==="LINK"||E.getAttribute("media")!=="not all")&&(c.set(E.dataset.precedence,E),h=E)}h&&c.set(null,h)}m=a.instance,E=m.getAttribute("data-precedence"),b=c.get(E)||h,b===h&&c.set(null,m),c.set(E,m),this.count++,h=Vd.bind(this),m.addEventListener("load",h),m.addEventListener("error",h),b?b.parentNode.insertBefore(m,b.nextSibling):(s=s.nodeType===9?s.head:s,s.insertBefore(m,s.firstChild)),a.state.loading|=4}}var Wc={$$typeof:H,Provider:null,Consumer:null,_currentValue:pt,_currentValue2:pt,_threadCount:0};function WR(s,a,c,h,m,b,E,D,j){this.tag=1,this.containerInfo=s,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ji(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ji(0),this.hiddenUpdates=Ji(null),this.identifierPrefix=h,this.onUncaughtError=m,this.onCaughtError=b,this.onRecoverableError=E,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=j,this.incompleteTransitions=new Map}function SE(s,a,c,h,m,b,E,D,j,Q,nt,rt){return s=new WR(s,a,c,E,j,Q,nt,rt,D),a=1,b===!0&&(a|=24),b=Wn(3,null,null,a),s.current=b,b.stateNode=s,a=vp(),a.refCount++,s.pooledCache=a,a.refCount++,b.memoizedState={element:h,isDehydrated:c,cache:a},Sp(b),s}function wE(s){return s?(s=jo,s):jo}function AE(s,a,c,h,m,b){m=wE(m),h.context===null?h.context=m:h.pendingContext=m,h=wr(a),h.payload={element:c},b=b===void 0?null:b,b!==null&&(h.callback=b),c=Ar(s,h,a),c!==null&&(jn(c,s,a),wc(c,s,a))}function CE(s,a){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var c=s.retryLane;s.retryLane=c!==0&&c<a?c:a}}function Fm(s,a){CE(s,a),(s=s.alternate)&&CE(s,a)}function IE(s){if(s.tag===13||s.tag===31){var a=La(s,67108864);a!==null&&jn(a,s,67108864),Fm(s,67108864)}}function DE(s){if(s.tag===13||s.tag===31){var a=Jn();a=wa(a);var c=La(s,a);c!==null&&jn(c,s,a),Fm(s,a)}}var Ud=!0;function YR(s,a,c,h){var m=X.T;X.T=null;var b=ot.p;try{ot.p=2,Hm(s,a,c,h)}finally{ot.p=b,X.T=m}}function KR(s,a,c,h){var m=X.T;X.T=null;var b=ot.p;try{ot.p=8,Hm(s,a,c,h)}finally{ot.p=b,X.T=m}}function Hm(s,a,c,h){if(Ud){var m=qm(h);if(m===null)Dm(s,a,h,Fd,c),NE(s,h);else if(XR(m,s,a,c,h))h.stopPropagation();else if(NE(s,h),a&4&&-1<QR.indexOf(s)){for(;m!==null;){var b=ci(m);if(b!==null)switch(b.tag){case 3:if(b=b.stateNode,b.current.memoizedState.isDehydrated){var E=Qi(b.pendingLanes);if(E!==0){var D=b;for(D.pendingLanes|=2,D.entangledLanes|=2;E;){var j=1<<31-De(E);D.entanglements[1]|=j,E&=~j}ps(b),(ne&6)===0&&(Sd=An()+500,Uc(0))}}break;case 31:case 13:D=La(b,2),D!==null&&jn(D,b,2),Ad(),Fm(b,2)}if(b=qm(h),b===null&&Dm(s,a,h,Fd,c),b===m)break;m=b}m!==null&&h.stopPropagation()}else Dm(s,a,h,null,c)}}function qm(s){return s=ui(s),Gm(s)}var Fd=null;function Gm(s){if(Fd=null,s=es(s),s!==null){var a=o(s);if(a===null)s=null;else{var c=a.tag;if(c===13){if(s=l(a),s!==null)return s;s=null}else if(c===31){if(s=u(a),s!==null)return s;s=null}else if(c===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;s=null}else a!==s&&(s=null)}}return Fd=s,null}function RE(s){switch(s){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(xa()){case Ql:return 2;case Xl:return 8;case ur:case Xg:return 32;case vh:return 268435456;default:return 32}default:return 32}}var $m=!1,Lr=null,Vr=null,jr=null,Yc=new Map,Kc=new Map,Br=[],QR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function NE(s,a){switch(s){case"focusin":case"focusout":Lr=null;break;case"dragenter":case"dragleave":Vr=null;break;case"mouseover":case"mouseout":jr=null;break;case"pointerover":case"pointerout":Yc.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":Kc.delete(a.pointerId)}}function Qc(s,a,c,h,m,b){return s===null||s.nativeEvent!==b?(s={blockedOn:a,domEventName:c,eventSystemFlags:h,nativeEvent:b,targetContainers:[m]},a!==null&&(a=ci(a),a!==null&&IE(a)),s):(s.eventSystemFlags|=h,a=s.targetContainers,m!==null&&a.indexOf(m)===-1&&a.push(m),s)}function XR(s,a,c,h,m){switch(a){case"focusin":return Lr=Qc(Lr,s,a,c,h,m),!0;case"dragenter":return Vr=Qc(Vr,s,a,c,h,m),!0;case"mouseover":return jr=Qc(jr,s,a,c,h,m),!0;case"pointerover":var b=m.pointerId;return Yc.set(b,Qc(Yc.get(b)||null,s,a,c,h,m)),!0;case"gotpointercapture":return b=m.pointerId,Kc.set(b,Qc(Kc.get(b)||null,s,a,c,h,m)),!0}return!1}function kE(s){var a=es(s.target);if(a!==null){var c=o(a);if(c!==null){if(a=c.tag,a===13){if(a=l(c),a!==null){s.blockedOn=a,ki(s.priority,function(){DE(c)});return}}else if(a===31){if(a=u(c),a!==null){s.blockedOn=a,ki(s.priority,function(){DE(c)});return}}else if(a===3&&c.stateNode.current.memoizedState.isDehydrated){s.blockedOn=c.tag===3?c.stateNode.containerInfo:null;return}}}s.blockedOn=null}function Hd(s){if(s.blockedOn!==null)return!1;for(var a=s.targetContainers;0<a.length;){var c=qm(s.nativeEvent);if(c===null){c=s.nativeEvent;var h=new c.constructor(c.type,c);cc=h,c.target.dispatchEvent(h),cc=null}else return a=ci(c),a!==null&&IE(a),s.blockedOn=c,!1;a.shift()}return!0}function OE(s,a,c){Hd(s)&&c.delete(a)}function JR(){$m=!1,Lr!==null&&Hd(Lr)&&(Lr=null),Vr!==null&&Hd(Vr)&&(Vr=null),jr!==null&&Hd(jr)&&(jr=null),Yc.forEach(OE),Kc.forEach(OE)}function qd(s,a){s.blockedOn===a&&(s.blockedOn=null,$m||($m=!0,n.unstable_scheduleCallback(n.unstable_NormalPriority,JR)))}var Gd=null;function ME(s){Gd!==s&&(Gd=s,n.unstable_scheduleCallback(n.unstable_NormalPriority,function(){Gd===s&&(Gd=null);for(var a=0;a<s.length;a+=3){var c=s[a],h=s[a+1],m=s[a+2];if(typeof h!="function"){if(Gm(h||c)===null)continue;break}var b=ci(c);b!==null&&(s.splice(a,3),a-=3,qp(b,{pending:!0,data:m,method:c.method,action:h},h,m))}}))}function cl(s){function a(j){return qd(j,s)}Lr!==null&&qd(Lr,s),Vr!==null&&qd(Vr,s),jr!==null&&qd(jr,s),Yc.forEach(a),Kc.forEach(a);for(var c=0;c<Br.length;c++){var h=Br[c];h.blockedOn===s&&(h.blockedOn=null)}for(;0<Br.length&&(c=Br[0],c.blockedOn===null);)kE(c),c.blockedOn===null&&Br.shift();if(c=(s.ownerDocument||s).$$reactFormReplay,c!=null)for(h=0;h<c.length;h+=3){var m=c[h],b=c[h+1],E=m[Je]||null;if(typeof b=="function")E||ME(c);else if(E){var D=null;if(b&&b.hasAttribute("formAction")){if(m=b,E=b[Je]||null)D=E.formAction;else if(Gm(m)!==null)continue}else D=E.action;typeof D=="function"?c[h+1]=D:(c.splice(h,3),h-=3),ME(c)}}}function PE(){function s(b){b.canIntercept&&b.info==="react-transition"&&b.intercept({handler:function(){return new Promise(function(E){return m=E})},focusReset:"manual",scroll:"manual"})}function a(){m!==null&&(m(),m=null),h||setTimeout(c,20)}function c(){if(!h&&!navigation.transition){var b=navigation.currentEntry;b&&b.url!=null&&navigation.navigate(b.url,{state:b.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var h=!1,m=null;return navigation.addEventListener("navigate",s),navigation.addEventListener("navigatesuccess",a),navigation.addEventListener("navigateerror",a),setTimeout(c,100),function(){h=!0,navigation.removeEventListener("navigate",s),navigation.removeEventListener("navigatesuccess",a),navigation.removeEventListener("navigateerror",a),m!==null&&(m(),m=null)}}}function Wm(s){this._internalRoot=s}$d.prototype.render=Wm.prototype.render=function(s){var a=this._internalRoot;if(a===null)throw Error(i(409));var c=a.current,h=Jn();AE(c,h,s,a,null,null)},$d.prototype.unmount=Wm.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var a=s.containerInfo;AE(s.current,2,null,s,null,null),Ad(),a[Zi]=null}};function $d(s){this._internalRoot=s}$d.prototype.unstable_scheduleHydration=function(s){if(s){var a=Ah();s={blockedOn:null,target:s,priority:a};for(var c=0;c<Br.length&&a!==0&&a<Br[c].priority;c++);Br.splice(c,0,s),c===0&&kE(s)}};var zE=t.version;if(zE!=="19.2.1")throw Error(i(527,zE,"19.2.1"));ot.findDOMNode=function(s){var a=s._reactInternals;if(a===void 0)throw typeof s.render=="function"?Error(i(188)):(s=Object.keys(s).join(","),Error(i(268,s)));return s=f(a),s=s!==null?p(s):null,s=s===null?null:s.stateNode,s};var ZR={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Wd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Wd.isDisabled&&Wd.supportsFiber)try{Ri=Wd.inject(ZR),ln=Wd}catch{}}return Jc.createRoot=function(s,a){if(!r(s))throw Error(i(299));var c=!1,h="",m=Hv,b=qv,E=Gv;return a!=null&&(a.unstable_strictMode===!0&&(c=!0),a.identifierPrefix!==void 0&&(h=a.identifierPrefix),a.onUncaughtError!==void 0&&(m=a.onUncaughtError),a.onCaughtError!==void 0&&(b=a.onCaughtError),a.onRecoverableError!==void 0&&(E=a.onRecoverableError)),a=SE(s,1,!1,null,null,c,h,null,m,b,E,PE),s[Zi]=a.current,Im(s),new Wm(a)},Jc.hydrateRoot=function(s,a,c){if(!r(s))throw Error(i(299));var h=!1,m="",b=Hv,E=qv,D=Gv,j=null;return c!=null&&(c.unstable_strictMode===!0&&(h=!0),c.identifierPrefix!==void 0&&(m=c.identifierPrefix),c.onUncaughtError!==void 0&&(b=c.onUncaughtError),c.onCaughtError!==void 0&&(E=c.onCaughtError),c.onRecoverableError!==void 0&&(D=c.onRecoverableError),c.formState!==void 0&&(j=c.formState)),a=SE(s,1,!0,a,c??null,h,m,j,b,E,D,PE),a.context=wE(null),c=a.current,h=Jn(),h=wa(h),m=wr(h),m.callback=null,Ar(c,m,h),c=h,a.current.lanes=c,Ta(a,c),ps(a),s[Zi]=a.current,Im(s),new $d(a)},Jc.version="19.2.1",Jc}var $E;function lN(){if($E)return Qm.exports;$E=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(t){console.error(t)}}return n(),Qm.exports=oN(),Qm.exports}var cN=lN();const uN=k0(cN),hN=()=>{};var WE={};const R1=function(n){const t=[];let e=0;for(let i=0;i<n.length;i++){let r=n.charCodeAt(i);r<128?t[e++]=r:r<2048?(t[e++]=r>>6|192,t[e++]=r&63|128):(r&64512)===55296&&i+1<n.length&&(n.charCodeAt(i+1)&64512)===56320?(r=65536+((r&1023)<<10)+(n.charCodeAt(++i)&1023),t[e++]=r>>18|240,t[e++]=r>>12&63|128,t[e++]=r>>6&63|128,t[e++]=r&63|128):(t[e++]=r>>12|224,t[e++]=r>>6&63|128,t[e++]=r&63|128)}return t},dN=function(n){const t=[];let e=0,i=0;for(;e<n.length;){const r=n[e++];if(r<128)t[i++]=String.fromCharCode(r);else if(r>191&&r<224){const o=n[e++];t[i++]=String.fromCharCode((r&31)<<6|o&63)}else if(r>239&&r<365){const o=n[e++],l=n[e++],u=n[e++],d=((r&7)<<18|(o&63)<<12|(l&63)<<6|u&63)-65536;t[i++]=String.fromCharCode(55296+(d>>10)),t[i++]=String.fromCharCode(56320+(d&1023))}else{const o=n[e++],l=n[e++];t[i++]=String.fromCharCode((r&15)<<12|(o&63)<<6|l&63)}}return t.join("")},N1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,t){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const e=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[];for(let r=0;r<n.length;r+=3){const o=n[r],l=r+1<n.length,u=l?n[r+1]:0,d=r+2<n.length,f=d?n[r+2]:0,p=o>>2,y=(o&3)<<4|u>>4;let _=(u&15)<<2|f>>6,v=f&63;d||(v=64,l||(_=64)),i.push(e[p],e[y],e[_],e[v])}return i.join("")},encodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(n):this.encodeByteArray(R1(n),t)},decodeString(n,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(n):dN(this.decodeStringToByteArray(n,t))},decodeStringToByteArray(n,t){this.init_();const e=t?this.charToByteMapWebSafe_:this.charToByteMap_,i=[];for(let r=0;r<n.length;){const o=e[n.charAt(r++)],u=r<n.length?e[n.charAt(r)]:0;++r;const f=r<n.length?e[n.charAt(r)]:64;++r;const y=r<n.length?e[n.charAt(r)]:64;if(++r,o==null||u==null||f==null||y==null)throw new fN;const _=o<<2|u>>4;if(i.push(_),f!==64){const v=u<<4&240|f>>2;if(i.push(v),y!==64){const S=f<<6&192|y;i.push(S)}}}return i},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class fN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const gN=function(n){const t=R1(n);return N1.encodeByteArray(t,!0)},Nf=function(n){return gN(n).replace(/\./g,"")},k1=function(n){try{return N1.decodeString(n,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function pN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const mN=()=>pN().__FIREBASE_DEFAULTS__,yN=()=>{if(typeof process>"u"||typeof WE>"u")return;const n=WE.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},bN=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=n&&k1(n[1]);return t&&JSON.parse(t)},gg=()=>{try{return hN()||mN()||yN()||bN()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},O1=n=>gg()?.emulatorHosts?.[n],_N=n=>{const t=O1(n);if(!t)return;const e=t.lastIndexOf(":");if(e<=0||e+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const i=parseInt(t.substring(e+1),10);return t[0]==="["?[t.substring(1,e-1),i]:[t.substring(0,e),i]},M1=()=>gg()?.config,P1=n=>gg()?.[`_${n}`];class vN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,e)=>{this.resolve=t,this.reject=e})}wrapCallback(t){return(e,i)=>{e?this.reject(e):this.resolve(i),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(e):t(e,i))}}}function Ll(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function z1(n){return(await fetch(n,{credentials:"include"})).ok}function xN(n,t){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const e={alg:"none",type:"JWT"},i=t||"demo-project",r=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l={iss:`https://securetoken.google.com/${i}`,aud:i,iat:r,exp:r+3600,auth_time:r,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Nf(JSON.stringify(e)),Nf(JSON.stringify(l)),""].join(".")}const mu={};function EN(){const n={prod:[],emulator:[]};for(const t of Object.keys(mu))mu[t]?n.emulator.push(t):n.prod.push(t);return n}function TN(n){let t=document.getElementById(n),e=!1;return t||(t=document.createElement("div"),t.setAttribute("id",n),e=!0),{created:e,element:t}}let YE=!1;function L1(n,t){if(typeof window>"u"||typeof document>"u"||!Ll(window.location.host)||mu[n]===t||mu[n]||YE)return;mu[n]=t;function e(_){return`__firebase__banner__${_}`}const i="__firebase__banner",o=EN().prod.length>0;function l(){const _=document.getElementById(i);_&&_.remove()}function u(_){_.style.display="flex",_.style.background="#7faaf0",_.style.position="fixed",_.style.bottom="5px",_.style.left="5px",_.style.padding=".5em",_.style.borderRadius="5px",_.style.alignItems="center"}function d(_,v){_.setAttribute("width","24"),_.setAttribute("id",v),_.setAttribute("height","24"),_.setAttribute("viewBox","0 0 24 24"),_.setAttribute("fill","none"),_.style.marginLeft="-6px"}function f(){const _=document.createElement("span");return _.style.cursor="pointer",_.style.marginLeft="16px",_.style.fontSize="24px",_.innerHTML=" &times;",_.onclick=()=>{YE=!0,l()},_}function p(_,v){_.setAttribute("id",v),_.innerText="Learn more",_.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",_.setAttribute("target","__blank"),_.style.paddingLeft="5px",_.style.textDecoration="underline"}function y(){const _=TN(i),v=e("text"),S=document.getElementById(v)||document.createElement("span"),C=e("learnmore"),w=document.getElementById(C)||document.createElement("a"),O=e("preprendIcon"),L=document.getElementById(O)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(_.created){const H=_.element;u(H),p(w,C);const q=f();d(L,O),H.append(L,S,w,q),document.body.appendChild(H)}o?(S.innerText="Preview backend disconnected.",L.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(L.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,S.innerText="Preview backend running in this workspace."),S.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",y):y()}function Sn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function SN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Sn())}function wN(){const n=gg()?.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function AN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function CN(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function IN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function DN(){const n=Sn();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function RN(){return!wN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function NN(){try{return typeof indexedDB=="object"}catch{return!1}}function kN(){return new Promise((n,t)=>{try{let e=!0;const i="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(i);r.onsuccess=()=>{r.result.close(),e||self.indexedDB.deleteDatabase(i),n(!0)},r.onupgradeneeded=()=>{e=!1},r.onerror=()=>{t(r.error?.message||"")}}catch(e){t(e)}})}const ON="FirebaseError";class or extends Error{constructor(t,e,i){super(e),this.code=t,this.customData=i,this.name=ON,Object.setPrototypeOf(this,or.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,eh.prototype.create)}}class eh{constructor(t,e,i){this.service=t,this.serviceName=e,this.errors=i}create(t,...e){const i=e[0]||{},r=`${this.service}/${t}`,o=this.errors[t],l=o?MN(o,i):"Error",u=`${this.serviceName}: ${l} (${r}).`;return new or(r,u,i)}}function MN(n,t){return n.replace(PN,(e,i)=>{const r=t[i];return r!=null?String(r):`<${i}?>`})}const PN=/\{\$([^}]+)}/g;function zN(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}function uo(n,t){if(n===t)return!0;const e=Object.keys(n),i=Object.keys(t);for(const r of e){if(!i.includes(r))return!1;const o=n[r],l=t[r];if(KE(o)&&KE(l)){if(!uo(o,l))return!1}else if(o!==l)return!1}for(const r of i)if(!e.includes(r))return!1;return!0}function KE(n){return n!==null&&typeof n=="object"}function nh(n){const t=[];for(const[e,i]of Object.entries(n))Array.isArray(i)?i.forEach(r=>{t.push(encodeURIComponent(e)+"="+encodeURIComponent(r))}):t.push(encodeURIComponent(e)+"="+encodeURIComponent(i));return t.length?"&"+t.join("&"):""}function ou(n){const t={};return n.replace(/^\?/,"").split("&").forEach(i=>{if(i){const[r,o]=i.split("=");t[decodeURIComponent(r)]=decodeURIComponent(o)}}),t}function lu(n){const t=n.indexOf("?");if(!t)return"";const e=n.indexOf("#",t);return n.substring(t,e>0?e:void 0)}function LN(n,t){const e=new VN(n,t);return e.subscribe.bind(e)}class VN{constructor(t,e){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(()=>{t(this)}).catch(i=>{this.error(i)})}next(t){this.forEachObserver(e=>{e.next(t)})}error(t){this.forEachObserver(e=>{e.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,e,i){let r;if(t===void 0&&e===void 0&&i===void 0)throw new Error("Missing Observer.");jN(t,["next","error","complete"])?r=t:r={next:t,error:e,complete:i},r.next===void 0&&(r.next=ty),r.error===void 0&&(r.error=ty),r.complete===void 0&&(r.complete=ty);const o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch{}}),this.observers.push(r),o}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let e=0;e<this.observers.length;e++)this.sendOne(e,t)}sendOne(t,e){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{e(this.observers[t])}catch(i){typeof console<"u"&&console.error&&console.error(i)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function jN(n,t){if(typeof n!="object"||n===null)return!1;for(const e of t)if(e in n&&typeof n[e]=="function")return!0;return!1}function ty(){}function Ie(n){return n&&n._delegate?n._delegate:n}class ho{constructor(t,e,i){this.name=t,this.instanceFactory=e,this.type=i,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}const to="[DEFAULT]";let BN=class{constructor(t,e){this.name=t,this.container=e,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const e=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(e)){const i=new vN;if(this.instancesDeferred.set(e,i),this.isInitialized(e)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:e});r&&i.resolve(r)}catch{}}return this.instancesDeferred.get(e).promise}getImmediate(t){const e=this.normalizeInstanceIdentifier(t?.identifier),i=t?.optional??!1;if(this.isInitialized(e)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:e})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(FN(t))try{this.getOrInitializeService({instanceIdentifier:to})}catch{}for(const[e,i]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(e);try{const o=this.getOrInitializeService({instanceIdentifier:r});i.resolve(o)}catch{}}}}clearInstance(t=to){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(e=>"INTERNAL"in e).map(e=>e.INTERNAL.delete()),...t.filter(e=>"_delete"in e).map(e=>e._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=to){return this.instances.has(t)}getOptions(t=to){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:e={}}=t,i=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(i))throw Error(`${this.name}(${i}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:i,options:e});for(const[o,l]of this.instancesDeferred.entries()){const u=this.normalizeInstanceIdentifier(o);i===u&&l.resolve(r)}return r}onInit(t,e){const i=this.normalizeInstanceIdentifier(e),r=this.onInitCallbacks.get(i)??new Set;r.add(t),this.onInitCallbacks.set(i,r);const o=this.instances.get(i);return o&&t(o,i),()=>{r.delete(t)}}invokeOnInitCallbacks(t,e){const i=this.onInitCallbacks.get(e);if(i)for(const r of i)try{r(t,e)}catch{}}getOrInitializeService({instanceIdentifier:t,options:e={}}){let i=this.instances.get(t);if(!i&&this.component&&(i=this.component.instanceFactory(this.container,{instanceIdentifier:UN(t),options:e}),this.instances.set(t,i),this.instancesOptions.set(t,e),this.invokeOnInitCallbacks(i,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,i)}catch{}return i||null}normalizeInstanceIdentifier(t=to){return this.component?this.component.multipleInstances?t:to:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function UN(n){return n===to?void 0:n}function FN(n){return n.instantiationMode==="EAGER"}class HN{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const e=this.getProvider(t.name);if(e.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);e.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const e=new BN(t,this);return this.providers.set(t,e),e}getProviders(){return Array.from(this.providers.values())}}var qt;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(qt||(qt={}));const qN={debug:qt.DEBUG,verbose:qt.VERBOSE,info:qt.INFO,warn:qt.WARN,error:qt.ERROR,silent:qt.SILENT},GN=qt.INFO,$N={[qt.DEBUG]:"log",[qt.VERBOSE]:"log",[qt.INFO]:"info",[qt.WARN]:"warn",[qt.ERROR]:"error"},WN=(n,t,...e)=>{if(t<n.logLevel)return;const i=new Date().toISOString(),r=$N[t];if(r)console[r](`[${i}]  ${n.name}:`,...e);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class O0{constructor(t){this.name=t,this._logLevel=GN,this._logHandler=WN,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in qt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?qN[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,qt.DEBUG,...t),this._logHandler(this,qt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,qt.VERBOSE,...t),this._logHandler(this,qt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,qt.INFO,...t),this._logHandler(this,qt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,qt.WARN,...t),this._logHandler(this,qt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,qt.ERROR,...t),this._logHandler(this,qt.ERROR,...t)}}const YN=(n,t)=>t.some(e=>n instanceof e);let QE,XE;function KN(){return QE||(QE=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function QN(){return XE||(XE=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const V1=new WeakMap,Ly=new WeakMap,j1=new WeakMap,ey=new WeakMap,M0=new WeakMap;function XN(n){const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("success",o),n.removeEventListener("error",l)},o=()=>{e(Xr(n.result)),r()},l=()=>{i(n.error),r()};n.addEventListener("success",o),n.addEventListener("error",l)});return t.then(e=>{e instanceof IDBCursor&&V1.set(e,n)}).catch(()=>{}),M0.set(t,n),t}function JN(n){if(Ly.has(n))return;const t=new Promise((e,i)=>{const r=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",l),n.removeEventListener("abort",l)},o=()=>{e(),r()},l=()=>{i(n.error||new DOMException("AbortError","AbortError")),r()};n.addEventListener("complete",o),n.addEventListener("error",l),n.addEventListener("abort",l)});Ly.set(n,t)}let Vy={get(n,t,e){if(n instanceof IDBTransaction){if(t==="done")return Ly.get(n);if(t==="objectStoreNames")return n.objectStoreNames||j1.get(n);if(t==="store")return e.objectStoreNames[1]?void 0:e.objectStore(e.objectStoreNames[0])}return Xr(n[t])},set(n,t,e){return n[t]=e,!0},has(n,t){return n instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in n}};function ZN(n){Vy=n(Vy)}function tk(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...e){const i=n.call(ny(this),t,...e);return j1.set(i,t.sort?t.sort():[t]),Xr(i)}:QN().includes(n)?function(...t){return n.apply(ny(this),t),Xr(V1.get(this))}:function(...t){return Xr(n.apply(ny(this),t))}}function ek(n){return typeof n=="function"?tk(n):(n instanceof IDBTransaction&&JN(n),YN(n,KN())?new Proxy(n,Vy):n)}function Xr(n){if(n instanceof IDBRequest)return XN(n);if(ey.has(n))return ey.get(n);const t=ek(n);return t!==n&&(ey.set(n,t),M0.set(t,n)),t}const ny=n=>M0.get(n);function nk(n,t,{blocked:e,upgrade:i,blocking:r,terminated:o}={}){const l=indexedDB.open(n,t),u=Xr(l);return i&&l.addEventListener("upgradeneeded",d=>{i(Xr(l.result),d.oldVersion,d.newVersion,Xr(l.transaction),d)}),e&&l.addEventListener("blocked",d=>e(d.oldVersion,d.newVersion,d)),u.then(d=>{o&&d.addEventListener("close",()=>o()),r&&d.addEventListener("versionchange",f=>r(f.oldVersion,f.newVersion,f))}).catch(()=>{}),u}const ik=["get","getKey","getAll","getAllKeys","count"],sk=["put","add","delete","clear"],iy=new Map;function JE(n,t){if(!(n instanceof IDBDatabase&&!(t in n)&&typeof t=="string"))return;if(iy.get(t))return iy.get(t);const e=t.replace(/FromIndex$/,""),i=t!==e,r=sk.includes(e);if(!(e in(i?IDBIndex:IDBObjectStore).prototype)||!(r||ik.includes(e)))return;const o=async function(l,...u){const d=this.transaction(l,r?"readwrite":"readonly");let f=d.store;return i&&(f=f.index(u.shift())),(await Promise.all([f[e](...u),r&&d.done]))[0]};return iy.set(t,o),o}ZN(n=>({...n,get:(t,e,i)=>JE(t,e)||n.get(t,e,i),has:(t,e)=>!!JE(t,e)||n.has(t,e)}));class rk{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(e=>{if(ak(e)){const i=e.getImmediate();return`${i.library}/${i.version}`}else return null}).filter(e=>e).join(" ")}}function ak(n){return n.getComponent()?.type==="VERSION"}const jy="@firebase/app",ZE="0.14.6";const er=new O0("@firebase/app"),ok="@firebase/app-compat",lk="@firebase/analytics-compat",ck="@firebase/analytics",uk="@firebase/app-check-compat",hk="@firebase/app-check",dk="@firebase/auth",fk="@firebase/auth-compat",gk="@firebase/database",pk="@firebase/data-connect",mk="@firebase/database-compat",yk="@firebase/functions",bk="@firebase/functions-compat",_k="@firebase/installations",vk="@firebase/installations-compat",xk="@firebase/messaging",Ek="@firebase/messaging-compat",Tk="@firebase/performance",Sk="@firebase/performance-compat",wk="@firebase/remote-config",Ak="@firebase/remote-config-compat",Ck="@firebase/storage",Ik="@firebase/storage-compat",Dk="@firebase/firestore",Rk="@firebase/ai",Nk="@firebase/firestore-compat",kk="firebase",Ok="12.6.0";const By="[DEFAULT]",Mk={[jy]:"fire-core",[ok]:"fire-core-compat",[ck]:"fire-analytics",[lk]:"fire-analytics-compat",[hk]:"fire-app-check",[uk]:"fire-app-check-compat",[dk]:"fire-auth",[fk]:"fire-auth-compat",[gk]:"fire-rtdb",[pk]:"fire-data-connect",[mk]:"fire-rtdb-compat",[yk]:"fire-fn",[bk]:"fire-fn-compat",[_k]:"fire-iid",[vk]:"fire-iid-compat",[xk]:"fire-fcm",[Ek]:"fire-fcm-compat",[Tk]:"fire-perf",[Sk]:"fire-perf-compat",[wk]:"fire-rc",[Ak]:"fire-rc-compat",[Ck]:"fire-gcs",[Ik]:"fire-gcs-compat",[Dk]:"fire-fst",[Nk]:"fire-fst-compat",[Rk]:"fire-vertex","fire-js":"fire-js",[kk]:"fire-js-all"};const kf=new Map,Pk=new Map,Uy=new Map;function tT(n,t){try{n.container.addComponent(t)}catch(e){er.debug(`Component ${t.name} failed to register with FirebaseApp ${n.name}`,e)}}function Tl(n){const t=n.name;if(Uy.has(t))return er.debug(`There were multiple attempts to register component ${t}.`),!1;Uy.set(t,n);for(const e of kf.values())tT(e,n);for(const e of Pk.values())tT(e,n);return!0}function P0(n,t){const e=n.container.getProvider("heartbeat").getImmediate({optional:!0});return e&&e.triggerHeartbeat(),n.container.getProvider(t)}function Zn(n){return n==null?!1:n.settings!==void 0}const zk={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Jr=new eh("app","Firebase",zk);class Lk{constructor(t,e,i){this._isDeleted=!1,this._options={...t},this._config={...e},this._name=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled,this._container=i,this.container.addComponent(new ho("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Jr.create("app-deleted",{appName:this._name})}}const Vl=Ok;function B1(n,t={}){let e=n;typeof t!="object"&&(t={name:t});const i={name:By,automaticDataCollectionEnabled:!0,...t},r=i.name;if(typeof r!="string"||!r)throw Jr.create("bad-app-name",{appName:String(r)});if(e||(e=M1()),!e)throw Jr.create("no-options");const o=kf.get(r);if(o){if(uo(e,o.options)&&uo(i,o.config))return o;throw Jr.create("duplicate-app",{appName:r})}const l=new HN(r);for(const d of Uy.values())l.addComponent(d);const u=new Lk(e,i,l);return kf.set(r,u),u}function U1(n=By){const t=kf.get(n);if(!t&&n===By&&M1())return B1();if(!t)throw Jr.create("no-app",{appName:n});return t}function Zr(n,t,e){let i=Mk[n]??n;e&&(i+=`-${e}`);const r=i.match(/\s|\//),o=t.match(/\s|\//);if(r||o){const l=[`Unable to register library "${i}" with version "${t}":`];r&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&o&&l.push("and"),o&&l.push(`version name "${t}" contains illegal characters (whitespace or "/")`),er.warn(l.join(" "));return}Tl(new ho(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}const Vk="firebase-heartbeat-database",jk=1,Ru="firebase-heartbeat-store";let sy=null;function F1(){return sy||(sy=nk(Vk,jk,{upgrade:(n,t)=>{switch(t){case 0:try{n.createObjectStore(Ru)}catch(e){console.warn(e)}}}}).catch(n=>{throw Jr.create("idb-open",{originalErrorMessage:n.message})})),sy}async function Bk(n){try{const e=(await F1()).transaction(Ru),i=await e.objectStore(Ru).get(H1(n));return await e.done,i}catch(t){if(t instanceof or)er.warn(t.message);else{const e=Jr.create("idb-get",{originalErrorMessage:t?.message});er.warn(e.message)}}}async function eT(n,t){try{const i=(await F1()).transaction(Ru,"readwrite");await i.objectStore(Ru).put(t,H1(n)),await i.done}catch(e){if(e instanceof or)er.warn(e.message);else{const i=Jr.create("idb-set",{originalErrorMessage:e?.message});er.warn(i.message)}}}function H1(n){return`${n.name}!${n.options.appId}`}const Uk=1024,Fk=30;class Hk{constructor(t){this.container=t,this._heartbeatsCache=null;const e=this.container.getProvider("app").getImmediate();this._storage=new Gk(e),this._heartbeatsCachePromise=this._storage.read().then(i=>(this._heartbeatsCache=i,i))}async triggerHeartbeat(){try{const e=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=nT();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(r=>r.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:e}),this._heartbeatsCache.heartbeats.length>Fk){const r=$k(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(r,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(t){er.warn(t)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=nT(),{heartbeatsToSend:e,unsentEntries:i}=qk(this._heartbeatsCache.heartbeats),r=Nf(JSON.stringify({version:2,heartbeats:e}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}catch(t){return er.warn(t),""}}}function nT(){return new Date().toISOString().substring(0,10)}function qk(n,t=Uk){const e=[];let i=n.slice();for(const r of n){const o=e.find(l=>l.agent===r.agent);if(o){if(o.dates.push(r.date),iT(e)>t){o.dates.pop();break}}else if(e.push({agent:r.agent,dates:[r.date]}),iT(e)>t){e.pop();break}i=i.slice(1)}return{heartbeatsToSend:e,unsentEntries:i}}class Gk{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return NN()?kN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const e=await Bk(this.app);return e?.heartbeats?e:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return eT(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){if(await this._canUseIndexedDBPromise){const i=await this.read();return eT(this.app,{lastSentHeartbeatDate:t.lastSentHeartbeatDate??i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function iT(n){return Nf(JSON.stringify({version:2,heartbeats:n})).length}function $k(n){if(n.length===0)return-1;let t=0,e=n[0].date;for(let i=1;i<n.length;i++)n[i].date<e&&(e=n[i].date,t=i);return t}function Wk(n){Tl(new ho("platform-logger",t=>new rk(t),"PRIVATE")),Tl(new ho("heartbeat",t=>new Hk(t),"PRIVATE")),Zr(jy,ZE,n),Zr(jy,ZE,"esm2020"),Zr("fire-js","")}Wk("");function q1(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Yk=q1,G1=new eh("auth","Firebase",q1());const Of=new O0("@firebase/auth");function Kk(n,...t){Of.logLevel<=qt.WARN&&Of.warn(`Auth (${Vl}): ${n}`,...t)}function bf(n,...t){Of.logLevel<=qt.ERROR&&Of.error(`Auth (${Vl}): ${n}`,...t)}function Wi(n,...t){throw z0(n,...t)}function xs(n,...t){return z0(n,...t)}function $1(n,t,e){const i={...Yk(),[t]:e};return new eh("auth","Firebase",i).create(t,{appName:n.name})}function Es(n){return $1(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function z0(n,...t){if(typeof n!="string"){const e=t[0],i=[...t.slice(1)];return i[0]&&(i[0].appName=n.name),n._errorFactory.create(e,...i)}return G1.create(n,...t)}function Ct(n,t,...e){if(!n)throw z0(t,...e)}function Zs(n){const t="INTERNAL ASSERTION FAILED: "+n;throw bf(t),new Error(t)}function nr(n,t){n||Zs(t)}function Fy(){return typeof self<"u"&&self.location?.href||""}function Qk(){return sT()==="http:"||sT()==="https:"}function sT(){return typeof self<"u"&&self.location?.protocol||null}function Xk(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Qk()||CN()||"connection"in navigator)?navigator.onLine:!0}function Jk(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}class ih{constructor(t,e){this.shortDelay=t,this.longDelay=e,nr(e>t,"Short delay should be less than long delay!"),this.isMobile=SN()||IN()}get(){return Xk()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function L0(n,t){nr(n.emulator,"Emulator should always be set here");const{url:e}=n.emulator;return t?`${e}${t.startsWith("/")?t.slice(1):t}`:e}class W1{static initialize(t,e,i){this.fetchImpl=t,e&&(this.headersImpl=e),i&&(this.responseImpl=i)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Zs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Zs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Zs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Zk={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const tO=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],eO=new ih(3e4,6e4);function ga(n,t){return n.tenantId&&!t.tenantId?{...t,tenantId:n.tenantId}:t}async function lr(n,t,e,i,r={}){return Y1(n,r,async()=>{let o={},l={};i&&(t==="GET"?l=i:o={body:JSON.stringify(i)});const u=nh({key:n.config.apiKey,...l}).slice(1),d=await n._getAdditionalHeaders();d["Content-Type"]="application/json",n.languageCode&&(d["X-Firebase-Locale"]=n.languageCode);const f={method:t,headers:d,...o};return AN()||(f.referrerPolicy="no-referrer"),n.emulatorConfig&&Ll(n.emulatorConfig.host)&&(f.credentials="include"),W1.fetch()(await K1(n,n.config.apiHost,e,u),f)})}async function Y1(n,t,e){n._canInitEmulator=!1;const i={...Zk,...t};try{const r=new iO(n),o=await Promise.race([e(),r.promise]);r.clearNetworkTimeout();const l=await o.json();if("needConfirmation"in l)throw Yd(n,"account-exists-with-different-credential",l);if(o.ok&&!("errorMessage"in l))return l;{const u=o.ok?l.errorMessage:l.error.message,[d,f]=u.split(" : ");if(d==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yd(n,"credential-already-in-use",l);if(d==="EMAIL_EXISTS")throw Yd(n,"email-already-in-use",l);if(d==="USER_DISABLED")throw Yd(n,"user-disabled",l);const p=i[d]||d.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw $1(n,p,f);Wi(n,p)}}catch(r){if(r instanceof or)throw r;Wi(n,"network-request-failed",{message:String(r)})}}async function sh(n,t,e,i,r={}){const o=await lr(n,t,e,i,r);return"mfaPendingCredential"in o&&Wi(n,"multi-factor-auth-required",{_serverResponse:o}),o}async function K1(n,t,e,i){const r=`${t}${e}?${i}`,o=n,l=o.config.emulator?L0(n.config,r):`${n.config.apiScheme}://${r}`;return tO.includes(e)&&(await o._persistenceManagerAvailable,o._getPersistenceType()==="COOKIE")?o._getPersistence()._getFinalTarget(l).toString():l}function nO(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class iO{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((e,i)=>{this.timer=setTimeout(()=>i(xs(this.auth,"network-request-failed")),eO.get())})}}function Yd(n,t,e){const i={appName:n.name};e.email&&(i.email=e.email),e.phoneNumber&&(i.phoneNumber=e.phoneNumber);const r=xs(n,t,i);return r.customData._tokenResponse=e,r}function rT(n){return n!==void 0&&n.enterprise!==void 0}class sO{constructor(t){if(this.siteKey="",this.recaptchaEnforcementState=[],t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=t.recaptchaEnforcementState}getProviderEnforcementState(t){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const e of this.recaptchaEnforcementState)if(e.provider&&e.provider===t)return nO(e.enforcementState);return null}isProviderEnabled(t){return this.getProviderEnforcementState(t)==="ENFORCE"||this.getProviderEnforcementState(t)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function rO(n,t){return lr(n,"GET","/v2/recaptchaConfig",ga(n,t))}async function aO(n,t){return lr(n,"POST","/v1/accounts:delete",t)}async function Mf(n,t){return lr(n,"POST","/v1/accounts:lookup",t)}function yu(n){if(n)try{const t=new Date(Number(n));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function oO(n,t=!1){const e=Ie(n),i=await e.getIdToken(t),r=V0(i);Ct(r&&r.exp&&r.auth_time&&r.iat,e.auth,"internal-error");const o=typeof r.firebase=="object"?r.firebase:void 0,l=o?.sign_in_provider;return{claims:r,token:i,authTime:yu(ry(r.auth_time)),issuedAtTime:yu(ry(r.iat)),expirationTime:yu(ry(r.exp)),signInProvider:l||null,signInSecondFactor:o?.sign_in_second_factor||null}}function ry(n){return Number(n)*1e3}function V0(n){const[t,e,i]=n.split(".");if(t===void 0||e===void 0||i===void 0)return bf("JWT malformed, contained fewer than 3 sections"),null;try{const r=k1(e);return r?JSON.parse(r):(bf("Failed to decode base64 JWT payload"),null)}catch(r){return bf("Caught error parsing JWT payload as JSON",r?.toString()),null}}function aT(n){const t=V0(n);return Ct(t,"internal-error"),Ct(typeof t.exp<"u","internal-error"),Ct(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}async function Sl(n,t,e=!1){if(e)return t;try{return await t}catch(i){throw i instanceof or&&lO(i)&&n.auth.currentUser===n&&await n.auth.signOut(),i}}function lO({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}class cO{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){if(t){const e=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),e}else{this.errorBackoff=3e4;const i=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const e=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},e)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){t?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class Hy{constructor(t,e){this.createdAt=t,this.lastLoginAt=e,this._initializeTime()}_initializeTime(){this.lastSignInTime=yu(this.lastLoginAt),this.creationTime=yu(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function Pf(n){const t=n.auth,e=await n.getIdToken(),i=await Sl(n,Mf(t,{idToken:e}));Ct(i?.users.length,t,"internal-error");const r=i.users[0];n._notifyReloadListener(r);const o=r.providerUserInfo?.length?Q1(r.providerUserInfo):[],l=hO(n.providerData,o),u=n.isAnonymous,d=!(n.email&&r.passwordHash)&&!l?.length,f=u?d:!1,p={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:l,metadata:new Hy(r.createdAt,r.lastLoginAt),isAnonymous:f};Object.assign(n,p)}async function uO(n){const t=Ie(n);await Pf(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function hO(n,t){return[...n.filter(i=>!t.some(r=>r.providerId===i.providerId)),...t]}function Q1(n){return n.map(({providerId:t,...e})=>({providerId:t,uid:e.rawId||"",displayName:e.displayName||null,email:e.email||null,phoneNumber:e.phoneNumber||null,photoURL:e.photoUrl||null}))}async function dO(n,t){const e=await Y1(n,{},async()=>{const i=nh({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:o}=n.config,l=await K1(n,r,"/v1/token",`key=${o}`),u=await n._getAdditionalHeaders();u["Content-Type"]="application/x-www-form-urlencoded";const d={method:"POST",headers:u,body:i};return n.emulatorConfig&&Ll(n.emulatorConfig.host)&&(d.credentials="include"),W1.fetch()(l,d)});return{accessToken:e.access_token,expiresIn:e.expires_in,refreshToken:e.refresh_token}}async function fO(n,t){return lr(n,"POST","/v2/accounts:revokeToken",ga(n,t))}class yl{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Ct(t.idToken,"internal-error"),Ct(typeof t.idToken<"u","internal-error"),Ct(typeof t.refreshToken<"u","internal-error");const e="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):aT(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,e)}updateFromIdToken(t){Ct(t.length!==0,"internal-error");const e=aT(t);this.updateTokensAndExpiration(t,null,e)}async getToken(t,e=!1){return!e&&this.accessToken&&!this.isExpired?this.accessToken:(Ct(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,e){const{accessToken:i,refreshToken:r,expiresIn:o}=await dO(t,e);this.updateTokensAndExpiration(i,r,Number(o))}updateTokensAndExpiration(t,e,i){this.refreshToken=e||null,this.accessToken=t||null,this.expirationTime=Date.now()+i*1e3}static fromJSON(t,e){const{refreshToken:i,accessToken:r,expirationTime:o}=e,l=new yl;return i&&(Ct(typeof i=="string","internal-error",{appName:t}),l.refreshToken=i),r&&(Ct(typeof r=="string","internal-error",{appName:t}),l.accessToken=r),o&&(Ct(typeof o=="number","internal-error",{appName:t}),l.expirationTime=o),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new yl,this.toJSON())}_performRefresh(){return Zs("not implemented")}}function Fr(n,t){Ct(typeof n=="string"||typeof n>"u","internal-error",{appName:t})}class Hi{constructor({uid:t,auth:e,stsTokenManager:i,...r}){this.providerId="firebase",this.proactiveRefresh=new cO(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=e,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new Hy(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(t){const e=await Sl(this,this.stsTokenManager.getToken(this.auth,t));return Ct(e,this.auth,"internal-error"),this.accessToken!==e&&(this.accessToken=e,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),e}getIdTokenResult(t){return oO(this,t)}reload(){return uO(this)}_assign(t){this!==t&&(Ct(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(e=>({...e})),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const e=new Hi({...this,auth:t,stsTokenManager:this.stsTokenManager._clone()});return e.metadata._copy(this.metadata),e}_onReload(t){Ct(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,e=!1){let i=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),i=!0),e&&await Pf(this),await this.auth._persistUserIfCurrent(this),i&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Zn(this.auth.app))return Promise.reject(Es(this.auth));const t=await this.getIdToken();return await Sl(this,aO(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>({...t})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,e){const i=e.displayName??void 0,r=e.email??void 0,o=e.phoneNumber??void 0,l=e.photoURL??void 0,u=e.tenantId??void 0,d=e._redirectEventId??void 0,f=e.createdAt??void 0,p=e.lastLoginAt??void 0,{uid:y,emailVerified:_,isAnonymous:v,providerData:S,stsTokenManager:C}=e;Ct(y&&C,t,"internal-error");const w=yl.fromJSON(this.name,C);Ct(typeof y=="string",t,"internal-error"),Fr(i,t.name),Fr(r,t.name),Ct(typeof _=="boolean",t,"internal-error"),Ct(typeof v=="boolean",t,"internal-error"),Fr(o,t.name),Fr(l,t.name),Fr(u,t.name),Fr(d,t.name),Fr(f,t.name),Fr(p,t.name);const O=new Hi({uid:y,auth:t,email:r,emailVerified:_,displayName:i,isAnonymous:v,photoURL:l,phoneNumber:o,tenantId:u,stsTokenManager:w,createdAt:f,lastLoginAt:p});return S&&Array.isArray(S)&&(O.providerData=S.map(L=>({...L}))),d&&(O._redirectEventId=d),O}static async _fromIdTokenResponse(t,e,i=!1){const r=new yl;r.updateFromServerResponse(e);const o=new Hi({uid:e.localId,auth:t,stsTokenManager:r,isAnonymous:i});return await Pf(o),o}static async _fromGetAccountInfoResponse(t,e,i){const r=e.users[0];Ct(r.localId!==void 0,"internal-error");const o=r.providerUserInfo!==void 0?Q1(r.providerUserInfo):[],l=!(r.email&&r.passwordHash)&&!o?.length,u=new yl;u.updateFromIdToken(i);const d=new Hi({uid:r.localId,auth:t,stsTokenManager:u,isAnonymous:l}),f={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:o,metadata:new Hy(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!o?.length};return Object.assign(d,f),d}}const oT=new Map;function tr(n){nr(n instanceof Function,"Expected a class definition");let t=oT.get(n);return t?(nr(t instanceof n,"Instance stored in cache mismatched with class"),t):(t=new n,oT.set(n,t),t)}class X1{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,e){this.storage[t]=e}async _get(t){const e=this.storage[t];return e===void 0?null:e}async _remove(t){delete this.storage[t]}_addListener(t,e){}_removeListener(t,e){}}X1.type="NONE";const lT=X1;function _f(n,t,e){return`firebase:${n}:${t}:${e}`}class bl{constructor(t,e,i){this.persistence=t,this.auth=e,this.userKey=i;const{config:r,name:o}=this.auth;this.fullUserKey=_f(this.userKey,r.apiKey,o),this.fullPersistenceKey=_f("persistence",r.apiKey,o),this.boundEventHandler=e._onStorageEvent.bind(e),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);if(!t)return null;if(typeof t=="string"){const e=await Mf(this.auth,{idToken:t}).catch(()=>{});return e?Hi._fromGetAccountInfoResponse(this.auth,e,t):null}return Hi._fromJSON(this.auth,t)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const e=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,e)return this.setCurrentUser(e)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,e,i="authUser"){if(!e.length)return new bl(tr(lT),t,i);const r=(await Promise.all(e.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let o=r[0]||tr(lT);const l=_f(i,t.config.apiKey,t.name);let u=null;for(const f of e)try{const p=await f._get(l);if(p){let y;if(typeof p=="string"){const _=await Mf(t,{idToken:p}).catch(()=>{});if(!_)break;y=await Hi._fromGetAccountInfoResponse(t,_,p)}else y=Hi._fromJSON(t,p);f!==o&&(u=y),o=f;break}}catch{}const d=r.filter(f=>f._shouldAllowMigration);return!o._shouldAllowMigration||!d.length?new bl(o,t,i):(o=d[0],u&&await o._set(l,u.toJSON()),await Promise.all(e.map(async f=>{if(f!==o)try{await f._remove(l)}catch{}})),new bl(o,t,i))}}function cT(n){const t=n.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(eA(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(J1(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(iA(t))return"Blackberry";if(sA(t))return"Webos";if(Z1(t))return"Safari";if((t.includes("chrome/")||tA(t))&&!t.includes("edge/"))return"Chrome";if(nA(t))return"Android";{const e=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,i=n.match(e);if(i?.length===2)return i[1]}return"Other"}function J1(n=Sn()){return/firefox\//i.test(n)}function Z1(n=Sn()){const t=n.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function tA(n=Sn()){return/crios\//i.test(n)}function eA(n=Sn()){return/iemobile/i.test(n)}function nA(n=Sn()){return/android/i.test(n)}function iA(n=Sn()){return/blackberry/i.test(n)}function sA(n=Sn()){return/webos/i.test(n)}function j0(n=Sn()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function gO(n=Sn()){return j0(n)&&!!window.navigator?.standalone}function pO(){return DN()&&document.documentMode===10}function rA(n=Sn()){return j0(n)||nA(n)||sA(n)||iA(n)||/windows phone/i.test(n)||eA(n)}function aA(n,t=[]){let e;switch(n){case"Browser":e=cT(Sn());break;case"Worker":e=`${cT(Sn())}-${n}`;break;default:e=n}const i=t.length?t.join(","):"FirebaseCore-web";return`${e}/JsCore/${Vl}/${i}`}class mO{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,e){const i=o=>new Promise((l,u)=>{try{const d=t(o);l(d)}catch(d){u(d)}});i.onAbort=e,this.queue.push(i);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const e=[];try{for(const i of this.queue)await i(t),i.onAbort&&e.push(i.onAbort)}catch(i){e.reverse();for(const r of e)try{r()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}}}async function yO(n,t={}){return lr(n,"GET","/v2/passwordPolicy",ga(n,t))}const bO=6;class _O{constructor(t){const e=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=e.minPasswordLength??bO,e.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=e.maxPasswordLength),e.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=e.containsLowercaseCharacter),e.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=e.containsUppercaseCharacter),e.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=e.containsNumericCharacter),e.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=e.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=t.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=t.forceUpgradeOnSignin??!1,this.schemaVersion=t.schemaVersion}validatePassword(t){const e={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,e),this.validatePasswordCharacterOptions(t,e),e.isValid&&(e.isValid=e.meetsMinPasswordLength??!0),e.isValid&&(e.isValid=e.meetsMaxPasswordLength??!0),e.isValid&&(e.isValid=e.containsLowercaseLetter??!0),e.isValid&&(e.isValid=e.containsUppercaseLetter??!0),e.isValid&&(e.isValid=e.containsNumericCharacter??!0),e.isValid&&(e.isValid=e.containsNonAlphanumericCharacter??!0),e}validatePasswordLengthOptions(t,e){const i=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;i&&(e.meetsMinPasswordLength=t.length>=i),r&&(e.meetsMaxPasswordLength=t.length<=r)}validatePasswordCharacterOptions(t,e){this.updatePasswordCharacterOptionsStatuses(e,!1,!1,!1,!1);let i;for(let r=0;r<t.length;r++)i=t.charAt(r),this.updatePasswordCharacterOptionsStatuses(e,i>="a"&&i<="z",i>="A"&&i<="Z",i>="0"&&i<="9",this.allowedNonAlphanumericCharacters.includes(i))}updatePasswordCharacterOptionsStatuses(t,e,i,r,o){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=e)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=i)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=o))}}class vO{constructor(t,e,i,r){this.app=t,this.heartbeatServiceProvider=e,this.appCheckServiceProvider=i,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new uT(this),this.idTokenSubscription=new uT(this),this.beforeStateQueue=new mO(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=G1,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion,this._persistenceManagerAvailable=new Promise(o=>this._resolvePersistenceManagerAvailable=o)}_initializeWithPersistence(t,e){return e&&(this._popupRedirectResolver=tr(e)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await bl.create(this,t),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(e),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const e=await Mf(this,{idToken:t}),i=await Hi._fromGetAccountInfoResponse(this,e,t);await this.directlySetCurrentUser(i)}catch(e){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",e),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){if(Zn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(l=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(l,l))}):this.directlySetCurrentUser(null)}const e=await this.assertedPersistence.getCurrentUser();let i=e,r=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=this.redirectUser?._redirectEventId,l=i?._redirectEventId,u=await this.tryRedirectSignIn(t);(!o||o===l)&&u?.user&&(i=u.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=e,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ct(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let e=null;try{e=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return e}async reloadAndSetCurrentUserOrClear(t){try{await Pf(t)}catch(e){if(e?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Jk()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(Zn(this.app))return Promise.reject(Es(this));const e=t?Ie(t):null;return e&&Ct(e.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(e&&e._clone(this))}async _updateCurrentUser(t,e=!1){if(!this._deleted)return t&&Ct(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),e||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return Zn(this.app)?Promise.reject(Es(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return Zn(this.app)?Promise.reject(Es(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(tr(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const e=this._getPasswordPolicyInternal();return e.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):e.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await yO(this),e=new _O(t);this.tenantId===null?this._projectPasswordPolicy=e:this._tenantPasswordPolicies[this.tenantId]=e}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(t){this._errorFactory=new eh("auth","Firebase",t())}onAuthStateChanged(t,e,i){return this.registerStateListener(this.authStateSubscription,t,e,i)}beforeAuthStateChanged(t,e){return this.beforeStateQueue.pushCallback(t,e)}onIdTokenChanged(t,e,i){return this.registerStateListener(this.idTokenSubscription,t,e,i)}authStateReady(){return new Promise((t,e)=>{if(this.currentUser)t();else{const i=this.onAuthStateChanged(()=>{i(),t()},e)}})}async revokeAccessToken(t){if(this.currentUser){const e=await this.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:e};this.tenantId!=null&&(i.tenantId=this.tenantId),await fO(this,i)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(t,e){const i=await this.getOrInitRedirectPersistenceManager(e);return t===null?i.removeCurrentUser():i.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const e=t&&tr(t)||this._popupRedirectResolver;Ct(e,this,"argument-error"),this.redirectPersistenceManager=await bl.create(this,[tr(e._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===t?this._currentUser:this.redirectUser?._redirectEventId===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const t=this.currentUser?.uid??null;this.lastNotifiedUid!==t&&(this.lastNotifiedUid=t,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,e,i,r){if(this._deleted)return()=>{};const o=typeof e=="function"?e:e.next.bind(e);let l=!1;const u=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ct(u,this,"internal-error"),u.then(()=>{l||o(this.currentUser)}),typeof e=="function"){const d=t.addObserver(e,i,r);return()=>{l=!0,d()}}else{const d=t.addObserver(e);return()=>{l=!0,d()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Ct(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=aA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const e=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();e&&(t["X-Firebase-Client"]=e);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){if(Zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const t=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return t?.error&&Kk(`Error while retrieving App Check token: ${t.error}`),t?.token}}function pa(n){return Ie(n)}class uT{constructor(t){this.auth=t,this.observer=null,this.addObserver=LN(e=>this.observer=e)}get next(){return Ct(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let pg={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function xO(n){pg=n}function oA(n){return pg.loadJS(n)}function EO(){return pg.recaptchaEnterpriseScript}function TO(){return pg.gapiScript}function SO(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class wO{constructor(){this.enterprise=new AO}ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}class AO{ready(t){t()}execute(t,e){return Promise.resolve("token")}render(t,e){return""}}const CO="recaptcha-enterprise",lA="NO_RECAPTCHA";class IO{constructor(t){this.type=CO,this.auth=pa(t)}async verify(t="verify",e=!1){async function i(o){if(!e){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise(async(l,u)=>{rO(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(d=>{if(d.recaptchaKey===void 0)u(new Error("recaptcha Enterprise site key undefined"));else{const f=new sO(d);return o.tenantId==null?o._agentRecaptchaConfig=f:o._tenantRecaptchaConfigs[o.tenantId]=f,l(f.siteKey)}}).catch(d=>{u(d)})})}function r(o,l,u){const d=window.grecaptcha;rT(d)?d.enterprise.ready(()=>{d.enterprise.execute(o,{action:t}).then(f=>{l(f)}).catch(()=>{l(lA)})}):u(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new wO().execute("siteKey",{action:"verify"}):new Promise((o,l)=>{i(this.auth).then(u=>{if(!e&&rT(window.grecaptcha))r(u,o,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let d=EO();d.length!==0&&(d+=u),oA(d).then(()=>{r(u,o,l)}).catch(f=>{l(f)})}}).catch(u=>{l(u)})})}}async function hT(n,t,e,i=!1,r=!1){const o=new IO(n);let l;if(r)l=lA;else try{l=await o.verify(e)}catch{l=await o.verify(e,!0)}const u={...t};if(e==="mfaSmsEnrollment"||e==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in u){const d=u.phoneEnrollmentInfo.phoneNumber,f=u.phoneEnrollmentInfo.recaptchaToken;Object.assign(u,{phoneEnrollmentInfo:{phoneNumber:d,recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in u){const d=u.phoneSignInInfo.recaptchaToken;Object.assign(u,{phoneSignInInfo:{recaptchaToken:d,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return u}return i?Object.assign(u,{captchaResp:l}):Object.assign(u,{captchaResponse:l}),Object.assign(u,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(u,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),u}async function qy(n,t,e,i,r){if(n._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await hT(n,t,e,e==="getOobCode");return i(n,o)}else return i(n,t).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${e} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await hT(n,t,e,e==="getOobCode");return i(n,l)}else return Promise.reject(o)})}function DO(n,t){const e=P0(n,"auth");if(e.isInitialized()){const r=e.getImmediate(),o=e.getOptions();if(uo(o,t??{}))return r;Wi(r,"already-initialized")}return e.initialize({options:t})}function RO(n,t){const e=t?.persistence||[],i=(Array.isArray(e)?e:[e]).map(tr);t?.errorMap&&n._updateErrorMap(t.errorMap),n._initializeWithPersistence(i,t?.popupRedirectResolver)}function NO(n,t,e){const i=pa(n);Ct(/^https?:\/\//.test(t),i,"invalid-emulator-scheme");const r=!1,o=cA(t),{host:l,port:u}=kO(t),d=u===null?"":`:${u}`,f={url:`${o}//${l}${d}/`},p=Object.freeze({host:l,port:u,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:r})});if(!i._canInitEmulator){Ct(i.config.emulator&&i.emulatorConfig,i,"emulator-config-failed"),Ct(uo(f,i.config.emulator)&&uo(p,i.emulatorConfig),i,"emulator-config-failed");return}i.config.emulator=f,i.emulatorConfig=p,i.settings.appVerificationDisabledForTesting=!0,Ll(l)?(z1(`${o}//${l}${d}`),L1("Auth",!0)):OO()}function cA(n){const t=n.indexOf(":");return t<0?"":n.substr(0,t+1)}function kO(n){const t=cA(n),e=/(\/\/)?([^?#/]+)/.exec(n.substr(t.length));if(!e)return{host:"",port:null};const i=e[2].split("@").pop()||"",r=/^(\[[^\]]+\])(:|$)/.exec(i);if(r){const o=r[1];return{host:o,port:dT(i.substr(o.length+1))}}else{const[o,l]=i.split(":");return{host:o,port:dT(l)}}}function dT(n){if(!n)return null;const t=Number(n);return isNaN(t)?null:t}function OO(){function n(){const t=document.createElement("p"),e=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",e.position="fixed",e.width="100%",e.backgroundColor="#ffffff",e.border=".1em solid #000000",e.color="#b50000",e.bottom="0px",e.left="0px",e.margin="0px",e.zIndex="10000",e.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}class B0{constructor(t,e){this.providerId=t,this.signInMethod=e}toJSON(){return Zs("not implemented")}_getIdTokenResponse(t){return Zs("not implemented")}_linkToIdToken(t,e){return Zs("not implemented")}_getReauthenticationResolver(t){return Zs("not implemented")}}async function MO(n,t){return lr(n,"POST","/v1/accounts:signUp",t)}async function PO(n,t){return sh(n,"POST","/v1/accounts:signInWithPassword",ga(n,t))}async function zO(n,t){return sh(n,"POST","/v1/accounts:signInWithEmailLink",ga(n,t))}async function LO(n,t){return sh(n,"POST","/v1/accounts:signInWithEmailLink",ga(n,t))}class Nu extends B0{constructor(t,e,i,r=null){super("password",i),this._email=t,this._password=e,this._tenantId=r}static _fromEmailAndPassword(t,e){return new Nu(t,e,"password")}static _fromEmailAndCode(t,e,i=null){return new Nu(t,e,"emailLink",i)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t;if(e?.email&&e?.password){if(e.signInMethod==="password")return this._fromEmailAndPassword(e.email,e.password);if(e.signInMethod==="emailLink")return this._fromEmailAndCode(e.email,e.password,e.tenantId)}return null}async _getIdTokenResponse(t){switch(this.signInMethod){case"password":const e={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qy(t,e,"signInWithPassword",PO);case"emailLink":return zO(t,{email:this._email,oobCode:this._password});default:Wi(t,"internal-error")}}async _linkToIdToken(t,e){switch(this.signInMethod){case"password":const i={idToken:e,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return qy(t,i,"signUpPassword",MO);case"emailLink":return LO(t,{idToken:e,email:this._email,oobCode:this._password});default:Wi(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}async function _l(n,t){return sh(n,"POST","/v1/accounts:signInWithIdp",ga(n,t))}const VO="http://localhost";class fo extends B0{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const e=new fo(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(e.idToken=t.idToken),t.accessToken&&(e.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(e.nonce=t.nonce),t.pendingToken&&(e.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(e.accessToken=t.oauthToken,e.secret=t.oauthTokenSecret):Wi("argument-error"),e}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const e=typeof t=="string"?JSON.parse(t):t,{providerId:i,signInMethod:r,...o}=e;if(!i||!r)return null;const l=new fo(i,r);return l.idToken=o.idToken||void 0,l.accessToken=o.accessToken||void 0,l.secret=o.secret,l.nonce=o.nonce,l.pendingToken=o.pendingToken||null,l}_getIdTokenResponse(t){const e=this.buildRequest();return _l(t,e)}_linkToIdToken(t,e){const i=this.buildRequest();return i.idToken=e,_l(t,i)}_getReauthenticationResolver(t){const e=this.buildRequest();return e.autoCreate=!1,_l(t,e)}buildRequest(){const t={requestUri:VO,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const e={};this.idToken&&(e.id_token=this.idToken),this.accessToken&&(e.access_token=this.accessToken),this.secret&&(e.oauth_token_secret=this.secret),e.providerId=this.providerId,this.nonce&&!this.pendingToken&&(e.nonce=this.nonce),t.postBody=nh(e)}return t}}function jO(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function BO(n){const t=ou(lu(n)).link,e=t?ou(lu(t)).deep_link_id:null,i=ou(lu(n)).deep_link_id;return(i?ou(lu(i)).link:null)||i||e||t||n}class U0{constructor(t){const e=ou(lu(t)),i=e.apiKey??null,r=e.oobCode??null,o=jO(e.mode??null);Ct(i&&r&&o,"argument-error"),this.apiKey=i,this.operation=o,this.code=r,this.continueUrl=e.continueUrl??null,this.languageCode=e.lang??null,this.tenantId=e.tenantId??null}static parseLink(t){const e=BO(t);try{return new U0(e)}catch{return null}}}class jl{constructor(){this.providerId=jl.PROVIDER_ID}static credential(t,e){return Nu._fromEmailAndPassword(t,e)}static credentialWithLink(t,e){const i=U0.parseLink(e);return Ct(i,"argument-error"),Nu._fromEmailAndCode(t,i.code,i.tenantId)}}jl.PROVIDER_ID="password";jl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";jl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class uA{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}class rh extends uA{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}class Hr extends rh{constructor(){super("facebook.com")}static credential(t){return fo._fromParams({providerId:Hr.PROVIDER_ID,signInMethod:Hr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Hr.credentialFromTaggedObject(t)}static credentialFromError(t){return Hr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Hr.credential(t.oauthAccessToken)}catch{return null}}}Hr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Hr.PROVIDER_ID="facebook.com";class qr extends rh{constructor(){super("google.com"),this.addScope("profile")}static credential(t,e){return fo._fromParams({providerId:qr.PROVIDER_ID,signInMethod:qr.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:e})}static credentialFromResult(t){return qr.credentialFromTaggedObject(t)}static credentialFromError(t){return qr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:e,oauthAccessToken:i}=t;if(!e&&!i)return null;try{return qr.credential(e,i)}catch{return null}}}qr.GOOGLE_SIGN_IN_METHOD="google.com";qr.PROVIDER_ID="google.com";class Gr extends rh{constructor(){super("github.com")}static credential(t){return fo._fromParams({providerId:Gr.PROVIDER_ID,signInMethod:Gr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Gr.credentialFromTaggedObject(t)}static credentialFromError(t){return Gr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Gr.credential(t.oauthAccessToken)}catch{return null}}}Gr.GITHUB_SIGN_IN_METHOD="github.com";Gr.PROVIDER_ID="github.com";class $r extends rh{constructor(){super("twitter.com")}static credential(t,e){return fo._fromParams({providerId:$r.PROVIDER_ID,signInMethod:$r.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:e})}static credentialFromResult(t){return $r.credentialFromTaggedObject(t)}static credentialFromError(t){return $r.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:e,oauthTokenSecret:i}=t;if(!e||!i)return null;try{return $r.credential(e,i)}catch{return null}}}$r.TWITTER_SIGN_IN_METHOD="twitter.com";$r.PROVIDER_ID="twitter.com";async function hA(n,t){return sh(n,"POST","/v1/accounts:signUp",ga(n,t))}class ir{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,e,i,r=!1){const o=await Hi._fromIdTokenResponse(t,i,r),l=fT(i);return new ir({user:o,providerId:l,_tokenResponse:i,operationType:e})}static async _forOperation(t,e,i){await t._updateTokensIfNecessary(i,!0);const r=fT(i);return new ir({user:t,providerId:r,_tokenResponse:i,operationType:e})}}function fT(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}async function UO(n){if(Zn(n.app))return Promise.reject(Es(n));const t=pa(n);if(await t._initializationPromise,t.currentUser?.isAnonymous)return new ir({user:t.currentUser,providerId:null,operationType:"signIn"});const e=await hA(t,{returnSecureToken:!0}),i=await ir._fromIdTokenResponse(t,"signIn",e,!0);return await t._updateCurrentUser(i.user),i}class zf extends or{constructor(t,e,i,r){super(e.code,e.message),this.operationType=i,this.user=r,Object.setPrototypeOf(this,zf.prototype),this.customData={appName:t.name,tenantId:t.tenantId??void 0,_serverResponse:e.customData._serverResponse,operationType:i}}static _fromErrorAndOperation(t,e,i,r){return new zf(t,e,i,r)}}function dA(n,t,e,i){return(t==="reauthenticate"?e._getReauthenticationResolver(n):e._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?zf._fromErrorAndOperation(n,o,t,i):o})}async function FO(n,t,e=!1){const i=await Sl(n,t._linkToIdToken(n.auth,await n.getIdToken()),e);return ir._forOperation(n,"link",i)}async function HO(n,t,e=!1){const{auth:i}=n;if(Zn(i.app))return Promise.reject(Es(i));const r="reauthenticate";try{const o=await Sl(n,dA(i,r,t,n),e);Ct(o.idToken,i,"internal-error");const l=V0(o.idToken);Ct(l,i,"internal-error");const{sub:u}=l;return Ct(n.uid===u,i,"user-mismatch"),ir._forOperation(n,r,o)}catch(o){throw o?.code==="auth/user-not-found"&&Wi(i,"user-mismatch"),o}}async function fA(n,t,e=!1){if(Zn(n.app))return Promise.reject(Es(n));const i="signIn",r=await dA(n,i,t),o=await ir._fromIdTokenResponse(n,i,r);return e||await n._updateCurrentUser(o.user),o}async function qO(n,t){return fA(pa(n),t)}async function gA(n){const t=pa(n);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}async function GO(n,t,e){if(Zn(n.app))return Promise.reject(Es(n));const i=pa(n),l=await qy(i,{returnSecureToken:!0,email:t,password:e,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",hA).catch(d=>{throw d.code==="auth/password-does-not-meet-requirements"&&gA(n),d}),u=await ir._fromIdTokenResponse(i,"signIn",l);return await i._updateCurrentUser(u.user),u}function $O(n,t,e){return Zn(n.app)?Promise.reject(Es(n)):qO(Ie(n),jl.credential(t,e)).catch(async i=>{throw i.code==="auth/password-does-not-meet-requirements"&&gA(n),i})}async function WO(n,t){return lr(n,"POST","/v1/accounts:update",t)}async function ay(n,{displayName:t,photoURL:e}){if(t===void 0&&e===void 0)return;const i=Ie(n),o={idToken:await i.getIdToken(),displayName:t,photoUrl:e,returnSecureToken:!0},l=await Sl(i,WO(i.auth,o));i.displayName=l.displayName||null,i.photoURL=l.photoUrl||null;const u=i.providerData.find(({providerId:d})=>d==="password");u&&(u.displayName=i.displayName,u.photoURL=i.photoURL),await i._updateTokensIfNecessary(l)}function YO(n,t,e,i){return Ie(n).onIdTokenChanged(t,e,i)}function KO(n,t,e){return Ie(n).beforeAuthStateChanged(t,e)}function QO(n,t,e,i){return Ie(n).onAuthStateChanged(t,e,i)}function XO(n){return Ie(n).signOut()}const Lf="__sak";class pA{constructor(t,e){this.storageRetriever=t,this.type=e}_isAvailable(){try{return this.storage?(this.storage.setItem(Lf,"1"),this.storage.removeItem(Lf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,e){return this.storage.setItem(t,JSON.stringify(e)),Promise.resolve()}_get(t){const e=this.storage.getItem(t);return Promise.resolve(e?JSON.parse(e):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}const JO=1e3,ZO=10;class mA extends pA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,e)=>this.onStorageEvent(t,e),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=rA(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const e of Object.keys(this.listeners)){const i=this.storage.getItem(e),r=this.localCache[e];i!==r&&t(e,r,i)}}onStorageEvent(t,e=!1){if(!t.key){this.forAllChangedKeys((l,u,d)=>{this.notifyListeners(l,d)});return}const i=t.key;e?this.detachListener():this.stopPolling();const r=()=>{const l=this.storage.getItem(i);!e&&this.localCache[i]===l||this.notifyListeners(i,l)},o=this.storage.getItem(i);pO()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(r,ZO):r()}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e&&JSON.parse(e))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,e,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:e,newValue:i}),!0)})},JO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,e){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,e){await super._set(t,e),this.localCache[t]=JSON.stringify(e)}async _get(t){const e=await super._get(t);return this.localCache[t]=JSON.stringify(e),e}async _remove(t){await super._remove(t),delete this.localCache[t]}}mA.type="LOCAL";const tM=mA;class yA extends pA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,e){}_removeListener(t,e){}}yA.type="SESSION";const bA=yA;function eM(n){return Promise.all(n.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(e){return{fulfilled:!1,reason:e}}}))}class mg{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const e=this.receivers.find(r=>r.isListeningto(t));if(e)return e;const i=new mg(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const e=t,{eventId:i,eventType:r,data:o}=e.data,l=this.handlersMap[r];if(!l?.size)return;e.ports[0].postMessage({status:"ack",eventId:i,eventType:r});const u=Array.from(l).map(async f=>f(e.origin,o)),d=await eM(u);e.ports[0].postMessage({status:"done",eventId:i,eventType:r,response:d})}_subscribe(t,e){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(e)}_unsubscribe(t,e){this.handlersMap[t]&&e&&this.handlersMap[t].delete(e),(!e||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}mg.receivers=[];function F0(n="",t=10){let e="";for(let i=0;i<t;i++)e+=Math.floor(Math.random()*10);return n+e}class nM{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,e,i=50){const r=typeof MessageChannel<"u"?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let o,l;return new Promise((u,d)=>{const f=F0("",20);r.port1.start();const p=setTimeout(()=>{d(new Error("unsupported_event"))},i);l={messageChannel:r,onMessage(y){const _=y;if(_.data.eventId===f)switch(_.data.status){case"ack":clearTimeout(p),o=setTimeout(()=>{d(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),u(_.data.response);break;default:clearTimeout(p),clearTimeout(o),d(new Error("invalid_response"));break}}},this.handlers.add(l),r.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:t,eventId:f,data:e},[r.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}function Ts(){return window}function iM(n){Ts().location.href=n}function _A(){return typeof Ts().WorkerGlobalScope<"u"&&typeof Ts().importScripts=="function"}async function sM(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function rM(){return navigator?.serviceWorker?.controller||null}function aM(){return _A()?self:null}const vA="firebaseLocalStorageDb",oM=1,Vf="firebaseLocalStorage",xA="fbase_key";class ah{constructor(t){this.request=t}toPromise(){return new Promise((t,e)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{e(this.request.error)})})}}function yg(n,t){return n.transaction([Vf],t?"readwrite":"readonly").objectStore(Vf)}function lM(){const n=indexedDB.deleteDatabase(vA);return new ah(n).toPromise()}function Gy(){const n=indexedDB.open(vA,oM);return new Promise((t,e)=>{n.addEventListener("error",()=>{e(n.error)}),n.addEventListener("upgradeneeded",()=>{const i=n.result;try{i.createObjectStore(Vf,{keyPath:xA})}catch(r){e(r)}}),n.addEventListener("success",async()=>{const i=n.result;i.objectStoreNames.contains(Vf)?t(i):(i.close(),await lM(),t(await Gy()))})})}async function gT(n,t,e){const i=yg(n,!0).put({[xA]:t,value:e});return new ah(i).toPromise()}async function cM(n,t){const e=yg(n,!1).get(t),i=await new ah(e).toPromise();return i===void 0?null:i.value}function pT(n,t){const e=yg(n,!0).delete(t);return new ah(e).toPromise()}const uM=800,hM=3;class EA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Gy(),this.db)}async _withRetries(t){let e=0;for(;;)try{const i=await this._openDb();return await t(i)}catch(i){if(e++>hM)throw i;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return _A()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=mg._getInstance(aM()),this.receiver._subscribe("keyChanged",async(t,e)=>({keyProcessed:(await this._poll()).includes(e.key)})),this.receiver._subscribe("ping",async(t,e)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await sM(),!this.activeServiceWorker)return;this.sender=new nM(this.activeServiceWorker);const t=await this.sender._send("ping",{},800);t&&t[0]?.fulfilled&&t[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||rM()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await Gy();return await gT(t,Lf,"1"),await pT(t,Lf),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,e){return this._withPendingWrite(async()=>(await this._withRetries(i=>gT(i,t,e)),this.localCache[t]=e,this.notifyServiceWorker(t)))}async _get(t){const e=await this._withRetries(i=>cM(i,t));return this.localCache[t]=e,e}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(e=>pT(e,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(r=>{const o=yg(r,!1).getAll();return new ah(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const e=[],i=new Set;if(t.length!==0)for(const{fbase_key:r,value:o}of t)i.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(o)&&(this.notifyListeners(r,o),e.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!i.has(r)&&(this.notifyListeners(r,null),e.push(r));return e}notifyListeners(t,e){this.localCache[t]=e;const i=this.listeners[t];if(i)for(const r of Array.from(i))r(e)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),uM)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,e){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(e)}_removeListener(t,e){this.listeners[t]&&(this.listeners[t].delete(e),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}EA.type="LOCAL";const dM=EA;new ih(3e4,6e4);function fM(n,t){return t?tr(t):(Ct(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}class H0 extends B0{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return _l(t,this._buildIdpRequest())}_linkToIdToken(t,e){return _l(t,this._buildIdpRequest(e))}_getReauthenticationResolver(t){return _l(t,this._buildIdpRequest())}_buildIdpRequest(t){const e={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(e.idToken=t),e}}function gM(n){return fA(n.auth,new H0(n),n.bypassAuthState)}function pM(n){const{auth:t,user:e}=n;return Ct(e,t,"internal-error"),HO(e,new H0(n),n.bypassAuthState)}async function mM(n){const{auth:t,user:e}=n;return Ct(e,t,"internal-error"),FO(e,new H0(n),n.bypassAuthState)}class TA{constructor(t,e,i,r,o=!1){this.auth=t,this.resolver=i,this.user=r,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(e)?e:[e]}execute(){return new Promise(async(t,e)=>{this.pendingPromise={resolve:t,reject:e};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(i){this.reject(i)}})}async onAuthEvent(t){const{urlResponse:e,sessionId:i,postBody:r,tenantId:o,error:l,type:u}=t;if(l){this.reject(l);return}const d={auth:this.auth,requestUri:e,sessionId:i,tenantId:o||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(u)(d))}catch(f){this.reject(f)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return gM;case"linkViaPopup":case"linkViaRedirect":return mM;case"reauthViaPopup":case"reauthViaRedirect":return pM;default:Wi(this.auth,"internal-error")}}resolve(t){nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){nr(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const yM=new ih(2e3,1e4);class pl extends TA{constructor(t,e,i,r,o){super(t,e,r,o),this.provider=i,this.authWindow=null,this.pollId=null,pl.currentPopupAction&&pl.currentPopupAction.cancel(),pl.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Ct(t,this.auth,"internal-error"),t}async onExecution(){nr(this.filter.length===1,"Popup operations only handle one event");const t=F0();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(e=>{this.reject(e)}),this.resolver._isIframeWebStorageSupported(this.auth,e=>{e||this.reject(xs(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(xs(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,pl.currentPopupAction=null}pollUserCancellation(){const t=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(xs(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,yM.get())};t()}}pl.currentPopupAction=null;const bM="pendingRedirect",vf=new Map;class _M extends TA{constructor(t,e,i=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],e,void 0,i),this.eventId=null}async execute(){let t=vf.get(this.auth._key());if(!t){try{const i=await vM(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(i)}catch(e){t=()=>Promise.reject(e)}vf.set(this.auth._key(),t)}return this.bypassAuthState||vf.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const e=await this.auth._redirectUserForId(t.eventId);if(e)return this.user=e,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function vM(n,t){const e=TM(t),i=EM(n);if(!await i._isAvailable())return!1;const r=await i._get(e)==="true";return await i._remove(e),r}function xM(n,t){vf.set(n._key(),t)}function EM(n){return tr(n._redirectPersistence)}function TM(n){return _f(bM,n.config.apiKey,n.name)}async function SM(n,t,e=!1){if(Zn(n.app))return Promise.reject(Es(n));const i=pa(n),r=fM(i,t),l=await new _M(i,r,e).execute();return l&&!e&&(delete l.user._redirectEventId,await i._persistUserIfCurrent(l.user),await i._setRedirectUser(null,t)),l}const wM=600*1e3;class AM{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let e=!1;return this.consumers.forEach(i=>{this.isEventForConsumer(t,i)&&(e=!0,this.sendToConsumer(t,i),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!CM(t)||(this.hasHandledPotentialRedirect=!0,e||(this.queuedRedirectEvent=t,e=!0)),e}sendToConsumer(t,e){if(t.error&&!SA(t)){const i=t.error.code?.split("auth/")[1]||"internal-error";e.onError(xs(this.auth,i))}else e.onAuthEvent(t)}isEventForConsumer(t,e){const i=e.eventId===null||!!t.eventId&&t.eventId===e.eventId;return e.filter.includes(t.type)&&i}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=wM&&this.cachedEventUids.clear(),this.cachedEventUids.has(mT(t))}saveEventToCache(t){this.cachedEventUids.add(mT(t)),this.lastProcessedEventTime=Date.now()}}function mT(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(t=>t).join("-")}function SA({type:n,error:t}){return n==="unknown"&&t?.code==="auth/no-auth-event"}function CM(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return SA(n);default:return!1}}async function IM(n,t={}){return lr(n,"GET","/v1/projects",t)}const DM=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,RM=/^https?/;async function NM(n){if(n.config.emulator)return;const{authorizedDomains:t}=await IM(n);for(const e of t)try{if(kM(e))return}catch{}Wi(n,"unauthorized-domain")}function kM(n){const t=Fy(),{protocol:e,hostname:i}=new URL(t);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&i===""?e==="chrome-extension:"&&n.replace("chrome-extension://","")===t.replace("chrome-extension://",""):e==="chrome-extension:"&&l.hostname===i}if(!RM.test(e))return!1;if(DM.test(n))return i===n;const r=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+r+"|"+r+")$","i").test(i)}const OM=new ih(3e4,6e4);function yT(){const n=Ts().___jsl;if(n?.H){for(const t of Object.keys(n.H))if(n.H[t].r=n.H[t].r||[],n.H[t].L=n.H[t].L||[],n.H[t].r=[...n.H[t].L],n.CP)for(let e=0;e<n.CP.length;e++)n.CP[e]=null}}function MM(n){return new Promise((t,e)=>{function i(){yT(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{yT(),e(xs(n,"network-request-failed"))},timeout:OM.get()})}if(Ts().gapi?.iframes?.Iframe)t(gapi.iframes.getContext());else if(Ts().gapi?.load)i();else{const r=SO("iframefcb");return Ts()[r]=()=>{gapi.load?i():e(xs(n,"network-request-failed"))},oA(`${TO()}?onload=${r}`).catch(o=>e(o))}}).catch(t=>{throw xf=null,t})}let xf=null;function PM(n){return xf=xf||MM(n),xf}const zM=new ih(5e3,15e3),LM="__/auth/iframe",VM="emulator/auth/iframe",jM={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},BM=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function UM(n){const t=n.config;Ct(t.authDomain,n,"auth-domain-config-required");const e=t.emulator?L0(t,VM):`https://${n.config.authDomain}/${LM}`,i={apiKey:t.apiKey,appName:n.name,v:Vl},r=BM.get(n.config.apiHost);r&&(i.eid=r);const o=n._getFrameworks();return o.length&&(i.fw=o.join(",")),`${e}?${nh(i).slice(1)}`}async function FM(n){const t=await PM(n),e=Ts().gapi;return Ct(e,n,"internal-error"),t.open({where:document.body,url:UM(n),messageHandlersFilter:e.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:jM,dontclear:!0},i=>new Promise(async(r,o)=>{await i.restyle({setHideOnLeave:!1});const l=xs(n,"network-request-failed"),u=Ts().setTimeout(()=>{o(l)},zM.get());function d(){Ts().clearTimeout(u),r(i)}i.ping(d).then(d,()=>{o(l)})}))}const HM={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},qM=500,GM=600,$M="_blank",WM="http://localhost";class bT{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function YM(n,t,e,i=qM,r=GM){const o=Math.max((window.screen.availHeight-r)/2,0).toString(),l=Math.max((window.screen.availWidth-i)/2,0).toString();let u="";const d={...HM,width:i.toString(),height:r.toString(),top:o,left:l},f=Sn().toLowerCase();e&&(u=tA(f)?$M:e),J1(f)&&(t=t||WM,d.scrollbars="yes");const p=Object.entries(d).reduce((_,[v,S])=>`${_}${v}=${S},`,"");if(gO(f)&&u!=="_self")return KM(t||"",u),new bT(null);const y=window.open(t||"",u,p);Ct(y,n,"popup-blocked");try{y.focus()}catch{}return new bT(y)}function KM(n,t){const e=document.createElement("a");e.href=n,e.target=t;const i=document.createEvent("MouseEvent");i.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),e.dispatchEvent(i)}const QM="__/auth/handler",XM="emulator/auth/handler",JM=encodeURIComponent("fac");async function _T(n,t,e,i,r,o){Ct(n.config.authDomain,n,"auth-domain-config-required"),Ct(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:e,redirectUrl:i,v:Vl,eventId:r};if(t instanceof uA){t.setDefaultLanguage(n.languageCode),l.providerId=t.providerId||"",zN(t.getCustomParameters())||(l.customParameters=JSON.stringify(t.getCustomParameters()));for(const[p,y]of Object.entries({}))l[p]=y}if(t instanceof rh){const p=t.getScopes().filter(y=>y!=="");p.length>0&&(l.scopes=p.join(","))}n.tenantId&&(l.tid=n.tenantId);const u=l;for(const p of Object.keys(u))u[p]===void 0&&delete u[p];const d=await n._getAppCheckToken(),f=d?`#${JM}=${encodeURIComponent(d)}`:"";return`${ZM(n)}?${nh(u).slice(1)}${f}`}function ZM({config:n}){return n.emulator?L0(n,XM):`https://${n.authDomain}/${QM}`}const oy="webStorageSupport";class tP{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=bA,this._completeRedirectFn=SM,this._overrideRedirectResult=xM}async _openPopup(t,e,i,r){nr(this.eventManagers[t._key()]?.manager,"_initialize() not called before _openPopup()");const o=await _T(t,e,i,Fy(),r);return YM(t,o,F0())}async _openRedirect(t,e,i,r){await this._originValidation(t);const o=await _T(t,e,i,Fy(),r);return iM(o),new Promise(()=>{})}_initialize(t){const e=t._key();if(this.eventManagers[e]){const{manager:r,promise:o}=this.eventManagers[e];return r?Promise.resolve(r):(nr(o,"If manager is not set, promise should be"),o)}const i=this.initAndGetManager(t);return this.eventManagers[e]={promise:i},i.catch(()=>{delete this.eventManagers[e]}),i}async initAndGetManager(t){const e=await FM(t),i=new AM(t);return e.register("authEvent",r=>(Ct(r?.authEvent,t,"invalid-auth-event"),{status:i.onEvent(r.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:i},this.iframes[t._key()]=e,i}_isIframeWebStorageSupported(t,e){this.iframes[t._key()].send(oy,{type:oy},r=>{const o=r?.[0]?.[oy];o!==void 0&&e(!!o),Wi(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const e=t._key();return this.originValidationPromises[e]||(this.originValidationPromises[e]=NM(t)),this.originValidationPromises[e]}get _shouldInitProactively(){return rA()||Z1()||j0()}}const eP=tP;var vT="@firebase/auth",xT="1.11.1";class nP{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const e=this.auth.onIdTokenChanged(i=>{t(i?.stsTokenManager.accessToken||null)});this.internalListeners.set(t,e),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const e=this.internalListeners.get(t);e&&(this.internalListeners.delete(t),e(),this.updateProactiveRefresh())}assertAuthConfigured(){Ct(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function iP(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function sP(n){Tl(new ho("auth",(t,{options:e})=>{const i=t.getProvider("app").getImmediate(),r=t.getProvider("heartbeat"),o=t.getProvider("app-check-internal"),{apiKey:l,authDomain:u}=i.options;Ct(l&&!l.includes(":"),"invalid-api-key",{appName:i.name});const d={apiKey:l,authDomain:u,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:aA(n)},f=new vO(i,r,o,d);return RO(f,e),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,e,i)=>{t.getProvider("auth-internal").initialize()})),Tl(new ho("auth-internal",t=>{const e=pa(t.getProvider("auth").getImmediate());return(i=>new nP(i))(e)},"PRIVATE").setInstantiationMode("EXPLICIT")),Zr(vT,xT,iP(n)),Zr(vT,xT,"esm2020")}const rP=300,aP=P1("authIdTokenMaxAge")||rP;let ET=null;const oP=n=>async t=>{const e=t&&await t.getIdTokenResult(),i=e&&(new Date().getTime()-Date.parse(e.issuedAtTime))/1e3;if(i&&i>aP)return;const r=e?.token;ET!==r&&(ET=r,await fetch(n,{method:r?"POST":"DELETE",headers:r?{Authorization:`Bearer ${r}`}:{}}))};function lP(n=U1()){const t=P0(n,"auth");if(t.isInitialized())return t.getImmediate();const e=DO(n,{popupRedirectResolver:eP,persistence:[dM,tM,bA]}),i=P1("authTokenSyncURL");if(i&&typeof isSecureContext=="boolean"&&isSecureContext){const o=new URL(i,location.origin);if(location.origin===o.origin){const l=oP(o.toString());KO(e,l,()=>l(e.currentUser)),YO(e,u=>l(u))}}const r=O1("auth");return r&&NO(e,`http://${r}`),e}function cP(){return document.getElementsByTagName("head")?.[0]??document}xO({loadJS(n){return new Promise((t,e)=>{const i=document.createElement("script");i.setAttribute("src",n),i.onload=t,i.onerror=r=>{const o=xs("internal-error");o.customData=r,e(o)},i.type="text/javascript",i.charset="UTF-8",cP().appendChild(i)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});sP("Browser");var uP="firebase",hP="12.6.0";Zr(uP,hP,"app");var TT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var ta,wA;(function(){var n;function t(R,I){function N(){}N.prototype=I.prototype,R.F=I.prototype,R.prototype=new N,R.prototype.constructor=R,R.D=function(z,M,V){for(var P=Array(arguments.length-2),Dt=2;Dt<arguments.length;Dt++)P[Dt-2]=arguments[Dt];return I.prototype[M].apply(z,P)}}function e(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}t(i,e),i.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function r(R,I,N){N||(N=0);const z=Array(16);if(typeof I=="string")for(var M=0;M<16;++M)z[M]=I.charCodeAt(N++)|I.charCodeAt(N++)<<8|I.charCodeAt(N++)<<16|I.charCodeAt(N++)<<24;else for(M=0;M<16;++M)z[M]=I[N++]|I[N++]<<8|I[N++]<<16|I[N++]<<24;I=R.g[0],N=R.g[1],M=R.g[2];let V=R.g[3],P;P=I+(V^N&(M^V))+z[0]+3614090360&4294967295,I=N+(P<<7&4294967295|P>>>25),P=V+(M^I&(N^M))+z[1]+3905402710&4294967295,V=I+(P<<12&4294967295|P>>>20),P=M+(N^V&(I^N))+z[2]+606105819&4294967295,M=V+(P<<17&4294967295|P>>>15),P=N+(I^M&(V^I))+z[3]+3250441966&4294967295,N=M+(P<<22&4294967295|P>>>10),P=I+(V^N&(M^V))+z[4]+4118548399&4294967295,I=N+(P<<7&4294967295|P>>>25),P=V+(M^I&(N^M))+z[5]+1200080426&4294967295,V=I+(P<<12&4294967295|P>>>20),P=M+(N^V&(I^N))+z[6]+2821735955&4294967295,M=V+(P<<17&4294967295|P>>>15),P=N+(I^M&(V^I))+z[7]+4249261313&4294967295,N=M+(P<<22&4294967295|P>>>10),P=I+(V^N&(M^V))+z[8]+1770035416&4294967295,I=N+(P<<7&4294967295|P>>>25),P=V+(M^I&(N^M))+z[9]+2336552879&4294967295,V=I+(P<<12&4294967295|P>>>20),P=M+(N^V&(I^N))+z[10]+4294925233&4294967295,M=V+(P<<17&4294967295|P>>>15),P=N+(I^M&(V^I))+z[11]+2304563134&4294967295,N=M+(P<<22&4294967295|P>>>10),P=I+(V^N&(M^V))+z[12]+1804603682&4294967295,I=N+(P<<7&4294967295|P>>>25),P=V+(M^I&(N^M))+z[13]+4254626195&4294967295,V=I+(P<<12&4294967295|P>>>20),P=M+(N^V&(I^N))+z[14]+2792965006&4294967295,M=V+(P<<17&4294967295|P>>>15),P=N+(I^M&(V^I))+z[15]+1236535329&4294967295,N=M+(P<<22&4294967295|P>>>10),P=I+(M^V&(N^M))+z[1]+4129170786&4294967295,I=N+(P<<5&4294967295|P>>>27),P=V+(N^M&(I^N))+z[6]+3225465664&4294967295,V=I+(P<<9&4294967295|P>>>23),P=M+(I^N&(V^I))+z[11]+643717713&4294967295,M=V+(P<<14&4294967295|P>>>18),P=N+(V^I&(M^V))+z[0]+3921069994&4294967295,N=M+(P<<20&4294967295|P>>>12),P=I+(M^V&(N^M))+z[5]+3593408605&4294967295,I=N+(P<<5&4294967295|P>>>27),P=V+(N^M&(I^N))+z[10]+38016083&4294967295,V=I+(P<<9&4294967295|P>>>23),P=M+(I^N&(V^I))+z[15]+3634488961&4294967295,M=V+(P<<14&4294967295|P>>>18),P=N+(V^I&(M^V))+z[4]+3889429448&4294967295,N=M+(P<<20&4294967295|P>>>12),P=I+(M^V&(N^M))+z[9]+568446438&4294967295,I=N+(P<<5&4294967295|P>>>27),P=V+(N^M&(I^N))+z[14]+3275163606&4294967295,V=I+(P<<9&4294967295|P>>>23),P=M+(I^N&(V^I))+z[3]+4107603335&4294967295,M=V+(P<<14&4294967295|P>>>18),P=N+(V^I&(M^V))+z[8]+1163531501&4294967295,N=M+(P<<20&4294967295|P>>>12),P=I+(M^V&(N^M))+z[13]+2850285829&4294967295,I=N+(P<<5&4294967295|P>>>27),P=V+(N^M&(I^N))+z[2]+4243563512&4294967295,V=I+(P<<9&4294967295|P>>>23),P=M+(I^N&(V^I))+z[7]+1735328473&4294967295,M=V+(P<<14&4294967295|P>>>18),P=N+(V^I&(M^V))+z[12]+2368359562&4294967295,N=M+(P<<20&4294967295|P>>>12),P=I+(N^M^V)+z[5]+4294588738&4294967295,I=N+(P<<4&4294967295|P>>>28),P=V+(I^N^M)+z[8]+2272392833&4294967295,V=I+(P<<11&4294967295|P>>>21),P=M+(V^I^N)+z[11]+1839030562&4294967295,M=V+(P<<16&4294967295|P>>>16),P=N+(M^V^I)+z[14]+4259657740&4294967295,N=M+(P<<23&4294967295|P>>>9),P=I+(N^M^V)+z[1]+2763975236&4294967295,I=N+(P<<4&4294967295|P>>>28),P=V+(I^N^M)+z[4]+1272893353&4294967295,V=I+(P<<11&4294967295|P>>>21),P=M+(V^I^N)+z[7]+4139469664&4294967295,M=V+(P<<16&4294967295|P>>>16),P=N+(M^V^I)+z[10]+3200236656&4294967295,N=M+(P<<23&4294967295|P>>>9),P=I+(N^M^V)+z[13]+681279174&4294967295,I=N+(P<<4&4294967295|P>>>28),P=V+(I^N^M)+z[0]+3936430074&4294967295,V=I+(P<<11&4294967295|P>>>21),P=M+(V^I^N)+z[3]+3572445317&4294967295,M=V+(P<<16&4294967295|P>>>16),P=N+(M^V^I)+z[6]+76029189&4294967295,N=M+(P<<23&4294967295|P>>>9),P=I+(N^M^V)+z[9]+3654602809&4294967295,I=N+(P<<4&4294967295|P>>>28),P=V+(I^N^M)+z[12]+3873151461&4294967295,V=I+(P<<11&4294967295|P>>>21),P=M+(V^I^N)+z[15]+530742520&4294967295,M=V+(P<<16&4294967295|P>>>16),P=N+(M^V^I)+z[2]+3299628645&4294967295,N=M+(P<<23&4294967295|P>>>9),P=I+(M^(N|~V))+z[0]+4096336452&4294967295,I=N+(P<<6&4294967295|P>>>26),P=V+(N^(I|~M))+z[7]+1126891415&4294967295,V=I+(P<<10&4294967295|P>>>22),P=M+(I^(V|~N))+z[14]+2878612391&4294967295,M=V+(P<<15&4294967295|P>>>17),P=N+(V^(M|~I))+z[5]+4237533241&4294967295,N=M+(P<<21&4294967295|P>>>11),P=I+(M^(N|~V))+z[12]+1700485571&4294967295,I=N+(P<<6&4294967295|P>>>26),P=V+(N^(I|~M))+z[3]+2399980690&4294967295,V=I+(P<<10&4294967295|P>>>22),P=M+(I^(V|~N))+z[10]+4293915773&4294967295,M=V+(P<<15&4294967295|P>>>17),P=N+(V^(M|~I))+z[1]+2240044497&4294967295,N=M+(P<<21&4294967295|P>>>11),P=I+(M^(N|~V))+z[8]+1873313359&4294967295,I=N+(P<<6&4294967295|P>>>26),P=V+(N^(I|~M))+z[15]+4264355552&4294967295,V=I+(P<<10&4294967295|P>>>22),P=M+(I^(V|~N))+z[6]+2734768916&4294967295,M=V+(P<<15&4294967295|P>>>17),P=N+(V^(M|~I))+z[13]+1309151649&4294967295,N=M+(P<<21&4294967295|P>>>11),P=I+(M^(N|~V))+z[4]+4149444226&4294967295,I=N+(P<<6&4294967295|P>>>26),P=V+(N^(I|~M))+z[11]+3174756917&4294967295,V=I+(P<<10&4294967295|P>>>22),P=M+(I^(V|~N))+z[2]+718787259&4294967295,M=V+(P<<15&4294967295|P>>>17),P=N+(V^(M|~I))+z[9]+3951481745&4294967295,R.g[0]=R.g[0]+I&4294967295,R.g[1]=R.g[1]+(M+(P<<21&4294967295|P>>>11))&4294967295,R.g[2]=R.g[2]+M&4294967295,R.g[3]=R.g[3]+V&4294967295}i.prototype.v=function(R,I){I===void 0&&(I=R.length);const N=I-this.blockSize,z=this.C;let M=this.h,V=0;for(;V<I;){if(M==0)for(;V<=N;)r(this,R,V),V+=this.blockSize;if(typeof R=="string"){for(;V<I;)if(z[M++]=R.charCodeAt(V++),M==this.blockSize){r(this,z),M=0;break}}else for(;V<I;)if(z[M++]=R[V++],M==this.blockSize){r(this,z),M=0;break}}this.h=M,this.o+=I},i.prototype.A=function(){var R=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);R[0]=128;for(var I=1;I<R.length-8;++I)R[I]=0;I=this.o*8;for(var N=R.length-8;N<R.length;++N)R[N]=I&255,I/=256;for(this.v(R),R=Array(16),I=0,N=0;N<4;++N)for(let z=0;z<32;z+=8)R[I++]=this.g[N]>>>z&255;return R};function o(R,I){var N=u;return Object.prototype.hasOwnProperty.call(N,R)?N[R]:N[R]=I(R)}function l(R,I){this.h=I;const N=[];let z=!0;for(let M=R.length-1;M>=0;M--){const V=R[M]|0;z&&V==I||(N[M]=V,z=!1)}this.g=N}var u={};function d(R){return-128<=R&&R<128?o(R,function(I){return new l([I|0],I<0?-1:0)}):new l([R|0],R<0?-1:0)}function f(R){if(isNaN(R)||!isFinite(R))return y;if(R<0)return w(f(-R));const I=[];let N=1;for(let z=0;R>=N;z++)I[z]=R/N|0,N*=4294967296;return new l(I,0)}function p(R,I){if(R.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(R.charAt(0)=="-")return w(p(R.substring(1),I));if(R.indexOf("-")>=0)throw Error('number format error: interior "-" character');const N=f(Math.pow(I,8));let z=y;for(let V=0;V<R.length;V+=8){var M=Math.min(8,R.length-V);const P=parseInt(R.substring(V,V+M),I);M<8?(M=f(Math.pow(I,M)),z=z.j(M).add(f(P))):(z=z.j(N),z=z.add(f(P)))}return z}var y=d(0),_=d(1),v=d(16777216);n=l.prototype,n.m=function(){if(C(this))return-w(this).m();let R=0,I=1;for(let N=0;N<this.g.length;N++){const z=this.i(N);R+=(z>=0?z:4294967296+z)*I,I*=4294967296}return R},n.toString=function(R){if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(S(this))return"0";if(C(this))return"-"+w(this).toString(R);const I=f(Math.pow(R,6));var N=this;let z="";for(;;){const M=q(N,I).g;N=O(N,M.j(I));let V=((N.g.length>0?N.g[0]:N.h)>>>0).toString(R);if(N=M,S(N))return V+z;for(;V.length<6;)V="0"+V;z=V+z}},n.i=function(R){return R<0?0:R<this.g.length?this.g[R]:this.h};function S(R){if(R.h!=0)return!1;for(let I=0;I<R.g.length;I++)if(R.g[I]!=0)return!1;return!0}function C(R){return R.h==-1}n.l=function(R){return R=O(this,R),C(R)?-1:S(R)?0:1};function w(R){const I=R.g.length,N=[];for(let z=0;z<I;z++)N[z]=~R.g[z];return new l(N,~R.h).add(_)}n.abs=function(){return C(this)?w(this):this},n.add=function(R){const I=Math.max(this.g.length,R.g.length),N=[];let z=0;for(let M=0;M<=I;M++){let V=z+(this.i(M)&65535)+(R.i(M)&65535),P=(V>>>16)+(this.i(M)>>>16)+(R.i(M)>>>16);z=P>>>16,V&=65535,P&=65535,N[M]=P<<16|V}return new l(N,N[N.length-1]&-2147483648?-1:0)};function O(R,I){return R.add(w(I))}n.j=function(R){if(S(this)||S(R))return y;if(C(this))return C(R)?w(this).j(w(R)):w(w(this).j(R));if(C(R))return w(this.j(w(R)));if(this.l(v)<0&&R.l(v)<0)return f(this.m()*R.m());const I=this.g.length+R.g.length,N=[];for(var z=0;z<2*I;z++)N[z]=0;for(z=0;z<this.g.length;z++)for(let M=0;M<R.g.length;M++){const V=this.i(z)>>>16,P=this.i(z)&65535,Dt=R.i(M)>>>16,vt=R.i(M)&65535;N[2*z+2*M]+=P*vt,L(N,2*z+2*M),N[2*z+2*M+1]+=V*vt,L(N,2*z+2*M+1),N[2*z+2*M+1]+=P*Dt,L(N,2*z+2*M+1),N[2*z+2*M+2]+=V*Dt,L(N,2*z+2*M+2)}for(R=0;R<I;R++)N[R]=N[2*R+1]<<16|N[2*R];for(R=I;R<2*I;R++)N[R]=0;return new l(N,0)};function L(R,I){for(;(R[I]&65535)!=R[I];)R[I+1]+=R[I]>>>16,R[I]&=65535,I++}function H(R,I){this.g=R,this.h=I}function q(R,I){if(S(I))throw Error("division by zero");if(S(R))return new H(y,y);if(C(R))return I=q(w(R),I),new H(w(I.g),w(I.h));if(C(I))return I=q(R,w(I)),new H(w(I.g),I.h);if(R.g.length>30){if(C(R)||C(I))throw Error("slowDivide_ only works with positive integers.");for(var N=_,z=I;z.l(R)<=0;)N=F(N),z=F(z);var M=G(N,1),V=G(z,1);for(z=G(z,2),N=G(N,2);!S(z);){var P=V.add(z);P.l(R)<=0&&(M=M.add(N),V=P),z=G(z,1),N=G(N,1)}return I=O(R,M.j(I)),new H(M,I)}for(M=y;R.l(I)>=0;){for(N=Math.max(1,Math.floor(R.m()/I.m())),z=Math.ceil(Math.log(N)/Math.LN2),z=z<=48?1:Math.pow(2,z-48),V=f(N),P=V.j(I);C(P)||P.l(R)>0;)N-=z,V=f(N),P=V.j(I);S(V)&&(V=_),M=M.add(V),R=O(R,P)}return new H(M,R)}n.B=function(R){return q(this,R).h},n.and=function(R){const I=Math.max(this.g.length,R.g.length),N=[];for(let z=0;z<I;z++)N[z]=this.i(z)&R.i(z);return new l(N,this.h&R.h)},n.or=function(R){const I=Math.max(this.g.length,R.g.length),N=[];for(let z=0;z<I;z++)N[z]=this.i(z)|R.i(z);return new l(N,this.h|R.h)},n.xor=function(R){const I=Math.max(this.g.length,R.g.length),N=[];for(let z=0;z<I;z++)N[z]=this.i(z)^R.i(z);return new l(N,this.h^R.h)};function F(R){const I=R.g.length+1,N=[];for(let z=0;z<I;z++)N[z]=R.i(z)<<1|R.i(z-1)>>>31;return new l(N,R.h)}function G(R,I){const N=I>>5;I%=32;const z=R.g.length-N,M=[];for(let V=0;V<z;V++)M[V]=I>0?R.i(V+N)>>>I|R.i(V+N+1)<<32-I:R.i(V+N);return new l(M,R.h)}i.prototype.digest=i.prototype.A,i.prototype.reset=i.prototype.u,i.prototype.update=i.prototype.v,wA=i,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.B,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=p,ta=l}).apply(typeof TT<"u"?TT:typeof self<"u"?self:typeof window<"u"?window:{});var Kd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var AA,cu,CA,Ef,$y,IA,DA,RA;(function(){var n,t=Object.defineProperty;function e(g){g=[typeof globalThis=="object"&&globalThis,g,typeof window=="object"&&window,typeof self=="object"&&self,typeof Kd=="object"&&Kd];for(var x=0;x<g.length;++x){var T=g[x];if(T&&T.Math==Math)return T}throw Error("Cannot find global object")}var i=e(this);function r(g,x){if(x)t:{var T=i;g=g.split(".");for(var k=0;k<g.length-1;k++){var Y=g[k];if(!(Y in T))break t;T=T[Y]}g=g[g.length-1],k=T[g],x=x(k),x!=k&&x!=null&&t(T,g,{configurable:!0,writable:!0,value:x})}}r("Symbol.dispose",function(g){return g||Symbol("Symbol.dispose")}),r("Array.prototype.values",function(g){return g||function(){return this[Symbol.iterator]()}}),r("Object.entries",function(g){return g||function(x){var T=[],k;for(k in x)Object.prototype.hasOwnProperty.call(x,k)&&T.push([k,x[k]]);return T}});var o=o||{},l=this||self;function u(g){var x=typeof g;return x=="object"&&g!=null||x=="function"}function d(g,x,T){return g.call.apply(g.bind,arguments)}function f(g,x,T){return f=d,f.apply(null,arguments)}function p(g,x){var T=Array.prototype.slice.call(arguments,1);return function(){var k=T.slice();return k.push.apply(k,arguments),g.apply(this,k)}}function y(g,x){function T(){}T.prototype=x.prototype,g.Z=x.prototype,g.prototype=new T,g.prototype.constructor=g,g.Ob=function(k,Y,Z){for(var dt=Array(arguments.length-2),Mt=2;Mt<arguments.length;Mt++)dt[Mt-2]=arguments[Mt];return x.prototype[Y].apply(k,dt)}}var _=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?g=>g&&AsyncContext.Snapshot.wrap(g):g=>g;function v(g){const x=g.length;if(x>0){const T=Array(x);for(let k=0;k<x;k++)T[k]=g[k];return T}return[]}function S(g,x){for(let k=1;k<arguments.length;k++){const Y=arguments[k];var T=typeof Y;if(T=T!="object"?T:Y?Array.isArray(Y)?"array":T:"null",T=="array"||T=="object"&&typeof Y.length=="number"){T=g.length||0;const Z=Y.length||0;g.length=T+Z;for(let dt=0;dt<Z;dt++)g[T+dt]=Y[dt]}else g.push(Y)}}class C{constructor(x,T){this.i=x,this.j=T,this.h=0,this.g=null}get(){let x;return this.h>0?(this.h--,x=this.g,this.g=x.next,x.next=null):x=this.i(),x}}function w(g){l.setTimeout(()=>{throw g},0)}function O(){var g=R;let x=null;return g.g&&(x=g.g,g.g=g.g.next,g.g||(g.h=null),x.next=null),x}class L{constructor(){this.h=this.g=null}add(x,T){const k=H.get();k.set(x,T),this.h?this.h.next=k:this.g=k,this.h=k}}var H=new C(()=>new q,g=>g.reset());class q{constructor(){this.next=this.g=this.h=null}set(x,T){this.h=x,this.g=T,this.next=null}reset(){this.next=this.g=this.h=null}}let F,G=!1,R=new L,I=()=>{const g=Promise.resolve(void 0);F=()=>{g.then(N)}};function N(){for(var g;g=O();){try{g.h.call(g.g)}catch(T){w(T)}var x=H;x.j(g),x.h<100&&(x.h++,g.next=x.g,x.g=g)}G=!1}function z(){this.u=this.u,this.C=this.C}z.prototype.u=!1,z.prototype.dispose=function(){this.u||(this.u=!0,this.N())},z.prototype[Symbol.dispose]=function(){this.dispose()},z.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(g,x){this.type=g,this.g=this.target=x,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var V=(function(){if(!l.addEventListener||!Object.defineProperty)return!1;var g=!1,x=Object.defineProperty({},"passive",{get:function(){g=!0}});try{const T=()=>{};l.addEventListener("test",T,x),l.removeEventListener("test",T,x)}catch{}return g})();function P(g){return/^[\s\xa0]*$/.test(g)}function Dt(g,x){M.call(this,g?g.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,g&&this.init(g,x)}y(Dt,M),Dt.prototype.init=function(g,x){const T=this.type=g.type,k=g.changedTouches&&g.changedTouches.length?g.changedTouches[0]:null;this.target=g.target||g.srcElement,this.g=x,x=g.relatedTarget,x||(T=="mouseover"?x=g.fromElement:T=="mouseout"&&(x=g.toElement)),this.relatedTarget=x,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=g.clientX!==void 0?g.clientX:g.pageX,this.clientY=g.clientY!==void 0?g.clientY:g.pageY,this.screenX=g.screenX||0,this.screenY=g.screenY||0),this.button=g.button,this.key=g.key||"",this.ctrlKey=g.ctrlKey,this.altKey=g.altKey,this.shiftKey=g.shiftKey,this.metaKey=g.metaKey,this.pointerId=g.pointerId||0,this.pointerType=g.pointerType,this.state=g.state,this.i=g,g.defaultPrevented&&Dt.Z.h.call(this)},Dt.prototype.h=function(){Dt.Z.h.call(this);const g=this.i;g.preventDefault?g.preventDefault():g.returnValue=!1};var vt="closure_listenable_"+(Math.random()*1e6|0),X=0;function ot(g,x,T,k,Y){this.listener=g,this.proxy=null,this.src=x,this.type=T,this.capture=!!k,this.ha=Y,this.key=++X,this.da=this.fa=!1}function pt(g){g.da=!0,g.listener=null,g.proxy=null,g.src=null,g.ha=null}function At(g,x,T){for(const k in g)x.call(T,g[k],k,g)}function Rt(g,x){for(const T in g)x.call(void 0,g[T],T,g)}function B(g){const x={};for(const T in g)x[T]=g[T];return x}const et="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ct(g,x){let T,k;for(let Y=1;Y<arguments.length;Y++){k=arguments[Y];for(T in k)g[T]=k[T];for(let Z=0;Z<et.length;Z++)T=et[Z],Object.prototype.hasOwnProperty.call(k,T)&&(g[T]=k[T])}}function ut(g){this.src=g,this.g={},this.h=0}ut.prototype.add=function(g,x,T,k,Y){const Z=g.toString();g=this.g[Z],g||(g=this.g[Z]=[],this.h++);const dt=xt(g,x,k,Y);return dt>-1?(x=g[dt],T||(x.fa=!1)):(x=new ot(x,this.src,Z,!!k,Y),x.fa=T,g.push(x)),x};function bt(g,x){const T=x.type;if(T in g.g){var k=g.g[T],Y=Array.prototype.indexOf.call(k,x,void 0),Z;(Z=Y>=0)&&Array.prototype.splice.call(k,Y,1),Z&&(pt(x),g.g[T].length==0&&(delete g.g[T],g.h--))}}function xt(g,x,T,k){for(let Y=0;Y<g.length;++Y){const Z=g[Y];if(!Z.da&&Z.listener==x&&Z.capture==!!T&&Z.ha==k)return Y}return-1}var lt="closure_lm_"+(Math.random()*1e6|0),Lt={};function Vt(g,x,T,k,Y){if(Array.isArray(x)){for(let Z=0;Z<x.length;Z++)Vt(g,x[Z],T,k,Y);return null}return T=Ds(T),g&&g[vt]?g.J(x,T,u(k)?!!k.capture:!1,Y):ge(g,x,T,!1,k,Y)}function ge(g,x,T,k,Y,Z){if(!x)throw Error("Invalid event type");const dt=u(Y)?!!Y.capture:!!Y;let Mt=oi(g);if(Mt||(g[lt]=Mt=new ut(g)),T=Mt.add(x,T,k,dt,Z),T.proxy)return T;if(k=on(),T.proxy=k,k.src=g,k.listener=T,g.addEventListener)V||(Y=dt),Y===void 0&&(Y=!1),g.addEventListener(x.toString(),k,Y);else if(g.attachEvent)g.attachEvent(ai(x.toString()),k);else if(g.addListener&&g.removeListener)g.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return T}function on(){function g(T){return x.call(g.src,g.listener,T)}const x=_a;return g}function Se(g,x,T,k,Y){if(Array.isArray(x))for(var Z=0;Z<x.length;Z++)Se(g,x[Z],T,k,Y);else k=u(k)?!!k.capture:!!k,T=Ds(T),g&&g[vt]?(g=g.i,Z=String(x).toString(),Z in g.g&&(x=g.g[Z],T=xt(x,T,k,Y),T>-1&&(pt(x[T]),Array.prototype.splice.call(x,T,1),x.length==0&&(delete g.g[Z],g.h--)))):g&&(g=oi(g))&&(x=g.g[x.toString()],g=-1,x&&(g=xt(x,T,k,Y)),(T=g>-1?x[g]:null)&&kn(T))}function kn(g){if(typeof g!="number"&&g&&!g.da){var x=g.src;if(x&&x[vt])bt(x.i,g);else{var T=g.type,k=g.proxy;x.removeEventListener?x.removeEventListener(T,k,g.capture):x.detachEvent?x.detachEvent(ai(T),k):x.addListener&&x.removeListener&&x.removeListener(k),(T=oi(x))?(bt(T,g),T.h==0&&(T.src=null,x[lt]=null)):pt(g)}}}function ai(g){return g in Lt?Lt[g]:Lt[g]="on"+g}function _a(g,x){if(g.da)g=!0;else{x=new Dt(x,this);const T=g.listener,k=g.ha||g.src;g.fa&&kn(g),g=T.call(k,x)}return g}function oi(g){return g=g[lt],g instanceof ut?g:null}var va="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ds(g){return typeof g=="function"?g:(g[va]||(g[va]=function(x){return g.handleEvent(x)}),g[va])}function ft(){z.call(this),this.i=new ut(this),this.M=this,this.G=null}y(ft,z),ft.prototype[vt]=!0,ft.prototype.removeEventListener=function(g,x,T,k){Se(this,g,x,T,k)};function Kt(g,x){var T,k=g.G;if(k)for(T=[];k;k=k.G)T.push(k);if(g=g.M,k=x.type||x,typeof x=="string")x=new M(x,g);else if(x instanceof M)x.target=x.target||g;else{var Y=x;x=new M(k,g),ct(x,Y)}Y=!0;let Z,dt;if(T)for(dt=T.length-1;dt>=0;dt--)Z=x.g=T[dt],Y=ze(Z,k,!0,x)&&Y;if(Z=x.g=g,Y=ze(Z,k,!0,x)&&Y,Y=ze(Z,k,!1,x)&&Y,T)for(dt=0;dt<T.length;dt++)Z=x.g=T[dt],Y=ze(Z,k,!1,x)&&Y}ft.prototype.N=function(){if(ft.Z.N.call(this),this.i){var g=this.i;for(const x in g.g){const T=g.g[x];for(let k=0;k<T.length;k++)pt(T[k]);delete g.g[x],g.h--}}this.G=null},ft.prototype.J=function(g,x,T,k){return this.i.add(String(g),x,!1,T,k)},ft.prototype.K=function(g,x,T,k){return this.i.add(String(g),x,!0,T,k)};function ze(g,x,T,k){if(x=g.i.g[String(x)],!x)return!0;x=x.concat();let Y=!0;for(let Z=0;Z<x.length;++Z){const dt=x[Z];if(dt&&!dt.da&&dt.capture==T){const Mt=dt.listener,Re=dt.ha||dt.src;dt.fa&&bt(g.i,dt),Y=Mt.call(Re,k)!==!1&&Y}}return Y&&!k.defaultPrevented}function Kl(g,x){if(typeof g!="function")if(g&&typeof g.handleEvent=="function")g=f(g.handleEvent,g);else throw Error("Invalid listener argument");return Number(x)>2147483647?-1:l.setTimeout(g,x||0)}function _h(g){g.g=Kl(()=>{g.g=null,g.i&&(g.i=!1,_h(g))},g.l);const x=g.h;g.h=null,g.m.apply(null,x)}class An extends z{constructor(x,T){super(),this.m=x,this.l=T,this.h=null,this.i=!1,this.g=null}j(x){this.h=arguments,this.g?this.i=!0:_h(this)}N(){super.N(),this.g&&(l.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function xa(g){z.call(this),this.h=g,this.g={}}y(xa,z);var Ql=[];function Xl(g){At(g.g,function(x,T){this.g.hasOwnProperty(T)&&kn(x)},g),g.g={}}xa.prototype.N=function(){xa.Z.N.call(this),Xl(this)},xa.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ur=l.JSON.stringify,Xg=l.JSON.parse,vh=class{stringify(g){return l.JSON.stringify(g,void 0)}parse(g){return l.JSON.parse(g,void 0)}};function xh(){}function Eh(){}var Ri={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ln(){M.call(this,"d")}y(ln,M);function li(){M.call(this,"c")}y(li,M);var De={},Th=null;function To(){return Th=Th||new ft}De.Ia="serverreachability";function Sh(g){M.call(this,De.Ia,g)}y(Sh,M);function Ki(g){const x=To();Kt(x,new Sh(x))}De.STAT_EVENT="statevent";function Ea(g,x){M.call(this,De.STAT_EVENT,g),this.stat=x}y(Ea,M);function Le(g){const x=To();Kt(x,new Ea(x,g))}De.Ja="timingevent";function Qi(g,x){M.call(this,De.Ja,g),this.size=x}y(Qi,M);function Xi(g,x){if(typeof g!="function")throw Error("Fn must not be null and must be a function");return l.setTimeout(function(){g()},x)}function Ni(){this.g=!0}Ni.prototype.ua=function(){this.g=!1};function Jg(g,x,T,k,Y,Z){g.info(function(){if(g.g)if(Z){var dt="",Mt=Z.split("&");for(let ee=0;ee<Mt.length;ee++){var Re=Mt[ee].split("=");if(Re.length>1){const xe=Re[0];Re=Re[1];const di=xe.split("_");dt=di.length>=2&&di[1]=="type"?dt+(xe+"="+Re+"&"):dt+(xe+"=redacted&")}}}else dt=null;else dt=Z;return"XMLHTTP REQ ("+k+") [attempt "+Y+"]: "+x+`
`+T+`
`+dt})}function wh(g,x,T,k,Y,Z,dt){g.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+Y+"]: "+x+`
`+T+`
`+Z+" "+dt})}function Ji(g,x,T,k){g.info(function(){return"XMLHTTP TEXT ("+x+"): "+Zg(g,T)+(k?" "+k:"")})}function Ta(g,x){g.info(function(){return"TIMEOUT: "+x})}Ni.prototype.info=function(){};function Zg(g,x){if(!g.g)return x;if(!x)return null;try{const Z=JSON.parse(x);if(Z){for(g=0;g<Z.length;g++)if(Array.isArray(Z[g])){var T=Z[g];if(!(T.length<2)){var k=T[1];if(Array.isArray(k)&&!(k.length<1)){var Y=k[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(let dt=1;dt<k.length;dt++)k[dt]=""}}}}return ur(Z)}catch{return x}}var Sa={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Jl={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Zl;function wa(){}y(wa,xh),wa.prototype.g=function(){return new XMLHttpRequest},Zl=new wa;function Rs(g){return encodeURIComponent(String(g))}function Ah(g){var x=1;g=g.split(":");const T=[];for(;x>0&&g.length;)T.push(g.shift()),x--;return g.length&&T.push(g.join(":")),T}function ki(g,x,T,k){this.j=g,this.i=x,this.l=T,this.S=k||1,this.V=new xa(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Oi}function Oi(){this.i=null,this.g="",this.h=!1}var Ve={},Je={};function Zi(g,x,T){g.M=1,g.A=Aa(Be(x)),g.u=T,g.R=!0,So(g,null)}function So(g,x){g.F=Date.now(),ts(g),g.B=Be(g.A);var T=g.B,k=g.S;Array.isArray(k)||(k=[String(k)]),Io(T.i,"t",k),g.C=0,T=g.j.L,g.h=new Oi,g.g=Uh(g.j,T?x:null,!g.u),g.P>0&&(g.O=new An(f(g.Y,g,g.g),g.P)),x=g.V,T=g.g,k=g.ba;var Y="readystatechange";Array.isArray(Y)||(Y&&(Ql[0]=Y.toString()),Y=Ql);for(let Z=0;Z<Y.length;Z++){const dt=Vt(T,Y[Z],k||x.handleEvent,!1,x.h||x);if(!dt)break;x.g[dt.key]=dt}x=g.J?B(g.J):{},g.u?(g.v||(g.v="POST"),x["Content-Type"]="application/x-www-form-urlencoded",g.g.ea(g.B,g.v,g.u,x)):(g.v="GET",g.g.ea(g.B,g.v,null,x)),Ki(),Jg(g.i,g.v,g.B,g.l,g.S,g.u)}ki.prototype.ba=function(g){g=g.target;const x=this.O;x&&zi(g)==3?x.j():this.Y(g)},ki.prototype.Y=function(g){try{if(g==this.g)t:{const Mt=zi(this.g),Re=this.g.ya(),ee=this.g.ca();if(!(Mt<3)&&(Mt!=3||this.g&&(this.h.h||this.g.la()||cn(this.g)))){this.K||Mt!=4||Re==7||(Re==8||ee<=0?Ki(3):Ki(2)),es(this);var x=this.g.ca();this.X=x;var T=tp(this);if(this.o=x==200,wh(this.i,this.v,this.B,this.l,this.S,Mt,x),this.o){if(this.U&&!this.L){e:{if(this.g){var k,Y=this.g;if((k=Y.g?Y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!P(k)){var Z=k;break e}}Z=null}if(g=Z)Ji(this.i,this.l,g,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,ns(this,g);else{this.o=!1,this.m=3,Le(12),qn(this),ci(this);break t}}if(this.R){g=!0;let xe;for(;!this.K&&this.C<T.length;)if(xe=Ih(this,T),xe==Je){Mt==4&&(this.m=4,Le(14),g=!1),Ji(this.i,this.l,null,"[Incomplete Response]");break}else if(xe==Ve){this.m=4,Le(15),Ji(this.i,this.l,T,"[Invalid Chunk]"),g=!1;break}else Ji(this.i,this.l,xe,null),ns(this,xe);if(Ch(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Mt!=4||T.length!=0||this.h.h||(this.m=1,Le(16),g=!1),this.o=this.o&&g,!g)Ji(this.i,this.l,T,"[Invalid Chunked Response]"),qn(this),ci(this);else if(T.length>0&&!this.W){this.W=!0;var dt=this.j;dt.g==this&&dt.aa&&!dt.P&&(dt.j.info("Great, no buffering proxy detected. Bytes received: "+T.length),gc(dt),dt.P=!0,Le(11))}}else Ji(this.i,this.l,T,null),ns(this,T);Mt==4&&qn(this),this.o&&!this.K&&(Mt==4?Lh(this.j,this):(this.o=!1,ts(this)))}else ks(this.g),x==400&&T.indexOf("Unknown SID")>0?(this.m=3,Le(12)):(this.m=0,Le(13)),qn(this),ci(this)}}}catch{}finally{}};function tp(g){if(!Ch(g))return g.g.la();const x=cn(g.g);if(x==="")return"";let T="";const k=x.length,Y=zi(g.g)==4;if(!g.h.i){if(typeof TextDecoder>"u")return qn(g),ci(g),"";g.h.i=new l.TextDecoder}for(let Z=0;Z<k;Z++)g.h.h=!0,T+=g.h.i.decode(x[Z],{stream:!(Y&&Z==k-1)});return x.length=0,g.h.g+=T,g.C=0,g.h.g}function Ch(g){return g.g?g.v=="GET"&&g.M!=2&&g.j.Aa:!1}function Ih(g,x){var T=g.C,k=x.indexOf(`
`,T);return k==-1?Je:(T=Number(x.substring(T,k)),isNaN(T)?Ve:(k+=1,k+T>x.length?Je:(x=x.slice(k,k+T),g.C=k+T,x)))}ki.prototype.cancel=function(){this.K=!0,qn(this)};function ts(g){g.T=Date.now()+g.H,wo(g,g.H)}function wo(g,x){if(g.D!=null)throw Error("WatchDog timer not null");g.D=Xi(f(g.aa,g),x)}function es(g){g.D&&(l.clearTimeout(g.D),g.D=null)}ki.prototype.aa=function(){this.D=null;const g=Date.now();g-this.T>=0?(Ta(this.i,this.B),this.M!=2&&(Ki(),Le(17)),qn(this),this.m=2,ci(this)):wo(this,this.T-g)};function ci(g){g.j.I==0||g.K||Lh(g.j,g)}function qn(g){es(g);var x=g.O;x&&typeof x.dispose=="function"&&x.dispose(),g.O=null,Xl(g.V),g.g&&(x=g.g,g.g=null,x.abort(),x.dispose())}function ns(g,x){try{var T=g.j;if(T.I!=0&&(T.g==g||ss(T.h,g))){if(!g.L&&ss(T.h,g)&&T.I==3){try{var k=T.Ba.g.parse(x)}catch{k=null}if(Array.isArray(k)&&k.length==3){var Y=k;if(Y[0]==0){t:if(!T.v){if(T.g)if(T.g.F+3e3<g.F)Oo(T),br(T);else break t;Oa(T),Le(18)}}else T.xa=Y[1],0<T.xa-T.K&&Y[2]<37500&&T.F&&T.A==0&&!T.C&&(T.C=Xi(f(T.Va,T),6e3));is(T.h)<=1&&T.ta&&(T.ta=void 0)}else us(T,11)}else if((g.L||T.g==g)&&Oo(T),!P(x))for(Y=T.Ba.g.parse(x),x=0;x<Y.length;x++){let ee=Y[x];const xe=ee[0];if(!(xe<=T.K))if(T.K=xe,ee=ee[1],T.I==2)if(ee[0]=="c"){T.M=ee[1],T.ba=ee[2];const di=ee[3];di!=null&&(T.ka=di,T.j.info("VER="+T.ka));const hs=ee[4];hs!=null&&(T.za=hs,T.j.info("SVER="+T.za));const Li=ee[5];Li!=null&&typeof Li=="number"&&Li>0&&(k=1.5*Li,T.O=k,T.j.info("backChannelRequestTimeoutMs_="+k)),k=T;const Vi=g.g;if(Vi){const Ma=Vi.g?Vi.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ma){var Z=k.h;Z.g||Ma.indexOf("spdy")==-1&&Ma.indexOf("quic")==-1&&Ma.indexOf("h2")==-1||(Z.j=Z.l,Z.g=new Set,Z.h&&(nc(Z,Z.h),Z.h=null))}if(k.G){const Mo=Vi.g?Vi.g.getResponseHeader("X-HTTP-Session-Id"):null;Mo&&(k.wa=Mo,re(k.J,k.G,Mo))}}T.I=3,T.l&&T.l.ra(),T.aa&&(T.T=Date.now()-g.F,T.j.info("Handshake RTT: "+T.T+"ms")),k=T;var dt=g;if(k.na=Bh(k,k.L?k.ba:null,k.W),dt.L){ic(k.h,dt);var Mt=dt,Re=k.O;Re&&(Mt.H=Re),Mt.D&&(es(Mt),ts(Mt)),k.g=dt}else Ph(k);T.i.length>0&&cs(T)}else ee[0]!="stop"&&ee[0]!="close"||us(T,7);else T.I==3&&(ee[0]=="stop"||ee[0]=="close"?ee[0]=="stop"?us(T,7):dc(T):ee[0]!="noop"&&T.l&&T.l.qa(ee),T.A=0)}}Ki(4)}catch{}}var je=class{constructor(g,x){this.g=g,this.map=x}};function tc(g){this.l=g||10,l.PerformanceNavigationTiming?(g=l.performance.getEntriesByType("navigation"),g=g.length>0&&(g[0].nextHopProtocol=="hq"||g[0].nextHopProtocol=="h2")):g=!!(l.chrome&&l.chrome.loadTimes&&l.chrome.loadTimes()&&l.chrome.loadTimes().wasFetchedViaSpdy),this.j=g?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ec(g){return g.h?!0:g.g?g.g.size>=g.j:!1}function is(g){return g.h?1:g.g?g.g.size:0}function ss(g,x){return g.h?g.h==x:g.g?g.g.has(x):!1}function nc(g,x){g.g?g.g.add(x):g.h=x}function ic(g,x){g.h&&g.h==x?g.h=null:g.g&&g.g.has(x)&&g.g.delete(x)}tc.prototype.cancel=function(){if(this.i=sc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const g of this.g.values())g.cancel();this.g.clear()}};function sc(g){if(g.h!=null)return g.i.concat(g.h.G);if(g.g!=null&&g.g.size!==0){let x=g.i;for(const T of g.g.values())x=x.concat(T.G);return x}return v(g.i)}var Dh=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ao(g,x){if(g){g=g.split("&");for(let T=0;T<g.length;T++){const k=g[T].indexOf("=");let Y,Z=null;k>=0?(Y=g[T].substring(0,k),Z=g[T].substring(k+1)):Y=g[T],x(Y,Z?decodeURIComponent(Z.replace(/\+/g," ")):"")}}}function Gn(g){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let x;g instanceof Gn?(this.l=g.l,Ze(this,g.j),this.o=g.o,this.g=g.g,hr(this,g.u),this.h=g.h,rc(this,Oh(g.i)),this.m=g.m):g&&(x=String(g).match(Dh))?(this.l=!1,Ze(this,x[1]||"",!0),this.o=rs(x[2]||""),this.g=rs(x[3]||"",!0),hr(this,x[4]),this.h=rs(x[5]||"",!0),rc(this,x[6]||"",!0),this.m=rs(x[7]||"")):(this.l=!1,this.i=new fr(null,this.l))}Gn.prototype.toString=function(){const g=[];var x=this.j;x&&g.push(Ca(x,Co,!0),":");var T=this.g;return(T||x=="file")&&(g.push("//"),(x=this.o)&&g.push(Ca(x,Co,!0),"@"),g.push(Rs(T).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),T=this.u,T!=null&&g.push(":",String(T))),(T=this.h)&&(this.g&&T.charAt(0)!="/"&&g.push("/"),g.push(Ca(T,T.charAt(0)=="/"?ac:Rh,!0))),(T=this.i.toString())&&g.push("?",T),(T=this.m)&&g.push("#",Ca(T,Nh)),g.join("")},Gn.prototype.resolve=function(g){const x=Be(this);let T=!!g.j;T?Ze(x,g.j):T=!!g.o,T?x.o=g.o:T=!!g.g,T?x.g=g.g:T=g.u!=null;var k=g.h;if(T)hr(x,g.u);else if(T=!!g.h){if(k.charAt(0)!="/")if(this.g&&!this.h)k="/"+k;else{var Y=x.h.lastIndexOf("/");Y!=-1&&(k=x.h.slice(0,Y+1)+k)}if(Y=k,Y==".."||Y==".")k="";else if(Y.indexOf("./")!=-1||Y.indexOf("/.")!=-1){k=Y.lastIndexOf("/",0)==0,Y=Y.split("/");const Z=[];for(let dt=0;dt<Y.length;){const Mt=Y[dt++];Mt=="."?k&&dt==Y.length&&Z.push(""):Mt==".."?((Z.length>1||Z.length==1&&Z[0]!="")&&Z.pop(),k&&dt==Y.length&&Z.push("")):(Z.push(Mt),k=!0)}k=Z.join("/")}else k=Y}return T?x.h=k:T=g.i.toString()!=="",T?rc(x,Oh(g.i)):T=!!g.m,T&&(x.m=g.m),x};function Be(g){return new Gn(g)}function Ze(g,x,T){g.j=T?rs(x,!0):x,g.j&&(g.j=g.j.replace(/:$/,""))}function hr(g,x){if(x){if(x=Number(x),isNaN(x)||x<0)throw Error("Bad port number "+x);g.u=x}else g.u=null}function rc(g,x,T){x instanceof fr?(g.i=x,Do(g.i,g.l)):(T||(x=Ca(x,dr)),g.i=new fr(x,g.l))}function re(g,x,T){g.i.set(x,T)}function Aa(g){return re(g,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),g}function rs(g,x){return g?x?decodeURI(g.replace(/%25/g,"%2525")):decodeURIComponent(g):""}function Ca(g,x,T){return typeof g=="string"?(g=encodeURI(g).replace(x,On),T&&(g=g.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),g):null}function On(g){return g=g.charCodeAt(0),"%"+(g>>4&15).toString(16)+(g&15).toString(16)}var Co=/[#\/\?@]/g,Rh=/[#\?:]/g,ac=/[#\?]/g,dr=/[#\?@]/g,Nh=/#/g;function fr(g,x){this.h=this.g=null,this.i=g||null,this.j=!!x}function Mn(g){g.g||(g.g=new Map,g.h=0,g.i&&Ao(g.i,function(x,T){g.add(decodeURIComponent(x.replace(/\+/g," ")),T)}))}n=fr.prototype,n.add=function(g,x){Mn(this),this.i=null,g=gr(this,g);let T=this.g.get(g);return T||this.g.set(g,T=[]),T.push(x),this.h+=1,this};function kh(g,x){Mn(g),x=gr(g,x),g.g.has(x)&&(g.i=null,g.h-=g.g.get(x).length,g.g.delete(x))}function oc(g,x){return Mn(g),x=gr(g,x),g.g.has(x)}n.forEach=function(g,x){Mn(this),this.g.forEach(function(T,k){T.forEach(function(Y){g.call(x,Y,k,this)},this)},this)};function lc(g,x){Mn(g);let T=[];if(typeof x=="string")oc(g,x)&&(T=T.concat(g.g.get(gr(g,x))));else for(g=Array.from(g.g.values()),x=0;x<g.length;x++)T=T.concat(g[x]);return T}n.set=function(g,x){return Mn(this),this.i=null,g=gr(this,g),oc(this,g)&&(this.h-=this.g.get(g).length),this.g.set(g,[x]),this.h+=1,this},n.get=function(g,x){return g?(g=lc(this,g),g.length>0?String(g[0]):x):x};function Io(g,x,T){kh(g,x),T.length>0&&(g.i=null,g.g.set(gr(g,x),v(T)),g.h+=T.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const g=[],x=Array.from(this.g.keys());for(let k=0;k<x.length;k++){var T=x[k];const Y=Rs(T);T=lc(this,T);for(let Z=0;Z<T.length;Z++){let dt=Y;T[Z]!==""&&(dt+="="+Rs(T[Z])),g.push(dt)}}return this.i=g.join("&")};function Oh(g){const x=new fr;return x.i=g.i,g.g&&(x.g=new Map(g.g),x.h=g.h),x}function gr(g,x){return x=String(x),g.j&&(x=x.toLowerCase()),x}function Do(g,x){x&&!g.j&&(Mn(g),g.i=null,g.g.forEach(function(T,k){const Y=k.toLowerCase();k!=Y&&(kh(this,k),Io(this,Y,T))},g)),g.j=x}function Mi(g,x){const T=new Ni;if(l.Image){const k=new Image;k.onload=p(ui,T,"TestLoadImage: loaded",!0,x,k),k.onerror=p(ui,T,"TestLoadImage: error",!1,x,k),k.onabort=p(ui,T,"TestLoadImage: abort",!1,x,k),k.ontimeout=p(ui,T,"TestLoadImage: timeout",!1,x,k),l.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=g}else x(!1)}function cc(g,x){const T=new Ni,k=new AbortController,Y=setTimeout(()=>{k.abort(),ui(T,"TestPingServer: timeout",!1,x)},1e4);fetch(g,{signal:k.signal}).then(Z=>{clearTimeout(Y),Z.ok?ui(T,"TestPingServer: ok",!0,x):ui(T,"TestPingServer: server error",!1,x)}).catch(()=>{clearTimeout(Y),ui(T,"TestPingServer: error",!1,x)})}function ui(g,x,T,k,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),k(T)}catch{}}function pr(){this.g=new vh}function as(g){this.i=g.Sb||null,this.h=g.ab||!1}y(as,xh),as.prototype.g=function(){return new Ia(this.i,this.h)};function Ia(g,x){ft.call(this),this.H=g,this.o=x,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}y(Ia,ft),n=Ia.prototype,n.open=function(g,x){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=g,this.D=x,this.readyState=1,Pi(this)},n.send=function(g){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const x={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};g&&(x.body=g),(this.H||l).fetch(new Request(this.D,x)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,mr(this)),this.readyState=0},n.Pa=function(g){if(this.g&&(this.l=g,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=g.headers,this.readyState=2,Pi(this)),this.g&&(this.readyState=3,Pi(this),this.g)))if(this.responseType==="arraybuffer")g.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof l.ReadableStream<"u"&&"body"in g){if(this.j=g.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Ro(this)}else g.text().then(this.Oa.bind(this),this.ga.bind(this))};function Ro(g){g.j.read().then(g.Ma.bind(g)).catch(g.ga.bind(g))}n.Ma=function(g){if(this.g){if(this.o&&g.value)this.response.push(g.value);else if(!this.o){var x=g.value?g.value:new Uint8Array(0);(x=this.B.decode(x,{stream:!g.done}))&&(this.response=this.responseText+=x)}g.done?mr(this):Pi(this),this.readyState==3&&Ro(this)}},n.Oa=function(g){this.g&&(this.response=this.responseText=g,mr(this))},n.Na=function(g){this.g&&(this.response=g,mr(this))},n.ga=function(){this.g&&mr(this)};function mr(g){g.readyState=4,g.l=null,g.j=null,g.B=null,Pi(g)}n.setRequestHeader=function(g,x){this.A.append(g,x)},n.getResponseHeader=function(g){return this.h&&this.h.get(g.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const g=[],x=this.h.entries();for(var T=x.next();!T.done;)T=T.value,g.push(T[0]+": "+T[1]),T=x.next();return g.join(`\r
`)};function Pi(g){g.onreadystatechange&&g.onreadystatechange.call(g)}Object.defineProperty(Ia.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(g){this.m=g?"include":"same-origin"}});function hi(g){let x="";return At(g,function(T,k){x+=k,x+=":",x+=T,x+=`\r
`}),x}function Da(g,x,T){t:{for(k in T){var k=!1;break t}k=!0}k||(T=hi(T),typeof g=="string"?T!=null&&Rs(T):re(g,x,T))}function ce(g){ft.call(this),this.headers=new Map,this.L=g||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}y(ce,ft);var os=/^https?$/i,uc=["POST","PUT"];n=ce.prototype,n.Fa=function(g){this.H=g},n.ea=function(g,x,T,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+g);x=x?x.toUpperCase():"GET",this.D=g,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Zl.g(),this.g.onreadystatechange=_(f(this.Ca,this));try{this.B=!0,this.g.open(x,String(g),!0),this.B=!1}catch(Z){Ra(this,Z);return}if(g=T||"",T=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var Y in k)T.set(Y,k[Y]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const Z of k.keys())T.set(Z,k.get(Z));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(T.keys()).find(Z=>Z.toLowerCase()=="content-type"),Y=l.FormData&&g instanceof l.FormData,!(Array.prototype.indexOf.call(uc,x,void 0)>=0)||k||Y||T.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Z,dt]of T)this.g.setRequestHeader(Z,dt);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(g),this.v=!1}catch(Z){Ra(this,Z)}};function Ra(g,x){g.h=!1,g.g&&(g.j=!0,g.g.abort(),g.j=!1),g.l=x,g.o=5,hc(g),Ns(g)}function hc(g){g.A||(g.A=!0,Kt(g,"complete"),Kt(g,"error"))}n.abort=function(g){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=g||7,Kt(this,"complete"),Kt(this,"abort"),Ns(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ns(this,!0)),ce.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?Na(this):this.Xa())},n.Xa=function(){Na(this)};function Na(g){if(g.h&&typeof o<"u"){if(g.v&&zi(g)==4)setTimeout(g.Ca.bind(g),0);else if(Kt(g,"readystatechange"),zi(g)==4){g.h=!1;try{const Z=g.ca();t:switch(Z){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var x=!0;break t;default:x=!1}var T;if(!(T=x)){var k;if(k=Z===0){let dt=String(g.D).match(Dh)[1]||null;!dt&&l.self&&l.self.location&&(dt=l.self.location.protocol.slice(0,-1)),k=!os.test(dt?dt.toLowerCase():"")}T=k}if(T)Kt(g,"complete"),Kt(g,"success");else{g.o=6;try{var Y=zi(g)>2?g.g.statusText:""}catch{Y=""}g.l=Y+" ["+g.ca()+"]",hc(g)}}finally{Ns(g)}}}}function Ns(g,x){if(g.g){g.m&&(clearTimeout(g.m),g.m=null);const T=g.g;g.g=null,x||Kt(g,"ready");try{T.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function zi(g){return g.g?g.g.readyState:0}n.ca=function(){try{return zi(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(g){if(this.g){var x=this.g.responseText;return g&&x.indexOf(g)==0&&(x=x.substring(g.length)),Xg(x)}};function cn(g){try{if(!g.g)return null;if("response"in g.g)return g.g.response;switch(g.F){case"":case"text":return g.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in g.g)return g.g.mozResponseArrayBuffer}return null}catch{return null}}function ks(g){const x={};g=(g.g&&zi(g)>=2&&g.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<g.length;k++){if(P(g[k]))continue;var T=Ah(g[k]);const Y=T[0];if(T=T[1],typeof T!="string")continue;T=T.trim();const Z=x[Y]||[];x[Y]=Z,Z.push(T)}Rt(x,function(k){return k.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ls(g,x,T){return T&&T.internalChannelParams&&T.internalChannelParams[g]||x}function yr(g){this.za=0,this.i=[],this.j=new Ni,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ls("failFast",!1,g),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ls("baseRetryDelayMs",5e3,g),this.Za=ls("retryDelaySeedMs",1e4,g),this.Ta=ls("forwardChannelMaxRetries",2,g),this.va=ls("forwardChannelRequestTimeoutMs",2e4,g),this.ma=g&&g.xmlHttpFactory||void 0,this.Ua=g&&g.Rb||void 0,this.Aa=g&&g.useFetchStreams||!1,this.O=void 0,this.L=g&&g.supportsCrossDomainXhr||!1,this.M="",this.h=new tc(g&&g.concurrentRequestLimit),this.Ba=new pr,this.S=g&&g.fastHandshake||!1,this.R=g&&g.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=g&&g.Pb||!1,g&&g.ua&&this.j.ua(),g&&g.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&g&&g.detectBufferingProxy||!1,this.ia=void 0,g&&g.longPollingTimeout&&g.longPollingTimeout>0&&(this.ia=g.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=yr.prototype,n.ka=8,n.I=1,n.connect=function(g,x,T,k){Le(0),this.W=g,this.H=x||{},T&&k!==void 0&&(this.H.OSID=T,this.H.OAID=k),this.F=this.X,this.J=Bh(this,null,this.W),cs(this)};function dc(g){if(No(g),g.I==3){var x=g.V++,T=Be(g.J);if(re(T,"SID",g.M),re(T,"RID",x),re(T,"TYPE","terminate"),ka(g,T),x=new ki(g,g.j,x),x.M=2,x.A=Aa(Be(T)),T=!1,l.navigator&&l.navigator.sendBeacon)try{T=l.navigator.sendBeacon(x.A.toString(),"")}catch{}!T&&l.Image&&(new Image().src=x.A,T=!0),T||(x.g=Uh(x.j,null),x.g.ea(x.A)),x.F=Date.now(),ts(x)}jh(g)}function br(g){g.g&&(gc(g),g.g.cancel(),g.g=null)}function No(g){br(g),g.v&&(l.clearTimeout(g.v),g.v=null),Oo(g),g.h.cancel(),g.m&&(typeof g.m=="number"&&l.clearTimeout(g.m),g.m=null)}function cs(g){if(!ec(g.h)&&!g.m){g.m=!0;var x=g.Ea;F||I(),G||(F(),G=!0),R.add(x,g),g.D=0}}function ko(g,x){return is(g.h)>=g.h.j-(g.m?1:0)?!1:g.m?(g.i=x.G.concat(g.i),!0):g.I==1||g.I==2||g.D>=(g.Sa?0:g.Ta)?!1:(g.m=Xi(f(g.Ea,g,x),Vh(g,g.D)),g.D++,!0)}n.Ea=function(g){if(this.m)if(this.m=null,this.I==1){if(!g){this.V=Math.floor(Math.random()*1e5),g=this.V++;const Y=new ki(this,this.j,g);let Z=this.o;if(this.U&&(Z?(Z=B(Z),ct(Z,this.U)):Z=this.U),this.u!==null||this.R||(Y.J=Z,Z=null),this.S)t:{for(var x=0,T=0;T<this.i.length;T++){e:{var k=this.i[T];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break e}k=void 0}if(k===void 0)break;if(x+=k,x>4096){x=T;break t}if(x===4096||T===this.i.length-1){x=T+1;break t}}x=1e3}else x=1e3;x=Mh(this,Y,x),T=Be(this.J),re(T,"RID",g),re(T,"CVER",22),this.G&&re(T,"X-HTTP-Session-Id",this.G),ka(this,T),Z&&(this.R?x="headers="+Rs(hi(Z))+"&"+x:this.u&&Da(T,this.u,Z)),nc(this.h,Y),this.Ra&&re(T,"TYPE","init"),this.S?(re(T,"$req",x),re(T,"SID","null"),Y.U=!0,Zi(Y,T,null)):Zi(Y,T,x),this.I=2}}else this.I==3&&(g?fc(this,g):this.i.length==0||ec(this.h)||fc(this))};function fc(g,x){var T;x?T=x.l:T=g.V++;const k=Be(g.J);re(k,"SID",g.M),re(k,"RID",T),re(k,"AID",g.K),ka(g,k),g.u&&g.o&&Da(k,g.u,g.o),T=new ki(g,g.j,T,g.D+1),g.u===null&&(T.J=g.o),x&&(g.i=x.G.concat(g.i)),x=Mh(g,T,1e3),T.H=Math.round(g.va*.5)+Math.round(g.va*.5*Math.random()),nc(g.h,T),Zi(T,k,x)}function ka(g,x){g.H&&At(g.H,function(T,k){re(x,k,T)}),g.l&&At({},function(T,k){re(x,k,T)})}function Mh(g,x,T){T=Math.min(g.i.length,T);const k=g.l?f(g.l.Ka,g.l,g):null;t:{var Y=g.i;let Mt=-1;for(;;){const Re=["count="+T];Mt==-1?T>0?(Mt=Y[0].g,Re.push("ofs="+Mt)):Mt=0:Re.push("ofs="+Mt);let ee=!0;for(let xe=0;xe<T;xe++){var Z=Y[xe].g;const di=Y[xe].map;if(Z-=Mt,Z<0)Mt=Math.max(0,Y[xe].g-100),ee=!1;else try{Z="req"+Z+"_"||"";try{var dt=di instanceof Map?di:Object.entries(di);for(const[hs,Li]of dt){let Vi=Li;u(Li)&&(Vi=ur(Li)),Re.push(Z+hs+"="+encodeURIComponent(Vi))}}catch(hs){throw Re.push(Z+"type="+encodeURIComponent("_badmap")),hs}}catch{k&&k(di)}}if(ee){dt=Re.join("&");break t}}dt=void 0}return g=g.i.splice(0,T),x.G=g,dt}function Ph(g){if(!g.g&&!g.v){g.Y=1;var x=g.Da;F||I(),G||(F(),G=!0),R.add(x,g),g.A=0}}function Oa(g){return g.g||g.v||g.A>=3?!1:(g.Y++,g.v=Xi(f(g.Da,g),Vh(g,g.A)),g.A++,!0)}n.Da=function(){if(this.v=null,zh(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var g=4*this.T;this.j.info("BP detection timer enabled: "+g),this.B=Xi(f(this.Wa,this),g)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Le(10),br(this),zh(this))};function gc(g){g.B!=null&&(l.clearTimeout(g.B),g.B=null)}function zh(g){g.g=new ki(g,g.j,"rpc",g.Y),g.u===null&&(g.g.J=g.o),g.g.P=0;var x=Be(g.na);re(x,"RID","rpc"),re(x,"SID",g.M),re(x,"AID",g.K),re(x,"CI",g.F?"0":"1"),!g.F&&g.ia&&re(x,"TO",g.ia),re(x,"TYPE","xmlhttp"),ka(g,x),g.u&&g.o&&Da(x,g.u,g.o),g.O&&(g.g.H=g.O);var T=g.g;g=g.ba,T.M=1,T.A=Aa(Be(x)),T.u=null,T.R=!0,So(T,g)}n.Va=function(){this.C!=null&&(this.C=null,br(this),Oa(this),Le(19))};function Oo(g){g.C!=null&&(l.clearTimeout(g.C),g.C=null)}function Lh(g,x){var T=null;if(g.g==x){Oo(g),gc(g),g.g=null;var k=2}else if(ss(g.h,x))T=x.G,ic(g.h,x),k=1;else return;if(g.I!=0){if(x.o)if(k==1){T=x.u?x.u.length:0,x=Date.now()-x.F;var Y=g.D;k=To(),Kt(k,new Qi(k,T)),cs(g)}else Ph(g);else if(Y=x.m,Y==3||Y==0&&x.X>0||!(k==1&&ko(g,x)||k==2&&Oa(g)))switch(T&&T.length>0&&(x=g.h,x.i=x.i.concat(T)),Y){case 1:us(g,5);break;case 4:us(g,10);break;case 3:us(g,6);break;default:us(g,2)}}}function Vh(g,x){let T=g.Qa+Math.floor(Math.random()*g.Za);return g.isActive()||(T*=2),T*x}function us(g,x){if(g.j.info("Error code "+x),x==2){var T=f(g.bb,g),k=g.Ua;const Y=!k;k=new Gn(k||"//www.google.com/images/cleardot.gif"),l.location&&l.location.protocol=="http"||Ze(k,"https"),Aa(k),Y?Mi(k.toString(),T):cc(k.toString(),T)}else Le(2);g.I=0,g.l&&g.l.pa(x),jh(g),No(g)}n.bb=function(g){g?(this.j.info("Successfully pinged google.com"),Le(2)):(this.j.info("Failed to ping google.com"),Le(1))};function jh(g){if(g.I=0,g.ja=[],g.l){const x=sc(g.h);(x.length!=0||g.i.length!=0)&&(S(g.ja,x),S(g.ja,g.i),g.h.i.length=0,v(g.i),g.i.length=0),g.l.oa()}}function Bh(g,x,T){var k=T instanceof Gn?Be(T):new Gn(T);if(k.g!="")x&&(k.g=x+"."+k.g),hr(k,k.u);else{var Y=l.location;k=Y.protocol,x=x?x+"."+Y.hostname:Y.hostname,Y=+Y.port;const Z=new Gn(null);k&&Ze(Z,k),x&&(Z.g=x),Y&&hr(Z,Y),T&&(Z.h=T),k=Z}return T=g.G,x=g.wa,T&&x&&re(k,T,x),re(k,"VER",g.ka),ka(g,k),k}function Uh(g,x,T){if(x&&!g.L)throw Error("Can't create secondary domain capable XhrIo object.");return x=g.Aa&&!g.ma?new ce(new as({ab:T})):new ce(g.ma),x.Fa(g.L),x}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Fh(){}n=Fh.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function _r(){}_r.prototype.g=function(g,x){return new Cn(g,x)};function Cn(g,x){ft.call(this),this.g=new yr(x),this.l=g,this.h=x&&x.messageUrlParams||null,g=x&&x.messageHeaders||null,x&&x.clientProtocolHeaderRequired&&(g?g["X-Client-Protocol"]="webchannel":g={"X-Client-Protocol":"webchannel"}),this.g.o=g,g=x&&x.initMessageHeaders||null,x&&x.messageContentType&&(g?g["X-WebChannel-Content-Type"]=x.messageContentType:g={"X-WebChannel-Content-Type":x.messageContentType}),x&&x.sa&&(g?g["X-WebChannel-Client-Profile"]=x.sa:g={"X-WebChannel-Client-Profile":x.sa}),this.g.U=g,(g=x&&x.Qb)&&!P(g)&&(this.g.u=g),this.A=x&&x.supportsCrossDomainXhr||!1,this.v=x&&x.sendRawJson||!1,(x=x&&x.httpSessionIdParam)&&!P(x)&&(this.g.G=x,g=this.h,g!==null&&x in g&&(g=this.h,x in g&&delete g[x])),this.j=new Os(this)}y(Cn,ft),Cn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Cn.prototype.close=function(){dc(this.g)},Cn.prototype.o=function(g){var x=this.g;if(typeof g=="string"){var T={};T.__data__=g,g=T}else this.v&&(T={},T.__data__=ur(g),g=T);x.i.push(new je(x.Ya++,g)),x.I==3&&cs(x)},Cn.prototype.N=function(){this.g.l=null,delete this.j,dc(this.g),delete this.g,Cn.Z.N.call(this)};function Hh(g){ln.call(this),g.__headers__&&(this.headers=g.__headers__,this.statusCode=g.__status__,delete g.__headers__,delete g.__status__);var x=g.__sm__;if(x){t:{for(const T in x){g=T;break t}g=void 0}(this.i=g)&&(g=this.i,x=x!==null&&g in x?x[g]:void 0),this.data=x}else this.data=g}y(Hh,ln);function qh(){li.call(this),this.status=1}y(qh,li);function Os(g){this.g=g}y(Os,Fh),Os.prototype.ra=function(){Kt(this.g,"a")},Os.prototype.qa=function(g){Kt(this.g,new Hh(g))},Os.prototype.pa=function(g){Kt(this.g,new qh)},Os.prototype.oa=function(){Kt(this.g,"b")},_r.prototype.createWebChannel=_r.prototype.g,Cn.prototype.send=Cn.prototype.o,Cn.prototype.open=Cn.prototype.m,Cn.prototype.close=Cn.prototype.close,RA=function(){return new _r},DA=function(){return To()},IA=De,$y={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Sa.NO_ERROR=0,Sa.TIMEOUT=8,Sa.HTTP_ERROR=6,Ef=Sa,Jl.COMPLETE="complete",CA=Jl,Eh.EventType=Ri,Ri.OPEN="a",Ri.CLOSE="b",Ri.ERROR="c",Ri.MESSAGE="d",ft.prototype.listen=ft.prototype.J,cu=Eh,ce.prototype.listenOnce=ce.prototype.K,ce.prototype.getLastError=ce.prototype.Ha,ce.prototype.getLastErrorCode=ce.prototype.ya,ce.prototype.getStatus=ce.prototype.ca,ce.prototype.getResponseJson=ce.prototype.La,ce.prototype.getResponseText=ce.prototype.la,ce.prototype.send=ce.prototype.ea,ce.prototype.setWithCredentials=ce.prototype.Fa,AA=ce}).apply(typeof Kd<"u"?Kd:typeof self<"u"?self:typeof window<"u"?window:{});const ST="@firebase/firestore",wT="4.9.2";let xn=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};xn.UNAUTHENTICATED=new xn(null),xn.GOOGLE_CREDENTIALS=new xn("google-credentials-uid"),xn.FIRST_PARTY=new xn("first-party-uid"),xn.MOCK_USER=new xn("mock-user");let Bl="12.3.0";const go=new O0("@firebase/firestore");function hl(){return go.logLevel}function mt(n,...t){if(go.logLevel<=qt.DEBUG){const e=t.map(q0);go.debug(`Firestore (${Bl}): ${n}`,...e)}}function sr(n,...t){if(go.logLevel<=qt.ERROR){const e=t.map(q0);go.error(`Firestore (${Bl}): ${n}`,...e)}}function wl(n,...t){if(go.logLevel<=qt.WARN){const e=t.map(q0);go.warn(`Firestore (${Bl}): ${n}`,...e)}}function q0(n){if(typeof n=="string")return n;try{return(function(e){return JSON.stringify(e)})(n)}catch{return n}}function It(n,t,e){let i="Unexpected state";typeof t=="string"?i=t:e=t,NA(n,i,e)}function NA(n,t,e){let i=`FIRESTORE (${Bl}) INTERNAL ASSERTION FAILED: ${t} (ID: ${n.toString(16)})`;if(e!==void 0)try{i+=" CONTEXT: "+JSON.stringify(e)}catch{i+=" CONTEXT: "+e}throw sr(i),new Error(i)}function se(n,t,e,i){let r="Unexpected state";typeof e=="string"?r=e:i=e,n||NA(t,r,i)}function Ot(n,t){return n}const st={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class gt extends or{constructor(t,e){super(t,e),this.code=t,this.message=e,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class ea{constructor(){this.promise=new Promise(((t,e)=>{this.resolve=t,this.reject=e}))}}class kA{constructor(t,e){this.user=e,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class dP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,e){t.enqueueRetryable((()=>e(xn.UNAUTHENTICATED)))}shutdown(){}}class fP{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,e){this.changeListener=e,t.enqueueRetryable((()=>e(this.token.user)))}shutdown(){this.changeListener=null}}class gP{constructor(t){this.t=t,this.currentUser=xn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,e){se(this.o===void 0,42304);let i=this.i;const r=d=>this.i!==i?(i=this.i,e(d)):Promise.resolve();let o=new ea;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new ea,t.enqueueRetryable((()=>r(this.currentUser)))};const l=()=>{const d=o;t.enqueueRetryable((async()=>{await d.promise,await r(this.currentUser)}))},u=d=>{mt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=d,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit((d=>u(d))),setTimeout((()=>{if(!this.auth){const d=this.t.getImmediate({optional:!0});d?u(d):(mt("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new ea)}}),0),l()}getToken(){const t=this.i,e=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(e).then((i=>this.i!==t?(mt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(se(typeof i.accessToken=="string",31837,{l:i}),new kA(i.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return se(t===null||typeof t=="string",2055,{h:t}),new xn(t)}}class pP{constructor(t,e,i){this.P=t,this.T=e,this.I=i,this.type="FirstParty",this.user=xn.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const t=this.R();return t&&this.A.set("Authorization",t),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class mP{constructor(t,e,i){this.P=t,this.T=e,this.I=i}getToken(){return Promise.resolve(new pP(this.P,this.T,this.I))}start(t,e){t.enqueueRetryable((()=>e(xn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class AT{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class yP{constructor(t,e){this.V=e,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Zn(t)&&t.settings.appCheckToken&&(this.p=t.settings.appCheckToken)}start(t,e){se(this.o===void 0,3512);const i=o=>{o.error!=null&&mt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const l=o.token!==this.m;return this.m=o.token,mt("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?e(o.token):Promise.resolve()};this.o=o=>{t.enqueueRetryable((()=>i(o)))};const r=o=>{mt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((o=>r(o))),setTimeout((()=>{if(!this.appCheck){const o=this.V.getImmediate({optional:!0});o?r(o):mt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new AT(this.p));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((e=>e?(se(typeof e.token=="string",44558,{tokenResult:e}),this.m=e.token,new AT(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function bP(n){const t=typeof self<"u"&&(self.crypto||self.msCrypto),e=new Uint8Array(n);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(e);else for(let i=0;i<n;i++)e[i]=Math.floor(256*Math.random());return e}class G0{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const r=bP(40);for(let o=0;o<r.length;++o)i.length<20&&r[o]<e&&(i+=t.charAt(r[o]%62))}return i}}function Gt(n,t){return n<t?-1:n>t?1:0}function Wy(n,t){const e=Math.min(n.length,t.length);for(let i=0;i<e;i++){const r=n.charAt(i),o=t.charAt(i);if(r!==o)return ly(r)===ly(o)?Gt(r,o):ly(r)?1:-1}return Gt(n.length,t.length)}const _P=55296,vP=57343;function ly(n){const t=n.charCodeAt(0);return t>=_P&&t<=vP}function Al(n,t,e){return n.length===t.length&&n.every(((i,r)=>e(i,t[r])))}const CT="__name__";class _s{constructor(t,e,i){e===void 0?e=0:e>t.length&&It(637,{offset:e,range:t.length}),i===void 0?i=t.length-e:i>t.length-e&&It(1746,{length:i,range:t.length-e}),this.segments=t,this.offset=e,this.len=i}get length(){return this.len}isEqual(t){return _s.comparator(this,t)===0}child(t){const e=this.segments.slice(this.offset,this.limit());return t instanceof _s?t.forEach((i=>{e.push(i)})):e.push(t),this.construct(e)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0}forEach(t){for(let e=this.offset,i=this.limit();e<i;e++)t(this.segments[e])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,e){const i=Math.min(t.length,e.length);for(let r=0;r<i;r++){const o=_s.compareSegments(t.get(r),e.get(r));if(o!==0)return o}return Gt(t.length,e.length)}static compareSegments(t,e){const i=_s.isNumericId(t),r=_s.isNumericId(e);return i&&!r?-1:!i&&r?1:i&&r?_s.extractNumericId(t).compare(_s.extractNumericId(e)):Wy(t,e)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return ta.fromString(t.substring(4,t.length-2))}}class pe extends _s{construct(t,e,i){return new pe(t,e,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const e=[];for(const i of t){if(i.indexOf("//")>=0)throw new gt(st.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);e.push(...i.split("/").filter((r=>r.length>0)))}return new pe(e)}static emptyPath(){return new pe([])}}const xP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pn extends _s{construct(t,e,i){return new pn(t,e,i)}static isValidIdentifier(t){return xP.test(t)}canonicalString(){return this.toArray().map((t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pn.isValidIdentifier(t)||(t="`"+t+"`"),t))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===CT}static keyField(){return new pn([CT])}static fromServerFormat(t){const e=[];let i="",r=0;const o=()=>{if(i.length===0)throw new gt(st.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);e.push(i),i=""};let l=!1;for(;r<t.length;){const u=t[r];if(u==="\\"){if(r+1===t.length)throw new gt(st.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const d=t[r+1];if(d!=="\\"&&d!=="."&&d!=="`")throw new gt(st.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);i+=d,r+=2}else u==="`"?(l=!l,r++):u!=="."||l?(i+=u,r++):(o(),r++)}if(o(),l)throw new gt(st.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new pn(e)}static emptyPath(){return new pn([])}}class St{constructor(t){this.path=t}static fromPath(t){return new St(pe.fromString(t))}static fromName(t){return new St(pe.fromString(t).popFirst(5))}static empty(){return new St(pe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&pe.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,e){return pe.comparator(t.path,e.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new St(new pe(t.slice()))}}function OA(n,t,e){if(!e)throw new gt(st.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${t}.`)}function EP(n,t,e,i){if(t===!0&&i===!0)throw new gt(st.INVALID_ARGUMENT,`${n} and ${e} cannot be used together.`)}function IT(n){if(!St.isDocumentKey(n))throw new gt(st.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function DT(n){if(St.isDocumentKey(n))throw new gt(st.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function MA(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function bg(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const t=(function(i){return i.constructor?i.constructor.name:null})(n);return t?`a custom ${t} object`:"an object"}}return typeof n=="function"?"a function":It(12329,{type:typeof n})}function ni(n,t){if("_delegate"in n&&(n=n._delegate),!(n instanceof t)){if(t.name===n.constructor.name)throw new gt(st.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const e=bg(n);throw new gt(st.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${e}`)}}return n}function Ye(n,t){const e={typeString:n};return t&&(e.value=t),e}function oh(n,t){if(!MA(n))throw new gt(st.INVALID_ARGUMENT,"JSON must be an object");let e;for(const i in t)if(t[i]){const r=t[i].typeString,o="value"in t[i]?{value:t[i].value}:void 0;if(!(i in n)){e=`JSON missing required field: '${i}'`;break}const l=n[i];if(r&&typeof l!==r){e=`JSON field '${i}' must be a ${r}.`;break}if(o!==void 0&&l!==o.value){e=`Expected '${i}' field to equal '${o.value}'`;break}}if(e)throw new gt(st.INVALID_ARGUMENT,e);return!0}const RT=-62135596800,NT=1e6;class ve{static now(){return ve.fromMillis(Date.now())}static fromDate(t){return ve.fromMillis(t.getTime())}static fromMillis(t){const e=Math.floor(t/1e3),i=Math.floor((t-1e3*e)*NT);return new ve(e,i)}constructor(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new gt(st.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new gt(st.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<RT)throw new gt(st.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new gt(st.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/NT}_compareTo(t){return this.seconds===t.seconds?Gt(this.nanoseconds,t.nanoseconds):Gt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:ve._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(t){if(oh(t,ve._jsonSchema))return new ve(t.seconds,t.nanoseconds)}valueOf(){const t=this.seconds-RT;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}ve._jsonSchemaVersion="firestore/timestamp/1.0",ve._jsonSchema={type:Ye("string",ve._jsonSchemaVersion),seconds:Ye("number"),nanoseconds:Ye("number")};class Nt{static fromTimestamp(t){return new Nt(t)}static min(){return new Nt(new ve(0,0))}static max(){return new Nt(new ve(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const ku=-1;function TP(n,t){const e=n.toTimestamp().seconds,i=n.toTimestamp().nanoseconds+1,r=Nt.fromTimestamp(i===1e9?new ve(e+1,0):new ve(e,i));return new aa(r,St.empty(),t)}function SP(n){return new aa(n.readTime,n.key,ku)}class aa{constructor(t,e,i){this.readTime=t,this.documentKey=e,this.largestBatchId=i}static min(){return new aa(Nt.min(),St.empty(),ku)}static max(){return new aa(Nt.max(),St.empty(),ku)}}function wP(n,t){let e=n.readTime.compareTo(t.readTime);return e!==0?e:(e=St.comparator(n.documentKey,t.documentKey),e!==0?e:Gt(n.largestBatchId,t.largestBatchId))}const AP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class CP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((t=>t()))}}async function Ul(n){if(n.code!==st.FAILED_PRECONDITION||n.message!==AP)throw n;mt("LocalStore","Unexpectedly lost primary lease")}class at{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(t){return this.next(void 0,t)}next(t,e){return this.callbackAttached&&It(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(e,this.error):this.wrapSuccess(t,this.result):new at(((i,r)=>{this.nextCallback=o=>{this.wrapSuccess(t,o).next(i,r)},this.catchCallback=o=>{this.wrapFailure(e,o).next(i,r)}}))}toPromise(){return new Promise(((t,e)=>{this.next(t,e)}))}wrapUserFunction(t){try{const e=t();return e instanceof at?e:at.resolve(e)}catch(e){return at.reject(e)}}wrapSuccess(t,e){return t?this.wrapUserFunction((()=>t(e))):at.resolve(e)}wrapFailure(t,e){return t?this.wrapUserFunction((()=>t(e))):at.reject(e)}static resolve(t){return new at(((e,i)=>{e(t)}))}static reject(t){return new at(((e,i)=>{i(t)}))}static waitFor(t){return new at(((e,i)=>{let r=0,o=0,l=!1;t.forEach((u=>{++r,u.next((()=>{++o,l&&o===r&&e()}),(d=>i(d)))})),l=!0,o===r&&e()}))}static or(t){let e=at.resolve(!1);for(const i of t)e=e.next((r=>r?at.resolve(r):i()));return e}static forEach(t,e){const i=[];return t.forEach(((r,o)=>{i.push(e.call(this,r,o))})),this.waitFor(i)}static mapArray(t,e){return new at(((i,r)=>{const o=t.length,l=new Array(o);let u=0;for(let d=0;d<o;d++){const f=d;e(t[f]).next((p=>{l[f]=p,++u,u===o&&i(l)}),(p=>r(p)))}}))}static doWhile(t,e){return new at(((i,r)=>{const o=()=>{t()===!0?e().next((()=>{o()}),r):i()};o()}))}}function IP(n){const t=n.match(/Android ([\d.]+)/i),e=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(e)}function Fl(n){return n.name==="IndexedDbTransactionError"}class _g{constructor(t,e){this.previousValue=t,e&&(e.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>e.writeSequenceNumber(i))}ae(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ue&&this.ue(t),t}}_g.ce=-1;const $0=-1;function vg(n){return n==null}function jf(n){return n===0&&1/n==-1/0}function DP(n){return typeof n=="number"&&Number.isInteger(n)&&!jf(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}const PA="";function RP(n){let t="";for(let e=0;e<n.length;e++)t.length>0&&(t=kT(t)),t=NP(n.get(e),t);return kT(t)}function NP(n,t){let e=t;const i=n.length;for(let r=0;r<i;r++){const o=n.charAt(r);switch(o){case"\0":e+="";break;case PA:e+="";break;default:e+=o}}return e}function kT(n){return n+PA+""}function OT(n){let t=0;for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t++;return t}function ma(n,t){for(const e in n)Object.prototype.hasOwnProperty.call(n,e)&&t(e,n[e])}function zA(n){for(const t in n)if(Object.prototype.hasOwnProperty.call(n,t))return!1;return!0}class Te{constructor(t,e){this.comparator=t,this.root=e||gn.EMPTY}insert(t,e){return new Te(this.comparator,this.root.insert(t,e,this.comparator).copy(null,null,gn.BLACK,null,null))}remove(t){return new Te(this.comparator,this.root.remove(t,this.comparator).copy(null,null,gn.BLACK,null,null))}get(t){let e=this.root;for(;!e.isEmpty();){const i=this.comparator(t,e.key);if(i===0)return e.value;i<0?e=e.left:i>0&&(e=e.right)}return null}indexOf(t){let e=0,i=this.root;for(;!i.isEmpty();){const r=this.comparator(t,i.key);if(r===0)return e+i.left.size;r<0?i=i.left:(e+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal(((e,i)=>(t(e,i),!1)))}toString(){const t=[];return this.inorderTraversal(((e,i)=>(t.push(`${e}:${i}`),!1))),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Qd(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Qd(this.root,t,this.comparator,!1)}getReverseIterator(){return new Qd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Qd(this.root,t,this.comparator,!0)}}class Qd{constructor(t,e,i,r){this.isReverse=r,this.nodeStack=[];let o=1;for(;!t.isEmpty();)if(o=e?i(t.key,e):1,e&&r&&(o*=-1),o<0)t=this.isReverse?t.left:t.right;else{if(o===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class gn{constructor(t,e,i,r,o){this.key=t,this.value=e,this.color=i??gn.RED,this.left=r??gn.EMPTY,this.right=o??gn.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,e,i,r,o){return new gn(t??this.key,e??this.value,i??this.color,r??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,e,i){let r=this;const o=i(t,r.key);return r=o<0?r.copy(null,null,null,r.left.insert(t,e,i),null):o===0?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,i)),r.fixUp()}removeMin(){if(this.left.isEmpty())return gn.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,e){let i,r=this;if(e(t,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(t,e),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),e(t,r.key)===0){if(r.right.isEmpty())return gn.EMPTY;i=r.right.min(),r=r.copy(i.key,i.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(t,e))}return r.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,gn.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,gn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw It(43730,{key:this.key,value:this.value});if(this.right.isRed())throw It(14113,{key:this.key,value:this.value});const t=this.left.check();if(t!==this.right.check())throw It(27949);return t+(this.isRed()?0:1)}}gn.EMPTY=null,gn.RED=!0,gn.BLACK=!1;gn.EMPTY=new class{constructor(){this.size=0}get key(){throw It(57766)}get value(){throw It(16141)}get color(){throw It(16727)}get left(){throw It(29726)}get right(){throw It(36894)}copy(t,e,i,r,o){return this}insert(t,e,i){return new gn(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Xe{constructor(t){this.comparator=t,this.data=new Te(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal(((e,i)=>(t(e),!1)))}forEachInRange(t,e){const i=this.data.getIteratorFrom(t[0]);for(;i.hasNext();){const r=i.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}}forEachWhile(t,e){let i;for(i=e!==void 0?this.data.getIteratorFrom(e):this.data.getIterator();i.hasNext();)if(!t(i.getNext().key))return}firstAfterOrEqual(t){const e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null}getIterator(){return new MT(this.data.getIterator())}getIteratorFrom(t){return new MT(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let e=this;return e.size<t.size&&(e=t,t=this),t.forEach((i=>{e=e.add(i)})),e}isEqual(t){if(!(t instanceof Xe)||this.size!==t.size)return!1;const e=this.data.getIterator(),i=t.data.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(this.comparator(r,o)!==0)return!1}return!0}toArray(){const t=[];return this.forEach((e=>{t.push(e)})),t}toString(){const t=[];return this.forEach((e=>t.push(e))),"SortedSet("+t.toString()+")"}copy(t){const e=new Xe(this.comparator);return e.data=t,e}}class MT{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class ti{constructor(t){this.fields=t,t.sort(pn.comparator)}static empty(){return new ti([])}unionWith(t){let e=new Xe(pn.comparator);for(const i of this.fields)e=e.add(i);for(const i of t)e=e.add(i);return new ti(e.toArray())}covers(t){for(const e of this.fields)if(e.isPrefixOf(t))return!0;return!1}isEqual(t){return Al(this.fields,t.fields,((e,i)=>e.isEqual(i)))}}class LA extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class yn{constructor(t){this.binaryString=t}static fromBase64String(t){const e=(function(r){try{return atob(r)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new LA("Invalid base64 string: "+o):o}})(t);return new yn(e)}static fromUint8Array(t){const e=(function(r){let o="";for(let l=0;l<r.length;++l)o+=String.fromCharCode(r[l]);return o})(t);return new yn(e)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(e){return btoa(e)})(this.binaryString)}toUint8Array(){return(function(e){const i=new Uint8Array(e.length);for(let r=0;r<e.length;r++)i[r]=e.charCodeAt(r);return i})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Gt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}yn.EMPTY_BYTE_STRING=new yn("");const kP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function oa(n){if(se(!!n,39018),typeof n=="string"){let t=0;const e=kP.exec(n);if(se(!!e,46558,{timestamp:n}),e[1]){let r=e[1];r=(r+"000000000").substr(0,9),t=Number(r)}const i=new Date(n);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Oe(n.seconds),nanos:Oe(n.nanos)}}function Oe(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function la(n){return typeof n=="string"?yn.fromBase64String(n):yn.fromUint8Array(n)}const VA="server_timestamp",jA="__type__",BA="__previous_value__",UA="__local_write_time__";function W0(n){return(n?.mapValue?.fields||{})[jA]?.stringValue===VA}function xg(n){const t=n.mapValue.fields[BA];return W0(t)?xg(t):t}function Ou(n){const t=oa(n.mapValue.fields[UA].timestampValue);return new ve(t.seconds,t.nanos)}class OP{constructor(t,e,i,r,o,l,u,d,f,p){this.databaseId=t,this.appId=e,this.persistenceKey=i,this.host=r,this.ssl=o,this.forceLongPolling=l,this.autoDetectLongPolling=u,this.longPollingOptions=d,this.useFetchStreams=f,this.isUsingEmulator=p}}const Bf="(default)";class Mu{constructor(t,e){this.projectId=t,this.database=e||Bf}static empty(){return new Mu("","")}get isDefaultDatabase(){return this.database===Bf}isEqual(t){return t instanceof Mu&&t.projectId===this.projectId&&t.database===this.database}}const FA="__type__",MP="__max__",Xd={mapValue:{}},HA="__vector__",Uf="value";function ca(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?W0(n)?4:zP(n)?9007199254740991:PP(n)?10:11:It(28295,{value:n})}function Is(n,t){if(n===t)return!0;const e=ca(n);if(e!==ca(t))return!1;switch(e){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===t.booleanValue;case 4:return Ou(n).isEqual(Ou(t));case 3:return(function(r,o){if(typeof r.timestampValue=="string"&&typeof o.timestampValue=="string"&&r.timestampValue.length===o.timestampValue.length)return r.timestampValue===o.timestampValue;const l=oa(r.timestampValue),u=oa(o.timestampValue);return l.seconds===u.seconds&&l.nanos===u.nanos})(n,t);case 5:return n.stringValue===t.stringValue;case 6:return(function(r,o){return la(r.bytesValue).isEqual(la(o.bytesValue))})(n,t);case 7:return n.referenceValue===t.referenceValue;case 8:return(function(r,o){return Oe(r.geoPointValue.latitude)===Oe(o.geoPointValue.latitude)&&Oe(r.geoPointValue.longitude)===Oe(o.geoPointValue.longitude)})(n,t);case 2:return(function(r,o){if("integerValue"in r&&"integerValue"in o)return Oe(r.integerValue)===Oe(o.integerValue);if("doubleValue"in r&&"doubleValue"in o){const l=Oe(r.doubleValue),u=Oe(o.doubleValue);return l===u?jf(l)===jf(u):isNaN(l)&&isNaN(u)}return!1})(n,t);case 9:return Al(n.arrayValue.values||[],t.arrayValue.values||[],Is);case 10:case 11:return(function(r,o){const l=r.mapValue.fields||{},u=o.mapValue.fields||{};if(OT(l)!==OT(u))return!1;for(const d in l)if(l.hasOwnProperty(d)&&(u[d]===void 0||!Is(l[d],u[d])))return!1;return!0})(n,t);default:return It(52216,{left:n})}}function Pu(n,t){return(n.values||[]).find((e=>Is(e,t)))!==void 0}function Cl(n,t){if(n===t)return 0;const e=ca(n),i=ca(t);if(e!==i)return Gt(e,i);switch(e){case 0:case 9007199254740991:return 0;case 1:return Gt(n.booleanValue,t.booleanValue);case 2:return(function(o,l){const u=Oe(o.integerValue||o.doubleValue),d=Oe(l.integerValue||l.doubleValue);return u<d?-1:u>d?1:u===d?0:isNaN(u)?isNaN(d)?0:-1:1})(n,t);case 3:return PT(n.timestampValue,t.timestampValue);case 4:return PT(Ou(n),Ou(t));case 5:return Wy(n.stringValue,t.stringValue);case 6:return(function(o,l){const u=la(o),d=la(l);return u.compareTo(d)})(n.bytesValue,t.bytesValue);case 7:return(function(o,l){const u=o.split("/"),d=l.split("/");for(let f=0;f<u.length&&f<d.length;f++){const p=Gt(u[f],d[f]);if(p!==0)return p}return Gt(u.length,d.length)})(n.referenceValue,t.referenceValue);case 8:return(function(o,l){const u=Gt(Oe(o.latitude),Oe(l.latitude));return u!==0?u:Gt(Oe(o.longitude),Oe(l.longitude))})(n.geoPointValue,t.geoPointValue);case 9:return zT(n.arrayValue,t.arrayValue);case 10:return(function(o,l){const u=o.fields||{},d=l.fields||{},f=u[Uf]?.arrayValue,p=d[Uf]?.arrayValue,y=Gt(f?.values?.length||0,p?.values?.length||0);return y!==0?y:zT(f,p)})(n.mapValue,t.mapValue);case 11:return(function(o,l){if(o===Xd.mapValue&&l===Xd.mapValue)return 0;if(o===Xd.mapValue)return 1;if(l===Xd.mapValue)return-1;const u=o.fields||{},d=Object.keys(u),f=l.fields||{},p=Object.keys(f);d.sort(),p.sort();for(let y=0;y<d.length&&y<p.length;++y){const _=Wy(d[y],p[y]);if(_!==0)return _;const v=Cl(u[d[y]],f[p[y]]);if(v!==0)return v}return Gt(d.length,p.length)})(n.mapValue,t.mapValue);default:throw It(23264,{he:e})}}function PT(n,t){if(typeof n=="string"&&typeof t=="string"&&n.length===t.length)return Gt(n,t);const e=oa(n),i=oa(t),r=Gt(e.seconds,i.seconds);return r!==0?r:Gt(e.nanos,i.nanos)}function zT(n,t){const e=n.values||[],i=t.values||[];for(let r=0;r<e.length&&r<i.length;++r){const o=Cl(e[r],i[r]);if(o)return o}return Gt(e.length,i.length)}function Il(n){return Yy(n)}function Yy(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(e){const i=oa(e);return`time(${i.seconds},${i.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(e){return la(e).toBase64()})(n.bytesValue):"referenceValue"in n?(function(e){return St.fromName(e).toString()})(n.referenceValue):"geoPointValue"in n?(function(e){return`geo(${e.latitude},${e.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(e){let i="[",r=!0;for(const o of e.values||[])r?r=!1:i+=",",i+=Yy(o);return i+"]"})(n.arrayValue):"mapValue"in n?(function(e){const i=Object.keys(e.fields||{}).sort();let r="{",o=!0;for(const l of i)o?o=!1:r+=",",r+=`${l}:${Yy(e.fields[l])}`;return r+"}"})(n.mapValue):It(61005,{value:n})}function Tf(n){switch(ca(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=xg(n);return t?16+Tf(t):16;case 5:return 2*n.stringValue.length;case 6:return la(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(i){return(i.values||[]).reduce(((r,o)=>r+Tf(o)),0)})(n.arrayValue);case 10:case 11:return(function(i){let r=0;return ma(i.fields,((o,l)=>{r+=o.length+Tf(l)})),r})(n.mapValue);default:throw It(13486,{value:n})}}function LT(n,t){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${t.path.canonicalString()}`}}function Ky(n){return!!n&&"integerValue"in n}function Y0(n){return!!n&&"arrayValue"in n}function VT(n){return!!n&&"nullValue"in n}function jT(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function Sf(n){return!!n&&"mapValue"in n}function PP(n){return(n?.mapValue?.fields||{})[FA]?.stringValue===HA}function bu(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const t={mapValue:{fields:{}}};return ma(n.mapValue.fields,((e,i)=>t.mapValue.fields[e]=bu(i))),t}if(n.arrayValue){const t={arrayValue:{values:[]}};for(let e=0;e<(n.arrayValue.values||[]).length;++e)t.arrayValue.values[e]=bu(n.arrayValue.values[e]);return t}return{...n}}function zP(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===MP}class Fn{constructor(t){this.value=t}static empty(){return new Fn({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let e=this.value;for(let i=0;i<t.length-1;++i)if(e=(e.mapValue.fields||{})[t.get(i)],!Sf(e))return null;return e=(e.mapValue.fields||{})[t.lastSegment()],e||null}}set(t,e){this.getFieldsMap(t.popLast())[t.lastSegment()]=bu(e)}setAll(t){let e=pn.emptyPath(),i={},r=[];t.forEach(((l,u)=>{if(!e.isImmediateParentOf(u)){const d=this.getFieldsMap(e);this.applyChanges(d,i,r),i={},r=[],e=u.popLast()}l?i[u.lastSegment()]=bu(l):r.push(u.lastSegment())}));const o=this.getFieldsMap(e);this.applyChanges(o,i,r)}delete(t){const e=this.field(t.popLast());Sf(e)&&e.mapValue.fields&&delete e.mapValue.fields[t.lastSegment()]}isEqual(t){return Is(this.value,t.value)}getFieldsMap(t){let e=this.value;e.mapValue.fields||(e.mapValue={fields:{}});for(let i=0;i<t.length;++i){let r=e.mapValue.fields[t.get(i)];Sf(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},e.mapValue.fields[t.get(i)]=r),e=r}return e.mapValue.fields}applyChanges(t,e,i){ma(e,((r,o)=>t[r]=o));for(const r of i)delete t[r]}clone(){return new Fn(bu(this.value))}}function qA(n){const t=[];return ma(n.fields,((e,i)=>{const r=new pn([e]);if(Sf(i)){const o=qA(i.mapValue).fields;if(o.length===0)t.push(r);else for(const l of o)t.push(r.child(l))}else t.push(r)})),new ti(t)}class En{constructor(t,e,i,r,o,l,u){this.key=t,this.documentType=e,this.version=i,this.readTime=r,this.createTime=o,this.data=l,this.documentState=u}static newInvalidDocument(t){return new En(t,0,Nt.min(),Nt.min(),Nt.min(),Fn.empty(),0)}static newFoundDocument(t,e,i,r){return new En(t,1,e,Nt.min(),i,r,0)}static newNoDocument(t,e){return new En(t,2,e,Nt.min(),Nt.min(),Fn.empty(),0)}static newUnknownDocument(t,e){return new En(t,3,e,Nt.min(),Nt.min(),Fn.empty(),2)}convertToFoundDocument(t,e){return!this.createTime.isEqual(Nt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=e,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=Fn.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=Fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Nt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof En&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new En(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class Ff{constructor(t,e){this.position=t,this.inclusive=e}}function BT(n,t,e){let i=0;for(let r=0;r<n.position.length;r++){const o=t[r],l=n.position[r];if(o.field.isKeyField()?i=St.comparator(St.fromName(l.referenceValue),e.key):i=Cl(l,e.data.field(o.field)),o.dir==="desc"&&(i*=-1),i!==0)break}return i}function UT(n,t){if(n===null)return t===null;if(t===null||n.inclusive!==t.inclusive||n.position.length!==t.position.length)return!1;for(let e=0;e<n.position.length;e++)if(!Is(n.position[e],t.position[e]))return!1;return!0}class zu{constructor(t,e="asc"){this.field=t,this.dir=e}}function LP(n,t){return n.dir===t.dir&&n.field.isEqual(t.field)}class GA{}class $e extends GA{constructor(t,e,i){super(),this.field=t,this.op=e,this.value=i}static create(t,e,i){return t.isKeyField()?e==="in"||e==="not-in"?this.createKeyFieldInFilter(t,e,i):new jP(t,e,i):e==="array-contains"?new FP(t,i):e==="in"?new HP(t,i):e==="not-in"?new qP(t,i):e==="array-contains-any"?new GP(t,i):new $e(t,e,i)}static createKeyFieldInFilter(t,e,i){return e==="in"?new BP(t,i):new UP(t,i)}matches(t){const e=t.data.field(this.field);return this.op==="!="?e!==null&&e.nullValue===void 0&&this.matchesComparison(Cl(e,this.value)):e!==null&&ca(this.value)===ca(e)&&this.matchesComparison(Cl(e,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return It(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yi extends GA{constructor(t,e){super(),this.filters=t,this.op=e,this.Pe=null}static create(t,e){return new Yi(t,e)}matches(t){return $A(this)?this.filters.find((e=>!e.matches(t)))===void 0:this.filters.find((e=>e.matches(t)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((t,e)=>t.concat(e.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function $A(n){return n.op==="and"}function WA(n){return VP(n)&&$A(n)}function VP(n){for(const t of n.filters)if(t instanceof Yi)return!1;return!0}function Qy(n){if(n instanceof $e)return n.field.canonicalString()+n.op.toString()+Il(n.value);if(WA(n))return n.filters.map((t=>Qy(t))).join(",");{const t=n.filters.map((e=>Qy(e))).join(",");return`${n.op}(${t})`}}function YA(n,t){return n instanceof $e?(function(i,r){return r instanceof $e&&i.op===r.op&&i.field.isEqual(r.field)&&Is(i.value,r.value)})(n,t):n instanceof Yi?(function(i,r){return r instanceof Yi&&i.op===r.op&&i.filters.length===r.filters.length?i.filters.reduce(((o,l,u)=>o&&YA(l,r.filters[u])),!0):!1})(n,t):void It(19439)}function KA(n){return n instanceof $e?(function(e){return`${e.field.canonicalString()} ${e.op} ${Il(e.value)}`})(n):n instanceof Yi?(function(e){return e.op.toString()+" {"+e.getFilters().map(KA).join(" ,")+"}"})(n):"Filter"}class jP extends $e{constructor(t,e,i){super(t,e,i),this.key=St.fromName(i.referenceValue)}matches(t){const e=St.comparator(t.key,this.key);return this.matchesComparison(e)}}class BP extends $e{constructor(t,e){super(t,"in",e),this.keys=QA("in",e)}matches(t){return this.keys.some((e=>e.isEqual(t.key)))}}class UP extends $e{constructor(t,e){super(t,"not-in",e),this.keys=QA("not-in",e)}matches(t){return!this.keys.some((e=>e.isEqual(t.key)))}}function QA(n,t){return(t.arrayValue?.values||[]).map((e=>St.fromName(e.referenceValue)))}class FP extends $e{constructor(t,e){super(t,"array-contains",e)}matches(t){const e=t.data.field(this.field);return Y0(e)&&Pu(e.arrayValue,this.value)}}class HP extends $e{constructor(t,e){super(t,"in",e)}matches(t){const e=t.data.field(this.field);return e!==null&&Pu(this.value.arrayValue,e)}}class qP extends $e{constructor(t,e){super(t,"not-in",e)}matches(t){if(Pu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const e=t.data.field(this.field);return e!==null&&e.nullValue===void 0&&!Pu(this.value.arrayValue,e)}}class GP extends $e{constructor(t,e){super(t,"array-contains-any",e)}matches(t){const e=t.data.field(this.field);return!(!Y0(e)||!e.arrayValue.values)&&e.arrayValue.values.some((i=>Pu(this.value.arrayValue,i)))}}class $P{constructor(t,e=null,i=[],r=[],o=null,l=null,u=null){this.path=t,this.collectionGroup=e,this.orderBy=i,this.filters=r,this.limit=o,this.startAt=l,this.endAt=u,this.Te=null}}function FT(n,t=null,e=[],i=[],r=null,o=null,l=null){return new $P(n,t,e,i,r,o,l)}function K0(n){const t=Ot(n);if(t.Te===null){let e=t.path.canonicalString();t.collectionGroup!==null&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((i=>Qy(i))).join(","),e+="|ob:",e+=t.orderBy.map((i=>(function(o){return o.field.canonicalString()+o.dir})(i))).join(","),vg(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((i=>Il(i))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((i=>Il(i))).join(",")),t.Te=e}return t.Te}function Q0(n,t){if(n.limit!==t.limit||n.orderBy.length!==t.orderBy.length)return!1;for(let e=0;e<n.orderBy.length;e++)if(!LP(n.orderBy[e],t.orderBy[e]))return!1;if(n.filters.length!==t.filters.length)return!1;for(let e=0;e<n.filters.length;e++)if(!YA(n.filters[e],t.filters[e]))return!1;return n.collectionGroup===t.collectionGroup&&!!n.path.isEqual(t.path)&&!!UT(n.startAt,t.startAt)&&UT(n.endAt,t.endAt)}function Xy(n){return St.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}class Hl{constructor(t,e=null,i=[],r=[],o=null,l="F",u=null,d=null){this.path=t,this.collectionGroup=e,this.explicitOrderBy=i,this.filters=r,this.limit=o,this.limitType=l,this.startAt=u,this.endAt=d,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function WP(n,t,e,i,r,o,l,u){return new Hl(n,t,e,i,r,o,l,u)}function X0(n){return new Hl(n)}function HT(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function XA(n){return n.collectionGroup!==null}function _u(n){const t=Ot(n);if(t.Ie===null){t.Ie=[];const e=new Set;for(const o of t.explicitOrderBy)t.Ie.push(o),e.add(o.field.canonicalString());const i=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(l){let u=new Xe(pn.comparator);return l.filters.forEach((d=>{d.getFlattenedFilters().forEach((f=>{f.isInequality()&&(u=u.add(f.field))}))})),u})(t).forEach((o=>{e.has(o.canonicalString())||o.isKeyField()||t.Ie.push(new zu(o,i))})),e.has(pn.keyField().canonicalString())||t.Ie.push(new zu(pn.keyField(),i))}return t.Ie}function Ss(n){const t=Ot(n);return t.Ee||(t.Ee=YP(t,_u(n))),t.Ee}function YP(n,t){if(n.limitType==="F")return FT(n.path,n.collectionGroup,t,n.filters,n.limit,n.startAt,n.endAt);{t=t.map((r=>{const o=r.dir==="desc"?"asc":"desc";return new zu(r.field,o)}));const e=n.endAt?new Ff(n.endAt.position,n.endAt.inclusive):null,i=n.startAt?new Ff(n.startAt.position,n.startAt.inclusive):null;return FT(n.path,n.collectionGroup,t,n.filters,n.limit,e,i)}}function Jy(n,t){const e=n.filters.concat([t]);return new Hl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),e,n.limit,n.limitType,n.startAt,n.endAt)}function Zy(n,t,e){return new Hl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),t,e,n.startAt,n.endAt)}function Eg(n,t){return Q0(Ss(n),Ss(t))&&n.limitType===t.limitType}function JA(n){return`${K0(Ss(n))}|lt:${n.limitType}`}function dl(n){return`Query(target=${(function(e){let i=e.path.canonicalString();return e.collectionGroup!==null&&(i+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(i+=`, filters: [${e.filters.map((r=>KA(r))).join(", ")}]`),vg(e.limit)||(i+=", limit: "+e.limit),e.orderBy.length>0&&(i+=`, orderBy: [${e.orderBy.map((r=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(r))).join(", ")}]`),e.startAt&&(i+=", startAt: ",i+=e.startAt.inclusive?"b:":"a:",i+=e.startAt.position.map((r=>Il(r))).join(",")),e.endAt&&(i+=", endAt: ",i+=e.endAt.inclusive?"a:":"b:",i+=e.endAt.position.map((r=>Il(r))).join(",")),`Target(${i})`})(Ss(n))}; limitType=${n.limitType})`}function Tg(n,t){return t.isFoundDocument()&&(function(i,r){const o=r.key.path;return i.collectionGroup!==null?r.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(o):St.isDocumentKey(i.path)?i.path.isEqual(o):i.path.isImmediateParentOf(o)})(n,t)&&(function(i,r){for(const o of _u(i))if(!o.field.isKeyField()&&r.data.field(o.field)===null)return!1;return!0})(n,t)&&(function(i,r){for(const o of i.filters)if(!o.matches(r))return!1;return!0})(n,t)&&(function(i,r){return!(i.startAt&&!(function(l,u,d){const f=BT(l,u,d);return l.inclusive?f<=0:f<0})(i.startAt,_u(i),r)||i.endAt&&!(function(l,u,d){const f=BT(l,u,d);return l.inclusive?f>=0:f>0})(i.endAt,_u(i),r))})(n,t)}function KP(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function ZA(n){return(t,e)=>{let i=!1;for(const r of _u(n)){const o=QP(r,t,e);if(o!==0)return o;i=i||r.field.isKeyField()}return 0}}function QP(n,t,e){const i=n.field.isKeyField()?St.comparator(t.key,e.key):(function(o,l,u){const d=l.data.field(o),f=u.data.field(o);return d!==null&&f!==null?Cl(d,f):It(42886)})(n.field,t,e);switch(n.dir){case"asc":return i;case"desc":return-1*i;default:return It(19790,{direction:n.dir})}}class _o{constructor(t,e){this.mapKeyFn=t,this.equalsFn=e,this.inner={},this.innerSize=0}get(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i!==void 0){for(const[r,o]of i)if(this.equalsFn(r,t))return o}}has(t){return this.get(t)!==void 0}set(t,e){const i=this.mapKeyFn(t),r=this.inner[i];if(r===void 0)return this.inner[i]=[[t,e]],void this.innerSize++;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],t))return void(r[o]=[t,e]);r.push([t,e]),this.innerSize++}delete(t){const e=this.mapKeyFn(t),i=this.inner[e];if(i===void 0)return!1;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],t))return i.length===1?delete this.inner[e]:i.splice(r,1),this.innerSize--,!0;return!1}forEach(t){ma(this.inner,((e,i)=>{for(const[r,o]of i)t(r,o)}))}isEmpty(){return zA(this.inner)}size(){return this.innerSize}}const XP=new Te(St.comparator);function rr(){return XP}const tC=new Te(St.comparator);function uu(...n){let t=tC;for(const e of n)t=t.insert(e.key,e);return t}function eC(n){let t=tC;return n.forEach(((e,i)=>t=t.insert(e,i.overlayedDocument))),t}function so(){return vu()}function nC(){return vu()}function vu(){return new _o((n=>n.toString()),((n,t)=>n.isEqual(t)))}const JP=new Te(St.comparator),ZP=new Xe(St.comparator);function $t(...n){let t=ZP;for(const e of n)t=t.add(e);return t}const t4=new Xe(Gt);function e4(){return t4}function J0(n,t){if(n.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jf(t)?"-0":t}}function iC(n){return{integerValue:""+n}}function n4(n,t){return DP(t)?iC(t):J0(n,t)}class Sg{constructor(){this._=void 0}}function i4(n,t,e){return n instanceof Lu?(function(r,o){const l={fields:{[jA]:{stringValue:VA},[UA]:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return o&&W0(o)&&(o=xg(o)),o&&(l.fields[BA]=o),{mapValue:l}})(e,t):n instanceof Vu?rC(n,t):n instanceof ju?aC(n,t):(function(r,o){const l=sC(r,o),u=qT(l)+qT(r.Ae);return Ky(l)&&Ky(r.Ae)?iC(u):J0(r.serializer,u)})(n,t)}function s4(n,t,e){return n instanceof Vu?rC(n,t):n instanceof ju?aC(n,t):e}function sC(n,t){return n instanceof Hf?(function(i){return Ky(i)||(function(o){return!!o&&"doubleValue"in o})(i)})(t)?t:{integerValue:0}:null}class Lu extends Sg{}class Vu extends Sg{constructor(t){super(),this.elements=t}}function rC(n,t){const e=oC(t);for(const i of n.elements)e.some((r=>Is(r,i)))||e.push(i);return{arrayValue:{values:e}}}class ju extends Sg{constructor(t){super(),this.elements=t}}function aC(n,t){let e=oC(t);for(const i of n.elements)e=e.filter((r=>!Is(r,i)));return{arrayValue:{values:e}}}class Hf extends Sg{constructor(t,e){super(),this.serializer=t,this.Ae=e}}function qT(n){return Oe(n.integerValue||n.doubleValue)}function oC(n){return Y0(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class r4{constructor(t,e){this.field=t,this.transform=e}}function a4(n,t){return n.field.isEqual(t.field)&&(function(i,r){return i instanceof Vu&&r instanceof Vu||i instanceof ju&&r instanceof ju?Al(i.elements,r.elements,Is):i instanceof Hf&&r instanceof Hf?Is(i.Ae,r.Ae):i instanceof Lu&&r instanceof Lu})(n.transform,t.transform)}class o4{constructor(t,e){this.version=t,this.transformResults=e}}class Nn{constructor(t,e){this.updateTime=t,this.exists=e}static none(){return new Nn}static exists(t){return new Nn(void 0,t)}static updateTime(t){return new Nn(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function wf(n,t){return n.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(n.updateTime):n.exists===void 0||n.exists===t.isFoundDocument()}class wg{}function lC(n,t){if(!n.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return n.isNoDocument()?new Ag(n.key,Nn.none()):new lh(n.key,n.data,Nn.none());{const e=n.data,i=Fn.empty();let r=new Xe(pn.comparator);for(let o of t.fields)if(!r.has(o)){let l=e.field(o);l===null&&o.length>1&&(o=o.popLast(),l=e.field(o)),l===null?i.delete(o):i.set(o,l),r=r.add(o)}return new ya(n.key,i,new ti(r.toArray()),Nn.none())}}function l4(n,t,e){n instanceof lh?(function(r,o,l){const u=r.value.clone(),d=$T(r.fieldTransforms,o,l.transformResults);u.setAll(d),o.convertToFoundDocument(l.version,u).setHasCommittedMutations()})(n,t,e):n instanceof ya?(function(r,o,l){if(!wf(r.precondition,o))return void o.convertToUnknownDocument(l.version);const u=$T(r.fieldTransforms,o,l.transformResults),d=o.data;d.setAll(cC(r)),d.setAll(u),o.convertToFoundDocument(l.version,d).setHasCommittedMutations()})(n,t,e):(function(r,o,l){o.convertToNoDocument(l.version).setHasCommittedMutations()})(0,t,e)}function xu(n,t,e,i){return n instanceof lh?(function(o,l,u,d){if(!wf(o.precondition,l))return u;const f=o.value.clone(),p=WT(o.fieldTransforms,d,l);return f.setAll(p),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null})(n,t,e,i):n instanceof ya?(function(o,l,u,d){if(!wf(o.precondition,l))return u;const f=WT(o.fieldTransforms,d,l),p=l.data;return p.setAll(cC(o)),p.setAll(f),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),u===null?null:u.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map((y=>y.field)))})(n,t,e,i):(function(o,l,u){return wf(o.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):u})(n,t,e)}function c4(n,t){let e=null;for(const i of n.fieldTransforms){const r=t.data.field(i.field),o=sC(i.transform,r||null);o!=null&&(e===null&&(e=Fn.empty()),e.set(i.field,o))}return e||null}function GT(n,t){return n.type===t.type&&!!n.key.isEqual(t.key)&&!!n.precondition.isEqual(t.precondition)&&!!(function(i,r){return i===void 0&&r===void 0||!(!i||!r)&&Al(i,r,((o,l)=>a4(o,l)))})(n.fieldTransforms,t.fieldTransforms)&&(n.type===0?n.value.isEqual(t.value):n.type!==1||n.data.isEqual(t.data)&&n.fieldMask.isEqual(t.fieldMask))}class lh extends wg{constructor(t,e,i,r=[]){super(),this.key=t,this.value=e,this.precondition=i,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class ya extends wg{constructor(t,e,i,r,o=[]){super(),this.key=t,this.data=e,this.fieldMask=i,this.precondition=r,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function cC(n){const t=new Map;return n.fieldMask.fields.forEach((e=>{if(!e.isEmpty()){const i=n.data.field(e);t.set(e,i)}})),t}function $T(n,t,e){const i=new Map;se(n.length===e.length,32656,{Re:e.length,Ve:n.length});for(let r=0;r<e.length;r++){const o=n[r],l=o.transform,u=t.data.field(o.field);i.set(o.field,s4(l,u,e[r]))}return i}function WT(n,t,e){const i=new Map;for(const r of n){const o=r.transform,l=e.data.field(r.field);i.set(r.field,i4(o,l,t))}return i}class Ag extends wg{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class u4 extends wg{constructor(t,e){super(),this.key=t,this.precondition=e,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class h4{constructor(t,e,i,r){this.batchId=t,this.localWriteTime=e,this.baseMutations=i,this.mutations=r}applyToRemoteDocument(t,e){const i=e.mutationResults;for(let r=0;r<this.mutations.length;r++){const o=this.mutations[r];o.key.isEqual(t.key)&&l4(o,t,i[r])}}applyToLocalView(t,e){for(const i of this.baseMutations)i.key.isEqual(t.key)&&(e=xu(i,t,e,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(t.key)&&(e=xu(i,t,e,this.localWriteTime));return e}applyToLocalDocumentSet(t,e){const i=nC();return this.mutations.forEach((r=>{const o=t.get(r.key),l=o.overlayedDocument;let u=this.applyToLocalView(l,o.mutatedFields);u=e.has(r.key)?null:u;const d=lC(l,u);d!==null&&i.set(r.key,d),l.isValidDocument()||l.convertToNoDocument(Nt.min())})),i}keys(){return this.mutations.reduce(((t,e)=>t.add(e.key)),$t())}isEqual(t){return this.batchId===t.batchId&&Al(this.mutations,t.mutations,((e,i)=>GT(e,i)))&&Al(this.baseMutations,t.baseMutations,((e,i)=>GT(e,i)))}}class Z0{constructor(t,e,i,r){this.batch=t,this.commitVersion=e,this.mutationResults=i,this.docVersions=r}static from(t,e,i){se(t.mutations.length===i.length,58842,{me:t.mutations.length,fe:i.length});let r=(function(){return JP})();const o=t.mutations;for(let l=0;l<o.length;l++)r=r.insert(o[l].key,i[l].version);return new Z0(t,e,i,r)}}class d4{constructor(t,e){this.largestBatchId=t,this.mutation=e}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class f4{constructor(t,e){this.count=t,this.unchangedNames=e}}var Ge,Qt;function g4(n){switch(n){case st.OK:return It(64938);case st.CANCELLED:case st.UNKNOWN:case st.DEADLINE_EXCEEDED:case st.RESOURCE_EXHAUSTED:case st.INTERNAL:case st.UNAVAILABLE:case st.UNAUTHENTICATED:return!1;case st.INVALID_ARGUMENT:case st.NOT_FOUND:case st.ALREADY_EXISTS:case st.PERMISSION_DENIED:case st.FAILED_PRECONDITION:case st.ABORTED:case st.OUT_OF_RANGE:case st.UNIMPLEMENTED:case st.DATA_LOSS:return!0;default:return It(15467,{code:n})}}function uC(n){if(n===void 0)return sr("GRPC error has no .code"),st.UNKNOWN;switch(n){case Ge.OK:return st.OK;case Ge.CANCELLED:return st.CANCELLED;case Ge.UNKNOWN:return st.UNKNOWN;case Ge.DEADLINE_EXCEEDED:return st.DEADLINE_EXCEEDED;case Ge.RESOURCE_EXHAUSTED:return st.RESOURCE_EXHAUSTED;case Ge.INTERNAL:return st.INTERNAL;case Ge.UNAVAILABLE:return st.UNAVAILABLE;case Ge.UNAUTHENTICATED:return st.UNAUTHENTICATED;case Ge.INVALID_ARGUMENT:return st.INVALID_ARGUMENT;case Ge.NOT_FOUND:return st.NOT_FOUND;case Ge.ALREADY_EXISTS:return st.ALREADY_EXISTS;case Ge.PERMISSION_DENIED:return st.PERMISSION_DENIED;case Ge.FAILED_PRECONDITION:return st.FAILED_PRECONDITION;case Ge.ABORTED:return st.ABORTED;case Ge.OUT_OF_RANGE:return st.OUT_OF_RANGE;case Ge.UNIMPLEMENTED:return st.UNIMPLEMENTED;case Ge.DATA_LOSS:return st.DATA_LOSS;default:return It(39323,{code:n})}}(Qt=Ge||(Ge={}))[Qt.OK=0]="OK",Qt[Qt.CANCELLED=1]="CANCELLED",Qt[Qt.UNKNOWN=2]="UNKNOWN",Qt[Qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qt[Qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qt[Qt.NOT_FOUND=5]="NOT_FOUND",Qt[Qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qt[Qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qt[Qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qt[Qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qt[Qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qt[Qt.ABORTED=10]="ABORTED",Qt[Qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qt[Qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qt[Qt.INTERNAL=13]="INTERNAL",Qt[Qt.UNAVAILABLE=14]="UNAVAILABLE",Qt[Qt.DATA_LOSS=15]="DATA_LOSS";function p4(){return new TextEncoder}const m4=new ta([4294967295,4294967295],0);function YT(n){const t=p4().encode(n),e=new wA;return e.update(t),new Uint8Array(e.digest())}function KT(n){const t=new DataView(n.buffer),e=t.getUint32(0,!0),i=t.getUint32(4,!0),r=t.getUint32(8,!0),o=t.getUint32(12,!0);return[new ta([e,i],0),new ta([r,o],0)]}class tb{constructor(t,e,i){if(this.bitmap=t,this.padding=e,this.hashCount=i,e<0||e>=8)throw new hu(`Invalid padding: ${e}`);if(i<0)throw new hu(`Invalid hash count: ${i}`);if(t.length>0&&this.hashCount===0)throw new hu(`Invalid hash count: ${i}`);if(t.length===0&&e!==0)throw new hu(`Invalid padding when bitmap length is 0: ${e}`);this.ge=8*t.length-e,this.pe=ta.fromNumber(this.ge)}ye(t,e,i){let r=t.add(e.multiply(ta.fromNumber(i)));return r.compare(m4)===1&&(r=new ta([r.getBits(0),r.getBits(1)],0)),r.modulo(this.pe).toNumber()}we(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.ge===0)return!1;const e=YT(t),[i,r]=KT(e);for(let o=0;o<this.hashCount;o++){const l=this.ye(i,r,o);if(!this.we(l))return!1}return!0}static create(t,e,i){const r=t%8==0?0:8-t%8,o=new Uint8Array(Math.ceil(t/8)),l=new tb(o,r,e);return i.forEach((u=>l.insert(u))),l}insert(t){if(this.ge===0)return;const e=YT(t),[i,r]=KT(e);for(let o=0;o<this.hashCount;o++){const l=this.ye(i,r,o);this.Se(l)}}Se(t){const e=Math.floor(t/8),i=t%8;this.bitmap[e]|=1<<i}}class hu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Cg{constructor(t,e,i,r,o){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=i,this.documentUpdates=r,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(t,e,i){const r=new Map;return r.set(t,ch.createSynthesizedTargetChangeForCurrentChange(t,e,i)),new Cg(Nt.min(),r,new Te(Gt),rr(),$t())}}class ch{constructor(t,e,i,r,o){this.resumeToken=t,this.current=e,this.addedDocuments=i,this.modifiedDocuments=r,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(t,e,i){return new ch(i,e,$t(),$t(),$t())}}class Af{constructor(t,e,i,r){this.be=t,this.removedTargetIds=e,this.key=i,this.De=r}}class hC{constructor(t,e){this.targetId=t,this.Ce=e}}class dC{constructor(t,e,i=yn.EMPTY_BYTE_STRING,r=null){this.state=t,this.targetIds=e,this.resumeToken=i,this.cause=r}}class QT{constructor(){this.ve=0,this.Fe=XT(),this.Me=yn.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(t){t.approximateByteSize()>0&&(this.Oe=!0,this.Me=t)}ke(){let t=$t(),e=$t(),i=$t();return this.Fe.forEach(((r,o)=>{switch(o){case 0:t=t.add(r);break;case 2:e=e.add(r);break;case 1:i=i.add(r);break;default:It(38017,{changeType:o})}})),new ch(this.Me,this.xe,t,e,i)}qe(){this.Oe=!1,this.Fe=XT()}Qe(t,e){this.Oe=!0,this.Fe=this.Fe.insert(t,e)}$e(t){this.Oe=!0,this.Fe=this.Fe.remove(t)}Ue(){this.ve+=1}Ke(){this.ve-=1,se(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class y4{constructor(t){this.Ge=t,this.ze=new Map,this.je=rr(),this.Je=Jd(),this.He=Jd(),this.Ye=new Te(Gt)}Ze(t){for(const e of t.be)t.De&&t.De.isFoundDocument()?this.Xe(e,t.De):this.et(e,t.key,t.De);for(const e of t.removedTargetIds)this.et(e,t.key,t.De)}tt(t){this.forEachTarget(t,(e=>{const i=this.nt(e);switch(t.state){case 0:this.rt(e)&&i.Le(t.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(t.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(e);break;case 3:this.rt(e)&&(i.We(),i.Le(t.resumeToken));break;case 4:this.rt(e)&&(this.it(e),i.Le(t.resumeToken));break;default:It(56790,{state:t.state})}}))}forEachTarget(t,e){t.targetIds.length>0?t.targetIds.forEach(e):this.ze.forEach(((i,r)=>{this.rt(r)&&e(r)}))}st(t){const e=t.targetId,i=t.Ce.count,r=this.ot(e);if(r){const o=r.target;if(Xy(o))if(i===0){const l=new St(o.path);this.et(e,l,En.newNoDocument(l,Nt.min()))}else se(i===1,20013,{expectedCount:i});else{const l=this._t(e);if(l!==i){const u=this.ut(t),d=u?this.ct(u,t,l):1;if(d!==0){this.it(e);const f=d===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(e,f)}}}}}ut(t){const e=t.Ce.unchangedNames;if(!e||!e.bits)return null;const{bits:{bitmap:i="",padding:r=0},hashCount:o=0}=e;let l,u;try{l=la(i).toUint8Array()}catch(d){if(d instanceof LA)return wl("Decoding the base64 bloom filter in existence filter failed ("+d.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw d}try{u=new tb(l,r,o)}catch(d){return wl(d instanceof hu?"BloomFilter error: ":"Applying bloom filter failed: ",d),null}return u.ge===0?null:u}ct(t,e,i){return e.Ce.count===i-this.Pt(t,e.targetId)?0:2}Pt(t,e){const i=this.Ge.getRemoteKeysForTarget(e);let r=0;return i.forEach((o=>{const l=this.Ge.ht(),u=`projects/${l.projectId}/databases/${l.database}/documents/${o.path.canonicalString()}`;t.mightContain(u)||(this.et(e,o,null),r++)})),r}Tt(t){const e=new Map;this.ze.forEach(((o,l)=>{const u=this.ot(l);if(u){if(o.current&&Xy(u.target)){const d=new St(u.target.path);this.It(d).has(l)||this.Et(l,d)||this.et(l,d,En.newNoDocument(d,t))}o.Be&&(e.set(l,o.ke()),o.qe())}}));let i=$t();this.He.forEach(((o,l)=>{let u=!0;l.forEachWhile((d=>{const f=this.ot(d);return!f||f.purpose==="TargetPurposeLimboResolution"||(u=!1,!1)})),u&&(i=i.add(o))})),this.je.forEach(((o,l)=>l.setReadTime(t)));const r=new Cg(t,e,this.Ye,this.je,i);return this.je=rr(),this.Je=Jd(),this.He=Jd(),this.Ye=new Te(Gt),r}Xe(t,e){if(!this.rt(t))return;const i=this.Et(t,e.key)?2:0;this.nt(t).Qe(e.key,i),this.je=this.je.insert(e.key,e),this.Je=this.Je.insert(e.key,this.It(e.key).add(t)),this.He=this.He.insert(e.key,this.dt(e.key).add(t))}et(t,e,i){if(!this.rt(t))return;const r=this.nt(t);this.Et(t,e)?r.Qe(e,1):r.$e(e),this.He=this.He.insert(e,this.dt(e).delete(t)),this.He=this.He.insert(e,this.dt(e).add(t)),i&&(this.je=this.je.insert(e,i))}removeTarget(t){this.ze.delete(t)}_t(t){const e=this.nt(t).ke();return this.Ge.getRemoteKeysForTarget(t).size+e.addedDocuments.size-e.removedDocuments.size}Ue(t){this.nt(t).Ue()}nt(t){let e=this.ze.get(t);return e||(e=new QT,this.ze.set(t,e)),e}dt(t){let e=this.He.get(t);return e||(e=new Xe(Gt),this.He=this.He.insert(t,e)),e}It(t){let e=this.Je.get(t);return e||(e=new Xe(Gt),this.Je=this.Je.insert(t,e)),e}rt(t){const e=this.ot(t)!==null;return e||mt("WatchChangeAggregator","Detected inactive target",t),e}ot(t){const e=this.ze.get(t);return e&&e.Ne?null:this.Ge.At(t)}it(t){this.ze.set(t,new QT),this.Ge.getRemoteKeysForTarget(t).forEach((e=>{this.et(t,e,null)}))}Et(t,e){return this.Ge.getRemoteKeysForTarget(t).has(e)}}function Jd(){return new Te(St.comparator)}function XT(){return new Te(St.comparator)}const b4={asc:"ASCENDING",desc:"DESCENDING"},_4={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},v4={and:"AND",or:"OR"};class x4{constructor(t,e){this.databaseId=t,this.useProto3Json=e}}function t0(n,t){return n.useProto3Json||vg(t)?t:{value:t}}function qf(n,t){return n.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function fC(n,t){return n.useProto3Json?t.toBase64():t.toUint8Array()}function E4(n,t){return qf(n,t.toTimestamp())}function ws(n){return se(!!n,49232),Nt.fromTimestamp((function(e){const i=oa(e);return new ve(i.seconds,i.nanos)})(n))}function eb(n,t){return e0(n,t).canonicalString()}function e0(n,t){const e=(function(r){return new pe(["projects",r.projectId,"databases",r.database])})(n).child("documents");return t===void 0?e:e.child(t)}function gC(n){const t=pe.fromString(n);return se(_C(t),10190,{key:t.toString()}),t}function n0(n,t){return eb(n.databaseId,t.path)}function cy(n,t){const e=gC(t);if(e.get(1)!==n.databaseId.projectId)throw new gt(st.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+e.get(1)+" vs "+n.databaseId.projectId);if(e.get(3)!==n.databaseId.database)throw new gt(st.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+e.get(3)+" vs "+n.databaseId.database);return new St(mC(e))}function pC(n,t){return eb(n.databaseId,t)}function T4(n){const t=gC(n);return t.length===4?pe.emptyPath():mC(t)}function i0(n){return new pe(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function mC(n){return se(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function JT(n,t,e){return{name:n0(n,t),fields:e.value.mapValue.fields}}function S4(n,t){let e;if("targetChange"in t){t.targetChange;const i=(function(f){return f==="NO_CHANGE"?0:f==="ADD"?1:f==="REMOVE"?2:f==="CURRENT"?3:f==="RESET"?4:It(39313,{state:f})})(t.targetChange.targetChangeType||"NO_CHANGE"),r=t.targetChange.targetIds||[],o=(function(f,p){return f.useProto3Json?(se(p===void 0||typeof p=="string",58123),yn.fromBase64String(p||"")):(se(p===void 0||p instanceof Buffer||p instanceof Uint8Array,16193),yn.fromUint8Array(p||new Uint8Array))})(n,t.targetChange.resumeToken),l=t.targetChange.cause,u=l&&(function(f){const p=f.code===void 0?st.UNKNOWN:uC(f.code);return new gt(p,f.message||"")})(l);e=new dC(i,r,o,u||null)}else if("documentChange"in t){t.documentChange;const i=t.documentChange;i.document,i.document.name,i.document.updateTime;const r=cy(n,i.document.name),o=ws(i.document.updateTime),l=i.document.createTime?ws(i.document.createTime):Nt.min(),u=new Fn({mapValue:{fields:i.document.fields}}),d=En.newFoundDocument(r,o,l,u),f=i.targetIds||[],p=i.removedTargetIds||[];e=new Af(f,p,d.key,d)}else if("documentDelete"in t){t.documentDelete;const i=t.documentDelete;i.document;const r=cy(n,i.document),o=i.readTime?ws(i.readTime):Nt.min(),l=En.newNoDocument(r,o),u=i.removedTargetIds||[];e=new Af([],u,l.key,l)}else if("documentRemove"in t){t.documentRemove;const i=t.documentRemove;i.document;const r=cy(n,i.document),o=i.removedTargetIds||[];e=new Af([],o,r,null)}else{if(!("filter"in t))return It(11601,{Rt:t});{t.filter;const i=t.filter;i.targetId;const{count:r=0,unchangedNames:o}=i,l=new f4(r,o),u=i.targetId;e=new hC(u,l)}}return e}function w4(n,t){let e;if(t instanceof lh)e={update:JT(n,t.key,t.value)};else if(t instanceof Ag)e={delete:n0(n,t.key)};else if(t instanceof ya)e={update:JT(n,t.key,t.data),updateMask:M4(t.fieldMask)};else{if(!(t instanceof u4))return It(16599,{Vt:t.type});e={verify:n0(n,t.key)}}return t.fieldTransforms.length>0&&(e.updateTransforms=t.fieldTransforms.map((i=>(function(o,l){const u=l.transform;if(u instanceof Lu)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(u instanceof Vu)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:u.elements}};if(u instanceof ju)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:u.elements}};if(u instanceof Hf)return{fieldPath:l.field.canonicalString(),increment:u.Ae};throw It(20930,{transform:l.transform})})(0,i)))),t.precondition.isNone||(e.currentDocument=(function(r,o){return o.updateTime!==void 0?{updateTime:E4(r,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:It(27497)})(n,t.precondition)),e}function A4(n,t){return n&&n.length>0?(se(t!==void 0,14353),n.map((e=>(function(r,o){let l=r.updateTime?ws(r.updateTime):ws(o);return l.isEqual(Nt.min())&&(l=ws(o)),new o4(l,r.transformResults||[])})(e,t)))):[]}function C4(n,t){return{documents:[pC(n,t.path)]}}function I4(n,t){const e={structuredQuery:{}},i=t.path;let r;t.collectionGroup!==null?(r=i,e.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(r=i.popLast(),e.structuredQuery.from=[{collectionId:i.lastSegment()}]),e.parent=pC(n,r);const o=(function(f){if(f.length!==0)return bC(Yi.create(f,"and"))})(t.filters);o&&(e.structuredQuery.where=o);const l=(function(f){if(f.length!==0)return f.map((p=>(function(_){return{field:fl(_.field),direction:N4(_.dir)}})(p)))})(t.orderBy);l&&(e.structuredQuery.orderBy=l);const u=t0(n,t.limit);return u!==null&&(e.structuredQuery.limit=u),t.startAt&&(e.structuredQuery.startAt=(function(f){return{before:f.inclusive,values:f.position}})(t.startAt)),t.endAt&&(e.structuredQuery.endAt=(function(f){return{before:!f.inclusive,values:f.position}})(t.endAt)),{ft:e,parent:r}}function D4(n){let t=T4(n.parent);const e=n.structuredQuery,i=e.from?e.from.length:0;let r=null;if(i>0){se(i===1,65062);const p=e.from[0];p.allDescendants?r=p.collectionId:t=t.child(p.collectionId)}let o=[];e.where&&(o=(function(y){const _=yC(y);return _ instanceof Yi&&WA(_)?_.getFilters():[_]})(e.where));let l=[];e.orderBy&&(l=(function(y){return y.map((_=>(function(S){return new zu(gl(S.field),(function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(S.direction))})(_)))})(e.orderBy));let u=null;e.limit&&(u=(function(y){let _;return _=typeof y=="object"?y.value:y,vg(_)?null:_})(e.limit));let d=null;e.startAt&&(d=(function(y){const _=!!y.before,v=y.values||[];return new Ff(v,_)})(e.startAt));let f=null;return e.endAt&&(f=(function(y){const _=!y.before,v=y.values||[];return new Ff(v,_)})(e.endAt)),WP(t,r,l,o,u,"F",d,f)}function R4(n,t){const e=(function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return It(28987,{purpose:r})}})(t.purpose);return e==null?null:{"goog-listen-tags":e}}function yC(n){return n.unaryFilter!==void 0?(function(e){switch(e.unaryFilter.op){case"IS_NAN":const i=gl(e.unaryFilter.field);return $e.create(i,"==",{doubleValue:NaN});case"IS_NULL":const r=gl(e.unaryFilter.field);return $e.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=gl(e.unaryFilter.field);return $e.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=gl(e.unaryFilter.field);return $e.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return It(61313);default:return It(60726)}})(n):n.fieldFilter!==void 0?(function(e){return $e.create(gl(e.fieldFilter.field),(function(r){switch(r){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return It(58110);default:return It(50506)}})(e.fieldFilter.op),e.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(e){return Yi.create(e.compositeFilter.filters.map((i=>yC(i))),(function(r){switch(r){case"AND":return"and";case"OR":return"or";default:return It(1026)}})(e.compositeFilter.op))})(n):It(30097,{filter:n})}function N4(n){return b4[n]}function k4(n){return _4[n]}function O4(n){return v4[n]}function fl(n){return{fieldPath:n.canonicalString()}}function gl(n){return pn.fromServerFormat(n.fieldPath)}function bC(n){return n instanceof $e?(function(e){if(e.op==="=="){if(jT(e.value))return{unaryFilter:{field:fl(e.field),op:"IS_NAN"}};if(VT(e.value))return{unaryFilter:{field:fl(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(jT(e.value))return{unaryFilter:{field:fl(e.field),op:"IS_NOT_NAN"}};if(VT(e.value))return{unaryFilter:{field:fl(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:fl(e.field),op:k4(e.op),value:e.value}}})(n):n instanceof Yi?(function(e){const i=e.getFilters().map((r=>bC(r)));return i.length===1?i[0]:{compositeFilter:{op:O4(e.op),filters:i}}})(n):It(54877,{filter:n})}function M4(n){const t=[];return n.fields.forEach((e=>t.push(e.canonicalString()))),{fieldPaths:t}}function _C(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}class Wr{constructor(t,e,i,r,o=Nt.min(),l=Nt.min(),u=yn.EMPTY_BYTE_STRING,d=null){this.target=t,this.targetId=e,this.purpose=i,this.sequenceNumber=r,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=u,this.expectedCount=d}withSequenceNumber(t){return new Wr(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,e){return new Wr(this.target,this.targetId,this.purpose,this.sequenceNumber,e,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Wr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Wr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}class P4{constructor(t){this.yt=t}}function z4(n){const t=D4({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Zy(t,t.limit,"L"):t}class L4{constructor(){this.Cn=new V4}addToCollectionParentIndex(t,e){return this.Cn.add(e),at.resolve()}getCollectionParents(t,e){return at.resolve(this.Cn.getEntries(e))}addFieldIndex(t,e){return at.resolve()}deleteFieldIndex(t,e){return at.resolve()}deleteAllFieldIndexes(t){return at.resolve()}createTargetIndexes(t,e){return at.resolve()}getDocumentsMatchingTarget(t,e){return at.resolve(null)}getIndexType(t,e){return at.resolve(0)}getFieldIndexes(t,e){return at.resolve([])}getNextCollectionGroupToUpdate(t){return at.resolve(null)}getMinOffset(t,e){return at.resolve(aa.min())}getMinOffsetFromCollectionGroup(t,e){return at.resolve(aa.min())}updateCollectionGroup(t,e,i){return at.resolve()}updateIndexEntries(t,e){return at.resolve()}}class V4{constructor(){this.index={}}add(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e]||new Xe(pe.comparator),o=!r.has(i);return this.index[e]=r.add(i),o}has(t){const e=t.lastSegment(),i=t.popLast(),r=this.index[e];return r&&r.has(i)}getEntries(t){return(this.index[t]||new Xe(pe.comparator)).toArray()}}const ZT={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},vC=41943040;class Un{static withCacheSize(t){return new Un(t,Un.DEFAULT_COLLECTION_PERCENTILE,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,e,i){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=e,this.maximumSequenceNumbersToCollect=i}}Un.DEFAULT_COLLECTION_PERCENTILE=10,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Un.DEFAULT=new Un(vC,Un.DEFAULT_COLLECTION_PERCENTILE,Un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Un.DISABLED=new Un(-1,0,0);class Dl{constructor(t){this.ar=t}next(){return this.ar+=2,this.ar}static ur(){return new Dl(0)}static cr(){return new Dl(-1)}}const tS="LruGarbageCollector",j4=1048576;function eS([n,t],[e,i]){const r=Gt(n,e);return r===0?Gt(t,i):r}class B4{constructor(t){this.Ir=t,this.buffer=new Xe(eS),this.Er=0}dr(){return++this.Er}Ar(t){const e=[t,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(e);else{const i=this.buffer.last();eS(e,i)<0&&(this.buffer=this.buffer.delete(i).add(e))}}get maxValue(){return this.buffer.last()[0]}}class U4{constructor(t,e,i){this.garbageCollector=t,this.asyncQueue=e,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(t){mt(tS,`Garbage collection scheduled in ${t}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Fl(e)?mt(tS,"Ignoring IndexedDB error during garbage collection: ",e):await Ul(e)}await this.Vr(3e5)}))}}class F4{constructor(t,e){this.mr=t,this.params=e}calculateTargetCount(t,e){return this.mr.gr(t).next((i=>Math.floor(e/100*i)))}nthSequenceNumber(t,e){if(e===0)return at.resolve(_g.ce);const i=new B4(e);return this.mr.forEachTarget(t,(r=>i.Ar(r.sequenceNumber))).next((()=>this.mr.pr(t,(r=>i.Ar(r))))).next((()=>i.maxValue))}removeTargets(t,e,i){return this.mr.removeTargets(t,e,i)}removeOrphanedDocuments(t,e){return this.mr.removeOrphanedDocuments(t,e)}collect(t,e){return this.params.cacheSizeCollectionThreshold===-1?(mt("LruGarbageCollector","Garbage collection skipped; disabled"),at.resolve(ZT)):this.getCacheSize(t).next((i=>i<this.params.cacheSizeCollectionThreshold?(mt("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),ZT):this.yr(t,e)))}getCacheSize(t){return this.mr.getCacheSize(t)}yr(t,e){let i,r,o,l,u,d,f;const p=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next((y=>(y>this.params.maximumSequenceNumbersToCollect?(mt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${y}`),r=this.params.maximumSequenceNumbersToCollect):r=y,l=Date.now(),this.nthSequenceNumber(t,r)))).next((y=>(i=y,u=Date.now(),this.removeTargets(t,i,e)))).next((y=>(o=y,d=Date.now(),this.removeOrphanedDocuments(t,i)))).next((y=>(f=Date.now(),hl()<=qt.DEBUG&&mt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-p}ms
	Determined least recently used ${r} in `+(u-l)+`ms
	Removed ${o} targets in `+(d-u)+`ms
	Removed ${y} documents in `+(f-d)+`ms
Total Duration: ${f-p}ms`),at.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:o,documentsRemoved:y}))))}}function H4(n,t){return new F4(n,t)}class q4{constructor(){this.changes=new _o((t=>t.toString()),((t,e)=>t.isEqual(e))),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,e){this.assertNotApplied(),this.changes.set(t,En.newInvalidDocument(t).setReadTime(e))}getEntry(t,e){this.assertNotApplied();const i=this.changes.get(e);return i!==void 0?at.resolve(i):this.getFromCache(t,e)}getEntries(t,e){return this.getAllFromCache(t,e)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}class G4{constructor(t,e){this.overlayedDocument=t,this.mutatedFields=e}}class $4{constructor(t,e,i,r){this.remoteDocumentCache=t,this.mutationQueue=e,this.documentOverlayCache=i,this.indexManager=r}getDocument(t,e){let i=null;return this.documentOverlayCache.getOverlay(t,e).next((r=>(i=r,this.remoteDocumentCache.getEntry(t,e)))).next((r=>(i!==null&&xu(i.mutation,r,ti.empty(),ve.now()),r)))}getDocuments(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.getLocalViewOfDocuments(t,i,$t()).next((()=>i))))}getLocalViewOfDocuments(t,e,i=$t()){const r=so();return this.populateOverlays(t,r,e).next((()=>this.computeViews(t,e,r,i).next((o=>{let l=uu();return o.forEach(((u,d)=>{l=l.insert(u,d.overlayedDocument)})),l}))))}getOverlayedDocuments(t,e){const i=so();return this.populateOverlays(t,i,e).next((()=>this.computeViews(t,e,i,$t())))}populateOverlays(t,e,i){const r=[];return i.forEach((o=>{e.has(o)||r.push(o)})),this.documentOverlayCache.getOverlays(t,r).next((o=>{o.forEach(((l,u)=>{e.set(l,u)}))}))}computeViews(t,e,i,r){let o=rr();const l=vu(),u=(function(){return vu()})();return e.forEach(((d,f)=>{const p=i.get(f.key);r.has(f.key)&&(p===void 0||p.mutation instanceof ya)?o=o.insert(f.key,f):p!==void 0?(l.set(f.key,p.mutation.getFieldMask()),xu(p.mutation,f,p.mutation.getFieldMask(),ve.now())):l.set(f.key,ti.empty())})),this.recalculateAndSaveOverlays(t,o).next((d=>(d.forEach(((f,p)=>l.set(f,p))),e.forEach(((f,p)=>u.set(f,new G4(p,l.get(f)??null)))),u)))}recalculateAndSaveOverlays(t,e){const i=vu();let r=new Te(((l,u)=>l-u)),o=$t();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next((l=>{for(const u of l)u.keys().forEach((d=>{const f=e.get(d);if(f===null)return;let p=i.get(d)||ti.empty();p=u.applyToLocalView(f,p),i.set(d,p);const y=(r.get(u.batchId)||$t()).add(d);r=r.insert(u.batchId,y)}))})).next((()=>{const l=[],u=r.getReverseIterator();for(;u.hasNext();){const d=u.getNext(),f=d.key,p=d.value,y=nC();p.forEach((_=>{if(!o.has(_)){const v=lC(e.get(_),i.get(_));v!==null&&y.set(_,v),o=o.add(_)}})),l.push(this.documentOverlayCache.saveOverlays(t,f,y))}return at.waitFor(l)})).next((()=>i))}recalculateAndSaveOverlaysForDocumentKeys(t,e){return this.remoteDocumentCache.getEntries(t,e).next((i=>this.recalculateAndSaveOverlays(t,i)))}getDocumentsMatchingQuery(t,e,i,r){return(function(l){return St.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(e)?this.getDocumentsMatchingDocumentQuery(t,e.path):XA(e)?this.getDocumentsMatchingCollectionGroupQuery(t,e,i,r):this.getDocumentsMatchingCollectionQuery(t,e,i,r)}getNextDocuments(t,e,i,r){return this.remoteDocumentCache.getAllFromCollectionGroup(t,e,i,r).next((o=>{const l=r-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,e,i.largestBatchId,r-o.size):at.resolve(so());let u=ku,d=o;return l.next((f=>at.forEach(f,((p,y)=>(u<y.largestBatchId&&(u=y.largestBatchId),o.get(p)?at.resolve():this.remoteDocumentCache.getEntry(t,p).next((_=>{d=d.insert(p,_)}))))).next((()=>this.populateOverlays(t,f,o))).next((()=>this.computeViews(t,d,f,$t()))).next((p=>({batchId:u,changes:eC(p)})))))}))}getDocumentsMatchingDocumentQuery(t,e){return this.getDocument(t,new St(e)).next((i=>{let r=uu();return i.isFoundDocument()&&(r=r.insert(i.key,i)),r}))}getDocumentsMatchingCollectionGroupQuery(t,e,i,r){const o=e.collectionGroup;let l=uu();return this.indexManager.getCollectionParents(t,o).next((u=>at.forEach(u,(d=>{const f=(function(y,_){return new Hl(_,null,y.explicitOrderBy.slice(),y.filters.slice(),y.limit,y.limitType,y.startAt,y.endAt)})(e,d.child(o));return this.getDocumentsMatchingCollectionQuery(t,f,i,r).next((p=>{p.forEach(((y,_)=>{l=l.insert(y,_)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(t,e,i,r){let o;return this.documentOverlayCache.getOverlaysForCollection(t,e.path,i.largestBatchId).next((l=>(o=l,this.remoteDocumentCache.getDocumentsMatchingQuery(t,e,i,o,r)))).next((l=>{o.forEach(((d,f)=>{const p=f.getKey();l.get(p)===null&&(l=l.insert(p,En.newInvalidDocument(p)))}));let u=uu();return l.forEach(((d,f)=>{const p=o.get(d);p!==void 0&&xu(p.mutation,f,ti.empty(),ve.now()),Tg(e,f)&&(u=u.insert(d,f))})),u}))}}class W4{constructor(t){this.serializer=t,this.Lr=new Map,this.kr=new Map}getBundleMetadata(t,e){return at.resolve(this.Lr.get(e))}saveBundleMetadata(t,e){return this.Lr.set(e.id,(function(r){return{id:r.id,version:r.version,createTime:ws(r.createTime)}})(e)),at.resolve()}getNamedQuery(t,e){return at.resolve(this.kr.get(e))}saveNamedQuery(t,e){return this.kr.set(e.name,(function(r){return{name:r.name,query:z4(r.bundledQuery),readTime:ws(r.readTime)}})(e)),at.resolve()}}class Y4{constructor(){this.overlays=new Te(St.comparator),this.qr=new Map}getOverlay(t,e){return at.resolve(this.overlays.get(e))}getOverlays(t,e){const i=so();return at.forEach(e,(r=>this.getOverlay(t,r).next((o=>{o!==null&&i.set(r,o)})))).next((()=>i))}saveOverlays(t,e,i){return i.forEach(((r,o)=>{this.St(t,e,o)})),at.resolve()}removeOverlaysForBatchId(t,e,i){const r=this.qr.get(i);return r!==void 0&&(r.forEach((o=>this.overlays=this.overlays.remove(o))),this.qr.delete(i)),at.resolve()}getOverlaysForCollection(t,e,i){const r=so(),o=e.length+1,l=new St(e.child("")),u=this.overlays.getIteratorFrom(l);for(;u.hasNext();){const d=u.getNext().value,f=d.getKey();if(!e.isPrefixOf(f.path))break;f.path.length===o&&d.largestBatchId>i&&r.set(d.getKey(),d)}return at.resolve(r)}getOverlaysForCollectionGroup(t,e,i,r){let o=new Te(((f,p)=>f-p));const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===e&&f.largestBatchId>i){let p=o.get(f.largestBatchId);p===null&&(p=so(),o=o.insert(f.largestBatchId,p)),p.set(f.getKey(),f)}}const u=so(),d=o.getIterator();for(;d.hasNext()&&(d.getNext().value.forEach(((f,p)=>u.set(f,p))),!(u.size()>=r)););return at.resolve(u)}St(t,e,i){const r=this.overlays.get(i.key);if(r!==null){const l=this.qr.get(r.largestBatchId).delete(i.key);this.qr.set(r.largestBatchId,l)}this.overlays=this.overlays.insert(i.key,new d4(e,i));let o=this.qr.get(e);o===void 0&&(o=$t(),this.qr.set(e,o)),this.qr.set(e,o.add(i.key))}}class K4{constructor(){this.sessionToken=yn.EMPTY_BYTE_STRING}getSessionToken(t){return at.resolve(this.sessionToken)}setSessionToken(t,e){return this.sessionToken=e,at.resolve()}}class nb{constructor(){this.Qr=new Xe(en.$r),this.Ur=new Xe(en.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(t,e){const i=new en(t,e);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(t,e){t.forEach((i=>this.addReference(i,e)))}removeReference(t,e){this.Gr(new en(t,e))}zr(t,e){t.forEach((i=>this.removeReference(i,e)))}jr(t){const e=new St(new pe([])),i=new en(e,t),r=new en(e,t+1),o=[];return this.Ur.forEachInRange([i,r],(l=>{this.Gr(l),o.push(l.key)})),o}Jr(){this.Qr.forEach((t=>this.Gr(t)))}Gr(t){this.Qr=this.Qr.delete(t),this.Ur=this.Ur.delete(t)}Hr(t){const e=new St(new pe([])),i=new en(e,t),r=new en(e,t+1);let o=$t();return this.Ur.forEachInRange([i,r],(l=>{o=o.add(l.key)})),o}containsKey(t){const e=new en(t,0),i=this.Qr.firstAfterOrEqual(e);return i!==null&&t.isEqual(i.key)}}class en{constructor(t,e){this.key=t,this.Yr=e}static $r(t,e){return St.comparator(t.key,e.key)||Gt(t.Yr,e.Yr)}static Kr(t,e){return Gt(t.Yr,e.Yr)||St.comparator(t.key,e.key)}}class Q4{constructor(t,e){this.indexManager=t,this.referenceDelegate=e,this.mutationQueue=[],this.tr=1,this.Zr=new Xe(en.$r)}checkEmpty(t){return at.resolve(this.mutationQueue.length===0)}addMutationBatch(t,e,i,r){const o=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new h4(o,e,i,r);this.mutationQueue.push(l);for(const u of r)this.Zr=this.Zr.add(new en(u.key,o)),this.indexManager.addToCollectionParentIndex(t,u.key.path.popLast());return at.resolve(l)}lookupMutationBatch(t,e){return at.resolve(this.Xr(e))}getNextMutationBatchAfterBatchId(t,e){const i=e+1,r=this.ei(i),o=r<0?0:r;return at.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return at.resolve(this.mutationQueue.length===0?$0:this.tr-1)}getAllMutationBatches(t){return at.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,e){const i=new en(e,0),r=new en(e,Number.POSITIVE_INFINITY),o=[];return this.Zr.forEachInRange([i,r],(l=>{const u=this.Xr(l.Yr);o.push(u)})),at.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(t,e){let i=new Xe(Gt);return e.forEach((r=>{const o=new en(r,0),l=new en(r,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([o,l],(u=>{i=i.add(u.Yr)}))})),at.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(t,e){const i=e.path,r=i.length+1;let o=i;St.isDocumentKey(o)||(o=o.child(""));const l=new en(new St(o),0);let u=new Xe(Gt);return this.Zr.forEachWhile((d=>{const f=d.key.path;return!!i.isPrefixOf(f)&&(f.length===r&&(u=u.add(d.Yr)),!0)}),l),at.resolve(this.ti(u))}ti(t){const e=[];return t.forEach((i=>{const r=this.Xr(i);r!==null&&e.push(r)})),e}removeMutationBatch(t,e){se(this.ni(e.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return at.forEach(e.mutations,(r=>{const o=new en(r.key,e.batchId);return i=i.delete(o),this.referenceDelegate.markPotentiallyOrphaned(t,r.key)})).next((()=>{this.Zr=i}))}ir(t){}containsKey(t,e){const i=new en(e,0),r=this.Zr.firstAfterOrEqual(i);return at.resolve(e.isEqual(r&&r.key))}performConsistencyCheck(t){return this.mutationQueue.length,at.resolve()}ni(t,e){return this.ei(t)}ei(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Xr(t){const e=this.ei(t);return e<0||e>=this.mutationQueue.length?null:this.mutationQueue[e]}}class X4{constructor(t){this.ri=t,this.docs=(function(){return new Te(St.comparator)})(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,e){const i=e.key,r=this.docs.get(i),o=r?r.size:0,l=this.ri(e);return this.docs=this.docs.insert(i,{document:e.mutableCopy(),size:l}),this.size+=l-o,this.indexManager.addToCollectionParentIndex(t,i.path.popLast())}removeEntry(t){const e=this.docs.get(t);e&&(this.docs=this.docs.remove(t),this.size-=e.size)}getEntry(t,e){const i=this.docs.get(e);return at.resolve(i?i.document.mutableCopy():En.newInvalidDocument(e))}getEntries(t,e){let i=rr();return e.forEach((r=>{const o=this.docs.get(r);i=i.insert(r,o?o.document.mutableCopy():En.newInvalidDocument(r))})),at.resolve(i)}getDocumentsMatchingQuery(t,e,i,r){let o=rr();const l=e.path,u=new St(l.child("__id-9223372036854775808__")),d=this.docs.getIteratorFrom(u);for(;d.hasNext();){const{key:f,value:{document:p}}=d.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||wP(SP(p),i)<=0||(r.has(p.key)||Tg(e,p))&&(o=o.insert(p.key,p.mutableCopy()))}return at.resolve(o)}getAllFromCollectionGroup(t,e,i,r){It(9500)}ii(t,e){return at.forEach(this.docs,(i=>e(i)))}newChangeBuffer(t){return new J4(this)}getSize(t){return at.resolve(this.size)}}class J4 extends q4{constructor(t){super(),this.Nr=t}applyChanges(t){const e=[];return this.changes.forEach(((i,r)=>{r.isValidDocument()?e.push(this.Nr.addEntry(t,r)):this.Nr.removeEntry(i)})),at.waitFor(e)}getFromCache(t,e){return this.Nr.getEntry(t,e)}getAllFromCache(t,e){return this.Nr.getEntries(t,e)}}class Z4{constructor(t){this.persistence=t,this.si=new _o((e=>K0(e)),Q0),this.lastRemoteSnapshotVersion=Nt.min(),this.highestTargetId=0,this.oi=0,this._i=new nb,this.targetCount=0,this.ai=Dl.ur()}forEachTarget(t,e){return this.si.forEach(((i,r)=>e(r))),at.resolve()}getLastRemoteSnapshotVersion(t){return at.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return at.resolve(this.oi)}allocateTargetId(t){return this.highestTargetId=this.ai.next(),at.resolve(this.highestTargetId)}setTargetsMetadata(t,e,i){return i&&(this.lastRemoteSnapshotVersion=i),e>this.oi&&(this.oi=e),at.resolve()}Pr(t){this.si.set(t.target,t);const e=t.targetId;e>this.highestTargetId&&(this.ai=new Dl(e),this.highestTargetId=e),t.sequenceNumber>this.oi&&(this.oi=t.sequenceNumber)}addTargetData(t,e){return this.Pr(e),this.targetCount+=1,at.resolve()}updateTargetData(t,e){return this.Pr(e),at.resolve()}removeTargetData(t,e){return this.si.delete(e.target),this._i.jr(e.targetId),this.targetCount-=1,at.resolve()}removeTargets(t,e,i){let r=0;const o=[];return this.si.forEach(((l,u)=>{u.sequenceNumber<=e&&i.get(u.targetId)===null&&(this.si.delete(l),o.push(this.removeMatchingKeysForTargetId(t,u.targetId)),r++)})),at.waitFor(o).next((()=>r))}getTargetCount(t){return at.resolve(this.targetCount)}getTargetData(t,e){const i=this.si.get(e)||null;return at.resolve(i)}addMatchingKeys(t,e,i){return this._i.Wr(e,i),at.resolve()}removeMatchingKeys(t,e,i){this._i.zr(e,i);const r=this.persistence.referenceDelegate,o=[];return r&&e.forEach((l=>{o.push(r.markPotentiallyOrphaned(t,l))})),at.waitFor(o)}removeMatchingKeysForTargetId(t,e){return this._i.jr(e),at.resolve()}getMatchingKeysForTargetId(t,e){const i=this._i.Hr(e);return at.resolve(i)}containsKey(t,e){return at.resolve(this._i.containsKey(e))}}class xC{constructor(t,e){this.ui={},this.overlays={},this.ci=new _g(0),this.li=!1,this.li=!0,this.hi=new K4,this.referenceDelegate=t(this),this.Pi=new Z4(this),this.indexManager=new L4,this.remoteDocumentCache=(function(r){return new X4(r)})((i=>this.referenceDelegate.Ti(i))),this.serializer=new P4(e),this.Ii=new W4(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let e=this.overlays[t.toKey()];return e||(e=new Y4,this.overlays[t.toKey()]=e),e}getMutationQueue(t,e){let i=this.ui[t.toKey()];return i||(i=new Q4(e,this.referenceDelegate),this.ui[t.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(t,e,i){mt("MemoryPersistence","Starting transaction:",t);const r=new tz(this.ci.next());return this.referenceDelegate.Ei(),i(r).next((o=>this.referenceDelegate.di(r).next((()=>o)))).toPromise().then((o=>(r.raiseOnCommittedEvent(),o)))}Ai(t,e){return at.or(Object.values(this.ui).map((i=>()=>i.containsKey(t,e))))}}class tz extends CP{constructor(t){super(),this.currentSequenceNumber=t}}class ib{constructor(t){this.persistence=t,this.Ri=new nb,this.Vi=null}static mi(t){return new ib(t)}get fi(){if(this.Vi)return this.Vi;throw It(60996)}addReference(t,e,i){return this.Ri.addReference(i,e),this.fi.delete(i.toString()),at.resolve()}removeReference(t,e,i){return this.Ri.removeReference(i,e),this.fi.add(i.toString()),at.resolve()}markPotentiallyOrphaned(t,e){return this.fi.add(e.toString()),at.resolve()}removeTarget(t,e){this.Ri.jr(e.targetId).forEach((r=>this.fi.add(r.toString())));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(t,e.targetId).next((r=>{r.forEach((o=>this.fi.add(o.toString())))})).next((()=>i.removeTargetData(t,e)))}Ei(){this.Vi=new Set}di(t){const e=this.persistence.getRemoteDocumentCache().newChangeBuffer();return at.forEach(this.fi,(i=>{const r=St.fromPath(i);return this.gi(t,r).next((o=>{o||e.removeEntry(r,Nt.min())}))})).next((()=>(this.Vi=null,e.apply(t))))}updateLimboDocument(t,e){return this.gi(t,e).next((i=>{i?this.fi.delete(e.toString()):this.fi.add(e.toString())}))}Ti(t){return 0}gi(t,e){return at.or([()=>at.resolve(this.Ri.containsKey(e)),()=>this.persistence.getTargetCache().containsKey(t,e),()=>this.persistence.Ai(t,e)])}}class Gf{constructor(t,e){this.persistence=t,this.pi=new _o((i=>RP(i.path)),((i,r)=>i.isEqual(r))),this.garbageCollector=H4(this,e)}static mi(t,e){return new Gf(t,e)}Ei(){}di(t){return at.resolve()}forEachTarget(t,e){return this.persistence.getTargetCache().forEachTarget(t,e)}gr(t){const e=this.wr(t);return this.persistence.getTargetCache().getTargetCount(t).next((i=>e.next((r=>i+r))))}wr(t){let e=0;return this.pr(t,(i=>{e++})).next((()=>e))}pr(t,e){return at.forEach(this.pi,((i,r)=>this.br(t,i,r).next((o=>o?at.resolve():e(r)))))}removeTargets(t,e,i){return this.persistence.getTargetCache().removeTargets(t,e,i)}removeOrphanedDocuments(t,e){let i=0;const r=this.persistence.getRemoteDocumentCache(),o=r.newChangeBuffer();return r.ii(t,(l=>this.br(t,l,e).next((u=>{u||(i++,o.removeEntry(l,Nt.min()))})))).next((()=>o.apply(t))).next((()=>i))}markPotentiallyOrphaned(t,e){return this.pi.set(e,t.currentSequenceNumber),at.resolve()}removeTarget(t,e){const i=e.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,i)}addReference(t,e,i){return this.pi.set(i,t.currentSequenceNumber),at.resolve()}removeReference(t,e,i){return this.pi.set(i,t.currentSequenceNumber),at.resolve()}updateLimboDocument(t,e){return this.pi.set(e,t.currentSequenceNumber),at.resolve()}Ti(t){let e=t.key.toString().length;return t.isFoundDocument()&&(e+=Tf(t.data.value)),e}br(t,e,i){return at.or([()=>this.persistence.Ai(t,e),()=>this.persistence.getTargetCache().containsKey(t,e),()=>{const r=this.pi.get(e);return at.resolve(r!==void 0&&r>i)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}class sb{constructor(t,e,i,r){this.targetId=t,this.fromCache=e,this.Es=i,this.ds=r}static As(t,e){let i=$t(),r=$t();for(const o of e.docChanges)switch(o.type){case 0:i=i.add(o.doc.key);break;case 1:r=r.add(o.doc.key)}return new sb(t,e.fromCache,i,r)}}class ez{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}class nz{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return RN()?8:IP(Sn())>0?6:4})()}initialize(t,e){this.ps=t,this.indexManager=e,this.Rs=!0}getDocumentsMatchingQuery(t,e,i,r){const o={result:null};return this.ys(t,e).next((l=>{o.result=l})).next((()=>{if(!o.result)return this.ws(t,e,r,i).next((l=>{o.result=l}))})).next((()=>{if(o.result)return;const l=new ez;return this.Ss(t,e,l).next((u=>{if(o.result=u,this.Vs)return this.bs(t,e,l,u.size)}))})).next((()=>o.result))}bs(t,e,i,r){return i.documentReadCount<this.fs?(hl()<=qt.DEBUG&&mt("QueryEngine","SDK will not create cache indexes for query:",dl(e),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),at.resolve()):(hl()<=qt.DEBUG&&mt("QueryEngine","Query:",dl(e),"scans",i.documentReadCount,"local documents and returns",r,"documents as results."),i.documentReadCount>this.gs*r?(hl()<=qt.DEBUG&&mt("QueryEngine","The SDK decides to create cache indexes for query:",dl(e),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,Ss(e))):at.resolve())}ys(t,e){if(HT(e))return at.resolve(null);let i=Ss(e);return this.indexManager.getIndexType(t,i).next((r=>r===0?null:(e.limit!==null&&r===1&&(e=Zy(e,null,"F"),i=Ss(e)),this.indexManager.getDocumentsMatchingTarget(t,i).next((o=>{const l=$t(...o);return this.ps.getDocuments(t,l).next((u=>this.indexManager.getMinOffset(t,i).next((d=>{const f=this.Ds(e,u);return this.Cs(e,f,l,d.readTime)?this.ys(t,Zy(e,null,"F")):this.vs(t,f,e,d)}))))})))))}ws(t,e,i,r){return HT(e)||r.isEqual(Nt.min())?at.resolve(null):this.ps.getDocuments(t,i).next((o=>{const l=this.Ds(e,o);return this.Cs(e,l,i,r)?at.resolve(null):(hl()<=qt.DEBUG&&mt("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),dl(e)),this.vs(t,l,e,TP(r,ku)).next((u=>u)))}))}Ds(t,e){let i=new Xe(ZA(t));return e.forEach(((r,o)=>{Tg(t,o)&&(i=i.add(o))})),i}Cs(t,e,i,r){if(t.limit===null)return!1;if(i.size!==e.size)return!0;const o=t.limitType==="F"?e.last():e.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(r)>0)}Ss(t,e,i){return hl()<=qt.DEBUG&&mt("QueryEngine","Using full collection scan to execute query:",dl(e)),this.ps.getDocumentsMatchingQuery(t,e,aa.min(),i)}vs(t,e,i,r){return this.ps.getDocumentsMatchingQuery(t,i,r).next((o=>(e.forEach((l=>{o=o.insert(l.key,l)})),o)))}}const rb="LocalStore",iz=3e8;class sz{constructor(t,e,i,r){this.persistence=t,this.Fs=e,this.serializer=r,this.Ms=new Te(Gt),this.xs=new _o((o=>K0(o)),Q0),this.Os=new Map,this.Ns=t.getRemoteDocumentCache(),this.Pi=t.getTargetCache(),this.Ii=t.getBundleCache(),this.Bs(i)}Bs(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new $4(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(e=>t.collect(e,this.Ms)))}}function rz(n,t,e,i){return new sz(n,t,e,i)}async function EC(n,t){const e=Ot(n);return await e.persistence.runTransaction("Handle user change","readonly",(i=>{let r;return e.mutationQueue.getAllMutationBatches(i).next((o=>(r=o,e.Bs(t),e.mutationQueue.getAllMutationBatches(i)))).next((o=>{const l=[],u=[];let d=$t();for(const f of r){l.push(f.batchId);for(const p of f.mutations)d=d.add(p.key)}for(const f of o){u.push(f.batchId);for(const p of f.mutations)d=d.add(p.key)}return e.localDocuments.getDocuments(i,d).next((f=>({Ls:f,removedBatchIds:l,addedBatchIds:u})))}))}))}function az(n,t){const e=Ot(n);return e.persistence.runTransaction("Acknowledge batch","readwrite-primary",(i=>{const r=t.batch.keys(),o=e.Ns.newChangeBuffer({trackRemovals:!0});return(function(u,d,f,p){const y=f.batch,_=y.keys();let v=at.resolve();return _.forEach((S=>{v=v.next((()=>p.getEntry(d,S))).next((C=>{const w=f.docVersions.get(S);se(w!==null,48541),C.version.compareTo(w)<0&&(y.applyToRemoteDocument(C,f),C.isValidDocument()&&(C.setReadTime(f.commitVersion),p.addEntry(C)))}))})),v.next((()=>u.mutationQueue.removeMutationBatch(d,y)))})(e,i,t,o).next((()=>o.apply(i))).next((()=>e.mutationQueue.performConsistencyCheck(i))).next((()=>e.documentOverlayCache.removeOverlaysForBatchId(i,r,t.batch.batchId))).next((()=>e.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,(function(u){let d=$t();for(let f=0;f<u.mutationResults.length;++f)u.mutationResults[f].transformResults.length>0&&(d=d.add(u.batch.mutations[f].key));return d})(t)))).next((()=>e.localDocuments.getDocuments(i,r)))}))}function TC(n){const t=Ot(n);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Pi.getLastRemoteSnapshotVersion(e)))}function oz(n,t){const e=Ot(n),i=t.snapshotVersion;let r=e.Ms;return e.persistence.runTransaction("Apply remote event","readwrite-primary",(o=>{const l=e.Ns.newChangeBuffer({trackRemovals:!0});r=e.Ms;const u=[];t.targetChanges.forEach(((p,y)=>{const _=r.get(y);if(!_)return;u.push(e.Pi.removeMatchingKeys(o,p.removedDocuments,y).next((()=>e.Pi.addMatchingKeys(o,p.addedDocuments,y))));let v=_.withSequenceNumber(o.currentSequenceNumber);t.targetMismatches.get(y)!==null?v=v.withResumeToken(yn.EMPTY_BYTE_STRING,Nt.min()).withLastLimboFreeSnapshotVersion(Nt.min()):p.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(p.resumeToken,i)),r=r.insert(y,v),(function(C,w,O){return C.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=iz?!0:O.addedDocuments.size+O.modifiedDocuments.size+O.removedDocuments.size>0})(_,v,p)&&u.push(e.Pi.updateTargetData(o,v))}));let d=rr(),f=$t();if(t.documentUpdates.forEach((p=>{t.resolvedLimboDocuments.has(p)&&u.push(e.persistence.referenceDelegate.updateLimboDocument(o,p))})),u.push(lz(o,l,t.documentUpdates).next((p=>{d=p.ks,f=p.qs}))),!i.isEqual(Nt.min())){const p=e.Pi.getLastRemoteSnapshotVersion(o).next((y=>e.Pi.setTargetsMetadata(o,o.currentSequenceNumber,i)));u.push(p)}return at.waitFor(u).next((()=>l.apply(o))).next((()=>e.localDocuments.getLocalViewOfDocuments(o,d,f))).next((()=>d))})).then((o=>(e.Ms=r,o)))}function lz(n,t,e){let i=$t(),r=$t();return e.forEach((o=>i=i.add(o))),t.getEntries(n,i).next((o=>{let l=rr();return e.forEach(((u,d)=>{const f=o.get(u);d.isFoundDocument()!==f.isFoundDocument()&&(r=r.add(u)),d.isNoDocument()&&d.version.isEqual(Nt.min())?(t.removeEntry(u,d.readTime),l=l.insert(u,d)):!f.isValidDocument()||d.version.compareTo(f.version)>0||d.version.compareTo(f.version)===0&&f.hasPendingWrites?(t.addEntry(d),l=l.insert(u,d)):mt(rb,"Ignoring outdated watch update for ",u,". Current version:",f.version," Watch version:",d.version)})),{ks:l,qs:r}}))}function cz(n,t){const e=Ot(n);return e.persistence.runTransaction("Get next mutation batch","readonly",(i=>(t===void 0&&(t=$0),e.mutationQueue.getNextMutationBatchAfterBatchId(i,t))))}function uz(n,t){const e=Ot(n);return e.persistence.runTransaction("Allocate target","readwrite",(i=>{let r;return e.Pi.getTargetData(i,t).next((o=>o?(r=o,at.resolve(r)):e.Pi.allocateTargetId(i).next((l=>(r=new Wr(t,l,"TargetPurposeListen",i.currentSequenceNumber),e.Pi.addTargetData(i,r).next((()=>r)))))))})).then((i=>{const r=e.Ms.get(i.targetId);return(r===null||i.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(e.Ms=e.Ms.insert(i.targetId,i),e.xs.set(t,i.targetId)),i}))}async function s0(n,t,e){const i=Ot(n),r=i.Ms.get(t),o=e?"readwrite":"readwrite-primary";try{e||await i.persistence.runTransaction("Release target",o,(l=>i.persistence.referenceDelegate.removeTarget(l,r)))}catch(l){if(!Fl(l))throw l;mt(rb,`Failed to update sequence numbers for target ${t}: ${l}`)}i.Ms=i.Ms.remove(t),i.xs.delete(r.target)}function nS(n,t,e){const i=Ot(n);let r=Nt.min(),o=$t();return i.persistence.runTransaction("Execute query","readwrite",(l=>(function(d,f,p){const y=Ot(d),_=y.xs.get(p);return _!==void 0?at.resolve(y.Ms.get(_)):y.Pi.getTargetData(f,p)})(i,l,Ss(t)).next((u=>{if(u)return r=u.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(l,u.targetId).next((d=>{o=d}))})).next((()=>i.Fs.getDocumentsMatchingQuery(l,t,e?r:Nt.min(),e?o:$t()))).next((u=>(hz(i,KP(t),u),{documents:u,Qs:o})))))}function hz(n,t,e){let i=n.Os.get(t)||Nt.min();e.forEach(((r,o)=>{o.readTime.compareTo(i)>0&&(i=o.readTime)})),n.Os.set(t,i)}class iS{constructor(){this.activeTargetIds=e4()}zs(t){this.activeTargetIds=this.activeTargetIds.add(t)}js(t){this.activeTargetIds=this.activeTargetIds.delete(t)}Gs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class dz{constructor(){this.Mo=new iS,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,e,i){}addLocalQueryTarget(t,e=!0){return e&&this.Mo.zs(t),this.xo[t]||"not-current"}updateQueryState(t,e,i){this.xo[t]=e}removeLocalQueryTarget(t){this.Mo.js(t)}isLocalQueryTarget(t){return this.Mo.activeTargetIds.has(t)}clearQueryState(t){delete this.xo[t]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(t){return this.Mo.activeTargetIds.has(t)}start(){return this.Mo=new iS,Promise.resolve()}handleUserChange(t,e,i){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}class fz{Oo(t){}shutdown(){}}const sS="ConnectivityMonitor";class rS{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(t){this.qo.push(t)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){mt(sS,"Network connectivity changed: AVAILABLE");for(const t of this.qo)t(0)}ko(){mt(sS,"Network connectivity changed: UNAVAILABLE");for(const t of this.qo)t(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let Zd=null;function r0(){return Zd===null?Zd=(function(){return 268435456+Math.round(2147483648*Math.random())})():Zd++,"0x"+Zd.toString(16)}const uy="RestConnection",gz={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class pz{get $o(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const e=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Uo=e+"://"+t.host,this.Ko=`projects/${i}/databases/${r}`,this.Wo=this.databaseId.database===Bf?`project_id=${i}`:`project_id=${i}&database_id=${r}`}Go(t,e,i,r,o){const l=r0(),u=this.zo(t,e.toUriEncodedString());mt(uy,`Sending RPC '${t}' ${l}:`,u,i);const d={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(d,r,o);const{host:f}=new URL(u),p=Ll(f);return this.Jo(t,u,d,i,p).then((y=>(mt(uy,`Received RPC '${t}' ${l}: `,y),y)),(y=>{throw wl(uy,`RPC '${t}' ${l} failed with error: `,y,"url: ",u,"request:",i),y}))}Ho(t,e,i,r,o,l){return this.Go(t,e,i,r,o)}jo(t,e,i){t["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Bl})(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),e&&e.headers.forEach(((r,o)=>t[o]=r)),i&&i.headers.forEach(((r,o)=>t[o]=r))}zo(t,e){const i=gz[t];return`${this.Uo}/v1/${e}:${i}`}terminate(){}}class mz{constructor(t){this.Yo=t.Yo,this.Zo=t.Zo}Xo(t){this.e_=t}t_(t){this.n_=t}r_(t){this.i_=t}onMessage(t){this.s_=t}close(){this.Zo()}send(t){this.Yo(t)}o_(){this.e_()}__(){this.n_()}a_(t){this.i_(t)}u_(t){this.s_(t)}}const _n="WebChannelConnection";class yz extends pz{constructor(t){super(t),this.c_=[],this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Jo(t,e,i,r,o){const l=r0();return new Promise(((u,d)=>{const f=new AA;f.setWithCredentials(!0),f.listenOnce(CA.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case Ef.NO_ERROR:const y=f.getResponseJson();mt(_n,`XHR for RPC '${t}' ${l} received:`,JSON.stringify(y)),u(y);break;case Ef.TIMEOUT:mt(_n,`RPC '${t}' ${l} timed out`),d(new gt(st.DEADLINE_EXCEEDED,"Request time out"));break;case Ef.HTTP_ERROR:const _=f.getStatus();if(mt(_n,`RPC '${t}' ${l} failed with status:`,_,"response text:",f.getResponseText()),_>0){let v=f.getResponseJson();Array.isArray(v)&&(v=v[0]);const S=v?.error;if(S&&S.status&&S.message){const C=(function(O){const L=O.toLowerCase().replace(/_/g,"-");return Object.values(st).indexOf(L)>=0?L:st.UNKNOWN})(S.status);d(new gt(C,S.message))}else d(new gt(st.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new gt(st.UNAVAILABLE,"Connection failed."));break;default:It(9055,{l_:t,streamId:l,h_:f.getLastErrorCode(),P_:f.getLastError()})}}finally{mt(_n,`RPC '${t}' ${l} completed.`)}}));const p=JSON.stringify(r);mt(_n,`RPC '${t}' ${l} sending request:`,r),f.send(e,"POST",p,i,15)}))}T_(t,e,i){const r=r0(),o=[this.Uo,"/","google.firestore.v1.Firestore","/",t,"/channel"],l=RA(),u=DA(),d={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(d.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(d.useFetchStreams=!0),this.jo(d.initMessageHeaders,e,i),d.encodeInitMessageHeaders=!0;const p=o.join("");mt(_n,`Creating RPC '${t}' stream ${r}: ${p}`,d);const y=l.createWebChannel(p,d);this.I_(y);let _=!1,v=!1;const S=new mz({Yo:w=>{v?mt(_n,`Not sending because RPC '${t}' stream ${r} is closed:`,w):(_||(mt(_n,`Opening RPC '${t}' stream ${r} transport.`),y.open(),_=!0),mt(_n,`RPC '${t}' stream ${r} sending:`,w),y.send(w))},Zo:()=>y.close()}),C=(w,O,L)=>{w.listen(O,(H=>{try{L(H)}catch(q){setTimeout((()=>{throw q}),0)}}))};return C(y,cu.EventType.OPEN,(()=>{v||(mt(_n,`RPC '${t}' stream ${r} transport opened.`),S.o_())})),C(y,cu.EventType.CLOSE,(()=>{v||(v=!0,mt(_n,`RPC '${t}' stream ${r} transport closed`),S.a_(),this.E_(y))})),C(y,cu.EventType.ERROR,(w=>{v||(v=!0,wl(_n,`RPC '${t}' stream ${r} transport errored. Name:`,w.name,"Message:",w.message),S.a_(new gt(st.UNAVAILABLE,"The operation could not be completed")))})),C(y,cu.EventType.MESSAGE,(w=>{if(!v){const O=w.data[0];se(!!O,16349);const L=O,H=L?.error||L[0]?.error;if(H){mt(_n,`RPC '${t}' stream ${r} received error:`,H);const q=H.status;let F=(function(I){const N=Ge[I];if(N!==void 0)return uC(N)})(q),G=H.message;F===void 0&&(F=st.INTERNAL,G="Unknown error status: "+q+" with message "+H.message),v=!0,S.a_(new gt(F,G)),y.close()}else mt(_n,`RPC '${t}' stream ${r} received:`,O),S.u_(O)}})),C(u,IA.STAT_EVENT,(w=>{w.stat===$y.PROXY?mt(_n,`RPC '${t}' stream ${r} detected buffering proxy`):w.stat===$y.NOPROXY&&mt(_n,`RPC '${t}' stream ${r} detected no buffering proxy`)})),setTimeout((()=>{S.__()}),0),S}terminate(){this.c_.forEach((t=>t.close())),this.c_=[]}I_(t){this.c_.push(t)}E_(t){this.c_=this.c_.filter((e=>e===t))}}function hy(){return typeof document<"u"?document:null}function Ig(n){return new x4(n,!0)}class SC{constructor(t,e,i=1e3,r=1.5,o=6e4){this.Mi=t,this.timerId=e,this.d_=i,this.A_=r,this.R_=o,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(t){this.cancel();const e=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),r=Math.max(0,e-i);r>0&&mt("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.V_} ms, delay with jitter: ${e} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,r,(()=>(this.f_=Date.now(),t()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}const aS="PersistentStream";class wC{constructor(t,e,i,r,o,l,u,d){this.Mi=t,this.S_=i,this.b_=r,this.connection=o,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=u,this.listener=d,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new SC(t,e)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(t){this.Q_(),this.stream.send(t)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(t,e){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,t!==4?this.M_.reset():e&&e.code===st.RESOURCE_EXHAUSTED?(sr(e.toString()),sr("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):e&&e.code===st.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.r_(e)}K_(){}auth(){this.state=1;const t=this.W_(this.D_),e=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([i,r])=>{this.D_===e&&this.G_(i,r)}),(i=>{t((()=>{const r=new gt(st.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(r)}))}))}G_(t,e){const i=this.W_(this.D_);this.stream=this.j_(t,e),this.stream.Xo((()=>{i((()=>this.listener.Xo()))})),this.stream.t_((()=>{i((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((r=>{i((()=>this.z_(r)))})),this.stream.onMessage((r=>{i((()=>++this.F_==1?this.J_(r):this.onNext(r)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(t){return mt(aS,`close with error: ${t}`),this.stream=null,this.close(4,t)}W_(t){return e=>{this.Mi.enqueueAndForget((()=>this.D_===t?e():(mt(aS,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class bz extends wC{constructor(t,e,i,r,o,l){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",e,i,r,l),this.serializer=o}j_(t,e){return this.connection.T_("Listen",t,e)}J_(t){return this.onNext(t)}onNext(t){this.M_.reset();const e=S4(this.serializer,t),i=(function(o){if(!("targetChange"in o))return Nt.min();const l=o.targetChange;return l.targetIds&&l.targetIds.length?Nt.min():l.readTime?ws(l.readTime):Nt.min()})(t);return this.listener.H_(e,i)}Y_(t){const e={};e.database=i0(this.serializer),e.addTarget=(function(o,l){let u;const d=l.target;if(u=Xy(d)?{documents:C4(o,d)}:{query:I4(o,d).ft},u.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){u.resumeToken=fC(o,l.resumeToken);const f=t0(o,l.expectedCount);f!==null&&(u.expectedCount=f)}else if(l.snapshotVersion.compareTo(Nt.min())>0){u.readTime=qf(o,l.snapshotVersion.toTimestamp());const f=t0(o,l.expectedCount);f!==null&&(u.expectedCount=f)}return u})(this.serializer,t);const i=R4(this.serializer,t);i&&(e.labels=i),this.q_(e)}Z_(t){const e={};e.database=i0(this.serializer),e.removeTarget=t,this.q_(e)}}class _z extends wC{constructor(t,e,i,r,o,l){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",e,i,r,l),this.serializer=o}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(t,e){return this.connection.T_("Write",t,e)}J_(t){return se(!!t.streamToken,31322),this.lastStreamToken=t.streamToken,se(!t.writeResults||t.writeResults.length===0,55816),this.listener.ta()}onNext(t){se(!!t.streamToken,12678),this.lastStreamToken=t.streamToken,this.M_.reset();const e=A4(t.writeResults,t.commitTime),i=ws(t.commitTime);return this.listener.na(i,e)}ra(){const t={};t.database=i0(this.serializer),this.q_(t)}ea(t){const e={streamToken:this.lastStreamToken,writes:t.map((i=>w4(this.serializer,i)))};this.q_(e)}}class vz{}class xz extends vz{constructor(t,e,i,r){super(),this.authCredentials=t,this.appCheckCredentials=e,this.connection=i,this.serializer=r,this.ia=!1}sa(){if(this.ia)throw new gt(st.FAILED_PRECONDITION,"The client has already been terminated.")}Go(t,e,i,r){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([o,l])=>this.connection.Go(t,e0(e,i),r,o,l))).catch((o=>{throw o.name==="FirebaseError"?(o.code===st.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new gt(st.UNKNOWN,o.toString())}))}Ho(t,e,i,r,o){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,u])=>this.connection.Ho(t,e0(e,i),r,l,u,o))).catch((l=>{throw l.name==="FirebaseError"?(l.code===st.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new gt(st.UNKNOWN,l.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Ez{constructor(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(t){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.ca("Offline")))}set(t){this.Pa(),this.oa=0,t==="Online"&&(this.aa=!1),this.ca(t)}ca(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}la(t){const e=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(sr(e),this.aa=!1):mt("OnlineStateTracker",e)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const po="RemoteStore";class Tz{constructor(t,e,i,r,o){this.localStore=t,this.datastore=e,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=o,this.Aa.Oo((l=>{i.enqueueAndForget((async()=>{vo(this)&&(mt(po,"Restarting streams for network reachability change."),await(async function(d){const f=Ot(d);f.Ea.add(4),await uh(f),f.Ra.set("Unknown"),f.Ea.delete(4),await Dg(f)})(this))}))})),this.Ra=new Ez(i,r)}}async function Dg(n){if(vo(n))for(const t of n.da)await t(!0)}async function uh(n){for(const t of n.da)await t(!1)}function AC(n,t){const e=Ot(n);e.Ia.has(t.targetId)||(e.Ia.set(t.targetId,t),cb(e)?lb(e):ql(e).O_()&&ob(e,t))}function ab(n,t){const e=Ot(n),i=ql(e);e.Ia.delete(t),i.O_()&&CC(e,t),e.Ia.size===0&&(i.O_()?i.L_():vo(e)&&e.Ra.set("Unknown"))}function ob(n,t){if(n.Va.Ue(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Nt.min())>0){const e=n.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(e)}ql(n).Y_(t)}function CC(n,t){n.Va.Ue(t),ql(n).Z_(t)}function lb(n){n.Va=new y4({getRemoteKeysForTarget:t=>n.remoteSyncer.getRemoteKeysForTarget(t),At:t=>n.Ia.get(t)||null,ht:()=>n.datastore.serializer.databaseId}),ql(n).start(),n.Ra.ua()}function cb(n){return vo(n)&&!ql(n).x_()&&n.Ia.size>0}function vo(n){return Ot(n).Ea.size===0}function IC(n){n.Va=void 0}async function Sz(n){n.Ra.set("Online")}async function wz(n){n.Ia.forEach(((t,e)=>{ob(n,t)}))}async function Az(n,t){IC(n),cb(n)?(n.Ra.ha(t),lb(n)):n.Ra.set("Unknown")}async function Cz(n,t,e){if(n.Ra.set("Online"),t instanceof dC&&t.state===2&&t.cause)try{await(async function(r,o){const l=o.cause;for(const u of o.targetIds)r.Ia.has(u)&&(await r.remoteSyncer.rejectListen(u,l),r.Ia.delete(u),r.Va.removeTarget(u))})(n,t)}catch(i){mt(po,"Failed to remove targets %s: %s ",t.targetIds.join(","),i),await $f(n,i)}else if(t instanceof Af?n.Va.Ze(t):t instanceof hC?n.Va.st(t):n.Va.tt(t),!e.isEqual(Nt.min()))try{const i=await TC(n.localStore);e.compareTo(i)>=0&&await(function(o,l){const u=o.Va.Tt(l);return u.targetChanges.forEach(((d,f)=>{if(d.resumeToken.approximateByteSize()>0){const p=o.Ia.get(f);p&&o.Ia.set(f,p.withResumeToken(d.resumeToken,l))}})),u.targetMismatches.forEach(((d,f)=>{const p=o.Ia.get(d);if(!p)return;o.Ia.set(d,p.withResumeToken(yn.EMPTY_BYTE_STRING,p.snapshotVersion)),CC(o,d);const y=new Wr(p.target,d,f,p.sequenceNumber);ob(o,y)})),o.remoteSyncer.applyRemoteEvent(u)})(n,e)}catch(i){mt(po,"Failed to raise snapshot:",i),await $f(n,i)}}async function $f(n,t,e){if(!Fl(t))throw t;n.Ea.add(1),await uh(n),n.Ra.set("Offline"),e||(e=()=>TC(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{mt(po,"Retrying IndexedDB access"),await e(),n.Ea.delete(1),await Dg(n)}))}function DC(n,t){return t().catch((e=>$f(n,e,t)))}async function Rg(n){const t=Ot(n),e=ua(t);let i=t.Ta.length>0?t.Ta[t.Ta.length-1].batchId:$0;for(;Iz(t);)try{const r=await cz(t.localStore,i);if(r===null){t.Ta.length===0&&e.L_();break}i=r.batchId,Dz(t,r)}catch(r){await $f(t,r)}RC(t)&&NC(t)}function Iz(n){return vo(n)&&n.Ta.length<10}function Dz(n,t){n.Ta.push(t);const e=ua(n);e.O_()&&e.X_&&e.ea(t.mutations)}function RC(n){return vo(n)&&!ua(n).x_()&&n.Ta.length>0}function NC(n){ua(n).start()}async function Rz(n){ua(n).ra()}async function Nz(n){const t=ua(n);for(const e of n.Ta)t.ea(e.mutations)}async function kz(n,t,e){const i=n.Ta.shift(),r=Z0.from(i,t,e);await DC(n,(()=>n.remoteSyncer.applySuccessfulWrite(r))),await Rg(n)}async function Oz(n,t){t&&ua(n).X_&&await(async function(i,r){if((function(l){return g4(l)&&l!==st.ABORTED})(r.code)){const o=i.Ta.shift();ua(i).B_(),await DC(i,(()=>i.remoteSyncer.rejectFailedWrite(o.batchId,r))),await Rg(i)}})(n,t),RC(n)&&NC(n)}async function oS(n,t){const e=Ot(n);e.asyncQueue.verifyOperationInProgress(),mt(po,"RemoteStore received new credentials");const i=vo(e);e.Ea.add(3),await uh(e),i&&e.Ra.set("Unknown"),await e.remoteSyncer.handleCredentialChange(t),e.Ea.delete(3),await Dg(e)}async function Mz(n,t){const e=Ot(n);t?(e.Ea.delete(2),await Dg(e)):t||(e.Ea.add(2),await uh(e),e.Ra.set("Unknown"))}function ql(n){return n.ma||(n.ma=(function(e,i,r){const o=Ot(e);return o.sa(),new bz(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)})(n.datastore,n.asyncQueue,{Xo:Sz.bind(null,n),t_:wz.bind(null,n),r_:Az.bind(null,n),H_:Cz.bind(null,n)}),n.da.push((async t=>{t?(n.ma.B_(),cb(n)?lb(n):n.Ra.set("Unknown")):(await n.ma.stop(),IC(n))}))),n.ma}function ua(n){return n.fa||(n.fa=(function(e,i,r){const o=Ot(e);return o.sa(),new _z(i,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,r)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:Rz.bind(null,n),r_:Oz.bind(null,n),ta:Nz.bind(null,n),na:kz.bind(null,n)}),n.da.push((async t=>{t?(n.fa.B_(),await Rg(n)):(await n.fa.stop(),n.Ta.length>0&&(mt(po,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}class ub{constructor(t,e,i,r,o){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=i,this.op=r,this.removalCallback=o,this.deferred=new ea,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(t,e,i,r,o){const l=Date.now()+i,u=new ub(t,e,l,r,o);return u.start(i),u}start(t){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new gt(st.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((t=>this.deferred.resolve(t)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hb(n,t){if(sr("AsyncQueue",`${t}: ${n}`),Fl(n))return new gt(st.UNAVAILABLE,`${t}: ${n}`);throw n}class vl{static emptySet(t){return new vl(t.comparator)}constructor(t){this.comparator=t?(e,i)=>t(e,i)||St.comparator(e.key,i.key):(e,i)=>St.comparator(e.key,i.key),this.keyedMap=uu(),this.sortedSet=new Te(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal(((e,i)=>(t(e),!1)))}add(t){const e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))}delete(t){const e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this}isEqual(t){if(!(t instanceof vl)||this.size!==t.size)return!1;const e=this.sortedSet.getIterator(),i=t.sortedSet.getIterator();for(;e.hasNext();){const r=e.getNext().key,o=i.getNext().key;if(!r.isEqual(o))return!1}return!0}toString(){const t=[];return this.forEach((e=>{t.push(e.toString())})),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,e){const i=new vl;return i.comparator=this.comparator,i.keyedMap=t,i.sortedSet=e,i}}class lS{constructor(){this.ga=new Te(St.comparator)}track(t){const e=t.doc.key,i=this.ga.get(e);i?t.type!==0&&i.type===3?this.ga=this.ga.insert(e,t):t.type===3&&i.type!==1?this.ga=this.ga.insert(e,{type:i.type,doc:t.doc}):t.type===2&&i.type===2?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):t.type===2&&i.type===0?this.ga=this.ga.insert(e,{type:0,doc:t.doc}):t.type===1&&i.type===0?this.ga=this.ga.remove(e):t.type===1&&i.type===2?this.ga=this.ga.insert(e,{type:1,doc:i.doc}):t.type===0&&i.type===1?this.ga=this.ga.insert(e,{type:2,doc:t.doc}):It(63341,{Rt:t,pa:i}):this.ga=this.ga.insert(e,t)}ya(){const t=[];return this.ga.inorderTraversal(((e,i)=>{t.push(i)})),t}}class Rl{constructor(t,e,i,r,o,l,u,d,f){this.query=t,this.docs=e,this.oldDocs=i,this.docChanges=r,this.mutatedKeys=o,this.fromCache=l,this.syncStateChanged=u,this.excludesMetadataChanges=d,this.hasCachedResults=f}static fromInitialDocuments(t,e,i,r,o){const l=[];return e.forEach((u=>{l.push({type:0,doc:u})})),new Rl(t,e,vl.emptySet(e),l,i,r,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Eg(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const e=this.docChanges,i=t.docChanges;if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(e[r].type!==i[r].type||!e[r].doc.isEqual(i[r].doc))return!1;return!0}}class Pz{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((t=>t.Da()))}}class zz{constructor(){this.queries=cS(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(e,i){const r=Ot(e),o=r.queries;r.queries=cS(),o.forEach(((l,u)=>{for(const d of u.Sa)d.onError(i)}))})(this,new gt(st.ABORTED,"Firestore shutting down"))}}function cS(){return new _o((n=>JA(n)),Eg)}async function kC(n,t){const e=Ot(n);let i=3;const r=t.query;let o=e.queries.get(r);o?!o.ba()&&t.Da()&&(i=2):(o=new Pz,i=t.Da()?0:1);try{switch(i){case 0:o.wa=await e.onListen(r,!0);break;case 1:o.wa=await e.onListen(r,!1);break;case 2:await e.onFirstRemoteStoreListen(r)}}catch(l){const u=hb(l,`Initialization of query '${dl(t.query)}' failed`);return void t.onError(u)}e.queries.set(r,o),o.Sa.push(t),t.va(e.onlineState),o.wa&&t.Fa(o.wa)&&db(e)}async function OC(n,t){const e=Ot(n),i=t.query;let r=3;const o=e.queries.get(i);if(o){const l=o.Sa.indexOf(t);l>=0&&(o.Sa.splice(l,1),o.Sa.length===0?r=t.Da()?0:1:!o.ba()&&t.Da()&&(r=2))}switch(r){case 0:return e.queries.delete(i),e.onUnlisten(i,!0);case 1:return e.queries.delete(i),e.onUnlisten(i,!1);case 2:return e.onLastRemoteStoreUnlisten(i);default:return}}function Lz(n,t){const e=Ot(n);let i=!1;for(const r of t){const o=r.query,l=e.queries.get(o);if(l){for(const u of l.Sa)u.Fa(r)&&(i=!0);l.wa=r}}i&&db(e)}function Vz(n,t,e){const i=Ot(n),r=i.queries.get(t);if(r)for(const o of r.Sa)o.onError(e);i.queries.delete(t)}function db(n){n.Ca.forEach((t=>{t.next()}))}var a0,uS;(uS=a0||(a0={})).Ma="default",uS.Cache="cache";class MC{constructor(t,e,i){this.query=t,this.xa=e,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(t){if(!this.options.includeMetadataChanges){const i=[];for(const r of t.docChanges)r.type!==3&&i.push(r);t=new Rl(t.query,t.docs,t.oldDocs,i,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let e=!1;return this.Oa?this.Ba(t)&&(this.xa.next(t),e=!0):this.La(t,this.onlineState)&&(this.ka(t),e=!0),this.Na=t,e}onError(t){this.xa.error(t)}va(t){this.onlineState=t;let e=!1;return this.Na&&!this.Oa&&this.La(this.Na,t)&&(this.ka(this.Na),e=!0),e}La(t,e){if(!t.fromCache||!this.Da())return!0;const i=e!=="Offline";return(!this.options.qa||!i)&&(!t.docs.isEmpty()||t.hasCachedResults||e==="Offline")}Ba(t){if(t.docChanges.length>0)return!0;const e=this.Na&&this.Na.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&this.options.includeMetadataChanges===!0}ka(t){t=Rl.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Oa=!0,this.xa.next(t)}Da(){return this.options.source!==a0.Cache}}class PC{constructor(t){this.key=t}}class zC{constructor(t){this.key=t}}class jz{constructor(t,e){this.query=t,this.Ya=e,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=$t(),this.mutatedKeys=$t(),this.eu=ZA(t),this.tu=new vl(this.eu)}get nu(){return this.Ya}ru(t,e){const i=e?e.iu:new lS,r=e?e.tu:this.tu;let o=e?e.mutatedKeys:this.mutatedKeys,l=r,u=!1;const d=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,f=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(t.inorderTraversal(((p,y)=>{const _=r.get(p),v=Tg(this.query,y)?y:null,S=!!_&&this.mutatedKeys.has(_.key),C=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let w=!1;_&&v?_.data.isEqual(v.data)?S!==C&&(i.track({type:3,doc:v}),w=!0):this.su(_,v)||(i.track({type:2,doc:v}),w=!0,(d&&this.eu(v,d)>0||f&&this.eu(v,f)<0)&&(u=!0)):!_&&v?(i.track({type:0,doc:v}),w=!0):_&&!v&&(i.track({type:1,doc:_}),w=!0,(d||f)&&(u=!0)),w&&(v?(l=l.add(v),o=C?o.add(p):o.delete(p)):(l=l.delete(p),o=o.delete(p)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const p=this.query.limitType==="F"?l.last():l.first();l=l.delete(p.key),o=o.delete(p.key),i.track({type:1,doc:p})}return{tu:l,iu:i,Cs:u,mutatedKeys:o}}su(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations}applyChanges(t,e,i,r){const o=this.tu;this.tu=t.tu,this.mutatedKeys=t.mutatedKeys;const l=t.iu.ya();l.sort(((p,y)=>(function(v,S){const C=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return It(20277,{Rt:w})}};return C(v)-C(S)})(p.type,y.type)||this.eu(p.doc,y.doc))),this.ou(i),r=r??!1;const u=e&&!r?this._u():[],d=this.Xa.size===0&&this.current&&!r?1:0,f=d!==this.Za;return this.Za=d,l.length!==0||f?{snapshot:new Rl(this.query,t.tu,o,l,t.mutatedKeys,d===0,f,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:u}:{au:u}}va(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new lS,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(t){return!this.Ya.has(t)&&!!this.tu.has(t)&&!this.tu.get(t).hasLocalMutations}ou(t){t&&(t.addedDocuments.forEach((e=>this.Ya=this.Ya.add(e))),t.modifiedDocuments.forEach((e=>{})),t.removedDocuments.forEach((e=>this.Ya=this.Ya.delete(e))),this.current=t.current)}_u(){if(!this.current)return[];const t=this.Xa;this.Xa=$t(),this.tu.forEach((i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))}));const e=[];return t.forEach((i=>{this.Xa.has(i)||e.push(new zC(i))})),this.Xa.forEach((i=>{t.has(i)||e.push(new PC(i))})),e}cu(t){this.Ya=t.Qs,this.Xa=$t();const e=this.ru(t.documents);return this.applyChanges(e,!0)}lu(){return Rl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const fb="SyncEngine";class Bz{constructor(t,e,i){this.query=t,this.targetId=e,this.view=i}}class Uz{constructor(t){this.key=t,this.hu=!1}}class Fz{constructor(t,e,i,r,o,l){this.localStore=t,this.remoteStore=e,this.eventManager=i,this.sharedClientState=r,this.currentUser=o,this.maxConcurrentLimboResolutions=l,this.Pu={},this.Tu=new _o((u=>JA(u)),Eg),this.Iu=new Map,this.Eu=new Set,this.du=new Te(St.comparator),this.Au=new Map,this.Ru=new nb,this.Vu={},this.mu=new Map,this.fu=Dl.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Hz(n,t,e=!0){const i=FC(n);let r;const o=i.Tu.get(t);return o?(i.sharedClientState.addLocalQueryTarget(o.targetId),r=o.view.lu()):r=await LC(i,t,e,!0),r}async function qz(n,t){const e=FC(n);await LC(e,t,!0,!1)}async function LC(n,t,e,i){const r=await uz(n.localStore,Ss(t)),o=r.targetId,l=n.sharedClientState.addLocalQueryTarget(o,e);let u;return i&&(u=await Gz(n,t,o,l==="current",r.resumeToken)),n.isPrimaryClient&&e&&AC(n.remoteStore,r),u}async function Gz(n,t,e,i,r){n.pu=(y,_,v)=>(async function(C,w,O,L){let H=w.view.ru(O);H.Cs&&(H=await nS(C.localStore,w.query,!1).then((({documents:R})=>w.view.ru(R,H))));const q=L&&L.targetChanges.get(w.targetId),F=L&&L.targetMismatches.get(w.targetId)!=null,G=w.view.applyChanges(H,C.isPrimaryClient,q,F);return dS(C,w.targetId,G.au),G.snapshot})(n,y,_,v);const o=await nS(n.localStore,t,!0),l=new jz(t,o.Qs),u=l.ru(o.documents),d=ch.createSynthesizedTargetChangeForCurrentChange(e,i&&n.onlineState!=="Offline",r),f=l.applyChanges(u,n.isPrimaryClient,d);dS(n,e,f.au);const p=new Bz(t,e,l);return n.Tu.set(t,p),n.Iu.has(e)?n.Iu.get(e).push(t):n.Iu.set(e,[t]),f.snapshot}async function $z(n,t,e){const i=Ot(n),r=i.Tu.get(t),o=i.Iu.get(r.targetId);if(o.length>1)return i.Iu.set(r.targetId,o.filter((l=>!Eg(l,t)))),void i.Tu.delete(t);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(r.targetId),i.sharedClientState.isActiveQueryTarget(r.targetId)||await s0(i.localStore,r.targetId,!1).then((()=>{i.sharedClientState.clearQueryState(r.targetId),e&&ab(i.remoteStore,r.targetId),o0(i,r.targetId)})).catch(Ul)):(o0(i,r.targetId),await s0(i.localStore,r.targetId,!0))}async function Wz(n,t){const e=Ot(n),i=e.Tu.get(t),r=e.Iu.get(i.targetId);e.isPrimaryClient&&r.length===1&&(e.sharedClientState.removeLocalQueryTarget(i.targetId),ab(e.remoteStore,i.targetId))}async function Yz(n,t,e){const i=e5(n);try{const r=await(function(l,u){const d=Ot(l),f=ve.now(),p=u.reduce(((v,S)=>v.add(S.key)),$t());let y,_;return d.persistence.runTransaction("Locally write mutations","readwrite",(v=>{let S=rr(),C=$t();return d.Ns.getEntries(v,p).next((w=>{S=w,S.forEach(((O,L)=>{L.isValidDocument()||(C=C.add(O))}))})).next((()=>d.localDocuments.getOverlayedDocuments(v,S))).next((w=>{y=w;const O=[];for(const L of u){const H=c4(L,y.get(L.key).overlayedDocument);H!=null&&O.push(new ya(L.key,H,qA(H.value.mapValue),Nn.exists(!0)))}return d.mutationQueue.addMutationBatch(v,f,O,u)})).next((w=>{_=w;const O=w.applyToLocalDocumentSet(y,C);return d.documentOverlayCache.saveOverlays(v,w.batchId,O)}))})).then((()=>({batchId:_.batchId,changes:eC(y)})))})(i.localStore,t);i.sharedClientState.addPendingMutation(r.batchId),(function(l,u,d){let f=l.Vu[l.currentUser.toKey()];f||(f=new Te(Gt)),f=f.insert(u,d),l.Vu[l.currentUser.toKey()]=f})(i,r.batchId,e),await hh(i,r.changes),await Rg(i.remoteStore)}catch(r){const o=hb(r,"Failed to persist write");e.reject(o)}}async function VC(n,t){const e=Ot(n);try{const i=await oz(e.localStore,t);t.targetChanges.forEach(((r,o)=>{const l=e.Au.get(o);l&&(se(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1,22616),r.addedDocuments.size>0?l.hu=!0:r.modifiedDocuments.size>0?se(l.hu,14607):r.removedDocuments.size>0&&(se(l.hu,42227),l.hu=!1))})),await hh(e,i,t)}catch(i){await Ul(i)}}function hS(n,t,e){const i=Ot(n);if(i.isPrimaryClient&&e===0||!i.isPrimaryClient&&e===1){const r=[];i.Tu.forEach(((o,l)=>{const u=l.view.va(t);u.snapshot&&r.push(u.snapshot)})),(function(l,u){const d=Ot(l);d.onlineState=u;let f=!1;d.queries.forEach(((p,y)=>{for(const _ of y.Sa)_.va(u)&&(f=!0)})),f&&db(d)})(i.eventManager,t),r.length&&i.Pu.H_(r),i.onlineState=t,i.isPrimaryClient&&i.sharedClientState.setOnlineState(t)}}async function Kz(n,t,e){const i=Ot(n);i.sharedClientState.updateQueryState(t,"rejected",e);const r=i.Au.get(t),o=r&&r.key;if(o){let l=new Te(St.comparator);l=l.insert(o,En.newNoDocument(o,Nt.min()));const u=$t().add(o),d=new Cg(Nt.min(),new Map,new Te(Gt),l,u);await VC(i,d),i.du=i.du.remove(o),i.Au.delete(t),gb(i)}else await s0(i.localStore,t,!1).then((()=>o0(i,t,e))).catch(Ul)}async function Qz(n,t){const e=Ot(n),i=t.batch.batchId;try{const r=await az(e.localStore,t);BC(e,i,null),jC(e,i),e.sharedClientState.updateMutationState(i,"acknowledged"),await hh(e,r)}catch(r){await Ul(r)}}async function Xz(n,t,e){const i=Ot(n);try{const r=await(function(l,u){const d=Ot(l);return d.persistence.runTransaction("Reject batch","readwrite-primary",(f=>{let p;return d.mutationQueue.lookupMutationBatch(f,u).next((y=>(se(y!==null,37113),p=y.keys(),d.mutationQueue.removeMutationBatch(f,y)))).next((()=>d.mutationQueue.performConsistencyCheck(f))).next((()=>d.documentOverlayCache.removeOverlaysForBatchId(f,p,u))).next((()=>d.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,p))).next((()=>d.localDocuments.getDocuments(f,p)))}))})(i.localStore,t);BC(i,t,e),jC(i,t),i.sharedClientState.updateMutationState(t,"rejected",e),await hh(i,r)}catch(r){await Ul(r)}}function jC(n,t){(n.mu.get(t)||[]).forEach((e=>{e.resolve()})),n.mu.delete(t)}function BC(n,t,e){const i=Ot(n);let r=i.Vu[i.currentUser.toKey()];if(r){const o=r.get(t);o&&(e?o.reject(e):o.resolve(),r=r.remove(t)),i.Vu[i.currentUser.toKey()]=r}}function o0(n,t,e=null){n.sharedClientState.removeLocalQueryTarget(t);for(const i of n.Iu.get(t))n.Tu.delete(i),e&&n.Pu.yu(i,e);n.Iu.delete(t),n.isPrimaryClient&&n.Ru.jr(t).forEach((i=>{n.Ru.containsKey(i)||UC(n,i)}))}function UC(n,t){n.Eu.delete(t.path.canonicalString());const e=n.du.get(t);e!==null&&(ab(n.remoteStore,e),n.du=n.du.remove(t),n.Au.delete(e),gb(n))}function dS(n,t,e){for(const i of e)i instanceof PC?(n.Ru.addReference(i.key,t),Jz(n,i)):i instanceof zC?(mt(fb,"Document no longer in limbo: "+i.key),n.Ru.removeReference(i.key,t),n.Ru.containsKey(i.key)||UC(n,i.key)):It(19791,{wu:i})}function Jz(n,t){const e=t.key,i=e.path.canonicalString();n.du.get(e)||n.Eu.has(i)||(mt(fb,"New document in limbo: "+e),n.Eu.add(i),gb(n))}function gb(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const t=n.Eu.values().next().value;n.Eu.delete(t);const e=new St(pe.fromString(t)),i=n.fu.next();n.Au.set(i,new Uz(e)),n.du=n.du.insert(e,i),AC(n.remoteStore,new Wr(Ss(X0(e.path)),i,"TargetPurposeLimboResolution",_g.ce))}}async function hh(n,t,e){const i=Ot(n),r=[],o=[],l=[];i.Tu.isEmpty()||(i.Tu.forEach(((u,d)=>{l.push(i.pu(d,t,e).then((f=>{if((f||e)&&i.isPrimaryClient){const p=f?!f.fromCache:e?.targetChanges.get(d.targetId)?.current;i.sharedClientState.updateQueryState(d.targetId,p?"current":"not-current")}if(f){r.push(f);const p=sb.As(d.targetId,f);o.push(p)}})))})),await Promise.all(l),i.Pu.H_(r),await(async function(d,f){const p=Ot(d);try{await p.persistence.runTransaction("notifyLocalViewChanges","readwrite",(y=>at.forEach(f,(_=>at.forEach(_.Es,(v=>p.persistence.referenceDelegate.addReference(y,_.targetId,v))).next((()=>at.forEach(_.ds,(v=>p.persistence.referenceDelegate.removeReference(y,_.targetId,v)))))))))}catch(y){if(!Fl(y))throw y;mt(rb,"Failed to update sequence numbers: "+y)}for(const y of f){const _=y.targetId;if(!y.fromCache){const v=p.Ms.get(_),S=v.snapshotVersion,C=v.withLastLimboFreeSnapshotVersion(S);p.Ms=p.Ms.insert(_,C)}}})(i.localStore,o))}async function Zz(n,t){const e=Ot(n);if(!e.currentUser.isEqual(t)){mt(fb,"User change. New user:",t.toKey());const i=await EC(e.localStore,t);e.currentUser=t,(function(o,l){o.mu.forEach((u=>{u.forEach((d=>{d.reject(new gt(st.CANCELLED,l))}))})),o.mu.clear()})(e,"'waitForPendingWrites' promise is rejected due to a user change."),e.sharedClientState.handleUserChange(t,i.removedBatchIds,i.addedBatchIds),await hh(e,i.Ls)}}function t5(n,t){const e=Ot(n),i=e.Au.get(t);if(i&&i.hu)return $t().add(i.key);{let r=$t();const o=e.Iu.get(t);if(!o)return r;for(const l of o){const u=e.Tu.get(l);r=r.unionWith(u.view.nu)}return r}}function FC(n){const t=Ot(n);return t.remoteStore.remoteSyncer.applyRemoteEvent=VC.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=t5.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=Kz.bind(null,t),t.Pu.H_=Lz.bind(null,t.eventManager),t.Pu.yu=Vz.bind(null,t.eventManager),t}function e5(n){const t=Ot(n);return t.remoteStore.remoteSyncer.applySuccessfulWrite=Qz.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=Xz.bind(null,t),t}class Wf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=Ig(t.databaseInfo.databaseId),this.sharedClientState=this.Du(t),this.persistence=this.Cu(t),await this.persistence.start(),this.localStore=this.vu(t),this.gcScheduler=this.Fu(t,this.localStore),this.indexBackfillerScheduler=this.Mu(t,this.localStore)}Fu(t,e){return null}Mu(t,e){return null}vu(t){return rz(this.persistence,new nz,t.initialUser,this.serializer)}Cu(t){return new xC(ib.mi,this.serializer)}Du(t){return new dz}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Wf.provider={build:()=>new Wf};class n5 extends Wf{constructor(t){super(),this.cacheSizeBytes=t}Fu(t,e){se(this.persistence.referenceDelegate instanceof Gf,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new U4(i,t.asyncQueue,e)}Cu(t){const e=this.cacheSizeBytes!==void 0?Un.withCacheSize(this.cacheSizeBytes):Un.DEFAULT;return new xC((i=>Gf.mi(i,e)),this.serializer)}}class l0{async initialize(t,e){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(e),this.remoteStore=this.createRemoteStore(e),this.eventManager=this.createEventManager(e),this.syncEngine=this.createSyncEngine(e,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>hS(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Zz.bind(null,this.syncEngine),await Mz(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return(function(){return new zz})()}createDatastore(t){const e=Ig(t.databaseInfo.databaseId),i=(function(o){return new yz(o)})(t.databaseInfo);return(function(o,l,u,d){return new xz(o,l,u,d)})(t.authCredentials,t.appCheckCredentials,i,e)}createRemoteStore(t){return(function(i,r,o,l,u){return new Tz(i,r,o,l,u)})(this.localStore,this.datastore,t.asyncQueue,(e=>hS(this.syncEngine,e,0)),(function(){return rS.v()?new rS:new fz})())}createSyncEngine(t,e){return(function(r,o,l,u,d,f,p){const y=new Fz(r,o,l,u,d,f);return p&&(y.gu=!0),y})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,e)}async terminate(){await(async function(e){const i=Ot(e);mt(po,"RemoteStore shutting down."),i.Ea.add(5),await uh(i),i.Aa.shutdown(),i.Ra.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}l0.provider={build:()=>new l0};class HC{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.Ou(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.Ou(this.observer.error,t):sr("Uncaught Error in snapshot listener:",t.toString()))}Nu(){this.muted=!0}Ou(t,e){setTimeout((()=>{this.muted||t(e)}),0)}}const ha="FirestoreClient";class i5{constructor(t,e,i,r,o){this.authCredentials=t,this.appCheckCredentials=e,this.asyncQueue=i,this.databaseInfo=r,this.user=xn.UNAUTHENTICATED,this.clientId=G0.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(i,(async l=>{mt(ha,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l})),this.appCheckCredentials.start(i,(l=>(mt(ha,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ea;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(e){const i=hb(e,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}async function dy(n,t){n.asyncQueue.verifyOperationInProgress(),mt(ha,"Initializing OfflineComponentProvider");const e=n.configuration;await t.initialize(e);let i=e.initialUser;n.setCredentialChangeListener((async r=>{i.isEqual(r)||(await EC(t.localStore,r),i=r)})),t.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=t}async function fS(n,t){n.asyncQueue.verifyOperationInProgress();const e=await s5(n);mt(ha,"Initializing OnlineComponentProvider"),await t.initialize(e,n.configuration),n.setCredentialChangeListener((i=>oS(t.remoteStore,i))),n.setAppCheckTokenChangeListener(((i,r)=>oS(t.remoteStore,r))),n._onlineComponents=t}async function s5(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){mt(ha,"Using user provided OfflineComponentProvider");try{await dy(n,n._uninitializedComponentsProvider._offline)}catch(t){const e=t;if(!(function(r){return r.name==="FirebaseError"?r.code===st.FAILED_PRECONDITION||r.code===st.UNIMPLEMENTED:!(typeof DOMException<"u"&&r instanceof DOMException)||r.code===22||r.code===20||r.code===11})(e))throw e;wl("Error using user provided cache. Falling back to memory cache: "+e),await dy(n,new Wf)}}else mt(ha,"Using default OfflineComponentProvider"),await dy(n,new n5(void 0));return n._offlineComponents}async function qC(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(mt(ha,"Using user provided OnlineComponentProvider"),await fS(n,n._uninitializedComponentsProvider._online)):(mt(ha,"Using default OnlineComponentProvider"),await fS(n,new l0))),n._onlineComponents}function r5(n){return qC(n).then((t=>t.syncEngine))}async function c0(n){const t=await qC(n),e=t.eventManager;return e.onListen=Hz.bind(null,t.syncEngine),e.onUnlisten=$z.bind(null,t.syncEngine),e.onFirstRemoteStoreListen=qz.bind(null,t.syncEngine),e.onLastRemoteStoreUnlisten=Wz.bind(null,t.syncEngine),e}function a5(n,t,e={}){const i=new ea;return n.asyncQueue.enqueueAndForget((async()=>(function(o,l,u,d,f){const p=new HC({next:_=>{p.Nu(),l.enqueueAndForget((()=>OC(o,y))),_.fromCache&&d.source==="server"?f.reject(new gt(st.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):f.resolve(_)},error:_=>f.reject(_)}),y=new MC(u,p,{includeMetadataChanges:!0,qa:!0});return kC(o,y)})(await c0(n),n.asyncQueue,t,e,i))),i.promise}function GC(n){const t={};return n.timeoutSeconds!==void 0&&(t.timeoutSeconds=n.timeoutSeconds),t}const gS=new Map;const $C="firestore.googleapis.com",pS=!0;class mS{constructor(t){if(t.host===void 0){if(t.ssl!==void 0)throw new gt(st.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=$C,this.ssl=pS}else this.host=t.host,this.ssl=t.ssl??pS;if(this.isUsingEmulator=t.emulatorOptions!==void 0,this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=vC;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<j4)throw new gt(st.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}EP("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=GC(t.experimentalLongPollingOptions??{}),(function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new gt(st.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new gt(st.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new gt(st.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(function(i,r){return i.timeoutSeconds===r.timeoutSeconds})(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class Ng{constructor(t,e,i,r){this._authCredentials=t,this._appCheckCredentials=e,this._databaseId=i,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new mS({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new gt(st.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new gt(st.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new mS(t),this._emulatorOptions=t.emulatorOptions||{},t.credentials!==void 0&&(this._authCredentials=(function(i){if(!i)return new dP;switch(i.type){case"firstParty":return new mP(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new gt(st.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(t.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(e){const i=gS.get(e);i&&(mt("ComponentProvider","Removing Datastore"),gS.delete(e),i.terminate())})(this),Promise.resolve()}}function o5(n,t,e,i={}){n=ni(n,Ng);const r=Ll(t),o=n._getSettings(),l={...o,emulatorOptions:n._getEmulatorOptions()},u=`${t}:${e}`;r&&(z1(`https://${u}`),L1("Firestore",!0)),o.host!==$C&&o.host!==u&&wl("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const d={...o,host:u,ssl:r,emulatorOptions:i};if(!uo(d,l)&&(n._setSettings(d),i.mockUserToken)){let f,p;if(typeof i.mockUserToken=="string")f=i.mockUserToken,p=xn.MOCK_USER;else{f=xN(i.mockUserToken,n._app?.options.projectId);const y=i.mockUserToken.sub||i.mockUserToken.user_id;if(!y)throw new gt(st.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new xn(y)}n._authCredentials=new fP(new kA(f,p))}}class ba{constructor(t,e,i){this.converter=e,this._query=i,this.type="query",this.firestore=t}withConverter(t){return new ba(this.firestore,t,this._query)}}class Me{constructor(t,e,i){this.converter=e,this._key=i,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new na(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Me(this.firestore,t,this._key)}toJSON(){return{type:Me._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(t,e,i){if(oh(e,Me._jsonSchema))return new Me(t,i||null,new St(pe.fromString(e.referencePath)))}}Me._jsonSchemaVersion="firestore/documentReference/1.0",Me._jsonSchema={type:Ye("string",Me._jsonSchemaVersion),referencePath:Ye("string")};class na extends ba{constructor(t,e,i){super(t,e,X0(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Me(this.firestore,null,new St(t))}withConverter(t){return new na(this.firestore,t,this._path)}}function mo(n,t,...e){if(n=Ie(n),OA("collection","path",t),n instanceof Ng){const i=pe.fromString(t,...e);return DT(i),new na(n,null,i)}{if(!(n instanceof Me||n instanceof na))throw new gt(st.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(pe.fromString(t,...e));return DT(i),new na(n.firestore,null,i)}}function ii(n,t,...e){if(n=Ie(n),arguments.length===1&&(t=G0.newId()),OA("doc","path",t),n instanceof Ng){const i=pe.fromString(t,...e);return IT(i),new Me(n,null,new St(i))}{if(!(n instanceof Me||n instanceof na))throw new gt(st.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=n._path.child(pe.fromString(t,...e));return IT(i),new Me(n.firestore,n instanceof na?n.converter:null,new St(i))}}const yS="AsyncQueue";class bS{constructor(t=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new SC(this,"async_queue_retry"),this._c=()=>{const i=hy();i&&mt(yS,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=t;const e=hy();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.uc(),this.cc(t)}enterRestrictedMode(t){if(!this.ec){this.ec=!0,this.sc=t||!1;const e=hy();e&&typeof e.removeEventListener=="function"&&e.removeEventListener("visibilitychange",this._c)}}enqueue(t){if(this.uc(),this.ec)return new Promise((()=>{}));const e=new ea;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(t().then(e.resolve,e.reject),e.promise))).then((()=>e.promise))}enqueueRetryable(t){this.enqueueAndForget((()=>(this.Xu.push(t),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(t){if(!Fl(t))throw t;mt(yS,"Operation failed with retryable error: "+t)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(t){const e=this.ac.then((()=>(this.rc=!0,t().catch((i=>{throw this.nc=i,this.rc=!1,sr("INTERNAL UNHANDLED ERROR: ",_S(i)),i})).then((i=>(this.rc=!1,i))))));return this.ac=e,e}enqueueAfterDelay(t,e,i){this.uc(),this.oc.indexOf(t)>-1&&(e=0);const r=ub.createAndSchedule(this,t,e,i,(o=>this.hc(o)));return this.tc.push(r),r}uc(){this.nc&&It(47125,{Pc:_S(this.nc)})}verifyOperationInProgress(){}async Tc(){let t;do t=this.ac,await t;while(t!==this.ac)}Ic(t){for(const e of this.tc)if(e.timerId===t)return!0;return!1}Ec(t){return this.Tc().then((()=>{this.tc.sort(((e,i)=>e.targetTimeMs-i.targetTimeMs));for(const e of this.tc)if(e.skipDelay(),t!=="all"&&e.timerId===t)break;return this.Tc()}))}dc(t){this.oc.push(t)}hc(t){const e=this.tc.indexOf(t);this.tc.splice(e,1)}}function _S(n){let t=n.message||"";return n.stack&&(t=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),t}function vS(n){return(function(e,i){if(typeof e!="object"||e===null)return!1;const r=e;for(const o of i)if(o in r&&typeof r[o]=="function")return!0;return!1})(n,["next","error","complete"])}class ar extends Ng{constructor(t,e,i,r){super(t,e,i,r),this.type="firestore",this._queue=new bS,this._persistenceKey=r?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new bS(t),this._firestoreClient=void 0,await t}}}function l5(n,t){const e=typeof n=="object"?n:U1(),i=typeof n=="string"?n:Bf,r=P0(e,"firestore").getImmediate({identifier:i});if(!r._initialized){const o=_N("firestore");o&&o5(r,...o)}return r}function kg(n){if(n._terminated)throw new gt(st.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||c5(n),n._firestoreClient}function c5(n){const t=n._freezeSettings(),e=(function(r,o,l,u){return new OP(r,o,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,GC(u.experimentalLongPollingOptions),u.useFetchStreams,u.isUsingEmulator)})(n._databaseId,n._app?.options.appId||"",n._persistenceKey,t);n._componentsProvider||t.localCache?._offlineComponentProvider&&t.localCache?._onlineComponentProvider&&(n._componentsProvider={_offline:t.localCache._offlineComponentProvider,_online:t.localCache._onlineComponentProvider}),n._firestoreClient=new i5(n._authCredentials,n._appCheckCredentials,n._queue,e,n._componentsProvider&&(function(r){const o=r?._online.build();return{_offline:r?._offline.build(o),_online:o}})(n._componentsProvider))}class Ti{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Ti(yn.fromBase64String(t))}catch(e){throw new gt(st.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(t){return new Ti(yn.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}toJSON(){return{type:Ti._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(t){if(oh(t,Ti._jsonSchema))return Ti.fromBase64String(t.bytes)}}Ti._jsonSchemaVersion="firestore/bytes/1.0",Ti._jsonSchema={type:Ye("string",Ti._jsonSchemaVersion),bytes:Ye("string")};class dh{constructor(...t){for(let e=0;e<t.length;++e)if(t[e].length===0)throw new gt(st.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pn(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}class Og{constructor(t){this._methodName=t}}class As{constructor(t,e){if(!isFinite(t)||t<-90||t>90)throw new gt(st.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new gt(st.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}_compareTo(t){return Gt(this._lat,t._lat)||Gt(this._long,t._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:As._jsonSchemaVersion}}static fromJSON(t){if(oh(t,As._jsonSchema))return new As(t.latitude,t.longitude)}}As._jsonSchemaVersion="firestore/geoPoint/1.0",As._jsonSchema={type:Ye("string",As._jsonSchemaVersion),latitude:Ye("number"),longitude:Ye("number")};class Cs{constructor(t){this._values=(t||[]).map((e=>e))}toArray(){return this._values.map((t=>t))}isEqual(t){return(function(i,r){if(i.length!==r.length)return!1;for(let o=0;o<i.length;++o)if(i[o]!==r[o])return!1;return!0})(this._values,t._values)}toJSON(){return{type:Cs._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(t){if(oh(t,Cs._jsonSchema)){if(Array.isArray(t.vectorValues)&&t.vectorValues.every((e=>typeof e=="number")))return new Cs(t.vectorValues);throw new gt(st.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Cs._jsonSchemaVersion="firestore/vectorValue/1.0",Cs._jsonSchema={type:Ye("string",Cs._jsonSchemaVersion),vectorValues:Ye("object")};const u5=/^__.*__$/;class h5{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return this.fieldMask!==null?new ya(t,this.data,this.fieldMask,e,this.fieldTransforms):new lh(t,this.data,e,this.fieldTransforms)}}class WC{constructor(t,e,i){this.data=t,this.fieldMask=e,this.fieldTransforms=i}toMutation(t,e){return new ya(t,this.data,this.fieldMask,e,this.fieldTransforms)}}function YC(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw It(40011,{Ac:n})}}class pb{constructor(t,e,i,r,o,l){this.settings=t,this.databaseId=e,this.serializer=i,this.ignoreUndefinedProperties=r,o===void 0&&this.Rc(),this.fieldTransforms=o||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(t){return new pb({...this.settings,...t},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(t){const e=this.path?.child(t),i=this.Vc({path:e,fc:!1});return i.gc(t),i}yc(t){const e=this.path?.child(t),i=this.Vc({path:e,fc:!1});return i.Rc(),i}wc(t){return this.Vc({path:void 0,fc:!0})}Sc(t){return Yf(t,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(t){return this.fieldMask.find((e=>t.isPrefixOf(e)))!==void 0||this.fieldTransforms.find((e=>t.isPrefixOf(e.field)))!==void 0}Rc(){if(this.path)for(let t=0;t<this.path.length;t++)this.gc(this.path.get(t))}gc(t){if(t.length===0)throw this.Sc("Document fields must not be empty");if(YC(this.Ac)&&u5.test(t))throw this.Sc('Document fields cannot begin and end with "__"')}}class d5{constructor(t,e,i){this.databaseId=t,this.ignoreUndefinedProperties=e,this.serializer=i||Ig(t)}Cc(t,e,i,r=!1){return new pb({Ac:t,methodName:e,Dc:i,path:pn.emptyPath(),fc:!1,bc:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function fh(n){const t=n._freezeSettings(),e=Ig(n._databaseId);return new d5(n._databaseId,!!t.ignoreUndefinedProperties,e)}function mb(n,t,e,i,r,o={}){const l=n.Cc(o.merge||o.mergeFields?2:0,t,e,r);bb("Data must be an object, but it was:",l,i);const u=XC(i,l);let d,f;if(o.merge)d=new ti(l.fieldMask),f=l.fieldTransforms;else if(o.mergeFields){const p=[];for(const y of o.mergeFields){const _=u0(t,y,e);if(!l.contains(_))throw new gt(st.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);ZC(p,_)||p.push(_)}d=new ti(p),f=l.fieldTransforms.filter((y=>d.covers(y.field)))}else d=null,f=l.fieldTransforms;return new h5(new Fn(u),d,f)}class Mg extends Og{_toFieldTransform(t){if(t.Ac!==2)throw t.Ac===1?t.Sc(`${this._methodName}() can only appear at the top level of your update data`):t.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof Mg}}class yb extends Og{_toFieldTransform(t){return new r4(t.path,new Lu)}isEqual(t){return t instanceof yb}}function KC(n,t,e,i){const r=n.Cc(1,t,e);bb("Data must be an object, but it was:",r,i);const o=[],l=Fn.empty();ma(i,((d,f)=>{const p=_b(t,d,e);f=Ie(f);const y=r.yc(p);if(f instanceof Mg)o.push(p);else{const _=gh(f,y);_!=null&&(o.push(p),l.set(p,_))}}));const u=new ti(o);return new WC(l,u,r.fieldTransforms)}function QC(n,t,e,i,r,o){const l=n.Cc(1,t,e),u=[u0(t,i,e)],d=[r];if(o.length%2!=0)throw new gt(st.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<o.length;_+=2)u.push(u0(t,o[_])),d.push(o[_+1]);const f=[],p=Fn.empty();for(let _=u.length-1;_>=0;--_)if(!ZC(f,u[_])){const v=u[_];let S=d[_];S=Ie(S);const C=l.yc(v);if(S instanceof Mg)f.push(v);else{const w=gh(S,C);w!=null&&(f.push(v),p.set(v,w))}}const y=new ti(f);return new WC(p,y,l.fieldTransforms)}function f5(n,t,e,i=!1){return gh(e,n.Cc(i?4:3,t))}function gh(n,t){if(JC(n=Ie(n)))return bb("Unsupported field value:",t,n),XC(n,t);if(n instanceof Og)return(function(i,r){if(!YC(r.Ac))throw r.Sc(`${i._methodName}() can only be used with update() and set()`);if(!r.path)throw r.Sc(`${i._methodName}() is not currently supported inside arrays`);const o=i._toFieldTransform(r);o&&r.fieldTransforms.push(o)})(n,t),null;if(n===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),n instanceof Array){if(t.settings.fc&&t.Ac!==4)throw t.Sc("Nested arrays are not supported");return(function(i,r){const o=[];let l=0;for(const u of i){let d=gh(u,r.wc(l));d==null&&(d={nullValue:"NULL_VALUE"}),o.push(d),l++}return{arrayValue:{values:o}}})(n,t)}return(function(i,r){if((i=Ie(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return n4(r.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const o=ve.fromDate(i);return{timestampValue:qf(r.serializer,o)}}if(i instanceof ve){const o=new ve(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:qf(r.serializer,o)}}if(i instanceof As)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof Ti)return{bytesValue:fC(r.serializer,i._byteString)};if(i instanceof Me){const o=r.databaseId,l=i.firestore._databaseId;if(!l.isEqual(o))throw r.Sc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:eb(i.firestore._databaseId||r.databaseId,i._key.path)}}if(i instanceof Cs)return(function(l,u){return{mapValue:{fields:{[FA]:{stringValue:HA},[Uf]:{arrayValue:{values:l.toArray().map((f=>{if(typeof f!="number")throw u.Sc("VectorValues must only contain numeric values.");return J0(u.serializer,f)}))}}}}}})(i,r);throw r.Sc(`Unsupported field value: ${bg(i)}`)})(n,t)}function XC(n,t){const e={};return zA(n)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):ma(n,((i,r)=>{const o=gh(r,t.mc(i));o!=null&&(e[i]=o)})),{mapValue:{fields:e}}}function JC(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ve||n instanceof As||n instanceof Ti||n instanceof Me||n instanceof Og||n instanceof Cs)}function bb(n,t,e){if(!JC(e)||!MA(e)){const i=bg(e);throw i==="an object"?t.Sc(n+" a custom object"):t.Sc(n+" "+i)}}function u0(n,t,e){if((t=Ie(t))instanceof dh)return t._internalPath;if(typeof t=="string")return _b(n,t);throw Yf("Field path arguments must be of type string or ",n,!1,void 0,e)}const g5=new RegExp("[~\\*/\\[\\]]");function _b(n,t,e){if(t.search(g5)>=0)throw Yf(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,e);try{return new dh(...t.split("."))._internalPath}catch{throw Yf(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,e)}}function Yf(n,t,e,i,r){const o=i&&!i.isEmpty(),l=r!==void 0;let u=`Function ${t}() called with invalid data`;e&&(u+=" (via `toFirestore()`)"),u+=". ";let d="";return(o||l)&&(d+=" (found",o&&(d+=` in field ${i}`),l&&(d+=` in document ${r}`),d+=")"),new gt(st.INVALID_ARGUMENT,u+n+d)}function ZC(n,t){return n.some((e=>e.isEqual(t)))}class tI{constructor(t,e,i,r,o){this._firestore=t,this._userDataWriter=e,this._key=i,this._document=r,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Me(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new p5(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const e=this._document.data.field(vb("DocumentSnapshot.get",t));if(e!==null)return this._userDataWriter.convertValue(e)}}}class p5 extends tI{data(){return super.data()}}function vb(n,t){return typeof t=="string"?_b(n,t):t instanceof dh?t._internalPath:t._delegate._internalPath}function eI(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new gt(st.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xb{}class nI extends xb{}function h0(n,t,...e){let i=[];t instanceof xb&&i.push(t),i=i.concat(e),(function(o){const l=o.filter((d=>d instanceof Tb)).length,u=o.filter((d=>d instanceof Eb)).length;if(l>1||l>0&&u>0)throw new gt(st.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(i);for(const r of i)n=r._apply(n);return n}class Eb extends nI{constructor(t,e,i){super(),this._field=t,this._op=e,this._value=i,this.type="where"}static _create(t,e,i){return new Eb(t,e,i)}_apply(t){const e=this._parse(t);return iI(t._query,e),new ba(t.firestore,t.converter,Jy(t._query,e))}_parse(t){const e=fh(t.firestore);return(function(o,l,u,d,f,p,y){let _;if(f.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new gt(st.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){ES(y,p);const S=[];for(const C of y)S.push(xS(d,o,C));_={arrayValue:{values:S}}}else _=xS(d,o,y)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||ES(y,p),_=f5(u,l,y,p==="in"||p==="not-in");return $e.create(f,p,_)})(t._query,"where",e,t.firestore._databaseId,this._field,this._op,this._value)}}class Tb extends xb{constructor(t,e){super(),this.type=t,this._queryConstraints=e}static _create(t,e){return new Tb(t,e)}_parse(t){const e=this._queryConstraints.map((i=>i._parse(t))).filter((i=>i.getFilters().length>0));return e.length===1?e[0]:Yi.create(e,this._getOperator())}_apply(t){const e=this._parse(t);return e.getFilters().length===0?t:((function(r,o){let l=r;const u=o.getFlattenedFilters();for(const d of u)iI(l,d),l=Jy(l,d)})(t._query,e),new ba(t.firestore,t.converter,Jy(t._query,e)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Sb extends nI{constructor(t,e){super(),this._field=t,this._direction=e,this.type="orderBy"}static _create(t,e){return new Sb(t,e)}_apply(t){const e=(function(r,o,l){if(r.startAt!==null)throw new gt(st.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new gt(st.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new zu(o,l)})(t._query,this._field,this._direction);return new ba(t.firestore,t.converter,(function(r,o){const l=r.explicitOrderBy.concat([o]);return new Hl(r.path,r.collectionGroup,l,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)})(t._query,e))}}function Eu(n,t="asc"){const e=t,i=vb("orderBy",n);return Sb._create(i,e)}function xS(n,t,e){if(typeof(e=Ie(e))=="string"){if(e==="")throw new gt(st.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!XA(t)&&e.indexOf("/")!==-1)throw new gt(st.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${e}' contains a '/' character.`);const i=t.path.child(pe.fromString(e));if(!St.isDocumentKey(i))throw new gt(st.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${i}' is not because it has an odd number of segments (${i.length}).`);return LT(n,new St(i))}if(e instanceof Me)return LT(n,e._key);throw new gt(st.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${bg(e)}.`)}function ES(n,t){if(!Array.isArray(n)||n.length===0)throw new gt(st.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function iI(n,t){const e=(function(r,o){for(const l of r)for(const u of l.getFlattenedFilters())if(o.indexOf(u.op)>=0)return u.op;return null})(n.filters,(function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(t.op));if(e!==null)throw e===t.op?new gt(st.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new gt(st.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${e.toString()}' filters.`)}class m5{convertValue(t,e="none"){switch(ca(t)){case 0:return null;case 1:return t.booleanValue;case 2:return Oe(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,e);case 5:return t.stringValue;case 6:return this.convertBytes(la(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,e);case 11:return this.convertObject(t.mapValue,e);case 10:return this.convertVectorValue(t.mapValue);default:throw It(62114,{value:t})}}convertObject(t,e){return this.convertObjectMap(t.fields,e)}convertObjectMap(t,e="none"){const i={};return ma(t,((r,o)=>{i[r]=this.convertValue(o,e)})),i}convertVectorValue(t){const e=t.fields?.[Uf].arrayValue?.values?.map((i=>Oe(i.doubleValue)));return new Cs(e)}convertGeoPoint(t){return new As(Oe(t.latitude),Oe(t.longitude))}convertArray(t,e){return(t.values||[]).map((i=>this.convertValue(i,e)))}convertServerTimestamp(t,e){switch(e){case"previous":const i=xg(t);return i==null?null:this.convertValue(i,e);case"estimate":return this.convertTimestamp(Ou(t));default:return null}}convertTimestamp(t){const e=oa(t);return new ve(e.seconds,e.nanos)}convertDocumentKey(t,e){const i=pe.fromString(t);se(_C(i),9688,{name:t});const r=new Mu(i.get(1),i.get(3)),o=new St(i.popFirst(5));return r.isEqual(e)||sr(`Document ${o} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${e.projectId}/${e.database}) instead.`),o}}function wb(n,t,e){let i;return i=n?e&&(e.merge||e.mergeFields)?n.toFirestore(t,e):n.toFirestore(t):t,i}class du{constructor(t,e){this.hasPendingWrites=t,this.fromCache=e}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class oo extends tI{constructor(t,e,i,r,o,l){super(t,e,i,r,l),this._firestore=t,this._firestoreImpl=t,this.metadata=o}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const e=new Cf(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(e,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,e={}){if(this._document){const i=this._document.data.field(vb("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i,e.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new gt(st.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t=this._document,e={};return e.type=oo._jsonSchemaVersion,e.bundle="",e.bundleSource="DocumentSnapshot",e.bundleName=this._key.toString(),!t||!t.isValidDocument()||!t.isFoundDocument()?e:(this._userDataWriter.convertObjectMap(t.data.value.mapValue.fields,"previous"),e.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),e)}}oo._jsonSchemaVersion="firestore/documentSnapshot/1.0",oo._jsonSchema={type:Ye("string",oo._jsonSchemaVersion),bundleSource:Ye("string","DocumentSnapshot"),bundleName:Ye("string"),bundle:Ye("string")};class Cf extends oo{data(t={}){return super.data(t)}}class lo{constructor(t,e,i,r){this._firestore=t,this._userDataWriter=e,this._snapshot=r,this.metadata=new du(r.hasPendingWrites,r.fromCache),this.query=i}get docs(){const t=[];return this.forEach((e=>t.push(e))),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,e){this._snapshot.docs.forEach((i=>{t.call(e,new Cf(this._firestore,this._userDataWriter,i.key,i,new du(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(t={}){const e=!!t.includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new gt(st.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=(function(r,o){if(r._snapshot.oldDocs.isEmpty()){let l=0;return r._snapshot.docChanges.map((u=>{const d=new Cf(r._firestore,r._userDataWriter,u.doc.key,u.doc,new du(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);return u.doc,{type:"added",doc:d,oldIndex:-1,newIndex:l++}}))}{let l=r._snapshot.oldDocs;return r._snapshot.docChanges.filter((u=>o||u.type!==3)).map((u=>{const d=new Cf(r._firestore,r._userDataWriter,u.doc.key,u.doc,new du(r._snapshot.mutatedKeys.has(u.doc.key),r._snapshot.fromCache),r.query.converter);let f=-1,p=-1;return u.type!==0&&(f=l.indexOf(u.doc.key),l=l.delete(u.doc.key)),u.type!==1&&(l=l.add(u.doc),p=l.indexOf(u.doc.key)),{type:y5(u.type),doc:d,oldIndex:f,newIndex:p}}))}})(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new gt(st.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const t={};t.type=lo._jsonSchemaVersion,t.bundleSource="QuerySnapshot",t.bundleName=G0.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const e=[],i=[],r=[];return this.docs.forEach((o=>{o._document!==null&&(e.push(o._document),i.push(this._userDataWriter.convertObjectMap(o._document.data.value.mapValue.fields,"previous")),r.push(o.ref.path))})),t.bundle=(this._firestore,this.query._query,t.bundleName,"NOT SUPPORTED"),t}}function y5(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return It(61501,{type:n})}}lo._jsonSchemaVersion="firestore/querySnapshot/1.0",lo._jsonSchema={type:Ye("string",lo._jsonSchemaVersion),bundleSource:Ye("string","QuerySnapshot"),bundleName:Ye("string"),bundle:Ye("string")};class Ab extends m5{constructor(t){super(),this.firestore=t}convertBytes(t){return new Ti(t)}convertReference(t){const e=this.convertDocumentKey(t,this.firestore._databaseId);return new Me(this.firestore,null,e)}}function d0(n){n=ni(n,ba);const t=ni(n.firestore,ar),e=kg(t),i=new Ab(t);return eI(n._query),a5(e,n._query).then((r=>new lo(t,i,n,r)))}function TS(n,t,e){n=ni(n,Me);const i=ni(n.firestore,ar),r=wb(n.converter,t,e);return ph(i,[mb(fh(i),"setDoc",n._key,r,n.converter!==null,e).toMutation(n._key,Nn.none())])}function Kf(n,t,e,...i){n=ni(n,Me);const r=ni(n.firestore,ar),o=fh(r);let l;return l=typeof(t=Ie(t))=="string"||t instanceof dh?QC(o,"updateDoc",n._key,t,e,i):KC(o,"updateDoc",n._key,t),ph(r,[l.toMutation(n._key,Nn.exists(!0))])}function sI(n){return ph(ni(n.firestore,ar),[new Ag(n._key,Nn.none())])}function rI(n,t){const e=ni(n.firestore,ar),i=ii(n),r=wb(n.converter,t);return ph(e,[mb(fh(n.firestore),"addDoc",i._key,r,n.converter!==null,{}).toMutation(i._key,Nn.exists(!1))]).then((()=>i))}function Cb(n,...t){n=Ie(n);let e={includeMetadataChanges:!1,source:"default"},i=0;typeof t[i]!="object"||vS(t[i])||(e=t[i++]);const r={includeMetadataChanges:e.includeMetadataChanges,source:e.source};if(vS(t[i])){const d=t[i];t[i]=d.next?.bind(d),t[i+1]=d.error?.bind(d),t[i+2]=d.complete?.bind(d)}let o,l,u;if(n instanceof Me)l=ni(n.firestore,ar),u=X0(n._key.path),o={next:d=>{t[i]&&t[i](b5(l,n,d))},error:t[i+1],complete:t[i+2]};else{const d=ni(n,ba);l=ni(d.firestore,ar),u=d._query;const f=new Ab(l);o={next:p=>{t[i]&&t[i](new lo(l,f,d,p))},error:t[i+1],complete:t[i+2]},eI(n._query)}return(function(f,p,y,_){const v=new HC(_),S=new MC(p,v,y);return f.asyncQueue.enqueueAndForget((async()=>kC(await c0(f),S))),()=>{v.Nu(),f.asyncQueue.enqueueAndForget((async()=>OC(await c0(f),S)))}})(kg(l),u,r,o)}function ph(n,t){return(function(i,r){const o=new ea;return i.asyncQueue.enqueueAndForget((async()=>Yz(await r5(i),r,o))),o.promise})(kg(n),t)}function b5(n,t,e){const i=e.docs.get(t._key),r=new Ab(n);return new oo(n,r,t._key,i,new du(e.hasPendingWrites,e.fromCache),t.converter)}class _5{constructor(t,e){this._firestore=t,this._commitHandler=e,this._mutations=[],this._committed=!1,this._dataReader=fh(t)}set(t,e,i){this._verifyNotCommitted();const r=fy(t,this._firestore),o=wb(r.converter,e,i),l=mb(this._dataReader,"WriteBatch.set",r._key,o,r.converter!==null,i);return this._mutations.push(l.toMutation(r._key,Nn.none())),this}update(t,e,i,...r){this._verifyNotCommitted();const o=fy(t,this._firestore);let l;return l=typeof(e=Ie(e))=="string"||e instanceof dh?QC(this._dataReader,"WriteBatch.update",o._key,e,i,r):KC(this._dataReader,"WriteBatch.update",o._key,e),this._mutations.push(l.toMutation(o._key,Nn.exists(!0))),this}delete(t){this._verifyNotCommitted();const e=fy(t,this._firestore);return this._mutations=this._mutations.concat(new Ag(e._key,Nn.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new gt(st.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function fy(n,t){if((n=Ie(n)).firestore!==t)throw new gt(st.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}function xl(){return new yb("serverTimestamp")}function aI(n){return kg(n=ni(n,ar)),new _5(n,(t=>ph(n,t)))}(function(t,e=!0){(function(r){Bl=r})(Vl),Tl(new ho("firestore",((i,{instanceIdentifier:r,options:o})=>{const l=i.getProvider("app").getImmediate(),u=new ar(new gP(i.getProvider("auth-internal")),new yP(l,i.getProvider("app-check-internal")),(function(f,p){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new gt(st.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Mu(f.options.projectId,p)})(l,r),l);return o={useFetchStreams:e,...o},u._setSettings(o),u}),"PUBLIC").setMultipleInstances(!0)),Zr(ST,wT,t),Zr(ST,wT,"esm2020")})();const v5={apiKey:"AIzaSyAvBYzH_B2CY7e5tqJkHqj83hT62POyVT4",authDomain:"tracker-7953b.firebaseapp.com",projectId:"tracker-7953b",storageBucket:"tracker-7953b.firebasestorage.app",messagingSenderId:"277129788312",appId:"1:277129788312:web:ed28693354f33d1d6609ed"},oI=B1(v5),Fi=lP(oI),We=l5(oI);const x5=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),E5=n=>n.replace(/^([A-Z])|[\s-_]+(\w)/g,(t,e,i)=>i?i.toUpperCase():e.toLowerCase()),SS=n=>{const t=E5(n);return t.charAt(0).toUpperCase()+t.slice(1)},lI=(...n)=>n.filter((t,e,i)=>!!t&&t.trim()!==""&&i.indexOf(t)===e).join(" ").trim(),T5=n=>{for(const t in n)if(t.startsWith("aria-")||t==="role"||t==="title")return!0};var S5={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const w5=W.forwardRef(({color:n="currentColor",size:t=24,strokeWidth:e=2,absoluteStrokeWidth:i,className:r="",children:o,iconNode:l,...u},d)=>W.createElement("svg",{ref:d,...S5,width:t,height:t,stroke:n,strokeWidth:i?Number(e)*24/Number(t):e,className:lI("lucide",r),...!o&&!T5(u)&&{"aria-hidden":"true"},...u},[...l.map(([f,p])=>W.createElement(f,p)),...Array.isArray(o)?o:[o]]));const Ut=(n,t)=>{const e=W.forwardRef(({className:i,...r},o)=>W.createElement(w5,{ref:o,iconNode:t,className:lI(`lucide-${x5(SS(n))}`,`lucide-${n}`,i),...r}));return e.displayName=SS(n),e};const A5=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],Pg=Ut("activity",A5);const C5=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],cI=Ut("calendar",C5);const I5=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],D5=Ut("camera",I5);const R5=[["path",{d:"M5 21v-6",key:"1hz6c0"}],["path",{d:"M12 21V3",key:"1lcnhd"}],["path",{d:"M19 21V9",key:"unv183"}]],Ib=Ut("chart-no-axes-column",R5);const N5=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Qf=Ut("check",N5);const k5=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],O5=Ut("chevron-down",k5);const M5=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],uI=Ut("chevron-left",M5);const P5=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Db=Ut("chevron-right",P5);const z5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],L5=Ut("circle-alert",z5);const V5=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],j5=Ut("circle-check-big",V5);const B5=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],U5=Ut("circle-check",B5);const F5=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],hI=Ut("download",F5);const H5=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],q5=Ut("eye",H5);const G5=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],Rb=Ut("flame",G5);const $5=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],W5=Ut("image",$5);const Y5=[["path",{d:"M9 17H7A5 5 0 0 1 7 7h2",key:"8i5ue5"}],["path",{d:"M15 7h2a5 5 0 1 1 0 10h-2",key:"1b9ql8"}],["line",{x1:"8",x2:"16",y1:"12",y2:"12",key:"1jonct"}]],K5=Ut("link-2",Y5);const Q5=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Bu=Ut("loader-circle",Q5);const X5=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],J5=Ut("log-out",X5);const Z5=[["path",{d:"M4 5h16",key:"1tepv9"}],["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 19h16",key:"1djgab"}]],tL=Ut("menu",Z5);const eL=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],dI=Ut("moon",eL);const nL=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],iL=Ut("palette",nL);const sL=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],fI=Ut("pen",sL);const rL=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Uu=Ut("plus",rL);const aL=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],oL=Ut("refresh-cw",aL);const lL=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],cL=Ut("save",lL);const uL=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],hL=Ut("settings",uL);const dL=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],fL=Ut("star",dL);const gL=[["path",{d:"M21 9a2.4 2.4 0 0 0-.706-1.706l-3.588-3.588A2.4 2.4 0 0 0 15 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2z",key:"1dfntj"}],["path",{d:"M15 3v5a1 1 0 0 0 1 1h5",key:"6s6qgf"}]],gI=Ut("sticky-note",gL);const pL=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],mL=Ut("sun",pL);const yL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],bL=Ut("target",yL);const _L=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],Nb=Ut("trash-2",_L);const vL=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],xL=Ut("trending-up",vL);const EL=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],TL=Ut("triangle-alert",EL);const SL=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],wL=Ut("trophy",SL);const AL=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],CL=Ut("upload",AL);const IL=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],pI=Ut("user",IL);const DL=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],kb=Ut("x",DL),mI=W.createContext(),RL=({children:n})=>{const[t,e]=W.useState(null),[i,r]=W.useState(!0);return W.useEffect(()=>{const o=QO(Fi,l=>{e(l),r(!1)});return()=>o()},[]),i?A.jsx("div",{className:"h-screen w-full flex items-center justify-center bg-zinc-50 dark:bg-zinc-900",children:A.jsx(Bu,{className:"w-10 h-10 animate-spin text-blue-500"})}):A.jsx(mI.Provider,{value:{user:t},children:n})},cr=()=>W.useContext(mI),NL=()=>{const[n,t]=W.useState(""),[e,i]=W.useState(""),[r,o]=W.useState(!1),[l,u]=W.useState(""),d=async p=>{p.preventDefault(),o(!0),u("");try{try{await $O(Fi,n,e)}catch(y){if(y.code==="auth/user-not-found"||y.code==="auth/invalid-credential")await GO(Fi,n,e);else throw y}}catch(y){console.error(y),u(y.message.replace("Firebase:","").trim()),o(!1)}},f=async()=>{o(!0);try{await UO(Fi)}catch(p){console.error(p),u("Could not sign in as guest."),o(!1)}};return A.jsx("div",{className:"flex items-center justify-center min-h-screen p-4 bg-zinc-50 dark:bg-zinc-900",children:A.jsxs("div",{className:"rounded-2xl shadow-2xl p-8 w-full max-w-md border bg-white dark:bg-zinc-800 border-zinc-200 dark:border-zinc-700",children:[A.jsxs("div",{className:"text-center mb-8",children:[A.jsx("div",{className:"bg-blue-600 w-16 h-16 rounded-2xl mx-auto flex items-center justify-center mb-6 shadow-lg shadow-blue-600/30",children:A.jsx(Pg,{className:"text-white w-8 h-8"})}),A.jsx("h2",{className:"text-3xl font-bold mb-2 text-zinc-900 dark:text-white",children:"TrackIt"}),A.jsx("p",{className:"text-zinc-500 dark:text-zinc-400",children:"Sign in to sync your progress"})]}),A.jsxs("form",{onSubmit:d,className:"space-y-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"Email"}),A.jsx("input",{type:"email",required:!0,className:"w-full px-4 py-3 rounded-xl outline-none transition-all focus:ring-2 focus:ring-blue-500 bg-zinc-50 dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-700 dark:text-white",value:n,onChange:p=>t(p.target.value),placeholder:"hello@example.com"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"Password"}),A.jsx("input",{type:"password",required:!0,className:"w-full px-4 py-3 rounded-xl outline-none transition-all focus:ring-2 focus:ring-blue-500 bg-zinc-50 dark:bg-zinc-900 border border-zinc-200 dark:border-zinc-700 dark:text-white",value:e,onChange:p=>i(p.target.value),placeholder:""})]}),l&&A.jsx("div",{className:"p-3 bg-red-500/10 border border-red-500/20 text-red-500 rounded-lg text-sm",children:l}),A.jsx("button",{type:"submit",disabled:r,className:"w-full py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-medium shadow-lg shadow-blue-600/20 transition-all transform active:scale-95 disabled:opacity-50 disabled:active:scale-100 flex items-center justify-center",children:r?A.jsx(Bu,{className:"w-5 h-5 animate-spin"}):"Continue"})]}),A.jsx("div",{className:"mt-8 text-center",children:A.jsx("button",{type:"button",onClick:f,disabled:r,className:"w-full py-3 mt-4 border-2 border-zinc-300 dark:border-zinc-700 text-zinc-700 dark:text-zinc-300 font-bold rounded-xl hover:bg-zinc-50 dark:hover:bg-zinc-800 transition-all",children:"Or continue as Guest"})})]})})};var Ob=D1();const kL=k0(Ob);function Rn(n){return`Minified Redux error #${n}; visit https://redux.js.org/Errors?code=${n} for the full message or use the non-minified dev environment for full errors. `}var OL=typeof Symbol=="function"&&Symbol.observable||"@@observable",wS=OL,AS=()=>Math.random().toString(36).substring(7).split("").join("."),ML={INIT:`@@redux/INIT${AS()}`,REPLACE:`@@redux/REPLACE${AS()}`},CS=ML;function PL(n){if(typeof n!="object"||n===null)return!1;let t=n;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(n)===t||Object.getPrototypeOf(n)===null}function yI(n,t,e){if(typeof n!="function")throw new Error(Rn(2));if(typeof t=="function"&&typeof e=="function"||typeof e=="function"&&typeof arguments[3]=="function")throw new Error(Rn(0));if(typeof t=="function"&&typeof e>"u"&&(e=t,t=void 0),typeof e<"u"){if(typeof e!="function")throw new Error(Rn(1));return e(yI)(n,t)}let i=n,r=t,o=new Map,l=o,u=0,d=!1;function f(){l===o&&(l=new Map,o.forEach((w,O)=>{l.set(O,w)}))}function p(){if(d)throw new Error(Rn(3));return r}function y(w){if(typeof w!="function")throw new Error(Rn(4));if(d)throw new Error(Rn(5));let O=!0;f();const L=u++;return l.set(L,w),function(){if(O){if(d)throw new Error(Rn(6));O=!1,f(),l.delete(L),o=null}}}function _(w){if(!PL(w))throw new Error(Rn(7));if(typeof w.type>"u")throw new Error(Rn(8));if(typeof w.type!="string")throw new Error(Rn(17));if(d)throw new Error(Rn(9));try{d=!0,r=i(r,w)}finally{d=!1}return(o=l).forEach(L=>{L()}),w}function v(w){if(typeof w!="function")throw new Error(Rn(10));i=w,_({type:CS.REPLACE})}function S(){const w=y;return{subscribe(O){if(typeof O!="object"||O===null)throw new Error(Rn(11));function L(){const q=O;q.next&&q.next(p())}return L(),{unsubscribe:w(L)}},[wS](){return this}}}return _({type:CS.INIT}),{dispatch:_,subscribe:y,getState:p,replaceReducer:v,[wS]:S}}function IS(n,t){return function(...e){return t(n.apply(this,e))}}function DS(n,t){if(typeof n=="function")return IS(n,t);if(typeof n!="object"||n===null)throw new Error(Rn(16));const e={};for(const i in n){const r=n[i];typeof r=="function"&&(e[i]=IS(r,t))}return e}function bI(...n){return n.length===0?t=>t:n.length===1?n[0]:n.reduce((t,e)=>(...i)=>t(e(...i)))}function zL(...n){return t=>(e,i)=>{const r=t(e,i);let o=()=>{throw new Error(Rn(15))};const l={getState:r.getState,dispatch:(d,...f)=>o(d,...f)},u=n.map(d=>d(l));return o=bI(...u)(r.dispatch),{...r,dispatch:o}}}var gy={exports:{}},py={};var RS;function LL(){if(RS)return py;RS=1;var n=fg();function t(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var e=typeof Object.is=="function"?Object.is:t,i=n.useSyncExternalStore,r=n.useRef,o=n.useEffect,l=n.useMemo,u=n.useDebugValue;return py.useSyncExternalStoreWithSelector=function(d,f,p,y,_){var v=r(null);if(v.current===null){var S={hasValue:!1,value:null};v.current=S}else S=v.current;v=l(function(){function w(F){if(!O){if(O=!0,L=F,F=y(F),_!==void 0&&S.hasValue){var G=S.value;if(_(G,F))return H=G}return H=F}if(G=H,e(L,F))return G;var R=y(F);return _!==void 0&&_(G,R)?(L=F,G):(L=F,H=R)}var O=!1,L,H,q=p===void 0?null:p;return[function(){return w(f())},q===null?void 0:function(){return w(q())}]},[f,p,y,_]);var C=i(d,v[0],v[1]);return o(function(){S.hasValue=!0,S.value=C},[C]),u(C),C},py}var NS;function VL(){return NS||(NS=1,gy.exports=LL()),gy.exports}VL();var jL=W.version.startsWith("19"),BL=Symbol.for(jL?"react.transitional.element":"react.element"),UL=Symbol.for("react.portal"),FL=Symbol.for("react.fragment"),HL=Symbol.for("react.strict_mode"),qL=Symbol.for("react.profiler"),GL=Symbol.for("react.consumer"),$L=Symbol.for("react.context"),_I=Symbol.for("react.forward_ref"),WL=Symbol.for("react.suspense"),YL=Symbol.for("react.suspense_list"),Mb=Symbol.for("react.memo"),KL=Symbol.for("react.lazy"),QL=_I,XL=Mb;function JL(n){if(typeof n=="object"&&n!==null){const{$$typeof:t}=n;switch(t){case BL:switch(n=n.type,n){case FL:case qL:case HL:case WL:case YL:return n;default:switch(n=n&&n.$$typeof,n){case $L:case _I:case KL:case Mb:return n;case GL:return n;default:return t}}case UL:return t}}}function ZL(n){return JL(n)===Mb}function tV(n,t,e,i,{areStatesEqual:r,areOwnPropsEqual:o,areStatePropsEqual:l}){let u=!1,d,f,p,y,_;function v(L,H){return d=L,f=H,p=n(d,f),y=t(i,f),_=e(p,y,f),u=!0,_}function S(){return p=n(d,f),t.dependsOnOwnProps&&(y=t(i,f)),_=e(p,y,f),_}function C(){return n.dependsOnOwnProps&&(p=n(d,f)),t.dependsOnOwnProps&&(y=t(i,f)),_=e(p,y,f),_}function w(){const L=n(d,f),H=!l(L,p);return p=L,H&&(_=e(p,y,f)),_}function O(L,H){const q=!o(H,f),F=!r(L,d,H,f);return d=L,f=H,q&&F?S():q?C():F?w():_}return function(H,q){return u?O(H,q):v(H,q)}}function eV(n,{initMapStateToProps:t,initMapDispatchToProps:e,initMergeProps:i,...r}){const o=t(n,r),l=e(n,r),u=i(n,r);return tV(o,l,u,n,r)}function nV(n,t){const e={};for(const i in n){const r=n[i];typeof r=="function"&&(e[i]=(...o)=>t(r(...o)))}return e}function f0(n){return function(e){const i=n(e);function r(){return i}return r.dependsOnOwnProps=!1,r}}function kS(n){return n.dependsOnOwnProps?!!n.dependsOnOwnProps:n.length!==1}function vI(n,t){return function(i,{displayName:r}){const o=function(u,d){return o.dependsOnOwnProps?o.mapToProps(u,d):o.mapToProps(u,void 0)};return o.dependsOnOwnProps=!0,o.mapToProps=function(u,d){o.mapToProps=n,o.dependsOnOwnProps=kS(n);let f=o(u,d);return typeof f=="function"&&(o.mapToProps=f,o.dependsOnOwnProps=kS(f),f=o(u,d)),f},o}}function Pb(n,t){return(e,i)=>{throw new Error(`Invalid value of type ${typeof n} for ${t} argument when connecting component ${i.wrappedComponentName}.`)}}function iV(n){return n&&typeof n=="object"?f0(t=>nV(n,t)):n?typeof n=="function"?vI(n):Pb(n,"mapDispatchToProps"):f0(t=>({dispatch:t}))}function sV(n){return n?typeof n=="function"?vI(n):Pb(n,"mapStateToProps"):f0(()=>({}))}function rV(n,t,e){return{...e,...n,...t}}function aV(n){return function(e,{displayName:i,areMergedPropsEqual:r}){let o=!1,l;return function(d,f,p){const y=n(d,f,p);return o?r(y,l)||(l=y):(o=!0,l=y),l}}}function oV(n){return n?typeof n=="function"?aV(n):Pb(n,"mergeProps"):()=>rV}function lV(n){n()}function cV(){let n=null,t=null;return{clear(){n=null,t=null},notify(){lV(()=>{let e=n;for(;e;)e.callback(),e=e.next})},get(){const e=[];let i=n;for(;i;)e.push(i),i=i.next;return e},subscribe(e){let i=!0;const r=t={callback:e,next:null,prev:t};return r.prev?r.prev.next=r:n=r,function(){!i||n===null||(i=!1,r.next?r.next.prev=r.prev:t=r.prev,r.prev?r.prev.next=r.next:n=r.next)}}}}var OS={notify(){},get:()=>[]};function xI(n,t){let e,i=OS,r=0,o=!1;function l(C){p();const w=i.subscribe(C);let O=!1;return()=>{O||(O=!0,w(),y())}}function u(){i.notify()}function d(){S.onStateChange&&S.onStateChange()}function f(){return o}function p(){r++,e||(e=t?t.addNestedSub(d):n.subscribe(d),i=cV())}function y(){r--,e&&r===0&&(e(),e=void 0,i.clear(),i=OS)}function _(){o||(o=!0,p())}function v(){o&&(o=!1,y())}const S={addNestedSub:l,notifyNestedSubs:u,handleChangeWrapper:d,isSubscribed:f,trySubscribe:_,tryUnsubscribe:v,getListeners:()=>i};return S}var uV=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",hV=uV(),dV=()=>typeof navigator<"u"&&navigator.product==="ReactNative",fV=dV(),gV=()=>hV||fV?W.useLayoutEffect:W.useEffect,Xf=gV();function MS(n,t){return n===t?n!==0||t!==0||1/n===1/t:n!==n&&t!==t}function my(n,t){if(MS(n,t))return!0;if(typeof n!="object"||n===null||typeof t!="object"||t===null)return!1;const e=Object.keys(n),i=Object.keys(t);if(e.length!==i.length)return!1;for(let r=0;r<e.length;r++)if(!Object.prototype.hasOwnProperty.call(t,e[r])||!MS(n[e[r]],t[e[r]]))return!1;return!0}var pV={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},mV={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},yV={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},EI={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},bV={[QL]:yV,[XL]:EI};function PS(n){return ZL(n)?EI:bV[n.$$typeof]||pV}var _V=Object.defineProperty,vV=Object.getOwnPropertyNames,zS=Object.getOwnPropertySymbols,xV=Object.getOwnPropertyDescriptor,EV=Object.getPrototypeOf,LS=Object.prototype;function g0(n,t){if(typeof t!="string"){if(LS){const o=EV(t);o&&o!==LS&&g0(n,o)}let e=vV(t);zS&&(e=e.concat(zS(t)));const i=PS(n),r=PS(t);for(let o=0;o<e.length;++o){const l=e[o];if(!mV[l]&&!(r&&r[l])&&!(i&&i[l])){const u=xV(t,l);try{_V(n,l,u)}catch{}}}}return n}var TV=Symbol.for("react-redux-context"),SV=typeof globalThis<"u"?globalThis:{};function wV(){if(!W.createContext)return{};const n=SV[TV]??=new Map;let t=n.get(W.createContext);return t||(t=W.createContext(null),n.set(W.createContext,t)),t}var TI=wV(),AV=[null,null];function CV(n,t,e){Xf(()=>n(...t),e)}function IV(n,t,e,i,r,o){n.current=i,e.current=!1,r.current&&(r.current=null,o())}function DV(n,t,e,i,r,o,l,u,d,f,p){if(!n)return()=>{};let y=!1,_=null;const v=()=>{if(y||!u.current)return;const C=t.getState();let w,O;try{w=i(C,r.current)}catch(L){O=L,_=L}O||(_=null),w===o.current?l.current||f():(o.current=w,d.current=w,l.current=!0,p())};return e.onStateChange=v,e.trySubscribe(),v(),()=>{if(y=!0,e.tryUnsubscribe(),e.onStateChange=null,_)throw _}}function RV(n,t){return n===t}function NV(n,t,e,{pure:i,areStatesEqual:r=RV,areOwnPropsEqual:o=my,areStatePropsEqual:l=my,areMergedPropsEqual:u=my,forwardRef:d=!1,context:f=TI}={}){const p=f,y=sV(n),_=iV(t),v=oV(e),S=!!n;return w=>{const O=w.displayName||w.name||"Component",L=`Connect(${O})`,H={shouldHandleStateChanges:S,displayName:L,wrappedComponentName:O,WrappedComponent:w,initMapStateToProps:y,initMapDispatchToProps:_,initMergeProps:v,areStatesEqual:r,areStatePropsEqual:l,areOwnPropsEqual:o,areMergedPropsEqual:u};function q(R){const[I,N,z]=W.useMemo(()=>{const{reactReduxForwardedRef:Se,...kn}=R;return[R.context,Se,kn]},[R]),M=W.useMemo(()=>{let Se=p;return I?.Consumer,Se},[I,p]),V=W.useContext(M),P=!!R.store&&!!R.store.getState&&!!R.store.dispatch,Dt=!!V&&!!V.store,vt=P?R.store:V.store,X=Dt?V.getServerState:vt.getState,ot=W.useMemo(()=>eV(vt.dispatch,H),[vt]),[pt,At]=W.useMemo(()=>{if(!S)return AV;const Se=xI(vt,P?void 0:V.subscription),kn=Se.notifyNestedSubs.bind(Se);return[Se,kn]},[vt,P,V]),Rt=W.useMemo(()=>P?V:{...V,subscription:pt},[P,V,pt]),B=W.useRef(void 0),et=W.useRef(z),ct=W.useRef(void 0),ut=W.useRef(!1),bt=W.useRef(!1),xt=W.useRef(void 0);Xf(()=>(bt.current=!0,()=>{bt.current=!1}),[]);const lt=W.useMemo(()=>()=>ct.current&&z===et.current?ct.current:ot(vt.getState(),z),[vt,z]),Lt=W.useMemo(()=>kn=>pt?DV(S,vt,pt,ot,et,B,ut,bt,ct,At,kn):()=>{},[pt]);CV(IV,[et,B,ut,z,ct,At]);let Vt;try{Vt=W.useSyncExternalStore(Lt,lt,X?()=>ot(X(),z):lt)}catch(Se){throw xt.current&&(Se.message+=`
The error may be correlated with this previous error:
${xt.current.stack}

`),Se}Xf(()=>{xt.current=void 0,ct.current=void 0,B.current=Vt});const ge=W.useMemo(()=>W.createElement(w,{...Vt,ref:N}),[N,w,Vt]);return W.useMemo(()=>S?W.createElement(M.Provider,{value:Rt},ge):ge,[M,ge,Rt])}const G=W.memo(q);if(G.WrappedComponent=w,G.displayName=q.displayName=L,d){const I=W.forwardRef(function(z,M){return W.createElement(G,{...z,reactReduxForwardedRef:M})});return I.displayName=L,I.WrappedComponent=w,g0(I,w)}return g0(G,w)}}var SI=NV;function kV(n){const{children:t,context:e,serverState:i,store:r}=n,o=W.useMemo(()=>{const d=xI(r);return{store:r,subscription:d,getServerState:i?()=>i:void 0}},[r,i]),l=W.useMemo(()=>r.getState(),[r]);Xf(()=>{const{subscription:d}=o;return d.onStateChange=d.notifyNestedSubs,d.trySubscribe(),l!==r.getState()&&d.notifyNestedSubs(),()=>{d.tryUnsubscribe(),d.onStateChange=void 0}},[o,l]);const u=e||TI;return W.createElement(u.Provider,{value:o},t)}var OV=kV,MV="Invariant failed";function PV(n,t){throw new Error(MV)}var qi=function(t){var e=t.top,i=t.right,r=t.bottom,o=t.left,l=i-o,u=r-e,d={top:e,right:i,bottom:r,left:o,width:l,height:u,x:o,y:e,center:{x:(i+o)/2,y:(r+e)/2}};return d},zb=function(t,e){return{top:t.top-e.top,left:t.left-e.left,bottom:t.bottom+e.bottom,right:t.right+e.right}},VS=function(t,e){return{top:t.top+e.top,left:t.left+e.left,bottom:t.bottom-e.bottom,right:t.right-e.right}},zV=function(t,e){return{top:t.top+e.y,left:t.left+e.x,bottom:t.bottom+e.y,right:t.right+e.x}},yy={top:0,right:0,bottom:0,left:0},Lb=function(t){var e=t.borderBox,i=t.margin,r=i===void 0?yy:i,o=t.border,l=o===void 0?yy:o,u=t.padding,d=u===void 0?yy:u,f=qi(zb(e,r)),p=qi(VS(e,l)),y=qi(VS(p,d));return{marginBox:f,borderBox:qi(e),paddingBox:p,contentBox:y,margin:r,border:l,padding:d}},xi=function(t){var e=t.slice(0,-2),i=t.slice(-2);if(i!=="px")return 0;var r=Number(e);return isNaN(r)&&PV(),r},LV=function(){return{x:window.pageXOffset,y:window.pageYOffset}},Jf=function(t,e){var i=t.borderBox,r=t.border,o=t.margin,l=t.padding,u=zV(i,e);return Lb({borderBox:u,border:r,margin:o,padding:l})},Zf=function(t,e){return e===void 0&&(e=LV()),Jf(t,e)},wI=function(t,e){var i={top:xi(e.marginTop),right:xi(e.marginRight),bottom:xi(e.marginBottom),left:xi(e.marginLeft)},r={top:xi(e.paddingTop),right:xi(e.paddingRight),bottom:xi(e.paddingBottom),left:xi(e.paddingLeft)},o={top:xi(e.borderTopWidth),right:xi(e.borderRightWidth),bottom:xi(e.borderBottomWidth),left:xi(e.borderLeftWidth)};return Lb({borderBox:t,margin:i,padding:r,border:o})},AI=function(t){var e=t.getBoundingClientRect(),i=window.getComputedStyle(t);return wI(e,i)},Fu=function(t){var e=[],i=null,r=function(){for(var l=arguments.length,u=new Array(l),d=0;d<l;d++)u[d]=arguments[d];e=u,!i&&(i=requestAnimationFrame(function(){i=null,t.apply(void 0,e)}))};return r.cancel=function(){i&&(cancelAnimationFrame(i),i=null)},r};function tg(){return tg=Object.assign?Object.assign.bind():function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var i in e)({}).hasOwnProperty.call(e,i)&&(n[i]=e[i])}return n},tg.apply(null,arguments)}function CI(n,t){}CI.bind(null,"warn");CI.bind(null,"error");function ia(){}function VV(n,t){return{...n,...t}}function Si(n,t,e){const i=t.map(r=>{const o=VV(e,r.options);return n.addEventListener(r.eventName,r.fn,o),function(){n.removeEventListener(r.eventName,r.fn,o)}});return function(){i.forEach(o=>{o()})}}const jV="Invariant failed";class eg extends Error{}eg.prototype.toString=function(){return this.message};function ht(n,t){throw new eg(jV)}class BV extends Ce.Component{constructor(...t){super(...t),this.callbacks=null,this.unbind=ia,this.onWindowError=e=>{const i=this.getCallbacks();i.isDragging()&&i.tryAbort(),e.error instanceof eg&&e.preventDefault()},this.getCallbacks=()=>{if(!this.callbacks)throw new Error("Unable to find AppCallbacks in <ErrorBoundary/>");return this.callbacks},this.setCallbacks=e=>{this.callbacks=e}}componentDidMount(){this.unbind=Si(window,[{eventName:"error",fn:this.onWindowError}])}componentDidCatch(t){if(t instanceof eg){this.setState({});return}throw t}componentWillUnmount(){this.unbind()}render(){return this.props.children(this.setCallbacks)}}const UV=`
  Press space bar to start a drag.
  When dragging you can use the arrow keys to move the item around and escape to cancel.
  Some screen readers may require you to be in focus mode or to use your pass through key
`,ng=n=>n+1,FV=n=>`
  You have lifted an item in position ${ng(n.source.index)}
`,II=(n,t)=>{const e=n.droppableId===t.droppableId,i=ng(n.index),r=ng(t.index);return e?`
      You have moved the item from position ${i}
      to position ${r}
    `:`
    You have moved the item from position ${i}
    in list ${n.droppableId}
    to list ${t.droppableId}
    in position ${r}
  `},DI=(n,t,e)=>t.droppableId===e.droppableId?`
      The item ${n}
      has been combined with ${e.draggableId}`:`
      The item ${n}
      in list ${t.droppableId}
      has been combined with ${e.draggableId}
      in list ${e.droppableId}
    `,HV=n=>{const t=n.destination;if(t)return II(n.source,t);const e=n.combine;return e?DI(n.draggableId,n.source,e):"You are over an area that cannot be dropped on"},jS=n=>`
  The item has returned to its starting position
  of ${ng(n.index)}
`,qV=n=>{if(n.reason==="CANCEL")return`
      Movement cancelled.
      ${jS(n.source)}
    `;const t=n.destination,e=n.combine;return t?`
      You have dropped the item.
      ${II(n.source,t)}
    `:e?`
      You have dropped the item.
      ${DI(n.draggableId,n.source,e)}
    `:`
    The item has been dropped while not over a drop area.
    ${jS(n.source)}
  `},If={dragHandleUsageInstructions:UV,onDragStart:FV,onDragUpdate:HV,onDragEnd:qV};function GV(n,t){return!!(n===t||Number.isNaN(n)&&Number.isNaN(t))}function RI(n,t){if(n.length!==t.length)return!1;for(let e=0;e<n.length;e++)if(!GV(n[e],t[e]))return!1;return!0}function Xt(n,t){const e=W.useState(()=>({inputs:t,result:n()}))[0],i=W.useRef(!0),r=W.useRef(e),l=i.current||!!(t&&r.current.inputs&&RI(t,r.current.inputs))?r.current:{inputs:t,result:n()};return W.useEffect(()=>{i.current=!1,r.current=l},[l]),l.result}function Et(n,t){return Xt(()=>n,t)}const an={x:0,y:0},mn=(n,t)=>({x:n.x+t.x,y:n.y+t.y}),ei=(n,t)=>({x:n.x-t.x,y:n.y-t.y}),sa=(n,t)=>n.x===t.x&&n.y===t.y,Gl=n=>({x:n.x!==0?-n.x:0,y:n.y!==0?-n.y:0}),yo=(n,t,e=0)=>n==="x"?{x:t,y:e}:{x:e,y:t},Hu=(n,t)=>Math.sqrt((t.x-n.x)**2+(t.y-n.y)**2),BS=(n,t)=>Math.min(...t.map(e=>Hu(n,e))),NI=n=>t=>({x:n(t.x),y:n(t.y)});var $V=(n,t)=>{const e=qi({top:Math.max(t.top,n.top),right:Math.min(t.right,n.right),bottom:Math.min(t.bottom,n.bottom),left:Math.max(t.left,n.left)});return e.width<=0||e.height<=0?null:e};const mh=(n,t)=>({top:n.top+t.y,left:n.left+t.x,bottom:n.bottom+t.y,right:n.right+t.x}),US=n=>[{x:n.left,y:n.top},{x:n.right,y:n.top},{x:n.left,y:n.bottom},{x:n.right,y:n.bottom}],WV={top:0,right:0,bottom:0,left:0},YV=(n,t)=>t?mh(n,t.scroll.diff.displacement):n,KV=(n,t,e)=>e&&e.increasedBy?{...n,[t.end]:n[t.end]+e.increasedBy[t.line]}:n,QV=(n,t)=>t&&t.shouldClipSubject?$V(t.pageMarginBox,n):qi(n);var Nl=({page:n,withPlaceholder:t,axis:e,frame:i})=>{const r=YV(n.marginBox,i),o=KV(r,e,t),l=QV(o,i);return{page:n,withPlaceholder:t,active:l}},Vb=(n,t)=>{n.frame||ht();const e=n.frame,i=ei(t,e.scroll.initial),r=Gl(i),o={...e,scroll:{initial:e.scroll.initial,current:t,diff:{value:i,displacement:r},max:e.scroll.max}},l=Nl({page:n.subject.page,withPlaceholder:n.subject.withPlaceholder,axis:n.axis,frame:o});return{...n,frame:o,subject:l}};function sn(n,t=RI){let e=null;function i(...r){if(e&&e.lastThis===this&&t(r,e.lastArgs))return e.lastResult;const o=n.apply(this,r);return e={lastResult:o,lastArgs:r,lastThis:this},o}return i.clear=function(){e=null},i}const kI=sn(n=>n.reduce((t,e)=>(t[e.descriptor.id]=e,t),{})),OI=sn(n=>n.reduce((t,e)=>(t[e.descriptor.id]=e,t),{})),zg=sn(n=>Object.values(n)),XV=sn(n=>Object.values(n));var $l=sn((n,t)=>XV(t).filter(i=>n===i.descriptor.droppableId).sort((i,r)=>i.descriptor.index-r.descriptor.index));function jb(n){return n.at&&n.at.type==="REORDER"?n.at.destination:null}function Lg(n){return n.at&&n.at.type==="COMBINE"?n.at.combine:null}var Vg=sn((n,t)=>t.filter(e=>e.descriptor.id!==n.descriptor.id)),JV=({isMovingForward:n,draggable:t,destination:e,insideDestination:i,previousImpact:r})=>{if(!e.isCombineEnabled||!jb(r))return null;function l(v){const S={type:"COMBINE",combine:{draggableId:v,droppableId:e.descriptor.id}};return{...r,at:S}}const u=r.displaced.all,d=u.length?u[0]:null;if(n)return d?l(d):null;const f=Vg(t,i);if(!d){if(!f.length)return null;const v=f[f.length-1];return l(v.descriptor.id)}const p=f.findIndex(v=>v.descriptor.id===d);p===-1&&ht();const y=p-1;if(y<0)return null;const _=f[y];return l(_.descriptor.id)},Wl=(n,t)=>n.descriptor.droppableId===t.descriptor.id;const MI={point:an,value:0},qu={invisible:{},visible:{},all:[]},ZV={displaced:qu,displacedBy:MI,at:null};var Ci=(n,t)=>e=>n<=e&&e<=t,PI=n=>{const t=Ci(n.top,n.bottom),e=Ci(n.left,n.right);return i=>{if(t(i.top)&&t(i.bottom)&&e(i.left)&&e(i.right))return!0;const o=t(i.top)||t(i.bottom),l=e(i.left)||e(i.right);if(o&&l)return!0;const d=i.top<n.top&&i.bottom>n.bottom,f=i.left<n.left&&i.right>n.right;return d&&f?!0:d&&l||f&&o}},t3=n=>{const t=Ci(n.top,n.bottom),e=Ci(n.left,n.right);return i=>t(i.top)&&t(i.bottom)&&e(i.left)&&e(i.right)};const Bb={direction:"vertical",line:"y",crossAxisLine:"x",start:"top",end:"bottom",size:"height",crossAxisStart:"left",crossAxisEnd:"right",crossAxisSize:"width"},zI={direction:"horizontal",line:"x",crossAxisLine:"y",start:"left",end:"right",size:"width",crossAxisStart:"top",crossAxisEnd:"bottom",crossAxisSize:"height"};var e3=n=>t=>{const e=Ci(t.top,t.bottom),i=Ci(t.left,t.right);return r=>n===Bb?e(r.top)&&e(r.bottom):i(r.left)&&i(r.right)};const n3=(n,t)=>{const e=t.frame?t.frame.scroll.diff.displacement:an;return mh(n,e)},i3=(n,t,e)=>t.subject.active?e(t.subject.active)(n):!1,s3=(n,t,e)=>e(t)(n),Ub=({target:n,destination:t,viewport:e,withDroppableDisplacement:i,isVisibleThroughFrameFn:r})=>{const o=i?n3(n,t):n;return i3(o,t,r)&&s3(o,e,r)},r3=n=>Ub({...n,isVisibleThroughFrameFn:PI}),LI=n=>Ub({...n,isVisibleThroughFrameFn:t3}),a3=n=>Ub({...n,isVisibleThroughFrameFn:e3(n.destination.axis)}),o3=(n,t,e)=>{if(typeof e=="boolean")return e;if(!t)return!0;const{invisible:i,visible:r}=t;if(i[n])return!1;const o=r[n];return o?o.shouldAnimate:!0};function l3(n,t){const e=n.page.marginBox,i={top:t.point.y,right:0,bottom:0,left:t.point.x};return qi(zb(e,i))}function Gu({afterDragging:n,destination:t,displacedBy:e,viewport:i,forceShouldAnimate:r,last:o}){return n.reduce(function(u,d){const f=l3(d,e),p=d.descriptor.id;if(u.all.push(p),!r3({target:f,destination:t,viewport:i,withDroppableDisplacement:!0}))return u.invisible[d.descriptor.id]=!0,u;const _=o3(p,o,r),v={draggableId:p,shouldAnimate:_};return u.visible[p]=v,u},{all:[],visible:{},invisible:{}})}function c3(n,t){if(!n.length)return 0;const e=n[n.length-1].descriptor.index;return t.inHomeList?e:e+1}function FS({insideDestination:n,inHomeList:t,displacedBy:e,destination:i}){const r=c3(n,{inHomeList:t});return{displaced:qu,displacedBy:e,at:{type:"REORDER",destination:{droppableId:i.descriptor.id,index:r}}}}function ig({draggable:n,insideDestination:t,destination:e,viewport:i,displacedBy:r,last:o,index:l,forceShouldAnimate:u}){const d=Wl(n,e);if(l==null)return FS({insideDestination:t,inHomeList:d,displacedBy:r,destination:e});const f=t.find(S=>S.descriptor.index===l);if(!f)return FS({insideDestination:t,inHomeList:d,displacedBy:r,destination:e});const p=Vg(n,t),y=t.indexOf(f),_=p.slice(y);return{displaced:Gu({afterDragging:_,destination:e,displacedBy:r,last:o,viewport:i.frame,forceShouldAnimate:u}),displacedBy:r,at:{type:"REORDER",destination:{droppableId:e.descriptor.id,index:l}}}}function da(n,t){return!!t.effected[n]}var u3=({isMovingForward:n,destination:t,draggables:e,combine:i,afterCritical:r})=>{if(!t.isCombineEnabled)return null;const o=i.draggableId,u=e[o].descriptor.index;return da(o,r)?n?u:u-1:n?u+1:u},h3=({isMovingForward:n,isInHomeList:t,insideDestination:e,location:i})=>{if(!e.length)return null;const r=i.index,o=n?r+1:r-1,l=e[0].descriptor.index,u=e[e.length-1].descriptor.index,d=t?u:u+1;return o<l||o>d?null:o},d3=({isMovingForward:n,isInHomeList:t,draggable:e,draggables:i,destination:r,insideDestination:o,previousImpact:l,viewport:u,afterCritical:d})=>{const f=l.at;if(f||ht(),f.type==="REORDER"){const y=h3({isMovingForward:n,isInHomeList:t,location:f.destination,insideDestination:o});return y==null?null:ig({draggable:e,insideDestination:o,destination:r,viewport:u,last:l.displaced,displacedBy:l.displacedBy,index:y})}const p=u3({isMovingForward:n,destination:r,displaced:l.displaced,draggables:i,combine:f.combine,afterCritical:d});return p==null?null:ig({draggable:e,insideDestination:o,destination:r,viewport:u,last:l.displaced,displacedBy:l.displacedBy,index:p})},f3=({displaced:n,afterCritical:t,combineWith:e,displacedBy:i})=>{const r=!!(n.visible[e]||n.invisible[e]);return da(e,t)?r?an:Gl(i.point):r?i.point:an},g3=({afterCritical:n,impact:t,draggables:e})=>{const i=Lg(t);i||ht();const r=i.draggableId,o=e[r].page.borderBox.center,l=f3({displaced:t.displaced,afterCritical:n,combineWith:r,displacedBy:t.displacedBy});return mn(o,l)};const VI=(n,t)=>t.margin[n.start]+t.borderBox[n.size]/2,p3=(n,t)=>t.margin[n.end]+t.borderBox[n.size]/2,Fb=(n,t,e)=>t[n.crossAxisStart]+e.margin[n.crossAxisStart]+e.borderBox[n.crossAxisSize]/2,HS=({axis:n,moveRelativeTo:t,isMoving:e})=>yo(n.line,t.marginBox[n.end]+VI(n,e),Fb(n,t.marginBox,e)),qS=({axis:n,moveRelativeTo:t,isMoving:e})=>yo(n.line,t.marginBox[n.start]-p3(n,e),Fb(n,t.marginBox,e)),m3=({axis:n,moveInto:t,isMoving:e})=>yo(n.line,t.contentBox[n.start]+VI(n,e),Fb(n,t.contentBox,e));var y3=({impact:n,draggable:t,draggables:e,droppable:i,afterCritical:r})=>{const o=$l(i.descriptor.id,e),l=t.page,u=i.axis;if(!o.length)return m3({axis:u,moveInto:i.page,isMoving:l});const{displaced:d,displacedBy:f}=n,p=d.all[0];if(p){const _=e[p];if(da(p,r))return qS({axis:u,moveRelativeTo:_.page,isMoving:l});const v=Jf(_.page,f.point);return qS({axis:u,moveRelativeTo:v,isMoving:l})}const y=o[o.length-1];if(y.descriptor.id===t.descriptor.id)return l.borderBox.center;if(da(y.descriptor.id,r)){const _=Jf(y.page,Gl(r.displacedBy.point));return HS({axis:u,moveRelativeTo:_,isMoving:l})}return HS({axis:u,moveRelativeTo:y.page,isMoving:l})},p0=(n,t)=>{const e=n.frame;return e?mn(t,e.scroll.diff.displacement):t};const b3=({impact:n,draggable:t,droppable:e,draggables:i,afterCritical:r})=>{const o=t.page.borderBox.center,l=n.at;return!e||!l?o:l.type==="REORDER"?y3({impact:n,draggable:t,draggables:i,droppable:e,afterCritical:r}):g3({impact:n,draggables:i,afterCritical:r})};var jg=n=>{const t=b3(n),e=n.droppable;return e?p0(e,t):t},jI=(n,t)=>{const e=ei(t,n.scroll.initial),i=Gl(e);return{frame:qi({top:t.y,bottom:t.y+n.frame.height,left:t.x,right:t.x+n.frame.width}),scroll:{initial:n.scroll.initial,max:n.scroll.max,current:t,diff:{value:e,displacement:i}}}};function GS(n,t){return n.map(e=>t[e])}function _3(n,t){for(let e=0;e<t.length;e++){const i=t[e].visible[n];if(i)return i}return null}var v3=({impact:n,viewport:t,destination:e,draggables:i,maxScrollChange:r})=>{const o=jI(t,mn(t.scroll.current,r)),l=e.frame?Vb(e,mn(e.frame.scroll.current,r)):e,u=n.displaced,d=Gu({afterDragging:GS(u.all,i),destination:e,displacedBy:n.displacedBy,viewport:o.frame,last:u,forceShouldAnimate:!1}),f=Gu({afterDragging:GS(u.all,i),destination:l,displacedBy:n.displacedBy,viewport:t.frame,last:u,forceShouldAnimate:!1}),p={},y={},_=[u,d,f];return u.all.forEach(S=>{const C=_3(S,_);if(C){y[S]=C;return}p[S]=!0}),{...n,displaced:{all:u.all,invisible:p,visible:y}}},x3=(n,t)=>mn(n.scroll.diff.displacement,t),Hb=({pageBorderBoxCenter:n,draggable:t,viewport:e})=>{const i=x3(e,n),r=ei(i,t.page.borderBox.center);return mn(t.client.borderBox.center,r)},BI=({draggable:n,destination:t,newPageBorderBoxCenter:e,viewport:i,withDroppableDisplacement:r,onlyOnMainAxis:o=!1})=>{const l=ei(e,n.page.borderBox.center),d={target:mh(n.page.borderBox,l),destination:t,withDroppableDisplacement:r,viewport:i};return o?a3(d):LI(d)},E3=({isMovingForward:n,draggable:t,destination:e,draggables:i,previousImpact:r,viewport:o,previousPageBorderBoxCenter:l,previousClientSelection:u,afterCritical:d})=>{if(!e.isEnabled)return null;const f=$l(e.descriptor.id,i),p=Wl(t,e),y=JV({isMovingForward:n,draggable:t,destination:e,insideDestination:f,previousImpact:r})||d3({isMovingForward:n,isInHomeList:p,draggable:t,draggables:i,destination:e,insideDestination:f,previousImpact:r,viewport:o,afterCritical:d});if(!y)return null;const _=jg({impact:y,draggable:t,droppable:e,draggables:i,afterCritical:d});if(BI({draggable:t,destination:e,newPageBorderBoxCenter:_,viewport:o.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0}))return{clientSelection:Hb({pageBorderBoxCenter:_,draggable:t,viewport:o}),impact:y,scrollJumpRequest:null};const S=ei(_,l),C=v3({impact:y,viewport:o,destination:e,draggables:i,maxScrollChange:S});return{clientSelection:u,impact:C,scrollJumpRequest:S}};const Dn=n=>{const t=n.subject.active;return t||ht(),t};var T3=({isMovingForward:n,pageBorderBoxCenter:t,source:e,droppables:i,viewport:r})=>{const o=e.subject.active;if(!o)return null;const l=e.axis,u=Ci(o[l.start],o[l.end]),d=zg(i).filter(p=>p!==e).filter(p=>p.isEnabled).filter(p=>!!p.subject.active).filter(p=>PI(r.frame)(Dn(p))).filter(p=>{const y=Dn(p);return n?o[l.crossAxisEnd]<y[l.crossAxisEnd]:y[l.crossAxisStart]<o[l.crossAxisStart]}).filter(p=>{const y=Dn(p),_=Ci(y[l.start],y[l.end]);return u(y[l.start])||u(y[l.end])||_(o[l.start])||_(o[l.end])}).sort((p,y)=>{const _=Dn(p)[l.crossAxisStart],v=Dn(y)[l.crossAxisStart];return n?_-v:v-_}).filter((p,y,_)=>Dn(p)[l.crossAxisStart]===Dn(_[0])[l.crossAxisStart]);if(!d.length)return null;if(d.length===1)return d[0];const f=d.filter(p=>Ci(Dn(p)[l.start],Dn(p)[l.end])(t[l.line]));return f.length===1?f[0]:f.length>1?f.sort((p,y)=>Dn(p)[l.start]-Dn(y)[l.start])[0]:d.sort((p,y)=>{const _=BS(t,US(Dn(p))),v=BS(t,US(Dn(y)));return _!==v?_-v:Dn(p)[l.start]-Dn(y)[l.start]})[0]};const $S=(n,t)=>{const e=n.page.borderBox.center;return da(n.descriptor.id,t)?ei(e,t.displacedBy.point):e},S3=(n,t)=>{const e=n.page.borderBox;return da(n.descriptor.id,t)?mh(e,Gl(t.displacedBy.point)):e};var w3=({pageBorderBoxCenter:n,viewport:t,destination:e,insideDestination:i,afterCritical:r})=>i.filter(l=>LI({target:S3(l,r),destination:e,viewport:t.frame,withDroppableDisplacement:!0})).sort((l,u)=>{const d=Hu(n,p0(e,$S(l,r))),f=Hu(n,p0(e,$S(u,r)));return d<f?-1:f<d?1:l.descriptor.index-u.descriptor.index})[0]||null,yh=sn(function(t,e){const i=e[t.line];return{value:i,point:yo(t.line,i)}});const A3=(n,t,e)=>{const i=n.axis;if(n.descriptor.mode==="virtual")return yo(i.line,t[i.line]);const r=n.subject.page.contentBox[i.size],d=$l(n.descriptor.id,e).reduce((f,p)=>f+p.client.marginBox[i.size],0)+t[i.line]-r;return d<=0?null:yo(i.line,d)},UI=(n,t)=>({...n,scroll:{...n.scroll,max:t}}),FI=(n,t,e)=>{const i=n.frame;Wl(t,n)&&ht(),n.subject.withPlaceholder&&ht();const r=yh(n.axis,t.displaceBy).point,o=A3(n,r,e),l={placeholderSize:r,increasedBy:o,oldFrameMaxScroll:n.frame?n.frame.scroll.max:null};if(!i){const p=Nl({page:n.subject.page,withPlaceholder:l,axis:n.axis,frame:n.frame});return{...n,subject:p}}const u=o?mn(i.scroll.max,o):i.scroll.max,d=UI(i,u),f=Nl({page:n.subject.page,withPlaceholder:l,axis:n.axis,frame:d});return{...n,subject:f,frame:d}},C3=n=>{const t=n.subject.withPlaceholder;t||ht();const e=n.frame;if(!e){const l=Nl({page:n.subject.page,axis:n.axis,frame:null,withPlaceholder:null});return{...n,subject:l}}const i=t.oldFrameMaxScroll;i||ht();const r=UI(e,i),o=Nl({page:n.subject.page,axis:n.axis,frame:r,withPlaceholder:null});return{...n,subject:o,frame:r}};var I3=({previousPageBorderBoxCenter:n,moveRelativeTo:t,insideDestination:e,draggable:i,draggables:r,destination:o,viewport:l,afterCritical:u})=>{if(!t){if(e.length)return null;const y={displaced:qu,displacedBy:MI,at:{type:"REORDER",destination:{droppableId:o.descriptor.id,index:0}}},_=jg({impact:y,draggable:i,droppable:o,draggables:r,afterCritical:u}),v=Wl(i,o)?o:FI(o,i,r);return BI({draggable:i,destination:v,newPageBorderBoxCenter:_,viewport:l.frame,withDroppableDisplacement:!1,onlyOnMainAxis:!0})?y:null}const d=n[o.axis.line]<=t.page.borderBox.center[o.axis.line],f=(()=>{const y=t.descriptor.index;return t.descriptor.id===i.descriptor.id||d?y:y+1})(),p=yh(o.axis,i.displaceBy);return ig({draggable:i,insideDestination:e,destination:o,viewport:l,displacedBy:p,last:qu,index:f})},D3=({isMovingForward:n,previousPageBorderBoxCenter:t,draggable:e,isOver:i,draggables:r,droppables:o,viewport:l,afterCritical:u})=>{const d=T3({isMovingForward:n,pageBorderBoxCenter:t,source:i,droppables:o,viewport:l});if(!d)return null;const f=$l(d.descriptor.id,r),p=w3({pageBorderBoxCenter:t,viewport:l,destination:d,insideDestination:f,afterCritical:u}),y=I3({previousPageBorderBoxCenter:t,destination:d,draggable:e,draggables:r,moveRelativeTo:p,insideDestination:f,viewport:l,afterCritical:u});if(!y)return null;const _=jg({impact:y,draggable:e,droppable:d,draggables:r,afterCritical:u});return{clientSelection:Hb({pageBorderBoxCenter:_,draggable:e,viewport:l}),impact:y,scrollJumpRequest:null}},si=n=>{const t=n.at;return t?t.type==="REORDER"?t.destination.droppableId:t.combine.droppableId:null};const R3=(n,t)=>{const e=si(n);return e?t[e]:null};var N3=({state:n,type:t})=>{const e=R3(n.impact,n.dimensions.droppables),i=!!e,r=n.dimensions.droppables[n.critical.droppable.id],o=e||r,l=o.axis.direction,u=l==="vertical"&&(t==="MOVE_UP"||t==="MOVE_DOWN")||l==="horizontal"&&(t==="MOVE_LEFT"||t==="MOVE_RIGHT");if(u&&!i)return null;const d=t==="MOVE_DOWN"||t==="MOVE_RIGHT",f=n.dimensions.draggables[n.critical.draggable.id],p=n.current.page.borderBoxCenter,{draggables:y,droppables:_}=n.dimensions;return u?E3({isMovingForward:d,previousPageBorderBoxCenter:p,draggable:f,destination:o,draggables:y,viewport:n.viewport,previousClientSelection:n.current.client.selection,previousImpact:n.impact,afterCritical:n.afterCritical}):D3({isMovingForward:d,previousPageBorderBoxCenter:p,draggable:f,isOver:o,draggables:y,droppables:_,viewport:n.viewport,afterCritical:n.afterCritical})};function eo(n){return n.phase==="DRAGGING"||n.phase==="COLLECTING"}function HI(n){const t=Ci(n.top,n.bottom),e=Ci(n.left,n.right);return function(r){return t(r.y)&&e(r.x)}}function k3(n,t){return n.left<t.right&&n.right>t.left&&n.top<t.bottom&&n.bottom>t.top}function O3({pageBorderBox:n,draggable:t,candidates:e}){const i=t.page.borderBox.center,r=e.map(o=>{const l=o.axis,u=yo(o.axis.line,n.center[l.line],o.page.borderBox.center[l.crossAxisLine]);return{id:o.descriptor.id,distance:Hu(i,u)}}).sort((o,l)=>l.distance-o.distance);return r[0]?r[0].id:null}function M3({pageBorderBox:n,draggable:t,droppables:e}){const i=zg(e).filter(r=>{if(!r.isEnabled)return!1;const o=r.subject.active;if(!o||!k3(n,o))return!1;if(HI(o)(n.center))return!0;const l=r.axis,u=o.center[l.crossAxisLine],d=n[l.crossAxisStart],f=n[l.crossAxisEnd],p=Ci(o[l.crossAxisStart],o[l.crossAxisEnd]),y=p(d),_=p(f);return!y&&!_?!0:y?d<u:f>u});return i.length?i.length===1?i[0].descriptor.id:O3({pageBorderBox:n,draggable:t,candidates:i}):null}const qI=(n,t)=>qi(mh(n,t));var P3=(n,t)=>{const e=n.frame;return e?qI(t,e.scroll.diff.value):t};function GI({displaced:n,id:t}){return!!(n.visible[t]||n.invisible[t])}function z3({draggable:n,closest:t,inHomeList:e}){return t?e&&t.descriptor.index>n.descriptor.index?t.descriptor.index-1:t.descriptor.index:null}var L3=({pageBorderBoxWithDroppableScroll:n,draggable:t,destination:e,insideDestination:i,last:r,viewport:o,afterCritical:l})=>{const u=e.axis,d=yh(e.axis,t.displaceBy),f=d.value,p=n[u.start],y=n[u.end],v=Vg(t,i).find(C=>{const w=C.descriptor.id,O=C.page.borderBox.center[u.line],L=da(w,l),H=GI({displaced:r,id:w});return L?H?y<=O:p<O-f:H?y<=O+f:p<O})||null,S=z3({draggable:t,closest:v,inHomeList:Wl(t,e)});return ig({draggable:t,insideDestination:i,destination:e,viewport:o,last:r,displacedBy:d,index:S})};const V3=4;var j3=({draggable:n,pageBorderBoxWithDroppableScroll:t,previousImpact:e,destination:i,insideDestination:r,afterCritical:o})=>{if(!i.isCombineEnabled)return null;const l=i.axis,u=yh(i.axis,n.displaceBy),d=u.value,f=t[l.start],p=t[l.end],_=Vg(n,r).find(S=>{const C=S.descriptor.id,w=S.page.borderBox,L=w[l.size]/V3,H=da(C,o),q=GI({displaced:e.displaced,id:C});return H?q?p>w[l.start]+L&&p<w[l.end]-L:f>w[l.start]-d+L&&f<w[l.end]-d-L:q?p>w[l.start]+d+L&&p<w[l.end]+d-L:f>w[l.start]+L&&f<w[l.end]-L});return _?{displacedBy:u,displaced:e.displaced,at:{type:"COMBINE",combine:{draggableId:_.descriptor.id,droppableId:i.descriptor.id}}}:null},$I=({pageOffset:n,draggable:t,draggables:e,droppables:i,previousImpact:r,viewport:o,afterCritical:l})=>{const u=qI(t.page.borderBox,n),d=M3({pageBorderBox:u,draggable:t,droppables:i});if(!d)return ZV;const f=i[d],p=$l(f.descriptor.id,e),y=P3(f,u);return j3({pageBorderBoxWithDroppableScroll:y,draggable:t,previousImpact:r,destination:f,insideDestination:p,afterCritical:l})||L3({pageBorderBoxWithDroppableScroll:y,draggable:t,destination:f,insideDestination:p,last:r.displaced,viewport:o,afterCritical:l})},qb=(n,t)=>({...n,[t.descriptor.id]:t});const B3=({previousImpact:n,impact:t,droppables:e})=>{const i=si(n),r=si(t);if(!i||i===r)return e;const o=e[i];if(!o.subject.withPlaceholder)return e;const l=C3(o);return qb(e,l)};var U3=({draggable:n,draggables:t,droppables:e,previousImpact:i,impact:r})=>{const o=B3({previousImpact:i,impact:r,droppables:e}),l=si(r);if(!l)return o;const u=e[l];if(Wl(n,u)||u.subject.withPlaceholder)return o;const d=FI(u,n,t);return qb(o,d)},Tu=({state:n,clientSelection:t,dimensions:e,viewport:i,impact:r,scrollJumpRequest:o})=>{const l=i||n.viewport,u=e||n.dimensions,d=t||n.current.client.selection,f=ei(d,n.initial.client.selection),p={offset:f,selection:d,borderBoxCenter:mn(n.initial.client.borderBoxCenter,f)},y={selection:mn(p.selection,l.scroll.current),borderBoxCenter:mn(p.borderBoxCenter,l.scroll.current),offset:mn(p.offset,l.scroll.diff.value)},_={client:p,page:y};if(n.phase==="COLLECTING")return{...n,dimensions:u,viewport:l,current:_};const v=u.draggables[n.critical.draggable.id],S=r||$I({pageOffset:y.offset,draggable:v,draggables:u.draggables,droppables:u.droppables,previousImpact:n.impact,viewport:l,afterCritical:n.afterCritical}),C=U3({draggable:v,impact:S,previousImpact:n.impact,draggables:u.draggables,droppables:u.droppables});return{...n,current:_,dimensions:{draggables:u.draggables,droppables:C},impact:S,viewport:l,scrollJumpRequest:o||null,forceShouldAnimate:o?!1:null}};function F3(n,t){return n.map(e=>t[e])}var WI=({impact:n,viewport:t,draggables:e,destination:i,forceShouldAnimate:r})=>{const o=n.displaced,l=F3(o.all,e),u=Gu({afterDragging:l,destination:i,displacedBy:n.displacedBy,viewport:t.frame,forceShouldAnimate:r,last:o});return{...n,displaced:u}},YI=({impact:n,draggable:t,droppable:e,draggables:i,viewport:r,afterCritical:o})=>{const l=jg({impact:n,draggable:t,draggables:i,droppable:e,afterCritical:o});return Hb({pageBorderBoxCenter:l,draggable:t,viewport:r})},KI=({state:n,dimensions:t,viewport:e})=>{n.movementMode!=="SNAP"&&ht();const i=n.impact,r=e||n.viewport,o=t||n.dimensions,{draggables:l,droppables:u}=o,d=l[n.critical.draggable.id],f=si(i);f||ht();const p=u[f],y=WI({impact:i,viewport:r,destination:p,draggables:l}),_=YI({impact:y,draggable:d,droppable:p,draggables:l,viewport:r,afterCritical:n.afterCritical});return Tu({impact:y,clientSelection:_,state:n,dimensions:o,viewport:r})},H3=n=>({index:n.index,droppableId:n.droppableId}),QI=({draggable:n,home:t,draggables:e,viewport:i})=>{const r=yh(t.axis,n.displaceBy),o=$l(t.descriptor.id,e),l=o.indexOf(n);l===-1&&ht();const u=o.slice(l+1),d=u.reduce((_,v)=>(_[v.descriptor.id]=!0,_),{}),f={inVirtualList:t.descriptor.mode==="virtual",displacedBy:r,effected:d};return{impact:{displaced:Gu({afterDragging:u,destination:t,displacedBy:r,last:null,viewport:i.frame,forceShouldAnimate:!1}),displacedBy:r,at:{type:"REORDER",destination:H3(n.descriptor)}},afterCritical:f}},q3=(n,t)=>({draggables:n.draggables,droppables:qb(n.droppables,t)}),G3=({draggable:n,offset:t,initialWindowScroll:e})=>{const i=Jf(n.client,t),r=Zf(i,e);return{...n,placeholder:{...n.placeholder,client:i},client:i,page:r}},$3=n=>{const t=n.frame;return t||ht(),t},W3=({additions:n,updatedDroppables:t,viewport:e})=>{const i=e.scroll.diff.value;return n.map(r=>{const o=r.descriptor.droppableId,l=t[o],d=$3(l).scroll.diff.value,f=mn(i,d);return G3({draggable:r,offset:f,initialWindowScroll:e.scroll.initial})})},Y3=({state:n,published:t})=>{const e=t.modified.map(O=>{const L=n.dimensions.droppables[O.droppableId];return Vb(L,O.scroll)}),i={...n.dimensions.droppables,...kI(e)},r=OI(W3({additions:t.additions,updatedDroppables:i,viewport:n.viewport})),o={...n.dimensions.draggables,...r};t.removals.forEach(O=>{delete o[O]});const l={droppables:i,draggables:o},u=si(n.impact),d=u?l.droppables[u]:null,f=l.draggables[n.critical.draggable.id],p=l.droppables[n.critical.droppable.id],{impact:y,afterCritical:_}=QI({draggable:f,home:p,draggables:o,viewport:n.viewport}),v=d&&d.isCombineEnabled?n.impact:y,S=$I({pageOffset:n.current.page.offset,draggable:l.draggables[n.critical.draggable.id],draggables:l.draggables,droppables:l.droppables,previousImpact:v,viewport:n.viewport,afterCritical:_}),C={...n,phase:"DRAGGING",impact:S,onLiftImpact:y,dimensions:l,afterCritical:_,forceShouldAnimate:!1};return n.phase==="COLLECTING"?C:{...C,phase:"DROP_PENDING",reason:n.reason,isWaiting:!1}};const m0=n=>n.movementMode==="SNAP",by=(n,t,e)=>{const i=q3(n.dimensions,t);return!m0(n)||e?Tu({state:n,dimensions:i}):KI({state:n,dimensions:i})};function _y(n){return n.isDragging&&n.movementMode==="SNAP"?{...n,scrollJumpRequest:null}:n}const WS={phase:"IDLE",completed:null,shouldFlush:!1};var K3=(n=WS,t)=>{if(t.type==="FLUSH")return{...WS,shouldFlush:!0};if(t.type==="INITIAL_PUBLISH"){n.phase!=="IDLE"&&ht();const{critical:e,clientSelection:i,viewport:r,dimensions:o,movementMode:l}=t.payload,u=o.draggables[e.draggable.id],d=o.droppables[e.droppable.id],f={selection:i,borderBoxCenter:u.client.borderBox.center,offset:an},p={client:f,page:{selection:mn(f.selection,r.scroll.initial),borderBoxCenter:mn(f.selection,r.scroll.initial),offset:mn(f.selection,r.scroll.diff.value)}},y=zg(o.droppables).every(C=>!C.isFixedOnPage),{impact:_,afterCritical:v}=QI({draggable:u,home:d,draggables:o.draggables,viewport:r});return{phase:"DRAGGING",isDragging:!0,critical:e,movementMode:l,dimensions:o,initial:p,current:p,isWindowScrollAllowed:y,impact:_,afterCritical:v,onLiftImpact:_,viewport:r,scrollJumpRequest:null,forceShouldAnimate:null}}if(t.type==="COLLECTION_STARTING")return n.phase==="COLLECTING"||n.phase==="DROP_PENDING"?n:(n.phase!=="DRAGGING"&&ht(),{...n,phase:"COLLECTING"});if(t.type==="PUBLISH_WHILE_DRAGGING")return n.phase==="COLLECTING"||n.phase==="DROP_PENDING"||ht(),Y3({state:n,published:t.payload});if(t.type==="MOVE"){if(n.phase==="DROP_PENDING")return n;eo(n)||ht();const{client:e}=t.payload;return sa(e,n.current.client.selection)?n:Tu({state:n,clientSelection:e,impact:m0(n)?n.impact:null})}if(t.type==="UPDATE_DROPPABLE_SCROLL"){if(n.phase==="DROP_PENDING"||n.phase==="COLLECTING")return _y(n);eo(n)||ht();const{id:e,newScroll:i}=t.payload,r=n.dimensions.droppables[e];if(!r)return n;const o=Vb(r,i);return by(n,o,!1)}if(t.type==="UPDATE_DROPPABLE_IS_ENABLED"){if(n.phase==="DROP_PENDING")return n;eo(n)||ht();const{id:e,isEnabled:i}=t.payload,r=n.dimensions.droppables[e];r||ht(),r.isEnabled===i&&ht();const o={...r,isEnabled:i};return by(n,o,!0)}if(t.type==="UPDATE_DROPPABLE_IS_COMBINE_ENABLED"){if(n.phase==="DROP_PENDING")return n;eo(n)||ht();const{id:e,isCombineEnabled:i}=t.payload,r=n.dimensions.droppables[e];r||ht(),r.isCombineEnabled===i&&ht();const o={...r,isCombineEnabled:i};return by(n,o,!0)}if(t.type==="MOVE_BY_WINDOW_SCROLL"){if(n.phase==="DROP_PENDING"||n.phase==="DROP_ANIMATING")return n;eo(n)||ht(),n.isWindowScrollAllowed||ht();const e=t.payload.newScroll;if(sa(n.viewport.scroll.current,e))return _y(n);const i=jI(n.viewport,e);return m0(n)?KI({state:n,viewport:i}):Tu({state:n,viewport:i})}if(t.type==="UPDATE_VIEWPORT_MAX_SCROLL"){if(!eo(n))return n;const e=t.payload.maxScroll;if(sa(e,n.viewport.scroll.max))return n;const i={...n.viewport,scroll:{...n.viewport.scroll,max:e}};return{...n,viewport:i}}if(t.type==="MOVE_UP"||t.type==="MOVE_DOWN"||t.type==="MOVE_LEFT"||t.type==="MOVE_RIGHT"){if(n.phase==="COLLECTING"||n.phase==="DROP_PENDING")return n;n.phase!=="DRAGGING"&&ht();const e=N3({state:n,type:t.type});return e?Tu({state:n,impact:e.impact,clientSelection:e.clientSelection,scrollJumpRequest:e.scrollJumpRequest}):n}if(t.type==="DROP_PENDING"){const e=t.payload.reason;return n.phase!=="COLLECTING"&&ht(),{...n,phase:"DROP_PENDING",isWaiting:!0,reason:e}}if(t.type==="DROP_ANIMATE"){const{completed:e,dropDuration:i,newHomeClientOffset:r}=t.payload;return n.phase==="DRAGGING"||n.phase==="DROP_PENDING"||ht(),{phase:"DROP_ANIMATING",completed:e,dropDuration:i,newHomeClientOffset:r,dimensions:n.dimensions}}if(t.type==="DROP_COMPLETE"){const{completed:e}=t.payload;return{phase:"IDLE",completed:e,shouldFlush:!1}}return n};function ie(n,t){return n instanceof Object&&"type"in n&&n.type===t}const Q3=n=>({type:"BEFORE_INITIAL_CAPTURE",payload:n}),X3=n=>({type:"LIFT",payload:n}),J3=n=>({type:"INITIAL_PUBLISH",payload:n}),Z3=n=>({type:"PUBLISH_WHILE_DRAGGING",payload:n}),t6=()=>({type:"COLLECTION_STARTING",payload:null}),e6=n=>({type:"UPDATE_DROPPABLE_SCROLL",payload:n}),n6=n=>({type:"UPDATE_DROPPABLE_IS_ENABLED",payload:n}),i6=n=>({type:"UPDATE_DROPPABLE_IS_COMBINE_ENABLED",payload:n}),XI=n=>({type:"MOVE",payload:n}),s6=n=>({type:"MOVE_BY_WINDOW_SCROLL",payload:n}),r6=n=>({type:"UPDATE_VIEWPORT_MAX_SCROLL",payload:n}),a6=()=>({type:"MOVE_UP",payload:null}),o6=()=>({type:"MOVE_DOWN",payload:null}),l6=()=>({type:"MOVE_RIGHT",payload:null}),c6=()=>({type:"MOVE_LEFT",payload:null}),Gb=()=>({type:"FLUSH",payload:null}),u6=n=>({type:"DROP_ANIMATE",payload:n}),$b=n=>({type:"DROP_COMPLETE",payload:n}),JI=n=>({type:"DROP",payload:n}),h6=n=>({type:"DROP_PENDING",payload:n}),ZI=()=>({type:"DROP_ANIMATION_FINISHED",payload:null});var d6=n=>({getState:t,dispatch:e})=>i=>r=>{if(!ie(r,"LIFT")){i(r);return}const{id:o,clientSelection:l,movementMode:u}=r.payload,d=t();d.phase==="DROP_ANIMATING"&&e($b({completed:d.completed})),t().phase!=="IDLE"&&ht(),e(Gb()),e(Q3({draggableId:o,movementMode:u}));const p={draggableId:o,scrollOptions:{shouldPublishImmediately:u==="SNAP"}},{critical:y,dimensions:_,viewport:v}=n.startPublishing(p);e(J3({critical:y,dimensions:_,clientSelection:l,movementMode:u,viewport:v}))},f6=n=>()=>t=>e=>{ie(e,"INITIAL_PUBLISH")&&n.dragging(),ie(e,"DROP_ANIMATE")&&n.dropping(e.payload.completed.result.reason),(ie(e,"FLUSH")||ie(e,"DROP_COMPLETE"))&&n.resting(),t(e)};const Wb={outOfTheWay:"cubic-bezier(0.2, 0, 0, 1)",drop:"cubic-bezier(.2,1,.1,1)"},$u={opacity:{drop:0,combining:.7},scale:{drop:.75}},t2={outOfTheWay:.2,minDropTime:.33,maxDropTime:.55},Qa=`${t2.outOfTheWay}s ${Wb.outOfTheWay}`,Su={fluid:`opacity ${Qa}`,snap:`transform ${Qa}, opacity ${Qa}`,drop:n=>{const t=`${n}s ${Wb.drop}`;return`transform ${t}, opacity ${t}`},outOfTheWay:`transform ${Qa}`,placeholder:`height ${Qa}, width ${Qa}, margin ${Qa}`},YS=n=>sa(n,an)?void 0:`translate(${n.x}px, ${n.y}px)`,y0={moveTo:YS,drop:(n,t)=>{const e=YS(n);if(e)return t?`${e} scale(${$u.scale.drop})`:e}},{minDropTime:b0,maxDropTime:e2}=t2,g6=e2-b0,KS=1500,p6=.6;var m6=({current:n,destination:t,reason:e})=>{const i=Hu(n,t);if(i<=0)return b0;if(i>=KS)return e2;const r=i/KS,o=b0+g6*r,l=e==="CANCEL"?o*p6:o;return Number(l.toFixed(2))},y6=({impact:n,draggable:t,dimensions:e,viewport:i,afterCritical:r})=>{const{draggables:o,droppables:l}=e,u=si(n),d=u?l[u]:null,f=l[t.descriptor.droppableId],p=YI({impact:n,draggable:t,draggables:o,afterCritical:r,droppable:d||f,viewport:i});return ei(p,t.client.borderBox.center)},b6=({draggables:n,reason:t,lastImpact:e,home:i,viewport:r,onLiftImpact:o})=>!e.at||t!=="DROP"?{impact:WI({draggables:n,impact:o,destination:i,viewport:r,forceShouldAnimate:!0}),didDropInsideDroppable:!1}:e.at.type==="REORDER"?{impact:e,didDropInsideDroppable:!0}:{impact:{...e,displaced:qu},didDropInsideDroppable:!0};const _6=({getState:n,dispatch:t})=>e=>i=>{if(!ie(i,"DROP")){e(i);return}const r=n(),o=i.payload.reason;if(r.phase==="COLLECTING"){t(h6({reason:o}));return}if(r.phase==="IDLE")return;r.phase==="DROP_PENDING"&&r.isWaiting&&ht(),r.phase==="DRAGGING"||r.phase==="DROP_PENDING"||ht();const u=r.critical,d=r.dimensions,f=d.draggables[r.critical.draggable.id],{impact:p,didDropInsideDroppable:y}=b6({reason:o,lastImpact:r.impact,afterCritical:r.afterCritical,onLiftImpact:r.onLiftImpact,home:r.dimensions.droppables[r.critical.droppable.id],viewport:r.viewport,draggables:r.dimensions.draggables}),_=y?jb(p):null,v=y?Lg(p):null,S={index:u.draggable.index,droppableId:u.droppable.id},C={draggableId:f.descriptor.id,type:f.descriptor.type,source:S,reason:o,mode:r.movementMode,destination:_,combine:v},w=y6({impact:p,draggable:f,dimensions:d,viewport:r.viewport,afterCritical:r.afterCritical}),O={critical:r.critical,afterCritical:r.afterCritical,result:C,impact:p};if(!(!sa(r.current.client.offset,w)||!!C.combine)){t($b({completed:O}));return}const H=m6({current:r.current.client.offset,destination:w,reason:o});t(u6({newHomeClientOffset:w,dropDuration:H,completed:O}))};var n2=()=>({x:window.pageXOffset,y:window.pageYOffset});function v6(n){return{eventName:"scroll",options:{passive:!0,capture:!1},fn:t=>{t.target!==window&&t.target!==window.document||n()}}}function x6({onWindowScroll:n}){function t(){n(n2())}const e=Fu(t),i=v6(e);let r=ia;function o(){return r!==ia}function l(){o()&&ht(),r=Si(window,[i])}function u(){o()||ht(),e.cancel(),r(),r=ia}return{start:l,stop:u,isActive:o}}const E6=n=>ie(n,"DROP_COMPLETE")||ie(n,"DROP_ANIMATE")||ie(n,"FLUSH"),T6=n=>{const t=x6({onWindowScroll:e=>{n.dispatch(s6({newScroll:e}))}});return e=>i=>{!t.isActive()&&ie(i,"INITIAL_PUBLISH")&&t.start(),t.isActive()&&E6(i)&&t.stop(),e(i)}};var S6=n=>{let t=!1,e=!1;const i=setTimeout(()=>{e=!0}),r=o=>{t||e||(t=!0,n(o),clearTimeout(i))};return r.wasCalled=()=>t,r},w6=()=>{const n=[],t=r=>{const o=n.findIndex(u=>u.timerId===r);o===-1&&ht();const[l]=n.splice(o,1);l.callback()};return{add:r=>{const o=setTimeout(()=>t(o)),l={timerId:o,callback:r};n.push(l)},flush:()=>{if(!n.length)return;const r=[...n];n.length=0,r.forEach(o=>{clearTimeout(o.timerId),o.callback()})}}};const A6=(n,t)=>n==null&&t==null?!0:n==null||t==null?!1:n.droppableId===t.droppableId&&n.index===t.index,C6=(n,t)=>n==null&&t==null?!0:n==null||t==null?!1:n.draggableId===t.draggableId&&n.droppableId===t.droppableId,I6=(n,t)=>{if(n===t)return!0;const e=n.draggable.id===t.draggable.id&&n.draggable.droppableId===t.draggable.droppableId&&n.draggable.type===t.draggable.type&&n.draggable.index===t.draggable.index,i=n.droppable.id===t.droppable.id&&n.droppable.type===t.droppable.type;return e&&i},Zc=(n,t)=>{t()},tf=(n,t)=>({draggableId:n.draggable.id,type:n.droppable.type,source:{droppableId:n.droppable.id,index:n.draggable.index},mode:t});function vy(n,t,e,i){if(!n){e(i(t));return}const r=S6(e);n(t,{announce:r}),r.wasCalled()||e(i(t))}var D6=(n,t)=>{const e=w6();let i=null;const r=(y,_)=>{i&&ht(),Zc("onBeforeCapture",()=>{const v=n().onBeforeCapture;v&&v({draggableId:y,mode:_})})},o=(y,_)=>{i&&ht(),Zc("onBeforeDragStart",()=>{const v=n().onBeforeDragStart;v&&v(tf(y,_))})},l=(y,_)=>{i&&ht();const v=tf(y,_);i={mode:_,lastCritical:y,lastLocation:v.source,lastCombine:null},e.add(()=>{Zc("onDragStart",()=>vy(n().onDragStart,v,t,If.onDragStart))})},u=(y,_)=>{const v=jb(_),S=Lg(_);i||ht();const C=!I6(y,i.lastCritical);C&&(i.lastCritical=y);const w=!A6(i.lastLocation,v);w&&(i.lastLocation=v);const O=!C6(i.lastCombine,S);if(O&&(i.lastCombine=S),!C&&!w&&!O)return;const L={...tf(y,i.mode),combine:S,destination:v};e.add(()=>{Zc("onDragUpdate",()=>vy(n().onDragUpdate,L,t,If.onDragUpdate))})},d=()=>{i||ht(),e.flush()},f=y=>{i||ht(),i=null,Zc("onDragEnd",()=>vy(n().onDragEnd,y,t,If.onDragEnd))};return{beforeCapture:r,beforeStart:o,start:l,update:u,flush:d,drop:f,abort:()=>{if(!i)return;const y={...tf(i.lastCritical,i.mode),combine:null,destination:null,reason:"CANCEL"};f(y)}}},R6=(n,t)=>{const e=D6(n,t);return i=>r=>o=>{if(ie(o,"BEFORE_INITIAL_CAPTURE")){e.beforeCapture(o.payload.draggableId,o.payload.movementMode);return}if(ie(o,"INITIAL_PUBLISH")){const u=o.payload.critical;e.beforeStart(u,o.payload.movementMode),r(o),e.start(u,o.payload.movementMode);return}if(ie(o,"DROP_COMPLETE")){const u=o.payload.completed.result;e.flush(),r(o),e.drop(u);return}if(r(o),ie(o,"FLUSH")){e.abort();return}const l=i.getState();l.phase==="DRAGGING"&&e.update(l.critical,l.impact)}};const N6=n=>t=>e=>{if(!ie(e,"DROP_ANIMATION_FINISHED")){t(e);return}const i=n.getState();i.phase!=="DROP_ANIMATING"&&ht(),n.dispatch($b({completed:i.completed}))},k6=n=>{let t=null,e=null;function i(){e&&(cancelAnimationFrame(e),e=null),t&&(t(),t=null)}return r=>o=>{if((ie(o,"FLUSH")||ie(o,"DROP_COMPLETE")||ie(o,"DROP_ANIMATION_FINISHED"))&&i(),r(o),!ie(o,"DROP_ANIMATE"))return;const l={eventName:"scroll",options:{capture:!0,passive:!1,once:!0},fn:function(){n.getState().phase==="DROP_ANIMATING"&&n.dispatch(ZI())}};e=requestAnimationFrame(()=>{e=null,t=Si(window,[l])})}};var O6=n=>()=>t=>e=>{(ie(e,"DROP_COMPLETE")||ie(e,"FLUSH")||ie(e,"DROP_ANIMATE"))&&n.stopPublishing(),t(e)},M6=n=>{let t=!1;return()=>e=>i=>{if(ie(i,"INITIAL_PUBLISH")){t=!0,n.tryRecordFocus(i.payload.critical.draggable.id),e(i),n.tryRestoreFocusRecorded();return}if(e(i),!!t){if(ie(i,"FLUSH")){t=!1,n.tryRestoreFocusRecorded();return}if(ie(i,"DROP_COMPLETE")){t=!1;const r=i.payload.completed.result;r.combine&&n.tryShiftRecord(r.draggableId,r.combine.draggableId),n.tryRestoreFocusRecorded()}}}};const P6=n=>ie(n,"DROP_COMPLETE")||ie(n,"DROP_ANIMATE")||ie(n,"FLUSH");var z6=n=>t=>e=>i=>{if(P6(i)){n.stop(),e(i);return}if(ie(i,"INITIAL_PUBLISH")){e(i);const r=t.getState();r.phase!=="DRAGGING"&&ht(),n.start(r);return}e(i),n.scroll(t.getState())};const L6=n=>t=>e=>{if(t(e),!ie(e,"PUBLISH_WHILE_DRAGGING"))return;const i=n.getState();i.phase==="DROP_PENDING"&&(i.isWaiting||n.dispatch(JI({reason:i.reason})))},V6=bI;var j6=({dimensionMarshal:n,focusMarshal:t,styleMarshal:e,getResponders:i,announce:r,autoScroller:o})=>yI(K3,V6(zL(f6(e),O6(n),d6(n),_6,N6,k6,L6,z6(o),T6,M6(t),R6(i,r))));const xy=()=>({additions:{},removals:{},modified:{}});function B6({registry:n,callbacks:t}){let e=xy(),i=null;const r=()=>{i||(t.collectionStarting(),i=requestAnimationFrame(()=>{i=null;const{additions:d,removals:f,modified:p}=e,y=Object.keys(d).map(S=>n.draggable.getById(S).getDimension(an)).sort((S,C)=>S.descriptor.index-C.descriptor.index),_=Object.keys(p).map(S=>{const w=n.droppable.getById(S).callbacks.getScrollWhileDragging();return{droppableId:S,scroll:w}}),v={additions:y,removals:Object.keys(f),modified:_};e=xy(),t.publish(v)}))};return{add:d=>{const f=d.descriptor.id;e.additions[f]=d,e.modified[d.descriptor.droppableId]=!0,e.removals[f]&&delete e.removals[f],r()},remove:d=>{const f=d.descriptor;e.removals[f.id]=!0,e.modified[f.droppableId]=!0,e.additions[f.id]&&delete e.additions[f.id],r()},stop:()=>{i&&(cancelAnimationFrame(i),i=null,e=xy())}}}var i2=({scrollHeight:n,scrollWidth:t,height:e,width:i})=>{const r=ei({x:t,y:n},{x:i,y:e});return{x:Math.max(0,r.x),y:Math.max(0,r.y)}},s2=()=>{const n=document.documentElement;return n||ht(),n},r2=()=>{const n=s2();return i2({scrollHeight:n.scrollHeight,scrollWidth:n.scrollWidth,width:n.clientWidth,height:n.clientHeight})},U6=()=>{const n=n2(),t=r2(),e=n.y,i=n.x,r=s2(),o=r.clientWidth,l=r.clientHeight,u=i+o,d=e+l;return{frame:qi({top:e,left:i,right:u,bottom:d}),scroll:{initial:n,current:n,max:t,diff:{value:an,displacement:an}}}},F6=({critical:n,scrollOptions:t,registry:e})=>{const i=U6(),r=i.scroll.current,o=n.droppable,l=e.droppable.getAllByType(o.type).map(p=>p.callbacks.getDimensionAndWatchScroll(r,t)),u=e.draggable.getAllByType(n.draggable.type).map(p=>p.getDimension(r));return{dimensions:{draggables:OI(u),droppables:kI(l)},critical:n,viewport:i}};function QS(n,t,e){return!(e.descriptor.id===t.id||e.descriptor.type!==t.type||n.droppable.getById(e.descriptor.droppableId).descriptor.mode!=="virtual")}var H6=(n,t)=>{let e=null;const i=B6({callbacks:{publish:t.publishWhileDragging,collectionStarting:t.collectionStarting},registry:n}),r=(_,v)=>{n.droppable.exists(_)||ht(),e&&t.updateDroppableIsEnabled({id:_,isEnabled:v})},o=(_,v)=>{e&&(n.droppable.exists(_)||ht(),t.updateDroppableIsCombineEnabled({id:_,isCombineEnabled:v}))},l=(_,v)=>{e&&(n.droppable.exists(_)||ht(),t.updateDroppableScroll({id:_,newScroll:v}))},u=(_,v)=>{e&&n.droppable.getById(_).callbacks.scroll(v)},d=()=>{if(!e)return;i.stop();const _=e.critical.droppable;n.droppable.getAllByType(_.type).forEach(v=>v.callbacks.dragStopped()),e.unsubscribe(),e=null},f=_=>{e||ht();const v=e.critical.draggable;_.type==="ADDITION"&&QS(n,v,_.value)&&i.add(_.value),_.type==="REMOVAL"&&QS(n,v,_.value)&&i.remove(_.value)};return{updateDroppableIsEnabled:r,updateDroppableIsCombineEnabled:o,scrollDroppable:u,updateDroppableScroll:l,startPublishing:_=>{e&&ht();const v=n.draggable.getById(_.draggableId),S=n.droppable.getById(v.descriptor.droppableId),C={draggable:v.descriptor,droppable:S.descriptor},w=n.subscribe(f);return e={critical:C,unsubscribe:w},F6({critical:C,registry:n,scrollOptions:_.scrollOptions})},stopPublishing:d}},a2=(n,t)=>n.phase==="IDLE"?!0:n.phase!=="DROP_ANIMATING"||n.completed.result.draggableId===t?!1:n.completed.result.reason==="DROP",q6=n=>{window.scrollBy(n.x,n.y)};const G6=sn(n=>zg(n).filter(t=>!(!t.isEnabled||!t.frame))),$6=(n,t)=>G6(t).find(i=>(i.frame||ht(),HI(i.frame.pageMarginBox)(n)))||null;var W6=({center:n,destination:t,droppables:e})=>{if(t){const r=e[t];return r.frame?r:null}return $6(n,e)};const Wu={startFromPercentage:.25,maxScrollAtPercentage:.05,maxPixelScroll:28,ease:n=>n**2,durationDampening:{stopDampeningAt:1200,accelerateAt:360},disabled:!1};var Y6=(n,t,e=()=>Wu)=>{const i=e(),r=n[t.size]*i.startFromPercentage,o=n[t.size]*i.maxScrollAtPercentage;return{startScrollingFrom:r,maxScrollValueAt:o}},o2=({startOfRange:n,endOfRange:t,current:e})=>{const i=t-n;return i===0?0:(e-n)/i},Yb=1,K6=(n,t,e=()=>Wu)=>{const i=e();if(n>t.startScrollingFrom)return 0;if(n<=t.maxScrollValueAt)return i.maxPixelScroll;if(n===t.startScrollingFrom)return Yb;const o=1-o2({startOfRange:t.maxScrollValueAt,endOfRange:t.startScrollingFrom,current:n}),l=i.maxPixelScroll*i.ease(o);return Math.ceil(l)},Q6=(n,t,e)=>{const i=e(),r=i.durationDampening.accelerateAt,o=i.durationDampening.stopDampeningAt,l=t,u=o,f=Date.now()-l;if(f>=o)return n;if(f<r)return Yb;const p=o2({startOfRange:r,endOfRange:u,current:f}),y=n*i.ease(p);return Math.ceil(y)},XS=({distanceToEdge:n,thresholds:t,dragStartTime:e,shouldUseTimeDampening:i,getAutoScrollerOptions:r})=>{const o=K6(n,t,r);return o===0?0:i?Math.max(Q6(o,e,r),Yb):o},JS=({container:n,distanceToEdges:t,dragStartTime:e,axis:i,shouldUseTimeDampening:r,getAutoScrollerOptions:o})=>{const l=Y6(n,i,o);return t[i.end]<t[i.start]?XS({distanceToEdge:t[i.end],thresholds:l,dragStartTime:e,shouldUseTimeDampening:r,getAutoScrollerOptions:o}):-1*XS({distanceToEdge:t[i.start],thresholds:l,dragStartTime:e,shouldUseTimeDampening:r,getAutoScrollerOptions:o})},X6=({container:n,subject:t,proposedScroll:e})=>{const i=t.height>n.height,r=t.width>n.width;return!r&&!i?e:r&&i?null:{x:r?0:e.x,y:i?0:e.y}};const J6=NI(n=>n===0?0:n);var l2=({dragStartTime:n,container:t,subject:e,center:i,shouldUseTimeDampening:r,getAutoScrollerOptions:o})=>{const l={top:i.y-t.top,right:t.right-i.x,bottom:t.bottom-i.y,left:i.x-t.left},u=JS({container:t,distanceToEdges:l,dragStartTime:n,axis:Bb,shouldUseTimeDampening:r,getAutoScrollerOptions:o}),d=JS({container:t,distanceToEdges:l,dragStartTime:n,axis:zI,shouldUseTimeDampening:r,getAutoScrollerOptions:o}),f=J6({x:d,y:u});if(sa(f,an))return null;const p=X6({container:t,subject:e,proposedScroll:f});return p?sa(p,an)?null:p:null};const Z6=NI(n=>n===0?0:n>0?1:-1),Kb=(()=>{const n=(t,e)=>t<0?t:t>e?t-e:0;return({current:t,max:e,change:i})=>{const r=mn(t,i),o={x:n(r.x,e.x),y:n(r.y,e.y)};return sa(o,an)?null:o}})(),c2=({max:n,current:t,change:e})=>{const i={x:Math.max(t.x,n.x),y:Math.max(t.y,n.y)},r=Z6(e),o=Kb({max:i,current:t,change:r});return!o||r.x!==0&&o.x===0||r.y!==0&&o.y===0},Qb=(n,t)=>c2({current:n.scroll.current,max:n.scroll.max,change:t}),t9=(n,t)=>{if(!Qb(n,t))return null;const e=n.scroll.max,i=n.scroll.current;return Kb({current:i,max:e,change:t})},Xb=(n,t)=>{const e=n.frame;return e?c2({current:e.scroll.current,max:e.scroll.max,change:t}):!1},e9=(n,t)=>{const e=n.frame;return!e||!Xb(n,t)?null:Kb({current:e.scroll.current,max:e.scroll.max,change:t})};var n9=({viewport:n,subject:t,center:e,dragStartTime:i,shouldUseTimeDampening:r,getAutoScrollerOptions:o})=>{const l=l2({dragStartTime:i,container:n.frame,subject:t,center:e,shouldUseTimeDampening:r,getAutoScrollerOptions:o});return l&&Qb(n,l)?l:null},i9=({droppable:n,subject:t,center:e,dragStartTime:i,shouldUseTimeDampening:r,getAutoScrollerOptions:o})=>{const l=n.frame;if(!l)return null;const u=l2({dragStartTime:i,container:l.pageMarginBox,subject:t,center:e,shouldUseTimeDampening:r,getAutoScrollerOptions:o});return u&&Xb(n,u)?u:null},ZS=({state:n,dragStartTime:t,shouldUseTimeDampening:e,scrollWindow:i,scrollDroppable:r,getAutoScrollerOptions:o})=>{const l=n.current.page.borderBoxCenter,d=n.dimensions.draggables[n.critical.draggable.id].page.marginBox;if(n.isWindowScrollAllowed){const y=n.viewport,_=n9({dragStartTime:t,viewport:y,subject:d,center:l,shouldUseTimeDampening:e,getAutoScrollerOptions:o});if(_){i(_);return}}const f=W6({center:l,destination:si(n.impact),droppables:n.dimensions.droppables});if(!f)return;const p=i9({dragStartTime:t,droppable:f,subject:d,center:l,shouldUseTimeDampening:e,getAutoScrollerOptions:o});p&&r(f.descriptor.id,p)},s9=({scrollWindow:n,scrollDroppable:t,getAutoScrollerOptions:e=()=>Wu})=>{const i=Fu(n),r=Fu(t);let o=null;const l=f=>{o||ht();const{shouldUseTimeDampening:p,dragStartTime:y}=o;ZS({state:f,scrollWindow:i,scrollDroppable:r,dragStartTime:y,shouldUseTimeDampening:p,getAutoScrollerOptions:e})};return{start:f=>{o&&ht();const p=Date.now();let y=!1;const _=()=>{y=!0};ZS({state:f,dragStartTime:0,shouldUseTimeDampening:!1,scrollWindow:_,scrollDroppable:_,getAutoScrollerOptions:e}),o={dragStartTime:p,shouldUseTimeDampening:y},y&&l(f)},stop:()=>{o&&(i.cancel(),r.cancel(),o=null)},scroll:l}},r9=({move:n,scrollDroppable:t,scrollWindow:e})=>{const i=(u,d)=>{const f=mn(u.current.client.selection,d);n({client:f})},r=(u,d)=>{if(!Xb(u,d))return d;const f=e9(u,d);if(!f)return t(u.descriptor.id,d),null;const p=ei(d,f);return t(u.descriptor.id,p),ei(d,p)},o=(u,d,f)=>{if(!u||!Qb(d,f))return f;const p=t9(d,f);if(!p)return e(f),null;const y=ei(f,p);return e(y),ei(f,y)};return u=>{const d=u.scrollJumpRequest;if(!d)return;const f=si(u.impact);f||ht();const p=r(u.dimensions.droppables[f],d);if(!p)return;const y=u.viewport,_=o(u.isWindowScrollAllowed,y,p);_&&i(u,_)}},a9=({scrollDroppable:n,scrollWindow:t,move:e,getAutoScrollerOptions:i})=>{const r=s9({scrollWindow:t,scrollDroppable:n,getAutoScrollerOptions:i}),o=r9({move:e,scrollWindow:t,scrollDroppable:n});return{scroll:d=>{if(!(i().disabled||d.phase!=="DRAGGING")){if(d.movementMode==="FLUID"){r.scroll(d);return}d.scrollJumpRequest&&o(d)}},start:r.start,stop:r.stop}};const kl="data-rfd",Ol=(()=>{const n=`${kl}-drag-handle`;return{base:n,draggableId:`${n}-draggable-id`,contextId:`${n}-context-id`}})(),_0=(()=>{const n=`${kl}-draggable`;return{base:n,contextId:`${n}-context-id`,id:`${n}-id`}})(),o9=(()=>{const n=`${kl}-droppable`;return{base:n,contextId:`${n}-context-id`,id:`${n}-id`}})(),tw={contextId:`${kl}-scroll-container-context-id`},l9=n=>t=>`[${t}="${n}"]`,tu=(n,t)=>n.map(e=>{const i=e.styles[t];return i?`${e.selector} { ${i} }`:""}).join(" "),c9="pointer-events: none;";var u9=n=>{const t=l9(n),e=(()=>{const u=`
      cursor: -webkit-grab;
      cursor: grab;
    `;return{selector:t(Ol.contextId),styles:{always:`
          -webkit-touch-callout: none;
          -webkit-tap-highlight-color: rgba(0,0,0,0);
          touch-action: manipulation;
        `,resting:u,dragging:c9,dropAnimating:u}}})(),i=(()=>{const u=`
      transition: ${Su.outOfTheWay};
    `;return{selector:t(_0.contextId),styles:{dragging:u,dropAnimating:u,userCancel:u}}})(),r={selector:t(o9.contextId),styles:{always:"overflow-anchor: none;"}},l=[i,e,r,{selector:"body",styles:{dragging:`
        cursor: grabbing;
        cursor: -webkit-grabbing;
        user-select: none;
        -webkit-user-select: none;
        -moz-user-select: none;
        -ms-user-select: none;
        overflow-anchor: none;
      `}}];return{always:tu(l,"always"),resting:tu(l,"resting"),dragging:tu(l,"dragging"),dropAnimating:tu(l,"dropAnimating"),userCancel:tu(l,"userCancel")}};const ri=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?W.useLayoutEffect:W.useEffect,Ey=()=>{const n=document.querySelector("head");return n||ht(),n},ew=n=>{const t=document.createElement("style");return n&&t.setAttribute("nonce",n),t.type="text/css",t};function h9(n,t){const e=Xt(()=>u9(n),[n]),i=W.useRef(null),r=W.useRef(null),o=Et(sn(y=>{const _=r.current;_||ht(),_.textContent=y}),[]),l=Et(y=>{const _=i.current;_||ht(),_.textContent=y},[]);ri(()=>{!i.current&&!r.current||ht();const y=ew(t),_=ew(t);return i.current=y,r.current=_,y.setAttribute(`${kl}-always`,n),_.setAttribute(`${kl}-dynamic`,n),Ey().appendChild(y),Ey().appendChild(_),l(e.always),o(e.resting),()=>{const v=S=>{const C=S.current;C||ht(),Ey().removeChild(C),S.current=null};v(i),v(r)}},[t,l,o,e.always,e.resting,n]);const u=Et(()=>o(e.dragging),[o,e.dragging]),d=Et(y=>{if(y==="DROP"){o(e.dropAnimating);return}o(e.userCancel)},[o,e.dropAnimating,e.userCancel]),f=Et(()=>{r.current&&o(e.resting)},[o,e.resting]);return Xt(()=>({dragging:u,dropping:d,resting:f}),[u,d,f])}function u2(n,t){return Array.from(n.querySelectorAll(t))}var h2=n=>n&&n.ownerDocument&&n.ownerDocument.defaultView?n.ownerDocument.defaultView:window;function Bg(n){return n instanceof h2(n).HTMLElement}function d9(n,t){const e=`[${Ol.contextId}="${n}"]`,i=u2(document,e);if(!i.length)return null;const r=i.find(o=>o.getAttribute(Ol.draggableId)===t);return!r||!Bg(r)?null:r}function f9(n){const t=W.useRef({}),e=W.useRef(null),i=W.useRef(null),r=W.useRef(!1),o=Et(function(_,v){const S={id:_,focus:v};return t.current[_]=S,function(){const w=t.current;w[_]!==S&&delete w[_]}},[]),l=Et(function(_){const v=d9(n,_);v&&v!==document.activeElement&&v.focus()},[n]),u=Et(function(_,v){e.current===_&&(e.current=v)},[]),d=Et(function(){i.current||r.current&&(i.current=requestAnimationFrame(()=>{i.current=null;const _=e.current;_&&l(_)}))},[l]),f=Et(function(_){e.current=null;const v=document.activeElement;v&&v.getAttribute(Ol.draggableId)===_&&(e.current=_)},[]);return ri(()=>(r.current=!0,function(){r.current=!1;const _=i.current;_&&cancelAnimationFrame(_)}),[]),Xt(()=>({register:o,tryRecordFocus:f,tryRestoreFocusRecorded:d,tryShiftRecord:u}),[o,f,d,u])}function g9(){const n={draggables:{},droppables:{}},t=[];function e(y){return t.push(y),function(){const v=t.indexOf(y);v!==-1&&t.splice(v,1)}}function i(y){t.length&&t.forEach(_=>_(y))}function r(y){return n.draggables[y]||null}function o(y){const _=r(y);return _||ht(),_}const l={register:y=>{n.draggables[y.descriptor.id]=y,i({type:"ADDITION",value:y})},update:(y,_)=>{const v=n.draggables[_.descriptor.id];v&&v.uniqueId===y.uniqueId&&(delete n.draggables[_.descriptor.id],n.draggables[y.descriptor.id]=y)},unregister:y=>{const _=y.descriptor.id,v=r(_);v&&y.uniqueId===v.uniqueId&&(delete n.draggables[_],n.droppables[y.descriptor.droppableId]&&i({type:"REMOVAL",value:y}))},getById:o,findById:r,exists:y=>!!r(y),getAllByType:y=>Object.values(n.draggables).filter(_=>_.descriptor.type===y)};function u(y){return n.droppables[y]||null}function d(y){const _=u(y);return _||ht(),_}const f={register:y=>{n.droppables[y.descriptor.id]=y},unregister:y=>{const _=u(y.descriptor.id);_&&y.uniqueId===_.uniqueId&&delete n.droppables[y.descriptor.id]},getById:d,findById:u,exists:y=>!!u(y),getAllByType:y=>Object.values(n.droppables).filter(_=>_.descriptor.type===y)};function p(){n.draggables={},n.droppables={},t.length=0}return{draggable:l,droppable:f,subscribe:e,clean:p}}function p9(){const n=Xt(g9,[]);return W.useEffect(()=>function(){n.clean()},[n]),n}var Jb=Ce.createContext(null),sg=()=>{const n=document.body;return n||ht(),n};const m9={position:"absolute",width:"1px",height:"1px",margin:"-1px",border:"0",padding:"0",overflow:"hidden",clip:"rect(0 0 0 0)","clip-path":"inset(100%)"},y9=n=>`rfd-announcement-${n}`;function b9(n){const t=Xt(()=>y9(n),[n]),e=W.useRef(null);return W.useEffect(function(){const o=document.createElement("div");return e.current=o,o.id=t,o.setAttribute("aria-live","assertive"),o.setAttribute("aria-atomic","true"),tg(o.style,m9),sg().appendChild(o),function(){setTimeout(function(){const d=sg();d.contains(o)&&d.removeChild(o),o===e.current&&(e.current=null)})}},[t]),Et(r=>{const o=e.current;if(o){o.textContent=r;return}},[])}const _9={separator:"::"};function Zb(n,t=_9){const e=Ce.useId();return Xt(()=>`${n}${t.separator}${e}`,[t.separator,n,e])}function v9({contextId:n,uniqueId:t}){return`rfd-hidden-text-${n}-${t}`}function x9({contextId:n,text:t}){const e=Zb("hidden-text",{separator:"-"}),i=Xt(()=>v9({contextId:n,uniqueId:e}),[e,n]);return W.useEffect(function(){const o=document.createElement("div");return o.id=i,o.textContent=t,o.style.display="none",sg().appendChild(o),function(){const u=sg();u.contains(o)&&u.removeChild(o)}},[i,t]),i}var Ug=Ce.createContext(null);function d2(n){const t=W.useRef(n);return W.useEffect(()=>{t.current=n}),t}function E9(){let n=null;function t(){return!!n}function e(l){return l===n}function i(l){n&&ht();const u={abandon:l};return n=u,u}function r(){n||ht(),n=null}function o(){n&&(n.abandon(),r())}return{isClaimed:t,isActive:e,claim:i,release:r,tryAbandon:o}}function Yu(n){return n.phase==="IDLE"||n.phase==="DROP_ANIMATING"?!1:n.isDragging}const T9=9,S9=13,t_=27,f2=32,w9=33,A9=34,C9=35,I9=36,D9=37,R9=38,N9=39,k9=40,O9={[S9]:!0,[T9]:!0};var g2=n=>{O9[n.keyCode]&&n.preventDefault()};const Fg=(()=>{const n="visibilitychange";return typeof document>"u"?n:[n,`ms${n}`,`webkit${n}`,`moz${n}`,`o${n}`].find(i=>`on${i}`in document)||n})(),p2=0,nw=5;function M9(n,t){return Math.abs(t.x-n.x)>=nw||Math.abs(t.y-n.y)>=nw}const iw={type:"IDLE"};function P9({cancel:n,completed:t,getPhase:e,setPhase:i}){return[{eventName:"mousemove",fn:r=>{const{button:o,clientX:l,clientY:u}=r;if(o!==p2)return;const d={x:l,y:u},f=e();if(f.type==="DRAGGING"){r.preventDefault(),f.actions.move(d);return}f.type!=="PENDING"&&ht();const p=f.point;if(!M9(p,d))return;r.preventDefault();const y=f.actions.fluidLift(d);i({type:"DRAGGING",actions:y})}},{eventName:"mouseup",fn:r=>{const o=e();if(o.type!=="DRAGGING"){n();return}r.preventDefault(),o.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"mousedown",fn:r=>{e().type==="DRAGGING"&&r.preventDefault(),n()}},{eventName:"keydown",fn:r=>{if(e().type==="PENDING"){n();return}if(r.keyCode===t_){r.preventDefault(),n();return}g2(r)}},{eventName:"resize",fn:n},{eventName:"scroll",options:{passive:!0,capture:!1},fn:()=>{e().type==="PENDING"&&n()}},{eventName:"webkitmouseforcedown",fn:r=>{const o=e();if(o.type==="IDLE"&&ht(),o.actions.shouldRespectForcePress()){n();return}r.preventDefault()}},{eventName:Fg,fn:n}]}function z9(n){const t=W.useRef(iw),e=W.useRef(ia),i=Xt(()=>({eventName:"mousedown",fn:function(y){if(y.defaultPrevented||y.button!==p2||y.ctrlKey||y.metaKey||y.shiftKey||y.altKey)return;const _=n.findClosestDraggableId(y);if(!_)return;const v=n.tryGetLock(_,l,{sourceEvent:y});if(!v)return;y.preventDefault();const S={x:y.clientX,y:y.clientY};e.current(),f(v,S)}}),[n]),r=Xt(()=>({eventName:"webkitmouseforcewillbegin",fn:p=>{if(p.defaultPrevented)return;const y=n.findClosestDraggableId(p);if(!y)return;const _=n.findOptionsForDraggable(y);_&&(_.shouldRespectForcePress||n.canGetLock(y)&&p.preventDefault())}}),[n]),o=Et(function(){const y={passive:!1,capture:!0};e.current=Si(window,[r,i],y)},[r,i]),l=Et(()=>{t.current.type!=="IDLE"&&(t.current=iw,e.current(),o())},[o]),u=Et(()=>{const p=t.current;l(),p.type==="DRAGGING"&&p.actions.cancel({shouldBlockNextClick:!0}),p.type==="PENDING"&&p.actions.abort()},[l]),d=Et(function(){const y={capture:!0,passive:!1},_=P9({cancel:u,completed:l,getPhase:()=>t.current,setPhase:v=>{t.current=v}});e.current=Si(window,_,y)},[u,l]),f=Et(function(y,_){t.current.type!=="IDLE"&&ht(),t.current={type:"PENDING",point:_,actions:y},d()},[d]);ri(function(){return o(),function(){e.current()}},[o])}function L9(){}const V9={[A9]:!0,[w9]:!0,[I9]:!0,[C9]:!0};function j9(n,t){function e(){t(),n.cancel()}function i(){t(),n.drop()}return[{eventName:"keydown",fn:r=>{if(r.keyCode===t_){r.preventDefault(),e();return}if(r.keyCode===f2){r.preventDefault(),i();return}if(r.keyCode===k9){r.preventDefault(),n.moveDown();return}if(r.keyCode===R9){r.preventDefault(),n.moveUp();return}if(r.keyCode===N9){r.preventDefault(),n.moveRight();return}if(r.keyCode===D9){r.preventDefault(),n.moveLeft();return}if(V9[r.keyCode]){r.preventDefault();return}g2(r)}},{eventName:"mousedown",fn:e},{eventName:"mouseup",fn:e},{eventName:"click",fn:e},{eventName:"touchstart",fn:e},{eventName:"resize",fn:e},{eventName:"wheel",fn:e,options:{passive:!0}},{eventName:Fg,fn:e}]}function B9(n){const t=W.useRef(L9),e=Xt(()=>({eventName:"keydown",fn:function(o){if(o.defaultPrevented||o.keyCode!==f2)return;const l=n.findClosestDraggableId(o);if(!l)return;const u=n.tryGetLock(l,p,{sourceEvent:o});if(!u)return;o.preventDefault();let d=!0;const f=u.snapLift();t.current();function p(){d||ht(),d=!1,t.current(),i()}t.current=Si(window,j9(f,p),{capture:!0,passive:!1})}}),[n]),i=Et(function(){const o={passive:!1,capture:!0};t.current=Si(window,[e],o)},[e]);ri(function(){return i(),function(){t.current()}},[i])}const Ty={type:"IDLE"},U9=120,F9=.15;function H9({cancel:n,getPhase:t}){return[{eventName:"orientationchange",fn:n},{eventName:"resize",fn:n},{eventName:"contextmenu",fn:e=>{e.preventDefault()}},{eventName:"keydown",fn:e=>{if(t().type!=="DRAGGING"){n();return}e.keyCode===t_&&e.preventDefault(),n()}},{eventName:Fg,fn:n}]}function q9({cancel:n,completed:t,getPhase:e}){return[{eventName:"touchmove",options:{capture:!1},fn:i=>{const r=e();if(r.type!=="DRAGGING"){n();return}r.hasMoved=!0;const{clientX:o,clientY:l}=i.touches[0],u={x:o,y:l};i.preventDefault(),r.actions.move(u)}},{eventName:"touchend",fn:i=>{const r=e();if(r.type!=="DRAGGING"){n();return}i.preventDefault(),r.actions.drop({shouldBlockNextClick:!0}),t()}},{eventName:"touchcancel",fn:i=>{if(e().type!=="DRAGGING"){n();return}i.preventDefault(),n()}},{eventName:"touchforcechange",fn:i=>{const r=e();r.type==="IDLE"&&ht();const o=i.touches[0];if(!o||!(o.force>=F9))return;const u=r.actions.shouldRespectForcePress();if(r.type==="PENDING"){u&&n();return}if(u){if(r.hasMoved){i.preventDefault();return}n();return}i.preventDefault()}},{eventName:Fg,fn:n}]}function G9(n){const t=W.useRef(Ty),e=W.useRef(ia),i=Et(function(){return t.current},[]),r=Et(function(v){t.current=v},[]),o=Xt(()=>({eventName:"touchstart",fn:function(v){if(v.defaultPrevented)return;const S=n.findClosestDraggableId(v);if(!S)return;const C=n.tryGetLock(S,u,{sourceEvent:v});if(!C)return;const w=v.touches[0],{clientX:O,clientY:L}=w,H={x:O,y:L};e.current(),y(C,H)}}),[n]),l=Et(function(){const v={capture:!0,passive:!1};e.current=Si(window,[o],v)},[o]),u=Et(()=>{const _=t.current;_.type!=="IDLE"&&(_.type==="PENDING"&&clearTimeout(_.longPressTimerId),r(Ty),e.current(),l())},[l,r]),d=Et(()=>{const _=t.current;u(),_.type==="DRAGGING"&&_.actions.cancel({shouldBlockNextClick:!0}),_.type==="PENDING"&&_.actions.abort()},[u]),f=Et(function(){const v={capture:!0,passive:!1},S={cancel:d,completed:u,getPhase:i},C=Si(window,q9(S),v),w=Si(window,H9(S),v);e.current=function(){C(),w()}},[d,i,u]),p=Et(function(){const v=i();v.type!=="PENDING"&&ht();const S=v.actions.fluidLift(v.point);r({type:"DRAGGING",actions:S,hasMoved:!1})},[i,r]),y=Et(function(v,S){i().type!=="IDLE"&&ht();const C=setTimeout(p,U9);r({type:"PENDING",point:S,actions:v,longPressTimerId:C}),f()},[f,i,r,p]);ri(function(){return l(),function(){e.current();const S=i();S.type==="PENDING"&&(clearTimeout(S.longPressTimerId),r(Ty))}},[i,l,r]),ri(function(){return Si(window,[{eventName:"touchmove",fn:()=>{},options:{capture:!1,passive:!1}}])},[])}const $9=["input","button","textarea","select","option","optgroup","video","audio"];function m2(n,t){if(t==null)return!1;if($9.includes(t.tagName.toLowerCase()))return!0;const i=t.getAttribute("contenteditable");return i==="true"||i===""?!0:t===n?!1:m2(n,t.parentElement)}function W9(n,t){const e=t.target;return Bg(e)?m2(n,e):!1}var Y9=n=>qi(n.getBoundingClientRect()).center;function K9(n){return n instanceof h2(n).Element}const Q9=(()=>{const n="matches";return typeof document>"u"?n:[n,"msMatchesSelector","webkitMatchesSelector"].find(i=>i in Element.prototype)||n})();function y2(n,t){return n==null?null:n[Q9](t)?n:y2(n.parentElement,t)}function X9(n,t){return n.closest?n.closest(t):y2(n,t)}function J9(n){return`[${Ol.contextId}="${n}"]`}function Z9(n,t){const e=t.target;if(!K9(e))return null;const i=J9(n),r=X9(e,i);return!r||!Bg(r)?null:r}function tj(n,t){const e=Z9(n,t);return e?e.getAttribute(Ol.draggableId):null}function ej(n,t){const e=`[${_0.contextId}="${n}"]`,r=u2(document,e).find(o=>o.getAttribute(_0.id)===t);return!r||!Bg(r)?null:r}function nj(n){n.preventDefault()}function ef({expected:n,phase:t,isLockActive:e,shouldWarn:i}){return!(!e()||n!==t)}function b2({lockAPI:n,store:t,registry:e,draggableId:i}){if(n.isClaimed())return!1;const r=e.draggable.findById(i);return!(!r||!r.options.isEnabled||!a2(t.getState(),i))}function ij({lockAPI:n,contextId:t,store:e,registry:i,draggableId:r,forceSensorStop:o,sourceEvent:l}){if(!b2({lockAPI:n,store:e,registry:i,draggableId:r}))return null;const d=i.draggable.getById(r),f=ej(t,d.descriptor.id);if(!f||l&&!d.options.canDragInteractiveElements&&W9(f,l))return null;const p=n.claim(o||ia);let y="PRE_DRAG";function _(){return d.options.shouldRespectForcePress}function v(){return n.isActive(p)}function S(F,G){ef({expected:F,phase:y,isLockActive:v,shouldWarn:!0})&&e.dispatch(G())}const C=S.bind(null,"DRAGGING");function w(F){function G(){n.release(),y="COMPLETED"}y!=="PRE_DRAG"&&(G(),ht()),e.dispatch(X3(F.liftActionArgs)),y="DRAGGING";function R(I,N={shouldBlockNextClick:!1}){if(F.cleanup(),N.shouldBlockNextClick){const z=Si(window,[{eventName:"click",fn:nj,options:{once:!0,passive:!1,capture:!0}}]);setTimeout(z)}G(),e.dispatch(JI({reason:I}))}return{isActive:()=>ef({expected:"DRAGGING",phase:y,isLockActive:v,shouldWarn:!1}),shouldRespectForcePress:_,drop:I=>R("DROP",I),cancel:I=>R("CANCEL",I),...F.actions}}function O(F){const G=Fu(I=>{C(()=>XI({client:I}))});return{...w({liftActionArgs:{id:r,clientSelection:F,movementMode:"FLUID"},cleanup:()=>G.cancel(),actions:{move:G}}),move:G}}function L(){const F={moveUp:()=>C(a6),moveRight:()=>C(l6),moveDown:()=>C(o6),moveLeft:()=>C(c6)};return w({liftActionArgs:{id:r,clientSelection:Y9(f),movementMode:"SNAP"},cleanup:ia,actions:F})}function H(){ef({expected:"PRE_DRAG",phase:y,isLockActive:v,shouldWarn:!0})&&n.release()}return{isActive:()=>ef({expected:"PRE_DRAG",phase:y,isLockActive:v,shouldWarn:!1}),shouldRespectForcePress:_,fluidLift:O,snapLift:L,abort:H}}const sj=[z9,B9,G9];function rj({contextId:n,store:t,registry:e,customSensors:i,enableDefaultSensors:r}){const o=[...r?sj:[],...i||[]],l=W.useState(()=>E9())[0],u=Et(function(w,O){Yu(w)&&!Yu(O)&&l.tryAbandon()},[l]);ri(function(){let w=t.getState();return t.subscribe(()=>{const L=t.getState();u(w,L),w=L})},[l,t,u]),ri(()=>l.tryAbandon,[l.tryAbandon]);const d=Et(C=>b2({lockAPI:l,registry:e,store:t,draggableId:C}),[l,e,t]),f=Et((C,w,O)=>ij({lockAPI:l,registry:e,contextId:n,store:t,draggableId:C,forceSensorStop:w||null,sourceEvent:O&&O.sourceEvent?O.sourceEvent:null}),[n,l,e,t]),p=Et(C=>tj(n,C),[n]),y=Et(C=>{const w=e.draggable.findById(C);return w?w.options:null},[e.draggable]),_=Et(function(){l.isClaimed()&&(l.tryAbandon(),t.getState().phase!=="IDLE"&&t.dispatch(Gb()))},[l,t]),v=Et(()=>l.isClaimed(),[l]),S=Xt(()=>({canGetLock:d,tryGetLock:f,findClosestDraggableId:p,findOptionsForDraggable:y,tryReleaseLock:_,isLockClaimed:v}),[d,f,p,y,_,v]);for(let C=0;C<o.length;C++)o[C](S)}const aj=n=>({onBeforeCapture:t=>{const e=()=>{n.onBeforeCapture&&n.onBeforeCapture(t)};Ob.flushSync(e)},onBeforeDragStart:n.onBeforeDragStart,onDragStart:n.onDragStart,onDragEnd:n.onDragEnd,onDragUpdate:n.onDragUpdate}),oj=n=>({...Wu,...n.autoScrollerOptions,durationDampening:{...Wu.durationDampening,...n.autoScrollerOptions}});function eu(n){return n.current||ht(),n.current}function lj(n){const{contextId:t,setCallbacks:e,sensors:i,nonce:r,dragHandleUsageInstructions:o}=n,l=W.useRef(null),u=d2(n),d=Et(()=>aj(u.current),[u]),f=Et(()=>oj(u.current),[u]),p=b9(t),y=x9({contextId:t,text:o}),_=h9(t,r),v=Et(z=>{eu(l).dispatch(z)},[]),S=Xt(()=>DS({publishWhileDragging:Z3,updateDroppableScroll:e6,updateDroppableIsEnabled:n6,updateDroppableIsCombineEnabled:i6,collectionStarting:t6},v),[v]),C=p9(),w=Xt(()=>H6(C,S),[C,S]),O=Xt(()=>a9({scrollWindow:q6,scrollDroppable:w.scrollDroppable,getAutoScrollerOptions:f,...DS({move:XI},v)}),[w.scrollDroppable,v,f]),L=f9(t),H=Xt(()=>j6({announce:p,autoScroller:O,dimensionMarshal:w,focusMarshal:L,getResponders:d,styleMarshal:_}),[p,O,w,L,d,_]);l.current=H;const q=Et(()=>{const z=eu(l);z.getState().phase!=="IDLE"&&z.dispatch(Gb())},[]),F=Et(()=>{const z=eu(l).getState();return z.phase==="DROP_ANIMATING"?!0:z.phase==="IDLE"?!1:z.isDragging},[]),G=Xt(()=>({isDragging:F,tryAbort:q}),[F,q]);e(G);const R=Et(z=>a2(eu(l).getState(),z),[]),I=Et(()=>eo(eu(l).getState()),[]),N=Xt(()=>({marshal:w,focus:L,contextId:t,canLift:R,isMovementAllowed:I,dragHandleUsageInstructionsId:y,registry:C}),[t,w,y,L,R,I,C]);return rj({contextId:t,store:H,registry:C,customSensors:i||null,enableDefaultSensors:n.enableDefaultSensors!==!1}),W.useEffect(()=>q,[q]),Ce.createElement(Ug.Provider,{value:N},Ce.createElement(OV,{context:Jb,store:H},n.children))}function cj(){return Ce.useId()}function uj(n){const t=cj(),e=n.dragHandleUsageInstructions||If.dragHandleUsageInstructions;return Ce.createElement(BV,null,i=>Ce.createElement(lj,{nonce:n.nonce,contextId:t,setCallbacks:i,dragHandleUsageInstructions:e,enableDefaultSensors:n.enableDefaultSensors,sensors:n.sensors,onBeforeCapture:n.onBeforeCapture,onBeforeDragStart:n.onBeforeDragStart,onDragStart:n.onDragStart,onDragUpdate:n.onDragUpdate,onDragEnd:n.onDragEnd,autoScrollerOptions:n.autoScrollerOptions},n.children))}const sw={dragging:5e3,dropAnimating:4500},hj=(n,t)=>t?Su.drop(t.duration):n?Su.snap:Su.fluid,dj=(n,t)=>{if(n)return t?$u.opacity.drop:$u.opacity.combining},fj=n=>n.forceShouldAnimate!=null?n.forceShouldAnimate:n.mode==="SNAP";function gj(n){const e=n.dimension.client,{offset:i,combineWith:r,dropping:o}=n,l=!!r,u=fj(n),d=!!o,f=d?y0.drop(i,l):y0.moveTo(i);return{position:"fixed",top:e.marginBox.top,left:e.marginBox.left,boxSizing:"border-box",width:e.borderBox.width,height:e.borderBox.height,transition:hj(u,o),transform:f,opacity:dj(l,d),zIndex:d?sw.dropAnimating:sw.dragging,pointerEvents:"none"}}function pj(n){return{transform:y0.moveTo(n.offset),transition:n.shouldAnimateDisplacement?void 0:"none"}}function mj(n){return n.type==="DRAGGING"?gj(n):pj(n)}function yj(n,t,e=an){const i=window.getComputedStyle(t),r=t.getBoundingClientRect(),o=wI(r,i),l=Zf(o,e),u={client:o,tagName:t.tagName.toLowerCase(),display:i.display},d={x:o.marginBox.width,y:o.marginBox.height};return{descriptor:n,placeholder:u,displaceBy:d,client:o,page:l}}function bj(n){const t=Zb("draggable"),{descriptor:e,registry:i,getDraggableRef:r,canDragInteractiveElements:o,shouldRespectForcePress:l,isEnabled:u}=n,d=Xt(()=>({canDragInteractiveElements:o,shouldRespectForcePress:l,isEnabled:u}),[o,u,l]),f=Et(v=>{const S=r();return S||ht(),yj(e,S,v)},[e,r]),p=Xt(()=>({uniqueId:t,descriptor:e,options:d,getDimension:f}),[e,f,d,t]),y=W.useRef(p),_=W.useRef(!0);ri(()=>(i.draggable.register(y.current),()=>i.draggable.unregister(y.current)),[i.draggable]),ri(()=>{if(_.current){_.current=!1;return}const v=y.current;y.current=p,i.draggable.update(p,v)},[p,i.draggable])}var e_=Ce.createContext(null);function rg(n){const t=W.useContext(n);return t||ht(),t}function _j(n){n.preventDefault()}const vj=n=>{const t=W.useRef(null),e=Et((G=null)=>{t.current=G},[]),i=Et(()=>t.current,[]),{contextId:r,dragHandleUsageInstructionsId:o,registry:l}=rg(Ug),{type:u,droppableId:d}=rg(e_),f=Xt(()=>({id:n.draggableId,index:n.index,type:u,droppableId:d}),[n.draggableId,n.index,u,d]),{children:p,draggableId:y,isEnabled:_,shouldRespectForcePress:v,canDragInteractiveElements:S,isClone:C,mapped:w,dropAnimationFinished:O}=n;if(!C){const G=Xt(()=>({descriptor:f,registry:l,getDraggableRef:i,canDragInteractiveElements:S,shouldRespectForcePress:v,isEnabled:_}),[f,l,i,S,v,_]);bj(G)}const L=Xt(()=>_?{tabIndex:0,role:"button","aria-describedby":o,"data-rfd-drag-handle-draggable-id":y,"data-rfd-drag-handle-context-id":r,draggable:!1,onDragStart:_j}:null,[r,o,y,_]),H=Et(G=>{w.type==="DRAGGING"&&w.dropping&&G.propertyName==="transform"&&Ob.flushSync(O)},[O,w]),q=Xt(()=>{const G=mj(w),R=w.type==="DRAGGING"&&w.dropping?H:void 0;return{innerRef:e,draggableProps:{"data-rfd-draggable-context-id":r,"data-rfd-draggable-id":y,style:G,onTransitionEnd:R},dragHandleProps:L}},[r,L,y,w,H,e]),F=Xt(()=>({draggableId:f.id,type:f.type,source:{index:f.index,droppableId:f.droppableId}}),[f.droppableId,f.id,f.index,f.type]);return Ce.createElement(Ce.Fragment,null,p(q,w.snapshot,F))};var _2=(n,t)=>n===t,v2=n=>{const{combine:t,destination:e}=n;return e?e.droppableId:t?t.droppableId:null};const xj=n=>n.combine?n.combine.draggableId:null,Ej=n=>n.at&&n.at.type==="COMBINE"?n.at.combine.draggableId:null;function Tj(){const n=sn((r,o)=>({x:r,y:o})),t=sn((r,o,l=null,u=null,d=null)=>({isDragging:!0,isClone:o,isDropAnimating:!!d,dropAnimation:d,mode:r,draggingOver:l,combineWith:u,combineTargetFor:null})),e=sn((r,o,l,u,d=null,f=null,p=null)=>({mapped:{type:"DRAGGING",dropping:null,draggingOver:d,combineWith:f,mode:o,offset:r,dimension:l,forceShouldAnimate:p,snapshot:t(o,u,d,f,null)}}));return(r,o)=>{if(Yu(r)){if(r.critical.draggable.id!==o.draggableId)return null;const l=r.current.client.offset,u=r.dimensions.draggables[o.draggableId],d=si(r.impact),f=Ej(r.impact),p=r.forceShouldAnimate;return e(n(l.x,l.y),r.movementMode,u,o.isClone,d,f,p)}if(r.phase==="DROP_ANIMATING"){const l=r.completed;if(l.result.draggableId!==o.draggableId)return null;const u=o.isClone,d=r.dimensions.draggables[o.draggableId],f=l.result,p=f.mode,y=v2(f),_=xj(f),S={duration:r.dropDuration,curve:Wb.drop,moveTo:r.newHomeClientOffset,opacity:_?$u.opacity.drop:null,scale:_?$u.scale.drop:null};return{mapped:{type:"DRAGGING",offset:r.newHomeClientOffset,dimension:d,dropping:S,draggingOver:y,combineWith:_,mode:p,forceShouldAnimate:null,snapshot:t(p,u,y,_,S)}}}return null}}function x2(n=null){return{isDragging:!1,isDropAnimating:!1,isClone:!1,dropAnimation:null,mode:null,draggingOver:null,combineTargetFor:n,combineWith:null}}const Sj={mapped:{type:"SECONDARY",offset:an,combineTargetFor:null,shouldAnimateDisplacement:!0,snapshot:x2(null)}};function wj(){const n=sn((l,u)=>({x:l,y:u})),t=sn(x2),e=sn((l,u=null,d)=>({mapped:{type:"SECONDARY",offset:l,combineTargetFor:u,shouldAnimateDisplacement:d,snapshot:t(u)}})),i=l=>l?e(an,l,!0):null,r=(l,u,d,f)=>{const p=d.displaced.visible[l],y=!!(f.inVirtualList&&f.effected[l]),_=Lg(d),v=_&&_.draggableId===l?u:null;if(!p){if(!y)return i(v);if(d.displaced.invisible[l])return null;const w=Gl(f.displacedBy.point),O=n(w.x,w.y);return e(O,v,!0)}if(y)return i(v);const S=d.displacedBy.point,C=n(S.x,S.y);return e(C,v,p.shouldAnimate)};return(l,u)=>{if(Yu(l))return l.critical.draggable.id===u.draggableId?null:r(u.draggableId,l.critical.draggable.id,l.impact,l.afterCritical);if(l.phase==="DROP_ANIMATING"){const d=l.completed;return d.result.draggableId===u.draggableId?null:r(u.draggableId,d.result.draggableId,d.impact,d.afterCritical)}return null}}const Aj=()=>{const n=Tj(),t=wj();return(i,r)=>n(i,r)||t(i,r)||Sj},Cj={dropAnimationFinished:ZI},Ij=SI(Aj,Cj,null,{context:Jb,areStatePropsEqual:_2})(vj);function E2(n){return rg(e_).isUsingCloneFor===n.draggableId&&!n.isClone?null:Ce.createElement(Ij,n)}function Dj(n){const t=typeof n.isDragDisabled=="boolean"?!n.isDragDisabled:!0,e=!!n.disableInteractiveElementBlocking,i=!!n.shouldRespectForcePress;return Ce.createElement(E2,tg({},n,{isClone:!1,isEnabled:t,canDragInteractiveElements:e,shouldRespectForcePress:i}))}const T2=n=>t=>n===t,Rj=T2("scroll"),Nj=T2("auto"),rw=(n,t)=>t(n.overflowX)||t(n.overflowY),kj=n=>{const t=window.getComputedStyle(n),e={overflowX:t.overflowX,overflowY:t.overflowY};return rw(e,Rj)||rw(e,Nj)},Oj=()=>!1,S2=n=>n==null?null:n===document.body?Oj()?n:null:n===document.documentElement?null:kj(n)?n:S2(n.parentElement);var v0=n=>({x:n.scrollLeft,y:n.scrollTop});const w2=n=>n?window.getComputedStyle(n).position==="fixed"?!0:w2(n.parentElement):!1;var Mj=n=>{const t=S2(n),e=w2(n);return{closestScrollable:t,isFixedOnPage:e}},Pj=({descriptor:n,isEnabled:t,isCombineEnabled:e,isFixedOnPage:i,direction:r,client:o,page:l,closest:u})=>{const d=(()=>{if(!u)return null;const{scrollSize:_,client:v}=u,S=i2({scrollHeight:_.scrollHeight,scrollWidth:_.scrollWidth,height:v.paddingBox.height,width:v.paddingBox.width});return{pageMarginBox:u.page.marginBox,frameClient:v,scrollSize:_,shouldClipSubject:u.shouldClipSubject,scroll:{initial:u.scroll,current:u.scroll,max:S,diff:{value:an,displacement:an}}}})(),f=r==="vertical"?Bb:zI,p=Nl({page:l,withPlaceholder:null,axis:f,frame:d});return{descriptor:n,isCombineEnabled:e,isFixedOnPage:i,axis:f,isEnabled:t,client:o,page:l,frame:d,subject:p}};const zj=(n,t)=>{const e=AI(n);if(!t||n!==t)return e;const i=e.paddingBox.top-t.scrollTop,r=e.paddingBox.left-t.scrollLeft,o=i+t.scrollHeight,l=r+t.scrollWidth,d=zb({top:i,right:l,bottom:o,left:r},e.border);return Lb({borderBox:d,margin:e.margin,border:e.border,padding:e.padding})};var Lj=({ref:n,descriptor:t,env:e,windowScroll:i,direction:r,isDropDisabled:o,isCombineEnabled:l,shouldClipSubject:u})=>{const d=e.closestScrollable,f=zj(n,d),p=Zf(f,i),y=(()=>{if(!d)return null;const v=AI(d),S={scrollHeight:d.scrollHeight,scrollWidth:d.scrollWidth};return{client:v,page:Zf(v,i),scroll:v0(d),scrollSize:S,shouldClipSubject:u}})();return Pj({descriptor:t,isEnabled:!o,isCombineEnabled:l,isFixedOnPage:e.isFixedOnPage,direction:r,client:f,page:p,closest:y})};const Vj={passive:!1},jj={passive:!0};var aw=n=>n.shouldPublishImmediately?Vj:jj;const nf=n=>n&&n.env.closestScrollable||null;function Bj(n){const t=W.useRef(null),e=rg(Ug),i=Zb("droppable"),{registry:r,marshal:o}=e,l=d2(n),u=Xt(()=>({id:n.droppableId,type:n.type,mode:n.mode}),[n.droppableId,n.mode,n.type]),d=W.useRef(u),f=Xt(()=>sn((q,F)=>{t.current||ht();const G={x:q,y:F};o.updateDroppableScroll(u.id,G)}),[u.id,o]),p=Et(()=>{const q=t.current;return!q||!q.env.closestScrollable?an:v0(q.env.closestScrollable)},[]),y=Et(()=>{const q=p();f(q.x,q.y)},[p,f]),_=Xt(()=>Fu(y),[y]),v=Et(()=>{const q=t.current,F=nf(q);if(q&&F||ht(),q.scrollOptions.shouldPublishImmediately){y();return}_()},[_,y]),S=Et((q,F)=>{t.current&&ht();const G=l.current,R=G.getDroppableRef();R||ht();const I=Mj(R),N={ref:R,descriptor:u,env:I,scrollOptions:F};t.current=N;const z=Lj({ref:R,descriptor:u,env:I,windowScroll:q,direction:G.direction,isDropDisabled:G.isDropDisabled,isCombineEnabled:G.isCombineEnabled,shouldClipSubject:!G.ignoreContainerClipping}),M=I.closestScrollable;return M&&(M.setAttribute(tw.contextId,e.contextId),M.addEventListener("scroll",v,aw(N.scrollOptions))),z},[e.contextId,u,v,l]),C=Et(()=>{const q=t.current,F=nf(q);return q&&F||ht(),v0(F)},[]),w=Et(()=>{const q=t.current;q||ht();const F=nf(q);t.current=null,F&&(_.cancel(),F.removeAttribute(tw.contextId),F.removeEventListener("scroll",v,aw(q.scrollOptions)))},[v,_]),O=Et(q=>{const F=t.current;F||ht();const G=nf(F);G||ht(),G.scrollTop+=q.y,G.scrollLeft+=q.x},[]),L=Xt(()=>({getDimensionAndWatchScroll:S,getScrollWhileDragging:C,dragStopped:w,scroll:O}),[w,S,C,O]),H=Xt(()=>({uniqueId:i,descriptor:u,callbacks:L}),[L,u,i]);ri(()=>(d.current=H.descriptor,r.droppable.register(H),()=>{t.current&&w(),r.droppable.unregister(H)}),[L,u,w,H,o,r.droppable]),ri(()=>{t.current&&o.updateDroppableIsEnabled(d.current.id,!n.isDropDisabled)},[n.isDropDisabled,o]),ri(()=>{t.current&&o.updateDroppableIsCombineEnabled(d.current.id,n.isCombineEnabled)},[n.isCombineEnabled,o])}function Sy(){}const ow={width:0,height:0,margin:WV},Uj=({isAnimatingOpenOnMount:n,placeholder:t,animate:e})=>n||e==="close"?ow:{height:t.client.borderBox.height,width:t.client.borderBox.width,margin:t.client.margin},Fj=({isAnimatingOpenOnMount:n,placeholder:t,animate:e})=>{const i=Uj({isAnimatingOpenOnMount:n,placeholder:t,animate:e});return{display:t.display,boxSizing:"border-box",width:i.width,height:i.height,marginTop:i.margin.top,marginRight:i.margin.right,marginBottom:i.margin.bottom,marginLeft:i.margin.left,flexShrink:"0",flexGrow:"0",pointerEvents:"none",transition:e!=="none"?Su.placeholder:null}},Hj=n=>{const t=W.useRef(null),e=Et(()=>{t.current&&(clearTimeout(t.current),t.current=null)},[]),{animate:i,onTransitionEnd:r,onClose:o,contextId:l}=n,[u,d]=W.useState(n.animate==="open");W.useEffect(()=>u?i!=="open"?(e(),d(!1),Sy):t.current?Sy:(t.current=setTimeout(()=>{t.current=null,d(!1)}),e):Sy,[i,u,e]);const f=Et(y=>{y.propertyName==="height"&&(r(),i==="close"&&o())},[i,o,r]),p=Fj({isAnimatingOpenOnMount:u,animate:n.animate,placeholder:n.placeholder});return Ce.createElement(n.placeholder.tagName,{style:p,"data-rfd-placeholder-context-id":l,onTransitionEnd:f,ref:n.innerRef})};var qj=Ce.memo(Hj);class Gj extends Ce.PureComponent{constructor(...t){super(...t),this.state={isVisible:!!this.props.on,data:this.props.on,animate:this.props.shouldAnimate&&this.props.on?"open":"none"},this.onClose=()=>{this.state.animate==="close"&&this.setState({isVisible:!1})}}static getDerivedStateFromProps(t,e){return t.shouldAnimate?t.on?{isVisible:!0,data:t.on,animate:"open"}:e.isVisible?{isVisible:!0,data:e.data,animate:"close"}:{isVisible:!1,animate:"close",data:null}:{isVisible:!!t.on,data:t.on,animate:"none"}}render(){if(!this.state.isVisible)return null;const t={onClose:this.onClose,data:this.state.data,animate:this.state.animate};return this.props.children(t)}}const $j=n=>{const t=W.useContext(Ug);t||ht();const{contextId:e,isMovementAllowed:i}=t,r=W.useRef(null),o=W.useRef(null),{children:l,droppableId:u,type:d,mode:f,direction:p,ignoreContainerClipping:y,isDropDisabled:_,isCombineEnabled:v,snapshot:S,useClone:C,updateViewportMaxScroll:w,getContainerForClone:O}=n,L=Et(()=>r.current,[]),H=Et((M=null)=>{r.current=M},[]);Et(()=>o.current,[]);const q=Et((M=null)=>{o.current=M},[]),F=Et(()=>{i()&&w({maxScroll:r2()})},[i,w]);Bj({droppableId:u,type:d,mode:f,direction:p,isDropDisabled:_,isCombineEnabled:v,ignoreContainerClipping:y,getDroppableRef:L});const G=Xt(()=>Ce.createElement(Gj,{on:n.placeholder,shouldAnimate:n.shouldAnimatePlaceholder},({onClose:M,data:V,animate:P})=>Ce.createElement(qj,{placeholder:V,onClose:M,innerRef:q,animate:P,contextId:e,onTransitionEnd:F})),[e,F,n.placeholder,n.shouldAnimatePlaceholder,q]),R=Xt(()=>({innerRef:H,placeholder:G,droppableProps:{"data-rfd-droppable-id":u,"data-rfd-droppable-context-id":e}}),[e,u,G,H]),I=C?C.dragging.draggableId:null,N=Xt(()=>({droppableId:u,type:d,isUsingCloneFor:I}),[u,I,d]);function z(){if(!C)return null;const{dragging:M,render:V}=C,P=Ce.createElement(E2,{draggableId:M.draggableId,index:M.source.index,isClone:!0,isEnabled:!0,shouldRespectForcePress:!1,canDragInteractiveElements:!0},(Dt,vt)=>V(Dt,vt,M));return kL.createPortal(P,O())}return Ce.createElement(e_.Provider,{value:N},l(R,S),z())};function Wj(){return document.body||ht(),document.body}const lw={mode:"standard",type:"DEFAULT",direction:"vertical",isDropDisabled:!1,isCombineEnabled:!1,ignoreContainerClipping:!1,renderClone:null,getContainerForClone:Wj},A2=n=>{let t={...n},e;for(e in lw)n[e]===void 0&&(t={...t,[e]:lw[e]});return t},wy=(n,t)=>n===t.droppable.type,cw=(n,t)=>t.draggables[n.draggable.id],Yj=()=>{const n={placeholder:null,shouldAnimatePlaceholder:!0,snapshot:{isDraggingOver:!1,draggingOverWith:null,draggingFromThisWith:null,isUsingPlaceholder:!1},useClone:null},t={...n,shouldAnimatePlaceholder:!1},e=sn(o=>({draggableId:o.id,type:o.type,source:{index:o.index,droppableId:o.droppableId}})),i=sn((o,l,u,d,f,p)=>{const y=f.descriptor.id;if(f.descriptor.droppableId===o){const S=p?{render:p,dragging:e(f.descriptor)}:null,C={isDraggingOver:u,draggingOverWith:u?y:null,draggingFromThisWith:y,isUsingPlaceholder:!0};return{placeholder:f.placeholder,shouldAnimatePlaceholder:!1,snapshot:C,useClone:S}}if(!l)return t;if(!d)return n;const v={isDraggingOver:u,draggingOverWith:y,draggingFromThisWith:null,isUsingPlaceholder:!0};return{placeholder:f.placeholder,shouldAnimatePlaceholder:!0,snapshot:v,useClone:null}});return(o,l)=>{const u=A2(l),d=u.droppableId,f=u.type,p=!u.isDropDisabled,y=u.renderClone;if(Yu(o)){const _=o.critical;if(!wy(f,_))return t;const v=cw(_,o.dimensions),S=si(o.impact)===d;return i(d,p,S,S,v,y)}if(o.phase==="DROP_ANIMATING"){const _=o.completed;if(!wy(f,_.critical))return t;const v=cw(_.critical,o.dimensions);return i(d,p,v2(_.result)===d,si(_.impact)===d,v,y)}if(o.phase==="IDLE"&&o.completed&&!o.shouldFlush){const _=o.completed;if(!wy(f,_.critical))return t;const v=si(_.impact)===d,S=!!(_.impact.at&&_.impact.at.type==="COMBINE"),C=_.critical.droppable.id===d;return v?S?n:t:C?n:t}return t}},Kj={updateViewportMaxScroll:r6},Qj=SI(Yj,Kj,(n,t,e)=>({...A2(e),...n,...t}),{context:Jb,areStatePropsEqual:_2})($j),x0={blue:{label:"Blue",primary:"bg-blue-600 hover:bg-blue-700 text-white shadow-blue-600/20",secondary:"bg-blue-50 dark:bg-blue-900/20 text-blue-600 dark:text-blue-400",border:"border-blue-200 dark:border-blue-800",text:"text-blue-600 dark:text-blue-400",ring:"focus:ring-blue-500",chartLine:"#2563EB",chartFill:"rgba(37, 99, 235, 0.1)",chartPoint:"#2563EB",activeNav:"bg-blue-50 dark:bg-blue-900/20 border-blue-500 ring-1 ring-blue-500 dark:border-blue-500",activeNavText:"text-blue-700 dark:text-blue-400"},purple:{label:"Purple",primary:"bg-purple-600 hover:bg-purple-700 text-white shadow-purple-600/20",secondary:"bg-purple-50 dark:bg-purple-900/20 text-purple-600 dark:text-purple-400",border:"border-purple-200 dark:border-purple-800",text:"text-purple-600 dark:text-purple-400",ring:"focus:ring-purple-500",chartLine:"#9333EA",chartFill:"rgba(147, 51, 234, 0.1)",chartPoint:"#9333EA",activeNav:"bg-purple-50 dark:bg-purple-900/20 border-purple-500 ring-1 ring-purple-500 dark:border-purple-500",activeNavText:"text-purple-700 dark:text-purple-400"},emerald:{label:"Emerald",primary:"bg-emerald-600 hover:bg-emerald-700 text-white shadow-emerald-600/20",secondary:"bg-emerald-50 dark:bg-emerald-900/20 text-emerald-600 dark:text-emerald-400",border:"border-emerald-200 dark:border-emerald-800",text:"text-emerald-600 dark:text-emerald-400",ring:"focus:ring-emerald-500",chartLine:"#059669",chartFill:"rgba(5, 150, 105, 0.1)",chartPoint:"#059669",activeNav:"bg-emerald-50 dark:bg-emerald-900/20 border-emerald-500 ring-1 ring-emerald-500 dark:border-emerald-500",activeNavText:"text-emerald-700 dark:text-emerald-400"},amber:{label:"Amber",primary:"bg-amber-500 hover:bg-amber-600 text-white shadow-amber-500/20",secondary:"bg-amber-50 dark:bg-amber-900/20 text-amber-600 dark:text-amber-400",border:"border-amber-200 dark:border-amber-800",text:"text-amber-600 dark:text-amber-400",ring:"focus:ring-amber-500",chartLine:"#D97706",chartFill:"rgba(217, 119, 6, 0.1)",chartPoint:"#D97706",activeNav:"bg-amber-50 dark:bg-amber-900/20 border-amber-500 ring-1 ring-amber-500 dark:border-amber-500",activeNavText:"text-amber-700 dark:text-amber-400"},rose:{label:"Rose",primary:"bg-rose-600 hover:bg-rose-700 text-white shadow-rose-600/20",secondary:"bg-rose-50 dark:bg-rose-900/20 text-rose-600 dark:text-rose-400",border:"border-rose-200 dark:border-rose-800",text:"text-rose-600 dark:text-rose-400",ring:"focus:ring-rose-500",chartLine:"#E11D48",chartFill:"rgba(225, 29, 72, 0.1)",chartPoint:"#E11D48",activeNav:"bg-rose-50 dark:bg-rose-900/20 border-rose-500 ring-1 ring-rose-500 dark:border-rose-500",activeNavText:"text-rose-700 dark:text-rose-400"},indigo:{label:"Indigo",primary:"bg-indigo-600 hover:bg-indigo-700 text-white shadow-indigo-600/20",secondary:"bg-indigo-50 dark:bg-indigo-900/20 text-indigo-600 dark:text-indigo-400",border:"border-indigo-200 dark:border-indigo-800",text:"text-indigo-600 dark:text-indigo-400",ring:"focus:ring-indigo-500",chartLine:"#4F46E5",chartFill:"rgba(79, 70, 229, 0.1)",chartPoint:"#4F46E5",activeNav:"bg-indigo-50 dark:bg-indigo-900/20 border-indigo-500 ring-1 ring-indigo-500 dark:border-indigo-500",activeNavText:"text-indigo-700 dark:text-indigo-400"}},Yr=[{name:"Red",class:"bg-red-100 text-red-800 border-red-200 dark:bg-red-900/40 dark:text-red-300 dark:border-red-800",dot:"bg-red-500"},{name:"Green",class:"bg-emerald-100 text-emerald-800 border-emerald-200 dark:bg-emerald-900/40 dark:text-emerald-300 dark:border-emerald-800",dot:"bg-emerald-500"},{name:"Blue",class:"bg-blue-100 text-blue-800 border-blue-200 dark:bg-blue-900/40 dark:text-blue-300 dark:border-blue-800",dot:"bg-blue-500"},{name:"Yellow",class:"bg-yellow-100 text-yellow-800 border-yellow-200 dark:bg-yellow-900/40 dark:text-yellow-300 dark:border-yellow-800",dot:"bg-yellow-500"},{name:"Purple",class:"bg-purple-100 text-purple-800 border-purple-200 dark:bg-purple-900/40 dark:text-purple-300 dark:border-purple-800",dot:"bg-purple-500"},{name:"Orange",class:"bg-orange-100 text-orange-800 border-orange-200 dark:bg-orange-900/40 dark:text-orange-300 dark:border-orange-800",dot:"bg-orange-500"},{name:"Pink",class:"bg-pink-100 text-pink-800 border-pink-200 dark:bg-pink-900/40 dark:text-pink-300 dark:border-pink-800",dot:"bg-pink-500"},{name:"Indigo",class:"bg-indigo-100 text-indigo-800 border-indigo-200 dark:bg-indigo-900/40 dark:text-indigo-300 dark:border-indigo-800",dot:"bg-indigo-500"}],C2=n=>{if(!n||n.length===0)return Yr[0];const t=new Set(n.map(i=>i.colorClass)),e=Yr.filter(i=>!t.has(i.class));return e.length>0?e[0]:Yr[Math.floor(Math.random()*Yr.length)]},Xj=n=>new Date(n).toLocaleDateString("en-US",{month:"short",day:"numeric"}),nn=n=>{if(!n)return"";if(typeof n=="string"&&/^\d{4}-\d{2}-\d{2}$/.test(n))return n;const t=new Date(n);return`${t.getFullYear()}-${String(t.getMonth()+1).padStart(2,"0")}-${String(t.getDate()).padStart(2,"0")}`},I2=(n,t)=>{const e=new Date(n,t,1);return{daysInMonth:new Date(n,t+1,0).getDate(),startDay:e.getDay()}},D2=(n,t="average")=>{if(!n||n.length===0)return 0;const e=n.map(Number).filter(i=>!isNaN(i));return e.length===0?0:t==="sum"?e.reduce((i,r)=>i+r,0):e.reduce((i,r)=>i+r,0)/e.length},R2=(n,t)=>{if(!t||!n||n.length===0)return{streak:0,lastDate:n&&n.length>0?nn(n[0]):null};const e=[...new Set(n.map(nn))].sort((d,f)=>new Date(f)-new Date(d));if(e.length===0)return{streak:0,lastDate:null};const i=e[0],r=nn(new Date);if((new Date(r).getTime()-new Date(i).getTime())/(1e3*3600*24)>1)return{streak:0,lastDate:i};let l=0,u=null;for(const d of e){if(u===null){l=1,u=d;continue}if((new Date(u).getTime()-new Date(d).getTime())/(1e3*3600*24)===1)l++,u=d;else break}return{streak:l,lastDate:i}},E0=(n,t,e=null)=>{if(n==null)return{isHit:null,diff:0,label:""};if(t.goalDirection==="target"&&t.targetValue!==null&&t.targetValue!==void 0){const i=Math.abs(n-t.targetValue),r=t.tolerance||0,o=i<=r;return{isHit:o,diff:i,label:o?"Target Hit":`${i.toFixed(1)} off`}}if(t.goalDirection==="increase"){if(e===null)return{isHit:null,diff:0,label:"No prev data"};const i=n>=e,r=n-e;return{isHit:i,diff:r,label:i?"Improved":"Decreased"}}if(t.goalDirection==="decrease"){if(e===null)return{isHit:null,diff:0,label:"No prev data"};const i=n<=e,r=e-n;return{isHit:i,diff:r,label:i?"Improved":"Increased"}}return{isHit:null,diff:0,label:""}},n_=(n,t)=>{if(!n||n.length<2||!t.targetValue||t.goalDirection==="none"||t.goalDirection===void 0)return null;const e=[...n].sort((O,L)=>new Date(O.date)-new Date(L.date)),i=new Date(e[0].date).getTime();let r=[];if(t.aggregation==="sum"&&t.goalPeriod!=="daily"){let O=0;r=e.map(L=>(O+=L.value,{x:(new Date(L.date).getTime()-i)/(1e3*3600*24),y:O}))}else r=e.map(O=>({x:(new Date(O.date).getTime()-i)/864e5,y:O.value}));const o=r.length,l=r.reduce((O,L)=>O+L.x,0),u=r.reduce((O,L)=>O+L.y,0),d=r.reduce((O,L)=>O+L.x*L.y,0),f=r.reduce((O,L)=>O+L.x*L.x,0),p=o*f-l*l;if(p===0)return null;const y=(o*d-l*u)/p,_=(u-y*l)/o;if(t.goalDirection==="increase"&&y<=0||t.goalDirection==="decrease"&&y>=0||y===0)return null;const v=(t.targetValue-_)/y,S=new Date(i+v*24*60*60*1e3),w=Math.ceil((S-new Date)/(1e3*3600*24));return w<0?null:{date:nn(S),daysLeft:w,value:t.targetValue}},Jj=()=>{const{user:n}=cr(),[t,e]=W.useState([]),[i,r]=W.useState(!0);return W.useEffect(()=>{if(!n){e([]),r(!1);return}const l=h0(mo(We,"artifacts","default-app-id","users",n.uid,"trackers"),Eu("order","asc"),Eu("createdAt","desc")),u=Cb(l,async d=>{const f=d.docs.map(y=>({id:y.id,...y.data(),streak:0,lastDate:null})),p=await Promise.all(f.map(async y=>{const _=mo(We,"artifacts","default-app-id","users",n.uid,"trackers",y.id,"entries"),v=h0(_,Eu("date","desc")),C=(await d0(v)).docs.map(O=>O.data().date),w=R2(C,y.enableStreak);return{...y,streak:w.streak,lastDate:w.lastDate}}));e(p.sort((y,_)=>y.order-_.order)),r(!1)});return()=>u()},[n]),{trackers:t,loading:i,reorderTrackers:async(l,u)=>{const d=Array.from(t),[f]=d.splice(l,1);d.splice(u,0,f);const p=d.map((y,_)=>({...y,order:_}));e(p);try{const y=aI(We);p.forEach(_=>{const v=ii(We,"artifacts","default-app-id","users",n.uid,"trackers",_.id);y.update(v,{order:_.order})}),await y.commit()}catch(y){console.error("Failed to reorder:",y)}}}},N2=W.createContext(),Zj=({children:n})=>{const{user:t}=cr(),[e,i]=W.useState("blue"),[r,o]=W.useState("dark"),[l,u]=W.useState("graph"),[d,f]=W.useState([]);W.useEffect(()=>{if(!t)return;const C=Cb(ii(We,"artifacts","default-app-id","users",t.uid,"settings","tags"),w=>{if(w.exists()){const O=w.data();O.theme&&i(O.theme),O.mode&&o(O.mode),O.defaultView&&u(O.defaultView),O.list&&f(O.list)}});return()=>C()},[t]),W.useEffect(()=>{const C=document.documentElement,w=document.body;C.classList.remove("dark"),w.classList.remove("bg-zinc-50","bg-zinc-100","bg-zinc-900","bg-black","text-zinc-900","text-white"),r==="light"?w.classList.add("bg-zinc-100","text-zinc-900"):r==="dark"?(C.classList.add("dark"),w.classList.add("bg-zinc-900","text-white")):r==="amoled"&&(C.classList.add("dark"),w.classList.add("bg-black","text-white"))},[r]);const p=async(C,w)=>{C==="theme"&&i(w),C==="mode"&&o(w),C==="defaultView"&&u(w),t&&await TS(ii(We,"artifacts","default-app-id","users",t.uid,"settings","tags"),{[C]:w},{merge:!0})},y=async C=>{f(C),t&&await TS(ii(We,"artifacts","default-app-id","users",t.uid,"settings","tags"),{list:C},{merge:!0})},_=C=>p("mode",C),v=x0[e]||x0.blue,S=r==="amoled";return A.jsx(N2.Provider,{value:{theme:v,accentColor:e,themeMode:r,defaultView:l,setThemeMode:_,isAmoled:S,tags:d,updateSettings:p,updateTags:y},children:n})},Di=()=>W.useContext(N2),tB=({tracker:n,isActive:t,theme:e,isAmoled:i,onClick:r})=>{const o=n.listDisplayValue||"none";let l=null,u=null;o==="last"&&n.lastValue!==void 0&&n.lastValue!==null?(l=n.lastValue,u="Last"):o==="average"&&n.averageValue!==void 0&&n.averageValue!==null&&(l=n.averageValue,u="Avg");const d=n.enableStreak&&n.streak>0,f=d?"text-orange-500 dark:text-orange-400":"text-zinc-400 dark:text-zinc-600";let p="",y="",_="";return t&&e?i?(p=`bg-black ${e.border} shadow-lg shadow-zinc-900/40 border`,y=e.activeNavText,_="bg-zinc-900 border border-zinc-800 text-zinc-300"):(p=`${e.activeNav} border border-transparent shadow-sm`,y=e.activeNavText,_="bg-white/50 dark:bg-black/20 text-current"):i?(p="bg-black border border-zinc-800 hover:border-zinc-700",y="text-zinc-300",_="bg-zinc-900 border border-zinc-800 text-zinc-400"):(p="bg-white dark:bg-zinc-800 border border-zinc-300 dark:border-zinc-700 hover:border-zinc-400 dark:hover:border-zinc-600 shadow-sm hover:shadow-md",y="text-zinc-900 dark:text-zinc-300",_="bg-zinc-200 dark:bg-zinc-700 text-zinc-700 dark:text-zinc-300"),A.jsxs("div",{onClick:r,className:`p-3 rounded-xl relative flex justify-between items-center transition-all duration-200 cursor-pointer select-none ${p}`,children:[A.jsxs("div",{className:"flex-1 min-w-0 mr-4",children:[A.jsx("h3",{className:`font-bold truncate text-sm ${y}`,children:n.name}),A.jsxs("div",{className:"flex flex-wrap gap-2 mt-1",children:[n.showTypeInList!==!1&&A.jsx("span",{className:"text-[10px] text-zinc-500 capitalize",children:n.type}),n.tags&&n.tags.map((v,S)=>A.jsx("span",{className:`px-1.5 py-0.5 rounded-full text-[9px] font-medium border opacity-80 ${v.colorClass}`,children:v.name},S))]})]}),A.jsxs("div",{className:"flex flex-col items-end gap-1",children:[l!==null&&A.jsxs("div",{className:`text-[10px] px-1.5 py-0.5 rounded-md font-mono font-medium ${_}`,children:[A.jsxs("span",{className:"opacity-70 mr-1",children:[u,":"]}),typeof l=="number"?l.toFixed(1):l]}),n.enableStreak&&n.lastDate&&A.jsxs("div",{className:`flex items-center text-[10px] font-medium transition-colors duration-300 ${f}`,children:[A.jsx(Rb,{className:`w-3 h-3 mr-1 ${d?"fill-current":"fill-none"}`}),A.jsx("span",{children:n.streak||0})]})]})]})},k2=n=>{const{user:t}=cr(),[e,i]=W.useState([]),[r,o]=W.useState(!0);return W.useEffect(()=>{if(!t||!n){i([]),o(!1);return}const l=h0(mo(We,"artifacts","default-app-id","users",t.uid,"trackers",n,"entries"),Eu("date","desc"),Eu("timestamp","desc")),u=Cb(l,d=>{const f=d.docs.map(p=>({id:p.id,...p.data()}));i(f),o(!1)});return()=>u()},[t,n]),{entries:e,loading:r}};function bh(n){return n+.5|0}const Kr=(n,t,e)=>Math.max(Math.min(n,e),t);function fu(n){return Kr(bh(n*2.55),0,255)}function ra(n){return Kr(bh(n*255),0,255)}function Js(n){return Kr(bh(n/2.55)/100,0,1)}function uw(n){return Kr(bh(n*100),0,100)}const Ei={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},T0=[..."0123456789ABCDEF"],eB=n=>T0[n&15],nB=n=>T0[(n&240)>>4]+T0[n&15],sf=n=>(n&240)>>4===(n&15),iB=n=>sf(n.r)&&sf(n.g)&&sf(n.b)&&sf(n.a);function sB(n){var t=n.length,e;return n[0]==="#"&&(t===4||t===5?e={r:255&Ei[n[1]]*17,g:255&Ei[n[2]]*17,b:255&Ei[n[3]]*17,a:t===5?Ei[n[4]]*17:255}:(t===7||t===9)&&(e={r:Ei[n[1]]<<4|Ei[n[2]],g:Ei[n[3]]<<4|Ei[n[4]],b:Ei[n[5]]<<4|Ei[n[6]],a:t===9?Ei[n[7]]<<4|Ei[n[8]]:255})),e}const rB=(n,t)=>n<255?t(n):"";function aB(n){var t=iB(n)?eB:nB;return n?"#"+t(n.r)+t(n.g)+t(n.b)+rB(n.a,t):void 0}const oB=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function O2(n,t,e){const i=t*Math.min(e,1-e),r=(o,l=(o+n/30)%12)=>e-i*Math.max(Math.min(l-3,9-l,1),-1);return[r(0),r(8),r(4)]}function lB(n,t,e){const i=(r,o=(r+n/60)%6)=>e-e*t*Math.max(Math.min(o,4-o,1),0);return[i(5),i(3),i(1)]}function cB(n,t,e){const i=O2(n,1,.5);let r;for(t+e>1&&(r=1/(t+e),t*=r,e*=r),r=0;r<3;r++)i[r]*=1-t-e,i[r]+=t;return i}function uB(n,t,e,i,r){return n===r?(t-e)/i+(t<e?6:0):t===r?(e-n)/i+2:(n-t)/i+4}function i_(n){const e=n.r/255,i=n.g/255,r=n.b/255,o=Math.max(e,i,r),l=Math.min(e,i,r),u=(o+l)/2;let d,f,p;return o!==l&&(p=o-l,f=u>.5?p/(2-o-l):p/(o+l),d=uB(e,i,r,p,o),d=d*60+.5),[d|0,f||0,u]}function s_(n,t,e,i){return(Array.isArray(t)?n(t[0],t[1],t[2]):n(t,e,i)).map(ra)}function r_(n,t,e){return s_(O2,n,t,e)}function hB(n,t,e){return s_(cB,n,t,e)}function dB(n,t,e){return s_(lB,n,t,e)}function M2(n){return(n%360+360)%360}function fB(n){const t=oB.exec(n);let e=255,i;if(!t)return;t[5]!==i&&(e=t[6]?fu(+t[5]):ra(+t[5]));const r=M2(+t[2]),o=+t[3]/100,l=+t[4]/100;return t[1]==="hwb"?i=hB(r,o,l):t[1]==="hsv"?i=dB(r,o,l):i=r_(r,o,l),{r:i[0],g:i[1],b:i[2],a:e}}function gB(n,t){var e=i_(n);e[0]=M2(e[0]+t),e=r_(e),n.r=e[0],n.g=e[1],n.b=e[2]}function pB(n){if(!n)return;const t=i_(n),e=t[0],i=uw(t[1]),r=uw(t[2]);return n.a<255?`hsla(${e}, ${i}%, ${r}%, ${Js(n.a)})`:`hsl(${e}, ${i}%, ${r}%)`}const hw={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},dw={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function mB(){const n={},t=Object.keys(dw),e=Object.keys(hw);let i,r,o,l,u;for(i=0;i<t.length;i++){for(l=u=t[i],r=0;r<e.length;r++)o=e[r],u=u.replace(o,hw[o]);o=parseInt(dw[l],16),n[u]=[o>>16&255,o>>8&255,o&255]}return n}let rf;function yB(n){rf||(rf=mB(),rf.transparent=[0,0,0,0]);const t=rf[n.toLowerCase()];return t&&{r:t[0],g:t[1],b:t[2],a:t.length===4?t[3]:255}}const bB=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function _B(n){const t=bB.exec(n);let e=255,i,r,o;if(t){if(t[7]!==i){const l=+t[7];e=t[8]?fu(l):Kr(l*255,0,255)}return i=+t[1],r=+t[3],o=+t[5],i=255&(t[2]?fu(i):Kr(i,0,255)),r=255&(t[4]?fu(r):Kr(r,0,255)),o=255&(t[6]?fu(o):Kr(o,0,255)),{r:i,g:r,b:o,a:e}}}function vB(n){return n&&(n.a<255?`rgba(${n.r}, ${n.g}, ${n.b}, ${Js(n.a)})`:`rgb(${n.r}, ${n.g}, ${n.b})`)}const Ay=n=>n<=.0031308?n*12.92:Math.pow(n,1/2.4)*1.055-.055,ul=n=>n<=.04045?n/12.92:Math.pow((n+.055)/1.055,2.4);function xB(n,t,e){const i=ul(Js(n.r)),r=ul(Js(n.g)),o=ul(Js(n.b));return{r:ra(Ay(i+e*(ul(Js(t.r))-i))),g:ra(Ay(r+e*(ul(Js(t.g))-r))),b:ra(Ay(o+e*(ul(Js(t.b))-o))),a:n.a+e*(t.a-n.a)}}function af(n,t,e){if(n){let i=i_(n);i[t]=Math.max(0,Math.min(i[t]+i[t]*e,t===0?360:1)),i=r_(i),n.r=i[0],n.g=i[1],n.b=i[2]}}function P2(n,t){return n&&Object.assign(t||{},n)}function fw(n){var t={r:0,g:0,b:0,a:255};return Array.isArray(n)?n.length>=3&&(t={r:n[0],g:n[1],b:n[2],a:255},n.length>3&&(t.a=ra(n[3]))):(t=P2(n,{r:0,g:0,b:0,a:1}),t.a=ra(t.a)),t}function EB(n){return n.charAt(0)==="r"?_B(n):fB(n)}class Ku{constructor(t){if(t instanceof Ku)return t;const e=typeof t;let i;e==="object"?i=fw(t):e==="string"&&(i=sB(t)||yB(t)||EB(t)),this._rgb=i,this._valid=!!i}get valid(){return this._valid}get rgb(){var t=P2(this._rgb);return t&&(t.a=Js(t.a)),t}set rgb(t){this._rgb=fw(t)}rgbString(){return this._valid?vB(this._rgb):void 0}hexString(){return this._valid?aB(this._rgb):void 0}hslString(){return this._valid?pB(this._rgb):void 0}mix(t,e){if(t){const i=this.rgb,r=t.rgb;let o;const l=e===o?.5:e,u=2*l-1,d=i.a-r.a,f=((u*d===-1?u:(u+d)/(1+u*d))+1)/2;o=1-f,i.r=255&f*i.r+o*r.r+.5,i.g=255&f*i.g+o*r.g+.5,i.b=255&f*i.b+o*r.b+.5,i.a=l*i.a+(1-l)*r.a,this.rgb=i}return this}interpolate(t,e){return t&&(this._rgb=xB(this._rgb,t._rgb,e)),this}clone(){return new Ku(this.rgb)}alpha(t){return this._rgb.a=ra(t),this}clearer(t){const e=this._rgb;return e.a*=1-t,this}greyscale(){const t=this._rgb,e=bh(t.r*.3+t.g*.59+t.b*.11);return t.r=t.g=t.b=e,this}opaquer(t){const e=this._rgb;return e.a*=1+t,this}negate(){const t=this._rgb;return t.r=255-t.r,t.g=255-t.g,t.b=255-t.b,this}lighten(t){return af(this._rgb,2,t),this}darken(t){return af(this._rgb,2,-t),this}saturate(t){return af(this._rgb,1,t),this}desaturate(t){return af(this._rgb,1,-t),this}rotate(t){return gB(this._rgb,t),this}}function Ks(){}const TB=(()=>{let n=0;return()=>n++})();function me(n){return n==null}function Qe(n){if(Array.isArray&&Array.isArray(n))return!0;const t=Object.prototype.toString.call(n);return t.slice(0,7)==="[object"&&t.slice(-6)==="Array]"}function Jt(n){return n!==null&&Object.prototype.toString.call(n)==="[object Object]"}function wn(n){return(typeof n=="number"||n instanceof Number)&&isFinite(+n)}function ms(n,t){return wn(n)?n:t}function Yt(n,t){return typeof n>"u"?t:n}const SB=(n,t)=>typeof n=="string"&&n.endsWith("%")?parseFloat(n)/100*t:+n;function _e(n,t,e){if(n&&typeof n.call=="function")return n.apply(e,t)}function le(n,t,e,i){let r,o,l;if(Qe(n))for(o=n.length,r=0;r<o;r++)t.call(e,n[r],r);else if(Jt(n))for(l=Object.keys(n),o=l.length,r=0;r<o;r++)t.call(e,n[l[r]],l[r])}function ag(n,t){let e,i,r,o;if(!n||!t||n.length!==t.length)return!1;for(e=0,i=n.length;e<i;++e)if(r=n[e],o=t[e],r.datasetIndex!==o.datasetIndex||r.index!==o.index)return!1;return!0}function og(n){if(Qe(n))return n.map(og);if(Jt(n)){const t=Object.create(null),e=Object.keys(n),i=e.length;let r=0;for(;r<i;++r)t[e[r]]=og(n[e[r]]);return t}return n}function z2(n){return["__proto__","prototype","constructor"].indexOf(n)===-1}function wB(n,t,e,i){if(!z2(n))return;const r=t[n],o=e[n];Jt(r)&&Jt(o)?Qu(r,o,i):t[n]=og(o)}function Qu(n,t,e){const i=Qe(t)?t:[t],r=i.length;if(!Jt(n))return n;e=e||{};const o=e.merger||wB;let l;for(let u=0;u<r;++u){if(l=i[u],!Jt(l))continue;const d=Object.keys(l);for(let f=0,p=d.length;f<p;++f)o(d[f],n,l,e)}return n}function wu(n,t){return Qu(n,t,{merger:AB})}function AB(n,t,e){if(!z2(n))return;const i=t[n],r=e[n];Jt(i)&&Jt(r)?wu(i,r):Object.prototype.hasOwnProperty.call(t,n)||(t[n]=og(r))}const gw={"":n=>n,x:n=>n.x,y:n=>n.y};function CB(n){const t=n.split("."),e=[];let i="";for(const r of t)i+=r,i.endsWith("\\")?i=i.slice(0,-1)+".":(e.push(i),i="");return e}function IB(n){const t=CB(n);return e=>{for(const i of t){if(i==="")break;e=e&&e[i]}return e}}function lg(n,t){return(gw[t]||(gw[t]=IB(t)))(n)}function a_(n){return n.charAt(0).toUpperCase()+n.slice(1)}const cg=n=>typeof n<"u",fa=n=>typeof n=="function",pw=(n,t)=>{if(n.size!==t.size)return!1;for(const e of n)if(!t.has(e))return!1;return!0};function DB(n){return n.type==="mouseup"||n.type==="click"||n.type==="contextmenu"}const rn=Math.PI,$i=2*rn,RB=$i+rn,ug=Number.POSITIVE_INFINITY,NB=rn/180,Gi=rn/2,Xa=rn/4,mw=rn*2/3,L2=Math.log10,Ml=Math.sign;function Au(n,t,e){return Math.abs(n-t)<e}function yw(n){const t=Math.round(n);n=Au(n,t,n/1e3)?t:n;const e=Math.pow(10,Math.floor(L2(n))),i=n/e;return(i<=1?1:i<=2?2:i<=5?5:10)*e}function kB(n){const t=[],e=Math.sqrt(n);let i;for(i=1;i<e;i++)n%i===0&&(t.push(i),t.push(n/i));return e===(e|0)&&t.push(e),t.sort((r,o)=>r-o).pop(),t}function OB(n){return typeof n=="symbol"||typeof n=="object"&&n!==null&&!(Symbol.toPrimitive in n||"toString"in n||"valueOf"in n)}function Xu(n){return!OB(n)&&!isNaN(parseFloat(n))&&isFinite(n)}function MB(n,t){const e=Math.round(n);return e-t<=n&&e+t>=n}function PB(n,t,e){let i,r,o;for(i=0,r=n.length;i<r;i++)o=n[i][e],isNaN(o)||(t.min=Math.min(t.min,o),t.max=Math.max(t.max,o))}function ro(n){return n*(rn/180)}function zB(n){return n*(180/rn)}function bw(n){if(!wn(n))return;let t=1,e=0;for(;Math.round(n*t)/t!==n;)t*=10,e++;return e}function LB(n,t){const e=t.x-n.x,i=t.y-n.y,r=Math.sqrt(e*e+i*i);let o=Math.atan2(i,e);return o<-.5*rn&&(o+=$i),{angle:o,distance:r}}function S0(n,t){return Math.sqrt(Math.pow(t.x-n.x,2)+Math.pow(t.y-n.y,2))}function VB(n,t){return(n-t+RB)%$i-rn}function vs(n){return(n%$i+$i)%$i}function V2(n,t,e,i){const r=vs(n),o=vs(t),l=vs(e),u=vs(o-r),d=vs(l-r),f=vs(r-o),p=vs(r-l);return r===o||r===l||i&&o===l||u>d&&f<p}function wi(n,t,e){return Math.max(t,Math.min(e,n))}function jB(n){return wi(n,-32768,32767)}function ml(n,t,e,i=1e-6){return n>=Math.min(t,e)-i&&n<=Math.max(t,e)+i}function o_(n,t,e){e=e||(l=>n[l]<t);let i=n.length-1,r=0,o;for(;i-r>1;)o=r+i>>1,e(o)?r=o:i=o;return{lo:r,hi:i}}const ao=(n,t,e,i)=>o_(n,e,i?r=>{const o=n[r][t];return o<e||o===e&&n[r+1][t]===e}:r=>n[r][t]<e),BB=(n,t,e)=>o_(n,e,i=>n[i][t]>=e);function UB(n,t,e){let i=0,r=n.length;for(;i<r&&n[i]<t;)i++;for(;r>i&&n[r-1]>e;)r--;return i>0||r<n.length?n.slice(i,r):n}const j2=["push","pop","shift","splice","unshift"];function FB(n,t){if(n._chartjs){n._chartjs.listeners.push(t);return}Object.defineProperty(n,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[t]}}),j2.forEach(e=>{const i="_onData"+a_(e),r=n[e];Object.defineProperty(n,e,{configurable:!0,enumerable:!1,value(...o){const l=r.apply(this,o);return n._chartjs.listeners.forEach(u=>{typeof u[i]=="function"&&u[i](...o)}),l}})})}function _w(n,t){const e=n._chartjs;if(!e)return;const i=e.listeners,r=i.indexOf(t);r!==-1&&i.splice(r,1),!(i.length>0)&&(j2.forEach(o=>{delete n[o]}),delete n._chartjs)}function HB(n){const t=new Set(n);return t.size===n.length?n:Array.from(t)}const B2=(function(){return typeof window>"u"?function(n){return n()}:window.requestAnimationFrame})();function U2(n,t){let e=[],i=!1;return function(...r){e=r,i||(i=!0,B2.call(window,()=>{i=!1,n.apply(t,e)}))}}function qB(n,t){let e;return function(...i){return t?(clearTimeout(e),e=setTimeout(n,t,i)):n.apply(this,i),t}}const l_=n=>n==="start"?"left":n==="end"?"right":"center",vn=(n,t,e)=>n==="start"?t:n==="end"?e:(t+e)/2,GB=(n,t,e,i)=>n===(i?"left":"right")?e:n==="center"?(t+e)/2:t;function $B(n,t,e){const i=t.length;let r=0,o=i;if(n._sorted){const{iScale:l,vScale:u,_parsed:d}=n,f=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null,p=l.axis,{min:y,max:_,minDefined:v,maxDefined:S}=l.getUserBounds();if(v){if(r=Math.min(ao(d,p,y).lo,e?i:ao(t,p,l.getPixelForValue(y)).lo),f){const C=d.slice(0,r+1).reverse().findIndex(w=>!me(w[u.axis]));r-=Math.max(0,C)}r=wi(r,0,i-1)}if(S){let C=Math.max(ao(d,l.axis,_,!0).hi+1,e?0:ao(t,p,l.getPixelForValue(_),!0).hi+1);if(f){const w=d.slice(C-1).findIndex(O=>!me(O[u.axis]));C+=Math.max(0,w)}o=wi(C,r,i)-r}else o=i-r}return{start:r,count:o}}function WB(n){const{xScale:t,yScale:e,_scaleRanges:i}=n,r={xmin:t.min,xmax:t.max,ymin:e.min,ymax:e.max};if(!i)return n._scaleRanges=r,!0;const o=i.xmin!==t.min||i.xmax!==t.max||i.ymin!==e.min||i.ymax!==e.max;return Object.assign(i,r),o}const of=n=>n===0||n===1,vw=(n,t,e)=>-(Math.pow(2,10*(n-=1))*Math.sin((n-t)*$i/e)),xw=(n,t,e)=>Math.pow(2,-10*n)*Math.sin((n-t)*$i/e)+1,Cu={linear:n=>n,easeInQuad:n=>n*n,easeOutQuad:n=>-n*(n-2),easeInOutQuad:n=>(n/=.5)<1?.5*n*n:-.5*(--n*(n-2)-1),easeInCubic:n=>n*n*n,easeOutCubic:n=>(n-=1)*n*n+1,easeInOutCubic:n=>(n/=.5)<1?.5*n*n*n:.5*((n-=2)*n*n+2),easeInQuart:n=>n*n*n*n,easeOutQuart:n=>-((n-=1)*n*n*n-1),easeInOutQuart:n=>(n/=.5)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2),easeInQuint:n=>n*n*n*n*n,easeOutQuint:n=>(n-=1)*n*n*n*n+1,easeInOutQuint:n=>(n/=.5)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2),easeInSine:n=>-Math.cos(n*Gi)+1,easeOutSine:n=>Math.sin(n*Gi),easeInOutSine:n=>-.5*(Math.cos(rn*n)-1),easeInExpo:n=>n===0?0:Math.pow(2,10*(n-1)),easeOutExpo:n=>n===1?1:-Math.pow(2,-10*n)+1,easeInOutExpo:n=>of(n)?n:n<.5?.5*Math.pow(2,10*(n*2-1)):.5*(-Math.pow(2,-10*(n*2-1))+2),easeInCirc:n=>n>=1?n:-(Math.sqrt(1-n*n)-1),easeOutCirc:n=>Math.sqrt(1-(n-=1)*n),easeInOutCirc:n=>(n/=.5)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1),easeInElastic:n=>of(n)?n:vw(n,.075,.3),easeOutElastic:n=>of(n)?n:xw(n,.075,.3),easeInOutElastic(n){return of(n)?n:n<.5?.5*vw(n*2,.1125,.45):.5+.5*xw(n*2-1,.1125,.45)},easeInBack(n){return n*n*((1.70158+1)*n-1.70158)},easeOutBack(n){return(n-=1)*n*((1.70158+1)*n+1.70158)+1},easeInOutBack(n){let t=1.70158;return(n/=.5)<1?.5*(n*n*(((t*=1.525)+1)*n-t)):.5*((n-=2)*n*(((t*=1.525)+1)*n+t)+2)},easeInBounce:n=>1-Cu.easeOutBounce(1-n),easeOutBounce(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},easeInOutBounce:n=>n<.5?Cu.easeInBounce(n*2)*.5:Cu.easeOutBounce(n*2-1)*.5+.5};function c_(n){if(n&&typeof n=="object"){const t=n.toString();return t==="[object CanvasPattern]"||t==="[object CanvasGradient]"}return!1}function Ew(n){return c_(n)?n:new Ku(n)}function Cy(n){return c_(n)?n:new Ku(n).saturate(.5).darken(.1).hexString()}const YB=["x","y","borderWidth","radius","tension"],KB=["color","borderColor","backgroundColor"];function QB(n){n.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),n.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:t=>t!=="onProgress"&&t!=="onComplete"&&t!=="fn"}),n.set("animations",{colors:{type:"color",properties:KB},numbers:{type:"number",properties:YB}}),n.describe("animations",{_fallback:"animation"}),n.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:t=>t|0}}}})}function XB(n){n.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const Tw=new Map;function JB(n,t){t=t||{};const e=n+JSON.stringify(t);let i=Tw.get(e);return i||(i=new Intl.NumberFormat(n,t),Tw.set(e,i)),i}function F2(n,t,e){return JB(t,e).format(n)}const ZB={values(n){return Qe(n)?n:""+n},numeric(n,t,e){if(n===0)return"0";const i=this.chart.options.locale;let r,o=n;if(e.length>1){const f=Math.max(Math.abs(e[0].value),Math.abs(e[e.length-1].value));(f<1e-4||f>1e15)&&(r="scientific"),o=tU(n,e)}const l=L2(Math.abs(o)),u=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),d={notation:r,minimumFractionDigits:u,maximumFractionDigits:u};return Object.assign(d,this.options.ticks.format),F2(n,i,d)}};function tU(n,t){let e=t.length>3?t[2].value-t[1].value:t[1].value-t[0].value;return Math.abs(e)>=1&&n!==Math.floor(n)&&(e=n-Math.floor(n)),e}var H2={formatters:ZB};function eU(n){n.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(t,e)=>e.lineWidth,tickColor:(t,e)=>e.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:H2.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),n.route("scale.ticks","color","","color"),n.route("scale.grid","color","","borderColor"),n.route("scale.border","color","","borderColor"),n.route("scale.title","color","","color"),n.describe("scale",{_fallback:!1,_scriptable:t=>!t.startsWith("before")&&!t.startsWith("after")&&t!=="callback"&&t!=="parser",_indexable:t=>t!=="borderDash"&&t!=="tickBorderDash"&&t!=="dash"}),n.describe("scales",{_fallback:"scale"}),n.describe("scale.ticks",{_scriptable:t=>t!=="backdropPadding"&&t!=="callback",_indexable:t=>t!=="backdropPadding"})}const bo=Object.create(null),w0=Object.create(null);function Iu(n,t){if(!t)return n;const e=t.split(".");for(let i=0,r=e.length;i<r;++i){const o=e[i];n=n[o]||(n[o]=Object.create(null))}return n}function Iy(n,t,e){return typeof t=="string"?Qu(Iu(n,t),e):Qu(Iu(n,""),t)}class nU{constructor(t,e){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=i=>i.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(i,r)=>Cy(r.backgroundColor),this.hoverBorderColor=(i,r)=>Cy(r.borderColor),this.hoverColor=(i,r)=>Cy(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(t),this.apply(e)}set(t,e){return Iy(this,t,e)}get(t){return Iu(this,t)}describe(t,e){return Iy(w0,t,e)}override(t,e){return Iy(bo,t,e)}route(t,e,i,r){const o=Iu(this,t),l=Iu(this,i),u="_"+e;Object.defineProperties(o,{[u]:{value:o[e],writable:!0},[e]:{enumerable:!0,get(){const d=this[u],f=l[r];return Jt(d)?Object.assign({},f,d):Yt(d,f)},set(d){this[u]=d}}})}apply(t){t.forEach(e=>e(this))}}var Pe=new nU({_scriptable:n=>!n.startsWith("on"),_indexable:n=>n!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[QB,XB,eU]);function iU(n){return!n||me(n.size)||me(n.family)?null:(n.style?n.style+" ":"")+(n.weight?n.weight+" ":"")+n.size+"px "+n.family}function Sw(n,t,e,i,r){let o=t[r];return o||(o=t[r]=n.measureText(r).width,e.push(r)),o>i&&(i=o),i}function Ja(n,t,e){const i=n.currentDevicePixelRatio,r=e!==0?Math.max(e/2,.5):0;return Math.round((t-r)*i)/i+r}function ww(n,t){!t&&!n||(t=t||n.getContext("2d"),t.save(),t.resetTransform(),t.clearRect(0,0,n.width,n.height),t.restore())}function A0(n,t,e,i){q2(n,t,e,i,null)}function q2(n,t,e,i,r){let o,l,u,d,f,p,y,_;const v=t.pointStyle,S=t.rotation,C=t.radius;let w=(S||0)*NB;if(v&&typeof v=="object"&&(o=v.toString(),o==="[object HTMLImageElement]"||o==="[object HTMLCanvasElement]")){n.save(),n.translate(e,i),n.rotate(w),n.drawImage(v,-v.width/2,-v.height/2,v.width,v.height),n.restore();return}if(!(isNaN(C)||C<=0)){switch(n.beginPath(),v){default:r?n.ellipse(e,i,r/2,C,0,0,$i):n.arc(e,i,C,0,$i),n.closePath();break;case"triangle":p=r?r/2:C,n.moveTo(e+Math.sin(w)*p,i-Math.cos(w)*C),w+=mw,n.lineTo(e+Math.sin(w)*p,i-Math.cos(w)*C),w+=mw,n.lineTo(e+Math.sin(w)*p,i-Math.cos(w)*C),n.closePath();break;case"rectRounded":f=C*.516,d=C-f,l=Math.cos(w+Xa)*d,y=Math.cos(w+Xa)*(r?r/2-f:d),u=Math.sin(w+Xa)*d,_=Math.sin(w+Xa)*(r?r/2-f:d),n.arc(e-y,i-u,f,w-rn,w-Gi),n.arc(e+_,i-l,f,w-Gi,w),n.arc(e+y,i+u,f,w,w+Gi),n.arc(e-_,i+l,f,w+Gi,w+rn),n.closePath();break;case"rect":if(!S){d=Math.SQRT1_2*C,p=r?r/2:d,n.rect(e-p,i-d,2*p,2*d);break}w+=Xa;case"rectRot":y=Math.cos(w)*(r?r/2:C),l=Math.cos(w)*C,u=Math.sin(w)*C,_=Math.sin(w)*(r?r/2:C),n.moveTo(e-y,i-u),n.lineTo(e+_,i-l),n.lineTo(e+y,i+u),n.lineTo(e-_,i+l),n.closePath();break;case"crossRot":w+=Xa;case"cross":y=Math.cos(w)*(r?r/2:C),l=Math.cos(w)*C,u=Math.sin(w)*C,_=Math.sin(w)*(r?r/2:C),n.moveTo(e-y,i-u),n.lineTo(e+y,i+u),n.moveTo(e+_,i-l),n.lineTo(e-_,i+l);break;case"star":y=Math.cos(w)*(r?r/2:C),l=Math.cos(w)*C,u=Math.sin(w)*C,_=Math.sin(w)*(r?r/2:C),n.moveTo(e-y,i-u),n.lineTo(e+y,i+u),n.moveTo(e+_,i-l),n.lineTo(e-_,i+l),w+=Xa,y=Math.cos(w)*(r?r/2:C),l=Math.cos(w)*C,u=Math.sin(w)*C,_=Math.sin(w)*(r?r/2:C),n.moveTo(e-y,i-u),n.lineTo(e+y,i+u),n.moveTo(e+_,i-l),n.lineTo(e-_,i+l);break;case"line":l=r?r/2:Math.cos(w)*C,u=Math.sin(w)*C,n.moveTo(e-l,i-u),n.lineTo(e+l,i+u);break;case"dash":n.moveTo(e,i),n.lineTo(e+Math.cos(w)*(r?r/2:C),i+Math.sin(w)*C);break;case!1:n.closePath();break}n.fill(),t.borderWidth>0&&n.stroke()}}function Ju(n,t,e){return e=e||.5,!t||n&&n.x>t.left-e&&n.x<t.right+e&&n.y>t.top-e&&n.y<t.bottom+e}function Hg(n,t){n.save(),n.beginPath(),n.rect(t.left,t.top,t.right-t.left,t.bottom-t.top),n.clip()}function qg(n){n.restore()}function sU(n,t,e,i,r){if(!t)return n.lineTo(e.x,e.y);if(r==="middle"){const o=(t.x+e.x)/2;n.lineTo(o,t.y),n.lineTo(o,e.y)}else r==="after"!=!!i?n.lineTo(t.x,e.y):n.lineTo(e.x,t.y);n.lineTo(e.x,e.y)}function rU(n,t,e,i){if(!t)return n.lineTo(e.x,e.y);n.bezierCurveTo(i?t.cp1x:t.cp2x,i?t.cp1y:t.cp2y,i?e.cp2x:e.cp1x,i?e.cp2y:e.cp1y,e.x,e.y)}function aU(n,t){t.translation&&n.translate(t.translation[0],t.translation[1]),me(t.rotation)||n.rotate(t.rotation),t.color&&(n.fillStyle=t.color),t.textAlign&&(n.textAlign=t.textAlign),t.textBaseline&&(n.textBaseline=t.textBaseline)}function oU(n,t,e,i,r){if(r.strikethrough||r.underline){const o=n.measureText(i),l=t-o.actualBoundingBoxLeft,u=t+o.actualBoundingBoxRight,d=e-o.actualBoundingBoxAscent,f=e+o.actualBoundingBoxDescent,p=r.strikethrough?(d+f)/2:f;n.strokeStyle=n.fillStyle,n.beginPath(),n.lineWidth=r.decorationWidth||2,n.moveTo(l,p),n.lineTo(u,p),n.stroke()}}function lU(n,t){const e=n.fillStyle;n.fillStyle=t.color,n.fillRect(t.left,t.top,t.width,t.height),n.fillStyle=e}function Zu(n,t,e,i,r,o={}){const l=Qe(t)?t:[t],u=o.strokeWidth>0&&o.strokeColor!=="";let d,f;for(n.save(),n.font=r.string,aU(n,o),d=0;d<l.length;++d)f=l[d],o.backdrop&&lU(n,o.backdrop),u&&(o.strokeColor&&(n.strokeStyle=o.strokeColor),me(o.strokeWidth)||(n.lineWidth=o.strokeWidth),n.strokeText(f,e,i,o.maxWidth)),n.fillText(f,e,i,o.maxWidth),oU(n,e,i,f,o),i+=Number(r.lineHeight);n.restore()}function C0(n,t){const{x:e,y:i,w:r,h:o,radius:l}=t;n.arc(e+l.topLeft,i+l.topLeft,l.topLeft,1.5*rn,rn,!0),n.lineTo(e,i+o-l.bottomLeft),n.arc(e+l.bottomLeft,i+o-l.bottomLeft,l.bottomLeft,rn,Gi,!0),n.lineTo(e+r-l.bottomRight,i+o),n.arc(e+r-l.bottomRight,i+o-l.bottomRight,l.bottomRight,Gi,0,!0),n.lineTo(e+r,i+l.topRight),n.arc(e+r-l.topRight,i+l.topRight,l.topRight,0,-Gi,!0),n.lineTo(e+l.topLeft,i)}const cU=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,uU=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function hU(n,t){const e=(""+n).match(cU);if(!e||e[1]==="normal")return t*1.2;switch(n=+e[2],e[3]){case"px":return n;case"%":n/=100;break}return t*n}const dU=n=>+n||0;function G2(n,t){const e={},i=Jt(t),r=i?Object.keys(t):t,o=Jt(n)?i?l=>Yt(n[l],n[t[l]]):l=>n[l]:()=>n;for(const l of r)e[l]=dU(o(l));return e}function fU(n){return G2(n,{top:"y",right:"x",bottom:"y",left:"x"})}function Du(n){return G2(n,["topLeft","topRight","bottomLeft","bottomRight"])}function Ii(n){const t=fU(n);return t.width=t.left+t.right,t.height=t.top+t.bottom,t}function Tn(n,t){n=n||{},t=t||Pe.font;let e=Yt(n.size,t.size);typeof e=="string"&&(e=parseInt(e,10));let i=Yt(n.style,t.style);i&&!(""+i).match(uU)&&(console.warn('Invalid font style specified: "'+i+'"'),i=void 0);const r={family:Yt(n.family,t.family),lineHeight:hU(Yt(n.lineHeight,t.lineHeight),e),size:e,style:i,weight:Yt(n.weight,t.weight),string:""};return r.string=iU(r),r}function lf(n,t,e,i){let r,o,l;for(r=0,o=n.length;r<o;++r)if(l=n[r],l!==void 0&&l!==void 0)return l}function gU(n,t,e){const{min:i,max:r}=n,o=SB(t,(r-i)/2),l=(u,d)=>e&&u===0?0:u+d;return{min:l(i,-Math.abs(o)),max:l(r,o)}}function xo(n,t){return Object.assign(Object.create(n),t)}function u_(n,t=[""],e,i,r=()=>n[0]){const o=e||n;typeof i>"u"&&(i=K2("_fallback",n));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:n,_rootScopes:o,_fallback:i,_getTarget:r,override:u=>u_([u,...n],t,o,i)};return new Proxy(l,{deleteProperty(u,d){return delete u[d],delete u._keys,delete n[0][d],!0},get(u,d){return W2(u,d,()=>EU(d,t,n,u))},getOwnPropertyDescriptor(u,d){return Reflect.getOwnPropertyDescriptor(u._scopes[0],d)},getPrototypeOf(){return Reflect.getPrototypeOf(n[0])},has(u,d){return Cw(u).includes(d)},ownKeys(u){return Cw(u)},set(u,d,f){const p=u._storage||(u._storage=r());return u[d]=p[d]=f,delete u._keys,!0}})}function Pl(n,t,e,i){const r={_cacheable:!1,_proxy:n,_context:t,_subProxy:e,_stack:new Set,_descriptors:$2(n,i),setContext:o=>Pl(n,o,e,i),override:o=>Pl(n.override(o),t,e,i)};return new Proxy(r,{deleteProperty(o,l){return delete o[l],delete n[l],!0},get(o,l,u){return W2(o,l,()=>mU(o,l,u))},getOwnPropertyDescriptor(o,l){return o._descriptors.allKeys?Reflect.has(n,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(n,l)},getPrototypeOf(){return Reflect.getPrototypeOf(n)},has(o,l){return Reflect.has(n,l)},ownKeys(){return Reflect.ownKeys(n)},set(o,l,u){return n[l]=u,delete o[l],!0}})}function $2(n,t={scriptable:!0,indexable:!0}){const{_scriptable:e=t.scriptable,_indexable:i=t.indexable,_allKeys:r=t.allKeys}=n;return{allKeys:r,scriptable:e,indexable:i,isScriptable:fa(e)?e:()=>e,isIndexable:fa(i)?i:()=>i}}const pU=(n,t)=>n?n+a_(t):t,h_=(n,t)=>Jt(t)&&n!=="adapters"&&(Object.getPrototypeOf(t)===null||t.constructor===Object);function W2(n,t,e){if(Object.prototype.hasOwnProperty.call(n,t)||t==="constructor")return n[t];const i=e();return n[t]=i,i}function mU(n,t,e){const{_proxy:i,_context:r,_subProxy:o,_descriptors:l}=n;let u=i[t];return fa(u)&&l.isScriptable(t)&&(u=yU(t,u,n,e)),Qe(u)&&u.length&&(u=bU(t,u,n,l.isIndexable)),h_(t,u)&&(u=Pl(u,r,o&&o[t],l)),u}function yU(n,t,e,i){const{_proxy:r,_context:o,_subProxy:l,_stack:u}=e;if(u.has(n))throw new Error("Recursion detected: "+Array.from(u).join("->")+"->"+n);u.add(n);let d=t(o,l||i);return u.delete(n),h_(n,d)&&(d=d_(r._scopes,r,n,d)),d}function bU(n,t,e,i){const{_proxy:r,_context:o,_subProxy:l,_descriptors:u}=e;if(typeof o.index<"u"&&i(n))return t[o.index%t.length];if(Jt(t[0])){const d=t,f=r._scopes.filter(p=>p!==d);t=[];for(const p of d){const y=d_(f,r,n,p);t.push(Pl(y,o,l&&l[n],u))}}return t}function Y2(n,t,e){return fa(n)?n(t,e):n}const _U=(n,t)=>n===!0?t:typeof n=="string"?lg(t,n):void 0;function vU(n,t,e,i,r){for(const o of t){const l=_U(e,o);if(l){n.add(l);const u=Y2(l._fallback,e,r);if(typeof u<"u"&&u!==e&&u!==i)return u}else if(l===!1&&typeof i<"u"&&e!==i)return null}return!1}function d_(n,t,e,i){const r=t._rootScopes,o=Y2(t._fallback,e,i),l=[...n,...r],u=new Set;u.add(i);let d=Aw(u,l,e,o||e,i);return d===null||typeof o<"u"&&o!==e&&(d=Aw(u,l,o,d,i),d===null)?!1:u_(Array.from(u),[""],r,o,()=>xU(t,e,i))}function Aw(n,t,e,i,r){for(;e;)e=vU(n,t,e,i,r);return e}function xU(n,t,e){const i=n._getTarget();t in i||(i[t]={});const r=i[t];return Qe(r)&&Jt(e)?e:r||{}}function EU(n,t,e,i){let r;for(const o of t)if(r=K2(pU(o,n),e),typeof r<"u")return h_(n,r)?d_(e,i,n,r):r}function K2(n,t){for(const e of t){if(!e)continue;const i=e[n];if(typeof i<"u")return i}}function Cw(n){let t=n._keys;return t||(t=n._keys=TU(n._scopes)),t}function TU(n){const t=new Set;for(const e of n)for(const i of Object.keys(e).filter(r=>!r.startsWith("_")))t.add(i);return Array.from(t)}const SU=Number.EPSILON||1e-14,zl=(n,t)=>t<n.length&&!n[t].skip&&n[t],Q2=n=>n==="x"?"y":"x";function wU(n,t,e,i){const r=n.skip?t:n,o=t,l=e.skip?t:e,u=S0(o,r),d=S0(l,o);let f=u/(u+d),p=d/(u+d);f=isNaN(f)?0:f,p=isNaN(p)?0:p;const y=i*f,_=i*p;return{previous:{x:o.x-y*(l.x-r.x),y:o.y-y*(l.y-r.y)},next:{x:o.x+_*(l.x-r.x),y:o.y+_*(l.y-r.y)}}}function AU(n,t,e){const i=n.length;let r,o,l,u,d,f=zl(n,0);for(let p=0;p<i-1;++p)if(d=f,f=zl(n,p+1),!(!d||!f)){if(Au(t[p],0,SU)){e[p]=e[p+1]=0;continue}r=e[p]/t[p],o=e[p+1]/t[p],u=Math.pow(r,2)+Math.pow(o,2),!(u<=9)&&(l=3/Math.sqrt(u),e[p]=r*l*t[p],e[p+1]=o*l*t[p])}}function CU(n,t,e="x"){const i=Q2(e),r=n.length;let o,l,u,d=zl(n,0);for(let f=0;f<r;++f){if(l=u,u=d,d=zl(n,f+1),!u)continue;const p=u[e],y=u[i];l&&(o=(p-l[e])/3,u[`cp1${e}`]=p-o,u[`cp1${i}`]=y-o*t[f]),d&&(o=(d[e]-p)/3,u[`cp2${e}`]=p+o,u[`cp2${i}`]=y+o*t[f])}}function IU(n,t="x"){const e=Q2(t),i=n.length,r=Array(i).fill(0),o=Array(i);let l,u,d,f=zl(n,0);for(l=0;l<i;++l)if(u=d,d=f,f=zl(n,l+1),!!d){if(f){const p=f[t]-d[t];r[l]=p!==0?(f[e]-d[e])/p:0}o[l]=u?f?Ml(r[l-1])!==Ml(r[l])?0:(r[l-1]+r[l])/2:r[l-1]:r[l]}AU(n,r,o),CU(n,o,t)}function cf(n,t,e){return Math.max(Math.min(n,e),t)}function DU(n,t){let e,i,r,o,l,u=Ju(n[0],t);for(e=0,i=n.length;e<i;++e)l=o,o=u,u=e<i-1&&Ju(n[e+1],t),o&&(r=n[e],l&&(r.cp1x=cf(r.cp1x,t.left,t.right),r.cp1y=cf(r.cp1y,t.top,t.bottom)),u&&(r.cp2x=cf(r.cp2x,t.left,t.right),r.cp2y=cf(r.cp2y,t.top,t.bottom)))}function RU(n,t,e,i,r){let o,l,u,d;if(t.spanGaps&&(n=n.filter(f=>!f.skip)),t.cubicInterpolationMode==="monotone")IU(n,r);else{let f=i?n[n.length-1]:n[0];for(o=0,l=n.length;o<l;++o)u=n[o],d=wU(f,u,n[Math.min(o+1,l-(i?0:1))%l],t.tension),u.cp1x=d.previous.x,u.cp1y=d.previous.y,u.cp2x=d.next.x,u.cp2y=d.next.y,f=u}t.capBezierPoints&&DU(n,e)}function f_(){return typeof window<"u"&&typeof document<"u"}function g_(n){let t=n.parentNode;return t&&t.toString()==="[object ShadowRoot]"&&(t=t.host),t}function hg(n,t,e){let i;return typeof n=="string"?(i=parseInt(n,10),n.indexOf("%")!==-1&&(i=i/100*t.parentNode[e])):i=n,i}const Gg=n=>n.ownerDocument.defaultView.getComputedStyle(n,null);function NU(n,t){return Gg(n).getPropertyValue(t)}const kU=["top","right","bottom","left"];function co(n,t,e){const i={};e=e?"-"+e:"";for(let r=0;r<4;r++){const o=kU[r];i[o]=parseFloat(n[t+"-"+o+e])||0}return i.width=i.left+i.right,i.height=i.top+i.bottom,i}const OU=(n,t,e)=>(n>0||t>0)&&(!e||!e.shadowRoot);function MU(n,t){const e=n.touches,i=e&&e.length?e[0]:n,{offsetX:r,offsetY:o}=i;let l=!1,u,d;if(OU(r,o,n.target))u=r,d=o;else{const f=t.getBoundingClientRect();u=i.clientX-f.left,d=i.clientY-f.top,l=!0}return{x:u,y:d,box:l}}function no(n,t){if("native"in n)return n;const{canvas:e,currentDevicePixelRatio:i}=t,r=Gg(e),o=r.boxSizing==="border-box",l=co(r,"padding"),u=co(r,"border","width"),{x:d,y:f,box:p}=MU(n,e),y=l.left+(p&&u.left),_=l.top+(p&&u.top);let{width:v,height:S}=t;return o&&(v-=l.width+u.width,S-=l.height+u.height),{x:Math.round((d-y)/v*e.width/i),y:Math.round((f-_)/S*e.height/i)}}function PU(n,t,e){let i,r;if(t===void 0||e===void 0){const o=n&&g_(n);if(!o)t=n.clientWidth,e=n.clientHeight;else{const l=o.getBoundingClientRect(),u=Gg(o),d=co(u,"border","width"),f=co(u,"padding");t=l.width-f.width-d.width,e=l.height-f.height-d.height,i=hg(u.maxWidth,o,"clientWidth"),r=hg(u.maxHeight,o,"clientHeight")}}return{width:t,height:e,maxWidth:i||ug,maxHeight:r||ug}}const Qr=n=>Math.round(n*10)/10;function zU(n,t,e,i){const r=Gg(n),o=co(r,"margin"),l=hg(r.maxWidth,n,"clientWidth")||ug,u=hg(r.maxHeight,n,"clientHeight")||ug,d=PU(n,t,e);let{width:f,height:p}=d;if(r.boxSizing==="content-box"){const _=co(r,"border","width"),v=co(r,"padding");f-=v.width+_.width,p-=v.height+_.height}return f=Math.max(0,f-o.width),p=Math.max(0,i?f/i:p-o.height),f=Qr(Math.min(f,l,d.maxWidth)),p=Qr(Math.min(p,u,d.maxHeight)),f&&!p&&(p=Qr(f/2)),(t!==void 0||e!==void 0)&&i&&d.height&&p>d.height&&(p=d.height,f=Qr(Math.floor(p*i))),{width:f,height:p}}function Iw(n,t,e){const i=t||1,r=Qr(n.height*i),o=Qr(n.width*i);n.height=Qr(n.height),n.width=Qr(n.width);const l=n.canvas;return l.style&&(e||!l.style.height&&!l.style.width)&&(l.style.height=`${n.height}px`,l.style.width=`${n.width}px`),n.currentDevicePixelRatio!==i||l.height!==r||l.width!==o?(n.currentDevicePixelRatio=i,l.height=r,l.width=o,n.ctx.setTransform(i,0,0,i,0,0),!0):!1}const LU=(function(){let n=!1;try{const t={get passive(){return n=!0,!1}};f_()&&(window.addEventListener("test",null,t),window.removeEventListener("test",null,t))}catch{}return n})();function Dw(n,t){const e=NU(n,t),i=e&&e.match(/^(\d+)(\.\d+)?px$/);return i?+i[1]:void 0}function io(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:n.y+e*(t.y-n.y)}}function VU(n,t,e,i){return{x:n.x+e*(t.x-n.x),y:i==="middle"?e<.5?n.y:t.y:i==="after"?e<1?n.y:t.y:e>0?t.y:n.y}}function jU(n,t,e,i){const r={x:n.cp2x,y:n.cp2y},o={x:t.cp1x,y:t.cp1y},l=io(n,r,e),u=io(r,o,e),d=io(o,t,e),f=io(l,u,e),p=io(u,d,e);return io(f,p,e)}const BU=function(n,t){return{x(e){return n+n+t-e},setWidth(e){t=e},textAlign(e){return e==="center"?e:e==="right"?"left":"right"},xPlus(e,i){return e-i},leftForLtr(e,i){return e-i}}},UU=function(){return{x(n){return n},setWidth(n){},textAlign(n){return n},xPlus(n,t){return n+t},leftForLtr(n,t){return n}}};function El(n,t,e){return n?BU(t,e):UU()}function X2(n,t){let e,i;(t==="ltr"||t==="rtl")&&(e=n.canvas.style,i=[e.getPropertyValue("direction"),e.getPropertyPriority("direction")],e.setProperty("direction",t,"important"),n.prevTextDirection=i)}function J2(n,t){t!==void 0&&(delete n.prevTextDirection,n.canvas.style.setProperty("direction",t[0],t[1]))}function Z2(n){return n==="angle"?{between:V2,compare:VB,normalize:vs}:{between:ml,compare:(t,e)=>t-e,normalize:t=>t}}function Rw({start:n,end:t,count:e,loop:i,style:r}){return{start:n%e,end:t%e,loop:i&&(t-n+1)%e===0,style:r}}function FU(n,t,e){const{property:i,start:r,end:o}=e,{between:l,normalize:u}=Z2(i),d=t.length;let{start:f,end:p,loop:y}=n,_,v;if(y){for(f+=d,p+=d,_=0,v=d;_<v&&l(u(t[f%d][i]),r,o);++_)f--,p--;f%=d,p%=d}return p<f&&(p+=d),{start:f,end:p,loop:y,style:n.style}}function tD(n,t,e){if(!e)return[n];const{property:i,start:r,end:o}=e,l=t.length,{compare:u,between:d,normalize:f}=Z2(i),{start:p,end:y,loop:_,style:v}=FU(n,t,e),S=[];let C=!1,w=null,O,L,H;const q=()=>d(r,H,O)&&u(r,H)!==0,F=()=>u(o,O)===0||d(o,H,O),G=()=>C||q(),R=()=>!C||F();for(let I=p,N=p;I<=y;++I)L=t[I%l],!L.skip&&(O=f(L[i]),O!==H&&(C=d(O,r,o),w===null&&G()&&(w=u(O,r)===0?I:N),w!==null&&R()&&(S.push(Rw({start:w,end:I,loop:_,count:l,style:v})),w=null),N=I,H=O));return w!==null&&S.push(Rw({start:w,end:y,loop:_,count:l,style:v})),S}function eD(n,t){const e=[],i=n.segments;for(let r=0;r<i.length;r++){const o=tD(i[r],n.points,t);o.length&&e.push(...o)}return e}function HU(n,t,e,i){let r=0,o=t-1;if(e&&!i)for(;r<t&&!n[r].skip;)r++;for(;r<t&&n[r].skip;)r++;for(r%=t,e&&(o+=r);o>r&&n[o%t].skip;)o--;return o%=t,{start:r,end:o}}function qU(n,t,e,i){const r=n.length,o=[];let l=t,u=n[t],d;for(d=t+1;d<=e;++d){const f=n[d%r];f.skip||f.stop?u.skip||(i=!1,o.push({start:t%r,end:(d-1)%r,loop:i}),t=l=f.stop?d:null):(l=d,u.skip&&(t=d)),u=f}return l!==null&&o.push({start:t%r,end:l%r,loop:i}),o}function GU(n,t){const e=n.points,i=n.options.spanGaps,r=e.length;if(!r)return[];const o=!!n._loop,{start:l,end:u}=HU(e,r,o,i);if(i===!0)return Nw(n,[{start:l,end:u,loop:o}],e,t);const d=u<l?u+r:u,f=!!n._fullLoop&&l===0&&u===r-1;return Nw(n,qU(e,l,d,f),e,t)}function Nw(n,t,e,i){return!i||!i.setContext||!e?t:$U(n,t,e,i)}function $U(n,t,e,i){const r=n._chart.getContext(),o=kw(n.options),{_datasetIndex:l,options:{spanGaps:u}}=n,d=e.length,f=[];let p=o,y=t[0].start,_=y;function v(S,C,w,O){const L=u?-1:1;if(S!==C){for(S+=d;e[S%d].skip;)S-=L;for(;e[C%d].skip;)C+=L;S%d!==C%d&&(f.push({start:S%d,end:C%d,loop:w,style:O}),p=O,y=C%d)}}for(const S of t){y=u?y:S.start;let C=e[y%d],w;for(_=y+1;_<=S.end;_++){const O=e[_%d];w=kw(i.setContext(xo(r,{type:"segment",p0:C,p1:O,p0DataIndex:(_-1)%d,p1DataIndex:_%d,datasetIndex:l}))),WU(w,p)&&v(y,_-1,S.loop,p),C=O,p=w}y<_-1&&v(y,_-1,S.loop,p)}return f}function kw(n){return{backgroundColor:n.backgroundColor,borderCapStyle:n.borderCapStyle,borderDash:n.borderDash,borderDashOffset:n.borderDashOffset,borderJoinStyle:n.borderJoinStyle,borderWidth:n.borderWidth,borderColor:n.borderColor}}function WU(n,t){if(!t)return!1;const e=[],i=function(r,o){return c_(o)?(e.includes(o)||e.push(o),e.indexOf(o)):o};return JSON.stringify(n,i)!==JSON.stringify(t,i)}function uf(n,t,e){return n.options.clip?n[e]:t[e]}function YU(n,t){const{xScale:e,yScale:i}=n;return e&&i?{left:uf(e,t,"left"),right:uf(e,t,"right"),top:uf(i,t,"top"),bottom:uf(i,t,"bottom")}:t}function nD(n,t){const e=t._clip;if(e.disabled)return!1;const i=YU(t,n.chartArea);return{left:e.left===!1?0:i.left-(e.left===!0?0:e.left),right:e.right===!1?n.width:i.right+(e.right===!0?0:e.right),top:e.top===!1?0:i.top-(e.top===!0?0:e.top),bottom:e.bottom===!1?n.height:i.bottom+(e.bottom===!0?0:e.bottom)}}class KU{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(t,e,i,r){const o=e.listeners[r],l=e.duration;o.forEach(u=>u({chart:t,initial:e.initial,numSteps:l,currentStep:Math.min(i-e.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=B2.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(t=Date.now()){let e=0;this._charts.forEach((i,r)=>{if(!i.running||!i.items.length)return;const o=i.items;let l=o.length-1,u=!1,d;for(;l>=0;--l)d=o[l],d._active?(d._total>i.duration&&(i.duration=d._total),d.tick(t),u=!0):(o[l]=o[o.length-1],o.pop());u&&(r.draw(),this._notify(r,i,t,"progress")),o.length||(i.running=!1,this._notify(r,i,t,"complete"),i.initial=!1),e+=o.length}),this._lastDate=t,e===0&&(this._running=!1)}_getAnims(t){const e=this._charts;let i=e.get(t);return i||(i={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},e.set(t,i)),i}listen(t,e,i){this._getAnims(t).listeners[e].push(i)}add(t,e){!e||!e.length||this._getAnims(t).items.push(...e)}has(t){return this._getAnims(t).items.length>0}start(t){const e=this._charts.get(t);e&&(e.running=!0,e.start=Date.now(),e.duration=e.items.reduce((i,r)=>Math.max(i,r._duration),0),this._refresh())}running(t){if(!this._running)return!1;const e=this._charts.get(t);return!(!e||!e.running||!e.items.length)}stop(t){const e=this._charts.get(t);if(!e||!e.items.length)return;const i=e.items;let r=i.length-1;for(;r>=0;--r)i[r].cancel();e.items=[],this._notify(t,e,Date.now(),"complete")}remove(t){return this._charts.delete(t)}}var Qs=new KU;const Ow="transparent",QU={boolean(n,t,e){return e>.5?t:n},color(n,t,e){const i=Ew(n||Ow),r=i.valid&&Ew(t||Ow);return r&&r.valid?r.mix(i,e).hexString():t},number(n,t,e){return n+(t-n)*e}};class XU{constructor(t,e,i,r){const o=e[i];r=lf([t.to,r,o,t.from]);const l=lf([t.from,o,r]);this._active=!0,this._fn=t.fn||QU[t.type||typeof l],this._easing=Cu[t.easing]||Cu.linear,this._start=Math.floor(Date.now()+(t.delay||0)),this._duration=this._total=Math.floor(t.duration),this._loop=!!t.loop,this._target=e,this._prop=i,this._from=l,this._to=r,this._promises=void 0}active(){return this._active}update(t,e,i){if(this._active){this._notify(!1);const r=this._target[this._prop],o=i-this._start,l=this._duration-o;this._start=i,this._duration=Math.floor(Math.max(l,t.duration)),this._total+=o,this._loop=!!t.loop,this._to=lf([t.to,e,r,t.from]),this._from=lf([t.from,r,e])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(t){const e=t-this._start,i=this._duration,r=this._prop,o=this._from,l=this._loop,u=this._to;let d;if(this._active=o!==u&&(l||e<i),!this._active){this._target[r]=u,this._notify(!0);return}if(e<0){this._target[r]=o;return}d=e/i%2,d=l&&d>1?2-d:d,d=this._easing(Math.min(1,Math.max(0,d))),this._target[r]=this._fn(o,u,d)}wait(){const t=this._promises||(this._promises=[]);return new Promise((e,i)=>{t.push({res:e,rej:i})})}_notify(t){const e=t?"res":"rej",i=this._promises||[];for(let r=0;r<i.length;r++)i[r][e]()}}class iD{constructor(t,e){this._chart=t,this._properties=new Map,this.configure(e)}configure(t){if(!Jt(t))return;const e=Object.keys(Pe.animation),i=this._properties;Object.getOwnPropertyNames(t).forEach(r=>{const o=t[r];if(!Jt(o))return;const l={};for(const u of e)l[u]=o[u];(Qe(o.properties)&&o.properties||[r]).forEach(u=>{(u===r||!i.has(u))&&i.set(u,l)})})}_animateOptions(t,e){const i=e.options,r=ZU(t,i);if(!r)return[];const o=this._createAnimations(r,i);return i.$shared&&JU(t.options.$animations,i).then(()=>{t.options=i},()=>{}),o}_createAnimations(t,e){const i=this._properties,r=[],o=t.$animations||(t.$animations={}),l=Object.keys(e),u=Date.now();let d;for(d=l.length-1;d>=0;--d){const f=l[d];if(f.charAt(0)==="$")continue;if(f==="options"){r.push(...this._animateOptions(t,e));continue}const p=e[f];let y=o[f];const _=i.get(f);if(y)if(_&&y.active()){y.update(_,p,u);continue}else y.cancel();if(!_||!_.duration){t[f]=p;continue}o[f]=y=new XU(_,t,f,p),r.push(y)}return r}update(t,e){if(this._properties.size===0){Object.assign(t,e);return}const i=this._createAnimations(t,e);if(i.length)return Qs.add(this._chart,i),!0}}function JU(n,t){const e=[],i=Object.keys(t);for(let r=0;r<i.length;r++){const o=n[i[r]];o&&o.active()&&e.push(o.wait())}return Promise.all(e)}function ZU(n,t){if(!t)return;let e=n.options;if(!e){n.options=t;return}return e.$shared&&(n.options=e=Object.assign({},e,{$shared:!1,$animations:{}})),e}function Mw(n,t){const e=n&&n.options||{},i=e.reverse,r=e.min===void 0?t:0,o=e.max===void 0?t:0;return{start:i?o:r,end:i?r:o}}function t8(n,t,e){if(e===!1)return!1;const i=Mw(n,e),r=Mw(t,e);return{top:r.end,right:i.end,bottom:r.start,left:i.start}}function e8(n){let t,e,i,r;return Jt(n)?(t=n.top,e=n.right,i=n.bottom,r=n.left):t=e=i=r=n,{top:t,right:e,bottom:i,left:r,disabled:n===!1}}function sD(n,t){const e=[],i=n._getSortedDatasetMetas(t);let r,o;for(r=0,o=i.length;r<o;++r)e.push(i[r].index);return e}function Pw(n,t,e,i={}){const r=n.keys,o=i.mode==="single";let l,u,d,f;if(t===null)return;let p=!1;for(l=0,u=r.length;l<u;++l){if(d=+r[l],d===e){if(p=!0,i.all)continue;break}f=n.values[d],wn(f)&&(o||t===0||Ml(t)===Ml(f))&&(t+=f)}return!p&&!i.all?0:t}function n8(n,t){const{iScale:e,vScale:i}=t,r=e.axis==="x"?"x":"y",o=i.axis==="x"?"x":"y",l=Object.keys(n),u=new Array(l.length);let d,f,p;for(d=0,f=l.length;d<f;++d)p=l[d],u[d]={[r]:p,[o]:n[p]};return u}function Dy(n,t){const e=n&&n.options.stacked;return e||e===void 0&&t.stack!==void 0}function i8(n,t,e){return`${n.id}.${t.id}.${e.stack||e.type}`}function s8(n){const{min:t,max:e,minDefined:i,maxDefined:r}=n.getUserBounds();return{min:i?t:Number.NEGATIVE_INFINITY,max:r?e:Number.POSITIVE_INFINITY}}function r8(n,t,e){const i=n[t]||(n[t]={});return i[e]||(i[e]={})}function zw(n,t,e,i){for(const r of t.getMatchingVisibleMetas(i).reverse()){const o=n[r.index];if(e&&o>0||!e&&o<0)return r.index}return null}function Lw(n,t){const{chart:e,_cachedMeta:i}=n,r=e._stacks||(e._stacks={}),{iScale:o,vScale:l,index:u}=i,d=o.axis,f=l.axis,p=i8(o,l,i),y=t.length;let _;for(let v=0;v<y;++v){const S=t[v],{[d]:C,[f]:w}=S,O=S._stacks||(S._stacks={});_=O[f]=r8(r,p,C),_[u]=w,_._top=zw(_,l,!0,i.type),_._bottom=zw(_,l,!1,i.type);const L=_._visualValues||(_._visualValues={});L[u]=w}}function Ry(n,t){const e=n.scales;return Object.keys(e).filter(i=>e[i].axis===t).shift()}function a8(n,t){return xo(n,{active:!1,dataset:void 0,datasetIndex:t,index:t,mode:"default",type:"dataset"})}function o8(n,t,e){return xo(n,{active:!1,dataIndex:t,parsed:void 0,raw:void 0,element:e,index:t,mode:"default",type:"data"})}function nu(n,t){const e=n.controller.index,i=n.vScale&&n.vScale.axis;if(i){t=t||n._parsed;for(const r of t){const o=r._stacks;if(!o||o[i]===void 0||o[i][e]===void 0)return;delete o[i][e],o[i]._visualValues!==void 0&&o[i]._visualValues[e]!==void 0&&delete o[i]._visualValues[e]}}}const Ny=n=>n==="reset"||n==="none",Vw=(n,t)=>t?n:Object.assign({},n),l8=(n,t,e)=>n&&!t.hidden&&t._stacked&&{keys:sD(e,!0),values:null};class rD{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(t,e){this.chart=t,this._ctx=t.ctx,this.index=e,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const t=this._cachedMeta;this.configure(),this.linkScales(),t._stacked=Dy(t.vScale,t),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(t){this.index!==t&&nu(this._cachedMeta),this.index=t}linkScales(){const t=this.chart,e=this._cachedMeta,i=this.getDataset(),r=(y,_,v,S)=>y==="x"?_:y==="r"?S:v,o=e.xAxisID=Yt(i.xAxisID,Ry(t,"x")),l=e.yAxisID=Yt(i.yAxisID,Ry(t,"y")),u=e.rAxisID=Yt(i.rAxisID,Ry(t,"r")),d=e.indexAxis,f=e.iAxisID=r(d,o,l,u),p=e.vAxisID=r(d,l,o,u);e.xScale=this.getScaleForId(o),e.yScale=this.getScaleForId(l),e.rScale=this.getScaleForId(u),e.iScale=this.getScaleForId(f),e.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(t){return this.chart.scales[t]}_getOtherScale(t){const e=this._cachedMeta;return t===e.iScale?e.vScale:e.iScale}reset(){this._update("reset")}_destroy(){const t=this._cachedMeta;this._data&&_w(this._data,this),t._stacked&&nu(t)}_dataCheck(){const t=this.getDataset(),e=t.data||(t.data=[]),i=this._data;if(Jt(e)){const r=this._cachedMeta;this._data=n8(e,r)}else if(i!==e){if(i){_w(i,this);const r=this._cachedMeta;nu(r),r._parsed=[]}e&&Object.isExtensible(e)&&FB(e,this),this._syncList=[],this._data=e}}addElements(){const t=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(t.dataset=new this.datasetElementType)}buildOrUpdateElements(t){const e=this._cachedMeta,i=this.getDataset();let r=!1;this._dataCheck();const o=e._stacked;e._stacked=Dy(e.vScale,e),e.stack!==i.stack&&(r=!0,nu(e),e.stack=i.stack),this._resyncElements(t),(r||o!==e._stacked)&&(Lw(this,e._parsed),e._stacked=Dy(e.vScale,e))}configure(){const t=this.chart.config,e=t.datasetScopeKeys(this._type),i=t.getOptionScopes(this.getDataset(),e,!0);this.options=t.createResolver(i,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(t,e){const{_cachedMeta:i,_data:r}=this,{iScale:o,_stacked:l}=i,u=o.axis;let d=t===0&&e===r.length?!0:i._sorted,f=t>0&&i._parsed[t-1],p,y,_;if(this._parsing===!1)i._parsed=r,i._sorted=!0,_=r;else{Qe(r[t])?_=this.parseArrayData(i,r,t,e):Jt(r[t])?_=this.parseObjectData(i,r,t,e):_=this.parsePrimitiveData(i,r,t,e);const v=()=>y[u]===null||f&&y[u]<f[u];for(p=0;p<e;++p)i._parsed[p+t]=y=_[p],d&&(v()&&(d=!1),f=y);i._sorted=d}l&&Lw(this,_)}parsePrimitiveData(t,e,i,r){const{iScale:o,vScale:l}=t,u=o.axis,d=l.axis,f=o.getLabels(),p=o===l,y=new Array(r);let _,v,S;for(_=0,v=r;_<v;++_)S=_+i,y[_]={[u]:p||o.parse(f[S],S),[d]:l.parse(e[S],S)};return y}parseArrayData(t,e,i,r){const{xScale:o,yScale:l}=t,u=new Array(r);let d,f,p,y;for(d=0,f=r;d<f;++d)p=d+i,y=e[p],u[d]={x:o.parse(y[0],p),y:l.parse(y[1],p)};return u}parseObjectData(t,e,i,r){const{xScale:o,yScale:l}=t,{xAxisKey:u="x",yAxisKey:d="y"}=this._parsing,f=new Array(r);let p,y,_,v;for(p=0,y=r;p<y;++p)_=p+i,v=e[_],f[p]={x:o.parse(lg(v,u),_),y:l.parse(lg(v,d),_)};return f}getParsed(t){return this._cachedMeta._parsed[t]}getDataElement(t){return this._cachedMeta.data[t]}applyStack(t,e,i){const r=this.chart,o=this._cachedMeta,l=e[t.axis],u={keys:sD(r,!0),values:e._stacks[t.axis]._visualValues};return Pw(u,l,o.index,{mode:i})}updateRangeFromParsed(t,e,i,r){const o=i[e.axis];let l=o===null?NaN:o;const u=r&&i._stacks[e.axis];r&&u&&(r.values=u,l=Pw(r,o,this._cachedMeta.index)),t.min=Math.min(t.min,l),t.max=Math.max(t.max,l)}getMinMax(t,e){const i=this._cachedMeta,r=i._parsed,o=i._sorted&&t===i.iScale,l=r.length,u=this._getOtherScale(t),d=l8(e,i,this.chart),f={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:y}=s8(u);let _,v;function S(){v=r[_];const C=v[u.axis];return!wn(v[t.axis])||p>C||y<C}for(_=0;_<l&&!(!S()&&(this.updateRangeFromParsed(f,t,v,d),o));++_);if(o){for(_=l-1;_>=0;--_)if(!S()){this.updateRangeFromParsed(f,t,v,d);break}}return f}getAllParsedValues(t){const e=this._cachedMeta._parsed,i=[];let r,o,l;for(r=0,o=e.length;r<o;++r)l=e[r][t.axis],wn(l)&&i.push(l);return i}getMaxOverflow(){return!1}getLabelAndValue(t){const e=this._cachedMeta,i=e.iScale,r=e.vScale,o=this.getParsed(t);return{label:i?""+i.getLabelForValue(o[i.axis]):"",value:r?""+r.getLabelForValue(o[r.axis]):""}}_update(t){const e=this._cachedMeta;this.update(t||"default"),e._clip=e8(Yt(this.options.clip,t8(e.xScale,e.yScale,this.getMaxOverflow())))}update(t){}draw(){const t=this._ctx,e=this.chart,i=this._cachedMeta,r=i.data||[],o=e.chartArea,l=[],u=this._drawStart||0,d=this._drawCount||r.length-u,f=this.options.drawActiveElementsOnTop;let p;for(i.dataset&&i.dataset.draw(t,o,u,d),p=u;p<u+d;++p){const y=r[p];y.hidden||(y.active&&f?l.push(y):y.draw(t,o))}for(p=0;p<l.length;++p)l[p].draw(t,o)}getStyle(t,e){const i=e?"active":"default";return t===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(i):this.resolveDataElementOptions(t||0,i)}getContext(t,e,i){const r=this.getDataset();let o;if(t>=0&&t<this._cachedMeta.data.length){const l=this._cachedMeta.data[t];o=l.$context||(l.$context=o8(this.getContext(),t,l)),o.parsed=this.getParsed(t),o.raw=r.data[t],o.index=o.dataIndex=t}else o=this.$context||(this.$context=a8(this.chart.getContext(),this.index)),o.dataset=r,o.index=o.datasetIndex=this.index;return o.active=!!e,o.mode=i,o}resolveDatasetElementOptions(t){return this._resolveElementOptions(this.datasetElementType.id,t)}resolveDataElementOptions(t,e){return this._resolveElementOptions(this.dataElementType.id,e,t)}_resolveElementOptions(t,e="default",i){const r=e==="active",o=this._cachedDataOpts,l=t+"-"+e,u=o[l],d=this.enableOptionSharing&&cg(i);if(u)return Vw(u,d);const f=this.chart.config,p=f.datasetElementScopeKeys(this._type,t),y=r?[`${t}Hover`,"hover",t,""]:[t,""],_=f.getOptionScopes(this.getDataset(),p),v=Object.keys(Pe.elements[t]),S=()=>this.getContext(i,r,e),C=f.resolveNamedOptions(_,v,S,y);return C.$shared&&(C.$shared=d,o[l]=Object.freeze(Vw(C,d))),C}_resolveAnimations(t,e,i){const r=this.chart,o=this._cachedDataOpts,l=`animation-${e}`,u=o[l];if(u)return u;let d;if(r.options.animation!==!1){const p=this.chart.config,y=p.datasetAnimationScopeKeys(this._type,e),_=p.getOptionScopes(this.getDataset(),y);d=p.createResolver(_,this.getContext(t,i,e))}const f=new iD(r,d&&d.animations);return d&&d._cacheable&&(o[l]=Object.freeze(f)),f}getSharedOptions(t){if(t.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},t))}includeOptions(t,e){return!e||Ny(t)||this.chart._animationsDisabled}_getSharedOptions(t,e){const i=this.resolveDataElementOptions(t,e),r=this._sharedOptions,o=this.getSharedOptions(i),l=this.includeOptions(e,o)||o!==r;return this.updateSharedOptions(o,e,i),{sharedOptions:o,includeOptions:l}}updateElement(t,e,i,r){Ny(r)?Object.assign(t,i):this._resolveAnimations(e,r).update(t,i)}updateSharedOptions(t,e,i){t&&!Ny(e)&&this._resolveAnimations(void 0,e).update(t,i)}_setStyle(t,e,i,r){t.active=r;const o=this.getStyle(e,r);this._resolveAnimations(e,i,r).update(t,{options:!r&&this.getSharedOptions(o)||o})}removeHoverStyle(t,e,i){this._setStyle(t,i,"active",!1)}setHoverStyle(t,e,i){this._setStyle(t,i,"active",!0)}_removeDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!1)}_setDatasetHoverStyle(){const t=this._cachedMeta.dataset;t&&this._setStyle(t,void 0,"active",!0)}_resyncElements(t){const e=this._data,i=this._cachedMeta.data;for(const[u,d,f]of this._syncList)this[u](d,f);this._syncList=[];const r=i.length,o=e.length,l=Math.min(o,r);l&&this.parse(0,l),o>r?this._insertElements(r,o-r,t):o<r&&this._removeElements(o,r-o)}_insertElements(t,e,i=!0){const r=this._cachedMeta,o=r.data,l=t+e;let u;const d=f=>{for(f.length+=e,u=f.length-1;u>=l;u--)f[u]=f[u-e]};for(d(o),u=t;u<l;++u)o[u]=new this.dataElementType;this._parsing&&d(r._parsed),this.parse(t,e),i&&this.updateElements(o,t,e,"reset")}updateElements(t,e,i,r){}_removeElements(t,e){const i=this._cachedMeta;if(this._parsing){const r=i._parsed.splice(t,e);i._stacked&&nu(i,r)}i.data.splice(t,e)}_sync(t){if(this._parsing)this._syncList.push(t);else{const[e,i,r]=t;this[e](i,r)}this.chart._dataChanges.push([this.index,...t])}_onDataPush(){const t=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-t,t])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(t,e){e&&this._sync(["_removeElements",t,e]);const i=arguments.length-2;i&&this._sync(["_insertElements",t,i])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}class c8 extends rD{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(t){const e=this._cachedMeta,{dataset:i,data:r=[],_dataset:o}=e,l=this.chart._animationsDisabled;let{start:u,count:d}=$B(e,r,l);this._drawStart=u,this._drawCount=d,WB(e)&&(u=0,d=r.length),i._chart=this.chart,i._datasetIndex=this.index,i._decimated=!!o._decimated,i.points=r;const f=this.resolveDatasetElementOptions(t);this.options.showLine||(f.borderWidth=0),f.segment=this.options.segment,this.updateElement(i,void 0,{animated:!l,options:f},t),this.updateElements(r,u,d,t)}updateElements(t,e,i,r){const o=r==="reset",{iScale:l,vScale:u,_stacked:d,_dataset:f}=this._cachedMeta,{sharedOptions:p,includeOptions:y}=this._getSharedOptions(e,r),_=l.axis,v=u.axis,{spanGaps:S,segment:C}=this.options,w=Xu(S)?S:Number.POSITIVE_INFINITY,O=this.chart._animationsDisabled||o||r==="none",L=e+i,H=t.length;let q=e>0&&this.getParsed(e-1);for(let F=0;F<H;++F){const G=t[F],R=O?G:{};if(F<e||F>=L){R.skip=!0;continue}const I=this.getParsed(F),N=me(I[v]),z=R[_]=l.getPixelForValue(I[_],F),M=R[v]=o||N?u.getBasePixel():u.getPixelForValue(d?this.applyStack(u,I,d):I[v],F);R.skip=isNaN(z)||isNaN(M)||N,R.stop=F>0&&Math.abs(I[_]-q[_])>w,C&&(R.parsed=I,R.raw=f.data[F]),y&&(R.options=p||this.resolveDataElementOptions(F,G.active?"active":r)),O||this.updateElement(G,F,R,r),q=I}}getMaxOverflow(){const t=this._cachedMeta,e=t.dataset,i=e.options&&e.options.borderWidth||0,r=t.data||[];if(!r.length)return i;const o=r[0].size(this.resolveDataElementOptions(0)),l=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(i,o,l)/2}draw(){const t=this._cachedMeta;t.dataset.updateControlPoints(this.chart.chartArea,t.iScale.axis),super.draw()}}function Za(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class p_{static override(t){Object.assign(p_.prototype,t)}options;constructor(t){this.options=t||{}}init(){}formats(){return Za()}parse(){return Za()}format(){return Za()}add(){return Za()}diff(){return Za()}startOf(){return Za()}endOf(){return Za()}}var u8={_date:p_};function h8(n,t,e,i){const{controller:r,data:o,_sorted:l}=n,u=r._cachedMeta.iScale,d=n.dataset&&n.dataset.options?n.dataset.options.spanGaps:null;if(u&&t===u.axis&&t!=="r"&&l&&o.length){const f=u._reversePixels?BB:ao;if(i){if(r._sharedOptions){const p=o[0],y=typeof p.getRange=="function"&&p.getRange(t);if(y){const _=f(o,t,e-y),v=f(o,t,e+y);return{lo:_.lo,hi:v.hi}}}}else{const p=f(o,t,e);if(d){const{vScale:y}=r._cachedMeta,{_parsed:_}=n,v=_.slice(0,p.lo+1).reverse().findIndex(C=>!me(C[y.axis]));p.lo-=Math.max(0,v);const S=_.slice(p.hi).findIndex(C=>!me(C[y.axis]));p.hi+=Math.max(0,S)}return p}}return{lo:0,hi:o.length-1}}function $g(n,t,e,i,r){const o=n.getSortedVisibleDatasetMetas(),l=e[t];for(let u=0,d=o.length;u<d;++u){const{index:f,data:p}=o[u],{lo:y,hi:_}=h8(o[u],t,l,r);for(let v=y;v<=_;++v){const S=p[v];S.skip||i(S,f,v)}}}function d8(n){const t=n.indexOf("x")!==-1,e=n.indexOf("y")!==-1;return function(i,r){const o=t?Math.abs(i.x-r.x):0,l=e?Math.abs(i.y-r.y):0;return Math.sqrt(Math.pow(o,2)+Math.pow(l,2))}}function ky(n,t,e,i,r){const o=[];return!r&&!n.isPointInArea(t)||$g(n,e,t,function(u,d,f){!r&&!Ju(u,n.chartArea,0)||u.inRange(t.x,t.y,i)&&o.push({element:u,datasetIndex:d,index:f})},!0),o}function f8(n,t,e,i){let r=[];function o(l,u,d){const{startAngle:f,endAngle:p}=l.getProps(["startAngle","endAngle"],i),{angle:y}=LB(l,{x:t.x,y:t.y});V2(y,f,p)&&r.push({element:l,datasetIndex:u,index:d})}return $g(n,e,t,o),r}function g8(n,t,e,i,r,o){let l=[];const u=d8(e);let d=Number.POSITIVE_INFINITY;function f(p,y,_){const v=p.inRange(t.x,t.y,r);if(i&&!v)return;const S=p.getCenterPoint(r);if(!(!!o||n.isPointInArea(S))&&!v)return;const w=u(t,S);w<d?(l=[{element:p,datasetIndex:y,index:_}],d=w):w===d&&l.push({element:p,datasetIndex:y,index:_})}return $g(n,e,t,f),l}function Oy(n,t,e,i,r,o){return!o&&!n.isPointInArea(t)?[]:e==="r"&&!i?f8(n,t,e,r):g8(n,t,e,i,r,o)}function jw(n,t,e,i,r){const o=[],l=e==="x"?"inXRange":"inYRange";let u=!1;return $g(n,e,t,(d,f,p)=>{d[l]&&d[l](t[e],r)&&(o.push({element:d,datasetIndex:f,index:p}),u=u||d.inRange(t.x,t.y,r))}),i&&!u?[]:o}var p8={modes:{index(n,t,e,i){const r=no(t,n),o=e.axis||"x",l=e.includeInvisible||!1,u=e.intersect?ky(n,r,o,i,l):Oy(n,r,o,!1,i,l),d=[];return u.length?(n.getSortedVisibleDatasetMetas().forEach(f=>{const p=u[0].index,y=f.data[p];y&&!y.skip&&d.push({element:y,datasetIndex:f.index,index:p})}),d):[]},dataset(n,t,e,i){const r=no(t,n),o=e.axis||"xy",l=e.includeInvisible||!1;let u=e.intersect?ky(n,r,o,i,l):Oy(n,r,o,!1,i,l);if(u.length>0){const d=u[0].datasetIndex,f=n.getDatasetMeta(d).data;u=[];for(let p=0;p<f.length;++p)u.push({element:f[p],datasetIndex:d,index:p})}return u},point(n,t,e,i){const r=no(t,n),o=e.axis||"xy",l=e.includeInvisible||!1;return ky(n,r,o,i,l)},nearest(n,t,e,i){const r=no(t,n),o=e.axis||"xy",l=e.includeInvisible||!1;return Oy(n,r,o,e.intersect,i,l)},x(n,t,e,i){const r=no(t,n);return jw(n,r,"x",e.intersect,i)},y(n,t,e,i){const r=no(t,n);return jw(n,r,"y",e.intersect,i)}}};const aD=["left","top","right","bottom"];function iu(n,t){return n.filter(e=>e.pos===t)}function Bw(n,t){return n.filter(e=>aD.indexOf(e.pos)===-1&&e.box.axis===t)}function su(n,t){return n.sort((e,i)=>{const r=t?i:e,o=t?e:i;return r.weight===o.weight?r.index-o.index:r.weight-o.weight})}function m8(n){const t=[];let e,i,r,o,l,u;for(e=0,i=(n||[]).length;e<i;++e)r=n[e],{position:o,options:{stack:l,stackWeight:u=1}}=r,t.push({index:e,box:r,pos:o,horizontal:r.isHorizontal(),weight:r.weight,stack:l&&o+l,stackWeight:u});return t}function y8(n){const t={};for(const e of n){const{stack:i,pos:r,stackWeight:o}=e;if(!i||!aD.includes(r))continue;const l=t[i]||(t[i]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=o}return t}function b8(n,t){const e=y8(n),{vBoxMaxWidth:i,hBoxMaxHeight:r}=t;let o,l,u;for(o=0,l=n.length;o<l;++o){u=n[o];const{fullSize:d}=u.box,f=e[u.stack],p=f&&u.stackWeight/f.weight;u.horizontal?(u.width=p?p*i:d&&t.availableWidth,u.height=r):(u.width=i,u.height=p?p*r:d&&t.availableHeight)}return e}function _8(n){const t=m8(n),e=su(t.filter(f=>f.box.fullSize),!0),i=su(iu(t,"left"),!0),r=su(iu(t,"right")),o=su(iu(t,"top"),!0),l=su(iu(t,"bottom")),u=Bw(t,"x"),d=Bw(t,"y");return{fullSize:e,leftAndTop:i.concat(o),rightAndBottom:r.concat(d).concat(l).concat(u),chartArea:iu(t,"chartArea"),vertical:i.concat(r).concat(d),horizontal:o.concat(l).concat(u)}}function Uw(n,t,e,i){return Math.max(n[e],t[e])+Math.max(n[i],t[i])}function oD(n,t){n.top=Math.max(n.top,t.top),n.left=Math.max(n.left,t.left),n.bottom=Math.max(n.bottom,t.bottom),n.right=Math.max(n.right,t.right)}function v8(n,t,e,i){const{pos:r,box:o}=e,l=n.maxPadding;if(!Jt(r)){e.size&&(n[r]-=e.size);const y=i[e.stack]||{size:0,count:1};y.size=Math.max(y.size,e.horizontal?o.height:o.width),e.size=y.size/y.count,n[r]+=e.size}o.getPadding&&oD(l,o.getPadding());const u=Math.max(0,t.outerWidth-Uw(l,n,"left","right")),d=Math.max(0,t.outerHeight-Uw(l,n,"top","bottom")),f=u!==n.w,p=d!==n.h;return n.w=u,n.h=d,e.horizontal?{same:f,other:p}:{same:p,other:f}}function x8(n){const t=n.maxPadding;function e(i){const r=Math.max(t[i]-n[i],0);return n[i]+=r,r}n.y+=e("top"),n.x+=e("left"),e("right"),e("bottom")}function E8(n,t){const e=t.maxPadding;function i(r){const o={left:0,top:0,right:0,bottom:0};return r.forEach(l=>{o[l]=Math.max(t[l],e[l])}),o}return i(n?["left","right"]:["top","bottom"])}function gu(n,t,e,i){const r=[];let o,l,u,d,f,p;for(o=0,l=n.length,f=0;o<l;++o){u=n[o],d=u.box,d.update(u.width||t.w,u.height||t.h,E8(u.horizontal,t));const{same:y,other:_}=v8(t,e,u,i);f|=y&&r.length,p=p||_,d.fullSize||r.push(u)}return f&&gu(r,t,e,i)||p}function hf(n,t,e,i,r){n.top=e,n.left=t,n.right=t+i,n.bottom=e+r,n.width=i,n.height=r}function Fw(n,t,e,i){const r=e.padding;let{x:o,y:l}=t;for(const u of n){const d=u.box,f=i[u.stack]||{placed:0,weight:1},p=u.stackWeight/f.weight||1;if(u.horizontal){const y=t.w*p,_=f.size||d.height;cg(f.start)&&(l=f.start),d.fullSize?hf(d,r.left,l,e.outerWidth-r.right-r.left,_):hf(d,t.left+f.placed,l,y,_),f.start=l,f.placed+=y,l=d.bottom}else{const y=t.h*p,_=f.size||d.width;cg(f.start)&&(o=f.start),d.fullSize?hf(d,o,r.top,_,e.outerHeight-r.bottom-r.top):hf(d,o,t.top+f.placed,_,y),f.start=o,f.placed+=y,o=d.right}}t.x=o,t.y=l}var Ai={addBox(n,t){n.boxes||(n.boxes=[]),t.fullSize=t.fullSize||!1,t.position=t.position||"top",t.weight=t.weight||0,t._layers=t._layers||function(){return[{z:0,draw(e){t.draw(e)}}]},n.boxes.push(t)},removeBox(n,t){const e=n.boxes?n.boxes.indexOf(t):-1;e!==-1&&n.boxes.splice(e,1)},configure(n,t,e){t.fullSize=e.fullSize,t.position=e.position,t.weight=e.weight},update(n,t,e,i){if(!n)return;const r=Ii(n.options.layout.padding),o=Math.max(t-r.width,0),l=Math.max(e-r.height,0),u=_8(n.boxes),d=u.vertical,f=u.horizontal;le(n.boxes,C=>{typeof C.beforeLayout=="function"&&C.beforeLayout()});const p=d.reduce((C,w)=>w.box.options&&w.box.options.display===!1?C:C+1,0)||1,y=Object.freeze({outerWidth:t,outerHeight:e,padding:r,availableWidth:o,availableHeight:l,vBoxMaxWidth:o/2/p,hBoxMaxHeight:l/2}),_=Object.assign({},r);oD(_,Ii(i));const v=Object.assign({maxPadding:_,w:o,h:l,x:r.left,y:r.top},r),S=b8(d.concat(f),y);gu(u.fullSize,v,y,S),gu(d,v,y,S),gu(f,v,y,S)&&gu(d,v,y,S),x8(v),Fw(u.leftAndTop,v,y,S),v.x+=v.w,v.y+=v.h,Fw(u.rightAndBottom,v,y,S),n.chartArea={left:v.left,top:v.top,right:v.left+v.w,bottom:v.top+v.h,height:v.h,width:v.w},le(u.chartArea,C=>{const w=C.box;Object.assign(w,n.chartArea),w.update(v.w,v.h,{left:0,top:0,right:0,bottom:0})})}};class lD{acquireContext(t,e){}releaseContext(t){return!1}addEventListener(t,e,i){}removeEventListener(t,e,i){}getDevicePixelRatio(){return 1}getMaximumSize(t,e,i,r){return e=Math.max(0,e||t.width),i=i||t.height,{width:e,height:Math.max(0,r?Math.floor(e/r):i)}}isAttached(t){return!0}updateConfig(t){}}class T8 extends lD{acquireContext(t){return t&&t.getContext&&t.getContext("2d")||null}updateConfig(t){t.options.animation=!1}}const Df="$chartjs",S8={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},Hw=n=>n===null||n==="";function w8(n,t){const e=n.style,i=n.getAttribute("height"),r=n.getAttribute("width");if(n[Df]={initial:{height:i,width:r,style:{display:e.display,height:e.height,width:e.width}}},e.display=e.display||"block",e.boxSizing=e.boxSizing||"border-box",Hw(r)){const o=Dw(n,"width");o!==void 0&&(n.width=o)}if(Hw(i))if(n.style.height==="")n.height=n.width/(t||2);else{const o=Dw(n,"height");o!==void 0&&(n.height=o)}return n}const cD=LU?{passive:!0}:!1;function A8(n,t,e){n&&n.addEventListener(t,e,cD)}function C8(n,t,e){n&&n.canvas&&n.canvas.removeEventListener(t,e,cD)}function I8(n,t){const e=S8[n.type]||n.type,{x:i,y:r}=no(n,t);return{type:e,chart:t,native:n,x:i!==void 0?i:null,y:r!==void 0?r:null}}function dg(n,t){for(const e of n)if(e===t||e.contains(t))return!0}function D8(n,t,e){const i=n.canvas,r=new MutationObserver(o=>{let l=!1;for(const u of o)l=l||dg(u.addedNodes,i),l=l&&!dg(u.removedNodes,i);l&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}function R8(n,t,e){const i=n.canvas,r=new MutationObserver(o=>{let l=!1;for(const u of o)l=l||dg(u.removedNodes,i),l=l&&!dg(u.addedNodes,i);l&&e()});return r.observe(document,{childList:!0,subtree:!0}),r}const th=new Map;let qw=0;function uD(){const n=window.devicePixelRatio;n!==qw&&(qw=n,th.forEach((t,e)=>{e.currentDevicePixelRatio!==n&&t()}))}function N8(n,t){th.size||window.addEventListener("resize",uD),th.set(n,t)}function k8(n){th.delete(n),th.size||window.removeEventListener("resize",uD)}function O8(n,t,e){const i=n.canvas,r=i&&g_(i);if(!r)return;const o=U2((u,d)=>{const f=r.clientWidth;e(u,d),f<r.clientWidth&&e()},window),l=new ResizeObserver(u=>{const d=u[0],f=d.contentRect.width,p=d.contentRect.height;f===0&&p===0||o(f,p)});return l.observe(r),N8(n,o),l}function My(n,t,e){e&&e.disconnect(),t==="resize"&&k8(n)}function M8(n,t,e){const i=n.canvas,r=U2(o=>{n.ctx!==null&&e(I8(o,n))},n);return A8(i,t,r),r}class P8 extends lD{acquireContext(t,e){const i=t&&t.getContext&&t.getContext("2d");return i&&i.canvas===t?(w8(t,e),i):null}releaseContext(t){const e=t.canvas;if(!e[Df])return!1;const i=e[Df].initial;["height","width"].forEach(o=>{const l=i[o];me(l)?e.removeAttribute(o):e.setAttribute(o,l)});const r=i.style||{};return Object.keys(r).forEach(o=>{e.style[o]=r[o]}),e.width=e.width,delete e[Df],!0}addEventListener(t,e,i){this.removeEventListener(t,e);const r=t.$proxies||(t.$proxies={}),l={attach:D8,detach:R8,resize:O8}[e]||M8;r[e]=l(t,e,i)}removeEventListener(t,e){const i=t.$proxies||(t.$proxies={}),r=i[e];if(!r)return;({attach:My,detach:My,resize:My}[e]||C8)(t,e,r),i[e]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(t,e,i,r){return zU(t,e,i,r)}isAttached(t){const e=t&&g_(t);return!!(e&&e.isConnected)}}function z8(n){return!f_()||typeof OffscreenCanvas<"u"&&n instanceof OffscreenCanvas?T8:P8}let Eo=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}hasValue(){return Xu(this.x)&&Xu(this.y)}getProps(t,e){const i=this.$animations;if(!e||!i)return this;const r={};return t.forEach(o=>{r[o]=i[o]&&i[o].active()?i[o]._to:this[o]}),r}};function L8(n,t){const e=n.options.ticks,i=V8(n),r=Math.min(e.maxTicksLimit||i,i),o=e.major.enabled?B8(t):[],l=o.length,u=o[0],d=o[l-1],f=[];if(l>r)return U8(t,f,o,l/r),f;const p=j8(o,t,r);if(l>0){let y,_;const v=l>1?Math.round((d-u)/(l-1)):null;for(df(t,f,p,me(v)?0:u-v,u),y=0,_=l-1;y<_;y++)df(t,f,p,o[y],o[y+1]);return df(t,f,p,d,me(v)?t.length:d+v),f}return df(t,f,p),f}function V8(n){const t=n.options.offset,e=n._tickSize(),i=n._length/e+(t?0:1),r=n._maxLength/e;return Math.floor(Math.min(i,r))}function j8(n,t,e){const i=F8(n),r=t.length/e;if(!i)return Math.max(r,1);const o=kB(i);for(let l=0,u=o.length-1;l<u;l++){const d=o[l];if(d>r)return d}return Math.max(r,1)}function B8(n){const t=[];let e,i;for(e=0,i=n.length;e<i;e++)n[e].major&&t.push(e);return t}function U8(n,t,e,i){let r=0,o=e[0],l;for(i=Math.ceil(i),l=0;l<n.length;l++)l===o&&(t.push(n[l]),r++,o=e[r*i])}function df(n,t,e,i,r){const o=Yt(i,0),l=Math.min(Yt(r,n.length),n.length);let u=0,d,f,p;for(e=Math.ceil(e),r&&(d=r-i,e=d/Math.floor(d/e)),p=o;p<0;)u++,p=Math.round(o+u*e);for(f=Math.max(o,0);f<l;f++)f===p&&(t.push(n[f]),u++,p=Math.round(o+u*e))}function F8(n){const t=n.length;let e,i;if(t<2)return!1;for(i=n[0],e=1;e<t;++e)if(n[e]-n[e-1]!==i)return!1;return i}const H8=n=>n==="left"?"right":n==="right"?"left":n,Gw=(n,t,e)=>t==="top"||t==="left"?n[t]+e:n[t]-e,$w=(n,t)=>Math.min(t||n,n);function Ww(n,t){const e=[],i=n.length/t,r=n.length;let o=0;for(;o<r;o+=i)e.push(n[Math.floor(o)]);return e}function q8(n,t,e){const i=n.ticks.length,r=Math.min(t,i-1),o=n._startPixel,l=n._endPixel,u=1e-6;let d=n.getPixelForTick(r),f;if(!(e&&(i===1?f=Math.max(d-o,l-d):t===0?f=(n.getPixelForTick(1)-d)/2:f=(d-n.getPixelForTick(r-1))/2,d+=r<t?f:-f,d<o-u||d>l+u)))return d}function G8(n,t){le(n,e=>{const i=e.gc,r=i.length/2;let o;if(r>t){for(o=0;o<r;++o)delete e.data[i[o]];i.splice(0,r)}})}function ru(n){return n.drawTicks?n.tickLength:0}function Yw(n,t){if(!n.display)return 0;const e=Tn(n.font,t),i=Ii(n.padding);return(Qe(n.text)?n.text.length:1)*e.lineHeight+i.height}function $8(n,t){return xo(n,{scale:t,type:"scale"})}function W8(n,t,e){return xo(n,{tick:e,index:t,type:"tick"})}function Y8(n,t,e){let i=l_(n);return(e&&t!=="right"||!e&&t==="right")&&(i=H8(i)),i}function K8(n,t,e,i){const{top:r,left:o,bottom:l,right:u,chart:d}=n,{chartArea:f,scales:p}=d;let y=0,_,v,S;const C=l-r,w=u-o;if(n.isHorizontal()){if(v=vn(i,o,u),Jt(e)){const O=Object.keys(e)[0],L=e[O];S=p[O].getPixelForValue(L)+C-t}else e==="center"?S=(f.bottom+f.top)/2+C-t:S=Gw(n,e,t);_=u-o}else{if(Jt(e)){const O=Object.keys(e)[0],L=e[O];v=p[O].getPixelForValue(L)-w+t}else e==="center"?v=(f.left+f.right)/2-w+t:v=Gw(n,e,t);S=vn(i,l,r),y=e==="left"?-Gi:Gi}return{titleX:v,titleY:S,maxWidth:_,rotation:y}}class Yl extends Eo{constructor(t){super(),this.id=t.id,this.type=t.type,this.options=void 0,this.ctx=t.ctx,this.chart=t.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(t){this.options=t.setContext(this.getContext()),this.axis=t.axis,this._userMin=this.parse(t.min),this._userMax=this.parse(t.max),this._suggestedMin=this.parse(t.suggestedMin),this._suggestedMax=this.parse(t.suggestedMax)}parse(t,e){return t}getUserBounds(){let{_userMin:t,_userMax:e,_suggestedMin:i,_suggestedMax:r}=this;return t=ms(t,Number.POSITIVE_INFINITY),e=ms(e,Number.NEGATIVE_INFINITY),i=ms(i,Number.POSITIVE_INFINITY),r=ms(r,Number.NEGATIVE_INFINITY),{min:ms(t,i),max:ms(e,r),minDefined:wn(t),maxDefined:wn(e)}}getMinMax(t){let{min:e,max:i,minDefined:r,maxDefined:o}=this.getUserBounds(),l;if(r&&o)return{min:e,max:i};const u=this.getMatchingVisibleMetas();for(let d=0,f=u.length;d<f;++d)l=u[d].controller.getMinMax(this,t),r||(e=Math.min(e,l.min)),o||(i=Math.max(i,l.max));return e=o&&e>i?i:e,i=r&&e>i?e:i,{min:ms(e,ms(i,e)),max:ms(i,ms(e,i))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const t=this.chart.data;return this.options.labels||(this.isHorizontal()?t.xLabels:t.yLabels)||t.labels||[]}getLabelItems(t=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(t))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){_e(this.options.beforeUpdate,[this])}update(t,e,i){const{beginAtZero:r,grace:o,ticks:l}=this.options,u=l.sampleSize;this.beforeUpdate(),this.maxWidth=t,this.maxHeight=e,this._margins=i=Object.assign({left:0,right:0,top:0,bottom:0},i),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+i.left+i.right:this.height+i.top+i.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=gU(this,o,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const d=u<this.ticks.length;this._convertTicksToLabels(d?Ww(this.ticks,u):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=L8(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),d&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let t=this.options.reverse,e,i;this.isHorizontal()?(e=this.left,i=this.right):(e=this.top,i=this.bottom,t=!t),this._startPixel=e,this._endPixel=i,this._reversePixels=t,this._length=i-e,this._alignToPixels=this.options.alignToPixels}afterUpdate(){_e(this.options.afterUpdate,[this])}beforeSetDimensions(){_e(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){_e(this.options.afterSetDimensions,[this])}_callHooks(t){this.chart.notifyPlugins(t,this.getContext()),_e(this.options[t],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){_e(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(t){const e=this.options.ticks;let i,r,o;for(i=0,r=t.length;i<r;i++)o=t[i],o.label=_e(e.callback,[o.value,i,t],this)}afterTickToLabelConversion(){_e(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){_e(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const t=this.options,e=t.ticks,i=$w(this.ticks.length,t.ticks.maxTicksLimit),r=e.minRotation||0,o=e.maxRotation;let l=r,u,d,f;if(!this._isVisible()||!e.display||r>=o||i<=1||!this.isHorizontal()){this.labelRotation=r;return}const p=this._getLabelSizes(),y=p.widest.width,_=p.highest.height,v=wi(this.chart.width-y,0,this.maxWidth);u=t.offset?this.maxWidth/i:v/(i-1),y+6>u&&(u=v/(i-(t.offset?.5:1)),d=this.maxHeight-ru(t.grid)-e.padding-Yw(t.title,this.chart.options.font),f=Math.sqrt(y*y+_*_),l=zB(Math.min(Math.asin(wi((p.highest.height+6)/u,-1,1)),Math.asin(wi(d/f,-1,1))-Math.asin(wi(_/f,-1,1)))),l=Math.max(r,Math.min(o,l))),this.labelRotation=l}afterCalculateLabelRotation(){_e(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){_e(this.options.beforeFit,[this])}fit(){const t={width:0,height:0},{chart:e,options:{ticks:i,title:r,grid:o}}=this,l=this._isVisible(),u=this.isHorizontal();if(l){const d=Yw(r,e.options.font);if(u?(t.width=this.maxWidth,t.height=ru(o)+d):(t.height=this.maxHeight,t.width=ru(o)+d),i.display&&this.ticks.length){const{first:f,last:p,widest:y,highest:_}=this._getLabelSizes(),v=i.padding*2,S=ro(this.labelRotation),C=Math.cos(S),w=Math.sin(S);if(u){const O=i.mirror?0:w*y.width+C*_.height;t.height=Math.min(this.maxHeight,t.height+O+v)}else{const O=i.mirror?0:C*y.width+w*_.height;t.width=Math.min(this.maxWidth,t.width+O+v)}this._calculatePadding(f,p,w,C)}}this._handleMargins(),u?(this.width=this._length=e.width-this._margins.left-this._margins.right,this.height=t.height):(this.width=t.width,this.height=this._length=e.height-this._margins.top-this._margins.bottom)}_calculatePadding(t,e,i,r){const{ticks:{align:o,padding:l},position:u}=this.options,d=this.labelRotation!==0,f=u!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,y=this.right-this.getPixelForTick(this.ticks.length-1);let _=0,v=0;d?f?(_=r*t.width,v=i*e.height):(_=i*t.height,v=r*e.width):o==="start"?v=e.width:o==="end"?_=t.width:o!=="inner"&&(_=t.width/2,v=e.width/2),this.paddingLeft=Math.max((_-p+l)*this.width/(this.width-p),0),this.paddingRight=Math.max((v-y+l)*this.width/(this.width-y),0)}else{let p=e.height/2,y=t.height/2;o==="start"?(p=0,y=t.height):o==="end"&&(p=e.height,y=0),this.paddingTop=p+l,this.paddingBottom=y+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){_e(this.options.afterFit,[this])}isHorizontal(){const{axis:t,position:e}=this.options;return e==="top"||e==="bottom"||t==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(t){this.beforeTickToLabelConversion(),this.generateTickLabels(t);let e,i;for(e=0,i=t.length;e<i;e++)me(t[e].label)&&(t.splice(e,1),i--,e--);this.afterTickToLabelConversion()}_getLabelSizes(){let t=this._labelSizes;if(!t){const e=this.options.ticks.sampleSize;let i=this.ticks;e<i.length&&(i=Ww(i,e)),this._labelSizes=t=this._computeLabelSizes(i,i.length,this.options.ticks.maxTicksLimit)}return t}_computeLabelSizes(t,e,i){const{ctx:r,_longestTextCache:o}=this,l=[],u=[],d=Math.floor(e/$w(e,i));let f=0,p=0,y,_,v,S,C,w,O,L,H,q,F;for(y=0;y<e;y+=d){if(S=t[y].label,C=this._resolveTickFontOptions(y),r.font=w=C.string,O=o[w]=o[w]||{data:{},gc:[]},L=C.lineHeight,H=q=0,!me(S)&&!Qe(S))H=Sw(r,O.data,O.gc,H,S),q=L;else if(Qe(S))for(_=0,v=S.length;_<v;++_)F=S[_],!me(F)&&!Qe(F)&&(H=Sw(r,O.data,O.gc,H,F),q+=L);l.push(H),u.push(q),f=Math.max(H,f),p=Math.max(q,p)}G8(o,e);const G=l.indexOf(f),R=u.indexOf(p),I=N=>({width:l[N]||0,height:u[N]||0});return{first:I(0),last:I(e-1),widest:I(G),highest:I(R),widths:l,heights:u}}getLabelForValue(t){return t}getPixelForValue(t,e){return NaN}getValueForPixel(t){}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getPixelForDecimal(t){this._reversePixels&&(t=1-t);const e=this._startPixel+t*this._length;return jB(this._alignToPixels?Ja(this.chart,e,0):e)}getDecimalForPixel(t){const e=(t-this._startPixel)/this._length;return this._reversePixels?1-e:e}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:t,max:e}=this;return t<0&&e<0?e:t>0&&e>0?t:0}getContext(t){const e=this.ticks||[];if(t>=0&&t<e.length){const i=e[t];return i.$context||(i.$context=W8(this.getContext(),t,i))}return this.$context||(this.$context=$8(this.chart.getContext(),this))}_tickSize(){const t=this.options.ticks,e=ro(this.labelRotation),i=Math.abs(Math.cos(e)),r=Math.abs(Math.sin(e)),o=this._getLabelSizes(),l=t.autoSkipPadding||0,u=o?o.widest.width+l:0,d=o?o.highest.height+l:0;return this.isHorizontal()?d*i>u*r?u/i:d/r:d*r<u*i?d/i:u/r}_isVisible(){const t=this.options.display;return t!=="auto"?!!t:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(t){const e=this.axis,i=this.chart,r=this.options,{grid:o,position:l,border:u}=r,d=o.offset,f=this.isHorizontal(),y=this.ticks.length+(d?1:0),_=ru(o),v=[],S=u.setContext(this.getContext()),C=S.display?S.width:0,w=C/2,O=function(X){return Ja(i,X,C)};let L,H,q,F,G,R,I,N,z,M,V,P;if(l==="top")L=O(this.bottom),R=this.bottom-_,N=L-w,M=O(t.top)+w,P=t.bottom;else if(l==="bottom")L=O(this.top),M=t.top,P=O(t.bottom)-w,R=L+w,N=this.top+_;else if(l==="left")L=O(this.right),G=this.right-_,I=L-w,z=O(t.left)+w,V=t.right;else if(l==="right")L=O(this.left),z=t.left,V=O(t.right)-w,G=L+w,I=this.left+_;else if(e==="x"){if(l==="center")L=O((t.top+t.bottom)/2+.5);else if(Jt(l)){const X=Object.keys(l)[0],ot=l[X];L=O(this.chart.scales[X].getPixelForValue(ot))}M=t.top,P=t.bottom,R=L+w,N=R+_}else if(e==="y"){if(l==="center")L=O((t.left+t.right)/2);else if(Jt(l)){const X=Object.keys(l)[0],ot=l[X];L=O(this.chart.scales[X].getPixelForValue(ot))}G=L-w,I=G-_,z=t.left,V=t.right}const Dt=Yt(r.ticks.maxTicksLimit,y),vt=Math.max(1,Math.ceil(y/Dt));for(H=0;H<y;H+=vt){const X=this.getContext(H),ot=o.setContext(X),pt=u.setContext(X),At=ot.lineWidth,Rt=ot.color,B=pt.dash||[],et=pt.dashOffset,ct=ot.tickWidth,ut=ot.tickColor,bt=ot.tickBorderDash||[],xt=ot.tickBorderDashOffset;q=q8(this,H,d),q!==void 0&&(F=Ja(i,q,At),f?G=I=z=V=F:R=N=M=P=F,v.push({tx1:G,ty1:R,tx2:I,ty2:N,x1:z,y1:M,x2:V,y2:P,width:At,color:Rt,borderDash:B,borderDashOffset:et,tickWidth:ct,tickColor:ut,tickBorderDash:bt,tickBorderDashOffset:xt}))}return this._ticksLength=y,this._borderValue=L,v}_computeLabelItems(t){const e=this.axis,i=this.options,{position:r,ticks:o}=i,l=this.isHorizontal(),u=this.ticks,{align:d,crossAlign:f,padding:p,mirror:y}=o,_=ru(i.grid),v=_+p,S=y?-p:v,C=-ro(this.labelRotation),w=[];let O,L,H,q,F,G,R,I,N,z,M,V,P="middle";if(r==="top")G=this.bottom-S,R=this._getXAxisLabelAlignment();else if(r==="bottom")G=this.top+S,R=this._getXAxisLabelAlignment();else if(r==="left"){const vt=this._getYAxisLabelAlignment(_);R=vt.textAlign,F=vt.x}else if(r==="right"){const vt=this._getYAxisLabelAlignment(_);R=vt.textAlign,F=vt.x}else if(e==="x"){if(r==="center")G=(t.top+t.bottom)/2+v;else if(Jt(r)){const vt=Object.keys(r)[0],X=r[vt];G=this.chart.scales[vt].getPixelForValue(X)+v}R=this._getXAxisLabelAlignment()}else if(e==="y"){if(r==="center")F=(t.left+t.right)/2-v;else if(Jt(r)){const vt=Object.keys(r)[0],X=r[vt];F=this.chart.scales[vt].getPixelForValue(X)}R=this._getYAxisLabelAlignment(_).textAlign}e==="y"&&(d==="start"?P="top":d==="end"&&(P="bottom"));const Dt=this._getLabelSizes();for(O=0,L=u.length;O<L;++O){H=u[O],q=H.label;const vt=o.setContext(this.getContext(O));I=this.getPixelForTick(O)+o.labelOffset,N=this._resolveTickFontOptions(O),z=N.lineHeight,M=Qe(q)?q.length:1;const X=M/2,ot=vt.color,pt=vt.textStrokeColor,At=vt.textStrokeWidth;let Rt=R;l?(F=I,R==="inner"&&(O===L-1?Rt=this.options.reverse?"left":"right":O===0?Rt=this.options.reverse?"right":"left":Rt="center"),r==="top"?f==="near"||C!==0?V=-M*z+z/2:f==="center"?V=-Dt.highest.height/2-X*z+z:V=-Dt.highest.height+z/2:f==="near"||C!==0?V=z/2:f==="center"?V=Dt.highest.height/2-X*z:V=Dt.highest.height-M*z,y&&(V*=-1),C!==0&&!vt.showLabelBackdrop&&(F+=z/2*Math.sin(C))):(G=I,V=(1-M)*z/2);let B;if(vt.showLabelBackdrop){const et=Ii(vt.backdropPadding),ct=Dt.heights[O],ut=Dt.widths[O];let bt=V-et.top,xt=0-et.left;switch(P){case"middle":bt-=ct/2;break;case"bottom":bt-=ct;break}switch(R){case"center":xt-=ut/2;break;case"right":xt-=ut;break;case"inner":O===L-1?xt-=ut:O>0&&(xt-=ut/2);break}B={left:xt,top:bt,width:ut+et.width,height:ct+et.height,color:vt.backdropColor}}w.push({label:q,font:N,textOffset:V,options:{rotation:C,color:ot,strokeColor:pt,strokeWidth:At,textAlign:Rt,textBaseline:P,translation:[F,G],backdrop:B}})}return w}_getXAxisLabelAlignment(){const{position:t,ticks:e}=this.options;if(-ro(this.labelRotation))return t==="top"?"left":"right";let r="center";return e.align==="start"?r="left":e.align==="end"?r="right":e.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(t){const{position:e,ticks:{crossAlign:i,mirror:r,padding:o}}=this.options,l=this._getLabelSizes(),u=t+o,d=l.widest.width;let f,p;return e==="left"?r?(p=this.right+o,i==="near"?f="left":i==="center"?(f="center",p+=d/2):(f="right",p+=d)):(p=this.right-u,i==="near"?f="right":i==="center"?(f="center",p-=d/2):(f="left",p=this.left)):e==="right"?r?(p=this.left+o,i==="near"?f="right":i==="center"?(f="center",p-=d/2):(f="left",p-=d)):(p=this.left+u,i==="near"?f="left":i==="center"?(f="center",p+=d/2):(f="right",p=this.right)):f="right",{textAlign:f,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const t=this.chart,e=this.options.position;if(e==="left"||e==="right")return{top:0,left:this.left,bottom:t.height,right:this.right};if(e==="top"||e==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:t.width}}drawBackground(){const{ctx:t,options:{backgroundColor:e},left:i,top:r,width:o,height:l}=this;e&&(t.save(),t.fillStyle=e,t.fillRect(i,r,o,l),t.restore())}getLineWidthForValue(t){const e=this.options.grid;if(!this._isVisible()||!e.display)return 0;const r=this.ticks.findIndex(o=>o.value===t);return r>=0?e.setContext(this.getContext(r)).lineWidth:0}drawGrid(t){const e=this.options.grid,i=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(t));let o,l;const u=(d,f,p)=>{!p.width||!p.color||(i.save(),i.lineWidth=p.width,i.strokeStyle=p.color,i.setLineDash(p.borderDash||[]),i.lineDashOffset=p.borderDashOffset,i.beginPath(),i.moveTo(d.x,d.y),i.lineTo(f.x,f.y),i.stroke(),i.restore())};if(e.display)for(o=0,l=r.length;o<l;++o){const d=r[o];e.drawOnChartArea&&u({x:d.x1,y:d.y1},{x:d.x2,y:d.y2},d),e.drawTicks&&u({x:d.tx1,y:d.ty1},{x:d.tx2,y:d.ty2},{color:d.tickColor,width:d.tickWidth,borderDash:d.tickBorderDash,borderDashOffset:d.tickBorderDashOffset})}}drawBorder(){const{chart:t,ctx:e,options:{border:i,grid:r}}=this,o=i.setContext(this.getContext()),l=i.display?o.width:0;if(!l)return;const u=r.setContext(this.getContext(0)).lineWidth,d=this._borderValue;let f,p,y,_;this.isHorizontal()?(f=Ja(t,this.left,l)-l/2,p=Ja(t,this.right,u)+u/2,y=_=d):(y=Ja(t,this.top,l)-l/2,_=Ja(t,this.bottom,u)+u/2,f=p=d),e.save(),e.lineWidth=o.width,e.strokeStyle=o.color,e.beginPath(),e.moveTo(f,y),e.lineTo(p,_),e.stroke(),e.restore()}drawLabels(t){if(!this.options.ticks.display)return;const i=this.ctx,r=this._computeLabelArea();r&&Hg(i,r);const o=this.getLabelItems(t);for(const l of o){const u=l.options,d=l.font,f=l.label,p=l.textOffset;Zu(i,f,0,p,d,u)}r&&qg(i)}drawTitle(){const{ctx:t,options:{position:e,title:i,reverse:r}}=this;if(!i.display)return;const o=Tn(i.font),l=Ii(i.padding),u=i.align;let d=o.lineHeight/2;e==="bottom"||e==="center"||Jt(e)?(d+=l.bottom,Qe(i.text)&&(d+=o.lineHeight*(i.text.length-1))):d+=l.top;const{titleX:f,titleY:p,maxWidth:y,rotation:_}=K8(this,d,e,u);Zu(t,i.text,0,0,o,{color:i.color,maxWidth:y,rotation:_,textAlign:Y8(u,e,r),textBaseline:"middle",translation:[f,p]})}draw(t){this._isVisible()&&(this.drawBackground(),this.drawGrid(t),this.drawBorder(),this.drawTitle(),this.drawLabels(t))}_layers(){const t=this.options,e=t.ticks&&t.ticks.z||0,i=Yt(t.grid&&t.grid.z,-1),r=Yt(t.border&&t.border.z,0);return!this._isVisible()||this.draw!==Yl.prototype.draw?[{z:e,draw:o=>{this.draw(o)}}]:[{z:i,draw:o=>{this.drawBackground(),this.drawGrid(o),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:e,draw:o=>{this.drawLabels(o)}}]}getMatchingVisibleMetas(t){const e=this.chart.getSortedVisibleDatasetMetas(),i=this.axis+"AxisID",r=[];let o,l;for(o=0,l=e.length;o<l;++o){const u=e[o];u[i]===this.id&&(!t||u.type===t)&&r.push(u)}return r}_resolveTickFontOptions(t){const e=this.options.ticks.setContext(this.getContext(t));return Tn(e.font)}_maxDigits(){const t=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/t}}class ff{constructor(t,e,i){this.type=t,this.scope=e,this.override=i,this.items=Object.create(null)}isForType(t){return Object.prototype.isPrototypeOf.call(this.type.prototype,t.prototype)}register(t){const e=Object.getPrototypeOf(t);let i;J8(e)&&(i=this.register(e));const r=this.items,o=t.id,l=this.scope+"."+o;if(!o)throw new Error("class does not have id: "+t);return o in r||(r[o]=t,Q8(t,l,i),this.override&&Pe.override(t.id,t.overrides)),l}get(t){return this.items[t]}unregister(t){const e=this.items,i=t.id,r=this.scope;i in e&&delete e[i],r&&i in Pe[r]&&(delete Pe[r][i],this.override&&delete bo[i])}}function Q8(n,t,e){const i=Qu(Object.create(null),[e?Pe.get(e):{},Pe.get(t),n.defaults]);Pe.set(t,i),n.defaultRoutes&&X8(t,n.defaultRoutes),n.descriptors&&Pe.describe(t,n.descriptors)}function X8(n,t){Object.keys(t).forEach(e=>{const i=e.split("."),r=i.pop(),o=[n].concat(i).join("."),l=t[e].split("."),u=l.pop(),d=l.join(".");Pe.route(o,r,d,u)})}function J8(n){return"id"in n&&"defaults"in n}class Z8{constructor(){this.controllers=new ff(rD,"datasets",!0),this.elements=new ff(Eo,"elements"),this.plugins=new ff(Object,"plugins"),this.scales=new ff(Yl,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...t){this._each("register",t)}remove(...t){this._each("unregister",t)}addControllers(...t){this._each("register",t,this.controllers)}addElements(...t){this._each("register",t,this.elements)}addPlugins(...t){this._each("register",t,this.plugins)}addScales(...t){this._each("register",t,this.scales)}getController(t){return this._get(t,this.controllers,"controller")}getElement(t){return this._get(t,this.elements,"element")}getPlugin(t){return this._get(t,this.plugins,"plugin")}getScale(t){return this._get(t,this.scales,"scale")}removeControllers(...t){this._each("unregister",t,this.controllers)}removeElements(...t){this._each("unregister",t,this.elements)}removePlugins(...t){this._each("unregister",t,this.plugins)}removeScales(...t){this._each("unregister",t,this.scales)}_each(t,e,i){[...e].forEach(r=>{const o=i||this._getRegistryForType(r);i||o.isForType(r)||o===this.plugins&&r.id?this._exec(t,o,r):le(r,l=>{const u=i||this._getRegistryForType(l);this._exec(t,u,l)})})}_exec(t,e,i){const r=a_(t);_e(i["before"+r],[],i),e[t](i),_e(i["after"+r],[],i)}_getRegistryForType(t){for(let e=0;e<this._typedRegistries.length;e++){const i=this._typedRegistries[e];if(i.isForType(t))return i}return this.plugins}_get(t,e,i){const r=e.get(t);if(r===void 0)throw new Error('"'+t+'" is not a registered '+i+".");return r}}var bs=new Z8;class t7{constructor(){this._init=void 0}notify(t,e,i,r){if(e==="beforeInit"&&(this._init=this._createDescriptors(t,!0),this._notify(this._init,t,"install")),this._init===void 0)return;const o=r?this._descriptors(t).filter(r):this._descriptors(t),l=this._notify(o,t,e,i);return e==="afterDestroy"&&(this._notify(o,t,"stop"),this._notify(this._init,t,"uninstall"),this._init=void 0),l}_notify(t,e,i,r){r=r||{};for(const o of t){const l=o.plugin,u=l[i],d=[e,r,o.options];if(_e(u,d,l)===!1&&r.cancelable)return!1}return!0}invalidate(){me(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(t){if(this._cache)return this._cache;const e=this._cache=this._createDescriptors(t);return this._notifyStateChanges(t),e}_createDescriptors(t,e){const i=t&&t.config,r=Yt(i.options&&i.options.plugins,{}),o=e7(i);return r===!1&&!e?[]:i7(t,o,r,e)}_notifyStateChanges(t){const e=this._oldCache||[],i=this._cache,r=(o,l)=>o.filter(u=>!l.some(d=>u.plugin.id===d.plugin.id));this._notify(r(e,i),t,"stop"),this._notify(r(i,e),t,"start")}}function e7(n){const t={},e=[],i=Object.keys(bs.plugins.items);for(let o=0;o<i.length;o++)e.push(bs.getPlugin(i[o]));const r=n.plugins||[];for(let o=0;o<r.length;o++){const l=r[o];e.indexOf(l)===-1&&(e.push(l),t[l.id]=!0)}return{plugins:e,localIds:t}}function n7(n,t){return!t&&n===!1?null:n===!0?{}:n}function i7(n,{plugins:t,localIds:e},i,r){const o=[],l=n.getContext();for(const u of t){const d=u.id,f=n7(i[d],r);f!==null&&o.push({plugin:u,options:s7(n.config,{plugin:u,local:e[d]},f,l)})}return o}function s7(n,{plugin:t,local:e},i,r){const o=n.pluginScopeKeys(t),l=n.getOptionScopes(i,o);return e&&t.defaults&&l.push(t.defaults),n.createResolver(l,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function I0(n,t){const e=Pe.datasets[n]||{};return((t.datasets||{})[n]||{}).indexAxis||t.indexAxis||e.indexAxis||"x"}function r7(n,t){let e=n;return n==="_index_"?e=t:n==="_value_"&&(e=t==="x"?"y":"x"),e}function a7(n,t){return n===t?"_index_":"_value_"}function Kw(n){if(n==="x"||n==="y"||n==="r")return n}function o7(n){if(n==="top"||n==="bottom")return"x";if(n==="left"||n==="right")return"y"}function D0(n,...t){if(Kw(n))return n;for(const e of t){const i=e.axis||o7(e.position)||n.length>1&&Kw(n[0].toLowerCase());if(i)return i}throw new Error(`Cannot determine type of '${n}' axis. Please provide 'axis' or 'position' option.`)}function Qw(n,t,e){if(e[t+"AxisID"]===n)return{axis:t}}function l7(n,t){if(t.data&&t.data.datasets){const e=t.data.datasets.filter(i=>i.xAxisID===n||i.yAxisID===n);if(e.length)return Qw(n,"x",e[0])||Qw(n,"y",e[0])}return{}}function c7(n,t){const e=bo[n.type]||{scales:{}},i=t.scales||{},r=I0(n.type,t),o=Object.create(null);return Object.keys(i).forEach(l=>{const u=i[l];if(!Jt(u))return console.error(`Invalid scale configuration for scale: ${l}`);if(u._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const d=D0(l,u,l7(l,n),Pe.scales[u.type]),f=a7(d,r),p=e.scales||{};o[l]=wu(Object.create(null),[{axis:d},u,p[d],p[f]])}),n.data.datasets.forEach(l=>{const u=l.type||n.type,d=l.indexAxis||I0(u,t),p=(bo[u]||{}).scales||{};Object.keys(p).forEach(y=>{const _=r7(y,d),v=l[_+"AxisID"]||_;o[v]=o[v]||Object.create(null),wu(o[v],[{axis:_},i[v],p[y]])})}),Object.keys(o).forEach(l=>{const u=o[l];wu(u,[Pe.scales[u.type],Pe.scale])}),o}function hD(n){const t=n.options||(n.options={});t.plugins=Yt(t.plugins,{}),t.scales=c7(n,t)}function dD(n){return n=n||{},n.datasets=n.datasets||[],n.labels=n.labels||[],n}function u7(n){return n=n||{},n.data=dD(n.data),hD(n),n}const Xw=new Map,fD=new Set;function gf(n,t){let e=Xw.get(n);return e||(e=t(),Xw.set(n,e),fD.add(e)),e}const au=(n,t,e)=>{const i=lg(t,e);i!==void 0&&n.add(i)};class h7{constructor(t){this._config=u7(t),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(t){this._config.type=t}get data(){return this._config.data}set data(t){this._config.data=dD(t)}get options(){return this._config.options}set options(t){this._config.options=t}get plugins(){return this._config.plugins}update(){const t=this._config;this.clearCache(),hD(t)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(t){return gf(t,()=>[[`datasets.${t}`,""]])}datasetAnimationScopeKeys(t,e){return gf(`${t}.transition.${e}`,()=>[[`datasets.${t}.transitions.${e}`,`transitions.${e}`],[`datasets.${t}`,""]])}datasetElementScopeKeys(t,e){return gf(`${t}-${e}`,()=>[[`datasets.${t}.elements.${e}`,`datasets.${t}`,`elements.${e}`,""]])}pluginScopeKeys(t){const e=t.id,i=this.type;return gf(`${i}-plugin-${e}`,()=>[[`plugins.${e}`,...t.additionalOptionScopes||[]]])}_cachedScopes(t,e){const i=this._scopeCache;let r=i.get(t);return(!r||e)&&(r=new Map,i.set(t,r)),r}getOptionScopes(t,e,i){const{options:r,type:o}=this,l=this._cachedScopes(t,i),u=l.get(e);if(u)return u;const d=new Set;e.forEach(p=>{t&&(d.add(t),p.forEach(y=>au(d,t,y))),p.forEach(y=>au(d,r,y)),p.forEach(y=>au(d,bo[o]||{},y)),p.forEach(y=>au(d,Pe,y)),p.forEach(y=>au(d,w0,y))});const f=Array.from(d);return f.length===0&&f.push(Object.create(null)),fD.has(e)&&l.set(e,f),f}chartOptionScopes(){const{options:t,type:e}=this;return[t,bo[e]||{},Pe.datasets[e]||{},{type:e},Pe,w0]}resolveNamedOptions(t,e,i,r=[""]){const o={$shared:!0},{resolver:l,subPrefixes:u}=Jw(this._resolverCache,t,r);let d=l;if(f7(l,e)){o.$shared=!1,i=fa(i)?i():i;const f=this.createResolver(t,i,u);d=Pl(l,i,f)}for(const f of e)o[f]=d[f];return o}createResolver(t,e,i=[""],r){const{resolver:o}=Jw(this._resolverCache,t,i);return Jt(e)?Pl(o,e,void 0,r):o}}function Jw(n,t,e){let i=n.get(t);i||(i=new Map,n.set(t,i));const r=e.join();let o=i.get(r);return o||(o={resolver:u_(t,e),subPrefixes:e.filter(u=>!u.toLowerCase().includes("hover"))},i.set(r,o)),o}const d7=n=>Jt(n)&&Object.getOwnPropertyNames(n).some(t=>fa(n[t]));function f7(n,t){const{isScriptable:e,isIndexable:i}=$2(n);for(const r of t){const o=e(r),l=i(r),u=(l||o)&&n[r];if(o&&(fa(u)||d7(u))||l&&Qe(u))return!0}return!1}var g7="4.5.1";const p7=["top","bottom","left","right","chartArea"];function Zw(n,t){return n==="top"||n==="bottom"||p7.indexOf(n)===-1&&t==="x"}function t1(n,t){return function(e,i){return e[n]===i[n]?e[t]-i[t]:e[n]-i[n]}}function e1(n){const t=n.chart,e=t.options.animation;t.notifyPlugins("afterRender"),_e(e&&e.onComplete,[n],t)}function m7(n){const t=n.chart,e=t.options.animation;_e(e&&e.onProgress,[n],t)}function gD(n){return f_()&&typeof n=="string"?n=document.getElementById(n):n&&n.length&&(n=n[0]),n&&n.canvas&&(n=n.canvas),n}const Rf={},n1=n=>{const t=gD(n);return Object.values(Rf).filter(e=>e.canvas===t).pop()};function y7(n,t,e){const i=Object.keys(n);for(const r of i){const o=+r;if(o>=t){const l=n[r];delete n[r],(e>0||o>t)&&(n[o+e]=l)}}}function b7(n,t,e,i){return!e||n.type==="mouseout"?null:i?t:n}let Wg=class{static defaults=Pe;static instances=Rf;static overrides=bo;static registry=bs;static version=g7;static getChart=n1;static register(...t){bs.add(...t),i1()}static unregister(...t){bs.remove(...t),i1()}constructor(t,e){const i=this.config=new h7(e),r=gD(t),o=n1(r);if(o)throw new Error("Canvas is already in use. Chart with ID '"+o.id+"' must be destroyed before the canvas with ID '"+o.canvas.id+"' can be reused.");const l=i.createResolver(i.chartOptionScopes(),this.getContext());this.platform=new(i.platform||z8(r)),this.platform.updateConfig(i);const u=this.platform.acquireContext(r,l.aspectRatio),d=u&&u.canvas,f=d&&d.height,p=d&&d.width;if(this.id=TB(),this.ctx=u,this.canvas=d,this.width=p,this.height=f,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new t7,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=qB(y=>this.update(y),l.resizeDelay||0),this._dataChanges=[],Rf[this.id]=this,!u||!d){console.error("Failed to create chart: can't acquire context from the given item");return}Qs.listen(this,"complete",e1),Qs.listen(this,"progress",m7),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:t,maintainAspectRatio:e},width:i,height:r,_aspectRatio:o}=this;return me(t)?e&&o?o:r?i/r:null:t}get data(){return this.config.data}set data(t){this.config.data=t}get options(){return this._options}set options(t){this.config.options=t}get registry(){return bs}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():Iw(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return ww(this.canvas,this.ctx),this}stop(){return Qs.stop(this),this}resize(t,e){Qs.running(this)?this._resizeBeforeDraw={width:t,height:e}:this._resize(t,e)}_resize(t,e){const i=this.options,r=this.canvas,o=i.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(r,t,e,o),u=i.devicePixelRatio||this.platform.getDevicePixelRatio(),d=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,Iw(this,u,!0)&&(this.notifyPlugins("resize",{size:l}),_e(i.onResize,[this,l],this),this.attached&&this._doResize(d)&&this.render())}ensureScalesHaveIDs(){const e=this.options.scales||{};le(e,(i,r)=>{i.id=r})}buildOrUpdateScales(){const t=this.options,e=t.scales,i=this.scales,r=Object.keys(i).reduce((l,u)=>(l[u]=!1,l),{});let o=[];e&&(o=o.concat(Object.keys(e).map(l=>{const u=e[l],d=D0(l,u),f=d==="r",p=d==="x";return{options:u,dposition:f?"chartArea":p?"bottom":"left",dtype:f?"radialLinear":p?"category":"linear"}}))),le(o,l=>{const u=l.options,d=u.id,f=D0(d,u),p=Yt(u.type,l.dtype);(u.position===void 0||Zw(u.position,f)!==Zw(l.dposition))&&(u.position=l.dposition),r[d]=!0;let y=null;if(d in i&&i[d].type===p)y=i[d];else{const _=bs.getScale(p);y=new _({id:d,type:p,ctx:this.ctx,chart:this}),i[y.id]=y}y.init(u,t)}),le(r,(l,u)=>{l||delete i[u]}),le(i,l=>{Ai.configure(this,l,l.options),Ai.addBox(this,l)})}_updateMetasets(){const t=this._metasets,e=this.data.datasets.length,i=t.length;if(t.sort((r,o)=>r.index-o.index),i>e){for(let r=e;r<i;++r)this._destroyDatasetMeta(r);t.splice(e,i-e)}this._sortedMetasets=t.slice(0).sort(t1("order","index"))}_removeUnreferencedMetasets(){const{_metasets:t,data:{datasets:e}}=this;t.length>e.length&&delete this._stacks,t.forEach((i,r)=>{e.filter(o=>o===i._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const t=[],e=this.data.datasets;let i,r;for(this._removeUnreferencedMetasets(),i=0,r=e.length;i<r;i++){const o=e[i];let l=this.getDatasetMeta(i);const u=o.type||this.config.type;if(l.type&&l.type!==u&&(this._destroyDatasetMeta(i),l=this.getDatasetMeta(i)),l.type=u,l.indexAxis=o.indexAxis||I0(u,this.options),l.order=o.order||0,l.index=i,l.label=""+o.label,l.visible=this.isDatasetVisible(i),l.controller)l.controller.updateIndex(i),l.controller.linkScales();else{const d=bs.getController(u),{datasetElementType:f,dataElementType:p}=Pe.datasets[u];Object.assign(d,{dataElementType:bs.getElement(p),datasetElementType:f&&bs.getElement(f)}),l.controller=new d(this,i),t.push(l.controller)}}return this._updateMetasets(),t}_resetElements(){le(this.data.datasets,(t,e)=>{this.getDatasetMeta(e).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(t){const e=this.config;e.update();const i=this._options=e.createResolver(e.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!i.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:t,cancelable:!0})===!1)return;const o=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let f=0,p=this.data.datasets.length;f<p;f++){const{controller:y}=this.getDatasetMeta(f),_=!r&&o.indexOf(y)===-1;y.buildOrUpdateElements(_),l=Math.max(+y.getMaxOverflow(),l)}l=this._minPadding=i.layout.autoPadding?l:0,this._updateLayout(l),r||le(o,f=>{f.reset()}),this._updateDatasets(t),this.notifyPlugins("afterUpdate",{mode:t}),this._layers.sort(t1("z","_idx"));const{_active:u,_lastEvent:d}=this;d?this._eventHandler(d,!0):u.length&&this._updateHoverStyles(u,u,!0),this.render()}_updateScales(){le(this.scales,t=>{Ai.removeBox(this,t)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const t=this.options,e=new Set(Object.keys(this._listeners)),i=new Set(t.events);(!pw(e,i)||!!this._responsiveListeners!==t.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:t}=this,e=this._getUniformDataChanges()||[];for(const{method:i,start:r,count:o}of e){const l=i==="_removeElements"?-o:o;y7(t,r,l)}}_getUniformDataChanges(){const t=this._dataChanges;if(!t||!t.length)return;this._dataChanges=[];const e=this.data.datasets.length,i=o=>new Set(t.filter(l=>l[0]===o).map((l,u)=>u+","+l.splice(1).join(","))),r=i(0);for(let o=1;o<e;o++)if(!pw(r,i(o)))return;return Array.from(r).map(o=>o.split(",")).map(o=>({method:o[1],start:+o[2],count:+o[3]}))}_updateLayout(t){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;Ai.update(this,this.width,this.height,t);const e=this.chartArea,i=e.width<=0||e.height<=0;this._layers=[],le(this.boxes,r=>{i&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,o)=>{r._idx=o}),this.notifyPlugins("afterLayout")}_updateDatasets(t){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:t,cancelable:!0})!==!1){for(let e=0,i=this.data.datasets.length;e<i;++e)this.getDatasetMeta(e).controller.configure();for(let e=0,i=this.data.datasets.length;e<i;++e)this._updateDataset(e,fa(t)?t({datasetIndex:e}):t);this.notifyPlugins("afterDatasetsUpdate",{mode:t})}}_updateDataset(t,e){const i=this.getDatasetMeta(t),r={meta:i,index:t,mode:e,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(i.controller._update(e),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Qs.has(this)?this.attached&&!Qs.running(this)&&Qs.start(this):(this.draw(),e1({chart:this})))}draw(){let t;if(this._resizeBeforeDraw){const{width:i,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(i,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const e=this._layers;for(t=0;t<e.length&&e[t].z<=0;++t)e[t].draw(this.chartArea);for(this._drawDatasets();t<e.length;++t)e[t].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(t){const e=this._sortedMetasets,i=[];let r,o;for(r=0,o=e.length;r<o;++r){const l=e[r];(!t||l.visible)&&i.push(l)}return i}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const t=this.getSortedVisibleDatasetMetas();for(let e=t.length-1;e>=0;--e)this._drawDataset(t[e]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(t){const e=this.ctx,i={meta:t,index:t.index,cancelable:!0},r=nD(this,t);this.notifyPlugins("beforeDatasetDraw",i)!==!1&&(r&&Hg(e,r),t.controller.draw(),r&&qg(e),i.cancelable=!1,this.notifyPlugins("afterDatasetDraw",i))}isPointInArea(t){return Ju(t,this.chartArea,this._minPadding)}getElementsAtEventForMode(t,e,i,r){const o=p8.modes[e];return typeof o=="function"?o(this,t,i,r):[]}getDatasetMeta(t){const e=this.data.datasets[t],i=this._metasets;let r=i.filter(o=>o&&o._dataset===e).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:e&&e.order||0,index:t,_dataset:e,_parsed:[],_sorted:!1},i.push(r)),r}getContext(){return this.$context||(this.$context=xo(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(t){const e=this.data.datasets[t];if(!e)return!1;const i=this.getDatasetMeta(t);return typeof i.hidden=="boolean"?!i.hidden:!e.hidden}setDatasetVisibility(t,e){const i=this.getDatasetMeta(t);i.hidden=!e}toggleDataVisibility(t){this._hiddenIndices[t]=!this._hiddenIndices[t]}getDataVisibility(t){return!this._hiddenIndices[t]}_updateVisibility(t,e,i){const r=i?"show":"hide",o=this.getDatasetMeta(t),l=o.controller._resolveAnimations(void 0,r);cg(e)?(o.data[e].hidden=!i,this.update()):(this.setDatasetVisibility(t,i),l.update(o,{visible:i}),this.update(u=>u.datasetIndex===t?r:void 0))}hide(t,e){this._updateVisibility(t,e,!1)}show(t,e){this._updateVisibility(t,e,!0)}_destroyDatasetMeta(t){const e=this._metasets[t];e&&e.controller&&e.controller._destroy(),delete this._metasets[t]}_stop(){let t,e;for(this.stop(),Qs.remove(this),t=0,e=this.data.datasets.length;t<e;++t)this._destroyDatasetMeta(t)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:t,ctx:e}=this;this._stop(),this.config.clearCache(),t&&(this.unbindEvents(),ww(t,e),this.platform.releaseContext(e),this.canvas=null,this.ctx=null),delete Rf[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...t){return this.canvas.toDataURL(...t)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const t=this._listeners,e=this.platform,i=(o,l)=>{e.addEventListener(this,o,l),t[o]=l},r=(o,l,u)=>{o.offsetX=l,o.offsetY=u,this._eventHandler(o)};le(this.options.events,o=>i(o,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const t=this._responsiveListeners,e=this.platform,i=(d,f)=>{e.addEventListener(this,d,f),t[d]=f},r=(d,f)=>{t[d]&&(e.removeEventListener(this,d,f),delete t[d])},o=(d,f)=>{this.canvas&&this.resize(d,f)};let l;const u=()=>{r("attach",u),this.attached=!0,this.resize(),i("resize",o),i("detach",l)};l=()=>{this.attached=!1,r("resize",o),this._stop(),this._resize(0,0),i("attach",u)},e.isAttached(this.canvas)?u():l()}unbindEvents(){le(this._listeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._listeners={},le(this._responsiveListeners,(t,e)=>{this.platform.removeEventListener(this,e,t)}),this._responsiveListeners=void 0}updateHoverStyle(t,e,i){const r=i?"set":"remove";let o,l,u,d;for(e==="dataset"&&(o=this.getDatasetMeta(t[0].datasetIndex),o.controller["_"+r+"DatasetHoverStyle"]()),u=0,d=t.length;u<d;++u){l=t[u];const f=l&&this.getDatasetMeta(l.datasetIndex).controller;f&&f[r+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(t){const e=this._active||[],i=t.map(({datasetIndex:o,index:l})=>{const u=this.getDatasetMeta(o);if(!u)throw new Error("No dataset found at index "+o);return{datasetIndex:o,element:u.data[l],index:l}});!ag(i,e)&&(this._active=i,this._lastEvent=null,this._updateHoverStyles(i,e))}notifyPlugins(t,e,i){return this._plugins.notify(this,t,e,i)}isPluginEnabled(t){return this._plugins._cache.filter(e=>e.plugin.id===t).length===1}_updateHoverStyles(t,e,i){const r=this.options.hover,o=(d,f)=>d.filter(p=>!f.some(y=>p.datasetIndex===y.datasetIndex&&p.index===y.index)),l=o(e,t),u=i?t:o(t,e);l.length&&this.updateHoverStyle(l,r.mode,!1),u.length&&r.mode&&this.updateHoverStyle(u,r.mode,!0)}_eventHandler(t,e){const i={event:t,replay:e,cancelable:!0,inChartArea:this.isPointInArea(t)},r=l=>(l.options.events||this.options.events).includes(t.native.type);if(this.notifyPlugins("beforeEvent",i,r)===!1)return;const o=this._handleEvent(t,e,i.inChartArea);return i.cancelable=!1,this.notifyPlugins("afterEvent",i,r),(o||i.changed)&&this.render(),this}_handleEvent(t,e,i){const{_active:r=[],options:o}=this,l=e,u=this._getActiveElements(t,r,i,l),d=DB(t),f=b7(t,this._lastEvent,i,d);i&&(this._lastEvent=null,_e(o.onHover,[t,u,this],this),d&&_e(o.onClick,[t,u,this],this));const p=!ag(u,r);return(p||e)&&(this._active=u,this._updateHoverStyles(u,r,e)),this._lastEvent=f,p}_getActiveElements(t,e,i,r){if(t.type==="mouseout")return[];if(!i)return e;const o=this.options.hover;return this.getElementsAtEventForMode(t,o.mode,o,r)}};function i1(){return le(Wg.instances,n=>n._plugins.invalidate())}function pD(n,t,e=t){n.lineCap=Yt(e.borderCapStyle,t.borderCapStyle),n.setLineDash(Yt(e.borderDash,t.borderDash)),n.lineDashOffset=Yt(e.borderDashOffset,t.borderDashOffset),n.lineJoin=Yt(e.borderJoinStyle,t.borderJoinStyle),n.lineWidth=Yt(e.borderWidth,t.borderWidth),n.strokeStyle=Yt(e.borderColor,t.borderColor)}function _7(n,t,e){n.lineTo(e.x,e.y)}function v7(n){return n.stepped?sU:n.tension||n.cubicInterpolationMode==="monotone"?rU:_7}function mD(n,t,e={}){const i=n.length,{start:r=0,end:o=i-1}=e,{start:l,end:u}=t,d=Math.max(r,l),f=Math.min(o,u),p=r<l&&o<l||r>u&&o>u;return{count:i,start:d,loop:t.loop,ilen:f<d&&!p?i+f-d:f-d}}function x7(n,t,e,i){const{points:r,options:o}=t,{count:l,start:u,loop:d,ilen:f}=mD(r,e,i),p=v7(o);let{move:y=!0,reverse:_}=i||{},v,S,C;for(v=0;v<=f;++v)S=r[(u+(_?f-v:v))%l],!S.skip&&(y?(n.moveTo(S.x,S.y),y=!1):p(n,C,S,_,o.stepped),C=S);return d&&(S=r[(u+(_?f:0))%l],p(n,C,S,_,o.stepped)),!!d}function E7(n,t,e,i){const r=t.points,{count:o,start:l,ilen:u}=mD(r,e,i),{move:d=!0,reverse:f}=i||{};let p=0,y=0,_,v,S,C,w,O;const L=q=>(l+(f?u-q:q))%o,H=()=>{C!==w&&(n.lineTo(p,w),n.lineTo(p,C),n.lineTo(p,O))};for(d&&(v=r[L(0)],n.moveTo(v.x,v.y)),_=0;_<=u;++_){if(v=r[L(_)],v.skip)continue;const q=v.x,F=v.y,G=q|0;G===S?(F<C?C=F:F>w&&(w=F),p=(y*p+q)/++y):(H(),n.lineTo(q,F),S=G,y=0,C=w=F),O=F}H()}function R0(n){const t=n.options,e=t.borderDash&&t.borderDash.length;return!n._decimated&&!n._loop&&!t.tension&&t.cubicInterpolationMode!=="monotone"&&!t.stepped&&!e?E7:x7}function T7(n){return n.stepped?VU:n.tension||n.cubicInterpolationMode==="monotone"?jU:io}function S7(n,t,e,i){let r=t._path;r||(r=t._path=new Path2D,t.path(r,e,i)&&r.closePath()),pD(n,t.options),n.stroke(r)}function w7(n,t,e,i){const{segments:r,options:o}=t,l=R0(t);for(const u of r)pD(n,o,u.style),n.beginPath(),l(n,t,u,{start:e,end:e+i-1})&&n.closePath(),n.stroke()}const A7=typeof Path2D=="function";function C7(n,t,e,i){A7&&!t.options.segment?S7(n,t,e,i):w7(n,t,e,i)}class Yg extends Eo{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:t=>t!=="borderDash"&&t!=="fill"};constructor(t){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,t&&Object.assign(this,t)}updateControlPoints(t,e){const i=this.options;if((i.tension||i.cubicInterpolationMode==="monotone")&&!i.stepped&&!this._pointsUpdated){const r=i.spanGaps?this._loop:this._fullLoop;RU(this._points,i,t,r,e),this._pointsUpdated=!0}}set points(t){this._points=t,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=GU(this,this.options.segment))}first(){const t=this.segments,e=this.points;return t.length&&e[t[0].start]}last(){const t=this.segments,e=this.points,i=t.length;return i&&e[t[i-1].end]}interpolate(t,e){const i=this.options,r=t[e],o=this.points,l=eD(this,{property:e,start:r,end:r});if(!l.length)return;const u=[],d=T7(i);let f,p;for(f=0,p=l.length;f<p;++f){const{start:y,end:_}=l[f],v=o[y],S=o[_];if(v===S){u.push(v);continue}const C=Math.abs((r-v[e])/(S[e]-v[e])),w=d(v,S,C,i.stepped);w[e]=t[e],u.push(w)}return u.length===1?u[0]:u}pathSegment(t,e,i){return R0(this)(t,this,e,i)}path(t,e,i){const r=this.segments,o=R0(this);let l=this._loop;e=e||0,i=i||this.points.length-e;for(const u of r)l&=o(t,this,u,{start:e,end:e+i-1});return!!l}draw(t,e,i,r){const o=this.options||{};(this.points||[]).length&&o.borderWidth&&(t.save(),C7(t,this,i,r),t.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function s1(n,t,e,i){const r=n.options,{[e]:o}=n.getProps([e],i);return Math.abs(t-o)<r.radius+r.hitRadius}class I7 extends Eo{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(t){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,t&&Object.assign(this,t)}inRange(t,e,i){const r=this.options,{x:o,y:l}=this.getProps(["x","y"],i);return Math.pow(t-o,2)+Math.pow(e-l,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(t,e){return s1(this,t,"x",e)}inYRange(t,e){return s1(this,t,"y",e)}getCenterPoint(t){const{x:e,y:i}=this.getProps(["x","y"],t);return{x:e,y:i}}size(t){t=t||this.options||{};let e=t.radius||0;e=Math.max(e,e&&t.hoverRadius||0);const i=e&&t.borderWidth||0;return(e+i)*2}draw(t,e){const i=this.options;this.skip||i.radius<.1||!Ju(this,e,this.size(i)/2)||(t.strokeStyle=i.borderColor,t.lineWidth=i.borderWidth,t.fillStyle=i.backgroundColor,A0(t,i,this.x,this.y))}getRange(){const t=this.options||{};return t.radius+t.hitRadius}}function D7(n,t,e){const i=n.segments,r=n.points,o=t.points,l=[];for(const u of i){let{start:d,end:f}=u;f=Kg(d,f,r);const p=N0(e,r[d],r[f],u.loop);if(!t.segments){l.push({source:u,target:p,start:r[d],end:r[f]});continue}const y=eD(t,p);for(const _ of y){const v=N0(e,o[_.start],o[_.end],_.loop),S=tD(u,r,v);for(const C of S)l.push({source:C,target:_,start:{[e]:r1(p,v,"start",Math.max)},end:{[e]:r1(p,v,"end",Math.min)}})}}return l}function N0(n,t,e,i){if(i)return;let r=t[n],o=e[n];return n==="angle"&&(r=vs(r),o=vs(o)),{property:n,start:r,end:o}}function R7(n,t){const{x:e=null,y:i=null}=n||{},r=t.points,o=[];return t.segments.forEach(({start:l,end:u})=>{u=Kg(l,u,r);const d=r[l],f=r[u];i!==null?(o.push({x:d.x,y:i}),o.push({x:f.x,y:i})):e!==null&&(o.push({x:e,y:d.y}),o.push({x:e,y:f.y}))}),o}function Kg(n,t,e){for(;t>n;t--){const i=e[t];if(!isNaN(i.x)&&!isNaN(i.y))break}return t}function r1(n,t,e,i){return n&&t?i(n[e],t[e]):n?n[e]:t?t[e]:0}function yD(n,t){let e=[],i=!1;return Qe(n)?(i=!0,e=n):e=R7(n,t),e.length?new Yg({points:e,options:{tension:0},_loop:i,_fullLoop:i}):null}function a1(n){return n&&n.fill!==!1}function N7(n,t,e){let r=n[t].fill;const o=[t];let l;if(!e)return r;for(;r!==!1&&o.indexOf(r)===-1;){if(!wn(r))return r;if(l=n[r],!l)return!1;if(l.visible)return r;o.push(r),r=l.fill}return!1}function k7(n,t,e){const i=z7(n);if(Jt(i))return isNaN(i.value)?!1:i;let r=parseFloat(i);return wn(r)&&Math.floor(r)===r?O7(i[0],t,r,e):["origin","start","end","stack","shape"].indexOf(i)>=0&&i}function O7(n,t,e,i){return(n==="-"||n==="+")&&(e=t+e),e===t||e<0||e>=i?!1:e}function M7(n,t){let e=null;return n==="start"?e=t.bottom:n==="end"?e=t.top:Jt(n)?e=t.getPixelForValue(n.value):t.getBasePixel&&(e=t.getBasePixel()),e}function P7(n,t,e){let i;return n==="start"?i=e:n==="end"?i=t.options.reverse?t.min:t.max:Jt(n)?i=n.value:i=t.getBaseValue(),i}function z7(n){const t=n.options,e=t.fill;let i=Yt(e&&e.target,e);return i===void 0&&(i=!!t.backgroundColor),i===!1||i===null?!1:i===!0?"origin":i}function L7(n){const{scale:t,index:e,line:i}=n,r=[],o=i.segments,l=i.points,u=V7(t,e);u.push(yD({x:null,y:t.bottom},i));for(let d=0;d<o.length;d++){const f=o[d];for(let p=f.start;p<=f.end;p++)j7(r,l[p],u)}return new Yg({points:r,options:{}})}function V7(n,t){const e=[],i=n.getMatchingVisibleMetas("line");for(let r=0;r<i.length;r++){const o=i[r];if(o.index===t)break;o.hidden||e.unshift(o.dataset)}return e}function j7(n,t,e){const i=[];for(let r=0;r<e.length;r++){const o=e[r],{first:l,last:u,point:d}=B7(o,t,"x");if(!(!d||l&&u)){if(l)i.unshift(d);else if(n.push(d),!u)break}}n.push(...i)}function B7(n,t,e){const i=n.interpolate(t,e);if(!i)return{};const r=i[e],o=n.segments,l=n.points;let u=!1,d=!1;for(let f=0;f<o.length;f++){const p=o[f],y=l[p.start][e],_=l[p.end][e];if(ml(r,y,_)){u=r===y,d=r===_;break}}return{first:u,last:d,point:i}}class bD{constructor(t){this.x=t.x,this.y=t.y,this.radius=t.radius}pathSegment(t,e,i){const{x:r,y:o,radius:l}=this;return e=e||{start:0,end:$i},t.arc(r,o,l,e.end,e.start,!0),!i.bounds}interpolate(t){const{x:e,y:i,radius:r}=this,o=t.angle;return{x:e+Math.cos(o)*r,y:i+Math.sin(o)*r,angle:o}}}function U7(n){const{chart:t,fill:e,line:i}=n;if(wn(e))return F7(t,e);if(e==="stack")return L7(n);if(e==="shape")return!0;const r=H7(n);return r instanceof bD?r:yD(r,i)}function F7(n,t){const e=n.getDatasetMeta(t);return e&&n.isDatasetVisible(t)?e.dataset:null}function H7(n){return(n.scale||{}).getPointPositionForValue?G7(n):q7(n)}function q7(n){const{scale:t={},fill:e}=n,i=M7(e,t);if(wn(i)){const r=t.isHorizontal();return{x:r?i:null,y:r?null:i}}return null}function G7(n){const{scale:t,fill:e}=n,i=t.options,r=t.getLabels().length,o=i.reverse?t.max:t.min,l=P7(e,t,o),u=[];if(i.grid.circular){const d=t.getPointPositionForValue(0,o);return new bD({x:d.x,y:d.y,radius:t.getDistanceFromCenterForValue(l)})}for(let d=0;d<r;++d)u.push(t.getPointPositionForValue(d,l));return u}function Py(n,t,e){const i=U7(t),{chart:r,index:o,line:l,scale:u,axis:d}=t,f=l.options,p=f.fill,y=f.backgroundColor,{above:_=y,below:v=y}=p||{},S=r.getDatasetMeta(o),C=nD(r,S);i&&l.points.length&&(Hg(n,e),$7(n,{line:l,target:i,above:_,below:v,area:e,scale:u,axis:d,clip:C}),qg(n))}function $7(n,t){const{line:e,target:i,above:r,below:o,area:l,scale:u,clip:d}=t,f=e._loop?"angle":t.axis;n.save();let p=o;o!==r&&(f==="x"?(o1(n,i,l.top),zy(n,{line:e,target:i,color:r,scale:u,property:f,clip:d}),n.restore(),n.save(),o1(n,i,l.bottom)):f==="y"&&(l1(n,i,l.left),zy(n,{line:e,target:i,color:o,scale:u,property:f,clip:d}),n.restore(),n.save(),l1(n,i,l.right),p=r)),zy(n,{line:e,target:i,color:p,scale:u,property:f,clip:d}),n.restore()}function o1(n,t,e){const{segments:i,points:r}=t;let o=!0,l=!1;n.beginPath();for(const u of i){const{start:d,end:f}=u,p=r[d],y=r[Kg(d,f,r)];o?(n.moveTo(p.x,p.y),o=!1):(n.lineTo(p.x,e),n.lineTo(p.x,p.y)),l=!!t.pathSegment(n,u,{move:l}),l?n.closePath():n.lineTo(y.x,e)}n.lineTo(t.first().x,e),n.closePath(),n.clip()}function l1(n,t,e){const{segments:i,points:r}=t;let o=!0,l=!1;n.beginPath();for(const u of i){const{start:d,end:f}=u,p=r[d],y=r[Kg(d,f,r)];o?(n.moveTo(p.x,p.y),o=!1):(n.lineTo(e,p.y),n.lineTo(p.x,p.y)),l=!!t.pathSegment(n,u,{move:l}),l?n.closePath():n.lineTo(e,y.y)}n.lineTo(e,t.first().y),n.closePath(),n.clip()}function zy(n,t){const{line:e,target:i,property:r,color:o,scale:l,clip:u}=t,d=D7(e,i,r);for(const{source:f,target:p,start:y,end:_}of d){const{style:{backgroundColor:v=o}={}}=f,S=i!==!0;n.save(),n.fillStyle=v,W7(n,l,u,S&&N0(r,y,_)),n.beginPath();const C=!!e.pathSegment(n,f);let w;if(S){C?n.closePath():c1(n,i,_,r);const O=!!i.pathSegment(n,p,{move:C,reverse:!0});w=C&&O,w||c1(n,i,y,r)}n.closePath(),n.fill(w?"evenodd":"nonzero"),n.restore()}}function W7(n,t,e,i){const r=t.chart.chartArea,{property:o,start:l,end:u}=i||{};if(o==="x"||o==="y"){let d,f,p,y;o==="x"?(d=l,f=r.top,p=u,y=r.bottom):(d=r.left,f=l,p=r.right,y=u),n.beginPath(),e&&(d=Math.max(d,e.left),p=Math.min(p,e.right),f=Math.max(f,e.top),y=Math.min(y,e.bottom)),n.rect(d,f,p-d,y-f),n.clip()}}function c1(n,t,e,i){const r=t.interpolate(e,i);r&&n.lineTo(r.x,r.y)}var Y7={id:"filler",afterDatasetsUpdate(n,t,e){const i=(n.data.datasets||[]).length,r=[];let o,l,u,d;for(l=0;l<i;++l)o=n.getDatasetMeta(l),u=o.dataset,d=null,u&&u.options&&u instanceof Yg&&(d={visible:n.isDatasetVisible(l),index:l,fill:k7(u,l,i),chart:n,axis:o.controller.options.indexAxis,scale:o.vScale,line:u}),o.$filler=d,r.push(d);for(l=0;l<i;++l)d=r[l],!(!d||d.fill===!1)&&(d.fill=N7(r,l,e.propagate))},beforeDraw(n,t,e){const i=e.drawTime==="beforeDraw",r=n.getSortedVisibleDatasetMetas(),o=n.chartArea;for(let l=r.length-1;l>=0;--l){const u=r[l].$filler;u&&(u.line.updateControlPoints(o,u.axis),i&&u.fill&&Py(n.ctx,u,o))}},beforeDatasetsDraw(n,t,e){if(e.drawTime!=="beforeDatasetsDraw")return;const i=n.getSortedVisibleDatasetMetas();for(let r=i.length-1;r>=0;--r){const o=i[r].$filler;a1(o)&&Py(n.ctx,o,n.chartArea)}},beforeDatasetDraw(n,t,e){const i=t.meta.$filler;!a1(i)||e.drawTime!=="beforeDatasetDraw"||Py(n.ctx,i,n.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const u1=(n,t)=>{let{boxHeight:e=t,boxWidth:i=t}=n;return n.usePointStyle&&(e=Math.min(e,t),i=n.pointStyleWidth||Math.min(i,t)),{boxWidth:i,boxHeight:e,itemHeight:Math.max(t,e)}},K7=(n,t)=>n!==null&&t!==null&&n.datasetIndex===t.datasetIndex&&n.index===t.index;class h1 extends Eo{constructor(t){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e,i){this.maxWidth=t,this.maxHeight=e,this._margins=i,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const t=this.options.labels||{};let e=_e(t.generateLabels,[this.chart],this)||[];t.filter&&(e=e.filter(i=>t.filter(i,this.chart.data))),t.sort&&(e=e.sort((i,r)=>t.sort(i,r,this.chart.data))),this.options.reverse&&e.reverse(),this.legendItems=e}fit(){const{options:t,ctx:e}=this;if(!t.display){this.width=this.height=0;return}const i=t.labels,r=Tn(i.font),o=r.size,l=this._computeTitleHeight(),{boxWidth:u,itemHeight:d}=u1(i,o);let f,p;e.font=r.string,this.isHorizontal()?(f=this.maxWidth,p=this._fitRows(l,o,u,d)+10):(p=this.maxHeight,f=this._fitCols(l,r,u,d)+10),this.width=Math.min(f,t.maxWidth||this.maxWidth),this.height=Math.min(p,t.maxHeight||this.maxHeight)}_fitRows(t,e,i,r){const{ctx:o,maxWidth:l,options:{labels:{padding:u}}}=this,d=this.legendHitBoxes=[],f=this.lineWidths=[0],p=r+u;let y=t;o.textAlign="left",o.textBaseline="middle";let _=-1,v=-p;return this.legendItems.forEach((S,C)=>{const w=i+e/2+o.measureText(S.text).width;(C===0||f[f.length-1]+w+2*u>l)&&(y+=p,f[f.length-(C>0?0:1)]=0,v+=p,_++),d[C]={left:0,top:v,row:_,width:w,height:r},f[f.length-1]+=w+u}),y}_fitCols(t,e,i,r){const{ctx:o,maxHeight:l,options:{labels:{padding:u}}}=this,d=this.legendHitBoxes=[],f=this.columnSizes=[],p=l-t;let y=u,_=0,v=0,S=0,C=0;return this.legendItems.forEach((w,O)=>{const{itemWidth:L,itemHeight:H}=Q7(i,e,o,w,r);O>0&&v+H+2*u>p&&(y+=_+u,f.push({width:_,height:v}),S+=_+u,C++,_=v=0),d[O]={left:S,top:v,col:C,width:L,height:H},_=Math.max(_,L),v+=H+u}),y+=_,f.push({width:_,height:v}),y}adjustHitBoxes(){if(!this.options.display)return;const t=this._computeTitleHeight(),{legendHitBoxes:e,options:{align:i,labels:{padding:r},rtl:o}}=this,l=El(o,this.left,this.width);if(this.isHorizontal()){let u=0,d=vn(i,this.left+r,this.right-this.lineWidths[u]);for(const f of e)u!==f.row&&(u=f.row,d=vn(i,this.left+r,this.right-this.lineWidths[u])),f.top+=this.top+t+r,f.left=l.leftForLtr(l.x(d),f.width),d+=f.width+r}else{let u=0,d=vn(i,this.top+t+r,this.bottom-this.columnSizes[u].height);for(const f of e)f.col!==u&&(u=f.col,d=vn(i,this.top+t+r,this.bottom-this.columnSizes[u].height)),f.top=d,f.left+=this.left+r,f.left=l.leftForLtr(l.x(f.left),f.width),d+=f.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const t=this.ctx;Hg(t,this),this._draw(),qg(t)}}_draw(){const{options:t,columnSizes:e,lineWidths:i,ctx:r}=this,{align:o,labels:l}=t,u=Pe.color,d=El(t.rtl,this.left,this.width),f=Tn(l.font),{padding:p}=l,y=f.size,_=y/2;let v;this.drawTitle(),r.textAlign=d.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=f.string;const{boxWidth:S,boxHeight:C,itemHeight:w}=u1(l,y),O=function(G,R,I){if(isNaN(S)||S<=0||isNaN(C)||C<0)return;r.save();const N=Yt(I.lineWidth,1);if(r.fillStyle=Yt(I.fillStyle,u),r.lineCap=Yt(I.lineCap,"butt"),r.lineDashOffset=Yt(I.lineDashOffset,0),r.lineJoin=Yt(I.lineJoin,"miter"),r.lineWidth=N,r.strokeStyle=Yt(I.strokeStyle,u),r.setLineDash(Yt(I.lineDash,[])),l.usePointStyle){const z={radius:C*Math.SQRT2/2,pointStyle:I.pointStyle,rotation:I.rotation,borderWidth:N},M=d.xPlus(G,S/2),V=R+_;q2(r,z,M,V,l.pointStyleWidth&&S)}else{const z=R+Math.max((y-C)/2,0),M=d.leftForLtr(G,S),V=Du(I.borderRadius);r.beginPath(),Object.values(V).some(P=>P!==0)?C0(r,{x:M,y:z,w:S,h:C,radius:V}):r.rect(M,z,S,C),r.fill(),N!==0&&r.stroke()}r.restore()},L=function(G,R,I){Zu(r,I.text,G,R+w/2,f,{strikethrough:I.hidden,textAlign:d.textAlign(I.textAlign)})},H=this.isHorizontal(),q=this._computeTitleHeight();H?v={x:vn(o,this.left+p,this.right-i[0]),y:this.top+p+q,line:0}:v={x:this.left+p,y:vn(o,this.top+q+p,this.bottom-e[0].height),line:0},X2(this.ctx,t.textDirection);const F=w+p;this.legendItems.forEach((G,R)=>{r.strokeStyle=G.fontColor,r.fillStyle=G.fontColor;const I=r.measureText(G.text).width,N=d.textAlign(G.textAlign||(G.textAlign=l.textAlign)),z=S+_+I;let M=v.x,V=v.y;d.setWidth(this.width),H?R>0&&M+z+p>this.right&&(V=v.y+=F,v.line++,M=v.x=vn(o,this.left+p,this.right-i[v.line])):R>0&&V+F>this.bottom&&(M=v.x=M+e[v.line].width+p,v.line++,V=v.y=vn(o,this.top+q+p,this.bottom-e[v.line].height));const P=d.x(M);if(O(P,V,G),M=GB(N,M+S+_,H?M+z:this.right,t.rtl),L(d.x(M),V,G),H)v.x+=z+p;else if(typeof G.text!="string"){const Dt=f.lineHeight;v.y+=_D(G,Dt)+p}else v.y+=F}),J2(this.ctx,t.textDirection)}drawTitle(){const t=this.options,e=t.title,i=Tn(e.font),r=Ii(e.padding);if(!e.display)return;const o=El(t.rtl,this.left,this.width),l=this.ctx,u=e.position,d=i.size/2,f=r.top+d;let p,y=this.left,_=this.width;if(this.isHorizontal())_=Math.max(...this.lineWidths),p=this.top+f,y=vn(t.align,y,this.right-_);else{const S=this.columnSizes.reduce((C,w)=>Math.max(C,w.height),0);p=f+vn(t.align,this.top,this.bottom-S-t.labels.padding-this._computeTitleHeight())}const v=vn(u,y,y+_);l.textAlign=o.textAlign(l_(u)),l.textBaseline="middle",l.strokeStyle=e.color,l.fillStyle=e.color,l.font=i.string,Zu(l,e.text,v,p,i)}_computeTitleHeight(){const t=this.options.title,e=Tn(t.font),i=Ii(t.padding);return t.display?e.lineHeight+i.height:0}_getLegendItemAt(t,e){let i,r,o;if(ml(t,this.left,this.right)&&ml(e,this.top,this.bottom)){for(o=this.legendHitBoxes,i=0;i<o.length;++i)if(r=o[i],ml(t,r.left,r.left+r.width)&&ml(e,r.top,r.top+r.height))return this.legendItems[i]}return null}handleEvent(t){const e=this.options;if(!Z7(t.type,e))return;const i=this._getLegendItemAt(t.x,t.y);if(t.type==="mousemove"||t.type==="mouseout"){const r=this._hoveredItem,o=K7(r,i);r&&!o&&_e(e.onLeave,[t,r,this],this),this._hoveredItem=i,i&&!o&&_e(e.onHover,[t,i,this],this)}else i&&_e(e.onClick,[t,i,this],this)}}function Q7(n,t,e,i,r){const o=X7(i,n,t,e),l=J7(r,i,t.lineHeight);return{itemWidth:o,itemHeight:l}}function X7(n,t,e,i){let r=n.text;return r&&typeof r!="string"&&(r=r.reduce((o,l)=>o.length>l.length?o:l)),t+e.size/2+i.measureText(r).width}function J7(n,t,e){let i=n;return typeof t.text!="string"&&(i=_D(t,e)),i}function _D(n,t){const e=n.text?n.text.length:0;return t*e}function Z7(n,t){return!!((n==="mousemove"||n==="mouseout")&&(t.onHover||t.onLeave)||t.onClick&&(n==="click"||n==="mouseup"))}var tF={id:"legend",_element:h1,start(n,t,e){const i=n.legend=new h1({ctx:n.ctx,options:e,chart:n});Ai.configure(n,i,e),Ai.addBox(n,i)},stop(n){Ai.removeBox(n,n.legend),delete n.legend},beforeUpdate(n,t,e){const i=n.legend;Ai.configure(n,i,e),i.options=e},afterUpdate(n){const t=n.legend;t.buildLabels(),t.adjustHitBoxes()},afterEvent(n,t){t.replay||n.legend.handleEvent(t.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(n,t,e){const i=t.datasetIndex,r=e.chart;r.isDatasetVisible(i)?(r.hide(i),t.hidden=!0):(r.show(i),t.hidden=!1)},onHover:null,onLeave:null,labels:{color:n=>n.chart.options.color,boxWidth:40,padding:10,generateLabels(n){const t=n.data.datasets,{labels:{usePointStyle:e,pointStyle:i,textAlign:r,color:o,useBorderRadius:l,borderRadius:u}}=n.legend.options;return n._getSortedDatasetMetas().map(d=>{const f=d.controller.getStyle(e?0:void 0),p=Ii(f.borderWidth);return{text:t[d.index].label,fillStyle:f.backgroundColor,fontColor:o,hidden:!d.visible,lineCap:f.borderCapStyle,lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:f.borderColor,pointStyle:i||f.pointStyle,rotation:f.rotation,textAlign:r||f.textAlign,borderRadius:l&&(u||f.borderRadius),datasetIndex:d.index}},this)}},title:{color:n=>n.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:n=>!n.startsWith("on"),labels:{_scriptable:n=>!["generateLabels","filter","sort"].includes(n)}}};class vD extends Eo{constructor(t){super(),this.chart=t.chart,this.options=t.options,this.ctx=t.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(t,e){const i=this.options;if(this.left=0,this.top=0,!i.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=t,this.height=this.bottom=e;const r=Qe(i.text)?i.text.length:1;this._padding=Ii(i.padding);const o=r*Tn(i.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=o:this.width=o}isHorizontal(){const t=this.options.position;return t==="top"||t==="bottom"}_drawArgs(t){const{top:e,left:i,bottom:r,right:o,options:l}=this,u=l.align;let d=0,f,p,y;return this.isHorizontal()?(p=vn(u,i,o),y=e+t,f=o-i):(l.position==="left"?(p=i+t,y=vn(u,r,e),d=rn*-.5):(p=o-t,y=vn(u,e,r),d=rn*.5),f=r-e),{titleX:p,titleY:y,maxWidth:f,rotation:d}}draw(){const t=this.ctx,e=this.options;if(!e.display)return;const i=Tn(e.font),o=i.lineHeight/2+this._padding.top,{titleX:l,titleY:u,maxWidth:d,rotation:f}=this._drawArgs(o);Zu(t,e.text,0,0,i,{color:e.color,maxWidth:d,rotation:f,textAlign:l_(e.align),textBaseline:"middle",translation:[l,u]})}}function eF(n,t){const e=new vD({ctx:n.ctx,options:t,chart:n});Ai.configure(n,e,t),Ai.addBox(n,e),n.titleBlock=e}var nF={id:"title",_element:vD,start(n,t,e){eF(n,e)},stop(n){const t=n.titleBlock;Ai.removeBox(n,t),delete n.titleBlock},beforeUpdate(n,t,e){const i=n.titleBlock;Ai.configure(n,i,e),i.options=e},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const pu={average(n){if(!n.length)return!1;let t,e,i=new Set,r=0,o=0;for(t=0,e=n.length;t<e;++t){const u=n[t].element;if(u&&u.hasValue()){const d=u.tooltipPosition();i.add(d.x),r+=d.y,++o}}return o===0||i.size===0?!1:{x:[...i].reduce((u,d)=>u+d)/i.size,y:r/o}},nearest(n,t){if(!n.length)return!1;let e=t.x,i=t.y,r=Number.POSITIVE_INFINITY,o,l,u;for(o=0,l=n.length;o<l;++o){const d=n[o].element;if(d&&d.hasValue()){const f=d.getCenterPoint(),p=S0(t,f);p<r&&(r=p,u=d)}}if(u){const d=u.tooltipPosition();e=d.x,i=d.y}return{x:e,y:i}}};function ys(n,t){return t&&(Qe(t)?Array.prototype.push.apply(n,t):n.push(t)),n}function Xs(n){return(typeof n=="string"||n instanceof String)&&n.indexOf(`
`)>-1?n.split(`
`):n}function iF(n,t){const{element:e,datasetIndex:i,index:r}=t,o=n.getDatasetMeta(i).controller,{label:l,value:u}=o.getLabelAndValue(r);return{chart:n,label:l,parsed:o.getParsed(r),raw:n.data.datasets[i].data[r],formattedValue:u,dataset:o.getDataset(),dataIndex:r,datasetIndex:i,element:e}}function d1(n,t){const e=n.chart.ctx,{body:i,footer:r,title:o}=n,{boxWidth:l,boxHeight:u}=t,d=Tn(t.bodyFont),f=Tn(t.titleFont),p=Tn(t.footerFont),y=o.length,_=r.length,v=i.length,S=Ii(t.padding);let C=S.height,w=0,O=i.reduce((q,F)=>q+F.before.length+F.lines.length+F.after.length,0);if(O+=n.beforeBody.length+n.afterBody.length,y&&(C+=y*f.lineHeight+(y-1)*t.titleSpacing+t.titleMarginBottom),O){const q=t.displayColors?Math.max(u,d.lineHeight):d.lineHeight;C+=v*q+(O-v)*d.lineHeight+(O-1)*t.bodySpacing}_&&(C+=t.footerMarginTop+_*p.lineHeight+(_-1)*t.footerSpacing);let L=0;const H=function(q){w=Math.max(w,e.measureText(q).width+L)};return e.save(),e.font=f.string,le(n.title,H),e.font=d.string,le(n.beforeBody.concat(n.afterBody),H),L=t.displayColors?l+2+t.boxPadding:0,le(i,q=>{le(q.before,H),le(q.lines,H),le(q.after,H)}),L=0,e.font=p.string,le(n.footer,H),e.restore(),w+=S.width,{width:w,height:C}}function sF(n,t){const{y:e,height:i}=t;return e<i/2?"top":e>n.height-i/2?"bottom":"center"}function rF(n,t,e,i){const{x:r,width:o}=i,l=e.caretSize+e.caretPadding;if(n==="left"&&r+o+l>t.width||n==="right"&&r-o-l<0)return!0}function aF(n,t,e,i){const{x:r,width:o}=e,{width:l,chartArea:{left:u,right:d}}=n;let f="center";return i==="center"?f=r<=(u+d)/2?"left":"right":r<=o/2?f="left":r>=l-o/2&&(f="right"),rF(f,n,t,e)&&(f="center"),f}function f1(n,t,e){const i=e.yAlign||t.yAlign||sF(n,e);return{xAlign:e.xAlign||t.xAlign||aF(n,t,e,i),yAlign:i}}function oF(n,t){let{x:e,width:i}=n;return t==="right"?e-=i:t==="center"&&(e-=i/2),e}function lF(n,t,e){let{y:i,height:r}=n;return t==="top"?i+=e:t==="bottom"?i-=r+e:i-=r/2,i}function g1(n,t,e,i){const{caretSize:r,caretPadding:o,cornerRadius:l}=n,{xAlign:u,yAlign:d}=e,f=r+o,{topLeft:p,topRight:y,bottomLeft:_,bottomRight:v}=Du(l);let S=oF(t,u);const C=lF(t,d,f);return d==="center"?u==="left"?S+=f:u==="right"&&(S-=f):u==="left"?S-=Math.max(p,_)+r:u==="right"&&(S+=Math.max(y,v)+r),{x:wi(S,0,i.width-t.width),y:wi(C,0,i.height-t.height)}}function pf(n,t,e){const i=Ii(e.padding);return t==="center"?n.x+n.width/2:t==="right"?n.x+n.width-i.right:n.x+i.left}function p1(n){return ys([],Xs(n))}function cF(n,t,e){return xo(n,{tooltip:t,tooltipItems:e,type:"tooltip"})}function m1(n,t){const e=t&&t.dataset&&t.dataset.tooltip&&t.dataset.tooltip.callbacks;return e?n.override(e):n}const xD={beforeTitle:Ks,title(n){if(n.length>0){const t=n[0],e=t.chart.data.labels,i=e?e.length:0;if(this&&this.options&&this.options.mode==="dataset")return t.dataset.label||"";if(t.label)return t.label;if(i>0&&t.dataIndex<i)return e[t.dataIndex]}return""},afterTitle:Ks,beforeBody:Ks,beforeLabel:Ks,label(n){if(this&&this.options&&this.options.mode==="dataset")return n.label+": "+n.formattedValue||n.formattedValue;let t=n.dataset.label||"";t&&(t+=": ");const e=n.formattedValue;return me(e)||(t+=e),t},labelColor(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{borderColor:e.borderColor,backgroundColor:e.backgroundColor,borderWidth:e.borderWidth,borderDash:e.borderDash,borderDashOffset:e.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(n){const e=n.chart.getDatasetMeta(n.datasetIndex).controller.getStyle(n.dataIndex);return{pointStyle:e.pointStyle,rotation:e.rotation}},afterLabel:Ks,afterBody:Ks,beforeFooter:Ks,footer:Ks,afterFooter:Ks};function Bn(n,t,e,i){const r=n[t].call(e,i);return typeof r>"u"?xD[t].call(e,i):r}class y1 extends Eo{static positioners=pu;constructor(t){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=t.chart,this.options=t.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(t){this.options=t,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const t=this._cachedAnimations;if(t)return t;const e=this.chart,i=this.options.setContext(this.getContext()),r=i.enabled&&e.options.animation&&i.animations,o=new iD(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(o)),o}getContext(){return this.$context||(this.$context=cF(this.chart.getContext(),this,this._tooltipItems))}getTitle(t,e){const{callbacks:i}=e,r=Bn(i,"beforeTitle",this,t),o=Bn(i,"title",this,t),l=Bn(i,"afterTitle",this,t);let u=[];return u=ys(u,Xs(r)),u=ys(u,Xs(o)),u=ys(u,Xs(l)),u}getBeforeBody(t,e){return p1(Bn(e.callbacks,"beforeBody",this,t))}getBody(t,e){const{callbacks:i}=e,r=[];return le(t,o=>{const l={before:[],lines:[],after:[]},u=m1(i,o);ys(l.before,Xs(Bn(u,"beforeLabel",this,o))),ys(l.lines,Bn(u,"label",this,o)),ys(l.after,Xs(Bn(u,"afterLabel",this,o))),r.push(l)}),r}getAfterBody(t,e){return p1(Bn(e.callbacks,"afterBody",this,t))}getFooter(t,e){const{callbacks:i}=e,r=Bn(i,"beforeFooter",this,t),o=Bn(i,"footer",this,t),l=Bn(i,"afterFooter",this,t);let u=[];return u=ys(u,Xs(r)),u=ys(u,Xs(o)),u=ys(u,Xs(l)),u}_createItems(t){const e=this._active,i=this.chart.data,r=[],o=[],l=[];let u=[],d,f;for(d=0,f=e.length;d<f;++d)u.push(iF(this.chart,e[d]));return t.filter&&(u=u.filter((p,y,_)=>t.filter(p,y,_,i))),t.itemSort&&(u=u.sort((p,y)=>t.itemSort(p,y,i))),le(u,p=>{const y=m1(t.callbacks,p);r.push(Bn(y,"labelColor",this,p)),o.push(Bn(y,"labelPointStyle",this,p)),l.push(Bn(y,"labelTextColor",this,p))}),this.labelColors=r,this.labelPointStyles=o,this.labelTextColors=l,this.dataPoints=u,u}update(t,e){const i=this.options.setContext(this.getContext()),r=this._active;let o,l=[];if(!r.length)this.opacity!==0&&(o={opacity:0});else{const u=pu[i.position].call(this,r,this._eventPosition);l=this._createItems(i),this.title=this.getTitle(l,i),this.beforeBody=this.getBeforeBody(l,i),this.body=this.getBody(l,i),this.afterBody=this.getAfterBody(l,i),this.footer=this.getFooter(l,i);const d=this._size=d1(this,i),f=Object.assign({},u,d),p=f1(this.chart,i,f),y=g1(i,f,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,o={opacity:1,x:y.x,y:y.y,width:d.width,height:d.height,caretX:u.x,caretY:u.y}}this._tooltipItems=l,this.$context=void 0,o&&this._resolveAnimations().update(this,o),t&&i.external&&i.external.call(this,{chart:this.chart,tooltip:this,replay:e})}drawCaret(t,e,i,r){const o=this.getCaretPosition(t,i,r);e.lineTo(o.x1,o.y1),e.lineTo(o.x2,o.y2),e.lineTo(o.x3,o.y3)}getCaretPosition(t,e,i){const{xAlign:r,yAlign:o}=this,{caretSize:l,cornerRadius:u}=i,{topLeft:d,topRight:f,bottomLeft:p,bottomRight:y}=Du(u),{x:_,y:v}=t,{width:S,height:C}=e;let w,O,L,H,q,F;return o==="center"?(q=v+C/2,r==="left"?(w=_,O=w-l,H=q+l,F=q-l):(w=_+S,O=w+l,H=q-l,F=q+l),L=w):(r==="left"?O=_+Math.max(d,p)+l:r==="right"?O=_+S-Math.max(f,y)-l:O=this.caretX,o==="top"?(H=v,q=H-l,w=O-l,L=O+l):(H=v+C,q=H+l,w=O+l,L=O-l),F=H),{x1:w,x2:O,x3:L,y1:H,y2:q,y3:F}}drawTitle(t,e,i){const r=this.title,o=r.length;let l,u,d;if(o){const f=El(i.rtl,this.x,this.width);for(t.x=pf(this,i.titleAlign,i),e.textAlign=f.textAlign(i.titleAlign),e.textBaseline="middle",l=Tn(i.titleFont),u=i.titleSpacing,e.fillStyle=i.titleColor,e.font=l.string,d=0;d<o;++d)e.fillText(r[d],f.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+u,d+1===o&&(t.y+=i.titleMarginBottom-u)}}_drawColorBox(t,e,i,r,o){const l=this.labelColors[i],u=this.labelPointStyles[i],{boxHeight:d,boxWidth:f}=o,p=Tn(o.bodyFont),y=pf(this,"left",o),_=r.x(y),v=d<p.lineHeight?(p.lineHeight-d)/2:0,S=e.y+v;if(o.usePointStyle){const C={radius:Math.min(f,d)/2,pointStyle:u.pointStyle,rotation:u.rotation,borderWidth:1},w=r.leftForLtr(_,f)+f/2,O=S+d/2;t.strokeStyle=o.multiKeyBackground,t.fillStyle=o.multiKeyBackground,A0(t,C,w,O),t.strokeStyle=l.borderColor,t.fillStyle=l.backgroundColor,A0(t,C,w,O)}else{t.lineWidth=Jt(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,t.strokeStyle=l.borderColor,t.setLineDash(l.borderDash||[]),t.lineDashOffset=l.borderDashOffset||0;const C=r.leftForLtr(_,f),w=r.leftForLtr(r.xPlus(_,1),f-2),O=Du(l.borderRadius);Object.values(O).some(L=>L!==0)?(t.beginPath(),t.fillStyle=o.multiKeyBackground,C0(t,{x:C,y:S,w:f,h:d,radius:O}),t.fill(),t.stroke(),t.fillStyle=l.backgroundColor,t.beginPath(),C0(t,{x:w,y:S+1,w:f-2,h:d-2,radius:O}),t.fill()):(t.fillStyle=o.multiKeyBackground,t.fillRect(C,S,f,d),t.strokeRect(C,S,f,d),t.fillStyle=l.backgroundColor,t.fillRect(w,S+1,f-2,d-2))}t.fillStyle=this.labelTextColors[i]}drawBody(t,e,i){const{body:r}=this,{bodySpacing:o,bodyAlign:l,displayColors:u,boxHeight:d,boxWidth:f,boxPadding:p}=i,y=Tn(i.bodyFont);let _=y.lineHeight,v=0;const S=El(i.rtl,this.x,this.width),C=function(I){e.fillText(I,S.x(t.x+v),t.y+_/2),t.y+=_+o},w=S.textAlign(l);let O,L,H,q,F,G,R;for(e.textAlign=l,e.textBaseline="middle",e.font=y.string,t.x=pf(this,w,i),e.fillStyle=i.bodyColor,le(this.beforeBody,C),v=u&&w!=="right"?l==="center"?f/2+p:f+2+p:0,q=0,G=r.length;q<G;++q){for(O=r[q],L=this.labelTextColors[q],e.fillStyle=L,le(O.before,C),H=O.lines,u&&H.length&&(this._drawColorBox(e,t,q,S,i),_=Math.max(y.lineHeight,d)),F=0,R=H.length;F<R;++F)C(H[F]),_=y.lineHeight;le(O.after,C)}v=0,_=y.lineHeight,le(this.afterBody,C),t.y-=o}drawFooter(t,e,i){const r=this.footer,o=r.length;let l,u;if(o){const d=El(i.rtl,this.x,this.width);for(t.x=pf(this,i.footerAlign,i),t.y+=i.footerMarginTop,e.textAlign=d.textAlign(i.footerAlign),e.textBaseline="middle",l=Tn(i.footerFont),e.fillStyle=i.footerColor,e.font=l.string,u=0;u<o;++u)e.fillText(r[u],d.x(t.x),t.y+l.lineHeight/2),t.y+=l.lineHeight+i.footerSpacing}}drawBackground(t,e,i,r){const{xAlign:o,yAlign:l}=this,{x:u,y:d}=t,{width:f,height:p}=i,{topLeft:y,topRight:_,bottomLeft:v,bottomRight:S}=Du(r.cornerRadius);e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,e.lineWidth=r.borderWidth,e.beginPath(),e.moveTo(u+y,d),l==="top"&&this.drawCaret(t,e,i,r),e.lineTo(u+f-_,d),e.quadraticCurveTo(u+f,d,u+f,d+_),l==="center"&&o==="right"&&this.drawCaret(t,e,i,r),e.lineTo(u+f,d+p-S),e.quadraticCurveTo(u+f,d+p,u+f-S,d+p),l==="bottom"&&this.drawCaret(t,e,i,r),e.lineTo(u+v,d+p),e.quadraticCurveTo(u,d+p,u,d+p-v),l==="center"&&o==="left"&&this.drawCaret(t,e,i,r),e.lineTo(u,d+y),e.quadraticCurveTo(u,d,u+y,d),e.closePath(),e.fill(),r.borderWidth>0&&e.stroke()}_updateAnimationTarget(t){const e=this.chart,i=this.$animations,r=i&&i.x,o=i&&i.y;if(r||o){const l=pu[t.position].call(this,this._active,this._eventPosition);if(!l)return;const u=this._size=d1(this,t),d=Object.assign({},l,this._size),f=f1(e,t,d),p=g1(t,d,f,e);(r._to!==p.x||o._to!==p.y)&&(this.xAlign=f.xAlign,this.yAlign=f.yAlign,this.width=u.width,this.height=u.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(t){const e=this.options.setContext(this.getContext());let i=this.opacity;if(!i)return;this._updateAnimationTarget(e);const r={width:this.width,height:this.height},o={x:this.x,y:this.y};i=Math.abs(i)<.001?0:i;const l=Ii(e.padding),u=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;e.enabled&&u&&(t.save(),t.globalAlpha=i,this.drawBackground(o,t,r,e),X2(t,e.textDirection),o.y+=l.top,this.drawTitle(o,t,e),this.drawBody(o,t,e),this.drawFooter(o,t,e),J2(t,e.textDirection),t.restore())}getActiveElements(){return this._active||[]}setActiveElements(t,e){const i=this._active,r=t.map(({datasetIndex:u,index:d})=>{const f=this.chart.getDatasetMeta(u);if(!f)throw new Error("Cannot find a dataset at index "+u);return{datasetIndex:u,element:f.data[d],index:d}}),o=!ag(i,r),l=this._positionChanged(r,e);(o||l)&&(this._active=r,this._eventPosition=e,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(t,e,i=!0){if(e&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,o=this._active||[],l=this._getActiveElements(t,o,e,i),u=this._positionChanged(l,t),d=e||!ag(l,o)||u;return d&&(this._active=l,(r.enabled||r.external)&&(this._eventPosition={x:t.x,y:t.y},this.update(!0,e))),d}_getActiveElements(t,e,i,r){const o=this.options;if(t.type==="mouseout")return[];if(!r)return e.filter(u=>this.chart.data.datasets[u.datasetIndex]&&this.chart.getDatasetMeta(u.datasetIndex).controller.getParsed(u.index)!==void 0);const l=this.chart.getElementsAtEventForMode(t,o.mode,o,i);return o.reverse&&l.reverse(),l}_positionChanged(t,e){const{caretX:i,caretY:r,options:o}=this,l=pu[o.position].call(this,t,e);return l!==!1&&(i!==l.x||r!==l.y)}}var uF={id:"tooltip",_element:y1,positioners:pu,afterInit(n,t,e){e&&(n.tooltip=new y1({chart:n,options:e}))},beforeUpdate(n,t,e){n.tooltip&&n.tooltip.initialize(e)},reset(n,t,e){n.tooltip&&n.tooltip.initialize(e)},afterDraw(n){const t=n.tooltip;if(t&&t._willRender()){const e={tooltip:t};if(n.notifyPlugins("beforeTooltipDraw",{...e,cancelable:!0})===!1)return;t.draw(n.ctx),n.notifyPlugins("afterTooltipDraw",e)}},afterEvent(n,t){if(n.tooltip){const e=t.replay;n.tooltip.handleEvent(t.event,e,t.inChartArea)&&(t.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(n,t)=>t.bodyFont.size,boxWidth:(n,t)=>t.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:xD},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:n=>n!=="filter"&&n!=="itemSort"&&n!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]};const hF=(n,t,e,i)=>(typeof t=="string"?(e=n.push(t)-1,i.unshift({index:e,label:t})):isNaN(t)&&(e=null),e);function dF(n,t,e,i){const r=n.indexOf(t);if(r===-1)return hF(n,t,e,i);const o=n.lastIndexOf(t);return r!==o?e:r}const fF=(n,t)=>n===null?null:wi(Math.round(n),0,t);function b1(n){const t=this.getLabels();return n>=0&&n<t.length?t[n]:n}class gF extends Yl{static id="category";static defaults={ticks:{callback:b1}};constructor(t){super(t),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(t){const e=this._addedLabels;if(e.length){const i=this.getLabels();for(const{index:r,label:o}of e)i[r]===o&&i.splice(r,1);this._addedLabels=[]}super.init(t)}parse(t,e){if(me(t))return null;const i=this.getLabels();return e=isFinite(e)&&i[e]===t?e:dF(i,t,Yt(e,t),this._addedLabels),fF(e,i.length-1)}determineDataLimits(){const{minDefined:t,maxDefined:e}=this.getUserBounds();let{min:i,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(t||(i=0),e||(r=this.getLabels().length-1)),this.min=i,this.max=r}buildTicks(){const t=this.min,e=this.max,i=this.options.offset,r=[];let o=this.getLabels();o=t===0&&e===o.length-1?o:o.slice(t,e+1),this._valueRange=Math.max(o.length-(i?0:1),1),this._startValue=this.min-(i?.5:0);for(let l=t;l<=e;l++)r.push({value:l});return r}getLabelForValue(t){return b1.call(this,t)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(t){return typeof t!="number"&&(t=this.parse(t)),t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getPixelForTick(t){const e=this.ticks;return t<0||t>e.length-1?null:this.getPixelForValue(e[t].value)}getValueForPixel(t){return Math.round(this._startValue+this.getDecimalForPixel(t)*this._valueRange)}getBasePixel(){return this.bottom}}function pF(n,t){const e=[],{bounds:r,step:o,min:l,max:u,precision:d,count:f,maxTicks:p,maxDigits:y,includeBounds:_}=n,v=o||1,S=p-1,{min:C,max:w}=t,O=!me(l),L=!me(u),H=!me(f),q=(w-C)/(y+1);let F=yw((w-C)/S/v)*v,G,R,I,N;if(F<1e-14&&!O&&!L)return[{value:C},{value:w}];N=Math.ceil(w/F)-Math.floor(C/F),N>S&&(F=yw(N*F/S/v)*v),me(d)||(G=Math.pow(10,d),F=Math.ceil(F*G)/G),r==="ticks"?(R=Math.floor(C/F)*F,I=Math.ceil(w/F)*F):(R=C,I=w),O&&L&&o&&MB((u-l)/o,F/1e3)?(N=Math.round(Math.min((u-l)/F,p)),F=(u-l)/N,R=l,I=u):H?(R=O?l:R,I=L?u:I,N=f-1,F=(I-R)/N):(N=(I-R)/F,Au(N,Math.round(N),F/1e3)?N=Math.round(N):N=Math.ceil(N));const z=Math.max(bw(F),bw(R));G=Math.pow(10,me(d)?z:d),R=Math.round(R*G)/G,I=Math.round(I*G)/G;let M=0;for(O&&(_&&R!==l?(e.push({value:l}),R<l&&M++,Au(Math.round((R+M*F)*G)/G,l,_1(l,q,n))&&M++):R<l&&M++);M<N;++M){const V=Math.round((R+M*F)*G)/G;if(L&&V>u)break;e.push({value:V})}return L&&_&&I!==u?e.length&&Au(e[e.length-1].value,u,_1(u,q,n))?e[e.length-1].value=u:e.push({value:u}):(!L||I===u)&&e.push({value:I}),e}function _1(n,t,{horizontal:e,minRotation:i}){const r=ro(i),o=(e?Math.sin(r):Math.cos(r))||.001,l=.75*t*(""+n).length;return Math.min(t/o,l)}class mF extends Yl{constructor(t){super(t),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(t,e){return me(t)||(typeof t=="number"||t instanceof Number)&&!isFinite(+t)?null:+t}handleTickRangeOptions(){const{beginAtZero:t}=this.options,{minDefined:e,maxDefined:i}=this.getUserBounds();let{min:r,max:o}=this;const l=d=>r=e?r:d,u=d=>o=i?o:d;if(t){const d=Ml(r),f=Ml(o);d<0&&f<0?u(0):d>0&&f>0&&l(0)}if(r===o){let d=o===0?1:Math.abs(o*.05);u(o+d),t||l(r-d)}this.min=r,this.max=o}getTickLimit(){const t=this.options.ticks;let{maxTicksLimit:e,stepSize:i}=t,r;return i?(r=Math.ceil(this.max/i)-Math.floor(this.min/i)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${i} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),e=e||11),e&&(r=Math.min(e,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const t=this.options,e=t.ticks;let i=this.getTickLimit();i=Math.max(2,i);const r={maxTicks:i,bounds:t.bounds,min:t.min,max:t.max,precision:e.precision,step:e.stepSize,count:e.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:e.minRotation||0,includeBounds:e.includeBounds!==!1},o=this._range||this,l=pF(r,o);return t.bounds==="ticks"&&PB(l,this,"value"),t.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const t=this.ticks;let e=this.min,i=this.max;if(super.configure(),this.options.offset&&t.length){const r=(i-e)/Math.max(t.length-1,1)/2;e-=r,i+=r}this._startValue=e,this._endValue=i,this._valueRange=i-e}getLabelForValue(t){return F2(t,this.chart.options.locale,this.options.ticks.format)}}class yF extends mF{static id="linear";static defaults={ticks:{callback:H2.formatters.numeric}};determineDataLimits(){const{min:t,max:e}=this.getMinMax(!0);this.min=wn(t)?t:0,this.max=wn(e)?e:1,this.handleTickRangeOptions()}computeTickLimit(){const t=this.isHorizontal(),e=t?this.width:this.height,i=ro(this.options.ticks.minRotation),r=(t?Math.sin(i):Math.cos(i))||.001,o=this._resolveTickFontOptions(0);return Math.ceil(e/Math.min(40,o.lineHeight/r))}getPixelForValue(t){return t===null?NaN:this.getPixelForDecimal((t-this._startValue)/this._valueRange)}getValueForPixel(t){return this._startValue+this.getDecimalForPixel(t)*this._valueRange}}const Qg={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Hn=Object.keys(Qg);function v1(n,t){return n-t}function x1(n,t){if(me(t))return null;const e=n._adapter,{parser:i,round:r,isoWeekday:o}=n._parseOpts;let l=t;return typeof i=="function"&&(l=i(l)),wn(l)||(l=typeof i=="string"?e.parse(l,i):e.parse(l)),l===null?null:(r&&(l=r==="week"&&(Xu(o)||o===!0)?e.startOf(l,"isoWeek",o):e.startOf(l,r)),+l)}function E1(n,t,e,i){const r=Hn.length;for(let o=Hn.indexOf(n);o<r-1;++o){const l=Qg[Hn[o]],u=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((e-t)/(u*l.size))<=i)return Hn[o]}return Hn[r-1]}function bF(n,t,e,i,r){for(let o=Hn.length-1;o>=Hn.indexOf(e);o--){const l=Hn[o];if(Qg[l].common&&n._adapter.diff(r,i,l)>=t-1)return l}return Hn[e?Hn.indexOf(e):0]}function _F(n){for(let t=Hn.indexOf(n)+1,e=Hn.length;t<e;++t)if(Qg[Hn[t]].common)return Hn[t]}function T1(n,t,e){if(!e)n[t]=!0;else if(e.length){const{lo:i,hi:r}=o_(e,t),o=e[i]>=t?e[i]:e[r];n[o]=!0}}function vF(n,t,e,i){const r=n._adapter,o=+r.startOf(t[0].value,i),l=t[t.length-1].value;let u,d;for(u=o;u<=l;u=+r.add(u,1,i))d=e[u],d>=0&&(t[d].major=!0);return t}function S1(n,t,e){const i=[],r={},o=t.length;let l,u;for(l=0;l<o;++l)u=t[l],r[u]=l,i.push({value:u,major:!1});return o===0||!e?i:vF(n,i,r,e)}class w1 extends Yl{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(t){super(t),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(t,e={}){const i=t.time||(t.time={}),r=this._adapter=new u8._date(t.adapters.date);r.init(e),wu(i.displayFormats,r.formats()),this._parseOpts={parser:i.parser,round:i.round,isoWeekday:i.isoWeekday},super.init(t),this._normalized=e.normalized}parse(t,e){return t===void 0?null:x1(this,t)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const t=this.options,e=this._adapter,i=t.time.unit||"day";let{min:r,max:o,minDefined:l,maxDefined:u}=this.getUserBounds();function d(f){!l&&!isNaN(f.min)&&(r=Math.min(r,f.min)),!u&&!isNaN(f.max)&&(o=Math.max(o,f.max))}(!l||!u)&&(d(this._getLabelBounds()),(t.bounds!=="ticks"||t.ticks.source!=="labels")&&d(this.getMinMax(!1))),r=wn(r)&&!isNaN(r)?r:+e.startOf(Date.now(),i),o=wn(o)&&!isNaN(o)?o:+e.endOf(Date.now(),i)+1,this.min=Math.min(r,o-1),this.max=Math.max(r+1,o)}_getLabelBounds(){const t=this.getLabelTimestamps();let e=Number.POSITIVE_INFINITY,i=Number.NEGATIVE_INFINITY;return t.length&&(e=t[0],i=t[t.length-1]),{min:e,max:i}}buildTicks(){const t=this.options,e=t.time,i=t.ticks,r=i.source==="labels"?this.getLabelTimestamps():this._generate();t.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const o=this.min,l=this.max,u=UB(r,o,l);return this._unit=e.unit||(i.autoSkip?E1(e.minUnit,this.min,this.max,this._getLabelCapacity(o)):bF(this,u.length,e.minUnit,this.min,this.max)),this._majorUnit=!i.major.enabled||this._unit==="year"?void 0:_F(this._unit),this.initOffsets(r),t.reverse&&u.reverse(),S1(this,u,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(t=>+t.value))}initOffsets(t=[]){let e=0,i=0,r,o;this.options.offset&&t.length&&(r=this.getDecimalForValue(t[0]),t.length===1?e=1-r:e=(this.getDecimalForValue(t[1])-r)/2,o=this.getDecimalForValue(t[t.length-1]),t.length===1?i=o:i=(o-this.getDecimalForValue(t[t.length-2]))/2);const l=t.length<3?.5:.25;e=wi(e,0,l),i=wi(i,0,l),this._offsets={start:e,end:i,factor:1/(e+1+i)}}_generate(){const t=this._adapter,e=this.min,i=this.max,r=this.options,o=r.time,l=o.unit||E1(o.minUnit,e,i,this._getLabelCapacity(e)),u=Yt(r.ticks.stepSize,1),d=l==="week"?o.isoWeekday:!1,f=Xu(d)||d===!0,p={};let y=e,_,v;if(f&&(y=+t.startOf(y,"isoWeek",d)),y=+t.startOf(y,f?"day":l),t.diff(i,e,l)>1e5*u)throw new Error(e+" and "+i+" are too far apart with stepSize of "+u+" "+l);const S=r.ticks.source==="data"&&this.getDataTimestamps();for(_=y,v=0;_<i;_=+t.add(_,u,l),v++)T1(p,_,S);return(_===i||r.bounds==="ticks"||v===1)&&T1(p,_,S),Object.keys(p).sort(v1).map(C=>+C)}getLabelForValue(t){const e=this._adapter,i=this.options.time;return i.tooltipFormat?e.format(t,i.tooltipFormat):e.format(t,i.displayFormats.datetime)}format(t,e){const r=this.options.time.displayFormats,o=this._unit,l=e||r[o];return this._adapter.format(t,l)}_tickFormatFunction(t,e,i,r){const o=this.options,l=o.ticks.callback;if(l)return _e(l,[t,e,i],this);const u=o.time.displayFormats,d=this._unit,f=this._majorUnit,p=d&&u[d],y=f&&u[f],_=i[e],v=f&&y&&_&&_.major;return this._adapter.format(t,r||(v?y:p))}generateTickLabels(t){let e,i,r;for(e=0,i=t.length;e<i;++e)r=t[e],r.label=this._tickFormatFunction(r.value,e,t)}getDecimalForValue(t){return t===null?NaN:(t-this.min)/(this.max-this.min)}getPixelForValue(t){const e=this._offsets,i=this.getDecimalForValue(t);return this.getPixelForDecimal((e.start+i)*e.factor)}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return this.min+i*(this.max-this.min)}_getLabelSize(t){const e=this.options.ticks,i=this.ctx.measureText(t).width,r=ro(this.isHorizontal()?e.maxRotation:e.minRotation),o=Math.cos(r),l=Math.sin(r),u=this._resolveTickFontOptions(0).size;return{w:i*o+u*l,h:i*l+u*o}}_getLabelCapacity(t){const e=this.options.time,i=e.displayFormats,r=i[e.unit]||i.millisecond,o=this._tickFormatFunction(t,0,S1(this,[t],this._majorUnit),r),l=this._getLabelSize(o),u=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return u>0?u:1}getDataTimestamps(){let t=this._cache.data||[],e,i;if(t.length)return t;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(e=0,i=r.length;e<i;++e)t=t.concat(r[e].controller.getAllParsedValues(this));return this._cache.data=this.normalize(t)}getLabelTimestamps(){const t=this._cache.labels||[];let e,i;if(t.length)return t;const r=this.getLabels();for(e=0,i=r.length;e<i;++e)t.push(x1(this,r[e]));return this._cache.labels=this._normalized?t:this.normalize(t)}normalize(t){return HB(t.sort(v1))}}function mf(n,t,e){let i=0,r=n.length-1,o,l,u,d;e?(t>=n[i].pos&&t<=n[r].pos&&({lo:i,hi:r}=ao(n,"pos",t)),{pos:o,time:u}=n[i],{pos:l,time:d}=n[r]):(t>=n[i].time&&t<=n[r].time&&({lo:i,hi:r}=ao(n,"time",t)),{time:o,pos:u}=n[i],{time:l,pos:d}=n[r]);const f=l-o;return f?u+(d-u)*(t-o)/f:u}class KF extends w1{static id="timeseries";static defaults=w1.defaults;constructor(t){super(t),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const t=this._getTimestampsForTable(),e=this._table=this.buildLookupTable(t);this._minPos=mf(e,this.min),this._tableRange=mf(e,this.max)-this._minPos,super.initOffsets(t)}buildLookupTable(t){const{min:e,max:i}=this,r=[],o=[];let l,u,d,f,p;for(l=0,u=t.length;l<u;++l)f=t[l],f>=e&&f<=i&&r.push(f);if(r.length<2)return[{time:e,pos:0},{time:i,pos:1}];for(l=0,u=r.length;l<u;++l)p=r[l+1],d=r[l-1],f=r[l],Math.round((p+d)/2)!==f&&o.push({time:f,pos:l/(u-1)});return o}_generate(){const t=this.min,e=this.max;let i=super.getDataTimestamps();return(!i.includes(t)||!i.length)&&i.splice(0,0,t),(!i.includes(e)||i.length===1)&&i.push(e),i.sort((r,o)=>r-o)}_getTimestampsForTable(){let t=this._cache.all||[];if(t.length)return t;const e=this.getDataTimestamps(),i=this.getLabelTimestamps();return e.length&&i.length?t=this.normalize(e.concat(i)):t=e.length?e:i,t=this._cache.all=t,t}getDecimalForValue(t){return(mf(this._table,t)-this._minPos)/this._tableRange}getValueForPixel(t){const e=this._offsets,i=this.getDecimalForPixel(t)/e.factor-e.end;return mf(this._table,i*this._tableRange+this._minPos,!0)}}const ED="label";function A1(n,t){typeof n=="function"?n(t):n&&(n.current=t)}function xF(n,t){const e=n.options;e&&t&&Object.assign(e,t)}function TD(n,t){n.labels=t}function SD(n,t,e=ED){const i=[];n.datasets=t.map(r=>{const o=n.datasets.find(l=>l[e]===r[e]);return!o||!r.data||i.includes(o)?{...r}:(i.push(o),Object.assign(o,r),o)})}function EF(n,t=ED){const e={labels:[],datasets:[]};return TD(e,n.labels),SD(e,n.datasets,t),e}function TF(n,t){const{height:e=150,width:i=300,redraw:r=!1,datasetIdKey:o,type:l,data:u,options:d,plugins:f=[],fallbackContent:p,updateMode:y,..._}=n,v=W.useRef(null),S=W.useRef(null),C=()=>{v.current&&(S.current=new Wg(v.current,{type:l,data:EF(u,o),options:d&&{...d},plugins:f}),A1(t,S.current))},w=()=>{A1(t,null),S.current&&(S.current.destroy(),S.current=null)};return W.useEffect(()=>{!r&&S.current&&d&&xF(S.current,d)},[r,d]),W.useEffect(()=>{!r&&S.current&&TD(S.current.config.data,u.labels)},[r,u.labels]),W.useEffect(()=>{!r&&S.current&&u.datasets&&SD(S.current.config.data,u.datasets,o)},[r,u.datasets]),W.useEffect(()=>{S.current&&(r?(w(),setTimeout(C)):S.current.update(y))},[r,d,u.labels,u.datasets,y]),W.useEffect(()=>{S.current&&(w(),setTimeout(C))},[l]),W.useEffect(()=>(C(),()=>w()),[]),A.jsx("canvas",{ref:v,role:"img",height:e,width:i,..._,children:p})}const SF=W.forwardRef(TF);function wF(n,t){return Wg.register(t),W.forwardRef((e,i)=>A.jsx(SF,{...e,ref:i,type:n}))}const AF=wF("line",c8);Wg.register(gF,yF,I7,Yg,nF,uF,tF,Y7);const CF=({entries:n,tracker:t,onDateClick:e})=>{const{theme:i,themeMode:r,isAmoled:o}=Di(),{chartData:l,fullDateLabels:u}=W.useMemo(()=>{if(!n||n.length===0)return{chartData:{labels:[],datasets:[]},fullDateLabels:[]};const y={};n.forEach(F=>{const G=nn(F.date);y[G]||(y[G]=[]),y[G].push(Number(F.value))});const _=Object.keys(y).sort((F,G)=>new Date(F)-new Date(G));if(_.length===0)return{chartData:{labels:[],datasets:[]},fullDateLabels:[]};const v=new Date(_[0]);let S=new Date(_[_.length-1]),C=null;if(t.showTrendForecast&&n.length>1&&(C=n_(n,t),C)){const F=new Date(C.date);F>S&&(S=F)}const w=[],O=[];for(let F=new Date(v);F<=S;F.setDate(F.getDate()+1)){const G=nn(F);if(w.push(G),y[G]){const R=t.aggregation||"average";O.push(D2(y[G],R))}else O.push(null)}if(t.aggregation==="sum"&&t.goalPeriod!=="daily"){let F=0;for(let G=0;G<O.length;G++)O[G]!==null&&(F+=O[G]),O[G]=F}const L=w.map(F=>Xj(F)),q=[{label:t.name,data:[...O],borderColor:i.chartLine,backgroundColor:i.chartFill,tension:.3,fill:!0,pointBackgroundColor:i.chartPoint,pointRadius:F=>F.raw===null?0:4,pointHoverRadius:F=>F.raw===null?0:6,spanGaps:!0}];if(t.goalDirection==="target"&&t.targetValue&&q.push({label:"Target",data:new Array(L.length).fill(t.targetValue),borderColor:o?"#22c55e":"#16a34a",borderDash:[5,5],pointRadius:0,borderWidth:2,fill:!1,tension:0}),C){const F=new Array(L.length).fill(null);let G=-1;for(let I=O.length-1;I>=0;I--)if(O[I]!==null){G=I;break}const R=L.length-1;G!==-1&&G<R&&(F[G]=O[G],F[R]=t.targetValue,q.push({label:"Trend",data:F,borderColor:"#fbbf24",borderDash:[4,4],pointRadius:4,pointBackgroundColor:"#fbbf24",spanGaps:!0,fill:!1,tension:0}))}return{chartData:{labels:L,datasets:q},fullDateLabels:w}},[n,t,i,o]),d=o?"#27272a":r==="dark"?"#334155":"#E4E4E7",f=o||r==="dark"?"#A1A1AA":"#71717A",p={responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{callbacks:{label:y=>y.raw===null?"":`${y.dataset.label}: ${y.raw} ${t.unit||""}`},filter:y=>y.raw!==null}},scales:{y:{beginAtZero:!1,grace:"5%",grid:{color:d},ticks:{color:f}},x:{grid:{display:!1},ticks:{color:f,maxTicksLimit:8,maxRotation:0}}},onClick:(y,_)=>{if(_.length>0&&e){const v=_.find(S=>S.datasetIndex===0);if(v){const S=v.index;S<u.length&&e(u[S])}}}};return n.length===0?A.jsx("div",{className:"h-full flex items-center justify-center text-zinc-400",children:"No data yet"}):A.jsx("div",{className:"h-64 w-full",children:A.jsx(AF,{data:l,options:p})})},IF=({entries:n,tracker:t,onDateClick:e})=>{const{theme:i,isAmoled:r}=Di(),[o,l]=W.useState(new Date),{daysInMonth:u,startDay:d}=W.useMemo(()=>I2(o.getFullYear(),o.getMonth()),[o]),f=v=>{const S=new Date(o);S.setMonth(S.getMonth()+v),l(S)},p=W.useMemo(()=>t.showTrendForecast?n_(n,t):null,[n,t]),y=W.useMemo(()=>{const v={};n.forEach(w=>{const O=nn(w.date);v[O]||(v[O]=[]),v[O].push(w)});const S=Object.keys(v).sort(),C={};return S.forEach((w,O)=>{const H=v[w].map(I=>I.value);let q=0;t.aggregation==="sum"&&t.goalPeriod==="daily"?q=H.reduce((I,N)=>I+N,0):q=H.reduce((I,N)=>I+N,0)/H.length;let F=null,G=null;if(O>0){const I=S[O-1],N=v[I];t.aggregation==="sum"&&t.goalPeriod==="daily"?G=N.reduce((z,M)=>z+M.value,0):G=N.reduce((z,M)=>z+M.value,0)/N.length}const R=E0(q,t,G);if(R.isHit===!0)F=!0;else if(R.isHit===!1)if(t.goalDirection==="target"&&G!==null){const I=E0(G,t,null);R.diff<I.diff?F=!0:F=!1}else F=!1;C[w]={value:q,isGood:F}}),C},[n,t]),_=[];for(let v=0;v<d;v++)_.push(A.jsx("div",{className:`h-20 md:h-24 rounded-xl ${r?"bg-zinc-900/30":"bg-zinc-50/50 dark:bg-zinc-900/30"}`},`empty-${v}`));for(let v=1;v<=u;v++){const S=new Date(o.getFullYear(),o.getMonth(),v),C=nn(S),w=y[C],O=nn(new Date)===C,L=p&&p.date===C;let H=`${i.secondary} ${i.border}`,q="text-zinc-500";w?w.isGood===!0?(H=`border-emerald-200 dark:border-emerald-800 ${r?"bg-emerald-900/40":"bg-emerald-50 dark:bg-emerald-900/20"}`,q="text-emerald-700 dark:text-emerald-400"):w.isGood===!1&&(H=`border-red-200 dark:border-red-800 ${r?"bg-red-900/40":"bg-red-50 dark:bg-red-900/20"}`,q="text-red-700 dark:text-red-400"):H=r?"border-zinc-800 bg-zinc-900/50 hover:bg-zinc-900":"border-zinc-200 dark:border-zinc-700 bg-white dark:bg-zinc-800 hover:bg-zinc-50 dark:hover:bg-zinc-700/50",L&&(H=`border-amber-400 dark:border-amber-500 ${r?"bg-amber-900/20":"bg-amber-50 dark:bg-amber-900/10"} ring-1 ring-amber-400 z-10`,w||(q="text-amber-600 dark:text-amber-400 font-bold")),_.push(A.jsxs("div",{onClick:()=>e&&e(C),className:`
                    h-20 md:h-24 border rounded-xl p-1 md:p-2 cursor-pointer relative flex flex-col justify-between group 
                    transition-all duration-300 hover:scale-[1.02] hover:shadow-md
                    ${H}
                    ${O?`ring-2 ${i.ring} ring-offset-2 dark:ring-offset-zinc-800`:""}
                `,children:[A.jsx("span",{className:`text-xs md:text-sm font-medium ${w||L?q:"text-zinc-400"}`,children:v}),w?A.jsxs("div",{className:"text-right",children:[A.jsx("span",{className:`block text-sm md:text-lg font-bold leading-tight ${r||q.includes("zinc")?"dark:text-white":q}`,children:t.type==="boolean"?w.value?"Yes":"No":w.value.toFixed(t.type==="numeric"?1:0)}),A.jsx("span",{className:"text-[9px] md:text-[10px] text-zinc-500 uppercase tracking-wider",children:t.unit})]}):A.jsx("div",{className:"opacity-0 group-hover:opacity-100 absolute inset-0 flex items-center justify-center text-zinc-300 dark:text-zinc-600 transition-opacity",children:A.jsx(Uu,{className:"w-6 h-6"})}),L&&A.jsxs("span",{className:"absolute top-1.5 right-1.5 flex h-2 w-2",children:[A.jsx("span",{className:"animate-ping absolute inline-flex h-full w-full rounded-full bg-amber-400 opacity-75"}),A.jsx("span",{className:"relative inline-flex rounded-full h-2 w-2 bg-amber-500"})]})]},v))}return A.jsxs("div",{className:"animate-in fade-in duration-500",children:[A.jsxs("div",{className:"flex items-center justify-between mb-4",children:[A.jsx("h3",{className:"text-lg font-bold dark:text-white",children:o.toLocaleDateString("en-US",{month:"long",year:"numeric"})}),A.jsxs("div",{className:"flex space-x-2",children:[A.jsx("button",{onClick:()=>f(-1),className:"p-2 hover:bg-zinc-100 dark:hover:bg-zinc-700 rounded-lg text-zinc-600 dark:text-zinc-400",children:A.jsx(uI,{className:"w-5 h-5"})}),A.jsx("button",{onClick:()=>f(1),className:"p-2 hover:bg-zinc-100 dark:hover:bg-zinc-700 rounded-lg text-zinc-600 dark:text-zinc-400",children:A.jsx(Db,{className:"w-5 h-5"})})]})]}),A.jsxs("div",{className:"grid grid-cols-7 gap-2",children:[["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(v=>A.jsx("div",{className:"text-center text-xs font-semibold text-zinc-400 uppercase tracking-wide py-2",children:v},v)),_]})]})},DF=({entries:n,tracker:t})=>{const{isAmoled:e}=Di(),i=W.useMemo(()=>{const _=n.length,v=new Set(n.map(S=>nn(S.date))).size;return{totalLogs:_,uniqueDays:v}},[n]);n.length>0&&n[0];const r=W.useMemo(()=>{if(!n||n.length===0)return null;if(t.goalPeriod==="longTerm")return n[0].value;const _=nn(new Date),v=n.filter(S=>nn(S.date)===_);return v.length===0?0:D2(v.map(S=>S.value),t.aggregation||"average")},[n,t]),o=W.useMemo(()=>t.showTrendForecast?n_(n,t):null,[n,t]),{streak:l}=W.useMemo(()=>{const _=n.map(v=>nn(v.date));return R2(_,t.enableStreak)},[n,t.enableStreak]),u=W.useMemo(()=>r===null?{label:"No Data",isHit:null}:E0(r,t,null),[r,t]);let d="text-zinc-400";u.isHit===!0?d="text-green-500":u.isHit===!1?d="text-red-500":t.goalDirection!=="none"&&(d="text-blue-500");const f=e?"p-4 rounded-xl border border-zinc-800 bg-black":"p-4 rounded-xl shadow-sm border border-zinc-200 dark:border-zinc-700 bg-white dark:bg-zinc-800",p=({label:_,value:v,subtext:S,icon:C,colorClass:w})=>A.jsxs("div",{className:f,children:[A.jsxs("p",{className:"text-sm text-zinc-500 mb-1 flex items-center gap-1 font-medium uppercase text-[10px] tracking-wide",children:[C&&A.jsx(C,{className:`w-3.5 h-3.5 ${w}`}),_]}),A.jsx("p",{className:"text-2xl font-bold dark:text-white truncate",children:v}),S&&A.jsx("p",{className:"text-xs text-zinc-400 mt-1",children:S})]}),y=()=>o?`Est. ${o.daysLeft} days left (${nn(o.date)})`:t.goalDirection==="target"?`Target: ${t.targetValue}`:"Direction";return A.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4 animate-in slide-in-from-bottom-2 duration-500",children:[A.jsx(p,{label:"Active Days",value:i.uniqueDays,subtext:`Total entries: ${i.totalLogs}`,icon:Ib,colorClass:"text-blue-500"}),A.jsx(p,{label:t.goalPeriod==="longTerm"?"Latest":"Today",value:r!==null?Number(r).toFixed(t.type==="numeric"||t.type==="percentage"?1:0):"-",subtext:t.unit?t.unit:"No unit",icon:Pg,colorClass:"text-purple-500"}),A.jsx(p,{label:"Goal",value:u.isHit!==null?u.label:t.goalDirection==="none"?"No Goal":t.goalDirection,subtext:y(),icon:bL,colorClass:d}),A.jsx(p,{label:"Streak",value:t.enableStreak?`${l} Day${l===1?"":"s"}`:"Disabled",icon:Rb,colorClass:"text-amber-500"})]})},m_=({isOpen:n,onClose:t,title:e,children:i})=>{const{isAmoled:r,theme:o}=Di();if(!n)return null;const l=r?"bg-black/90":"bg-zinc-900/60 backdrop-blur-sm",u=r?"bg-black border border-zinc-800":"bg-white dark:bg-zinc-800 shadow-2xl border border-transparent dark:border-zinc-700",d=r?"border-zinc-800":"border-zinc-200 dark:border-zinc-700",f=r?{boxShadow:`0 0 50px -10px ${o.chartLine}40`}:{};return A.jsx("div",{className:`fixed inset-0 z-50 flex items-center justify-center p-4 ${l}`,onClick:t,children:A.jsxs("div",{className:`
            w-full max-w-lg overflow-hidden flex flex-col max-h-[90vh] rounded-2xl
            animate-in fade-in zoom-in-95 duration-200
            ${u}
        `,style:f,onClick:p=>p.stopPropagation(),children:[A.jsxs("div",{className:`p-6 flex justify-between items-center border-b ${d}`,children:[A.jsx("h2",{className:"text-xl font-bold dark:text-white",children:e}),A.jsx("button",{onClick:t,className:"text-zinc-500 hover:text-zinc-800 dark:hover:text-white transition-colors",children:A.jsx(kb,{className:"w-5 h-5"})})]}),A.jsx("div",{className:"p-6 space-y-6 overflow-y-auto custom-scrollbar",children:i})]})})},RF=({value:n,onChange:t})=>{const{theme:e,isAmoled:i}=Di(),[r,o]=W.useState(()=>n?new Date(n):new Date);W.useEffect(()=>{n&&o(new Date(n))},[n]);const{daysInMonth:l,startDay:u}=W.useMemo(()=>I2(r.getFullYear(),r.getMonth()),[r]),d=(p,y)=>{y.preventDefault();const _=new Date(r);_.setMonth(_.getMonth()+p),o(_)},f=[];for(let p=0;p<u;p++)f.push(A.jsx("div",{className:"h-8 md:h-9"},`empty-${p}`));for(let p=1;p<=l;p++){const y=new Date(r.getFullYear(),r.getMonth(),p),_=nn(y),v=_===n;f.push(A.jsx("button",{onClick:S=>{S.preventDefault(),t(_)},className:`
                    h-8 md:h-9 w-full rounded-lg text-sm font-medium transition-all active:scale-95 
                    ${v?`${e.primary} shadow-md text-white`:"text-zinc-600 dark:text-zinc-400 hover:bg-zinc-100 dark:hover:bg-zinc-700"}
                `,children:p},p))}return A.jsxs("div",{className:`border rounded-xl p-4 transition-colors ${i?"border-zinc-800 bg-zinc-900":"border-zinc-200 dark:border-zinc-700 bg-zinc-50 dark:bg-zinc-900/50"}`,children:[A.jsxs("div",{className:"flex items-center justify-between mb-4",children:[A.jsx("span",{className:"font-bold text-zinc-800 dark:text-white",children:r.toLocaleDateString("en-US",{month:"long",year:"numeric"})}),A.jsxs("div",{className:"flex space-x-1",children:[A.jsx("button",{onClick:p=>d(-1,p),className:"p-1.5 hover:bg-zinc-200 dark:hover:bg-zinc-700 rounded-lg text-zinc-500",children:A.jsx(uI,{className:"w-4 h-4"})}),A.jsx("button",{onClick:p=>d(1,p),className:"p-1.5 hover:bg-zinc-200 dark:hover:bg-zinc-700 rounded-lg text-zinc-500",children:A.jsx(Db,{className:"w-4 h-4"})})]})]}),A.jsxs("div",{className:"grid grid-cols-7 gap-1",children:[["Su","Mo","Tu","We","Th","Fr","Sa"].map(p=>A.jsx("div",{className:"text-center text-xs font-semibold text-zinc-400 mb-1",children:p},p)),f]})]})},NF=({isOpen:n,onClose:t,tracker:e,initialDate:i})=>{const{user:r}=cr(),{entries:o}=k2(e?.id),{theme:l,isAmoled:u,themeMode:d}=Di(),[f,p]=W.useState(i||nn(new Date)),[y,_]=W.useState(null);W.useEffect(()=>{n&&(p(i||nn(new Date)),_(null))},[n,i]);const v=W.useMemo(()=>o.filter(L=>nn(L.date)===f).sort((L,H)=>H.timestamp-L.timestamp),[o,f]),S=async()=>{await Kf(ii(We,"artifacts","default-app-id","users",r.uid,"trackers",e.id),{updatedAt:xl()})},C=async L=>{const H={value:L.value,note:L.note,date:f};try{const q=mo(We,"artifacts","default-app-id","users",r.uid,"trackers",e.id,"entries");L.id&&L.id!=="new"?await Kf(ii(q,L.id),H):await rI(q,{...H,timestamp:xl()}),await S(),_(null)}catch(q){console.error(q)}},w=async L=>{L!=="new"&&(await sI(ii(We,"artifacts","default-app-id","users",r.uid,"trackers",e.id,"entries",L)),await S()),_(null)};if(!n||!e)return null;const O=`w-full py-3 rounded-xl font-medium shadow-lg text-white hover:scale-[1.01] active:scale-[0.98] flex items-center justify-center gap-2 ${l.primary}`;return A.jsxs(m_,{isOpen:n,onClose:t,title:`Entries for ${e.name}`,isAmoled:u,children:[A.jsx("div",{className:"mb-6",style:{colorScheme:u||d==="dark"?"dark":"light"},children:A.jsx(RF,{value:f,onChange:p,theme:l,isAmoled:u,className:u?"bg-zinc-900 border-zinc-800 text-white":void 0})}),A.jsxs("div",{className:"space-y-4",children:[v.length===0&&y!=="new"&&A.jsxs("div",{className:"text-center py-8",children:[A.jsx("div",{className:`inline-flex p-4 rounded-full mb-4 ${u?"bg-zinc-900":"bg-zinc-100 dark:bg-zinc-800"}`,children:A.jsx(L5,{className:"w-8 h-8 text-zinc-400"})}),A.jsx("p",{className:"text-zinc-500 mb-6",children:"No entries for this day."}),A.jsxs("button",{onClick:()=>_("new"),className:O,children:[A.jsx(Uu,{className:"w-5 h-5"})," Log Entry"]})]}),y==="new"&&A.jsx(C1,{tracker:e,onSave:C,onCancel:()=>_(null),theme:l,isAmoled:u}),v.map(L=>y===L.id?A.jsx(C1,{entry:L,tracker:e,onSave:C,onDelete:()=>w(L.id),onCancel:()=>_(null),theme:l,isAmoled:u},L.id):A.jsx(kF,{entry:L,tracker:e,onClick:()=>_(L.id),theme:l,isAmoled:u},L.id)),v.length>0&&y!=="new"&&A.jsxs("button",{onClick:()=>_("new"),className:O,children:[A.jsx(Uu,{className:"w-5 h-5"})," Add Another"]})]})]})},kF=({entry:n,tracker:t,onClick:e,theme:i,isAmoled:r})=>A.jsxs("div",{onClick:e,className:`
        p-4 rounded-xl border flex justify-between items-center cursor-pointer transition-all group
        ${r?"border-zinc-800 bg-black hover:bg-zinc-900":"border-zinc-200 dark:border-zinc-700 bg-white dark:bg-zinc-800 hover:border-zinc-300 shadow-sm hover:shadow-md"}
    `,children:[A.jsxs("div",{className:"flex items-center gap-3 overflow-hidden mr-4",children:[n.note&&A.jsx(gI,{className:"w-4 h-4 text-zinc-400 shrink-0"}),A.jsx("span",{className:`truncate text-sm ${n.note?"text-zinc-700 dark:text-zinc-300":"text-zinc-400 italic"}`,children:n.note||"No note"})]}),A.jsxs("div",{className:`font-mono font-bold text-lg ${i.text}`,children:[t.type==="boolean"?n.value?"Completed":"Skipped":n.value,(t.type==="numeric"||t.type==="percentage")&&A.jsx("span",{className:"text-xs ml-1 text-zinc-400 font-normal",children:t.unit})]})]}),C1=({entry:n={},tracker:t,onSave:e,onDelete:i,onCancel:r,theme:o,isAmoled:l})=>{const u=n.value!==void 0?String(n.value):t.type==="percentage"?"50":"",[d,f]=W.useState(u),[p,y]=W.useState(n.note||""),_=()=>{if(!d&&d!==0&&d!=="0")return;let C=parseFloat(d);t.type==="boolean"&&(C=d==="true"),e({id:n.id||"new",value:C,note:p})},v={value:d,setValue:f,theme:o,isAmoled:l,tracker:t},S=l?"bg-black border-zinc-800":"bg-white dark:bg-zinc-800 border-zinc-200 dark:border-zinc-700";return A.jsx("div",{className:`p-5 rounded-xl border animate-in fade-in zoom-in-95 duration-200 ${S}`,children:A.jsxs("div",{className:"space-y-4",children:[A.jsxs("div",{children:[t.type!=="boolean"&&t.type!=="percentage"&&A.jsx("label",{className:"text-xs font-bold text-zinc-500 uppercase mb-1.5 block",children:"Value"}),t.type==="percentage"&&A.jsx(OF,{...v}),t.type==="numeric"&&A.jsx(MF,{...v}),t.type==="boolean"&&A.jsx(PF,{...v}),t.type==="rating"&&A.jsx(zF,{...v})]}),A.jsxs("div",{children:[A.jsxs("label",{className:"flex items-center gap-2 text-xs font-bold text-zinc-500 uppercase mb-1.5",children:[A.jsx(gI,{className:"w-3 h-3"})," Note"]}),A.jsx("textarea",{value:p,onChange:C=>y(C.target.value),className:`w-full rounded-xl border px-4 py-3 min-h-[80px] resize-none text-sm focus:outline-none focus:ring-2 ${l?"bg-zinc-900 border-zinc-800 placeholder-zinc-600":"bg-zinc-50 dark:bg-zinc-900 border-zinc-300 dark:border-zinc-700 placeholder-zinc-400"} ${o.ring}`,placeholder:"Add a comment..."})]}),A.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[i&&A.jsx("button",{onClick:i,className:"p-3 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-xl transition-colors",children:A.jsx(Nb,{className:"w-5 h-5"})}),A.jsx("button",{onClick:r,className:"px-5 py-3 text-zinc-500 font-medium hover:bg-zinc-100 dark:hover:bg-zinc-700 rounded-xl transition-colors",children:"Cancel"}),A.jsxs("button",{onClick:_,disabled:!d&&d!==0&&d!=="0",className:`px-6 py-3 text-white font-medium rounded-xl shadow-lg active:scale-95 disabled:opacity-50 flex items-center ${o.primary}`,children:[A.jsx(cL,{className:"w-4 h-4 mr-2"})," Save"]})]})]})})},OF=({value:n,setValue:t,isAmoled:e})=>{const i=parseInt(n)||0;return A.jsxs("div",{className:"py-2",children:[A.jsxs("div",{className:"flex flex-col items-center justify-center mb-6",children:[A.jsx("span",{className:"text-xs font-bold text-zinc-400 uppercase tracking-widest mb-1",children:"Progress"}),A.jsxs("div",{className:`text-5xl font-black tracking-tighter tabular-nums ${e?"text-white":"text-zinc-900 dark:text-white"}`,children:[i,A.jsx("span",{className:"text-2xl text-zinc-400 ml-0.5",children:"%"})]})]}),A.jsxs("div",{className:"relative h-10 w-full flex items-center px-2",children:[A.jsx("div",{className:"absolute left-0 right-0 h-4 rounded-full overflow-hidden",style:{background:"linear-gradient(to right, #ef4444 0%, #eab308 50%, #22c55e 100%)"},children:A.jsx("div",{className:"absolute inset-0 shadow-inner bg-black/5"})}),A.jsx("input",{type:"range",min:"0",max:"100",value:n,onChange:o=>t(o.target.value),className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer z-20"}),A.jsx("div",{className:"absolute h-9 w-9 bg-white rounded-full shadow-lg border-[3px] border-zinc-100 dark:border-zinc-300 pointer-events-none transition-all duration-75 ease-out z-10",style:{left:`calc(${i}% + (${8-i*.16}px) - 20px)`}})]})]})},MF=({value:n,setValue:t,theme:e,isAmoled:i,tracker:r})=>A.jsxs("div",{className:"relative",children:[A.jsx("input",{type:"number",value:n,onChange:o=>t(o.target.value),className:`w-full px-4 py-3 text-lg font-mono font-medium rounded-xl border focus:outline-none focus:ring-2 dark:text-white ${i?"bg-zinc-900 border-zinc-800":"bg-zinc-50 dark:bg-zinc-900 border-zinc-300 dark:border-zinc-700"} ${e.ring}`,autoFocus:!0,placeholder:"0"}),A.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-sm font-medium text-zinc-400 pointer-events-none",children:r.unit})]}),PF=({value:n,setValue:t,isAmoled:e})=>{const i=n==="true",r=e?"border-zinc-800 text-zinc-400 hover:bg-zinc-900 bg-transparent":"border-zinc-300 dark:border-zinc-700 text-zinc-500 dark:text-zinc-400 hover:bg-zinc-50 dark:hover:bg-zinc-800 bg-transparent";return A.jsxs("button",{onClick:()=>t("true"),className:`
                w-full py-4 rounded-xl border-2 border-dashed flex items-center justify-center gap-3 transition-all
                ${i?"bg-emerald-500/10 border-emerald-500 text-emerald-600 dark:text-emerald-400":r}
            `,children:[A.jsx("div",{className:`
                w-6 h-6 rounded-full flex items-center justify-center border-2 transition-all
                ${i?"bg-emerald-500 border-emerald-500 text-white":"border-current"}
            `,children:i&&A.jsx(U5,{className:"w-4 h-4"})}),A.jsx("span",{className:"text-lg font-bold",children:i?"Completed":"Mark as Complete"})]})},zF=({value:n,setValue:t})=>A.jsx("div",{className:"flex justify-between px-2 py-2",children:[1,2,3,4,5].map(e=>A.jsx("button",{onClick:()=>t(String(e)),className:`p-1.5 rounded-full transition-all active:scale-90 ${parseInt(n)>=e?"scale-110 drop-shadow-md":"opacity-30 hover:opacity-100"}`,children:A.jsx(fL,{className:`w-8 h-8 ${parseInt(n)>=e?"fill-amber-400 text-amber-400":"text-zinc-400 dark:text-zinc-600"}`})},e))}),LF=({tracker:n,onEdit:t})=>{const{entries:e,loading:i}=k2(n?.id),{theme:r,isAmoled:o}=Di(),[l,u]=W.useState(n?.preferredView||"graph"),[d,f]=W.useState(!1),[p,y]=W.useState(null),_=w=>{y(w),f(!0)},v=()=>{y(null),f(!0)};if(!n)return A.jsxs("div",{className:"flex-1 flex flex-col items-center justify-center text-zinc-400 p-8 text-center h-full",children:[A.jsx(Pg,{className:"w-16 h-16 mb-4 opacity-20"}),A.jsx("p",{className:"mb-4",children:"Select a tracker from the list to view details."})]});const S=o?"bg-black/80 border-zinc-800":"bg-white/80 dark:bg-zinc-900/80 border-zinc-300 dark:border-zinc-800",C=o?"bg-black border border-zinc-800 shadow-xl shadow-zinc-900/20":"bg-white dark:bg-zinc-800 border-zinc-300 dark:border-zinc-700 shadow-md";return A.jsxs("div",{className:"flex flex-col h-full overflow-hidden relative",children:[A.jsxs("header",{className:`p-6 flex justify-between items-center z-10 sticky top-0 backdrop-blur-md border-b ${S}`,children:[A.jsxs("div",{className:"flex items-center space-x-3",children:[A.jsx("h2",{className:"text-2xl font-bold text-zinc-900 dark:text-white truncate max-w-[200px] sm:max-w-xs",children:n.name}),A.jsx("button",{onClick:t,className:`p-1.5 rounded-lg text-zinc-400 transition-colors ${o?"hover:bg-zinc-900 text-zinc-500":"hover:bg-zinc-200 dark:hover:bg-zinc-800 text-zinc-600"}`,children:A.jsx(fI,{className:"w-4 h-4"})}),n.goalDirection==="target"&&n.targetValue&&A.jsxs("span",{className:`hidden sm:inline-block text-xs font-medium text-zinc-600 dark:text-zinc-500 px-2 py-1 rounded-md border ${o?"bg-black border-zinc-800":"bg-zinc-100 dark:bg-zinc-800 border-zinc-300 dark:border-transparent"}`,children:["Target: ",n.targetValue," ",n.unit]})]}),A.jsx("div",{className:"flex items-center space-x-2",children:A.jsxs("div",{className:`flex rounded-lg p-1 border ${o?"bg-black border-zinc-800":"bg-zinc-100 dark:bg-zinc-800 border-transparent"}`,children:[A.jsx("button",{onClick:()=>u("graph"),className:`p-2 rounded-md transition-all ${l==="graph"?`${o?"bg-zinc-900 text-white":"bg-white dark:bg-zinc-700 shadow"} ${r.text}`:"text-zinc-500"}`,children:A.jsx(Ib,{className:"w-5 h-5"})}),A.jsx("button",{onClick:()=>u("calendar"),className:`p-2 rounded-md transition-all ${l==="calendar"?`${o?"bg-zinc-900 text-white":"bg-white dark:bg-zinc-700 shadow"} ${r.text}`:"text-zinc-500"}`,children:A.jsx(cI,{className:"w-5 h-5"})})]})})]}),A.jsxs("div",{className:"flex-1 overflow-y-auto p-4 md:p-8 space-y-6",children:[A.jsxs("button",{onClick:v,className:`w-full py-3 rounded-xl font-medium shadow-lg text-white transition-transform hover:scale-[1.005] active:scale-[0.99] flex items-center justify-center space-x-2 ${r.primary}`,children:[A.jsx(Uu,{className:"w-5 h-5"}),A.jsx("span",{children:"Add New Entry"})]}),A.jsxs("div",{className:`p-6 rounded-2xl shadow-lg border min-h-[400px] ${C}`,children:[A.jsx("div",{className:"flex justify-between items-center mb-4",children:A.jsx("h3",{className:"text-lg font-semibold dark:text-white",children:"Activity Overview"})}),i?A.jsx("div",{className:"h-80 flex items-center justify-center text-zinc-400",children:"Loading history..."}):l==="graph"?A.jsx(CF,{entries:e,tracker:n,onDateClick:_}):A.jsx(IF,{entries:e,tracker:n,onDateClick:_})]}),e.length>0&&A.jsx(DF,{entries:e,tracker:n})]}),A.jsx(NF,{isOpen:d,tracker:n,initialDate:p,onClose:()=>f(!1)})]})},yf=({value:n,onChange:t,options:e,disabled:i=!1})=>{const[r,o]=W.useState(!1),l=W.useRef(null),u=e.find(f=>f.value===n)||e[0];W.useEffect(()=>{const f=p=>{l.current&&!l.current.contains(p.target)&&o(!1)};return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[]);const d=f=>{t({target:{value:f}}),o(!1)};return A.jsxs("div",{className:`relative ${i?"opacity-50 pointer-events-none":""}`,ref:l,children:[A.jsxs("button",{type:"button",onClick:()=>o(!r),className:"w-full px-4 py-2.5 rounded-xl border border-zinc-200 dark:border-zinc-700 bg-zinc-50 dark:bg-zinc-900 flex items-center justify-between transition-all",children:[A.jsx("span",{className:"text-sm font-medium dark:text-white truncate",children:u?.label}),A.jsx(O5,{className:`w-4 h-4 text-zinc-500 transition-transform ${r?"rotate-180":""}`})]}),r&&A.jsx("div",{className:"absolute left-0 right-0 top-full mt-2 rounded-xl border border-zinc-200 dark:border-zinc-700 shadow-xl z-50 overflow-hidden max-h-60 overflow-y-auto bg-white dark:bg-zinc-800",children:A.jsx("div",{className:"p-1.5 space-y-0.5",children:e.map(f=>A.jsxs("button",{onClick:()=>d(f.value),className:`w-full text-left px-3 py-2 text-sm rounded-lg flex items-center justify-between transition-colors ${f.value===n?"bg-zinc-100 dark:bg-zinc-700 text-zinc-900 dark:text-white":"text-zinc-600 dark:text-zinc-400 hover:bg-zinc-50 dark:hover:bg-zinc-900"}`,children:[f.label,f.value===n&&A.jsx(Qf,{className:"w-3.5 h-3.5 opacity-70"})]},f.value))})})]})},I1=({isOpen:n,onClose:t,editTracker:e=null,nextOrder:i=0})=>{const{user:r}=cr(),{tags:o,updateTags:l,theme:u,isAmoled:d}=Di(),[f,p]=W.useState(""),[y,_]=W.useState("numeric"),[v,S]=W.useState(""),[C,w]=W.useState("stars"),[O,L]=W.useState("increase"),[H,q]=W.useState(""),[F,G]=W.useState("daily"),[R,I]=W.useState(!1),[N,z]=W.useState("none"),[M,V]=W.useState(!1),[P,Dt]=W.useState(!1),[vt,X]=W.useState("average"),[ot,pt]=W.useState(""),[At,Rt]=W.useState([]),[B,et]=W.useState(!0),[ct,ut]=W.useState("graph"),[bt,xt]=W.useState(""),[lt,Lt]=W.useState(!1),Vt=W.useRef(null),ge=async(ft,Kt)=>{if(!(!r||!e))try{const ze=ii(We,"artifacts","default-app-id","users",r.uid,"trackers",e.id);await Kf(ze,{[ft]:Kt,updatedAt:xl()})}catch(ze){console.error(`Error updating field ${ft}:`,ze)}};W.useEffect(()=>{n&&(e?(p(e.name),_(e.type),S(e.unit||""),w(e.ratingSystem||"stars"),L(e.goalDirection||"none"),q(e.targetValue||""),G(e.goalPeriod||"daily"),z(e.listDisplayValue||"none"),V(e.showTypeInList!==void 0?e.showTypeInList:!1),Dt(e.showTrendForecast||!1),X(e.aggregation||"average"),pt(e.tolerance||""),Rt(e.tags||[]),et(e.enableStreak!==void 0?e.enableStreak:!0),ut(e.preferredView||"graph")):(p(""),_("numeric"),S(""),w("stars"),L("increase"),q(""),G("daily"),z("none"),V(!1),Dt(!1),X("average"),pt(""),Rt([]),et(!0),ut("graph"),I(!1)),Lt(!1),Vt.current&&clearTimeout(Vt.current))},[n,e?.id]),W.useEffect(()=>()=>{Vt.current&&clearTimeout(Vt.current)},[]);const on=ft=>{At.some(Kt=>Kt.id===ft.id)?Rt(At.filter(Kt=>Kt.id!==ft.id)):Rt([...At,ft])},Se=()=>{if(!bt.trim())return;const ft={id:Date.now(),name:bt,colorClass:C2(o).class};l([...o,ft]),Rt([...At,ft]),xt("")};W.useEffect(()=>{y==="percentage"&&(S("%"),L("target"),q(100))},[y]);const kn=async()=>{if(!f.trim())return;const ft={name:f,type:y,unit:y==="numeric"?v:y==="percentage"?"%":null,ratingSystem:y==="rating"?C:null,goalDirection:O,targetValue:O==="target"&&H?parseFloat(H):null,goalPeriod:F,tolerance:ot?parseFloat(ot):0,tags:At,listDisplayValue:N,showTypeInList:M,aggregation:vt,enableStreak:B,preferredView:ct,showTrendForecast:P,updatedAt:xl()};try{e?await Kf(ii(We,"artifacts","default-app-id","users",r.uid,"trackers",e.id),ft):await rI(mo(We,"artifacts","default-app-id","users",r.uid,"trackers"),{...ft,order:0,createdAt:xl()}),t()}catch(Kt){console.error("Error saving tracker:",Kt)}},ai=async()=>{if(e)try{await sI(ii(We,"artifacts","default-app-id","users",r.uid,"trackers",e.id)),t()}catch(ft){console.error("Error deleting tracker",ft)}},_a=()=>{e&&(lt?(Vt.current&&clearTimeout(Vt.current),ai()):(Lt(!0),Vt.current=setTimeout(()=>{Lt(!1)},3e3)))},oi=`w-full px-4 py-2 rounded-lg border focus:outline-none focus:ring-2 dark:text-white [appearance:textfield] [&::-webkit-outer-spin-button]:appearance-none [&::-webkit-inner-spin-button]:appearance-none ${d?"bg-zinc-900 border-zinc-800":"bg-zinc-50 dark:bg-zinc-900 border-zinc-200 dark:border-zinc-700"} ${u.ring}`,va=`rounded-xl font-medium transition-all duration-200 flex items-center justify-center border border-red-200 dark:border-red-900/30 text-red-600 dark:text-red-400 ${d?"bg-black hover:bg-zinc-900 hover:shadow-lg hover:shadow-red-900/20":"bg-red-50 dark:bg-red-900/10 hover:bg-red-100 dark:hover:bg-red-900/20 hover:shadow-md hover:shadow-red-500/10"}`,Ds=({label:ft,icon:Kt,value:ze,onChange:Kl})=>A.jsxs("div",{className:"flex items-center justify-between py-2",children:[A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("div",{className:`p-1.5 rounded-lg ${d?"bg-zinc-900":"bg-zinc-100 dark:bg-zinc-700"}`,children:A.jsx(Kt,{className:"w-4 h-4 text-zinc-500 dark:text-zinc-400"})}),A.jsx("label",{className:"text-sm font-medium text-zinc-700 dark:text-zinc-300",children:ft})]}),A.jsx("button",{onClick:()=>Kl(!ze),className:`w-12 h-6 rounded-full transition-colors relative ${ze?u.primary.split(" ")[0]:"bg-zinc-300 dark:bg-zinc-600"}`,children:A.jsx("div",{className:`w-4 h-4 bg-white rounded-full absolute top-1 transition-transform ${ze?"left-7":"left-1"}`})})]});return A.jsxs(m_,{isOpen:n,onClose:t,title:e?"Edit Tracker":"New Tracker",isAmoled:d,children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"Name"}),A.jsx("input",{value:f,onChange:ft=>p(ft.target.value),className:oi,placeholder:"e.g. Water Intake"})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-2",children:"Default View"}),A.jsx("div",{className:"flex gap-4",children:[{id:"graph",label:"Graph",icon:Ib},{id:"calendar",label:"Calendar",icon:cI}].map(ft=>{const Kt=ct===ft.id;let ze=Kt?d?"border-zinc-500 bg-zinc-900 text-white shadow-md shadow-zinc-900/50":"border-zinc-600 bg-zinc-100 dark:bg-zinc-800 text-zinc-900 dark:text-white shadow-sm ring-1 ring-zinc-400 dark:ring-zinc-500":d?"bg-black border-zinc-800 text-zinc-500 hover:border-zinc-700 hover:text-zinc-300":"bg-white dark:bg-zinc-900/50 border-zinc-200 dark:border-zinc-700 text-zinc-500 dark:text-zinc-400 hover:border-zinc-300 dark:hover:border-zinc-600 hover:bg-zinc-50 dark:hover:bg-zinc-800";return A.jsxs("button",{onClick:()=>{ut(ft.id),ge("preferredView",ft.id)},className:`flex-1 py-4 px-2 rounded-xl border flex flex-col items-center justify-center gap-2 transition-all duration-200 ${ze}`,children:[A.jsx(ft.icon,{className:`w-8 h-8 ${Kt?"stroke-[2px]":"stroke-[1.5px]"}`}),A.jsx("span",{className:"text-sm font-medium",children:ft.label})]},ft.id)})})]}),A.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"Type"}),A.jsx(yf,{value:y,onChange:ft=>_(ft.target.value),options:[{value:"numeric",label:"Numeric"},{value:"boolean",label:"Yes / No"},{value:"percentage",label:"Percentage"},{value:"rating",label:"Rating"}],theme:u,isAmoled:d,disabled:!!e})]}),(y==="numeric"||y==="percentage")&&A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"Units"}),A.jsx("input",{value:v,onChange:ft=>S(ft.target.value),className:oi,placeholder:"e.g. ml",disabled:y==="percentage"})]}),y==="rating"&&A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"System"}),A.jsx(yf,{value:C,onChange:ft=>w(ft.target.value),options:[{value:"stars",label:"5 Stars"},{value:"colors",label:"Traffic Lights"}],theme:u,isAmoled:d})]})]}),A.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-2",children:"Goal Direction"}),A.jsx(yf,{value:O,onChange:ft=>L(ft.target.value),options:[{value:"increase",label:"Increase"},{value:"decrease",label:"Decrease"},{value:"target",label:"Target Value"},{value:"none",label:"None"}],theme:u,isAmoled:d})]}),O==="target"&&y!=="boolean"&&A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-2",children:"Target Value"}),A.jsx("input",{type:"number",value:H,onChange:ft=>q(ft.target.value),className:oi,placeholder:"2000"})]})]}),A.jsxs("div",{className:`border rounded-xl overflow-hidden ${d?"border-zinc-800":"border-zinc-200 dark:border-zinc-700"}`,children:[A.jsxs("button",{onClick:()=>I(!R),className:`w-full flex justify-between items-center p-4 font-medium transition-colors ${d?"bg-zinc-900 text-zinc-300 hover:bg-zinc-800":"bg-zinc-50 dark:bg-zinc-900 text-zinc-700 dark:text-zinc-300 hover:bg-zinc-100 dark:hover:bg-zinc-800"}`,children:["Advanced Settings ",A.jsx(Db,{className:`w-4 h-4 transition-transform duration-300 ${R?"rotate-90":""}`})]}),A.jsx("div",{className:`grid transition-[grid-template-rows] duration-300 ease-in-out ${R?"grid-rows-[1fr]":"grid-rows-[0fr]"}`,children:A.jsx("div",{className:"overflow-hidden",children:A.jsxs("div",{className:`p-4 space-y-6 ${d?"bg-black":"bg-white dark:bg-zinc-800"}`,children:[A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-2",children:"Goal Cadence"}),A.jsxs("div",{className:`flex rounded-lg p-1 ${d?"bg-zinc-900":"bg-zinc-100 dark:bg-zinc-700"}`,children:[A.jsxs("button",{onClick:()=>{G("daily"),ge("goalPeriod","daily")},className:`flex-1 py-2 text-sm font-medium rounded-md transition-all flex items-center justify-center gap-2 ${F==="daily"?"bg-white dark:bg-zinc-600 shadow text-zinc-900 dark:text-white":"text-zinc-500 dark:text-zinc-400"}`,children:[A.jsx(oL,{className:"w-3.5 h-3.5"})," Daily Reset"]}),A.jsxs("button",{onClick:()=>{G("longTerm"),ge("goalPeriod","longTerm")},className:`flex-1 py-2 text-sm font-medium rounded-md transition-all flex items-center justify-center gap-2 ${F==="longTerm"?"bg-white dark:bg-zinc-600 shadow text-zinc-900 dark:text-white":"text-zinc-500 dark:text-zinc-400"}`,children:[A.jsx(wL,{className:"w-3.5 h-3.5"})," Long Term"]})]}),A.jsx("p",{className:"text-[10px] text-zinc-500 mt-1.5 px-1",children:F==="daily"?"Goal resets every day. Progress is the sum of daily entries.":"Goal is continuous. Progress is compared to the latest entry."})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-2",children:"Daily Aggregation"}),A.jsxs("div",{className:`flex rounded-lg p-1 ${d?"bg-zinc-900":"bg-zinc-100 dark:bg-zinc-700"}`,children:[A.jsx("button",{onClick:()=>{X("average"),ge("aggregation","average")},className:`flex-1 py-1.5 text-sm font-medium rounded-md transition-all ${vt==="average"?"bg-white dark:bg-zinc-600 shadow text-zinc-900 dark:text-white":"text-zinc-500 dark:text-zinc-400"}`,children:"Average"}),A.jsx("button",{onClick:()=>{X("sum"),ge("aggregation","sum")},className:`flex-1 py-1.5 text-sm font-medium rounded-md transition-all ${vt==="sum"?"bg-white dark:bg-zinc-600 shadow text-zinc-900 dark:text-white":"text-zinc-500 dark:text-zinc-400"}`,children:"Total (Sum)"})]})]}),y==="numeric"&&O==="target"&&A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-1",children:"Goal Tolerance (+/-)"}),A.jsx("input",{type:"number",value:ot,onChange:ft=>pt(ft.target.value),className:oi,placeholder:"0"})]}),A.jsxs("div",{children:[A.jsx("div",{className:"flex justify-between items-end mb-3",children:A.jsx("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300",children:"Assign Tags"})}),A.jsxs("div",{className:"flex gap-2 mb-3",children:[A.jsx("input",{value:bt,onChange:ft=>xt(ft.target.value),placeholder:"Create new tag...",className:`flex-1 px-3 py-1.5 text-sm rounded-lg border dark:text-white ${d?"bg-zinc-900 border-zinc-800":"dark:bg-zinc-900 dark:border-zinc-700"}`,onKeyDown:ft=>ft.key==="Enter"&&Se()}),A.jsx("button",{onClick:Se,disabled:!bt.trim(),className:`text-sm px-3 py-1.5 rounded-lg font-medium transition-colors dark:text-white ${d?"bg-zinc-900 hover:bg-zinc-800":"bg-zinc-100 dark:bg-zinc-700 hover:bg-zinc-200"}`,children:"Add"})]}),A.jsx("div",{className:"flex flex-wrap gap-2",children:o.map(ft=>{const Kt=At.some(ze=>ze.id===ft.id);return A.jsx("button",{onClick:()=>on(ft),className:`px-3 py-1 rounded-full text-sm border transition-all ${ft.colorClass} ${Kt?"opacity-100 font-semibold shadow-sm scale-105":"opacity-40 hover:opacity-100 grayscale hover:grayscale-0"}`,children:ft.name},ft.id)})})]}),A.jsxs("div",{children:[A.jsx("label",{className:"block text-sm font-medium text-zinc-700 dark:text-zinc-300 mb-2",children:"List Display Value"}),A.jsx(yf,{value:N,onChange:ft=>{z(ft.target.value),ge("listDisplayValue",ft.target.value)},options:[{value:"none",label:"None (Hidden)"},{value:"last",label:"Last Inputted Value"},{value:"average",label:"Average of All Entries"}],theme:u,isAmoled:d})]}),A.jsxs("div",{className:`p-3 rounded-xl border ${d?"border-zinc-800 bg-zinc-900/50":"border-zinc-200 dark:border-zinc-700 bg-zinc-50/50 dark:bg-zinc-900/50"}`,children:[A.jsx(Ds,{label:"Show Type in Sidebar",icon:q5,value:M,onChange:ft=>{V(ft),ge("showTypeInList",ft)}}),A.jsx("div",{className:`h-px my-1 ${d?"bg-zinc-800":"bg-zinc-200 dark:bg-zinc-700"}`}),A.jsx(Ds,{label:"Track Streak",icon:Rb,value:B,onChange:ft=>{et(ft),ge("enableStreak",ft)}}),O!=="none"&&A.jsxs(A.Fragment,{children:[A.jsx("div",{className:`h-px my-1 ${d?"bg-zinc-800":"bg-zinc-200 dark:bg-zinc-700"}`}),A.jsx(Ds,{label:"Show Trend Forecast",icon:xL,value:P,onChange:ft=>{Dt(ft),ge("showTrendForecast",ft)}})]})]})]})})})]}),A.jsxs("div",{className:"flex gap-3 pt-4",children:[e&&A.jsx("button",{onClick:_a,className:`px-4 py-3 ${va} ${lt?`transform scale-105 active:scale-100 ${d?"shadow-red-900/40":"shadow-red-500/20"}`:""}`,style:{minWidth:lt?"140px":"48px"},children:lt?A.jsxs(A.Fragment,{children:[A.jsx(Qf,{className:"w-5 h-5 mr-2"}),A.jsx("span",{className:"text-sm font-medium",children:"Confirm?"})]}):A.jsx(Nb,{className:"w-5 h-5"})}),A.jsx("button",{onClick:kn,disabled:!f.trim(),className:`flex-1 py-3 rounded-xl font-medium shadow-lg text-white transition-all active:scale-95 disabled:opacity-50 ${u.primary}`,children:e?"Save Changes":"Create Tracker"})]})]})},VF=()=>{const{user:n}=cr(),{theme:t,isAmoled:e}=Di(),[i,r]=W.useState("idle"),[o,l]=W.useState(""),u=W.useRef(null),d=async()=>{if(n){r("exporting");try{const S={version:1,timestamp:new Date().toISOString(),exportUser:n.email,trackers:[]},C=mo(We,"artifacts","default-app-id","users",n.uid,"trackers"),O=(await d0(C)).docs.map(async F=>{const G=F.data(),R=F.id,I=mo(We,"artifacts","default-app-id","users",n.uid,"trackers",R,"entries"),z=(await d0(I)).docs.map(M=>({id:M.id,...M.data()}));return{id:R,...G,entries:z}});S.trackers=await Promise.all(O);const L=new Blob([JSON.stringify(S,null,2)],{type:"application/json"}),H=URL.createObjectURL(L),q=document.createElement("a");q.href=H,q.download=`trackit-backup-${new Date().toISOString().split("T")[0]}.json`,document.body.appendChild(q),q.click(),document.body.removeChild(q),r("success"),l("Export complete!"),setTimeout(()=>r("idle"),3e3)}catch(S){console.error(S),r("error"),l("Export failed. Check console.")}}},f=()=>u.current?.click(),p=async S=>{const C=S.target.files[0];if(!C)return;r("importing"),l("Reading file...");const w=new FileReader;w.onload=async O=>{try{const L=JSON.parse(O.target.result);if(!L.trackers||!Array.isArray(L.trackers))throw new Error("Invalid file format: Missing trackers array.");const H=aI(We);let q=0;const F=450,G=async()=>{await H.commit(),q=0};for(const R of L.trackers){const{entries:I,id:N,...z}=R,M=ii(We,"artifacts","default-app-id","users",n.uid,"trackers",N);if(H.set(M,{...z,updatedAt:xl()}),q++,I&&Array.isArray(I))for(const V of I){const{id:P,...Dt}=V,vt=ii(We,"artifacts","default-app-id","users",n.uid,"trackers",N,"entries",P);H.set(vt,Dt),q++}}q>F&&console.warn("Large batch detected, commit might fail if over 500 writes."),await H.commit(),r("success"),l("Import successful! Refreshing..."),setTimeout(()=>window.location.reload(),1500)}catch(L){console.error(L),r("error"),l("Import failed. Invalid JSON?")}},w.readAsText(C),S.target.value=""},y=`p-4 rounded-xl border flex flex-col gap-4 ${e?"border-zinc-800 bg-zinc-900/30":"border-zinc-200 dark:border-zinc-700 bg-zinc-50/50 dark:bg-zinc-800/30"}`,_="flex-1 flex flex-col items-center justify-center p-4 rounded-xl border transition-all active:scale-95",v=e?"border-zinc-800 hover:bg-zinc-900":"border-zinc-200 dark:border-zinc-700 hover:bg-zinc-50 dark:hover:bg-zinc-800";return A.jsxs("div",{className:y,children:[A.jsxs("div",{className:"flex justify-between items-center",children:[A.jsx("h3",{className:"font-bold dark:text-white",children:"Data Management"}),i==="error"&&A.jsxs("span",{className:"text-xs text-red-500 flex items-center",children:[A.jsx(TL,{className:"w-3 h-3 mr-1"})," ",o]}),i==="success"&&A.jsxs("span",{className:"text-xs text-green-500 flex items-center",children:[A.jsx(j5,{className:"w-3 h-3 mr-1"})," ",o]})]}),A.jsxs("div",{className:"flex gap-4",children:[A.jsxs("button",{onClick:d,disabled:i==="exporting"||i==="importing",className:`${_} ${v} ${i==="exporting"?"opacity-50":""}`,children:[i==="exporting"?A.jsx(Bu,{className:`w-6 h-6 mb-2 animate-spin ${t.text}`}):A.jsx(hI,{className:`w-6 h-6 mb-2 ${t.text}`}),A.jsx("span",{className:"text-sm font-medium dark:text-white",children:i==="exporting"?"Exporting...":"Export Backup"})]}),A.jsxs("button",{onClick:f,disabled:i==="exporting"||i==="importing",className:`${_} ${v} ${i==="importing"?"opacity-50":""}`,children:[i==="importing"?A.jsx(Bu,{className:`w-6 h-6 mb-2 animate-spin ${t.text}`}):A.jsx(CL,{className:`w-6 h-6 mb-2 ${t.text}`}),A.jsx("span",{className:"text-sm font-medium dark:text-white",children:i==="importing"?"Importing...":"Import Backup"})]}),A.jsx("input",{type:"file",ref:u,onChange:p,accept:".json",className:"hidden"})]}),A.jsx("p",{className:"text-xs text-zinc-500 text-center",children:"Exporting creates a JSON file of all your trackers and entries. Importing will overwrite or add to existing data."})]})},jF=({isOpen:n,onClose:t})=>{const{user:e}=cr(),{themeMode:i,tags:r,theme:o,isAmoled:l,updateSettings:u,updateTags:d,setThemeMode:f}=Di(),[p,y]=W.useState(!1),[_,v]=W.useState(e?.displayName||""),[S,C]=W.useState(!1),[w,O]=W.useState(""),[L,H]=W.useState(null),[q,F]=W.useState(""),[G,R]=W.useState(""),[I,N]=W.useState(null),[z,M]=W.useState(!1);W.useEffect(()=>{e&&(v(e.displayName||""),N(e.photoURL||null))},[e,n]);const V=async()=>{if(!_.trim()||_.trim()===e?.displayName){v(e?.displayName||""),y(!1);return}try{await ay(Fi.currentUser,{displayName:_}),await Fi.currentUser.reload(),y(!1)}catch(lt){console.error(lt)}},P=lt=>{lt.key==="Enter"?(lt.preventDefault(),lt.target.blur()):lt.key==="Escape"&&(v(e?.displayName||""),y(!1))},Dt=async()=>{if(G.trim()){M(!0);try{Fi.currentUser&&await ay(Fi.currentUser,{photoURL:G}),u("avatar",G),N(G),R(""),C(!1)}catch(lt){console.error(lt)}finally{M(!1)}}},vt=async()=>{try{Fi.currentUser&&await ay(Fi.currentUser,{photoURL:""}),u("avatar",null),N(null),C(!1)}catch(lt){console.error(lt)}},X=()=>{if(!w.trim())return;const lt={id:Date.now(),name:w,colorClass:C2(r).class};d([...r,lt]),O("")},ot=lt=>d(r.filter(Lt=>Lt.id!==lt)),pt=lt=>{H(lt.id),F(lt.name)},At=()=>{q.trim()&&(d(r.map(lt=>lt.id===L?{...lt,name:q}:lt)),H(null))},Rt=lt=>{const Lt=r.find(on=>on.id===lt);if(!Lt)return;const ge=(Yr.findIndex(on=>on.class===Lt.colorClass)+1)%Yr.length;d(r.map(on=>on.id===lt?{...on,colorClass:Yr[ge].class}:on))},ct=`text-sm rounded-lg border outline-none dark:text-white transition-all ${l?"bg-zinc-900 border-zinc-800 focus:border-zinc-700 placeholder-zinc-600":"bg-white dark:bg-zinc-900 border-zinc-300 dark:border-zinc-700 placeholder-zinc-400 focus:border-zinc-400 dark:focus:border-zinc-500"} px-3 py-2 w-full`,ut=`p-5 rounded-2xl border ${l?"border-zinc-800 bg-zinc-900/20":"border-zinc-200 dark:border-zinc-700 bg-zinc-50/50 dark:bg-zinc-800/20"}`,bt=`my-6 border-t ${l?"border-zinc-800":"border-zinc-200 dark:border-zinc-700"}`,xt=`
        w-full py-3 mt-4 rounded-xl font-medium transition-all duration-200
        border border-red-200 dark:border-red-900/30 text-red-600 dark:text-red-400
        ${l?"bg-black hover:bg-zinc-900 hover:shadow-lg hover:shadow-red-900/20":"bg-white dark:bg-zinc-900 hover:bg-red-50 dark:hover:bg-red-900/10 hover:shadow-md hover:shadow-red-500/10"}
        flex items-center justify-center gap-2
    `;return A.jsxs(m_,{isOpen:n,onClose:t,title:"Settings",children:[A.jsxs("div",{className:"flex items-center gap-5 mb-8",children:[A.jsxs("div",{className:"relative group",children:[A.jsxs("button",{onClick:()=>C(!S),className:`
                            w-20 h-20 rounded-full flex items-center justify-center text-3xl shrink-0 overflow-hidden 
                            transition-all ring-4 ring-offset-2 ring-transparent
                            ${S?`ring-${o.primary.split(" ")[0]} ring-offset-zinc-50 dark:ring-offset-zinc-900`:""}
                            ${l?"bg-zinc-900 ring-offset-black":"bg-zinc-100 dark:bg-zinc-700"} 
                        `,children:[I?A.jsx("img",{src:I,alt:"Avatar",className:"w-full h-full object-cover transition-opacity group-hover:opacity-50"}):A.jsx(pI,{className:"w-10 h-10 text-zinc-400 group-hover:opacity-50 transition-opacity"}),A.jsx("div",{className:"absolute inset-0 flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:A.jsx(D5,{className:"w-6 h-6 text-zinc-700 dark:text-white drop-shadow-md"})})]}),S&&A.jsx("div",{className:`absolute -bottom-1 left-1/2 -translate-x-1/2 w-3 h-3 rotate-45 border-t border-l ${l?"bg-zinc-900 border-zinc-800":"bg-white dark:bg-zinc-800 border-zinc-200 dark:border-zinc-700"} z-10`})]}),A.jsxs("div",{className:"flex-1 min-w-0",children:[A.jsx("div",{className:"flex items-center gap-2 mb-1",children:p?A.jsx("input",{value:_,onChange:lt=>v(lt.target.value),onBlur:V,onKeyDown:P,className:`bg-transparent text-xl font-bold outline-none border-b-2 w-full p-0 transition-colors ${l?"text-white border-zinc-700 focus:border-zinc-500":"text-zinc-900 dark:text-white border-zinc-200 dark:border-zinc-700 focus:border-zinc-400"}`,autoFocus:!0}):A.jsxs(A.Fragment,{children:[A.jsx("h3",{className:"font-bold text-xl dark:text-white truncate",title:e?.displayName,children:e?.displayName||"User"}),A.jsx("button",{onClick:()=>y(!0),className:"p-1.5 rounded-md text-zinc-400 hover:text-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-all",children:A.jsx(fI,{className:"w-4 h-4"})})]})}),A.jsx("p",{className:"text-sm text-zinc-500 truncate",children:e?.email})]})]}),S&&A.jsxs("div",{className:`mb-8 -mt-2 animate-in slide-in-from-top-4 fade-in duration-300 ${ut} shadow-lg`,children:[A.jsxs("div",{className:"flex items-center gap-2 mb-3 text-sm font-bold text-zinc-700 dark:text-zinc-200",children:[A.jsx(W5,{className:"w-4 h-4 text-zinc-400"}),"Update Profile Picture"]}),A.jsxs("div",{className:"flex gap-0 shadow-sm rounded-xl overflow-hidden",children:[A.jsx("div",{className:`pl-3 pr-2 flex items-center border-y border-l rounded-l-xl ${l?"bg-zinc-900 border-zinc-800":"bg-zinc-50 dark:bg-zinc-800 border-zinc-300 dark:border-zinc-700"}`,children:A.jsx(K5,{className:"w-4 h-4 text-zinc-400"})}),A.jsx("input",{value:G,onChange:lt=>R(lt.target.value),placeholder:"Paste image URL here...",className:`flex-1 px-3 py-2.5 text-sm outline-none border-y dark:text-white ${l?"bg-zinc-900 border-zinc-800 placeholder-zinc-600":"bg-white dark:bg-zinc-900 border-zinc-300 dark:border-zinc-700 placeholder-zinc-400"}`,autoFocus:!0}),A.jsx("button",{onClick:Dt,disabled:!G.trim()||z,className:`px-5 py-2 text-sm font-medium text-white border-y border-r rounded-r-xl transition-all disabled:opacity-50 disabled:cursor-not-allowed ${o.primary} border-transparent`,children:z?A.jsx(Bu,{className:"w-4 h-4 animate-spin"}):"Save"})]}),A.jsxs("div",{className:"mt-3 flex justify-between items-center",children:[A.jsx("p",{className:"text-xs text-zinc-500",children:"Supports JPG, PNG, GIF URLs."}),I&&A.jsxs("button",{onClick:vt,className:"text-xs text-red-500 hover:text-red-600 dark:hover:text-red-400 font-medium flex items-center gap-1.5 px-2 py-1 rounded-md hover:bg-red-50 dark:hover:bg-red-900/10 transition-colors",children:[A.jsx(Nb,{className:"w-3 h-3"})," Remove Picture"]})]})]}),A.jsxs("div",{className:"space-y-6",children:[A.jsxs("div",{className:ut,children:[A.jsxs("div",{children:[A.jsxs("h3",{className:"font-bold mb-4 dark:text-white flex items-center gap-2",children:[A.jsx(dI,{className:"w-4 h-4 text-zinc-400"})," Theme Mode"]}),A.jsx("div",{className:`flex rounded-xl p-1.5 ${l?"bg-zinc-900":"bg-zinc-100 dark:bg-zinc-900/50 border border-zinc-200 dark:border-zinc-700"}`,children:["light","dark","amoled"].map(lt=>A.jsx("button",{onClick:()=>f(lt),className:`
                                        flex-1 py-2 text-sm font-medium rounded-lg transition-all capitalize
                                        ${i===lt?l?"bg-zinc-800 text-white shadow-md border border-zinc-700":"bg-white dark:bg-zinc-700 shadow text-zinc-900 dark:text-white":"text-zinc-500 dark:text-zinc-400 hover:text-zinc-900 dark:hover:text-zinc-200"}
                                    `,children:lt==="amoled"?"True Dark":lt},lt))})]}),A.jsx("div",{className:bt}),A.jsxs("div",{children:[A.jsxs("h3",{className:"font-bold mb-4 dark:text-white flex items-center gap-2",children:[A.jsx(iL,{className:"w-4 h-4 text-zinc-400"})," Accent Color"]}),A.jsx("div",{className:"grid grid-cols-6 gap-3",children:Object.entries(x0).map(([lt,Lt])=>{const Vt=Lt.primary.split(" ")[0],ge=o.label===Lt.label;return A.jsx("button",{onClick:()=>u("theme",lt),className:`
                                            h-10 w-10 mx-auto rounded-full ${Vt} 
                                            transition-all flex items-center justify-center shadow-sm 
                                            ${ge?"ring-2 ring-offset-2 ring-zinc-400 dark:ring-offset-zinc-800 scale-110":"hover:scale-110 hover:shadow-md"}
                                        `,title:Lt.label,children:ge&&A.jsx(Qf,{className:"w-5 h-5 text-white drop-shadow-sm"})},lt)})})]})]}),A.jsxs("div",{className:ut,children:[A.jsx("h3",{className:"font-bold mb-4 dark:text-white",children:"Manage Tags"}),A.jsxs("div",{className:"flex gap-2 mb-4",children:[A.jsx("input",{value:w,onChange:lt=>O(lt.target.value),placeholder:"New Tag Name",className:ct,onKeyDown:lt=>lt.key==="Enter"&&X()}),A.jsx("button",{onClick:X,disabled:!w.trim(),className:`px-4 py-2 text-sm rounded-lg font-medium transition-colors text-white shadow-md disabled:opacity-50 disabled:shadow-none ${o.primary}`,children:"Add"})]}),A.jsx("div",{className:"flex flex-wrap gap-2",children:r.map(lt=>L===lt.id?A.jsxs("div",{className:`flex items-center gap-1 border rounded-lg p-1 pr-2 animate-in fade-in zoom-in-95 duration-200 ${l?"border-zinc-800 bg-black":"bg-white dark:bg-zinc-800 border-zinc-200 dark:border-zinc-700 shadow-sm"}`,children:[A.jsx("input",{value:q,onChange:Lt=>F(Lt.target.value),className:"w-24 text-sm px-2 outline-none bg-transparent dark:text-white",autoFocus:!0}),A.jsx("button",{onClick:()=>Rt(lt.id),className:`p-1.5 rounded-full transition-colors ${l?"hover:bg-zinc-900":"hover:bg-zinc-100 dark:hover:bg-zinc-700"}`,children:A.jsx("div",{className:`w-3 h-3 rounded-full ${Yr.find(Lt=>Lt.class===lt.colorClass)?.dot||"bg-zinc-400"}`})}),A.jsx("button",{onClick:At,className:"p-1 text-green-500 hover:text-green-600",children:A.jsx(Qf,{className:"w-3.5 h-3.5"})})]},lt.id):A.jsxs("span",{className:`${lt.colorClass} pl-3 pr-2 py-1.5 rounded-full text-xs font-bold flex items-center border cursor-pointer hover:shadow-sm hover:scale-105 transition-all select-none`,onClick:()=>pt(lt),children:[lt.name,A.jsx("button",{className:"ml-2 p-0.5 hover:bg-black/10 dark:hover:bg-white/20 rounded-full transition-colors",onClick:Lt=>{Lt.stopPropagation(),ot(lt.id)},children:A.jsx(kb,{className:"w-3 h-3"})})]},lt.id))})]}),A.jsx(VF,{}),A.jsx("div",{className:`pt-4 border-t ${l?"border-zinc-800":"border-zinc-200 dark:border-zinc-700"}`,children:A.jsxs("button",{onClick:()=>{XO(Fi),t()},className:xt,children:[A.jsx(J5,{className:"w-4 h-4 mr-2"})," Sign Out"]})})]})]})},BF=()=>{const[n,t]=W.useState(null),[e,i]=W.useState(!1);return W.useEffect(()=>{const o=l=>{l.preventDefault(),console.log(" PWA: beforeinstallprompt event FIRED! App is installable."),t(l),i(!0)};return console.log(" PWA: Listening for install event..."),window.addEventListener("beforeinstallprompt",o),window.matchMedia("(display-mode: standalone)").matches&&(console.log(" PWA: App is already running in standalone mode."),i(!1)),()=>window.removeEventListener("beforeinstallprompt",o)},[]),{isInstallable:e,install:async()=>{if(console.log(" PWA: Install button clicked"),!n){console.error(" PWA: No deferred prompt found. Cannot trigger install.");return}n.prompt();const{outcome:o}=await n.userChoice;console.log(`PWA: User response: ${o}`),t(null),i(!1)}}},UF=()=>{const{isInstallable:n,install:t}=BF(),{isAmoled:e}=Di();return n?A.jsxs("button",{onClick:t,className:`
                w-full flex items-center gap-3 px-4 py-3 rounded-xl font-medium transition-all duration-200
                ${e?"bg-zinc-900 text-zinc-300 hover:bg-zinc-800":"bg-blue-50 text-blue-600 hover:bg-blue-100 dark:bg-blue-900/20 dark:text-blue-400 dark:hover:bg-blue-900/30"}
            `,children:[A.jsx("div",{className:`p-2 rounded-lg ${e?"bg-black":"bg-white dark:bg-blue-900/30"}`,children:A.jsx(hI,{className:"w-4 h-4"})}),A.jsxs("div",{className:"text-left",children:[A.jsx("p",{className:"text-sm font-bold",children:"Install App"}),A.jsx("p",{className:"text-[10px] opacity-70",children:"Get the native experience"})]})]}):null},FF=()=>{const{user:n}=cr(),{trackers:t,loading:e,reorderTrackers:i}=Jj(),{theme:r,isAmoled:o,themeMode:l,setThemeMode:u}=Di(),[d,f]=W.useState(null),[p,y]=W.useState(!1),[_,v]=W.useState(!1),[S,C]=W.useState(!1),[w,O]=W.useState(!1);W.useEffect(()=>{!d&&t.length>0&&f(t[0].id)},[t,d]);const L=t.find(N=>N.id===d),H=N=>{N.destination&&i(N.source.index,N.destination.index)},q=N=>{f(N),O(!1)},F=()=>{if(l==="light"){const N=localStorage.getItem("lastDarkMode")||"dark";u(N)}else localStorage.setItem("lastDarkMode",l),u("light")};if(e)return A.jsx("div",{className:`h-screen flex items-center justify-center ${o?"bg-black":"bg-zinc-50 dark:bg-zinc-900"}`,children:A.jsx("div",{className:`animate-spin rounded-full h-8 w-8 border-b-2 ${r.text}`})});const G=o?"bg-black text-white":"bg-zinc-200 dark:bg-zinc-900 text-zinc-900 dark:text-white",R=o?"bg-black border-zinc-800":"bg-white dark:bg-zinc-800 border-zinc-300 dark:border-zinc-800",I=o?"bg-black/80 border-zinc-800":"bg-white/80 dark:bg-zinc-900/80 border-zinc-300 dark:border-zinc-800";return A.jsxs("div",{className:`flex h-screen w-full overflow-hidden relative ${G}`,children:[w&&A.jsx("div",{className:"fixed inset-0 bg-black/50 z-20 md:hidden backdrop-blur-sm",onClick:()=>O(!1)}),A.jsxs("aside",{className:`
          fixed md:relative top-0 left-0 h-full z-30 w-80 flex flex-col border-r
          transition-transform duration-300 ease-in-out
          ${w?"translate-x-0":"-translate-x-full md:translate-x-0"}
          ${R}
      `,children:[A.jsxs("div",{className:`p-6 border-b flex items-center justify-between ${o?"border-zinc-800":"border-zinc-300 dark:border-zinc-800"}`,children:[A.jsxs("div",{className:"flex items-center space-x-3",children:[A.jsx("div",{className:`p-2 rounded-lg ${r.primary}`,children:A.jsx(Pg,{className:"w-5 h-5 text-white"})}),A.jsx("h1",{className:"text-xl font-bold",children:"TrackIt"})]}),A.jsx("button",{onClick:()=>O(!1),className:"md:hidden text-zinc-500",children:A.jsx(kb,{className:"w-6 h-6"})})]}),A.jsx("div",{className:"p-4",children:A.jsxs("button",{onClick:()=>{y(!0),O(!1)},className:`w-full py-3 text-white rounded-xl font-medium shadow-lg transition-all flex items-center justify-center gap-2 ${r.primary}`,children:[A.jsx(Uu,{className:"w-5 h-5"})," New Tracker"]})}),A.jsx("div",{className:"flex-1 overflow-y-auto px-4 pt-4 pb-4",children:t.length===0?A.jsx("div",{className:"text-center py-10 text-zinc-400",children:A.jsx("p",{className:"text-sm",children:"No trackers yet."})}):A.jsx(uj,{onDragEnd:H,children:A.jsx(Qj,{droppableId:"tracker-list",children:N=>A.jsxs("div",{...N.droppableProps,ref:N.innerRef,className:"space-y-2 pb-2",children:[t.map((z,M)=>A.jsx(Dj,{draggableId:z.id,index:M,children:(V,P)=>A.jsx("div",{ref:V.innerRef,...V.draggableProps,style:{...V.draggableProps.style},className:"outline-none border-none",children:A.jsx("div",{...V.dragHandleProps,className:`
                                                        group relative rounded-xl transition-all duration-200 ease-out
                                                        ${P.isDragging?o?"bg-black shadow-zinc-800":"bg-white dark:bg-zinc-800":"bg-transparent"} 
                                                        ${P.isDragging?"shadow-2xl z-50 scale-[1.02]":"shadow-none"}
                                                    `,children:A.jsx("div",{className:"transition-all duration-200",children:A.jsx(tB,{tracker:z,onClick:()=>q(z.id),isActive:d===z.id,theme:r,isAmoled:o})})})})},z.id)),N.placeholder]})})})}),A.jsx("div",{className:"px-4 pb-2",children:A.jsx(UF,{})}),A.jsxs("div",{className:`p-4 border-t flex items-center gap-2 ${o?"border-zinc-800":"border-zinc-300 dark:border-zinc-600"}`,children:[A.jsxs("button",{onClick:()=>{C(!0),O(!1)},className:`flex-1 flex items-center space-x-3 px-3 py-3 rounded-xl transition-colors text-left group ${o?"hover:bg-zinc-900":"hover:bg-zinc-200 dark:hover:bg-zinc-700"}`,children:[A.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center shrink-0 overflow-hidden ${o?"bg-zinc-900":"bg-zinc-200 dark:bg-zinc-700"}`,children:n?.photoURL?A.jsx("img",{src:n.photoURL,alt:"Avatar",className:"w-full h-full object-cover"}):A.jsx(pI,{className:"w-4 h-4 text-zinc-500"})}),A.jsxs("div",{className:"flex-1 min-w-0",children:[A.jsx("p",{className:`text-sm font-medium truncate ${o?"text-white":"text-zinc-900 dark:text-zinc-100"}`,children:n.displayName||"User"}),A.jsx("p",{className:"text-xs text-zinc-600 dark:text-zinc-500",children:"Settings"})]}),A.jsx(hL,{className:"w-4 h-4 text-zinc-400 group-hover:text-zinc-600 dark:group-hover:text-zinc-300 transition-colors"})]}),A.jsx("button",{onClick:F,className:`p-3 rounded-xl transition-colors ${o?"hover:bg-zinc-900 text-zinc-400 hover:text-white":"hover:bg-zinc-200 dark:hover:bg-zinc-700 text-zinc-600 dark:text-zinc-400 hover:text-zinc-900 dark:hover:text-white"}`,children:l==="light"?A.jsx(dI,{className:"w-5 h-5"}):A.jsx(mL,{className:"w-5 h-5"})})]})]}),A.jsxs("main",{className:"flex-1 flex flex-col h-full overflow-hidden relative",children:[A.jsx("div",{className:`md:hidden p-4 flex items-center justify-between sticky top-0 z-10 backdrop-blur-md border-b ${I}`,children:A.jsxs("div",{className:"flex items-center gap-2",children:[A.jsx("button",{onClick:()=>O(!0),className:"p-2 -ml-2 rounded-lg text-zinc-600 dark:text-zinc-300",children:A.jsx(tL,{className:"w-6 h-6"})}),A.jsx("span",{className:"font-bold text-lg",children:"TrackIt"})]})}),A.jsx(LF,{tracker:L,onEdit:()=>v(!0)})]}),A.jsx(I1,{isOpen:p,onClose:()=>y(!1),nextOrder:t.length}),A.jsx(I1,{isOpen:_,onClose:()=>v(!1),editTracker:L}),A.jsx(jF,{isOpen:S,onClose:()=>C(!1)})]})};function HF(){const{user:n}=cr();return n?A.jsx(FF,{}):A.jsx(NL,{})}uN.createRoot(document.getElementById("root")).render(A.jsx(Ce.StrictMode,{children:A.jsx(RL,{children:A.jsxs(Zj,{children:[" ",A.jsx(HF,{})]})})}));"serviceWorker"in navigator&&window.addEventListener("load",()=>{navigator.serviceWorker.register("/TrackIt/service-worker.js").then(n=>{console.log("SW registered: ",n)}).catch(n=>{console.log("SW registration failed: ",n)})});
